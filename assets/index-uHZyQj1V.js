var l0=s=>{throw TypeError(s)};var rp=(s,t,e)=>t.has(s)||l0("Cannot "+e);var be=(s,t,e)=>(rp(s,t,"read from private field"),e?e.call(s):t.get(s)),Di=(s,t,e)=>t.has(s)?l0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),En=(s,t,e,n)=>(rp(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),Li=(s,t,e)=>(rp(s,t,"access private method"),e);var c0=(s,t,e,n)=>({set _(r){En(s,t,r,e)},get _(){return be(s,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vd(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function CE(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var e=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var r=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return s[n]}})}),e}var ap={exports:{}},nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function RE(){if(u0)return nl;u0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:s,type:n,key:l,ref:r!==void 0?r:null,props:o}}return nl.Fragment=t,nl.jsx=e,nl.jsxs=e,nl}var d0;function OE(){return d0||(d0=1,ap.exports=RE()),ap.exports}var O=OE(),op={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function ME(){if(h0)return qt;h0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=g&&S[g]||S["@@iterator"],typeof S=="function"?S:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function E(S,B,$){this.props=S,this.context=B,this.refs=b,this.updater=$||_}E.prototype.isReactComponent={},E.prototype.setState=function(S,B){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,B,"setState")},E.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function A(){}A.prototype=E.prototype;function C(S,B,$){this.props=S,this.context=B,this.refs=b,this.updater=$||_}var M=C.prototype=new A;M.constructor=C,w(M,E.prototype),M.isPureReactComponent=!0;var F=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function k(S,B,$,Q,tt,ct){return $=ct.ref,{$$typeof:s,type:S,key:B,ref:$!==void 0?$:null,props:ct}}function N(S,B){return k(S.type,B,void 0,void 0,void 0,S.props)}function j(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function L(S){var B={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function($){return B[$]})}var I=/\/+/g;function X(S,B){return typeof S=="object"&&S!==null&&S.key!=null?L(""+S.key):B.toString(36)}function H(){}function Y(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(H,H):(S.status="pending",S.then(function(B){S.status==="pending"&&(S.status="fulfilled",S.value=B)},function(B){S.status==="pending"&&(S.status="rejected",S.reason=B)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function K(S,B,$,Q,tt){var ct=typeof S;(ct==="undefined"||ct==="boolean")&&(S=null);var at=!1;if(S===null)at=!0;else switch(ct){case"bigint":case"string":case"number":at=!0;break;case"object":switch(S.$$typeof){case s:case t:at=!0;break;case p:return at=S._init,K(at(S._payload),B,$,Q,tt)}}if(at)return tt=tt(S),at=Q===""?"."+X(S,0):Q,F(tt)?($="",at!=null&&($=at.replace(I,"$&/")+"/"),K(tt,B,$,"",function(xt){return xt})):tt!=null&&(j(tt)&&(tt=N(tt,$+(tt.key==null||S&&S.key===tt.key?"":(""+tt.key).replace(I,"$&/")+"/")+at)),B.push(tt)),1;at=0;var dt=Q===""?".":Q+":";if(F(S))for(var yt=0;yt<S.length;yt++)Q=S[yt],ct=dt+X(Q,yt),at+=K(Q,B,$,ct,tt);else if(yt=v(S),typeof yt=="function")for(S=yt.call(S),yt=0;!(Q=S.next()).done;)Q=Q.value,ct=dt+X(Q,yt++),at+=K(Q,B,$,ct,tt);else if(ct==="object"){if(typeof S.then=="function")return K(Y(S),B,$,Q,tt);throw B=String(S),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return at}function z(S,B,$){if(S==null)return S;var Q=[],tt=0;return K(S,Q,"","",function(ct){return B.call($,ct,tt++)}),Q}function x(S){if(S._status===-1){var B=S._result;B=B(),B.then(function($){(S._status===0||S._status===-1)&&(S._status=1,S._result=$)},function($){(S._status===0||S._status===-1)&&(S._status=2,S._result=$)}),S._status===-1&&(S._status=0,S._result=B)}if(S._status===1)return S._result.default;throw S._result}var st=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function V(){}return qt.Children={map:z,forEach:function(S,B,$){z(S,function(){B.apply(this,arguments)},$)},count:function(S){var B=0;return z(S,function(){B++}),B},toArray:function(S){return z(S,function(B){return B})||[]},only:function(S){if(!j(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},qt.Component=E,qt.Fragment=e,qt.Profiler=r,qt.PureComponent=C,qt.StrictMode=n,qt.Suspense=d,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,qt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return T.H.useMemoCache(S)}},qt.cache=function(S){return function(){return S.apply(null,arguments)}},qt.cloneElement=function(S,B,$){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var Q=w({},S.props),tt=S.key,ct=void 0;if(B!=null)for(at in B.ref!==void 0&&(ct=void 0),B.key!==void 0&&(tt=""+B.key),B)!D.call(B,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&B.ref===void 0||(Q[at]=B[at]);var at=arguments.length-2;if(at===1)Q.children=$;else if(1<at){for(var dt=Array(at),yt=0;yt<at;yt++)dt[yt]=arguments[yt+2];Q.children=dt}return k(S.type,tt,void 0,void 0,ct,Q)},qt.createContext=function(S){return S={$$typeof:l,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},qt.createElement=function(S,B,$){var Q,tt={},ct=null;if(B!=null)for(Q in B.key!==void 0&&(ct=""+B.key),B)D.call(B,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(tt[Q]=B[Q]);var at=arguments.length-2;if(at===1)tt.children=$;else if(1<at){for(var dt=Array(at),yt=0;yt<at;yt++)dt[yt]=arguments[yt+2];tt.children=dt}if(S&&S.defaultProps)for(Q in at=S.defaultProps,at)tt[Q]===void 0&&(tt[Q]=at[Q]);return k(S,ct,void 0,void 0,null,tt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(S){return{$$typeof:u,render:S}},qt.isValidElement=j,qt.lazy=function(S){return{$$typeof:p,_payload:{_status:-1,_result:S},_init:x}},qt.memo=function(S,B){return{$$typeof:f,type:S,compare:B===void 0?null:B}},qt.startTransition=function(S){var B=T.T,$={};T.T=$;try{var Q=S(),tt=T.S;tt!==null&&tt($,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,st)}catch(ct){st(ct)}finally{T.T=B}},qt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},qt.use=function(S){return T.H.use(S)},qt.useActionState=function(S,B,$){return T.H.useActionState(S,B,$)},qt.useCallback=function(S,B){return T.H.useCallback(S,B)},qt.useContext=function(S){return T.H.useContext(S)},qt.useDebugValue=function(){},qt.useDeferredValue=function(S,B){return T.H.useDeferredValue(S,B)},qt.useEffect=function(S,B,$){var Q=T.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(S,B)},qt.useId=function(){return T.H.useId()},qt.useImperativeHandle=function(S,B,$){return T.H.useImperativeHandle(S,B,$)},qt.useInsertionEffect=function(S,B){return T.H.useInsertionEffect(S,B)},qt.useLayoutEffect=function(S,B){return T.H.useLayoutEffect(S,B)},qt.useMemo=function(S,B){return T.H.useMemo(S,B)},qt.useOptimistic=function(S,B){return T.H.useOptimistic(S,B)},qt.useReducer=function(S,B,$){return T.H.useReducer(S,B,$)},qt.useRef=function(S){return T.H.useRef(S)},qt.useState=function(S){return T.H.useState(S)},qt.useSyncExternalStore=function(S,B,$){return T.H.useSyncExternalStore(S,B,$)},qt.useTransition=function(){return T.H.useTransition()},qt.version="19.1.1",qt}var f0;function Si(){return f0||(f0=1,op.exports=ME()),op.exports}var U=Si();const zt=vd(U);var lp={exports:{}},il={},cp={exports:{}},up={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function kE(){return p0||(p0=1,(function(s){function t(z,x){var st=z.length;z.push(x);t:for(;0<st;){var V=st-1>>>1,S=z[V];if(0<r(S,x))z[V]=x,z[st]=S,st=V;else break t}}function e(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var x=z[0],st=z.pop();if(st!==x){z[0]=st;t:for(var V=0,S=z.length,B=S>>>1;V<B;){var $=2*(V+1)-1,Q=z[$],tt=$+1,ct=z[tt];if(0>r(Q,st))tt<S&&0>r(ct,Q)?(z[V]=ct,z[tt]=st,V=tt):(z[V]=Q,z[$]=st,V=$);else if(tt<S&&0>r(ct,st))z[V]=ct,z[tt]=st,V=tt;else break t}}return x}function r(z,x){var st=z.sortIndex-x.sortIndex;return st!==0?st:z.id-x.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();s.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,g=null,v=3,_=!1,w=!1,b=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function F(z){for(var x=e(f);x!==null;){if(x.callback===null)n(f);else if(x.startTime<=z)n(f),x.sortIndex=x.expirationTime,t(d,x);else break;x=e(f)}}function T(z){if(b=!1,F(z),!w)if(e(d)!==null)w=!0,D||(D=!0,X());else{var x=e(f);x!==null&&K(T,x.startTime-z)}}var D=!1,k=-1,N=5,j=-1;function L(){return E?!0:!(s.unstable_now()-j<N)}function I(){if(E=!1,D){var z=s.unstable_now();j=z;var x=!0;try{t:{w=!1,b&&(b=!1,C(k),k=-1),_=!0;var st=v;try{e:{for(F(z),g=e(d);g!==null&&!(g.expirationTime>z&&L());){var V=g.callback;if(typeof V=="function"){g.callback=null,v=g.priorityLevel;var S=V(g.expirationTime<=z);if(z=s.unstable_now(),typeof S=="function"){g.callback=S,F(z),x=!0;break e}g===e(d)&&n(d),F(z)}else n(d);g=e(d)}if(g!==null)x=!0;else{var B=e(f);B!==null&&K(T,B.startTime-z),x=!1}}break t}finally{g=null,v=st,_=!1}x=void 0}}finally{x?X():D=!1}}}var X;if(typeof M=="function")X=function(){M(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=I,X=function(){Y.postMessage(null)}}else X=function(){A(I,0)};function K(z,x){k=A(function(){z(s.unstable_now())},x)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(z){switch(v){case 1:case 2:case 3:var x=3;break;default:x=v}var st=v;v=x;try{return z()}finally{v=st}},s.unstable_requestPaint=function(){E=!0},s.unstable_runWithPriority=function(z,x){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var st=v;v=z;try{return x()}finally{v=st}},s.unstable_scheduleCallback=function(z,x,st){var V=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?V+st:V):st=V,z){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=st+S,z={id:p++,callback:x,priorityLevel:z,startTime:st,expirationTime:S,sortIndex:-1},st>V?(z.sortIndex=st,t(f,z),e(d)===null&&z===e(f)&&(b?(C(k),k=-1):b=!0,K(T,st-V))):(z.sortIndex=S,t(d,z),w||_||(w=!0,D||(D=!0,X()))),z},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(z){var x=v;return function(){var st=v;v=x;try{return z.apply(this,arguments)}finally{v=st}}}})(up)),up}var m0;function DE(){return m0||(m0=1,cp.exports=kE()),cp.exports}var dp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function LE(){if(g0)return ln;g0=1;var s=Si();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ln.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},ln.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},ln.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},ln.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},ln.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&n.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ln.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},ln.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ln.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},ln.requestFormReset=function(d){n.d.r(d)},ln.unstable_batchedUpdates=function(d,f){return d(f)},ln.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var y0;function NE(){if(y0)return dp.exports;y0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),dp.exports=LE(),dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function PE(){if(v0)return il;v0=1;var s=DE(),t=Si(),e=NE();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(n(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,h=a;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return u(m),i;if(y===h)return u(m),a;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=m,h=y;else{for(var R=!1,P=m.child;P;){if(P===c){R=!0,c=m,h=y;break}if(P===h){R=!0,h=m,c=y;break}P=P.sibling}if(!R){for(P=y.child;P;){if(P===c){R=!0,c=y,h=m;break}if(P===h){R=!0,h=y,c=m;break}P=P.sibling}if(!R)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function f(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=f(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function Y(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case b:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case M:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case F:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return a=i.displayName||null,a!==null?a:Y(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return Y(i(a))}catch{}}return null}var K=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},V=[],S=-1;function B(i){return{current:i}}function $(i){0>S||(i.current=V[S],V[S]=null,S--)}function Q(i,a){S++,V[S]=i.current,i.current=a}var tt=B(null),ct=B(null),at=B(null),dt=B(null);function yt(i,a){switch(Q(at,a),Q(ct,i),Q(tt,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?jb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=jb(a),i=Bb(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(tt),Q(tt,i)}function xt(){$(tt),$(ct),$(at)}function St(i){i.memoizedState!==null&&Q(dt,i);var a=tt.current,c=Bb(a,i.type);a!==c&&(Q(ct,i),Q(tt,c))}function It(i){ct.current===i&&($(tt),$(ct)),dt.current===i&&($(dt),Qo._currentValue=st)}var Ft=Object.prototype.hasOwnProperty,bt=s.unstable_scheduleCallback,_t=s.unstable_cancelCallback,kt=s.unstable_shouldYield,Vt=s.unstable_requestPaint,Ot=s.unstable_now,se=s.unstable_getCurrentPriorityLevel,oe=s.unstable_ImmediatePriority,G=s.unstable_UserBlockingPriority,J=s.unstable_NormalPriority,lt=s.unstable_LowPriority,gt=s.unstable_IdlePriority,mt=s.log,pt=s.unstable_setDisableYieldValue,Et=null,Rt=null;function jt(i){if(typeof mt=="function"&&pt(i),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Et,i)}catch{}}var Zt=Math.clz32?Math.clz32:Gd,Ei=Math.log,Ti=Math.LN2;function Gd(i){return i>>>=0,i===0?32:31-(Ei(i)/Ti|0)|0}var bs=256,_s=4194304;function $i(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Js(i,a,c){var h=i.pendingLanes;if(h===0)return 0;var m=0,y=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var P=h&134217727;return P!==0?(h=P&~y,h!==0?m=$i(h):(R&=P,R!==0?m=$i(R):c||(c=P&~i,c!==0&&(m=$i(c))))):(P=h&~y,P!==0?m=$i(P):R!==0?m=$i(R):c||(c=h&~i,c!==0&&(m=$i(c)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:m}function tr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function rc(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bg(){var i=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),i}function _g(){var i=_s;return _s<<=1,(_s&62914560)===0&&(_s=4194304),i}function Xd(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function ao(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mA(i,a,c,h,m,y){var R=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var P=i.entanglements,q=i.expirationTimes,nt=i.hiddenUpdates;for(c=R&~c;0<c;){var ut=31-Zt(c),ft=1<<ut;P[ut]=0,q[ut]=-1;var it=nt[ut];if(it!==null)for(nt[ut]=null,ut=0;ut<it.length;ut++){var rt=it[ut];rt!==null&&(rt.lane&=-536870913)}c&=~ft}h!==0&&Sg(i,h,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(R&~a))}function Sg(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Zt(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|c&4194090}function wg(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var h=31-Zt(c),m=1<<h;m&a|i[h]&a&&(i[h]|=a),c&=~m}}function Yd(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Wd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ag(){var i=x.p;return i!==0?i:(i=window.event,i===void 0?32:n0(i.type))}function gA(i,a){var c=x.p;try{return x.p=i,a()}finally{x.p=c}}var Ss=Math.random().toString(36).slice(2),an="__reactFiber$"+Ss,_n="__reactProps$"+Ss,$r="__reactContainer$"+Ss,Kd="__reactEvents$"+Ss,yA="__reactListeners$"+Ss,vA="__reactHandles$"+Ss,xg="__reactResources$"+Ss,oo="__reactMarker$"+Ss;function Qd(i){delete i[an],delete i[_n],delete i[Kd],delete i[yA],delete i[vA]}function qr(i){var a=i[an];if(a)return a;for(var c=i.parentNode;c;){if(a=c[$r]||c[an]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Ub(i);i!==null;){if(c=i[an])return c;i=Ub(i)}return a}i=c,c=i.parentNode}return null}function Gr(i){if(i=i[an]||i[$r]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function lo(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function Xr(i){var a=i[xg];return a||(a=i[xg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ve(i){i[oo]=!0}var Eg=new Set,Tg={};function er(i,a){Yr(i,a),Yr(i+"Capture",a)}function Yr(i,a){for(Tg[i]=a,i=0;i<a.length;i++)Eg.add(a[i])}var bA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cg={},Rg={};function _A(i){return Ft.call(Rg,i)?!0:Ft.call(Cg,i)?!1:bA.test(i)?Rg[i]=!0:(Cg[i]=!0,!1)}function ac(i,a,c){if(_A(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function oc(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function qi(i,a,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+h)}}var Zd,Og;function Wr(i){if(Zd===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Zd=a&&a[1]||"",Og=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zd+i+Og}var Jd=!1;function th(i,a){if(!i||Jd)return"";Jd=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(rt){var it=rt}Reflect.construct(i,[],ft)}else{try{ft.call()}catch(rt){it=rt}i.call(ft.prototype)}}else{try{throw Error()}catch(rt){it=rt}(ft=i())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(rt){if(rt&&it&&typeof rt.stack=="string")return[rt.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),R=y[0],P=y[1];if(R&&P){var q=R.split(`
`),nt=P.split(`
`);for(m=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;m<nt.length&&!nt[m].includes("DetermineComponentFrameRoot");)m++;if(h===q.length||m===nt.length)for(h=q.length-1,m=nt.length-1;1<=h&&0<=m&&q[h]!==nt[m];)m--;for(;1<=h&&0<=m;h--,m--)if(q[h]!==nt[m]){if(h!==1||m!==1)do if(h--,m--,0>m||q[h]!==nt[m]){var ut=`
`+q[h].replace(" at new "," at ");return i.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",i.displayName)),ut}while(1<=h&&0<=m);break}}}finally{Jd=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Wr(c):""}function SA(i){switch(i.tag){case 26:case 27:case 5:return Wr(i.type);case 16:return Wr("Lazy");case 13:return Wr("Suspense");case 19:return Wr("SuspenseList");case 0:case 15:return th(i.type,!1);case 11:return th(i.type.render,!1);case 1:return th(i.type,!0);case 31:return Wr("Activity");default:return""}}function Mg(i){try{var a="";do a+=SA(i),i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function kg(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wA(i){var a=kg(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(R){h=""+R,y.call(this,R)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function lc(i){i._valueTracker||(i._valueTracker=wA(i))}function Dg(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return i&&(h=kg(i)?i.checked?"true":"false":i.value),i=h,i!==c?(a.setValue(i),!0):!1}function cc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var AA=/[\n"\\]/g;function Yn(i){return i.replace(AA,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function eh(i,a,c,h,m,y,R,P){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Xn(a)):i.value!==""+Xn(a)&&(i.value=""+Xn(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?nh(i,R,Xn(a)):c!=null?nh(i,R,Xn(c)):h!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Xn(P):i.removeAttribute("name")}function Lg(i,a,c,h,m,y,R,P){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+Xn(c):"",a=a!=null?""+Xn(a):c,P||a===i.value||(i.value=a),i.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=P?i.checked:!!h,i.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function nh(i,a,c){a==="number"&&cc(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Kr(i,a,c,h){if(i=i.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=a.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Xn(c),a=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function Ng(i,a,c){if(a!=null&&(a=""+Xn(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+Xn(c):""}function Pg(i,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(n(92));if(K(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Xn(a),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h)}function Qr(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var xA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jg(i,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,c):typeof c!="number"||c===0||xA.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function Bg(i,a,c){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&jg(i,m,h)}else for(var y in a)a.hasOwnProperty(y)&&jg(i,y,a[y])}function ih(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(i){return TA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var sh=null;function rh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zr=null,Jr=null;function Fg(i){var a=Gr(i);if(a&&(i=a.stateNode)){var c=i[_n]||null;t:switch(i=a.stateNode,a.type){case"input":if(eh(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Yn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==i&&h.form===i.form){var m=h[_n]||null;if(!m)throw Error(n(90));eh(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===i.form&&Dg(h)}break t;case"textarea":Ng(i,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Kr(i,!!c.multiple,a,!1)}}}var ah=!1;function Ig(i,a,c){if(ah)return i(a,c);ah=!0;try{var h=i(a);return h}finally{if(ah=!1,(Zr!==null||Jr!==null)&&(Wc(),Zr&&(a=Zr,i=Jr,Jr=Zr=null,Fg(a),i)))for(a=0;a<i.length;a++)Fg(i[a])}}function co(i,a){var c=i.stateNode;if(c===null)return null;var h=c[_n]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oh=!1;if(Gi)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){oh=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{oh=!1}var ws=null,lh=null,dc=null;function zg(){if(dc)return dc;var i,a=lh,c=a.length,h,m="value"in ws?ws.value:ws.textContent,y=m.length;for(i=0;i<c&&a[i]===m[i];i++);var R=c-i;for(h=1;h<=R&&a[c-h]===m[y-h];h++);return dc=m.slice(i,1<h?1-h:void 0)}function hc(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function fc(){return!0}function Ug(){return!1}function Sn(i){function a(c,h,m,y,R){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(c=i[P],this[P]=c?c(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?fc:Ug,this.isPropagationStopped=Ug,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),a}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=Sn(nr),ho=p({},nr,{view:0,detail:0}),CA=Sn(ho),ch,uh,fo,mc=p({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fo&&(fo&&i.type==="mousemove"?(ch=i.screenX-fo.screenX,uh=i.screenY-fo.screenY):uh=ch=0,fo=i),ch)},movementY:function(i){return"movementY"in i?i.movementY:uh}}),Hg=Sn(mc),RA=p({},mc,{dataTransfer:0}),OA=Sn(RA),MA=p({},ho,{relatedTarget:0}),dh=Sn(MA),kA=p({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),DA=Sn(kA),LA=p({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),NA=Sn(LA),PA=p({},nr,{data:0}),Vg=Sn(PA),jA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IA(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=FA[i])?!!a[i]:!1}function hh(){return IA}var zA=p({},ho,{key:function(i){if(i.key){var a=jA[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=hc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?BA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(i){return i.type==="keypress"?hc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?hc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),UA=Sn(zA),HA=p({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=Sn(HA),VA=p({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),$A=Sn(VA),qA=p({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),GA=Sn(qA),XA=p({},mc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),YA=Sn(XA),WA=p({},nr,{newState:0,oldState:0}),KA=Sn(WA),QA=[9,13,27,32],fh=Gi&&"CompositionEvent"in window,po=null;Gi&&"documentMode"in document&&(po=document.documentMode);var ZA=Gi&&"TextEvent"in window&&!po,qg=Gi&&(!fh||po&&8<po&&11>=po),Gg=" ",Xg=!1;function Yg(i,a){switch(i){case"keyup":return QA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ta=!1;function JA(i,a){switch(i){case"compositionend":return Wg(a);case"keypress":return a.which!==32?null:(Xg=!0,Gg);case"textInput":return i=a.data,i===Gg&&Xg?null:i;default:return null}}function tx(i,a){if(ta)return i==="compositionend"||!fh&&Yg(i,a)?(i=zg(),dc=lh=ws=null,ta=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return qg&&a.locale!=="ko"?null:a.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ex[i.type]:a==="textarea"}function Qg(i,a,c,h){Zr?Jr?Jr.push(h):Jr=[h]:Zr=h,a=eu(a,"onChange"),0<a.length&&(c=new pc("onChange","change",null,c,h),i.push({event:c,listeners:a}))}var mo=null,go=null;function nx(i){kb(i,0)}function gc(i){var a=lo(i);if(Dg(a))return i}function Zg(i,a){if(i==="change")return a}var Jg=!1;if(Gi){var ph;if(Gi){var mh="oninput"in document;if(!mh){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),mh=typeof ty.oninput=="function"}ph=mh}else ph=!1;Jg=ph&&(!document.documentMode||9<document.documentMode)}function ey(){mo&&(mo.detachEvent("onpropertychange",ny),go=mo=null)}function ny(i){if(i.propertyName==="value"&&gc(go)){var a=[];Qg(a,go,i,rh(i)),Ig(nx,a)}}function ix(i,a,c){i==="focusin"?(ey(),mo=a,go=c,mo.attachEvent("onpropertychange",ny)):i==="focusout"&&ey()}function sx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gc(go)}function rx(i,a){if(i==="click")return gc(a)}function ax(i,a){if(i==="input"||i==="change")return gc(a)}function ox(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Nn=typeof Object.is=="function"?Object.is:ox;function yo(i,a){if(Nn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!Ft.call(a,m)||!Nn(i[m],a[m]))return!1}return!0}function iy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sy(i,a){var c=iy(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=a&&h>=a)return{node:c,offset:a-i};i=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=iy(c)}}function ry(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ry(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ay(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=cc(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=cc(i.document)}return a}function gh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var lx=Gi&&"documentMode"in document&&11>=document.documentMode,ea=null,yh=null,vo=null,vh=!1;function oy(i,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vh||ea==null||ea!==cc(h)||(h=ea,"selectionStart"in h&&gh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),vo&&yo(vo,h)||(vo=h,h=eu(yh,"onSelect"),0<h.length&&(a=new pc("onSelect","select",null,a,c),i.push({event:a,listeners:h}),a.target=ea)))}function ir(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var na={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},bh={},ly={};Gi&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function sr(i){if(bh[i])return bh[i];if(!na[i])return i;var a=na[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in ly)return bh[i]=a[c];return i}var cy=sr("animationend"),uy=sr("animationiteration"),dy=sr("animationstart"),cx=sr("transitionrun"),ux=sr("transitionstart"),dx=sr("transitioncancel"),hy=sr("transitionend"),fy=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function li(i,a){fy.set(i,a),er(a,[i])}var py=new WeakMap;function Wn(i,a){if(typeof i=="object"&&i!==null){var c=py.get(i);return c!==void 0?c:(a={value:i,source:a,stack:Mg(a)},py.set(i,a),a)}return{value:i,source:a,stack:Mg(a)}}var Kn=[],ia=0,Sh=0;function yc(){for(var i=ia,a=Sh=ia=0;a<i;){var c=Kn[a];Kn[a++]=null;var h=Kn[a];Kn[a++]=null;var m=Kn[a];Kn[a++]=null;var y=Kn[a];if(Kn[a++]=null,h!==null&&m!==null){var R=h.pending;R===null?m.next=m:(m.next=R.next,R.next=m),h.pending=m}y!==0&&my(c,m,y)}}function vc(i,a,c,h){Kn[ia++]=i,Kn[ia++]=a,Kn[ia++]=c,Kn[ia++]=h,Sh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function wh(i,a,c,h){return vc(i,a,c,h),bc(i)}function sa(i,a){return vc(i,null,null,a),bc(i)}function my(i,a,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var m=!1,y=i.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&a!==null&&(m=31-Zt(c),i=y.hiddenUpdates,h=i[m],h===null?i[m]=[a]:h.push(a),a.lane=c|536870912),y):null}function bc(i){if(50<Vo)throw Vo=0,Of=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var ra={};function hx(i,a,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,a,c,h){return new hx(i,a,c,h)}function Ah(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xi(i,a){var c=i.alternate;return c===null?(c=Pn(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function gy(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function _c(i,a,c,h,m,y){var R=0;if(h=i,typeof i=="function")Ah(i)&&(R=1);else if(typeof i=="string")R=pE(i,c,tt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case j:return i=Pn(31,c,a,m),i.elementType=j,i.lanes=y,i;case w:return rr(c.children,m,y,a);case b:R=8,m|=24;break;case E:return i=Pn(12,c,a,m|2),i.elementType=E,i.lanes=y,i;case T:return i=Pn(13,c,a,m),i.elementType=T,i.lanes=y,i;case D:return i=Pn(19,c,a,m),i.elementType=D,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case M:R=10;break t;case C:R=9;break t;case F:R=11;break t;case k:R=14;break t;case N:R=16,h=null;break t}R=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return a=Pn(R,c,a,m),a.elementType=i,a.type=h,a.lanes=y,a}function rr(i,a,c,h){return i=Pn(7,i,h,a),i.lanes=c,i}function xh(i,a,c){return i=Pn(6,i,null,a),i.lanes=c,i}function Eh(i,a,c){return a=Pn(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var aa=[],oa=0,Sc=null,wc=0,Qn=[],Zn=0,ar=null,Yi=1,Wi="";function or(i,a){aa[oa++]=wc,aa[oa++]=Sc,Sc=i,wc=a}function yy(i,a,c){Qn[Zn++]=Yi,Qn[Zn++]=Wi,Qn[Zn++]=ar,ar=i;var h=Yi;i=Wi;var m=32-Zt(h)-1;h&=~(1<<m),c+=1;var y=32-Zt(a)+m;if(30<y){var R=m-m%5;y=(h&(1<<R)-1).toString(32),h>>=R,m-=R,Yi=1<<32-Zt(a)+m|c<<m|h,Wi=y+i}else Yi=1<<y|c<<m|h,Wi=i}function Th(i){i.return!==null&&(or(i,1),yy(i,1,0))}function Ch(i){for(;i===Sc;)Sc=aa[--oa],aa[oa]=null,wc=aa[--oa],aa[oa]=null;for(;i===ar;)ar=Qn[--Zn],Qn[Zn]=null,Wi=Qn[--Zn],Qn[Zn]=null,Yi=Qn[--Zn],Qn[Zn]=null}var fn=null,Ce=null,ne=!1,lr=null,Ci=!1,Rh=Error(n(519));function cr(i){var a=Error(n(418,""));throw So(Wn(a,i)),Rh}function vy(i){var a=i.stateNode,c=i.type,h=i.memoizedProps;switch(a[an]=i,a[_n]=h,c){case"dialog":Kt("cancel",a),Kt("close",a);break;case"iframe":case"object":case"embed":Kt("load",a);break;case"video":case"audio":for(c=0;c<qo.length;c++)Kt(qo[c],a);break;case"source":Kt("error",a);break;case"img":case"image":case"link":Kt("error",a),Kt("load",a);break;case"details":Kt("toggle",a);break;case"input":Kt("invalid",a),Lg(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),lc(a);break;case"select":Kt("invalid",a);break;case"textarea":Kt("invalid",a),Pg(a,h.value,h.defaultValue,h.children),lc(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Pb(a.textContent,c)?(h.popover!=null&&(Kt("beforetoggle",a),Kt("toggle",a)),h.onScroll!=null&&Kt("scroll",a),h.onScrollEnd!=null&&Kt("scrollend",a),h.onClick!=null&&(a.onclick=nu),a=!0):a=!1,a||cr(i)}function by(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:fn=fn.return}}function bo(i){if(i!==fn)return!1;if(!ne)return by(i),ne=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||qf(i.type,i.memoizedProps)),c=!c),c&&Ce&&cr(i),by(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(a===0){Ce=ui(i.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;i=i.nextSibling}Ce=null}}else a===27?(a=Ce,Fs(i.type)?(i=Wf,Wf=null,Ce=i):Ce=a):Ce=fn?ui(i.stateNode.nextSibling):null;return!0}function _o(){Ce=fn=null,ne=!1}function _y(){var i=lr;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),lr=null),i}function So(i){lr===null?lr=[i]:lr.push(i)}var Oh=B(null),ur=null,Ki=null;function As(i,a,c){Q(Oh,a._currentValue),a._currentValue=c}function Qi(i){i._currentValue=Oh.current,$(Oh)}function Mh(i,a,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===c)break;i=i.return}}function kh(i,a,c,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var R=m.child;y=y.firstContext;t:for(;y!==null;){var P=y;y=m;for(var q=0;q<a.length;q++)if(P.context===a[q]){y.lanes|=c,P=y.alternate,P!==null&&(P.lanes|=c),Mh(y.return,c,i),h||(R=null);break t}y=P.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(n(341));R.lanes|=c,y=R.alternate,y!==null&&(y.lanes|=c),Mh(R,c,i),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===i){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function wo(i,a,c,h){i=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(n(387));if(R=R.memoizedProps,R!==null){var P=m.type;Nn(m.pendingProps.value,R.value)||(i!==null?i.push(P):i=[P])}}else if(m===dt.current){if(R=m.alternate,R===null)throw Error(n(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Qo):i=[Qo])}m=m.return}i!==null&&kh(a,i,c,h),a.flags|=262144}function Ac(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function dr(i){ur=i,Ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function on(i){return Sy(ur,i)}function xc(i,a){return ur===null&&dr(i),Sy(i,a)}function Sy(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Ki===null){if(i===null)throw Error(n(308));Ki=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ki=Ki.next=a;return c}var fx=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},px=s.unstable_scheduleCallback,mx=s.unstable_NormalPriority,Ue={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new fx,data:new Map,refCount:0}}function Ao(i){i.refCount--,i.refCount===0&&px(mx,function(){i.controller.abort()})}var xo=null,Lh=0,la=0,ca=null;function gx(i,a){if(xo===null){var c=xo=[];Lh=0,la=jf(),ca={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Lh++,a.then(wy,wy),a}function wy(){if(--Lh===0&&xo!==null){ca!==null&&(ca.status="fulfilled");var i=xo;xo=null,la=0,ca=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function yx(i,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var Ay=z.S;z.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&gx(i,a),Ay!==null&&Ay(i,a)};var hr=B(null);function Nh(){var i=hr.current;return i!==null?i:ge.pooledCache}function Ec(i,a){a===null?Q(hr,hr.current):Q(hr,a.pool)}function xy(){var i=Nh();return i===null?null:{parent:Ue._currentValue,pool:i}}var Eo=Error(n(460)),Ey=Error(n(474)),Tc=Error(n(542)),Ph={then:function(){}};function Ty(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Cc(){}function Cy(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(Cc,Cc),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Oy(i),i;default:if(typeof a.status=="string")a.then(Cc,Cc);else{if(i=ge,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Oy(i),i}throw To=a,Eo}}var To=null;function Ry(){if(To===null)throw Error(n(459));var i=To;return To=null,i}function Oy(i){if(i===Eo||i===Tc)throw Error(n(483))}var xs=!1;function jh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Es(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ts(i,a,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(re&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=bc(i),my(i,null,c),a}return vc(i,h,a,c),bc(i)}function Co(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,wg(i,c)}}function Fh(i,a){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=R:y=y.next=R,c=c.next}while(c!==null);y===null?m=y=a:y=y.next=a}else m=y=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var Ih=!1;function Ro(){if(Ih){var i=ca;if(i!==null)throw i}}function Oo(i,a,c,h){Ih=!1;var m=i.updateQueue;xs=!1;var y=m.firstBaseUpdate,R=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var q=P,nt=q.next;q.next=null,R===null?y=nt:R.next=nt,R=q;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,P=ut.lastBaseUpdate,P!==R&&(P===null?ut.firstBaseUpdate=nt:P.next=nt,ut.lastBaseUpdate=q))}if(y!==null){var ft=m.baseState;R=0,ut=nt=q=null,P=y;do{var it=P.lane&-536870913,rt=it!==P.lane;if(rt?(te&it)===it:(h&it)===it){it!==0&&it===la&&(Ih=!0),ut!==null&&(ut=ut.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var Bt=i,Lt=P;it=a;var ue=c;switch(Lt.tag){case 1:if(Bt=Lt.payload,typeof Bt=="function"){ft=Bt.call(ue,ft,it);break t}ft=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=Lt.payload,it=typeof Bt=="function"?Bt.call(ue,ft,it):Bt,it==null)break t;ft=p({},ft,it);break t;case 2:xs=!0}}it=P.callback,it!==null&&(i.flags|=64,rt&&(i.flags|=8192),rt=m.callbacks,rt===null?m.callbacks=[it]:rt.push(it))}else rt={lane:it,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ut===null?(nt=ut=rt,q=ft):ut=ut.next=rt,R|=it;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;rt=P,P=rt.next,rt.next=null,m.lastBaseUpdate=rt,m.shared.pending=null}}while(!0);ut===null&&(q=ft),m.baseState=q,m.firstBaseUpdate=nt,m.lastBaseUpdate=ut,y===null&&(m.shared.lanes=0),Ns|=R,i.lanes=R,i.memoizedState=ft}}function My(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function ky(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)My(c[i],a)}var ua=B(null),Rc=B(0);function Dy(i,a){i=ss,Q(Rc,i),Q(ua,a),ss=i|a.baseLanes}function zh(){Q(Rc,ss),Q(ua,ua.current)}function Uh(){ss=Rc.current,$(ua),$(Rc)}var Cs=0,Xt=null,le=null,Ne=null,Oc=!1,da=!1,fr=!1,Mc=0,Mo=0,ha=null,vx=0;function Oe(){throw Error(n(321))}function Hh(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Nn(i[c],a[c]))return!1;return!0}function Vh(i,a,c,h,m,y){return Cs=y,Xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=i===null||i.memoizedState===null?mv:gv,fr=!1,y=c(h,m),fr=!1,da&&(y=Ny(a,c,h,m)),Ly(i),y}function Ly(i){z.H=jc;var a=le!==null&&le.next!==null;if(Cs=0,Ne=le=Xt=null,Oc=!1,Mo=0,ha=null,a)throw Error(n(300));i===null||$e||(i=i.dependencies,i!==null&&Ac(i)&&($e=!0))}function Ny(i,a,c,h){Xt=i;var m=0;do{if(da&&(ha=null),Mo=0,da=!1,25<=m)throw Error(n(301));if(m+=1,Ne=le=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=Ex,y=a(c,h)}while(da);return y}function bx(){var i=z.H,a=i.useState()[0];return a=typeof a.then=="function"?ko(a):a,i=i.useState()[0],(le!==null?le.memoizedState:null)!==i&&(Xt.flags|=1024),a}function $h(){var i=Mc!==0;return Mc=0,i}function qh(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function Gh(i){if(Oc){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Oc=!1}Cs=0,Ne=le=Xt=null,da=!1,Mo=Mc=0,ha=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Xt.memoizedState=Ne=i:Ne=Ne.next=i,Ne}function Pe(){if(le===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=le.next;var a=Ne===null?Xt.memoizedState:Ne.next;if(a!==null)Ne=a,le=i;else{if(i===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));le=i,i={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Ne===null?Xt.memoizedState=Ne=i:Ne=Ne.next=i}return Ne}function Xh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(i){var a=Mo;return Mo+=1,ha===null&&(ha=[]),i=Cy(ha,i,a),a=Xt,(Ne===null?a.memoizedState:Ne.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?mv:gv),i}function kc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ko(i);if(i.$$typeof===M)return on(i)}throw Error(n(438,String(i)))}function Yh(i){var a=null,c=Xt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Xt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Xh(),Xt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),h=0;h<i;h++)c[h]=L;return a.index++,c}function Zi(i,a){return typeof a=="function"?a(i):a}function Dc(i){var a=Pe();return Wh(a,le,i)}function Wh(i,a,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var m=i.baseQueue,y=h.pending;if(y!==null){if(m!==null){var R=m.next;m.next=y.next,y.next=R}a.baseQueue=m=y,h.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{a=m.next;var P=R=null,q=null,nt=a,ut=!1;do{var ft=nt.lane&-536870913;if(ft!==nt.lane?(te&ft)===ft:(Cs&ft)===ft){var it=nt.revertLane;if(it===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),ft===la&&(ut=!0);else if((Cs&it)===it){nt=nt.next,it===la&&(ut=!0);continue}else ft={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},q===null?(P=q=ft,R=y):q=q.next=ft,Xt.lanes|=it,Ns|=it;ft=nt.action,fr&&c(y,ft),y=nt.hasEagerState?nt.eagerState:c(y,ft)}else it={lane:ft,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},q===null?(P=q=it,R=y):q=q.next=it,Xt.lanes|=ft,Ns|=ft;nt=nt.next}while(nt!==null&&nt!==a);if(q===null?R=y:q.next=P,!Nn(y,i.memoizedState)&&($e=!0,ut&&(c=ca,c!==null)))throw c;i.memoizedState=y,i.baseState=R,i.baseQueue=q,h.lastRenderedState=y}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Kh(i){var a=Pe(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,m=c.pending,y=a.memoizedState;if(m!==null){c.pending=null;var R=m=m.next;do y=i(y,R.action),R=R.next;while(R!==m);Nn(y,a.memoizedState)||($e=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function Py(i,a,c){var h=Xt,m=Pe(),y=ne;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=a();var R=!Nn((le||m).memoizedState,c);R&&(m.memoizedState=c,$e=!0),m=m.queue;var P=Fy.bind(null,h,m,i);if(Do(2048,8,P,[i]),m.getSnapshot!==a||R||Ne!==null&&Ne.memoizedState.tag&1){if(h.flags|=2048,fa(9,Lc(),By.bind(null,h,m,c,a),null),ge===null)throw Error(n(349));y||(Cs&124)!==0||jy(h,a,c)}return c}function jy(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=Xt.updateQueue,a===null?(a=Xh(),Xt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function By(i,a,c,h){a.value=c,a.getSnapshot=h,Iy(a)&&zy(i)}function Fy(i,a,c){return c(function(){Iy(a)&&zy(i)})}function Iy(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Nn(i,c)}catch{return!0}}function zy(i){var a=sa(i,2);a!==null&&zn(a,i,2)}function Qh(i){var a=wn();if(typeof i=="function"){var c=i;if(i=c(),fr){jt(!0);try{c()}finally{jt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:i},a}function Uy(i,a,c,h){return i.baseState=c,Wh(i,le,typeof h=="function"?h:Zi)}function _x(i,a,c,h,m){if(Pc(i))throw Error(n(485));if(i=a.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};z.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,Hy(a,y)):(y.next=c.next,a.pending=c.next=y)}}function Hy(i,a){var c=a.action,h=a.payload,m=i.state;if(a.isTransition){var y=z.T,R={};z.T=R;try{var P=c(m,h),q=z.S;q!==null&&q(R,P),Vy(i,a,P)}catch(nt){Zh(i,a,nt)}finally{z.T=y}}else try{y=c(m,h),Vy(i,a,y)}catch(nt){Zh(i,a,nt)}}function Vy(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){$y(i,a,h)},function(h){return Zh(i,a,h)}):$y(i,a,c)}function $y(i,a,c){a.status="fulfilled",a.value=c,qy(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,Hy(i,c)))}function Zh(i,a,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,qy(a),a=a.next;while(a!==h)}i.action=null}function qy(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Gy(i,a){return a}function Xy(i,a){if(ne){var c=ge.formState;if(c!==null){t:{var h=Xt;if(ne){if(Ce){e:{for(var m=Ce,y=Ci;m.nodeType!==8;){if(!y){m=null;break e}if(m=ui(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ce=ui(m.nextSibling),h=m.data==="F!";break t}}cr(h)}h=!1}h&&(a=c[0])}}return c=wn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:a},c.queue=h,c=hv.bind(null,Xt,h),h.dispatch=c,h=Qh(!1),y=sf.bind(null,Xt,!1,h.queue),h=wn(),m={state:a,dispatch:null,action:i,pending:null},h.queue=m,c=_x.bind(null,Xt,m,y,c),m.dispatch=c,h.memoizedState=i,[a,c,!1]}function Yy(i){var a=Pe();return Wy(a,le,i)}function Wy(i,a,c){if(a=Wh(i,a,Gy)[0],i=Dc(Zi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=ko(a)}catch(R){throw R===Eo?Tc:R}else h=a;a=Pe();var m=a.queue,y=m.dispatch;return c!==a.memoizedState&&(Xt.flags|=2048,fa(9,Lc(),Sx.bind(null,m,c),null)),[h,y,i]}function Sx(i,a){i.action=a}function Ky(i){var a=Pe(),c=le;if(c!==null)return Wy(a,c,i);Pe(),a=a.memoizedState,c=Pe();var h=c.queue.dispatch;return c.memoizedState=i,[a,h,!1]}function fa(i,a,c,h){return i={tag:i,create:c,deps:h,inst:a,next:null},a=Xt.updateQueue,a===null&&(a=Xh(),Xt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,a.lastEffect=i),i}function Lc(){return{destroy:void 0,resource:void 0}}function Qy(){return Pe().memoizedState}function Nc(i,a,c,h){var m=wn();h=h===void 0?null:h,Xt.flags|=i,m.memoizedState=fa(1|a,Lc(),c,h)}function Do(i,a,c,h){var m=Pe();h=h===void 0?null:h;var y=m.memoizedState.inst;le!==null&&h!==null&&Hh(h,le.memoizedState.deps)?m.memoizedState=fa(a,y,c,h):(Xt.flags|=i,m.memoizedState=fa(1|a,y,c,h))}function Zy(i,a){Nc(8390656,8,i,a)}function Jy(i,a){Do(2048,8,i,a)}function tv(i,a){return Do(4,2,i,a)}function ev(i,a){return Do(4,4,i,a)}function nv(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function iv(i,a,c){c=c!=null?c.concat([i]):null,Do(4,4,nv.bind(null,a,i),c)}function Jh(){}function sv(i,a){var c=Pe();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Hh(a,h[1])?h[0]:(c.memoizedState=[i,a],i)}function rv(i,a){var c=Pe();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Hh(a,h[1]))return h[0];if(h=i(),fr){jt(!0);try{i()}finally{jt(!1)}}return c.memoizedState=[h,a],h}function tf(i,a,c){return c===void 0||(Cs&1073741824)!==0?i.memoizedState=a:(i.memoizedState=c,i=lb(),Xt.lanes|=i,Ns|=i,c)}function av(i,a,c,h){return Nn(c,a)?c:ua.current!==null?(i=tf(i,c,h),Nn(i,a)||($e=!0),i):(Cs&42)===0?($e=!0,i.memoizedState=c):(i=lb(),Xt.lanes|=i,Ns|=i,a)}function ov(i,a,c,h,m){var y=x.p;x.p=y!==0&&8>y?y:8;var R=z.T,P={};z.T=P,sf(i,!1,a,c);try{var q=m(),nt=z.S;if(nt!==null&&nt(P,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ut=yx(q,h);Lo(i,a,ut,In(i))}else Lo(i,a,h,In(i))}catch(ft){Lo(i,a,{then:function(){},status:"rejected",reason:ft},In())}finally{x.p=y,z.T=R}}function wx(){}function ef(i,a,c,h){if(i.tag!==5)throw Error(n(476));var m=lv(i).queue;ov(i,m,a,st,c===null?wx:function(){return cv(i),c(h)})}function lv(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:st},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function cv(i){var a=lv(i).next.queue;Lo(i,a,{},In())}function nf(){return on(Qo)}function uv(){return Pe().memoizedState}function dv(){return Pe().memoizedState}function Ax(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=In();i=Es(c);var h=Ts(a,i,c);h!==null&&(zn(h,a,c),Co(h,a,c)),a={cache:Dh()},i.payload=a;return}a=a.return}}function xx(i,a,c){var h=In();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Pc(i)?fv(a,c):(c=wh(i,a,c,h),c!==null&&(zn(c,i,h),pv(c,a,h)))}function hv(i,a,c){var h=In();Lo(i,a,c,h)}function Lo(i,a,c,h){var m={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Pc(i))fv(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var R=a.lastRenderedState,P=y(R,c);if(m.hasEagerState=!0,m.eagerState=P,Nn(P,R))return vc(i,a,m,0),ge===null&&yc(),!1}catch{}finally{}if(c=wh(i,a,m,h),c!==null)return zn(c,i,h),pv(c,a,h),!0}return!1}function sf(i,a,c,h){if(h={lane:2,revertLane:jf(),action:h,hasEagerState:!1,eagerState:null,next:null},Pc(i)){if(a)throw Error(n(479))}else a=wh(i,c,h,2),a!==null&&zn(a,i,2)}function Pc(i){var a=i.alternate;return i===Xt||a!==null&&a===Xt}function fv(i,a){da=Oc=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function pv(i,a,c){if((c&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,wg(i,c)}}var jc={readContext:on,use:kc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},mv={readContext:on,use:kc,useCallback:function(i,a){return wn().memoizedState=[i,a===void 0?null:a],i},useContext:on,useEffect:Zy,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,Nc(4194308,4,nv.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Nc(4194308,4,i,a)},useInsertionEffect:function(i,a){Nc(4,2,i,a)},useMemo:function(i,a){var c=wn();a=a===void 0?null:a;var h=i();if(fr){jt(!0);try{i()}finally{jt(!1)}}return c.memoizedState=[h,a],h},useReducer:function(i,a,c){var h=wn();if(c!==void 0){var m=c(a);if(fr){jt(!0);try{c(a)}finally{jt(!1)}}}else m=a;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=xx.bind(null,Xt,i),[h.memoizedState,i]},useRef:function(i){var a=wn();return i={current:i},a.memoizedState=i},useState:function(i){i=Qh(i);var a=i.queue,c=hv.bind(null,Xt,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:Jh,useDeferredValue:function(i,a){var c=wn();return tf(c,i,a)},useTransition:function(){var i=Qh(!1);return i=ov.bind(null,Xt,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var h=Xt,m=wn();if(ne){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),ge===null)throw Error(n(349));(te&124)!==0||jy(h,a,c)}m.memoizedState=c;var y={value:c,getSnapshot:a};return m.queue=y,Zy(Fy.bind(null,h,y,i),[i]),h.flags|=2048,fa(9,Lc(),By.bind(null,h,y,c,a),null),c},useId:function(){var i=wn(),a=ge.identifierPrefix;if(ne){var c=Wi,h=Yi;c=(h&~(1<<32-Zt(h)-1)).toString(32)+c,a=""+a+"R"+c,c=Mc++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=vx++,a=""+a+"r"+c.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:nf,useFormState:Xy,useActionState:Xy,useOptimistic:function(i){var a=wn();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=sf.bind(null,Xt,!0,c),c.dispatch=a,[i,a]},useMemoCache:Yh,useCacheRefresh:function(){return wn().memoizedState=Ax.bind(null,Xt)}},gv={readContext:on,use:kc,useCallback:sv,useContext:on,useEffect:Jy,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:ev,useMemo:rv,useReducer:Dc,useRef:Qy,useState:function(){return Dc(Zi)},useDebugValue:Jh,useDeferredValue:function(i,a){var c=Pe();return av(c,le.memoizedState,i,a)},useTransition:function(){var i=Dc(Zi)[0],a=Pe().memoizedState;return[typeof i=="boolean"?i:ko(i),a]},useSyncExternalStore:Py,useId:uv,useHostTransitionStatus:nf,useFormState:Yy,useActionState:Yy,useOptimistic:function(i,a){var c=Pe();return Uy(c,le,i,a)},useMemoCache:Yh,useCacheRefresh:dv},Ex={readContext:on,use:kc,useCallback:sv,useContext:on,useEffect:Jy,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:ev,useMemo:rv,useReducer:Kh,useRef:Qy,useState:function(){return Kh(Zi)},useDebugValue:Jh,useDeferredValue:function(i,a){var c=Pe();return le===null?tf(c,i,a):av(c,le.memoizedState,i,a)},useTransition:function(){var i=Kh(Zi)[0],a=Pe().memoizedState;return[typeof i=="boolean"?i:ko(i),a]},useSyncExternalStore:Py,useId:uv,useHostTransitionStatus:nf,useFormState:Ky,useActionState:Ky,useOptimistic:function(i,a){var c=Pe();return le!==null?Uy(c,le,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Yh,useCacheRefresh:dv},pa=null,No=0;function Bc(i){var a=No;return No+=1,pa===null&&(pa=[]),Cy(pa,i,a)}function Po(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Fc(i,a){throw a.$$typeof===g?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function yv(i){var a=i._init;return a(i._payload)}function vv(i){function a(Z,W){if(i){var et=Z.deletions;et===null?(Z.deletions=[W],Z.flags|=16):et.push(W)}}function c(Z,W){if(!i)return null;for(;W!==null;)a(Z,W),W=W.sibling;return null}function h(Z){for(var W=new Map;Z!==null;)Z.key!==null?W.set(Z.key,Z):W.set(Z.index,Z),Z=Z.sibling;return W}function m(Z,W){return Z=Xi(Z,W),Z.index=0,Z.sibling=null,Z}function y(Z,W,et){return Z.index=et,i?(et=Z.alternate,et!==null?(et=et.index,et<W?(Z.flags|=67108866,W):et):(Z.flags|=67108866,W)):(Z.flags|=1048576,W)}function R(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function P(Z,W,et,ht){return W===null||W.tag!==6?(W=xh(et,Z.mode,ht),W.return=Z,W):(W=m(W,et),W.return=Z,W)}function q(Z,W,et,ht){var Tt=et.type;return Tt===w?ut(Z,W,et.props.children,ht,et.key):W!==null&&(W.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===N&&yv(Tt)===W.type)?(W=m(W,et.props),Po(W,et),W.return=Z,W):(W=_c(et.type,et.key,et.props,null,Z.mode,ht),Po(W,et),W.return=Z,W)}function nt(Z,W,et,ht){return W===null||W.tag!==4||W.stateNode.containerInfo!==et.containerInfo||W.stateNode.implementation!==et.implementation?(W=Eh(et,Z.mode,ht),W.return=Z,W):(W=m(W,et.children||[]),W.return=Z,W)}function ut(Z,W,et,ht,Tt){return W===null||W.tag!==7?(W=rr(et,Z.mode,ht,Tt),W.return=Z,W):(W=m(W,et),W.return=Z,W)}function ft(Z,W,et){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=xh(""+W,Z.mode,et),W.return=Z,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return et=_c(W.type,W.key,W.props,null,Z.mode,et),Po(et,W),et.return=Z,et;case _:return W=Eh(W,Z.mode,et),W.return=Z,W;case N:var ht=W._init;return W=ht(W._payload),ft(Z,W,et)}if(K(W)||X(W))return W=rr(W,Z.mode,et,null),W.return=Z,W;if(typeof W.then=="function")return ft(Z,Bc(W),et);if(W.$$typeof===M)return ft(Z,xc(Z,W),et);Fc(Z,W)}return null}function it(Z,W,et,ht){var Tt=W!==null?W.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Tt!==null?null:P(Z,W,""+et,ht);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return et.key===Tt?q(Z,W,et,ht):null;case _:return et.key===Tt?nt(Z,W,et,ht):null;case N:return Tt=et._init,et=Tt(et._payload),it(Z,W,et,ht)}if(K(et)||X(et))return Tt!==null?null:ut(Z,W,et,ht,null);if(typeof et.then=="function")return it(Z,W,Bc(et),ht);if(et.$$typeof===M)return it(Z,W,xc(Z,et),ht);Fc(Z,et)}return null}function rt(Z,W,et,ht,Tt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Z=Z.get(et)||null,P(W,Z,""+ht,Tt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case v:return Z=Z.get(ht.key===null?et:ht.key)||null,q(W,Z,ht,Tt);case _:return Z=Z.get(ht.key===null?et:ht.key)||null,nt(W,Z,ht,Tt);case N:var Yt=ht._init;return ht=Yt(ht._payload),rt(Z,W,et,ht,Tt)}if(K(ht)||X(ht))return Z=Z.get(et)||null,ut(W,Z,ht,Tt,null);if(typeof ht.then=="function")return rt(Z,W,et,Bc(ht),Tt);if(ht.$$typeof===M)return rt(Z,W,et,xc(W,ht),Tt);Fc(W,ht)}return null}function Bt(Z,W,et,ht){for(var Tt=null,Yt=null,Mt=W,Nt=W=0,Ge=null;Mt!==null&&Nt<et.length;Nt++){Mt.index>Nt?(Ge=Mt,Mt=null):Ge=Mt.sibling;var ee=it(Z,Mt,et[Nt],ht);if(ee===null){Mt===null&&(Mt=Ge);break}i&&Mt&&ee.alternate===null&&a(Z,Mt),W=y(ee,W,Nt),Yt===null?Tt=ee:Yt.sibling=ee,Yt=ee,Mt=Ge}if(Nt===et.length)return c(Z,Mt),ne&&or(Z,Nt),Tt;if(Mt===null){for(;Nt<et.length;Nt++)Mt=ft(Z,et[Nt],ht),Mt!==null&&(W=y(Mt,W,Nt),Yt===null?Tt=Mt:Yt.sibling=Mt,Yt=Mt);return ne&&or(Z,Nt),Tt}for(Mt=h(Mt);Nt<et.length;Nt++)Ge=rt(Mt,Z,Nt,et[Nt],ht),Ge!==null&&(i&&Ge.alternate!==null&&Mt.delete(Ge.key===null?Nt:Ge.key),W=y(Ge,W,Nt),Yt===null?Tt=Ge:Yt.sibling=Ge,Yt=Ge);return i&&Mt.forEach(function(Vs){return a(Z,Vs)}),ne&&or(Z,Nt),Tt}function Lt(Z,W,et,ht){if(et==null)throw Error(n(151));for(var Tt=null,Yt=null,Mt=W,Nt=W=0,Ge=null,ee=et.next();Mt!==null&&!ee.done;Nt++,ee=et.next()){Mt.index>Nt?(Ge=Mt,Mt=null):Ge=Mt.sibling;var Vs=it(Z,Mt,ee.value,ht);if(Vs===null){Mt===null&&(Mt=Ge);break}i&&Mt&&Vs.alternate===null&&a(Z,Mt),W=y(Vs,W,Nt),Yt===null?Tt=Vs:Yt.sibling=Vs,Yt=Vs,Mt=Ge}if(ee.done)return c(Z,Mt),ne&&or(Z,Nt),Tt;if(Mt===null){for(;!ee.done;Nt++,ee=et.next())ee=ft(Z,ee.value,ht),ee!==null&&(W=y(ee,W,Nt),Yt===null?Tt=ee:Yt.sibling=ee,Yt=ee);return ne&&or(Z,Nt),Tt}for(Mt=h(Mt);!ee.done;Nt++,ee=et.next())ee=rt(Mt,Z,Nt,ee.value,ht),ee!==null&&(i&&ee.alternate!==null&&Mt.delete(ee.key===null?Nt:ee.key),W=y(ee,W,Nt),Yt===null?Tt=ee:Yt.sibling=ee,Yt=ee);return i&&Mt.forEach(function(TE){return a(Z,TE)}),ne&&or(Z,Nt),Tt}function ue(Z,W,et,ht){if(typeof et=="object"&&et!==null&&et.type===w&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case v:t:{for(var Tt=et.key;W!==null;){if(W.key===Tt){if(Tt=et.type,Tt===w){if(W.tag===7){c(Z,W.sibling),ht=m(W,et.props.children),ht.return=Z,Z=ht;break t}}else if(W.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===N&&yv(Tt)===W.type){c(Z,W.sibling),ht=m(W,et.props),Po(ht,et),ht.return=Z,Z=ht;break t}c(Z,W);break}else a(Z,W);W=W.sibling}et.type===w?(ht=rr(et.props.children,Z.mode,ht,et.key),ht.return=Z,Z=ht):(ht=_c(et.type,et.key,et.props,null,Z.mode,ht),Po(ht,et),ht.return=Z,Z=ht)}return R(Z);case _:t:{for(Tt=et.key;W!==null;){if(W.key===Tt)if(W.tag===4&&W.stateNode.containerInfo===et.containerInfo&&W.stateNode.implementation===et.implementation){c(Z,W.sibling),ht=m(W,et.children||[]),ht.return=Z,Z=ht;break t}else{c(Z,W);break}else a(Z,W);W=W.sibling}ht=Eh(et,Z.mode,ht),ht.return=Z,Z=ht}return R(Z);case N:return Tt=et._init,et=Tt(et._payload),ue(Z,W,et,ht)}if(K(et))return Bt(Z,W,et,ht);if(X(et)){if(Tt=X(et),typeof Tt!="function")throw Error(n(150));return et=Tt.call(et),Lt(Z,W,et,ht)}if(typeof et.then=="function")return ue(Z,W,Bc(et),ht);if(et.$$typeof===M)return ue(Z,W,xc(Z,et),ht);Fc(Z,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,W!==null&&W.tag===6?(c(Z,W.sibling),ht=m(W,et),ht.return=Z,Z=ht):(c(Z,W),ht=xh(et,Z.mode,ht),ht.return=Z,Z=ht),R(Z)):c(Z,W)}return function(Z,W,et,ht){try{No=0;var Tt=ue(Z,W,et,ht);return pa=null,Tt}catch(Mt){if(Mt===Eo||Mt===Tc)throw Mt;var Yt=Pn(29,Mt,null,Z.mode);return Yt.lanes=ht,Yt.return=Z,Yt}finally{}}}var ma=vv(!0),bv=vv(!1),Jn=B(null),Ri=null;function Rs(i){var a=i.alternate;Q(He,He.current&1),Q(Jn,i),Ri===null&&(a===null||ua.current!==null||a.memoizedState!==null)&&(Ri=i)}function _v(i){if(i.tag===22){if(Q(He,He.current),Q(Jn,i),Ri===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Ri=i)}}else Os()}function Os(){Q(He,He.current),Q(Jn,Jn.current)}function Ji(i){$(Jn),Ri===i&&(Ri=null),$(He)}var He=B(0);function Ic(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Yf(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function rf(i,a,c,h){a=i.memoizedState,c=c(h,a),c=c==null?a:p({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var af={enqueueSetState:function(i,a,c){i=i._reactInternals;var h=In(),m=Es(h);m.payload=a,c!=null&&(m.callback=c),a=Ts(i,m,h),a!==null&&(zn(a,i,h),Co(a,i,h))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var h=In(),m=Es(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Ts(i,m,h),a!==null&&(zn(a,i,h),Co(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=In(),h=Es(c);h.tag=2,a!=null&&(h.callback=a),a=Ts(i,h,c),a!==null&&(zn(a,i,c),Co(a,i,c))}};function Sv(i,a,c,h,m,y,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,R):a.prototype&&a.prototype.isPureReactComponent?!yo(c,h)||!yo(m,y):!0}function wv(i,a,c,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==i&&af.enqueueReplaceState(a,a.state,null)}function pr(i,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(i=i.defaultProps){c===a&&(c=p({},c));for(var m in i)c[m]===void 0&&(c[m]=i[m])}return c}var zc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Av(i){zc(i)}function xv(i){console.error(i)}function Ev(i){zc(i)}function Uc(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Tv(i,a,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function of(i,a,c){return c=Es(c),c.tag=3,c.payload={element:null},c.callback=function(){Uc(i,a)},c}function Cv(i){return i=Es(i),i.tag=3,i}function Rv(i,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;i.payload=function(){return m(y)},i.callback=function(){Tv(a,c,h)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){Tv(a,c,h),typeof m!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var P=h.stack;this.componentDidCatch(h.value,{componentStack:P!==null?P:""})})}function Tx(i,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&wo(a,c,m,!0),c=Jn.current,c!==null){switch(c.tag){case 13:return Ri===null?kf():c.alternate===null&&Re===0&&(Re=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===Ph?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Lf(i,h,m)),!1;case 22:return c.flags|=65536,h===Ph?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Lf(i,h,m)),!1}throw Error(n(435,c.tag))}return Lf(i,h,m),kf(),!1}if(ne)return a=Jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==Rh&&(i=Error(n(422),{cause:h}),So(Wn(i,c)))):(h!==Rh&&(a=Error(n(423),{cause:h}),So(Wn(a,c))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=Wn(h,c),m=of(i.stateNode,h,m),Fh(i,m),Re!==4&&(Re=2)),!1;var y=Error(n(520),{cause:h});if(y=Wn(y,c),Ho===null?Ho=[y]:Ho.push(y),Re!==4&&(Re=2),a===null)return!0;h=Wn(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=m&-m,c.lanes|=i,i=of(c.stateNode,h,i),Fh(c,i),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ps===null||!Ps.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Cv(m),Rv(m,i,c,h),Fh(c,m),!1}c=c.return}while(c!==null);return!1}var Ov=Error(n(461)),$e=!1;function Ze(i,a,c,h){a.child=i===null?bv(a,null,c,h):ma(a,i.child,c,h)}function Mv(i,a,c,h,m){c=c.render;var y=a.ref;if("ref"in h){var R={};for(var P in h)P!=="ref"&&(R[P]=h[P])}else R=h;return dr(a),h=Vh(i,a,c,R,y,m),P=$h(),i!==null&&!$e?(qh(i,a,m),ts(i,a,m)):(ne&&P&&Th(a),a.flags|=1,Ze(i,a,h,m),a.child)}function kv(i,a,c,h,m){if(i===null){var y=c.type;return typeof y=="function"&&!Ah(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,Dv(i,a,y,h,m)):(i=_c(c.type,null,h,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!mf(i,m)){var R=y.memoizedProps;if(c=c.compare,c=c!==null?c:yo,c(R,h)&&i.ref===a.ref)return ts(i,a,m)}return a.flags|=1,i=Xi(y,h),i.ref=a.ref,i.return=a,a.child=i}function Dv(i,a,c,h,m){if(i!==null){var y=i.memoizedProps;if(yo(y,h)&&i.ref===a.ref)if($e=!1,a.pendingProps=h=y,mf(i,m))(i.flags&131072)!==0&&($e=!0);else return a.lanes=i.lanes,ts(i,a,m)}return lf(i,a,c,h,m)}function Lv(i,a,c){var h=a.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|c:c,i!==null){for(m=a.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return Nv(i,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ec(a,y!==null?y.cachePool:null),y!==null?Dy(a,y):zh(),_v(a);else return a.lanes=a.childLanes=536870912,Nv(i,a,y!==null?y.baseLanes|c:c,c)}else y!==null?(Ec(a,y.cachePool),Dy(a,y),Os(),a.memoizedState=null):(i!==null&&Ec(a,null),zh(),Os());return Ze(i,a,m,c),a.child}function Nv(i,a,c,h){var m=Nh();return m=m===null?null:{parent:Ue._currentValue,pool:m},a.memoizedState={baseLanes:c,cachePool:m},i!==null&&Ec(a,null),zh(),_v(a),i!==null&&wo(i,a,h,!0),null}function Hc(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function lf(i,a,c,h,m){return dr(a),c=Vh(i,a,c,h,void 0,m),h=$h(),i!==null&&!$e?(qh(i,a,m),ts(i,a,m)):(ne&&h&&Th(a),a.flags|=1,Ze(i,a,c,m),a.child)}function Pv(i,a,c,h,m,y){return dr(a),a.updateQueue=null,c=Ny(a,h,c,m),Ly(i),h=$h(),i!==null&&!$e?(qh(i,a,y),ts(i,a,y)):(ne&&h&&Th(a),a.flags|=1,Ze(i,a,c,y),a.child)}function jv(i,a,c,h,m){if(dr(a),a.stateNode===null){var y=ra,R=c.contextType;typeof R=="object"&&R!==null&&(y=on(R)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=af,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},jh(a),R=c.contextType,y.context=typeof R=="object"&&R!==null?on(R):ra,y.state=a.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(rf(a,c,R,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&af.enqueueReplaceState(y,y.state,null),Oo(a,h,y,m),Ro(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){y=a.stateNode;var P=a.memoizedProps,q=pr(c,P);y.props=q;var nt=y.context,ut=c.contextType;R=ra,typeof ut=="object"&&ut!==null&&(R=on(ut));var ft=c.getDerivedStateFromProps;ut=typeof ft=="function"||typeof y.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,ut||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(P||nt!==R)&&wv(a,y,h,R),xs=!1;var it=a.memoizedState;y.state=it,Oo(a,h,y,m),Ro(),nt=a.memoizedState,P||it!==nt||xs?(typeof ft=="function"&&(rf(a,c,ft,h),nt=a.memoizedState),(q=xs||Sv(a,c,q,h,it,nt,R))?(ut||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=nt),y.props=h,y.state=nt,y.context=R,h=q):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Bh(i,a),R=a.memoizedProps,ut=pr(c,R),y.props=ut,ft=a.pendingProps,it=y.context,nt=c.contextType,q=ra,typeof nt=="object"&&nt!==null&&(q=on(nt)),P=c.getDerivedStateFromProps,(nt=typeof P=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==ft||it!==q)&&wv(a,y,h,q),xs=!1,it=a.memoizedState,y.state=it,Oo(a,h,y,m),Ro();var rt=a.memoizedState;R!==ft||it!==rt||xs||i!==null&&i.dependencies!==null&&Ac(i.dependencies)?(typeof P=="function"&&(rf(a,c,P,h),rt=a.memoizedState),(ut=xs||Sv(a,c,ut,h,it,rt,q)||i!==null&&i.dependencies!==null&&Ac(i.dependencies))?(nt||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,rt,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,rt,q)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=rt),y.props=h,y.state=rt,y.context=q,h=ut):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=1024),h=!1)}return y=h,Hc(i,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&h?(a.child=ma(a,i.child,null,m),a.child=ma(a,null,c,m)):Ze(i,a,c,m),a.memoizedState=y.state,i=a.child):i=ts(i,a,m),i}function Bv(i,a,c,h){return _o(),a.flags|=256,Ze(i,a,c,h),a.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(i){return{baseLanes:i,cachePool:xy()}}function df(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=ti),i}function Fv(i,a,c){var h=a.pendingProps,m=!1,y=(a.flags&128)!==0,R;if((R=y)||(R=i!==null&&i.memoizedState===null?!1:(He.current&2)!==0),R&&(m=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,i===null){if(ne){if(m?Rs(a):Os(),ne){var P=Ce,q;if(q=P){t:{for(q=P,P=Ci;q.nodeType!==8;){if(!P){P=null;break t}if(q=ui(q.nextSibling),q===null){P=null;break t}}P=q}P!==null?(a.memoizedState={dehydrated:P,treeContext:ar!==null?{id:Yi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},q=Pn(18,null,null,0),q.stateNode=P,q.return=a,a.child=q,fn=a,Ce=null,q=!0):q=!1}q||cr(a)}if(P=a.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return Yf(P)?a.lanes=32:a.lanes=536870912,null;Ji(a)}return P=h.children,h=h.fallback,m?(Os(),m=a.mode,P=Vc({mode:"hidden",children:P},m),h=rr(h,m,c,null),P.return=a,h.return=a,P.sibling=h,a.child=P,m=a.child,m.memoizedState=uf(c),m.childLanes=df(i,R,c),a.memoizedState=cf,h):(Rs(a),hf(a,P))}if(q=i.memoizedState,q!==null&&(P=q.dehydrated,P!==null)){if(y)a.flags&256?(Rs(a),a.flags&=-257,a=ff(i,a,c)):a.memoizedState!==null?(Os(),a.child=i.child,a.flags|=128,a=null):(Os(),m=h.fallback,P=a.mode,h=Vc({mode:"visible",children:h.children},P),m=rr(m,P,c,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,ma(a,i.child,null,c),h=a.child,h.memoizedState=uf(c),h.childLanes=df(i,R,c),a.memoizedState=cf,a=m);else if(Rs(a),Yf(P)){if(R=P.nextSibling&&P.nextSibling.dataset,R)var nt=R.dgst;R=nt,h=Error(n(419)),h.stack="",h.digest=R,So({value:h,source:null,stack:null}),a=ff(i,a,c)}else if($e||wo(i,a,c,!1),R=(c&i.childLanes)!==0,$e||R){if(R=ge,R!==null&&(h=c&-c,h=(h&42)!==0?1:Yd(h),h=(h&(R.suspendedLanes|c))!==0?0:h,h!==0&&h!==q.retryLane))throw q.retryLane=h,sa(i,h),zn(R,i,h),Ov;P.data==="$?"||kf(),a=ff(i,a,c)}else P.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=q.treeContext,Ce=ui(P.nextSibling),fn=a,ne=!0,lr=null,Ci=!1,i!==null&&(Qn[Zn++]=Yi,Qn[Zn++]=Wi,Qn[Zn++]=ar,Yi=i.id,Wi=i.overflow,ar=a),a=hf(a,h.children),a.flags|=4096);return a}return m?(Os(),m=h.fallback,P=a.mode,q=i.child,nt=q.sibling,h=Xi(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&65011712,nt!==null?m=Xi(nt,m):(m=rr(m,P,c,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,P=i.child.memoizedState,P===null?P=uf(c):(q=P.cachePool,q!==null?(nt=Ue._currentValue,q=q.parent!==nt?{parent:nt,pool:nt}:q):q=xy(),P={baseLanes:P.baseLanes|c,cachePool:q}),m.memoizedState=P,m.childLanes=df(i,R,c),a.memoizedState=cf,h):(Rs(a),c=i.child,i=c.sibling,c=Xi(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,i!==null&&(R=a.deletions,R===null?(a.deletions=[i],a.flags|=16):R.push(i)),a.child=c,a.memoizedState=null,c)}function hf(i,a){return a=Vc({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Vc(i,a){return i=Pn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function ff(i,a,c){return ma(a,i.child,null,c),i=hf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Iv(i,a,c){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Mh(i.return,a,c)}function pf(i,a,c,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function zv(i,a,c){var h=a.pendingProps,m=h.revealOrder,y=h.tail;if(Ze(i,a,h.children,c),h=He.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Iv(i,c,a);else if(i.tag===19)Iv(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(Q(He,h),m){case"forwards":for(c=a.child,m=null;c!==null;)i=c.alternate,i!==null&&Ic(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),pf(a,!1,m,c,y);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&Ic(i)===null){a.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}pf(a,!0,c,null,y);break;case"together":pf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ts(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),Ns|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(wo(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=Xi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Xi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function mf(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Ac(i)))}function Cx(i,a,c){switch(a.tag){case 3:yt(a,a.stateNode.containerInfo),As(a,Ue,i.memoizedState.cache),_o();break;case 27:case 5:St(a);break;case 4:yt(a,a.stateNode.containerInfo);break;case 10:As(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Rs(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Fv(i,a,c):(Rs(a),i=ts(i,a,c),i!==null?i.sibling:null);Rs(a);break;case 19:var m=(i.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(wo(i,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return zv(i,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Q(He,He.current),h)break;return null;case 22:case 23:return a.lanes=0,Lv(i,a,c);case 24:As(a,Ue,i.memoizedState.cache)}return ts(i,a,c)}function Uv(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)$e=!0;else{if(!mf(i,c)&&(a.flags&128)===0)return $e=!1,Cx(i,a,c);$e=(i.flags&131072)!==0}else $e=!1,ne&&(a.flags&1048576)!==0&&yy(a,wc,a.index);switch(a.lanes=0,a.tag){case 16:t:{i=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")Ah(h)?(i=pr(h,i),a.tag=1,a=jv(null,a,h,i,c)):(a.tag=0,a=lf(null,a,h,i,c));else{if(h!=null){if(m=h.$$typeof,m===F){a.tag=11,a=Mv(null,a,h,i,c);break t}else if(m===k){a.tag=14,a=kv(null,a,h,i,c);break t}}throw a=Y(h)||h,Error(n(306,a,""))}}return a;case 0:return lf(i,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=pr(h,a.pendingProps),jv(i,a,h,m,c);case 3:t:{if(yt(a,a.stateNode.containerInfo),i===null)throw Error(n(387));h=a.pendingProps;var y=a.memoizedState;m=y.element,Bh(i,a),Oo(a,h,null,c);var R=a.memoizedState;if(h=R.cache,As(a,Ue,h),h!==y.cache&&kh(a,[Ue],c,!0),Ro(),h=R.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Bv(i,a,h,c);break t}else if(h!==m){m=Wn(Error(n(424)),a),So(m),a=Bv(i,a,h,c);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ce=ui(i.firstChild),fn=a,ne=!0,lr=null,Ci=!0,c=bv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(_o(),h===m){a=ts(i,a,c);break t}Ze(i,a,h,c)}a=a.child}return a;case 26:return Hc(i,a),i===null?(c=qb(a.type,null,a.pendingProps,null))?a.memoizedState=c:ne||(c=a.type,i=a.pendingProps,h=iu(at.current).createElement(c),h[an]=a,h[_n]=i,tn(h,c,i),Ve(h),a.stateNode=h):a.memoizedState=qb(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return St(a),i===null&&ne&&(h=a.stateNode=Hb(a.type,a.pendingProps,at.current),fn=a,Ci=!0,m=Ce,Fs(a.type)?(Wf=m,Ce=ui(h.firstChild)):Ce=m),Ze(i,a,a.pendingProps.children,c),Hc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&ne&&((m=h=Ce)&&(h=eE(h,a.type,a.pendingProps,Ci),h!==null?(a.stateNode=h,fn=a,Ce=ui(h.firstChild),Ci=!1,m=!0):m=!1),m||cr(a)),St(a),m=a.type,y=a.pendingProps,R=i!==null?i.memoizedProps:null,h=y.children,qf(m,y)?h=null:R!==null&&qf(m,R)&&(a.flags|=32),a.memoizedState!==null&&(m=Vh(i,a,bx,null,null,c),Qo._currentValue=m),Hc(i,a),Ze(i,a,h,c),a.child;case 6:return i===null&&ne&&((i=c=Ce)&&(c=nE(c,a.pendingProps,Ci),c!==null?(a.stateNode=c,fn=a,Ce=null,i=!0):i=!1),i||cr(a)),null;case 13:return Fv(i,a,c);case 4:return yt(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=ma(a,null,h,c):Ze(i,a,h,c),a.child;case 11:return Mv(i,a,a.type,a.pendingProps,c);case 7:return Ze(i,a,a.pendingProps,c),a.child;case 8:return Ze(i,a,a.pendingProps.children,c),a.child;case 12:return Ze(i,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,As(a,a.type,h.value),Ze(i,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,dr(a),m=on(m),h=h(m),a.flags|=1,Ze(i,a,h,c),a.child;case 14:return kv(i,a,a.type,a.pendingProps,c);case 15:return Dv(i,a,a.type,a.pendingProps,c);case 19:return zv(i,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},i===null?(c=Vc(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Xi(i.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return Lv(i,a,c);case 24:return dr(a),h=on(Ue),i===null?(m=Nh(),m===null&&(m=ge,y=Dh(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),a.memoizedState={parent:h,cache:m},jh(a),As(a,Ue,m)):((i.lanes&c)!==0&&(Bh(i,a),Oo(a,null,null,c),Ro()),m=i.memoizedState,y=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),As(a,Ue,h)):(h=y.cache,As(a,Ue,h),h!==m.cache&&kh(a,[Ue],c,!0))),Ze(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function es(i){i.flags|=4}function Hv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Kb(a)){if(a=Jn.current,a!==null&&((te&4194048)===te?Ri!==null:(te&62914560)!==te&&(te&536870912)===0||a!==Ri))throw To=Ph,Ey;i.flags|=8192}}function $c(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?_g():536870912,i.lanes|=a,ba|=a)}function jo(i,a){if(!ne)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function we(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(a)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=c,a}function Rx(i,a,c){var h=a.pendingProps;switch(Ch(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(a),null;case 1:return we(a),null;case 3:return c=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Qi(Ue),xt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(bo(a)?es(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_y())),we(a),null;case 26:return c=a.memoizedState,i===null?(es(a),c!==null?(we(a),Hv(a,c)):(we(a),a.flags&=-16777217)):c?c!==i.memoizedState?(es(a),we(a),Hv(a,c)):(we(a),a.flags&=-16777217):(i.memoizedProps!==h&&es(a),we(a),a.flags&=-16777217),null;case 27:It(a),c=at.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&es(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return we(a),null}i=tt.current,bo(a)?vy(a):(i=Hb(m,h,c),a.stateNode=i,es(a))}return we(a),null;case 5:if(It(a),c=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&es(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return we(a),null}if(i=tt.current,bo(a))vy(a);else{switch(m=iu(at.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?m.createElement(c,{is:h.is}):m.createElement(c)}}i[an]=a,i[_n]=h;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;t:switch(tn(i,c,h),c){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&es(a)}}return we(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&es(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(i=at.current,bo(a)){if(i=a.stateNode,c=a.memoizedProps,h=null,m=fn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[an]=a,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Pb(i.nodeValue,c)),i||cr(a)}else i=iu(i).createTextNode(h),i[an]=a,a.stateNode=i}return we(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=bo(a),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(n(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[an]=a}else _o(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;we(a),m=!1}else m=_y(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Ji(a),a):(Ji(a),null)}if(Ji(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,i=i!==null&&i.memoizedState!==null,c){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)}return c!==i&&c&&(a.child.flags|=8192),$c(a,a.updateQueue),we(a),null;case 4:return xt(),i===null&&zf(a.stateNode.containerInfo),we(a),null;case 10:return Qi(a.type),we(a),null;case 19:if($(He),m=a.memoizedState,m===null)return we(a),null;if(h=(a.flags&128)!==0,y=m.rendering,y===null)if(h)jo(m,!1);else{if(Re!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Ic(i),y!==null){for(a.flags|=128,jo(m,!1),i=y.updateQueue,a.updateQueue=i,$c(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)gy(c,i),c=c.sibling;return Q(He,He.current&1|2),a.child}i=i.sibling}m.tail!==null&&Ot()>Xc&&(a.flags|=128,h=!0,jo(m,!1),a.lanes=4194304)}else{if(!h)if(i=Ic(y),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,$c(a,i),jo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!ne)return we(a),null}else 2*Ot()-m.renderingStartTime>Xc&&c!==536870912&&(a.flags|=128,h=!0,jo(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(i=m.last,i!==null?i.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Ot(),a.sibling=null,i=He.current,Q(He,h?i&1|2:i&1),a):(we(a),null);case 22:case 23:return Ji(a),Uh(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(we(a),a.subtreeFlags&6&&(a.flags|=8192)):we(a),c=a.updateQueue,c!==null&&$c(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),i!==null&&$(hr),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Qi(Ue),we(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function Ox(i,a){switch(Ch(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Qi(Ue),xt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return It(a),null;case 13:if(Ji(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));_o()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return $(He),null;case 4:return xt(),null;case 10:return Qi(a.type),null;case 22:case 23:return Ji(a),Uh(),i!==null&&$(hr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Qi(Ue),null;case 25:return null;default:return null}}function Vv(i,a){switch(Ch(a),a.tag){case 3:Qi(Ue),xt();break;case 26:case 27:case 5:It(a);break;case 4:xt();break;case 13:Ji(a);break;case 19:$(He);break;case 10:Qi(a.type);break;case 22:case 23:Ji(a),Uh(),i!==null&&$(hr);break;case 24:Qi(Ue)}}function Bo(i,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&i)===i){h=void 0;var y=c.create,R=c.inst;h=y(),R.destroy=h}c=c.next}while(c!==m)}}catch(P){he(a,a.return,P)}}function Ms(i,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&i)===i){var R=h.inst,P=R.destroy;if(P!==void 0){R.destroy=void 0,m=a;var q=c,nt=P;try{nt()}catch(ut){he(m,q,ut)}}}h=h.next}while(h!==y)}}catch(ut){he(a,a.return,ut)}}function $v(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{ky(a,c)}catch(h){he(i,i.return,h)}}}function qv(i,a,c){c.props=pr(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){he(i,a,h)}}function Fo(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(m){he(i,a,m)}}function Oi(i,a){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){he(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){he(i,a,m)}else c.current=null}function Gv(i){var a=i.type,c=i.memoizedProps,h=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){he(i,i.return,m)}}function gf(i,a,c){try{var h=i.stateNode;Kx(h,i.type,c,a),h[_n]=a}catch(m){he(i,i.return,m)}}function Xv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fs(i.type)||i.tag===4}function yf(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Xv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function vf(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=nu));else if(h!==4&&(h===27&&Fs(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(vf(i,a,c),i=i.sibling;i!==null;)vf(i,a,c),i=i.sibling}function qc(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(h!==4&&(h===27&&Fs(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(qc(i,a,c),i=i.sibling;i!==null;)qc(i,a,c),i=i.sibling}function Yv(i){var a=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);tn(a,h,c),a[an]=i,a[_n]=c}catch(y){he(i,i.return,y)}}var ns=!1,Me=!1,bf=!1,Wv=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Mx(i,a){if(i=i.containerInfo,Vf=cu,i=ay(i),gh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else t:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var R=0,P=-1,q=-1,nt=0,ut=0,ft=i,it=null;e:for(;;){for(var rt;ft!==c||m!==0&&ft.nodeType!==3||(P=R+m),ft!==y||h!==0&&ft.nodeType!==3||(q=R+h),ft.nodeType===3&&(R+=ft.nodeValue.length),(rt=ft.firstChild)!==null;)it=ft,ft=rt;for(;;){if(ft===i)break e;if(it===c&&++nt===m&&(P=R),it===y&&++ut===h&&(q=R),(rt=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=rt}c=P===-1||q===-1?null:{start:P,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for($f={focusedElem:i,selectionRange:c},cu=!1,qe=a;qe!==null;)if(a=qe,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,qe=i;else for(;qe!==null;){switch(a=qe,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=a,m=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Bt=pr(c.type,m,c.elementType===c.type);i=h.getSnapshotBeforeUpdate(Bt,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Lt){he(c,c.return,Lt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)Xf(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,qe=i;break}qe=a.return}}function Kv(i,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ks(i,c),h&4&&Bo(5,c);break;case 1:if(ks(i,c),h&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(R){he(c,c.return,R)}else{var m=pr(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(R){he(c,c.return,R)}}h&64&&$v(c),h&512&&Fo(c,c.return);break;case 3:if(ks(i,c),h&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{ky(i,a)}catch(R){he(c,c.return,R)}}break;case 27:a===null&&h&4&&Yv(c);case 26:case 5:ks(i,c),a===null&&h&4&&Gv(c),h&512&&Fo(c,c.return);break;case 12:ks(i,c);break;case 13:ks(i,c),h&4&&Jv(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=Ix.bind(null,c),iE(i,c))));break;case 22:if(h=c.memoizedState!==null||ns,!h){a=a!==null&&a.memoizedState!==null||Me,m=ns;var y=Me;ns=h,(Me=a)&&!y?Ds(i,c,(c.subtreeFlags&8772)!==0):ks(i,c),ns=m,Me=y}break;case 30:break;default:ks(i,c)}}function Qv(i){var a=i.alternate;a!==null&&(i.alternate=null,Qv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Qd(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ve=null,An=!1;function is(i,a,c){for(c=c.child;c!==null;)Zv(i,a,c),c=c.sibling}function Zv(i,a,c){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Et,c)}catch{}switch(c.tag){case 26:Me||Oi(c,a),is(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Me||Oi(c,a);var h=ve,m=An;Fs(c.type)&&(ve=c.stateNode,An=!1),is(i,a,c),Xo(c.stateNode),ve=h,An=m;break;case 5:Me||Oi(c,a);case 6:if(h=ve,m=An,ve=null,is(i,a,c),ve=h,An=m,ve!==null)if(An)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(c.stateNode)}catch(y){he(c,a,y)}else try{ve.removeChild(c.stateNode)}catch(y){he(c,a,y)}break;case 18:ve!==null&&(An?(i=ve,zb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),el(i)):zb(ve,c.stateNode));break;case 4:h=ve,m=An,ve=c.stateNode.containerInfo,An=!0,is(i,a,c),ve=h,An=m;break;case 0:case 11:case 14:case 15:Me||Ms(2,c,a),Me||Ms(4,c,a),is(i,a,c);break;case 1:Me||(Oi(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&qv(c,a,h)),is(i,a,c);break;case 21:is(i,a,c);break;case 22:Me=(h=Me)||c.memoizedState!==null,is(i,a,c),Me=h;break;default:is(i,a,c)}}function Jv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{el(i)}catch(c){he(a,a.return,c)}}function kx(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Wv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Wv),a;default:throw Error(n(435,i.tag))}}function _f(i,a){var c=kx(i);a.forEach(function(h){var m=zx.bind(null,i,h);c.has(h)||(c.add(h),h.then(m,m))})}function jn(i,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],y=i,R=a,P=R;t:for(;P!==null;){switch(P.tag){case 27:if(Fs(P.type)){ve=P.stateNode,An=!1;break t}break;case 5:ve=P.stateNode,An=!1;break t;case 3:case 4:ve=P.stateNode.containerInfo,An=!0;break t}P=P.return}if(ve===null)throw Error(n(160));Zv(y,R,m),ve=null,An=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)tb(a,i),a=a.sibling}var ci=null;function tb(i,a){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:jn(a,i),Bn(i),h&4&&(Ms(3,i,i.return),Bo(3,i),Ms(5,i,i.return));break;case 1:jn(a,i),Bn(i),h&512&&(Me||c===null||Oi(c,c.return)),h&64&&ns&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=ci;if(jn(a,i),Bn(i),h&512&&(Me||c===null||Oi(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){t:{h=i.type,c=i.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[oo]||y[an]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),tn(y,h,c),y[an]=i,Ve(y),h=y;break t;case"link":var R=Yb("link","href",m).get(h+(c.href||""));if(R){for(var P=0;P<R.length;P++)if(y=R[P],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(P,1);break e}}y=m.createElement(h),tn(y,h,c),m.head.appendChild(y);break;case"meta":if(R=Yb("meta","content",m).get(h+(c.content||""))){for(P=0;P<R.length;P++)if(y=R[P],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(P,1);break e}}y=m.createElement(h),tn(y,h,c),m.head.appendChild(y);break;default:throw Error(n(468,h))}y[an]=i,Ve(y),h=y}i.stateNode=h}else Wb(m,i.type,i.stateNode);else i.stateNode=Xb(m,h,i.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?Wb(m,i.type,i.stateNode):Xb(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&gf(i,i.memoizedProps,c.memoizedProps)}break;case 27:jn(a,i),Bn(i),h&512&&(Me||c===null||Oi(c,c.return)),c!==null&&h&4&&gf(i,i.memoizedProps,c.memoizedProps);break;case 5:if(jn(a,i),Bn(i),h&512&&(Me||c===null||Oi(c,c.return)),i.flags&32){m=i.stateNode;try{Qr(m,"")}catch(rt){he(i,i.return,rt)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,gf(i,m,c!==null?c.memoizedProps:m)),h&1024&&(bf=!0);break;case 6:if(jn(a,i),Bn(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(rt){he(i,i.return,rt)}}break;case 3:if(au=null,m=ci,ci=su(a.containerInfo),jn(a,i),ci=m,Bn(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{el(a.containerInfo)}catch(rt){he(i,i.return,rt)}bf&&(bf=!1,eb(i));break;case 4:h=ci,ci=su(i.stateNode.containerInfo),jn(a,i),Bn(i),ci=h;break;case 12:jn(a,i),Bn(i);break;case 13:jn(a,i),Bn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Tf=Ot()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_f(i,h)));break;case 22:m=i.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,nt=ns,ut=Me;if(ns=nt||m,Me=ut||q,jn(a,i),Me=ut,ns=nt,Bn(i),h&8192)t:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||q||ns||Me||mr(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){q=c=a;try{if(y=q.stateNode,m)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{P=q.stateNode;var ft=q.memoizedProps.style,it=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;P.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(rt){he(q,q.return,rt)}}}else if(a.tag===6){if(c===null){q=a;try{q.stateNode.nodeValue=m?"":q.memoizedProps}catch(rt){he(q,q.return,rt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,_f(i,c))));break;case 19:jn(a,i),Bn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,_f(i,h)));break;case 30:break;case 21:break;default:jn(a,i),Bn(i)}}function Bn(i){var a=i.flags;if(a&2){try{for(var c,h=i.return;h!==null;){if(Xv(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var m=c.stateNode,y=yf(i);qc(i,y,m);break;case 5:var R=c.stateNode;c.flags&32&&(Qr(R,""),c.flags&=-33);var P=yf(i);qc(i,P,R);break;case 3:case 4:var q=c.stateNode.containerInfo,nt=yf(i);vf(i,nt,q);break;default:throw Error(n(161))}}catch(ut){he(i,i.return,ut)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function eb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;eb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ks(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Kv(i,a.alternate,a),a=a.sibling}function mr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Ms(4,a,a.return),mr(a);break;case 1:Oi(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&qv(a,a.return,c),mr(a);break;case 27:Xo(a.stateNode);case 26:case 5:Oi(a,a.return),mr(a);break;case 22:a.memoizedState===null&&mr(a);break;case 30:mr(a);break;default:mr(a)}i=i.sibling}}function Ds(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=i,y=a,R=y.flags;switch(y.tag){case 0:case 11:case 15:Ds(m,y,c),Bo(4,y);break;case 1:if(Ds(m,y,c),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(nt){he(h,h.return,nt)}if(h=y,m=h.updateQueue,m!==null){var P=h.stateNode;try{var q=m.shared.hiddenCallbacks;if(q!==null)for(m.shared.hiddenCallbacks=null,m=0;m<q.length;m++)My(q[m],P)}catch(nt){he(h,h.return,nt)}}c&&R&64&&$v(y),Fo(y,y.return);break;case 27:Yv(y);case 26:case 5:Ds(m,y,c),c&&h===null&&R&4&&Gv(y),Fo(y,y.return);break;case 12:Ds(m,y,c);break;case 13:Ds(m,y,c),c&&R&4&&Jv(m,y);break;case 22:y.memoizedState===null&&Ds(m,y,c),Fo(y,y.return);break;case 30:break;default:Ds(m,y,c)}a=a.sibling}}function Sf(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ao(c))}function wf(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ao(i))}function Mi(i,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nb(i,a,c,h),a=a.sibling}function nb(i,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(i,a,c,h),m&2048&&Bo(9,a);break;case 1:Mi(i,a,c,h);break;case 3:Mi(i,a,c,h),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ao(i)));break;case 12:if(m&2048){Mi(i,a,c,h),i=a.stateNode;try{var y=a.memoizedProps,R=y.id,P=y.onPostCommit;typeof P=="function"&&P(R,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){he(a,a.return,q)}}else Mi(i,a,c,h);break;case 13:Mi(i,a,c,h);break;case 23:break;case 22:y=a.stateNode,R=a.alternate,a.memoizedState!==null?y._visibility&2?Mi(i,a,c,h):Io(i,a):y._visibility&2?Mi(i,a,c,h):(y._visibility|=2,ga(i,a,c,h,(a.subtreeFlags&10256)!==0)),m&2048&&Sf(R,a);break;case 24:Mi(i,a,c,h),m&2048&&wf(a.alternate,a);break;default:Mi(i,a,c,h)}}function ga(i,a,c,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,R=a,P=c,q=h,nt=R.flags;switch(R.tag){case 0:case 11:case 15:ga(y,R,P,q,m),Bo(8,R);break;case 23:break;case 22:var ut=R.stateNode;R.memoizedState!==null?ut._visibility&2?ga(y,R,P,q,m):Io(y,R):(ut._visibility|=2,ga(y,R,P,q,m)),m&&nt&2048&&Sf(R.alternate,R);break;case 24:ga(y,R,P,q,m),m&&nt&2048&&wf(R.alternate,R);break;default:ga(y,R,P,q,m)}a=a.sibling}}function Io(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,h=a,m=h.flags;switch(h.tag){case 22:Io(c,h),m&2048&&Sf(h.alternate,h);break;case 24:Io(c,h),m&2048&&wf(h.alternate,h);break;default:Io(c,h)}a=a.sibling}}var zo=8192;function ya(i){if(i.subtreeFlags&zo)for(i=i.child;i!==null;)ib(i),i=i.sibling}function ib(i){switch(i.tag){case 26:ya(i),i.flags&zo&&i.memoizedState!==null&&gE(ci,i.memoizedState,i.memoizedProps);break;case 5:ya(i);break;case 3:case 4:var a=ci;ci=su(i.stateNode.containerInfo),ya(i),ci=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=zo,zo=16777216,ya(i),zo=a):ya(i));break;default:ya(i)}}function sb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Uo(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];qe=h,ab(h,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 0:case 11:case 15:Uo(i),i.flags&2048&&Ms(9,i,i.return);break;case 3:Uo(i);break;case 12:Uo(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Gc(i)):Uo(i);break;default:Uo(i)}}function Gc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];qe=h,ab(h,i)}sb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Ms(8,a,a.return),Gc(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Gc(a));break;default:Gc(a)}i=i.sibling}}function ab(i,a){for(;qe!==null;){var c=qe;switch(c.tag){case 0:case 11:case 15:Ms(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ao(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,qe=h;else t:for(c=i;qe!==null;){h=qe;var m=h.sibling,y=h.return;if(Qv(h),h===c){qe=null;break t}if(m!==null){m.return=y,qe=m;break t}qe=y}}}var Dx={getCacheForType:function(i){var a=on(Ue),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c}},Lx=typeof WeakMap=="function"?WeakMap:Map,re=0,ge=null,Wt=null,te=0,ae=0,Fn=null,Ls=!1,va=!1,Af=!1,ss=0,Re=0,Ns=0,gr=0,xf=0,ti=0,ba=0,Ho=null,xn=null,Ef=!1,Tf=0,Xc=1/0,Yc=null,Ps=null,Je=0,js=null,_a=null,Sa=0,Cf=0,Rf=null,ob=null,Vo=0,Of=null;function In(){if((re&2)!==0&&te!==0)return te&-te;if(z.T!==null){var i=la;return i!==0?i:jf()}return Ag()}function lb(){ti===0&&(ti=(te&536870912)===0||ne?bg():536870912);var i=Jn.current;return i!==null&&(i.flags|=32),ti}function zn(i,a,c){(i===ge&&(ae===2||ae===9)||i.cancelPendingCommit!==null)&&(wa(i,0),Bs(i,te,ti,!1)),ao(i,c),((re&2)===0||i!==ge)&&(i===ge&&((re&2)===0&&(gr|=c),Re===4&&Bs(i,te,ti,!1)),ki(i))}function cb(i,a,c){if((re&6)!==0)throw Error(n(327));var h=!c&&(a&124)===0&&(a&i.expiredLanes)===0||tr(i,a),m=h?jx(i,a):Df(i,a,!0),y=h;do{if(m===0){va&&!h&&Bs(i,a,0,!1);break}else{if(c=i.current.alternate,y&&!Nx(c)){m=Df(i,a,!1),y=!1;continue}if(m===2){if(y=a,i.errorRecoveryDisabledLanes&y)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;t:{var P=i;m=Ho;var q=P.current.memoizedState.isDehydrated;if(q&&(wa(P,R).flags|=256),R=Df(P,R,!1),R!==2){if(Af&&!q){P.errorRecoveryDisabledLanes|=y,gr|=y,m=4;break t}y=xn,xn=m,y!==null&&(xn===null?xn=y:xn.push.apply(xn,y))}m=R}if(y=!1,m!==2)continue}}if(m===1){wa(i,0),Bs(i,a,0,!0);break}t:{switch(h=i,y=m,y){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:Bs(h,a,ti,!Ls);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(m=Tf+300-Ot(),10<m)){if(Bs(h,a,ti,!Ls),Js(h,0,!0)!==0)break t;h.timeoutHandle=Fb(ub.bind(null,h,c,xn,Yc,Ef,a,ti,gr,ba,Ls,y,2,-0,0),m);break t}ub(h,c,xn,Yc,Ef,a,ti,gr,ba,Ls,y,0,-0,0)}}break}while(!0);ki(i)}function ub(i,a,c,h,m,y,R,P,q,nt,ut,ft,it,rt){if(i.timeoutHandle=-1,ft=a.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Ko={stylesheets:null,count:0,unsuspend:mE},ib(a),ft=yE(),ft!==null)){i.cancelPendingCommit=ft(yb.bind(null,i,a,y,c,h,m,R,P,q,ut,1,it,rt)),Bs(i,y,R,!nt);return}yb(i,a,y,c,h,m,R,P,q)}function Nx(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!Nn(y(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bs(i,a,c,h){a&=~xf,a&=~gr,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var m=a;0<m;){var y=31-Zt(m),R=1<<y;h[y]=-1,m&=~R}c!==0&&Sg(i,c,a)}function Wc(){return(re&6)===0?($o(0),!1):!0}function Mf(){if(Wt!==null){if(ae===0)var i=Wt.return;else i=Wt,Ki=ur=null,Gh(i),pa=null,No=0,i=Wt;for(;i!==null;)Vv(i.alternate,i),i=i.return;Wt=null}}function wa(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,Zx(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Mf(),ge=i,Wt=c=Xi(i.current,null),te=a,ae=0,Fn=null,Ls=!1,va=tr(i,a),Af=!1,ba=ti=xf=gr=Ns=Re=0,xn=Ho=null,Ef=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var m=31-Zt(h),y=1<<m;a|=i[m],h&=~y}return ss=a,yc(),c}function db(i,a){Xt=null,z.H=jc,a===Eo||a===Tc?(a=Ry(),ae=3):a===Ey?(a=Ry(),ae=4):ae=a===Ov?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Fn=a,Wt===null&&(Re=1,Uc(i,Wn(a,i.current)))}function hb(){var i=z.H;return z.H=jc,i===null?jc:i}function fb(){var i=z.A;return z.A=Dx,i}function kf(){Re=4,Ls||(te&4194048)!==te&&Jn.current!==null||(va=!0),(Ns&134217727)===0&&(gr&134217727)===0||ge===null||Bs(ge,te,ti,!1)}function Df(i,a,c){var h=re;re|=2;var m=hb(),y=fb();(ge!==i||te!==a)&&(Yc=null,wa(i,a)),a=!1;var R=Re;t:do try{if(ae!==0&&Wt!==null){var P=Wt,q=Fn;switch(ae){case 8:Mf(),R=6;break t;case 3:case 2:case 9:case 6:Jn.current===null&&(a=!0);var nt=ae;if(ae=0,Fn=null,Aa(i,P,q,nt),c&&va){R=0;break t}break;default:nt=ae,ae=0,Fn=null,Aa(i,P,q,nt)}}Px(),R=Re;break}catch(ut){db(i,ut)}while(!0);return a&&i.shellSuspendCounter++,Ki=ur=null,re=h,z.H=m,z.A=y,Wt===null&&(ge=null,te=0,yc()),R}function Px(){for(;Wt!==null;)pb(Wt)}function jx(i,a){var c=re;re|=2;var h=hb(),m=fb();ge!==i||te!==a?(Yc=null,Xc=Ot()+500,wa(i,a)):va=tr(i,a);t:do try{if(ae!==0&&Wt!==null){a=Wt;var y=Fn;e:switch(ae){case 1:ae=0,Fn=null,Aa(i,a,y,1);break;case 2:case 9:if(Ty(y)){ae=0,Fn=null,mb(a);break}a=function(){ae!==2&&ae!==9||ge!==i||(ae=7),ki(i)},y.then(a,a);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Ty(y)?(ae=0,Fn=null,mb(a)):(ae=0,Fn=null,Aa(i,a,y,7));break;case 5:var R=null;switch(Wt.tag){case 26:R=Wt.memoizedState;case 5:case 27:var P=Wt;if(!R||Kb(R)){ae=0,Fn=null;var q=P.sibling;if(q!==null)Wt=q;else{var nt=P.return;nt!==null?(Wt=nt,Kc(nt)):Wt=null}break e}}ae=0,Fn=null,Aa(i,a,y,5);break;case 6:ae=0,Fn=null,Aa(i,a,y,6);break;case 8:Mf(),Re=6;break t;default:throw Error(n(462))}}Bx();break}catch(ut){db(i,ut)}while(!0);return Ki=ur=null,z.H=h,z.A=m,re=c,Wt!==null?0:(ge=null,te=0,yc(),Re)}function Bx(){for(;Wt!==null&&!kt();)pb(Wt)}function pb(i){var a=Uv(i.alternate,i,ss);i.memoizedProps=i.pendingProps,a===null?Kc(i):Wt=a}function mb(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=Pv(c,a,a.pendingProps,a.type,void 0,te);break;case 11:a=Pv(c,a,a.pendingProps,a.type.render,a.ref,te);break;case 5:Gh(a);default:Vv(c,a),a=Wt=gy(a,ss),a=Uv(c,a,ss)}i.memoizedProps=i.pendingProps,a===null?Kc(i):Wt=a}function Aa(i,a,c,h){Ki=ur=null,Gh(a),pa=null,No=0;var m=a.return;try{if(Tx(i,m,a,c,te)){Re=1,Uc(i,Wn(c,i.current)),Wt=null;return}}catch(y){if(m!==null)throw Wt=m,y;Re=1,Uc(i,Wn(c,i.current)),Wt=null;return}a.flags&32768?(ne||h===1?i=!0:va||(te&536870912)!==0?i=!1:(Ls=i=!0,(h===2||h===9||h===3||h===6)&&(h=Jn.current,h!==null&&h.tag===13&&(h.flags|=16384))),gb(a,i)):Kc(a)}function Kc(i){var a=i;do{if((a.flags&32768)!==0){gb(a,Ls);return}i=a.return;var c=Rx(a.alternate,a,ss);if(c!==null){Wt=c;return}if(a=a.sibling,a!==null){Wt=a;return}Wt=a=i}while(a!==null);Re===0&&(Re=5)}function gb(i,a){do{var c=Ox(i.alternate,i);if(c!==null){c.flags&=32767,Wt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){Wt=i;return}Wt=i=c}while(i!==null);Re=6,Wt=null}function yb(i,a,c,h,m,y,R,P,q){i.cancelPendingCommit=null;do Qc();while(Je!==0);if((re&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(y=a.lanes|a.childLanes,y|=Sh,mA(i,c,y,R,P,q),i===ge&&(Wt=ge=null,te=0),_a=a,js=i,Sa=c,Cf=y,Rf=m,ob=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Ux(J,function(){return wb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=z.T,z.T=null,m=x.p,x.p=2,R=re,re|=4;try{Mx(i,a,c)}finally{re=R,x.p=m,z.T=h}}Je=1,vb(),bb(),_b()}}function vb(){if(Je===1){Je=0;var i=js,a=_a,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var h=x.p;x.p=2;var m=re;re|=4;try{tb(a,i);var y=$f,R=ay(i.containerInfo),P=y.focusedElem,q=y.selectionRange;if(R!==P&&P&&P.ownerDocument&&ry(P.ownerDocument.documentElement,P)){if(q!==null&&gh(P)){var nt=q.start,ut=q.end;if(ut===void 0&&(ut=nt),"selectionStart"in P)P.selectionStart=nt,P.selectionEnd=Math.min(ut,P.value.length);else{var ft=P.ownerDocument||document,it=ft&&ft.defaultView||window;if(it.getSelection){var rt=it.getSelection(),Bt=P.textContent.length,Lt=Math.min(q.start,Bt),ue=q.end===void 0?Lt:Math.min(q.end,Bt);!rt.extend&&Lt>ue&&(R=ue,ue=Lt,Lt=R);var Z=sy(P,Lt),W=sy(P,ue);if(Z&&W&&(rt.rangeCount!==1||rt.anchorNode!==Z.node||rt.anchorOffset!==Z.offset||rt.focusNode!==W.node||rt.focusOffset!==W.offset)){var et=ft.createRange();et.setStart(Z.node,Z.offset),rt.removeAllRanges(),Lt>ue?(rt.addRange(et),rt.extend(W.node,W.offset)):(et.setEnd(W.node,W.offset),rt.addRange(et))}}}}for(ft=[],rt=P;rt=rt.parentNode;)rt.nodeType===1&&ft.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<ft.length;P++){var ht=ft[P];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}cu=!!Vf,$f=Vf=null}finally{re=m,x.p=h,z.T=c}}i.current=a,Je=2}}function bb(){if(Je===2){Je=0;var i=js,a=_a,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var h=x.p;x.p=2;var m=re;re|=4;try{Kv(i,a.alternate,a)}finally{re=m,x.p=h,z.T=c}}Je=3}}function _b(){if(Je===4||Je===3){Je=0,Vt();var i=js,a=_a,c=Sa,h=ob;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Je=5:(Je=0,_a=js=null,Sb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ps=null),Wd(c),a=a.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Et,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=z.T,m=x.p,x.p=2,z.T=null;try{for(var y=i.onRecoverableError,R=0;R<h.length;R++){var P=h[R];y(P.value,{componentStack:P.stack})}}finally{z.T=a,x.p=m}}(Sa&3)!==0&&Qc(),ki(i),m=i.pendingLanes,(c&4194090)!==0&&(m&42)!==0?i===Of?Vo++:(Vo=0,Of=i):Vo=0,$o(0)}}function Sb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ao(a)))}function Qc(i){return vb(),bb(),_b(),wb()}function wb(){if(Je!==5)return!1;var i=js,a=Cf;Cf=0;var c=Wd(Sa),h=z.T,m=x.p;try{x.p=32>c?32:c,z.T=null,c=Rf,Rf=null;var y=js,R=Sa;if(Je=0,_a=js=null,Sa=0,(re&6)!==0)throw Error(n(331));var P=re;if(re|=4,rb(y.current),nb(y,y.current,R,c),re=P,$o(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Et,y)}catch{}return!0}finally{x.p=m,z.T=h,Sb(i,a)}}function Ab(i,a,c){a=Wn(c,a),a=of(i.stateNode,a,2),i=Ts(i,a,2),i!==null&&(ao(i,2),ki(i))}function he(i,a,c){if(i.tag===3)Ab(i,i,c);else for(;a!==null;){if(a.tag===3){Ab(a,i,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ps===null||!Ps.has(h))){i=Wn(c,i),c=Cv(2),h=Ts(a,c,2),h!==null&&(Rv(c,h,a,i),ao(h,2),ki(h));break}}a=a.return}}function Lf(i,a,c){var h=i.pingCache;if(h===null){h=i.pingCache=new Lx;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(Af=!0,m.add(c),i=Fx.bind(null,i,a,c),a.then(i,i))}function Fx(i,a,c){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,ge===i&&(te&c)===c&&(Re===4||Re===3&&(te&62914560)===te&&300>Ot()-Tf?(re&2)===0&&wa(i,0):xf|=c,ba===te&&(ba=0)),ki(i)}function xb(i,a){a===0&&(a=_g()),i=sa(i,a),i!==null&&(ao(i,a),ki(i))}function Ix(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),xb(i,c)}function zx(i,a){var c=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),xb(i,c)}function Ux(i,a){return bt(i,a)}var Zc=null,xa=null,Nf=!1,Jc=!1,Pf=!1,yr=0;function ki(i){i!==xa&&i.next===null&&(xa===null?Zc=xa=i:xa=xa.next=i),Jc=!0,Nf||(Nf=!0,Vx())}function $o(i,a){if(!Pf&&Jc){Pf=!0;do for(var c=!1,h=Zc;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var R=h.suspendedLanes,P=h.pingedLanes;y=(1<<31-Zt(42|i)+1)-1,y&=m&~(R&~P),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Rb(h,y))}else y=te,y=Js(h,h===ge?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||tr(h,y)||(c=!0,Rb(h,y));h=h.next}while(c);Pf=!1}}function Hx(){Eb()}function Eb(){Jc=Nf=!1;var i=0;yr!==0&&(Qx()&&(i=yr),yr=0);for(var a=Ot(),c=null,h=Zc;h!==null;){var m=h.next,y=Tb(h,a);y===0?(h.next=null,c===null?Zc=m:c.next=m,m===null&&(xa=c)):(c=h,(i!==0||(y&3)!==0)&&(Jc=!0)),h=m}$o(i)}function Tb(i,a){for(var c=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var R=31-Zt(y),P=1<<R,q=m[R];q===-1?((P&c)===0||(P&h)!==0)&&(m[R]=rc(P,a)):q<=a&&(i.expiredLanes|=P),y&=~P}if(a=ge,c=te,c=Js(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===a&&(ae===2||ae===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&_t(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||tr(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(h!==null&&_t(h),Wd(c)){case 2:case 8:c=G;break;case 32:c=J;break;case 268435456:c=gt;break;default:c=J}return h=Cb.bind(null,i),c=bt(c,h),i.callbackPriority=a,i.callbackNode=c,a}return h!==null&&h!==null&&_t(h),i.callbackPriority=2,i.callbackNode=null,2}function Cb(i,a){if(Je!==0&&Je!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Qc()&&i.callbackNode!==c)return null;var h=te;return h=Js(i,i===ge?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(cb(i,h,a),Tb(i,Ot()),i.callbackNode!=null&&i.callbackNode===c?Cb.bind(null,i):null)}function Rb(i,a){if(Qc())return null;cb(i,a,!0)}function Vx(){Jx(function(){(re&6)!==0?bt(oe,Hx):Eb()})}function jf(){return yr===0&&(yr=bg()),yr}function Ob(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:uc(""+i)}function Mb(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function $x(i,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var y=Ob((m[_n]||null).action),R=h.submitter;R&&(a=(a=R[_n]||null)?Ob(a.formAction):R.getAttribute("formAction"),a!==null&&(y=a,R=null));var P=new pc("action","action",null,h,m);i.push({event:P,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(yr!==0){var q=R?Mb(m,R):new FormData(m);ef(c,{pending:!0,data:q,method:m.method,action:y},null,q)}}else typeof y=="function"&&(P.preventDefault(),q=R?Mb(m,R):new FormData(m),ef(c,{pending:!0,data:q,method:m.method,action:y},y,q))},currentTarget:m}]})}}for(var Bf=0;Bf<_h.length;Bf++){var Ff=_h[Bf],qx=Ff.toLowerCase(),Gx=Ff[0].toUpperCase()+Ff.slice(1);li(qx,"on"+Gx)}li(cy,"onAnimationEnd"),li(uy,"onAnimationIteration"),li(dy,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(cx,"onTransitionRun"),li(ux,"onTransitionStart"),li(dx,"onTransitionCancel"),li(hy,"onTransitionEnd"),Yr("onMouseEnter",["mouseout","mouseover"]),Yr("onMouseLeave",["mouseout","mouseover"]),Yr("onPointerEnter",["pointerout","pointerover"]),Yr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qo));function kb(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],m=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var R=h.length-1;0<=R;R--){var P=h[R],q=P.instance,nt=P.currentTarget;if(P=P.listener,q!==y&&m.isPropagationStopped())break t;y=P,m.currentTarget=nt;try{y(m)}catch(ut){zc(ut)}m.currentTarget=null,y=q}else for(R=0;R<h.length;R++){if(P=h[R],q=P.instance,nt=P.currentTarget,P=P.listener,q!==y&&m.isPropagationStopped())break t;y=P,m.currentTarget=nt;try{y(m)}catch(ut){zc(ut)}m.currentTarget=null,y=q}}}}function Kt(i,a){var c=a[Kd];c===void 0&&(c=a[Kd]=new Set);var h=i+"__bubble";c.has(h)||(Db(a,i,2,!1),c.add(h))}function If(i,a,c){var h=0;a&&(h|=4),Db(c,i,h,a)}var tu="_reactListening"+Math.random().toString(36).slice(2);function zf(i){if(!i[tu]){i[tu]=!0,Eg.forEach(function(c){c!=="selectionchange"&&(Xx.has(c)||If(c,!1,i),If(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[tu]||(a[tu]=!0,If("selectionchange",!1,a))}}function Db(i,a,c,h){switch(n0(a)){case 2:var m=_E;break;case 8:m=SE;break;default:m=tp}c=m.bind(null,a,c,i),m=void 0,!oh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(a,c,{capture:!0,passive:m}):i.addEventListener(a,c,!0):m!==void 0?i.addEventListener(a,c,{passive:m}):i.addEventListener(a,c,!1)}function Uf(i,a,c,h,m){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var P=h.stateNode.containerInfo;if(P===m)break;if(R===4)for(R=h.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;P!==null;){if(R=qr(P),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){h=y=R;continue t}P=P.parentNode}}h=h.return}Ig(function(){var nt=y,ut=rh(c),ft=[];t:{var it=fy.get(i);if(it!==void 0){var rt=pc,Bt=i;switch(i){case"keypress":if(hc(c)===0)break t;case"keydown":case"keyup":rt=UA;break;case"focusin":Bt="focus",rt=dh;break;case"focusout":Bt="blur",rt=dh;break;case"beforeblur":case"afterblur":rt=dh;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=OA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=$A;break;case cy:case uy:case dy:rt=DA;break;case hy:rt=GA;break;case"scroll":case"scrollend":rt=CA;break;case"wheel":rt=YA;break;case"copy":case"cut":case"paste":rt=NA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=$g;break;case"toggle":case"beforetoggle":rt=KA}var Lt=(a&4)!==0,ue=!Lt&&(i==="scroll"||i==="scrollend"),Z=Lt?it!==null?it+"Capture":null:it;Lt=[];for(var W=nt,et;W!==null;){var ht=W;if(et=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||et===null||Z===null||(ht=co(W,Z),ht!=null&&Lt.push(Go(W,ht,et))),ue)break;W=W.return}0<Lt.length&&(it=new rt(it,Bt,null,c,ut),ft.push({event:it,listeners:Lt}))}}if((a&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",rt=i==="mouseout"||i==="pointerout",it&&c!==sh&&(Bt=c.relatedTarget||c.fromElement)&&(qr(Bt)||Bt[$r]))break t;if((rt||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,rt?(Bt=c.relatedTarget||c.toElement,rt=nt,Bt=Bt?qr(Bt):null,Bt!==null&&(ue=o(Bt),Lt=Bt.tag,Bt!==ue||Lt!==5&&Lt!==27&&Lt!==6)&&(Bt=null)):(rt=null,Bt=nt),rt!==Bt)){if(Lt=Hg,ht="onMouseLeave",Z="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Lt=$g,ht="onPointerLeave",Z="onPointerEnter",W="pointer"),ue=rt==null?it:lo(rt),et=Bt==null?it:lo(Bt),it=new Lt(ht,W+"leave",rt,c,ut),it.target=ue,it.relatedTarget=et,ht=null,qr(ut)===nt&&(Lt=new Lt(Z,W+"enter",Bt,c,ut),Lt.target=et,Lt.relatedTarget=ue,ht=Lt),ue=ht,rt&&Bt)e:{for(Lt=rt,Z=Bt,W=0,et=Lt;et;et=Ea(et))W++;for(et=0,ht=Z;ht;ht=Ea(ht))et++;for(;0<W-et;)Lt=Ea(Lt),W--;for(;0<et-W;)Z=Ea(Z),et--;for(;W--;){if(Lt===Z||Z!==null&&Lt===Z.alternate)break e;Lt=Ea(Lt),Z=Ea(Z)}Lt=null}else Lt=null;rt!==null&&Lb(ft,it,rt,Lt,!1),Bt!==null&&ue!==null&&Lb(ft,ue,Bt,Lt,!0)}}t:{if(it=nt?lo(nt):window,rt=it.nodeName&&it.nodeName.toLowerCase(),rt==="select"||rt==="input"&&it.type==="file")var Tt=Zg;else if(Kg(it))if(Jg)Tt=ax;else{Tt=sx;var Yt=ix}else rt=it.nodeName,!rt||rt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?nt&&ih(nt.elementType)&&(Tt=Zg):Tt=rx;if(Tt&&(Tt=Tt(i,nt))){Qg(ft,Tt,c,ut);break t}Yt&&Yt(i,it,nt),i==="focusout"&&nt&&it.type==="number"&&nt.memoizedProps.value!=null&&nh(it,"number",it.value)}switch(Yt=nt?lo(nt):window,i){case"focusin":(Kg(Yt)||Yt.contentEditable==="true")&&(ea=Yt,yh=nt,vo=null);break;case"focusout":vo=yh=ea=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,oy(ft,c,ut);break;case"selectionchange":if(lx)break;case"keydown":case"keyup":oy(ft,c,ut)}var Mt;if(fh)t:{switch(i){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ta?Yg(i,c)&&(Nt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Nt="onCompositionStart");Nt&&(qg&&c.locale!=="ko"&&(ta||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ta&&(Mt=zg()):(ws=ut,lh="value"in ws?ws.value:ws.textContent,ta=!0)),Yt=eu(nt,Nt),0<Yt.length&&(Nt=new Vg(Nt,i,null,c,ut),ft.push({event:Nt,listeners:Yt}),Mt?Nt.data=Mt:(Mt=Wg(c),Mt!==null&&(Nt.data=Mt)))),(Mt=ZA?JA(i,c):tx(i,c))&&(Nt=eu(nt,"onBeforeInput"),0<Nt.length&&(Yt=new Vg("onBeforeInput","beforeinput",null,c,ut),ft.push({event:Yt,listeners:Nt}),Yt.data=Mt)),$x(ft,i,nt,c,ut)}kb(ft,a)})}function Go(i,a,c){return{instance:i,listener:a,currentTarget:c}}function eu(i,a){for(var c=a+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=co(i,c),m!=null&&h.unshift(Go(i,m,y)),m=co(i,a),m!=null&&h.push(Go(i,m,y))),i.tag===3)return h;i=i.return}return[]}function Ea(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Lb(i,a,c,h,m){for(var y=a._reactName,R=[];c!==null&&c!==h;){var P=c,q=P.alternate,nt=P.stateNode;if(P=P.tag,q!==null&&q===h)break;P!==5&&P!==26&&P!==27||nt===null||(q=nt,m?(nt=co(c,y),nt!=null&&R.unshift(Go(c,nt,q))):m||(nt=co(c,y),nt!=null&&R.push(Go(c,nt,q)))),c=c.return}R.length!==0&&i.push({event:a,listeners:R})}var Yx=/\r\n?/g,Wx=/\u0000|\uFFFD/g;function Nb(i){return(typeof i=="string"?i:""+i).replace(Yx,`
`).replace(Wx,"")}function Pb(i,a){return a=Nb(a),Nb(i)===a}function nu(){}function ce(i,a,c,h,m,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Qr(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Qr(i,""+h);break;case"className":oc(i,"class",h);break;case"tabIndex":oc(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":oc(i,c,h);break;case"style":Bg(i,h,y);break;case"data":if(a!=="object"){oc(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=uc(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&ce(i,a,"name",m.name,m,null),ce(i,a,"formEncType",m.formEncType,m,null),ce(i,a,"formMethod",m.formMethod,m,null),ce(i,a,"formTarget",m.formTarget,m,null)):(ce(i,a,"encType",m.encType,m,null),ce(i,a,"method",m.method,m,null),ce(i,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=uc(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=nu);break;case"onScroll":h!=null&&Kt("scroll",i);break;case"onScrollEnd":h!=null&&Kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=uc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Kt("beforetoggle",i),Kt("toggle",i),ac(i,"popover",h);break;case"xlinkActuate":qi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":qi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":qi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":qi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":qi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":qi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":qi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":qi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":qi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ac(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=EA.get(c)||c,ac(i,c,h))}}function Hf(i,a,c,h,m,y){switch(c){case"style":Bg(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?Qr(i,h):(typeof h=="number"||typeof h=="bigint")&&Qr(i,""+h);break;case"onScroll":h!=null&&Kt("scroll",i);break;case"onScrollEnd":h!=null&&Kt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tg.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),y=i[_n]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(a,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,h,m);break t}c in i?i[c]=h:h===!0?i.setAttribute(c,""):ac(i,c,h)}}}function tn(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",i),Kt("load",i);var h=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var R=c[y];if(R!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ce(i,a,y,R,c,null)}}m&&ce(i,a,"srcSet",c.srcSet,c,null),h&&ce(i,a,"src",c.src,c,null);return;case"input":Kt("invalid",i);var P=y=R=m=null,q=null,nt=null;for(h in c)if(c.hasOwnProperty(h)){var ut=c[h];if(ut!=null)switch(h){case"name":m=ut;break;case"type":R=ut;break;case"checked":q=ut;break;case"defaultChecked":nt=ut;break;case"value":y=ut;break;case"defaultValue":P=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,a));break;default:ce(i,a,h,ut,c,null)}}Lg(i,y,P,q,nt,R,m,!1),lc(i);return;case"select":Kt("invalid",i),h=R=y=null;for(m in c)if(c.hasOwnProperty(m)&&(P=c[m],P!=null))switch(m){case"value":y=P;break;case"defaultValue":R=P;break;case"multiple":h=P;default:ce(i,a,m,P,c,null)}a=y,c=R,i.multiple=!!h,a!=null?Kr(i,!!h,a,!1):c!=null&&Kr(i,!!h,c,!0);return;case"textarea":Kt("invalid",i),y=m=h=null;for(R in c)if(c.hasOwnProperty(R)&&(P=c[R],P!=null))switch(R){case"value":h=P;break;case"defaultValue":m=P;break;case"children":y=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(n(91));break;default:ce(i,a,R,P,c,null)}Pg(i,h,m,y),lc(i);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(h=c[q],h!=null))switch(q){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ce(i,a,q,h,c,null)}return;case"dialog":Kt("beforetoggle",i),Kt("toggle",i),Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":Kt("load",i);break;case"video":case"audio":for(h=0;h<qo.length;h++)Kt(qo[h],i);break;case"image":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"embed":case"source":case"link":Kt("error",i),Kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in c)if(c.hasOwnProperty(nt)&&(h=c[nt],h!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ce(i,a,nt,h,c,null)}return;default:if(ih(a)){for(ut in c)c.hasOwnProperty(ut)&&(h=c[ut],h!==void 0&&Hf(i,a,ut,h,c,void 0));return}}for(P in c)c.hasOwnProperty(P)&&(h=c[P],h!=null&&ce(i,a,P,h,c,null))}function Kx(i,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,R=null,P=null,q=null,nt=null,ut=null;for(rt in c){var ft=c[rt];if(c.hasOwnProperty(rt)&&ft!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":q=ft;default:h.hasOwnProperty(rt)||ce(i,a,rt,null,h,ft)}}for(var it in h){var rt=h[it];if(ft=c[it],h.hasOwnProperty(it)&&(rt!=null||ft!=null))switch(it){case"type":y=rt;break;case"name":m=rt;break;case"checked":nt=rt;break;case"defaultChecked":ut=rt;break;case"value":R=rt;break;case"defaultValue":P=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(n(137,a));break;default:rt!==ft&&ce(i,a,it,rt,h,ft)}}eh(i,R,P,q,nt,ut,y,m);return;case"select":rt=R=P=it=null;for(y in c)if(q=c[y],c.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":rt=q;default:h.hasOwnProperty(y)||ce(i,a,y,null,h,q)}for(m in h)if(y=h[m],q=c[m],h.hasOwnProperty(m)&&(y!=null||q!=null))switch(m){case"value":it=y;break;case"defaultValue":P=y;break;case"multiple":R=y;default:y!==q&&ce(i,a,m,y,h,q)}a=P,c=R,h=rt,it!=null?Kr(i,!!c,it,!1):!!h!=!!c&&(a!=null?Kr(i,!!c,a,!0):Kr(i,!!c,c?[]:"",!1));return;case"textarea":rt=it=null;for(P in c)if(m=c[P],c.hasOwnProperty(P)&&m!=null&&!h.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:ce(i,a,P,null,h,m)}for(R in h)if(m=h[R],y=c[R],h.hasOwnProperty(R)&&(m!=null||y!=null))switch(R){case"value":it=m;break;case"defaultValue":rt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(n(91));break;default:m!==y&&ce(i,a,R,m,h,y)}Ng(i,it,rt);return;case"option":for(var Bt in c)if(it=c[Bt],c.hasOwnProperty(Bt)&&it!=null&&!h.hasOwnProperty(Bt))switch(Bt){case"selected":i.selected=!1;break;default:ce(i,a,Bt,null,h,it)}for(q in h)if(it=h[q],rt=c[q],h.hasOwnProperty(q)&&it!==rt&&(it!=null||rt!=null))switch(q){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ce(i,a,q,it,h,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in c)it=c[Lt],c.hasOwnProperty(Lt)&&it!=null&&!h.hasOwnProperty(Lt)&&ce(i,a,Lt,null,h,it);for(nt in h)if(it=h[nt],rt=c[nt],h.hasOwnProperty(nt)&&it!==rt&&(it!=null||rt!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,a));break;default:ce(i,a,nt,it,h,rt)}return;default:if(ih(a)){for(var ue in c)it=c[ue],c.hasOwnProperty(ue)&&it!==void 0&&!h.hasOwnProperty(ue)&&Hf(i,a,ue,void 0,h,it);for(ut in h)it=h[ut],rt=c[ut],!h.hasOwnProperty(ut)||it===rt||it===void 0&&rt===void 0||Hf(i,a,ut,it,h,rt);return}}for(var Z in c)it=c[Z],c.hasOwnProperty(Z)&&it!=null&&!h.hasOwnProperty(Z)&&ce(i,a,Z,null,h,it);for(ft in h)it=h[ft],rt=c[ft],!h.hasOwnProperty(ft)||it===rt||it==null&&rt==null||ce(i,a,ft,it,h,rt)}var Vf=null,$f=null;function iu(i){return i.nodeType===9?i:i.ownerDocument}function jb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bb(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function qf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Gf=null;function Qx(){var i=window.event;return i&&i.type==="popstate"?i===Gf?!1:(Gf=i,!0):(Gf=null,!1)}var Fb=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(i){return Ib.resolve(null).then(i).catch(tE)}:Fb;function tE(i){setTimeout(function(){throw i})}function Fs(i){return i==="head"}function zb(i,a){var c=a,h=0,m=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<h&&8>h){c=h;var R=i.ownerDocument;if(c&1&&Xo(R.documentElement),c&2&&Xo(R.body),c&4)for(c=R.head,Xo(c),R=c.firstChild;R;){var P=R.nextSibling,q=R.nodeName;R[oo]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=P}}if(m===0){i.removeChild(y),el(a);return}m--}else c==="$"||c==="$?"||c==="$!"?m++:h=c.charCodeAt(0)-48;else h=0;c=y}while(c);el(a)}function Xf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Xf(c),Qd(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function eE(i,a,c,h){for(;i.nodeType===1;){var m=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[oo])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ui(i.nextSibling),i===null)break}return null}function nE(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=ui(i.nextSibling),i===null))return null;return i}function Yf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function iE(i,a){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function ui(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Wf=null;function Ub(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}function Hb(i,a,c){switch(a=iu(c),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Xo(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Qd(i)}var ei=new Map,Vb=new Set;function su(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rs=x.d;x.d={f:sE,r:rE,D:aE,C:oE,L:lE,m:cE,X:dE,S:uE,M:hE};function sE(){var i=rs.f(),a=Wc();return i||a}function rE(i){var a=Gr(i);a!==null&&a.tag===5&&a.type==="form"?cv(a):rs.r(i)}var Ta=typeof document>"u"?null:document;function $b(i,a,c){var h=Ta;if(h&&typeof a=="string"&&a){var m=Yn(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Vb.has(m)||(Vb.add(m),i={rel:i,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),tn(a,"link",i),Ve(a),h.head.appendChild(a)))}}function aE(i){rs.D(i),$b("dns-prefetch",i,null)}function oE(i,a){rs.C(i,a),$b("preconnect",i,a)}function lE(i,a,c){rs.L(i,a,c);var h=Ta;if(h&&i&&a){var m='link[rel="preload"][as="'+Yn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Yn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Yn(c.imageSizes)+'"]')):m+='[href="'+Yn(i)+'"]';var y=m;switch(a){case"style":y=Ca(i);break;case"script":y=Ra(i)}ei.has(y)||(i=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),ei.set(y,i),h.querySelector(m)!==null||a==="style"&&h.querySelector(Yo(y))||a==="script"&&h.querySelector(Wo(y))||(a=h.createElement("link"),tn(a,"link",i),Ve(a),h.head.appendChild(a)))}}function cE(i,a){rs.m(i,a);var c=Ta;if(c&&i){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Yn(h)+'"][href="'+Yn(i)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ra(i)}if(!ei.has(y)&&(i=p({rel:"modulepreload",href:i},a),ei.set(y,i),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Wo(y)))return}h=c.createElement("link"),tn(h,"link",i),Ve(h),c.head.appendChild(h)}}}function uE(i,a,c){rs.S(i,a,c);var h=Ta;if(h&&i){var m=Xr(h).hoistableStyles,y=Ca(i);a=a||"default";var R=m.get(y);if(!R){var P={loading:0,preload:null};if(R=h.querySelector(Yo(y)))P.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},c),(c=ei.get(y))&&Kf(i,c);var q=R=h.createElement("link");Ve(q),tn(q,"link",i),q._p=new Promise(function(nt,ut){q.onload=nt,q.onerror=ut}),q.addEventListener("load",function(){P.loading|=1}),q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ru(R,a,h)}R={type:"stylesheet",instance:R,count:1,state:P},m.set(y,R)}}}function dE(i,a){rs.X(i,a);var c=Ta;if(c&&i){var h=Xr(c).hoistableScripts,m=Ra(i),y=h.get(m);y||(y=c.querySelector(Wo(m)),y||(i=p({src:i,async:!0},a),(a=ei.get(m))&&Qf(i,a),y=c.createElement("script"),Ve(y),tn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function hE(i,a){rs.M(i,a);var c=Ta;if(c&&i){var h=Xr(c).hoistableScripts,m=Ra(i),y=h.get(m);y||(y=c.querySelector(Wo(m)),y||(i=p({src:i,async:!0,type:"module"},a),(a=ei.get(m))&&Qf(i,a),y=c.createElement("script"),Ve(y),tn(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function qb(i,a,c,h){var m=(m=at.current)?su(m):null;if(!m)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Ca(c.href),c=Xr(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Ca(c.href);var y=Xr(m).hoistableStyles,R=y.get(i);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,R),(y=m.querySelector(Yo(i)))&&!y._p&&(R.instance=y,R.state.loading=5),ei.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ei.set(i,c),y||fE(m,i,c,R.state))),a&&h===null)throw Error(n(528,""));return R}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ra(c),c=Xr(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Ca(i){return'href="'+Yn(i)+'"'}function Yo(i){return'link[rel="stylesheet"]['+i+"]"}function Gb(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function fE(i,a,c,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),tn(a,"link",c),Ve(a),i.head.appendChild(a))}function Ra(i){return'[src="'+Yn(i)+'"]'}function Wo(i){return"script[async]"+i}function Xb(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Yn(c.href)+'"]');if(h)return a.instance=h,Ve(h),h;var m=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ve(h),tn(h,"style",m),ru(h,c.precedence,i),a.instance=h;case"stylesheet":m=Ca(c.href);var y=i.querySelector(Yo(m));if(y)return a.state.loading|=4,a.instance=y,Ve(y),y;h=Gb(c),(m=ei.get(m))&&Kf(h,m),y=(i.ownerDocument||i).createElement("link"),Ve(y);var R=y;return R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),tn(y,"link",h),a.state.loading|=4,ru(y,c.precedence,i),a.instance=y;case"script":return y=Ra(c.src),(m=i.querySelector(Wo(y)))?(a.instance=m,Ve(m),m):(h=c,(m=ei.get(y))&&(h=p({},c),Qf(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ve(m),tn(m,"link",h),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,ru(h,c.precedence,i));return a.instance}function ru(i,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,R=0;R<h.length;R++){var P=h[R];if(P.dataset.precedence===a)y=P;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function Kf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Qf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var au=null;function Yb(i,a,c){if(au===null){var h=new Map,m=au=new Map;m.set(c,h)}else m=au,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),m=0;m<c.length;m++){var y=c[m];if(!(y[oo]||y[an]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(a)||"";R=i+R;var P=h.get(R);P?P.push(y):h.set(R,[y])}}return h}function Wb(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function pE(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Kb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ko=null;function mE(){}function gE(i,a,c){if(Ko===null)throw Error(n(475));var h=Ko;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ca(c.href),y=i.querySelector(Yo(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=ou.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=y,Ve(y);return}y=i.ownerDocument||i,c=Gb(c),(m=ei.get(m))&&Kf(c,m),y=y.createElement("link"),Ve(y);var R=y;R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),tn(y,"link",c),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=ou.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function yE(){if(Ko===null)throw Error(n(475));var i=Ko;return i.stylesheets&&i.count===0&&Zf(i,i.stylesheets),0<i.count?function(a){var c=setTimeout(function(){if(i.stylesheets&&Zf(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c)}}:null}function ou(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var lu=null;function Zf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,lu=new Map,a.forEach(vE,i),lu=null,ou.call(i))}function vE(i,a){if(!(a.state.loading&4)){var c=lu.get(i);if(c)var h=c.get(null);else{c=new Map,lu.set(i,c);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var R=m[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),h=R)}h&&c.set(null,h)}m=a.instance,R=m.getAttribute("data-precedence"),y=c.get(R)||h,y===h&&c.set(null,m),c.set(R,m),this.count++,h=ou.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var Qo={$$typeof:M,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function bE(i,a,c,h,m,y,R,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xd(0),this.hiddenUpdates=Xd(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Qb(i,a,c,h,m,y,R,P,q,nt,ut,ft){return i=new bE(i,a,c,R,P,q,nt,ft),a=1,y===!0&&(a|=24),y=Pn(3,null,null,a),i.current=y,y.stateNode=i,a=Dh(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},jh(y),i}function Zb(i){return i?(i=ra,i):ra}function Jb(i,a,c,h,m,y){m=Zb(m),h.context===null?h.context=m:h.pendingContext=m,h=Es(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Ts(i,h,a),c!==null&&(zn(c,i,a),Co(c,i,a))}function t0(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Jf(i,a){t0(i,a),(i=i.alternate)&&t0(i,a)}function e0(i){if(i.tag===13){var a=sa(i,67108864);a!==null&&zn(a,i,67108864),Jf(i,67108864)}}var cu=!0;function _E(i,a,c,h){var m=z.T;z.T=null;var y=x.p;try{x.p=2,tp(i,a,c,h)}finally{x.p=y,z.T=m}}function SE(i,a,c,h){var m=z.T;z.T=null;var y=x.p;try{x.p=8,tp(i,a,c,h)}finally{x.p=y,z.T=m}}function tp(i,a,c,h){if(cu){var m=ep(h);if(m===null)Uf(i,a,h,uu,c),i0(i,h);else if(AE(m,i,a,c,h))h.stopPropagation();else if(i0(i,h),a&4&&-1<wE.indexOf(i)){for(;m!==null;){var y=Gr(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=$i(y.pendingLanes);if(R!==0){var P=y;for(P.pendingLanes|=2,P.entangledLanes|=2;R;){var q=1<<31-Zt(R);P.entanglements[1]|=q,R&=~q}ki(y),(re&6)===0&&(Xc=Ot()+500,$o(0))}}break;case 13:P=sa(y,2),P!==null&&zn(P,y,2),Wc(),Jf(y,2)}if(y=ep(h),y===null&&Uf(i,a,h,uu,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else Uf(i,a,h,null,c)}}function ep(i){return i=rh(i),np(i)}var uu=null;function np(i){if(uu=null,i=qr(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return uu=i,null}function n0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case oe:return 2;case G:return 8;case J:case lt:return 32;case gt:return 268435456;default:return 32}default:return 32}}var ip=!1,Is=null,zs=null,Us=null,Zo=new Map,Jo=new Map,Hs=[],wE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i0(i,a){switch(i){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Zo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(a.pointerId)}}function tl(i,a,c,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},a!==null&&(a=Gr(a),a!==null&&e0(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function AE(i,a,c,h,m){switch(a){case"focusin":return Is=tl(Is,i,a,c,h,m),!0;case"dragenter":return zs=tl(zs,i,a,c,h,m),!0;case"mouseover":return Us=tl(Us,i,a,c,h,m),!0;case"pointerover":var y=m.pointerId;return Zo.set(y,tl(Zo.get(y)||null,i,a,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Jo.set(y,tl(Jo.get(y)||null,i,a,c,h,m)),!0}return!1}function s0(i){var a=qr(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,gA(i.priority,function(){if(c.tag===13){var h=In();h=Yd(h);var m=sa(c,h);m!==null&&zn(m,c,h),Jf(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function du(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=ep(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);sh=h,c.target.dispatchEvent(h),sh=null}else return a=Gr(c),a!==null&&e0(a),i.blockedOn=c,!1;a.shift()}return!0}function r0(i,a,c){du(i)&&c.delete(a)}function xE(){ip=!1,Is!==null&&du(Is)&&(Is=null),zs!==null&&du(zs)&&(zs=null),Us!==null&&du(Us)&&(Us=null),Zo.forEach(r0),Jo.forEach(r0)}function hu(i,a){i.blockedOn===a&&(i.blockedOn=null,ip||(ip=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,xE)))}var fu=null;function a0(i){fu!==i&&(fu=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){fu===i&&(fu=null);for(var a=0;a<i.length;a+=3){var c=i[a],h=i[a+1],m=i[a+2];if(typeof h!="function"){if(np(h||c)===null)continue;break}var y=Gr(c);y!==null&&(i.splice(a,3),a-=3,ef(y,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function el(i){function a(q){return hu(q,i)}Is!==null&&hu(Is,i),zs!==null&&hu(zs,i),Us!==null&&hu(Us,i),Zo.forEach(a),Jo.forEach(a);for(var c=0;c<Hs.length;c++){var h=Hs[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Hs.length&&(c=Hs[0],c.blockedOn===null);)s0(c),c.blockedOn===null&&Hs.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],y=c[h+1],R=m[_n]||null;if(typeof y=="function")R||a0(c);else if(R){var P=null;if(y&&y.hasAttribute("formAction")){if(m=y,R=y[_n]||null)P=R.formAction;else if(np(m)!==null)continue}else P=R.action;typeof P=="function"?c[h+1]=P:(c.splice(h,3),h-=3),a0(c)}}}function sp(i){this._internalRoot=i}pu.prototype.render=sp.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var c=a.current,h=In();Jb(c,h,i,a,null,null)},pu.prototype.unmount=sp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Jb(i.current,2,null,i,null,null),Wc(),a[$r]=null}};function pu(i){this._internalRoot=i}pu.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ag();i={blockedOn:null,target:i,priority:a};for(var c=0;c<Hs.length&&a!==0&&a<Hs[c].priority;c++);Hs.splice(c,0,i),c===0&&s0(i)}};var o0=t.version;if(o0!=="19.1.1")throw Error(n(527,o0,"19.1.1"));x.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(a),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var EE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Et=mu.inject(EE),Rt=mu}catch{}}return il.createRoot=function(i,a){if(!r(i))throw Error(n(299));var c=!1,h="",m=Av,y=xv,R=Ev,P=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks)),a=Qb(i,1,!1,null,null,c,h,m,y,R,P,null),i[$r]=a.current,zf(i),new sp(a)},il.hydrateRoot=function(i,a,c){if(!r(i))throw Error(n(299));var h=!1,m="",y=Av,R=xv,P=Ev,q=null,nt=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(nt=c.formState)),a=Qb(i,1,!0,a,c??null,h,m,y,R,P,q,nt),a.context=Zb(null),c=a.current,h=In(),h=Yd(h),m=Es(h),m.callback=null,Ts(c,m,h),c=h,a.current.lanes=c,ao(a,c),ki(a),i[$r]=a.current,zf(i),new pu(a)},il.version="19.1.1",il}var b0;function jE(){if(b0)return lp.exports;b0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),lp.exports=PE(),lp.exports}var BE=jE();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _0="popstate";function FE(s={}){function t(n,r){let{pathname:o,search:l,hash:u}=n.location;return Gp("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:Cl(r)}return zE(t,e,null,s)}function Se(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function vi(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IE(){return Math.random().toString(36).substring(2,10)}function S0(s,t){return{usr:s.state,key:s.key,idx:t}}function Gp(s,t,e=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Ja(t):t,state:e,key:t&&t.key||n||IE()}}function Cl({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function Ja(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let n=s.indexOf("?");n>=0&&(t.search=s.substring(n),s=s.substring(0,n)),s&&(t.pathname=s)}return t}function zE(s,t,e,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),A=E==null?null:E-f;f=E,d&&d({action:u,location:b.location,delta:A})}function v(E,A){u="PUSH";let C=Gp(b.location,E,A);f=p()+1;let M=S0(C,f),F=b.createHref(C);try{l.pushState(M,"",F)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(F)}o&&d&&d({action:u,location:b.location,delta:1})}function _(E,A){u="REPLACE";let C=Gp(b.location,E,A);f=p();let M=S0(C,f),F=b.createHref(C);l.replaceState(M,"",F),o&&d&&d({action:u,location:b.location,delta:0})}function w(E){return UE(E)}let b={get action(){return u},get location(){return s(r,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(_0,g),d=E,()=>{r.removeEventListener(_0,g),d=null}},createHref(E){return t(r,E)},createURL:w,encodeLocation(E){let A=w(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:_,go(E){return l.go(E)}};return b}function UE(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Se(e,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:Cl(s);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function OS(s,t,e="/"){return HE(s,t,e,!1)}function HE(s,t,e,n){let r=typeof t=="string"?Ja(t):t,o=ps(r.pathname||"/",e);if(o==null)return null;let l=MS(s);VE(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=tT(o);u=ZE(l[d],f,n)}return u}function MS(s,t=[],e=[],n="",r=!1){let o=(l,u,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Se(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=ds([n,p.relativePath]),v=e.concat(p);l.children&&l.children.length>0&&(Se(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),MS(l.children,t,v,g,d)),!(l.path==null&&!l.index)&&t.push({path:g,score:KE(g,l.index),routesMeta:v})};return s.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of kS(l.path))o(l,u,!0,d)}),t}function kS(s){let t=s.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=kS(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>s.startsWith("/")&&d===""?"/":d)}function VE(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:QE(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var $E=/^:[\w-]+$/,qE=3,GE=2,XE=1,YE=10,WE=-2,w0=s=>s==="*";function KE(s,t){let e=s.split("/"),n=e.length;return e.some(w0)&&(n+=WE),t&&(n+=GE),e.filter(r=>!w0(r)).reduce((r,o)=>r+($E.test(o)?qE:o===""?XE:YE),n)}function QE(s,t){return s.length===t.length&&s.slice(0,-1).every((n,r)=>n===t[r])?s[s.length-1]-t[t.length-1]:0}function ZE(s,t,e=!1){let{routesMeta:n}=s,r={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",g=Yu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!g&&f&&e&&!n[n.length-1].route.index&&(g=Yu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(r,g.params),l.push({params:r,pathname:ds([o,g.pathname]),pathnameBase:sT(ds([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=ds([o,g.pathnameBase]))}return l}function Yu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,n]=JE(s.path,s.caseSensitive,s.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:g},v)=>{if(p==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=u[v];return g&&!_?f[p]=void 0:f[p]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:s}}function JE(s,t=!1,e=!0){vi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function tT(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return vi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function ps(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=s.charAt(e);return n&&n!=="/"?null:s.slice(e)||"/"}function eT(s,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof s=="string"?Ja(s):s;return{pathname:e?e.startsWith("/")?e:nT(e,t):t,search:rT(n),hash:aT(r)}}function nT(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function hp(s,t,e,n){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iT(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Cm(s){let t=iT(s);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Rm(s,t,e,n=!1){let r;typeof s=="string"?r=Ja(s):(r={...s},Se(!r.pathname||!r.pathname.includes("?"),hp("?","pathname","search",r)),Se(!r.pathname||!r.pathname.includes("#"),hp("#","pathname","hash",r)),Se(!r.search||!r.search.includes("#"),hp("#","search","hash",r)));let o=s===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let g=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;r.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=eT(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var ds=s=>s.join("/").replace(/\/\/+/g,"/"),sT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),rT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,aT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function oT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var DS=["POST","PUT","PATCH","DELETE"];new Set(DS);var lT=["GET",...DS];new Set(lT);var to=U.createContext(null);to.displayName="DataRouter";var bd=U.createContext(null);bd.displayName="DataRouterState";U.createContext(!1);var LS=U.createContext({isTransitioning:!1});LS.displayName="ViewTransition";var cT=U.createContext(new Map);cT.displayName="Fetchers";var uT=U.createContext(null);uT.displayName="Await";var wi=U.createContext(null);wi.displayName="Navigation";var Bl=U.createContext(null);Bl.displayName="Location";var Ai=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var Om=U.createContext(null);Om.displayName="RouteError";function dT(s,{relative:t}={}){Se(eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=U.useContext(wi),{hash:r,pathname:o,search:l}=Il(s,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:ds([e,o])),n.createHref({pathname:u,search:l,hash:r})}function eo(){return U.useContext(Bl)!=null}function Qs(){return Se(eo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Bl).location}var NS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PS(s){U.useContext(wi).static||U.useLayoutEffect(s)}function Fl(){let{isDataRoute:s}=U.useContext(Ai);return s?xT():hT()}function hT(){Se(eo(),"useNavigate() may be used only in the context of a <Router> component.");let s=U.useContext(to),{basename:t,navigator:e}=U.useContext(wi),{matches:n}=U.useContext(Ai),{pathname:r}=Qs(),o=JSON.stringify(Cm(n)),l=U.useRef(!1);return PS(()=>{l.current=!0}),U.useCallback((d,f={})=>{if(vi(l.current,NS),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=Rm(d,JSON.parse(o),r,f.relative==="path");s==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ds([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,r,s])}U.createContext(null);function jS(){let{matches:s}=U.useContext(Ai),t=s[s.length-1];return t?t.params:{}}function Il(s,{relative:t}={}){let{matches:e}=U.useContext(Ai),{pathname:n}=Qs(),r=JSON.stringify(Cm(e));return U.useMemo(()=>Rm(s,JSON.parse(r),n,t==="path"),[s,r,n,t])}function fT(s,t){return BS(s,t)}function BS(s,t,e,n,r){Se(eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(wi),{matches:l}=U.useContext(Ai),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let C=g&&g.path||"";FS(f,!g||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Qs(),_;if(t){let C=typeof t=="string"?Ja(t):t;Se(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),_=C}else _=v;let w=_.pathname||"/",b=w;if(p!=="/"){let C=p.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let E=OS(s,{pathname:b});vi(g||E!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),vi(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=vT(E&&E.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:ds([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:ds([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,e,n,r);return t&&A?U.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},A):A}function pT(){let s=AT(),t=oT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:o},"ErrorBoundary")," or"," ",U.createElement("code",{style:o},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),e?U.createElement("pre",{style:r},e):null,l)}var mT=U.createElement(pT,null),gT=class extends U.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?U.createElement(Ai.Provider,{value:this.props.routeContext},U.createElement(Om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yT({routeContext:s,match:t,children:e}){let n=U.useContext(to);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(Ai.Provider,{value:s},e)}function vT(s,t=[],e=null,n=null,r=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let o=s,l=e?.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Se(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:v}=e,_=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||_){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,_=!1,w=null,b=null;e&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||mT,u&&(d<0&&g===0?(FS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,b=null):d===g&&(_=!0,b=p.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,g+1)),A=()=>{let C;return v?C=w:_?C=b:p.route.Component?C=U.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,U.createElement(yT,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:e!=null},children:C})};return e&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?U.createElement(gT,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):A()},null)}function Mm(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bT(s){let t=U.useContext(to);return Se(t,Mm(s)),t}function _T(s){let t=U.useContext(bd);return Se(t,Mm(s)),t}function ST(s){let t=U.useContext(Ai);return Se(t,Mm(s)),t}function km(s){let t=ST(s),e=t.matches[t.matches.length-1];return Se(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function wT(){return km("useRouteId")}function AT(){let s=U.useContext(Om),t=_T("useRouteError"),e=km("useRouteError");return s!==void 0?s:t.errors?.[e]}function xT(){let{router:s}=bT("useNavigate"),t=km("useNavigate"),e=U.useRef(!1);return PS(()=>{e.current=!0}),U.useCallback(async(r,o={})=>{vi(e.current,NS),e.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:t,...o}))},[s,t])}var A0={};function FS(s,t,e){!t&&!A0[s]&&(A0[s]=!0,vi(!1,e))}U.memo(ET);function ET({routes:s,future:t,state:e,unstable_onError:n}){return BS(s,void 0,e,n,t)}function IS({to:s,replace:t,state:e,relative:n}){Se(eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=U.useContext(wi);vi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=U.useContext(Ai),{pathname:l}=Qs(),u=Fl(),d=Rm(s,Cm(o),l,n==="path"),f=JSON.stringify(d);return U.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:n})},[u,f,n,t,e]),null}function wr(s){Se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TT({basename:s="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:o=!1}){Se(!eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Ja(e));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=e,_=U.useMemo(()=>{let w=ps(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:v},navigationType:n}},[l,d,f,p,g,v,n]);return vi(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:U.createElement(wi.Provider,{value:u},U.createElement(Bl.Provider,{children:t,value:_}))}function CT({children:s,location:t}){return fT(Xp(s),t)}function Xp(s,t=[]){let e=[];return U.Children.forEach(s,(n,r)=>{if(!U.isValidElement(n))return;let o=[...t,r];if(n.type===U.Fragment){e.push.apply(e,Xp(n.props.children,o));return}Se(n.type===wr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Se(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Xp(n.props.children,o)),e.push(l)}),e}var Pu="get",ju="application/x-www-form-urlencoded";function _d(s){return s!=null&&typeof s.tagName=="string"}function RT(s){return _d(s)&&s.tagName.toLowerCase()==="button"}function OT(s){return _d(s)&&s.tagName.toLowerCase()==="form"}function MT(s){return _d(s)&&s.tagName.toLowerCase()==="input"}function kT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function DT(s,t){return s.button===0&&(!t||t==="_self")&&!kT(s)}var yu=null;function LT(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var NT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(s){return s!=null&&!NT.has(s)?(vi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ju}"`),null):s}function PT(s,t){let e,n,r,o,l;if(OT(s)){let u=s.getAttribute("action");n=u?ps(u,t):null,e=s.getAttribute("method")||Pu,r=fp(s.getAttribute("enctype"))||ju,o=new FormData(s)}else if(RT(s)||MT(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||u.getAttribute("action");if(n=d?ps(d,t):null,e=s.getAttribute("formmethod")||u.getAttribute("method")||Pu,r=fp(s.getAttribute("formenctype"))||fp(u.getAttribute("enctype"))||ju,o=new FormData(u,s),!LT()){let{name:f,type:p,value:g}=s;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,g)}}else{if(_d(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Pu,n=null,r=ju,l=s}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Dm(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function jT(s,t,e){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&ps(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function BT(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function IT(s,t,e){let n=await Promise.all(s.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await BT(o,e);return l.links?l.links():[]}return[]}));return VT(n.flat(1).filter(FT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function x0(s,t,e,n,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function zT(s,t,{includeHydrateFallback:e}={}){return UT(s.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function UT(s){return[...new Set(s)]}function HT(s){let t={},e=Object.keys(s).sort();for(let n of e)t[n]=s[n];return t}function VT(s,t){let e=new Set;return new Set(t),s.reduce((n,r)=>{let o=JSON.stringify(HT(r));return e.has(o)||(e.add(o),n.push({key:o,link:r})),n},[])}function zS(){let s=U.useContext(to);return Dm(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function $T(){let s=U.useContext(bd);return Dm(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Lm=U.createContext(void 0);Lm.displayName="FrameworkContext";function US(){let s=U.useContext(Lm);return Dm(s,"You must render this element inside a <HydratedRouter> element"),s}function qT(s,t){let e=U.useContext(Lm),[n,r]=U.useState(!1),[o,l]=U.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=t,v=U.useRef(null);U.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let b=A=>{A.forEach(C=>{l(C.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[s]),U.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let _=()=>{r(!0)},w=()=>{r(!1),l(!1)};return e?s!=="intent"?[o,v,{}]:[o,v,{onFocus:sl(u,_),onBlur:sl(d,w),onMouseEnter:sl(f,_),onMouseLeave:sl(p,w),onTouchStart:sl(g,_)}]:[!1,v,{}]}function sl(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function GT({page:s,...t}){let{router:e}=zS(),n=U.useMemo(()=>OS(e.routes,s,e.basename),[e.routes,s,e.basename]);return n?U.createElement(YT,{page:s,matches:n,...t}):null}function XT(s){let{manifest:t,routeModules:e}=US(),[n,r]=U.useState([]);return U.useEffect(()=>{let o=!1;return IT(s,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[s,t,e]),n}function YT({page:s,matches:t,...e}){let n=Qs(),{manifest:r,routeModules:o}=US(),{basename:l}=zS(),{loaderData:u,matches:d}=$T(),f=U.useMemo(()=>x0(s,t,d,r,n,"data"),[s,t,d,r,n]),p=U.useMemo(()=>x0(s,t,d,r,n,"assets"),[s,t,d,r,n]),g=U.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let w=new Set,b=!1;if(t.forEach(A=>{let C=r.routes[A.route.id];!C||!C.hasLoader||(!f.some(M=>M.route.id===A.route.id)&&A.route.id in u&&o[A.route.id]?.shouldRevalidate||C.hasClientLoader?b=!0:w.add(A.route.id))}),w.size===0)return[];let E=jT(s,l,"data");return b&&w.size>0&&E.searchParams.set("_routes",t.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[l,u,n,r,f,t,s,o]),v=U.useMemo(()=>zT(p,r),[p,r]),_=XT(p);return U.createElement(U.Fragment,null,g.map(w=>U.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>U.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),_.map(({key:w,link:b})=>U.createElement("link",{key:w,nonce:e.nonce,...b})))}function WT(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var HS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HS&&(window.__reactRouterVersion="7.9.3")}catch{}function KT({basename:s,children:t,window:e}){let n=U.useRef();n.current==null&&(n.current=FE({window:e,v5Compat:!0}));let r=n.current,[o,l]=U.useState({action:r.action,location:r.location}),u=U.useCallback(d=>{U.startTransition(()=>l(d))},[l]);return U.useLayoutEffect(()=>r.listen(u),[r,u]),U.createElement(TT,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:r})}var VS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wu=U.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:g,...v},_){let{basename:w}=U.useContext(wi),b=typeof f=="string"&&VS.test(f),E,A=!1;if(typeof f=="string"&&b&&(E=f,HS))try{let j=new URL(window.location.href),L=f.startsWith("//")?new URL(j.protocol+f):new URL(f),I=ps(L.pathname,w);L.origin===j.origin&&I!=null?f=I+L.search+L.hash:A=!0}catch{vi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=dT(f,{relative:r}),[M,F,T]=qT(n,v),D=tC(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:g});function k(j){t&&t(j),j.defaultPrevented||D(j)}let N=U.createElement("a",{...v,...T,href:E||C,onClick:A||o?t:k,ref:WT(_,F),target:d,"data-discover":!b&&e==="render"?"true":void 0});return M&&!b?U.createElement(U.Fragment,null,N,U.createElement(GT,{page:C})):N});Wu.displayName="Link";var QT=U.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let g=Il(l,{relative:f.relative}),v=Qs(),_=U.useContext(bd),{navigator:w,basename:b}=U.useContext(wi),E=_!=null&&rC(g)&&u===!0,A=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,C=v.pathname,M=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;e||(C=C.toLowerCase(),M=M?M.toLowerCase():null,A=A.toLowerCase()),M&&b&&(M=ps(M,b)||M);const F=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let T=C===A||!r&&C.startsWith(A)&&C.charAt(F)==="/",D=M!=null&&(M===A||!r&&M.startsWith(A)&&M.charAt(A.length)==="/"),k={isActive:T,isPending:D,isTransitioning:E},N=T?t:void 0,j;typeof n=="function"?j=n(k):j=[n,T?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(k):o;return U.createElement(Wu,{...f,"aria-current":N,className:j,ref:p,style:L,to:l,viewTransition:u},typeof d=="function"?d(k):d)});QT.displayName="NavLink";var ZT=U.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:o,method:l=Pu,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...v},_)=>{let w=iC(),b=sC(u,{relative:f}),E=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&VS.test(u),C=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,T=F?.getAttribute("formmethod")||l;w(F||M.currentTarget,{fetcherKey:t,method:T,navigate:e,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:g})};return U.createElement("form",{ref:_,method:E,action:b,onSubmit:n?d:C,...v,"data-discover":!A&&s==="render"?"true":void 0})});ZT.displayName="Form";function JT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $S(s){let t=U.useContext(to);return Se(t,JT(s)),t}function tC(s,{target:t,replace:e,state:n,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Fl(),d=Qs(),f=Il(s,{relative:o});return U.useCallback(p=>{if(DT(p,t)){p.preventDefault();let g=e!==void 0?e:Cl(d)===Cl(f);u(s,{replace:g,state:n,preventScrollReset:r,relative:o,viewTransition:l})}},[d,u,f,e,n,t,s,r,o,l])}var eC=0,nC=()=>`__${String(++eC)}__`;function iC(){let{router:s}=$S("useSubmit"),{basename:t}=U.useContext(wi),e=wT();return U.useCallback(async(n,r={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=PT(n,t);if(r.navigate===!1){let p=r.fetcherKey||nC();await s.fetch(p,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await s.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,t,e])}function sC(s,{relative:t}={}){let{basename:e}=U.useContext(wi),n=U.useContext(Ai);Se(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...Il(s||".",{relative:t})},l=Qs();if(s==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!s||s===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ds([e,o.pathname])),Cl(o)}function rC(s,{relative:t}={}){let e=U.useContext(LS);Se(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=$S("useViewTransitionState"),r=Il(s,{relative:t});if(!e.isTransitioning)return!1;let o=ps(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=ps(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Yu(r.pathname,l)!=null||Yu(r.pathname,o)!=null}var pp={exports:{}},mp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function aC(){if(E0)return mp;E0=1;var s=Si();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var e=typeof Object.is=="function"?Object.is:t,n=s.useSyncExternalStore,r=s.useRef,o=s.useEffect,l=s.useMemo,u=s.useDebugValue;return mp.useSyncExternalStoreWithSelector=function(d,f,p,g,v){var _=r(null);if(_.current===null){var w={hasValue:!1,value:null};_.current=w}else w=_.current;_=l(function(){function E(T){if(!A){if(A=!0,C=T,T=g(T),v!==void 0&&w.hasValue){var D=w.value;if(v(D,T))return M=D}return M=T}if(D=M,e(C,T))return D;var k=g(T);return v!==void 0&&v(D,k)?(C=T,D):(C=T,M=k)}var A=!1,C,M,F=p===void 0?null:p;return[function(){return E(f())},F===null?void 0:function(){return E(F())}]},[f,p,g,v]);var b=n(d,_[0],_[1]);return o(function(){w.hasValue=!0,w.value=b},[b]),u(b),b},mp}var T0;function oC(){return T0||(T0=1,pp.exports=aC()),pp.exports}var lC=oC();function cC(s){s()}function uC(){let s=null,t=null;return{clear(){s=null,t=null},notify(){cC(()=>{let e=s;for(;e;)e.callback(),e=e.next})},get(){const e=[];let n=s;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let n=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:s=r,function(){!n||s===null||(n=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:s=r.next)}}}}var C0={notify(){},get:()=>[]};function dC(s,t){let e,n=C0,r=0,o=!1;function l(b){p();const E=n.subscribe(b);let A=!1;return()=>{A||(A=!0,E(),g())}}function u(){n.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return o}function p(){r++,e||(e=s.subscribe(d),n=uC())}function g(){r--,e&&r===0&&(e(),e=void 0,n.clear(),n=C0)}function v(){o||(o=!0,p())}function _(){o&&(o=!1,g())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>n};return w}var hC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fC=hC(),pC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mC=pC(),gC=()=>fC||mC?U.useLayoutEffect:U.useEffect,yC=gC(),vC=Symbol.for("react-redux-context"),bC=typeof globalThis<"u"?globalThis:{};function _C(){if(!U.createContext)return{};const s=bC[vC]??=new Map;let t=s.get(U.createContext);return t||(t=U.createContext(null),s.set(U.createContext,t)),t}var Ws=_C();function SC(s){const{children:t,context:e,serverState:n,store:r}=s,o=U.useMemo(()=>{const d=dC(r);return{store:r,subscription:d,getServerState:n?()=>n:void 0}},[r,n]),l=U.useMemo(()=>r.getState(),[r]);yC(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=e||Ws;return U.createElement(u.Provider,{value:o},t)}var wC=SC;function Nm(s=Ws){return function(){return U.useContext(s)}}var qS=Nm();function GS(s=Ws){const t=s===Ws?qS:Nm(s),e=()=>{const{store:n}=t();return n};return Object.assign(e,{withTypes:()=>e}),e}var AC=GS();function xC(s=Ws){const t=s===Ws?AC:GS(s),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var Pm=xC(),EC=(s,t)=>s===t;function TC(s=Ws){const t=s===Ws?qS:Nm(s),e=(n,r={})=>{const{equalityFn:o=EC}=typeof r=="function"?{equalityFn:r}:r,l=t(),{store:u,subscription:d,getServerState:f}=l;U.useRef(!0);const p=U.useCallback({[n.name](v){return n(v)}}[n.name],[n]),g=lC.useSyncExternalStoreWithSelector(d.addNestedSub,u.getState,f||u.getState,p,o);return U.useDebugValue(g),g};return Object.assign(e,{withTypes:()=>e}),e}var zl=TC();function sn(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var CC=typeof Symbol=="function"&&Symbol.observable||"@@observable",R0=CC,gp=()=>Math.random().toString(36).substring(7).split("").join("."),RC={INIT:`@@redux/INIT${gp()}`,REPLACE:`@@redux/REPLACE${gp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gp()}`},Ku=RC;function jm(s){if(typeof s!="object"||s===null)return!1;let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t||Object.getPrototypeOf(s)===null}function XS(s,t,e){if(typeof s!="function")throw new Error(sn(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(sn(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(sn(1));return e(XS)(s,t)}let n=s,r=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((E,A)=>{l.set(A,E)}))}function p(){if(d)throw new Error(sn(3));return r}function g(E){if(typeof E!="function")throw new Error(sn(4));if(d)throw new Error(sn(5));let A=!0;f();const C=u++;return l.set(C,E),function(){if(A){if(d)throw new Error(sn(6));A=!1,f(),l.delete(C),o=null}}}function v(E){if(!jm(E))throw new Error(sn(7));if(typeof E.type>"u")throw new Error(sn(8));if(typeof E.type!="string")throw new Error(sn(17));if(d)throw new Error(sn(9));try{d=!0,r=n(r,E)}finally{d=!1}return(o=l).forEach(C=>{C()}),E}function _(E){if(typeof E!="function")throw new Error(sn(10));n=E,v({type:Ku.REPLACE})}function w(){const E=g;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(sn(11));function C(){const F=A;F.next&&F.next(p())}return C(),{unsubscribe:E(C)}},[R0](){return this}}}return v({type:Ku.INIT}),{dispatch:v,subscribe:g,getState:p,replaceReducer:_,[R0]:w}}function OC(s){Object.keys(s).forEach(t=>{const e=s[t];if(typeof e(void 0,{type:Ku.INIT})>"u")throw new Error(sn(12));if(typeof e(void 0,{type:Ku.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sn(13))})}function MC(s){const t=Object.keys(s),e={};for(let o=0;o<t.length;o++){const l=t[o];typeof s[l]=="function"&&(e[l]=s[l])}const n=Object.keys(e);let r;try{OC(e)}catch(o){r=o}return function(l={},u){if(r)throw r;let d=!1;const f={};for(let p=0;p<n.length;p++){const g=n[p],v=e[g],_=l[g],w=v(_,u);if(typeof w>"u")throw u&&u.type,new Error(sn(14));f[g]=w,d=d||w!==_}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Qu(...s){return s.length===0?t=>t:s.length===1?s[0]:s.reduce((t,e)=>(...n)=>t(e(...n)))}function kC(...s){return t=>(e,n)=>{const r=t(e,n);let o=()=>{throw new Error(sn(15))};const l={getState:r.getState,dispatch:(d,...f)=>o(d,...f)},u=s.map(d=>d(l));return o=Qu(...u)(r.dispatch),{...r,dispatch:o}}}function DC(s){return jm(s)&&"type"in s&&typeof s.type=="string"}var YS=Symbol.for("immer-nothing"),O0=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function pi(s,...t){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var Ga=Object.getPrototypeOf;function Nr(s){return!!s&&!!s[qn]}function ms(s){return s?WS(s)||Array.isArray(s)||!!s[O0]||!!s.constructor?.[O0]||Ul(s)||wd(s):!1}var LC=Object.prototype.constructor.toString();function WS(s){if(!s||typeof s!="object")return!1;const t=Ga(s);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===LC}function Zu(s,t){Sd(s)===0?Reflect.ownKeys(s).forEach(e=>{t(e,s[e],s)}):s.forEach((e,n)=>t(n,e,s))}function Sd(s){const t=s[qn];return t?t.type_:Array.isArray(s)?1:Ul(s)?2:wd(s)?3:0}function Yp(s,t){return Sd(s)===2?s.has(t):Object.prototype.hasOwnProperty.call(s,t)}function KS(s,t,e){const n=Sd(s);n===2?s.set(t,e):n===3?s.add(e):s[t]=e}function NC(s,t){return s===t?s!==0||1/s===1/t:s!==s&&t!==t}function Ul(s){return s instanceof Map}function wd(s){return s instanceof Set}function Ar(s){return s.copy_||s.base_}function Wp(s,t){if(Ul(s))return new Map(s);if(wd(s))return new Set(s);if(Array.isArray(s))return Array.prototype.slice.call(s);const e=WS(s);if(t===!0||t==="class_only"&&!e){const n=Object.getOwnPropertyDescriptors(s);delete n[qn];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const l=r[o],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:s[l]})}return Object.create(Ga(s),n)}else{const n=Ga(s);if(n!==null&&e)return{...s};const r=Object.create(n);return Object.assign(r,s)}}function Bm(s,t=!1){return Ad(s)||Nr(s)||!ms(s)||(Sd(s)>1&&Object.defineProperties(s,{set:{value:vu},add:{value:vu},clear:{value:vu},delete:{value:vu}}),Object.freeze(s),t&&Object.values(s).forEach(e=>Bm(e,!0))),s}function vu(){pi(2)}function Ad(s){return Object.isFrozen(s)}var PC={};function Pr(s){const t=PC[s];return t||pi(0,s),t}var Rl;function QS(){return Rl}function jC(s,t){return{drafts_:[],parent_:s,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function M0(s,t){t&&(Pr("Patches"),s.patches_=[],s.inversePatches_=[],s.patchListener_=t)}function Kp(s){Qp(s),s.drafts_.forEach(BC),s.drafts_=null}function Qp(s){s===Rl&&(Rl=s.parent_)}function k0(s){return Rl=jC(Rl,s)}function BC(s){const t=s[qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function D0(s,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return s!==void 0&&s!==e?(e[qn].modified_&&(Kp(t),pi(4)),ms(s)&&(s=Ju(t,s),t.parent_||td(t,s)),t.patches_&&Pr("Patches").generateReplacementPatches_(e[qn].base_,s,t.patches_,t.inversePatches_)):s=Ju(t,e,[]),Kp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),s!==YS?s:void 0}function Ju(s,t,e){if(Ad(t))return t;const n=t[qn];if(!n)return Zu(t,(r,o)=>L0(s,n,t,r,o,e)),t;if(n.scope_!==s)return t;if(!n.modified_)return td(s,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const r=n.copy_;let o=r,l=!1;n.type_===3&&(o=new Set(r),r.clear(),l=!0),Zu(o,(u,d)=>L0(s,n,r,u,d,e,l)),td(s,r,!1),e&&s.patches_&&Pr("Patches").generatePatches_(n,e,s.patches_,s.inversePatches_)}return n.copy_}function L0(s,t,e,n,r,o,l){if(Nr(r)){const u=o&&t&&t.type_!==3&&!Yp(t.assigned_,n)?o.concat(n):void 0,d=Ju(s,r,u);if(KS(e,n,d),Nr(d))s.canAutoFreeze_=!1;else return}else l&&e.add(r);if(ms(r)&&!Ad(r)){if(!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1)return;Ju(s,r),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ul(e)?e.has(n):Object.prototype.propertyIsEnumerable.call(e,n))&&td(s,r)}}function td(s,t,e=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&Bm(t,e)}function FC(s,t){const e=Array.isArray(s),n={type_:e?1:0,scope_:t?t.scope_:QS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,o=Fm;e&&(r=[n],o=Ol);const{revoke:l,proxy:u}=Proxy.revocable(r,o);return n.draft_=u,n.revoke_=l,u}var Fm={get(s,t){if(t===qn)return s;const e=Ar(s);if(!Yp(e,t))return IC(s,e,t);const n=e[t];return s.finalized_||!ms(n)?n:n===yp(s.base_,t)?(vp(s),s.copy_[t]=Jp(n,s)):n},has(s,t){return t in Ar(s)},ownKeys(s){return Reflect.ownKeys(Ar(s))},set(s,t,e){const n=ZS(Ar(s),t);if(n?.set)return n.set.call(s.draft_,e),!0;if(!s.modified_){const r=yp(Ar(s),t),o=r?.[qn];if(o&&o.base_===e)return s.copy_[t]=e,s.assigned_[t]=!1,!0;if(NC(e,r)&&(e!==void 0||Yp(s.base_,t)))return!0;vp(s),Zp(s)}return s.copy_[t]===e&&(e!==void 0||t in s.copy_)||Number.isNaN(e)&&Number.isNaN(s.copy_[t])||(s.copy_[t]=e,s.assigned_[t]=!0),!0},deleteProperty(s,t){return yp(s.base_,t)!==void 0||t in s.base_?(s.assigned_[t]=!1,vp(s),Zp(s)):delete s.assigned_[t],s.copy_&&delete s.copy_[t],!0},getOwnPropertyDescriptor(s,t){const e=Ar(s),n=Reflect.getOwnPropertyDescriptor(e,t);return n&&{writable:!0,configurable:s.type_!==1||t!=="length",enumerable:n.enumerable,value:e[t]}},defineProperty(){pi(11)},getPrototypeOf(s){return Ga(s.base_)},setPrototypeOf(){pi(12)}},Ol={};Zu(Fm,(s,t)=>{Ol[s]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ol.deleteProperty=function(s,t){return Ol.set.call(this,s,t,void 0)};Ol.set=function(s,t,e){return Fm.set.call(this,s[0],t,e,s[0])};function yp(s,t){const e=s[qn];return(e?Ar(e):s)[t]}function IC(s,t,e){const n=ZS(t,e);return n?"value"in n?n.value:n.get?.call(s.draft_):void 0}function ZS(s,t){if(!(t in s))return;let e=Ga(s);for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Ga(e)}}function Zp(s){s.modified_||(s.modified_=!0,s.parent_&&Zp(s.parent_))}function vp(s){s.copy_||(s.copy_=Wp(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var zC=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,n)=>{if(typeof t=="function"&&typeof e!="function"){const o=e;e=t;const l=this;return function(d=o,...f){return l.produce(d,p=>e.call(this,p,...f))}}typeof e!="function"&&pi(6),n!==void 0&&typeof n!="function"&&pi(7);let r;if(ms(t)){const o=k0(this),l=Jp(t,void 0);let u=!0;try{r=e(l),u=!1}finally{u?Kp(o):Qp(o)}return M0(o,n),D0(r,o)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===YS&&(r=void 0),this.autoFreeze_&&Bm(r,!0),n){const o=[],l=[];Pr("Patches").generateReplacementPatches_(t,r,o,l),n(o,l)}return r}else pi(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,r;return[this.produce(t,e,(l,u)=>{n=l,r=u}),n,r]},typeof s?.autoFreeze=="boolean"&&this.setAutoFreeze(s.autoFreeze),typeof s?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(s.useStrictShallowCopy)}createDraft(s){ms(s)||pi(8),Nr(s)&&(s=UC(s));const t=k0(this),e=Jp(s,void 0);return e[qn].isManual_=!0,Qp(t),e}finishDraft(s,t){const e=s&&s[qn];(!e||!e.isManual_)&&pi(9);const{scope_:n}=e;return M0(n,t),D0(void 0,n)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}applyPatches(s,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){s=r.value;break}}e>-1&&(t=t.slice(e+1));const n=Pr("Patches").applyPatches_;return Nr(s)?n(s,t):this.produce(s,r=>n(r,t))}};function Jp(s,t){const e=Ul(s)?Pr("MapSet").proxyMap_(s,t):wd(s)?Pr("MapSet").proxySet_(s,t):FC(s,t);return(t?t.scope_:QS()).drafts_.push(e),e}function UC(s){return Nr(s)||pi(10,s),JS(s)}function JS(s){if(!ms(s)||Ad(s))return s;const t=s[qn];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Wp(s,t.scope_.immer_.useStrictShallowCopy_)}else e=Wp(s,!0);return Zu(e,(n,r)=>{KS(e,n,JS(r))}),t&&(t.finalized_=!1),e}var HC=new zC,tw=HC.produce;function ew(s){return({dispatch:e,getState:n})=>r=>o=>typeof o=="function"?o(e,n,s):r(o)}var VC=ew(),$C=ew,qC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qu:Qu.apply(null,arguments)},GC=s=>s&&typeof s.match=="function";function Sl(s,t){function e(...n){if(t){let r=t(...n);if(!r)throw new Error(hs(0));return{type:s,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:s,payload:n[0]}}return e.toString=()=>`${s}`,e.type=s,e.match=n=>DC(n)&&n.type===s,e}var nw=class yl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,yl.prototype)}static get[Symbol.species](){return yl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new yl(...t[0].concat(this)):new yl(...t.concat(this))}};function N0(s){return ms(s)?tw(s,()=>{}):s}function bu(s,t,e){return s.has(t)?s.get(t):s.set(t,e(t)).get(t)}function XC(s){return typeof s=="boolean"}var YC=()=>function(t){const{thunk:e=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=t??{};let l=new nw;return e&&(XC(e)?l.push(VC):l.push($C(e.extraArgument))),l},WC="RTK_autoBatch",P0=s=>t=>{setTimeout(t,s)},KC=(s={type:"raf"})=>t=>(...e)=>{const n=t(...e);let r=!0,o=!1,l=!1;const u=new Set,d=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:P0(10):s.type==="callback"?s.queueNotification:P0(s.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const g=()=>r&&p(),v=n.subscribe(g);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){try{return r=!p?.meta?.[WC],o=!r,o&&(l||(l=!0,d(f))),n.dispatch(p)}finally{r=!0}}})},QC=s=>function(e){const{autoBatch:n=!0}=e??{};let r=new nw(s);return n&&r.push(KC(typeof n=="object"?n:void 0)),r};function ZC(s){const t=YC(),{reducer:e=void 0,middleware:n,devTools:r=!0,preloadedState:o=void 0,enhancers:l=void 0}=s||{};let u;if(typeof e=="function")u=e;else if(jm(e))u=MC(e);else throw new Error(hs(1));let d;typeof n=="function"?d=n(t):d=t();let f=Qu;r&&(f=qC({trace:!1,...typeof r=="object"&&r}));const p=kC(...d),g=QC(p);let v=typeof l=="function"?l(g):g();const _=f(...v);return XS(u,o,_)}function iw(s){const t={},e=[];let n;const r={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(hs(28));if(u in t)throw new Error(hs(29));return t[u]=l,r},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&e.push({matcher:o.settled,reducer:l.settled}),r},addMatcher(o,l){return e.push({matcher:o,reducer:l}),r},addDefaultCase(o){return n=o,r}};return s(r),[t,e,n]}function JC(s){return typeof s=="function"}function t2(s,t){let[e,n,r]=iw(t),o;if(JC(s))o=()=>N0(s());else{const u=N0(s);o=()=>u}function l(u=o(),d){let f=[e[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[r]),f.reduce((p,g)=>{if(g)if(Nr(p)){const _=g(p,d);return _===void 0?p:_}else{if(ms(p))return tw(p,v=>g(v,d));{const v=g(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=o,l}var e2=(s,t)=>GC(s)?s.match(t):s(t);function n2(...s){return t=>s.some(e=>e2(e,t))}var i2="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",s2=(s=21)=>{let t="",e=s;for(;e--;)t+=i2[Math.random()*64|0];return t},r2=["name","message","stack","code"],bp=class{constructor(s,t){this.payload=s,this.meta=t}_type},j0=class{constructor(s,t){this.payload=s,this.meta=t}_type},a2=s=>{if(typeof s=="object"&&s!==null){const t={};for(const e of r2)typeof s[e]=="string"&&(t[e]=s[e]);return t}return{message:String(s)}},B0="External signal was aborted",xd=(()=>{function s(t,e,n){const r=Sl(t+"/fulfilled",(d,f,p,g)=>({payload:d,meta:{...g||{},arg:p,requestId:f,requestStatus:"fulfilled"}})),o=Sl(t+"/pending",(d,f,p)=>({payload:void 0,meta:{...p||{},arg:f,requestId:d,requestStatus:"pending"}})),l=Sl(t+"/rejected",(d,f,p,g,v)=>({payload:g,error:(n&&n.serializeError||a2)(d||"Rejected"),meta:{...v||{},arg:p,requestId:f,rejectedWithValue:!!g,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function u(d,{signal:f}={}){return(p,g,v)=>{const _=n?.idGenerator?n.idGenerator(d):s2(),w=new AbortController;let b,E;function A(M){E=M,w.abort()}f&&(f.aborted?A(B0):f.addEventListener("abort",()=>A(B0),{once:!0}));const C=(async function(){let M;try{let T=n?.condition?.(d,{getState:g,extra:v});if(l2(T)&&(T=await T),T===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const D=new Promise((k,N)=>{b=()=>{N({name:"AbortError",message:E||"Aborted"})},w.signal.addEventListener("abort",b)});p(o(_,d,n?.getPendingMeta?.({requestId:_,arg:d},{getState:g,extra:v}))),M=await Promise.race([D,Promise.resolve(e(d,{dispatch:p,getState:g,extra:v,requestId:_,signal:w.signal,abort:A,rejectWithValue:(k,N)=>new bp(k,N),fulfillWithValue:(k,N)=>new j0(k,N)})).then(k=>{if(k instanceof bp)throw k;return k instanceof j0?r(k.payload,_,d,k.meta):r(k,_,d)})])}catch(T){M=T instanceof bp?l(null,_,d,T.payload,T.meta):l(T,_,d)}finally{b&&w.signal.removeEventListener("abort",b)}return n&&!n.dispatchConditionRejection&&l.match(M)&&M.meta.condition||p(M),M})();return Object.assign(C,{abort:A,requestId:_,arg:d,unwrap(){return C.then(o2)}})}}return Object.assign(u,{pending:o,rejected:l,fulfilled:r,settled:n2(l,r),typePrefix:t})}return s.withTypes=()=>s,s})();function o2(s){if(s.meta&&s.meta.rejectedWithValue)throw s.payload;if(s.error)throw s.error;return s.payload}function l2(s){return s!==null&&typeof s=="object"&&typeof s.then=="function"}var c2=Symbol.for("rtk-slice-createasyncthunk");function u2(s,t){return`${s}/${t}`}function d2({creators:s}={}){const t=s?.asyncThunk?.[c2];return function(n){const{name:r,reducerPath:o=r}=n;if(!r)throw new Error(hs(11));const l=(typeof n.reducers=="function"?n.reducers(p2()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(M,F){const T=typeof M=="string"?M:M.type;if(!T)throw new Error(hs(12));if(T in d.sliceCaseReducersByType)throw new Error(hs(13));return d.sliceCaseReducersByType[T]=F,f},addMatcher(M,F){return d.sliceMatchers.push({matcher:M,reducer:F}),f},exposeAction(M,F){return d.actionCreators[M]=F,f},exposeCaseReducer(M,F){return d.sliceCaseReducersByName[M]=F,f}};u.forEach(M=>{const F=l[M],T={reducerName:M,type:u2(r,M),createNotation:typeof n.reducers=="function"};g2(F)?v2(T,F,f,t):m2(T,F,f)});function p(){const[M={},F=[],T=void 0]=typeof n.extraReducers=="function"?iw(n.extraReducers):[n.extraReducers],D={...M,...d.sliceCaseReducersByType};return t2(n.initialState,k=>{for(let N in D)k.addCase(N,D[N]);for(let N of d.sliceMatchers)k.addMatcher(N.matcher,N.reducer);for(let N of F)k.addMatcher(N.matcher,N.reducer);T&&k.addDefaultCase(T)})}const g=M=>M,v=new Map,_=new WeakMap;let w;function b(M,F){return w||(w=p()),w(M,F)}function E(){return w||(w=p()),w.getInitialState()}function A(M,F=!1){function T(k){let N=k[M];return typeof N>"u"&&F&&(N=bu(_,T,E)),N}function D(k=g){const N=bu(v,F,()=>new WeakMap);return bu(N,k,()=>{const j={};for(const[L,I]of Object.entries(n.selectors??{}))j[L]=h2(I,k,()=>bu(_,k,E),F);return j})}return{reducerPath:M,getSelectors:D,get selectors(){return D(T)},selectSlice:T}}const C={name:r,reducer:b,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...A(o),injectInto(M,{reducerPath:F,...T}={}){const D=F??o;return M.inject({reducerPath:D,reducer:b},T),{...C,...A(D,!0)}}};return C}}function h2(s,t,e,n){function r(o,...l){let u=t(o);return typeof u>"u"&&n&&(u=e()),s(u,...l)}return r.unwrapped=s,r}var f2=d2();function p2(){function s(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return s.withTypes=()=>s,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:s}}function m2({type:s,reducerName:t,createNotation:e},n,r){let o,l;if("reducer"in n){if(e&&!y2(n))throw new Error(hs(17));o=n.reducer,l=n.prepare}else o=n;r.addCase(s,o).exposeCaseReducer(t,o).exposeAction(t,l?Sl(s,l):Sl(s))}function g2(s){return s._reducerDefinitionType==="asyncThunk"}function y2(s){return s._reducerDefinitionType==="reducerWithPrepare"}function v2({type:s,reducerName:t},e,n,r){if(!r)throw new Error(hs(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=e,g=r(s,o,p);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||_u,pending:u||_u,rejected:d||_u,settled:f||_u})}function _u(){}function hs(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}function sw(s,t){return function(){return s.apply(t,arguments)}}const{toString:b2}=Object.prototype,{getPrototypeOf:Im}=Object,{iterator:Ed,toStringTag:rw}=Symbol,Td=(s=>t=>{const e=b2.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),xi=s=>(s=s.toLowerCase(),t=>Td(t)===s),Cd=s=>t=>typeof t===s,{isArray:no}=Array,Xa=Cd("undefined");function Hl(s){return s!==null&&!Xa(s)&&s.constructor!==null&&!Xa(s.constructor)&&Dn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const aw=xi("ArrayBuffer");function _2(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&aw(s.buffer),t}const S2=Cd("string"),Dn=Cd("function"),ow=Cd("number"),Vl=s=>s!==null&&typeof s=="object",w2=s=>s===!0||s===!1,Bu=s=>{if(Td(s)!=="object")return!1;const t=Im(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(rw in s)&&!(Ed in s)},A2=s=>{if(!Vl(s)||Hl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},x2=xi("Date"),E2=xi("File"),T2=xi("Blob"),C2=xi("FileList"),R2=s=>Vl(s)&&Dn(s.pipe),O2=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||Dn(s.append)&&((t=Td(s))==="formdata"||t==="object"&&Dn(s.toString)&&s.toString()==="[object FormData]"))},M2=xi("URLSearchParams"),[k2,D2,L2,N2]=["ReadableStream","Request","Response","Headers"].map(xi),P2=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $l(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),no(s))for(n=0,r=s.length;n<r;n++)t.call(null,s[n],n,s);else{if(Hl(s))return;const o=e?Object.getOwnPropertyNames(s):Object.keys(s),l=o.length;let u;for(n=0;n<l;n++)u=o[n],t.call(null,s[u],u,s)}}function lw(s,t){if(Hl(s))return null;t=t.toLowerCase();const e=Object.keys(s);let n=e.length,r;for(;n-- >0;)if(r=e[n],t===r.toLowerCase())return r;return null}const Er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cw=s=>!Xa(s)&&s!==Er;function tm(){const{caseless:s,skipUndefined:t}=cw(this)&&this||{},e={},n=(r,o)=>{const l=s&&lw(e,o)||o;Bu(e[l])&&Bu(r)?e[l]=tm(e[l],r):Bu(r)?e[l]=tm({},r):no(r)?e[l]=r.slice():(!t||!Xa(r))&&(e[l]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&$l(arguments[r],n);return e}const j2=(s,t,e,{allOwnKeys:n}={})=>($l(t,(r,o)=>{e&&Dn(r)?s[o]=sw(r,e):s[o]=r},{allOwnKeys:n}),s),B2=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),F2=(s,t,e,n)=>{s.prototype=Object.create(t.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},I2=(s,t,e,n)=>{let r,o,l;const u={};if(t=t||{},s==null)return t;do{for(r=Object.getOwnPropertyNames(s),o=r.length;o-- >0;)l=r[o],(!n||n(l,s,t))&&!u[l]&&(t[l]=s[l],u[l]=!0);s=e!==!1&&Im(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},z2=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const n=s.indexOf(t,e);return n!==-1&&n===e},U2=s=>{if(!s)return null;if(no(s))return s;let t=s.length;if(!ow(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},H2=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Im(Uint8Array)),V2=(s,t)=>{const n=(s&&s[Ed]).call(s);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(s,o[0],o[1])}},$2=(s,t)=>{let e;const n=[];for(;(e=s.exec(t))!==null;)n.push(e);return n},q2=xi("HTMLFormElement"),G2=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,r){return n.toUpperCase()+r}),F0=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),X2=xi("RegExp"),uw=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),n={};$l(e,(r,o)=>{let l;(l=t(r,o,s))!==!1&&(n[o]=l||r)}),Object.defineProperties(s,n)},Y2=s=>{uw(s,(t,e)=>{if(Dn(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=s[e];if(Dn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},W2=(s,t)=>{const e={},n=r=>{r.forEach(o=>{e[o]=!0})};return no(s)?n(s):n(String(s).split(t)),e},K2=()=>{},Q2=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function Z2(s){return!!(s&&Dn(s.append)&&s[rw]==="FormData"&&s[Ed])}const J2=s=>{const t=new Array(10),e=(n,r)=>{if(Vl(n)){if(t.indexOf(n)>=0)return;if(Hl(n))return n;if(!("toJSON"in n)){t[r]=n;const o=no(n)?[]:{};return $l(n,(l,u)=>{const d=e(l,r+1);!Xa(d)&&(o[u]=d)}),t[r]=void 0,o}}return n};return e(s,0)},tR=xi("AsyncFunction"),eR=s=>s&&(Vl(s)||Dn(s))&&Dn(s.then)&&Dn(s.catch),dw=((s,t)=>s?setImmediate:t?((e,n)=>(Er.addEventListener("message",({source:r,data:o})=>{r===Er&&o===e&&n.length&&n.shift()()},!1),r=>{n.push(r),Er.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Dn(Er.postMessage)),nR=typeof queueMicrotask<"u"?queueMicrotask.bind(Er):typeof process<"u"&&process.nextTick||dw,iR=s=>s!=null&&Dn(s[Ed]),ot={isArray:no,isArrayBuffer:aw,isBuffer:Hl,isFormData:O2,isArrayBufferView:_2,isString:S2,isNumber:ow,isBoolean:w2,isObject:Vl,isPlainObject:Bu,isEmptyObject:A2,isReadableStream:k2,isRequest:D2,isResponse:L2,isHeaders:N2,isUndefined:Xa,isDate:x2,isFile:E2,isBlob:T2,isRegExp:X2,isFunction:Dn,isStream:R2,isURLSearchParams:M2,isTypedArray:H2,isFileList:C2,forEach:$l,merge:tm,extend:j2,trim:P2,stripBOM:B2,inherits:F2,toFlatObject:I2,kindOf:Td,kindOfTest:xi,endsWith:z2,toArray:U2,forEachEntry:V2,matchAll:$2,isHTMLForm:q2,hasOwnProperty:F0,hasOwnProp:F0,reduceDescriptors:uw,freezeMethods:Y2,toObjectSet:W2,toCamelCase:G2,noop:K2,toFiniteNumber:Q2,findKey:lw,global:Er,isContextDefined:cw,isSpecCompliantForm:Z2,toJSONObject:J2,isAsyncFn:tR,isThenable:eR,setImmediate:dw,asap:nR,isIterable:iR};function $t(s,t,e,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}ot.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const hw=$t.prototype,fw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{fw[s]={value:s}});Object.defineProperties($t,fw);Object.defineProperty(hw,"isAxiosError",{value:!0});$t.from=(s,t,e,n,r,o)=>{const l=Object.create(hw);ot.toFlatObject(s,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=s&&s.message?s.message:"Error",d=t==null&&s?s.code:t;return $t.call(l,u,d,e,n,r),s&&l.cause==null&&Object.defineProperty(l,"cause",{value:s,configurable:!0}),l.name=s&&s.name||"Error",o&&Object.assign(l,o),l};const sR=null;function em(s){return ot.isPlainObject(s)||ot.isArray(s)}function pw(s){return ot.endsWith(s,"[]")?s.slice(0,-2):s}function I0(s,t,e){return s?s.concat(t).map(function(r,o){return r=pw(r),!e&&o?"["+r+"]":r}).join(e?".":""):t}function rR(s){return ot.isArray(s)&&!s.some(em)}const aR=ot.toFlatObject(ot,{},null,function(t){return/^is[A-Z]/.test(t)});function Rd(s,t,e){if(!ot.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=ot.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,E){return!ot.isUndefined(E[b])});const n=e.metaTokens,r=e.visitor||p,o=e.dots,l=e.indexes,d=(e.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(t);if(!ot.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(ot.isDate(w))return w.toISOString();if(ot.isBoolean(w))return w.toString();if(!d&&ot.isBlob(w))throw new $t("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(w)||ot.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,b,E){let A=w;if(w&&!E&&typeof w=="object"){if(ot.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(ot.isArray(w)&&rR(w)||(ot.isFileList(w)||ot.endsWith(b,"[]"))&&(A=ot.toArray(w)))return b=pw(b),A.forEach(function(M,F){!(ot.isUndefined(M)||M===null)&&t.append(l===!0?I0([b],F,o):l===null?b:b+"[]",f(M))}),!1}return em(w)?!0:(t.append(I0(E,b,o),f(w)),!1)}const g=[],v=Object.assign(aR,{defaultVisitor:p,convertValue:f,isVisitable:em});function _(w,b){if(!ot.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(w),ot.forEach(w,function(A,C){(!(ot.isUndefined(A)||A===null)&&r.call(t,A,ot.isString(C)?C.trim():C,b,v))===!0&&_(A,b?b.concat(C):[C])}),g.pop()}}if(!ot.isObject(s))throw new TypeError("data must be an object");return _(s),t}function z0(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function zm(s,t){this._pairs=[],s&&Rd(s,this,t)}const mw=zm.prototype;mw.append=function(t,e){this._pairs.push([t,e])};mw.toString=function(t){const e=t?function(n){return t.call(this,n,z0)}:z0;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function oR(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gw(s,t,e){if(!t)return s;const n=e&&e.encode||oR;ot.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let o;if(r?o=r(t,e):o=ot.isURLSearchParams(t)?t.toString():new zm(t,e).toString(n),o){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class U0{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ot.forEach(this.handlers,function(n){n!==null&&t(n)})}}const yw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lR=typeof URLSearchParams<"u"?URLSearchParams:zm,cR=typeof FormData<"u"?FormData:null,uR=typeof Blob<"u"?Blob:null,dR={isBrowser:!0,classes:{URLSearchParams:lR,FormData:cR,Blob:uR},protocols:["http","https","file","blob","url","data"]},Um=typeof window<"u"&&typeof document<"u",nm=typeof navigator=="object"&&navigator||void 0,hR=Um&&(!nm||["ReactNative","NativeScript","NS"].indexOf(nm.product)<0),fR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pR=Um&&window.location.href||"http://localhost",mR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Um,hasStandardBrowserEnv:hR,hasStandardBrowserWebWorkerEnv:fR,navigator:nm,origin:pR},Symbol.toStringTag,{value:"Module"})),dn={...mR,...dR};function gR(s,t){return Rd(s,new dn.classes.URLSearchParams,{visitor:function(e,n,r,o){return dn.isNode&&ot.isBuffer(e)?(this.append(n,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function yR(s){return ot.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vR(s){const t={},e=Object.keys(s);let n;const r=e.length;let o;for(n=0;n<r;n++)o=e[n],t[o]=s[o];return t}function vw(s){function t(e,n,r,o){let l=e[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=e.length;return l=!l&&ot.isArray(r)?r.length:l,d?(ot.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!u):((!r[l]||!ot.isObject(r[l]))&&(r[l]=[]),t(e,n,r[l],o)&&ot.isArray(r[l])&&(r[l]=vR(r[l])),!u)}if(ot.isFormData(s)&&ot.isFunction(s.entries)){const e={};return ot.forEachEntry(s,(n,r)=>{t(yR(n),r,e,0)}),e}return null}function bR(s,t,e){if(ot.isString(s))try{return(t||JSON.parse)(s),ot.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(s)}const ql={transitional:yw,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=ot.isObject(t);if(o&&ot.isHTMLForm(t)&&(t=new FormData(t)),ot.isFormData(t))return r?JSON.stringify(vw(t)):t;if(ot.isArrayBuffer(t)||ot.isBuffer(t)||ot.isStream(t)||ot.isFile(t)||ot.isBlob(t)||ot.isReadableStream(t))return t;if(ot.isArrayBufferView(t))return t.buffer;if(ot.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return gR(t,this.formSerializer).toString();if((u=ot.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Rd(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),bR(t)):t}],transformResponse:[function(t){const e=this.transitional||ql.transitional,n=e&&e.forcedJSONParsing,r=this.responseType==="json";if(ot.isResponse(t)||ot.isReadableStream(t))return t;if(t&&ot.isString(t)&&(n&&!this.responseType||r)){const l=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?$t.from(u,$t.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],s=>{ql.headers[s]={}});const _R=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SR=s=>{const t={};let e,n,r;return s&&s.split(`
`).forEach(function(l){r=l.indexOf(":"),e=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!e||t[e]&&_R[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},H0=Symbol("internals");function rl(s){return s&&String(s).trim().toLowerCase()}function Fu(s){return s===!1||s==null?s:ot.isArray(s)?s.map(Fu):String(s)}function wR(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(s);)t[n[1]]=n[2];return t}const AR=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function _p(s,t,e,n,r){if(ot.isFunction(n))return n.call(this,t,e);if(r&&(t=e),!!ot.isString(t)){if(ot.isString(n))return t.indexOf(n)!==-1;if(ot.isRegExp(n))return n.test(t)}}function xR(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function ER(s,t){const e=ot.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+e,{value:function(r,o,l){return this[n].call(this,t,r,o,l)},configurable:!0})})}let Ln=class{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(u,d,f){const p=rl(d);if(!p)throw new Error("header name must be a non-empty string");const g=ot.findKey(r,p);(!g||r[g]===void 0||f===!0||f===void 0&&r[g]!==!1)&&(r[g||d]=Fu(u))}const l=(u,d)=>ot.forEach(u,(f,p)=>o(f,p,d));if(ot.isPlainObject(t)||t instanceof this.constructor)l(t,e);else if(ot.isString(t)&&(t=t.trim())&&!AR(t))l(SR(t),e);else if(ot.isObject(t)&&ot.isIterable(t)){let u={},d,f;for(const p of t){if(!ot.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?ot.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,e)}else t!=null&&o(e,t,n);return this}get(t,e){if(t=rl(t),t){const n=ot.findKey(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return wR(r);if(ot.isFunction(e))return e.call(this,r,n);if(ot.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=rl(t),t){const n=ot.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||_p(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let r=!1;function o(l){if(l=rl(l),l){const u=ot.findKey(n,l);u&&(!e||_p(n,n[u],u,e))&&(delete n[u],r=!0)}}return ot.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];(!t||_p(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return ot.forEach(this,(r,o)=>{const l=ot.findKey(n,o);if(l){e[l]=Fu(r),delete e[o];return}const u=t?xR(o):String(o).trim();u!==o&&delete e[o],e[u]=Fu(r),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ot.forEach(this,(n,r)=>{n!=null&&n!==!1&&(e[r]=t&&ot.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[H0]=this[H0]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=rl(l);n[u]||(ER(r,l),n[u]=!0)}return ot.isArray(t)?t.forEach(o):o(t),this}};Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(Ln.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[e]=n}}});ot.freezeMethods(Ln);function Sp(s,t){const e=this||ql,n=t||e,r=Ln.from(n.headers);let o=n.data;return ot.forEach(s,function(u){o=u.call(e,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function bw(s){return!!(s&&s.__CANCEL__)}function io(s,t,e){$t.call(this,s??"canceled",$t.ERR_CANCELED,t,e),this.name="CanceledError"}ot.inherits(io,$t,{__CANCEL__:!0});function _w(s,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?s(e):t(new $t("Request failed with status code "+e.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function TR(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function CR(s,t){s=s||10;const e=new Array(s),n=new Array(s);let r=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=n[o];l||(l=f),e[r]=d,n[r]=f;let g=o,v=0;for(;g!==r;)v+=e[g++],g=g%s;if(r=(r+1)%s,r===o&&(o=(o+1)%s),f-l<t)return;const _=p&&f-p;return _?Math.round(v*1e3/_):void 0}}function RR(s,t){let e=0,n=1e3/t,r,o;const l=(f,p=Date.now())=>{e=p,r=null,o&&(clearTimeout(o),o=null),s(...f)};return[(...f)=>{const p=Date.now(),g=p-e;g>=n?l(f,p):(r=f,o||(o=setTimeout(()=>{o=null,l(r)},n-g)))},()=>r&&l(r)]}const ed=(s,t,e=3)=>{let n=0;const r=CR(50,250);return RR(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,f=r(d),p=l<=u;n=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};s(g)},e)},V0=(s,t)=>{const e=s!=null;return[n=>t[0]({lengthComputable:e,total:s,loaded:n}),t[1]]},$0=s=>(...t)=>ot.asap(()=>s(...t)),OR=dn.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,dn.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(dn.origin),dn.navigator&&/(msie|trident)/i.test(dn.navigator.userAgent)):()=>!0,MR=dn.hasStandardBrowserEnv?{write(s,t,e,n,r,o){const l=[s+"="+encodeURIComponent(t)];ot.isNumber(e)&&l.push("expires="+new Date(e).toGMTString()),ot.isString(n)&&l.push("path="+n),ot.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kR(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function DR(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function Sw(s,t,e){let n=!kR(t);return s&&(n||e==!1)?DR(s,t):t}const q0=s=>s instanceof Ln?{...s}:s;function jr(s,t){t=t||{};const e={};function n(f,p,g,v){return ot.isPlainObject(f)&&ot.isPlainObject(p)?ot.merge.call({caseless:v},f,p):ot.isPlainObject(p)?ot.merge({},p):ot.isArray(p)?p.slice():p}function r(f,p,g,v){if(ot.isUndefined(p)){if(!ot.isUndefined(f))return n(void 0,f,g,v)}else return n(f,p,g,v)}function o(f,p){if(!ot.isUndefined(p))return n(void 0,p)}function l(f,p){if(ot.isUndefined(p)){if(!ot.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,g){if(g in t)return n(f,p);if(g in s)return n(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,g)=>r(q0(f),q0(p),g,!0)};return ot.forEach(Object.keys({...s,...t}),function(p){const g=d[p]||r,v=g(s[p],t[p],p);ot.isUndefined(v)&&g!==u||(e[p]=v)}),e}const ww=s=>{const t=jr({},s);let{data:e,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=Ln.from(l),t.url=gw(Sw(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ot.isFormData(e)){if(dn.hasStandardBrowserEnv||dn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ot.isFunction(e.getHeaders)){const d=e.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,g])=>{f.includes(p.toLowerCase())&&l.set(p,g)})}}if(dn.hasStandardBrowserEnv&&(n&&ot.isFunction(n)&&(n=n(t)),n||n!==!1&&OR(t.url))){const d=r&&o&&MR.read(o);d&&l.set(r,d)}return t},LR=typeof XMLHttpRequest<"u",NR=LR&&function(s){return new Promise(function(e,n){const r=ww(s);let o=r.data;const l=Ln.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=r,p,g,v,_,w;function b(){_&&_(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function A(){if(!E)return;const M=Ln.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),T={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:M,config:s,request:E};_w(function(k){e(k),b()},function(k){n(k),b()},T),E=null}"onloadend"in E?E.onloadend=A:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(A)},E.onabort=function(){E&&(n(new $t("Request aborted",$t.ECONNABORTED,s,E)),E=null)},E.onerror=function(F){const T=F&&F.message?F.message:"Network Error",D=new $t(T,$t.ERR_NETWORK,s,E);D.event=F||null,n(D),E=null},E.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||yw;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),n(new $t(F,T.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,s,E)),E=null},o===void 0&&l.setContentType(null),"setRequestHeader"in E&&ot.forEach(l.toJSON(),function(F,T){E.setRequestHeader(T,F)}),ot.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),u&&u!=="json"&&(E.responseType=r.responseType),f&&([v,w]=ed(f,!0),E.addEventListener("progress",v)),d&&E.upload&&([g,_]=ed(d),E.upload.addEventListener("progress",g),E.upload.addEventListener("loadend",_)),(r.cancelToken||r.signal)&&(p=M=>{E&&(n(!M||M.type?new io(null,s,E):M),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const C=TR(r.url);if(C&&dn.protocols.indexOf(C)===-1){n(new $t("Unsupported protocol "+C+":",$t.ERR_BAD_REQUEST,s));return}E.send(o||null)})},PR=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let n=new AbortController,r;const o=function(f){if(!r){r=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof $t?p:new io(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,o(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))},t);const u=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),s=null)};s.forEach(f=>f.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>ot.asap(u),d}},jR=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let n=0,r;for(;n<e;)r=n+t,yield s.slice(n,r),n=r},BR=async function*(s,t){for await(const e of FR(s))yield*jR(e,t)},FR=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},G0=(s,t,e,n)=>{const r=BR(s,t);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await r.next();if(f){u(),d.close();return}let g=p.byteLength;if(e){let v=o+=g;e(v)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},X0=64*1024,{isFunction:Su}=ot,IR=(({Request:s,Response:t})=>({Request:s,Response:t}))(ot.global),{ReadableStream:Y0,TextEncoder:W0}=ot.global,K0=(s,...t)=>{try{return!!s(...t)}catch{return!1}},zR=s=>{s=ot.merge.call({skipUndefined:!0},IR,s);const{fetch:t,Request:e,Response:n}=s,r=t?Su(t):typeof fetch=="function",o=Su(e),l=Su(n);if(!r)return!1;const u=r&&Su(Y0),d=r&&(typeof W0=="function"?(w=>b=>w.encode(b))(new W0):async w=>new Uint8Array(await new e(w).arrayBuffer())),f=o&&u&&K0(()=>{let w=!1;const b=new e(dn.origin,{body:new Y0,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!b}),p=l&&u&&K0(()=>ot.isReadableStream(new n("").body)),g={stream:p&&(w=>w.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(b,E)=>{let A=b&&b[w];if(A)return A.call(b);throw new $t(`Response type '${w}' is not supported`,$t.ERR_NOT_SUPPORT,E)})});const v=async w=>{if(w==null)return 0;if(ot.isBlob(w))return w.size;if(ot.isSpecCompliantForm(w))return(await new e(dn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(w)||ot.isArrayBuffer(w))return w.byteLength;if(ot.isURLSearchParams(w)&&(w=w+""),ot.isString(w))return(await d(w)).byteLength},_=async(w,b)=>{const E=ot.toFiniteNumber(w.getContentLength());return E??v(b)};return async w=>{let{url:b,method:E,data:A,signal:C,cancelToken:M,timeout:F,onDownloadProgress:T,onUploadProgress:D,responseType:k,headers:N,withCredentials:j="same-origin",fetchOptions:L}=ww(w),I=t||fetch;k=k?(k+"").toLowerCase():"text";let X=PR([C,M&&M.toAbortSignal()],F),H=null;const Y=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let K;try{if(D&&f&&E!=="get"&&E!=="head"&&(K=await _(N,A))!==0){let B=new e(b,{method:"POST",body:A,duplex:"half"}),$;if(ot.isFormData(A)&&($=B.headers.get("content-type"))&&N.setContentType($),B.body){const[Q,tt]=V0(K,ed($0(D)));A=G0(B.body,X0,Q,tt)}}ot.isString(j)||(j=j?"include":"omit");const z=o&&"credentials"in e.prototype,x={...L,signal:X,method:E.toUpperCase(),headers:N.normalize().toJSON(),body:A,duplex:"half",credentials:z?j:void 0};H=o&&new e(b,x);let st=await(o?I(H,L):I(b,x));const V=p&&(k==="stream"||k==="response");if(p&&(T||V&&Y)){const B={};["status","statusText","headers"].forEach(ct=>{B[ct]=st[ct]});const $=ot.toFiniteNumber(st.headers.get("content-length")),[Q,tt]=T&&V0($,ed($0(T),!0))||[];st=new n(G0(st.body,X0,Q,()=>{tt&&tt(),Y&&Y()}),B)}k=k||"text";let S=await g[ot.findKey(g,k)||"text"](st,w);return!V&&Y&&Y(),await new Promise((B,$)=>{_w(B,$,{data:S,headers:Ln.from(st.headers),status:st.status,statusText:st.statusText,config:w,request:H})})}catch(z){throw Y&&Y(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,w,H),{cause:z.cause||z}):$t.from(z,z&&z.code,w,H)}}},UR=new Map,Aw=s=>{let t=s?s.env:{};const{fetch:e,Request:n,Response:r}=t,o=[n,r,e];let l=o.length,u=l,d,f,p=UR;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:zR(t)),p=f;return f};Aw();const im={http:sR,xhr:NR,fetch:{get:Aw}};ot.forEach(im,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const Q0=s=>`- ${s}`,HR=s=>ot.isFunction(s)||s===null||s===!1,xw={getAdapter:(s,t)=>{s=ot.isArray(s)?s:[s];const{length:e}=s;let n,r;const o={};for(let l=0;l<e;l++){n=s[l];let u;if(r=n,!HR(n)&&(r=im[(u=String(n)).toLowerCase()],r===void 0))throw new $t(`Unknown adapter '${u}'`);if(r&&(ot.isFunction(r)||(r=r.get(t))))break;o[u||"#"+l]=r}if(!r){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(Q0).join(`
`):" "+Q0(l[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:im};function wp(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new io(null,s)}function Z0(s){return wp(s),s.headers=Ln.from(s.headers),s.data=Sp.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),xw.getAdapter(s.adapter||ql.adapter,s)(s).then(function(n){return wp(s),n.data=Sp.call(s,s.transformResponse,n),n.headers=Ln.from(n.headers),n},function(n){return bw(n)||(wp(s),n&&n.response&&(n.response.data=Sp.call(s,s.transformResponse,n.response),n.response.headers=Ln.from(n.response.headers))),Promise.reject(n)})}const Ew="1.12.2",Od={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Od[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const J0={};Od.transitional=function(t,e,n){function r(o,l){return"[Axios v"+Ew+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(t===!1)throw new $t(r(l," has been removed"+(e?" in "+e:"")),$t.ERR_DEPRECATED);return e&&!J0[l]&&(J0[l]=!0,console.warn(r(l," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,l,u):!0}};Od.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function VR(s,t,e){if(typeof s!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const o=n[r],l=t[o];if(l){const u=s[o],d=u===void 0||l(u,o,s);if(d!==!0)throw new $t("option "+o+" must be "+d,$t.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new $t("Unknown option "+o,$t.ERR_BAD_OPTION)}}const Iu={assertOptions:VR,validators:Od},Ni=Iu.validators;let Dr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new U0,response:new U0}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=jr(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;n!==void 0&&Iu.assertOptions(n,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),r!=null&&(ot.isFunction(r)?e.paramsSerializer={serialize:r}:Iu.assertOptions(r,{encode:Ni.function,serialize:Ni.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Iu.assertOptions(e,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=o&&ot.merge(o.common,o[e.method]);o&&ot.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),e.headers=Ln.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(e)===!1||(d=d&&b.synchronous,u.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let p,g=0,v;if(!d){const w=[Z0.bind(this),void 0];for(w.unshift(...u),w.push(...f),v=w.length,p=Promise.resolve(e);g<v;)p=p.then(w[g++],w[g++]);return p}v=u.length;let _=e;for(;g<v;){const w=u[g++],b=u[g++];try{_=w(_)}catch(E){b.call(this,E);break}}try{p=Z0.call(this,_)}catch(w){return Promise.reject(w)}for(g=0,v=f.length;g<v;)p=p.then(f[g++],f[g++]);return p}getUri(t){t=jr(this.defaults,t);const e=Sw(t.baseURL,t.url,t.allowAbsoluteUrls);return gw(e,t.params,t.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(t){Dr.prototype[t]=function(e,n){return this.request(jr(n||{},{method:t,url:e,data:(n||{}).data}))}});ot.forEach(["post","put","patch"],function(t){function e(n){return function(o,l,u){return this.request(jr(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Dr.prototype[t]=e(),Dr.prototype[t+"Form"]=e(!0)});let $R=class Tw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(r);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,u){n.reason||(n.reason=new io(o,l,u),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new Tw(function(r){t=r}),cancel:t}}};function qR(s){return function(e){return s.apply(null,e)}}function GR(s){return ot.isObject(s)&&s.isAxiosError===!0}const sm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sm).forEach(([s,t])=>{sm[t]=s});function Cw(s){const t=new Dr(s),e=sw(Dr.prototype.request,t);return ot.extend(e,Dr.prototype,t,{allOwnKeys:!0}),ot.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return Cw(jr(s,r))},e}const ye=Cw(ql);ye.Axios=Dr;ye.CanceledError=io;ye.CancelToken=$R;ye.isCancel=bw;ye.VERSION=Ew;ye.toFormData=Rd;ye.AxiosError=$t;ye.Cancel=ye.CanceledError;ye.all=function(t){return Promise.all(t)};ye.spread=qR;ye.isAxiosError=GR;ye.mergeConfig=jr;ye.AxiosHeaders=Ln;ye.formToJSON=s=>vw(ot.isHTMLForm(s)?new FormData(s):s);ye.getAdapter=xw.getAdapter;ye.HttpStatusCode=sm;ye.default=ye;const{Axios:SF,AxiosError:wF,CanceledError:AF,isCancel:xF,CancelToken:EF,VERSION:TF,all:CF,Cancel:RF,isAxiosError:OF,spread:MF,toFormData:kF,AxiosHeaders:DF,HttpStatusCode:LF,formToJSON:NF,getAdapter:PF,mergeConfig:jF}=ye,wl=xd("auth/login",async(s,{rejectWithValue:t})=>{try{return(await ye.post("https://study-buddy-2o9t.onrender.com/api/auth/signin",s)).data}catch(e){return t(e.response?.data?.message||"Login failed")}}),zu=xd("auth/register",async(s,{rejectWithValue:t})=>{try{return(await ye.post("https://study-buddy-2o9t.onrender.com/api/auth/signup",s)).data}catch(e){return t(e.response?.data?.message||"Registration failed")}}),Uu=xd("auth/updateProfile",async(s,{getState:t,rejectWithValue:e})=>{try{const n=t().auth.token;return(await ye.patch("https://study-buddy-2o9t.onrender.com/api/auth/profile",s,{headers:{Authorization:`Bearer ${n}`}})).data.user}catch(n){return e(n.response?.data?.error||"Update failed")}}),nd=xd("auth/fetchProfile",async(s,{getState:t,rejectWithValue:e})=>{try{const n=t().auth.token||localStorage.getItem("token");if(!n)throw new Error("No token found");return(await ye.get("https://study-buddy-2o9t.onrender.com/api/auth/profile",{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return e(n.response?.data||{error:"Failed to fetch profile"})}}),t_=localStorage.getItem("token"),XR=JSON.parse(localStorage.getItem("user")||"null"),YR={user:XR,token:t_,loading:!1,error:null,isLoggedIn:!!t_},Rw=f2({name:"auth",initialState:YR,reducers:{logoutUser:s=>{s.user=null,s.token=null,s.isLoggedIn=!1,localStorage.removeItem("token")}},extraReducers:s=>{s.addCase(wl.pending,t=>{t.loading=!0,t.error=null}).addCase(wl.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0,localStorage.setItem("token",e.payload.token)}).addCase(wl.rejected,(t,e)=>{t.isLoggedIn=!1,t.loading=!1,t.error=e.payload}).addCase(zu.pending,t=>{t.loading=!0,t.error=null}).addCase(zu.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!1,localStorage.setItem("token",e.payload.token)}).addCase(zu.rejected,(t,e)=>{t.loading=!1,t.error=e.payload}).addCase(Uu.pending,t=>{t.loading=!0}).addCase(Uu.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload}).addCase(Uu.rejected,(t,e)=>{t.loading=!1,t.error=e.payload}).addCase(nd.fulfilled,(t,e)=>{t.user=e.payload,t.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(e.payload))}).addCase(nd.rejected,t=>{t.user=null,t.isLoggedIn=!1,localStorage.removeItem("user"),localStorage.removeItem("token")})}}),{logoutUser:WR}=Rw.actions,KR=Rw.reducer,QR=ZC({reducer:{auth:KR}}),ZR="_container_w2yxm_1",JR={container:ZR},rm=({children:s})=>O.jsx("div",{className:JR.container,children:s}),tO="_header_1crqx_1",eO="_container_1crqx_12",nO="_left_1crqx_21",iO="_menuBtn_1crqx_27",sO="_logoSection_1crqx_37",rO="_logoLink_1crqx_43",aO="_logo_1crqx_37",oO="_title_1crqx_59",lO="_subtitle_1crqx_65",cO="_userSection_1crqx_97",uO="_userMenu_1crqx_101",dO="_avatar_1crqx_108",hO="_dropdown_1crqx_115",fO="_menuItem_1crqx_128",pO="_divider_1crqx_143",mO="_logout_1crqx_149",gO="_authLinks_1crqx_164",yO="_loginLink_1crqx_169",Xe={header:tO,container:eO,left:nO,menuBtn:iO,logoSection:sO,logoLink:rO,logo:aO,title:oO,subtitle:lO,userSection:cO,userMenu:uO,avatar:dO,dropdown:hO,menuItem:fO,divider:pO,logout:mO,authLinks:gO,loginLink:yO},vO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAzDSURBVHgBpVkLcFzldf7ua+++d7W72pVWlrQSMrYs6xFwauJQIpcMuC0gmzQNcToDlPJoOqlJMsy4k5c80yF0OpNApzNNy2SAZqDQYYKTSUISEiyiEBuwjTBG2JawZFnWcx/a9+O+cv670koryUaOz8zd+/r//3z3nPN/5/z/crhG2bP3kQig9XKAhwNXw54ZMBIAd8EAv/DLwz8YwDUKh6uU3r2Peq3I7uXA9/Eweg1w3o/rYwAD1PZZDfwbBHocVykbBsnA2ZE7QB0e3QiwK8izOrhDVwN2QyD/cu/DB8gS/ZcDVywCyQUONtkCv9tqjprNlxBPFeByG7Db1/ahkHgyD/uhgcNPLuBaQLJ442A8Q41613ufiHHoaWtAd20Gjc4M8rEpqMU8oGvgBBGSw42pjBPvzrtwLq7A5VFXDzFOVt39cVa9LMjPP/ZYjxItvKLrRkRNKuYz0SOZ51JGgxs12P+ZWhQ/+BWKuTQ+TrKGC6/PbELSZYHVzVe940X+vsM//I/nLtdXWO/hX+19sMfRZD8ih+Q6OSBDSakwdAPeLg/EGhlhqx9/180jO3IUhfTHessUC1fCFnccsZIMoz0Ie0gGG5sdFp9lb2vzJ5Jn3n372Hp911iSuZji7whdRtbroOedeKA7hvz0CBSNQ0aVUSMXsBHRDeIEzsCLI81AnWvNe4rTfa8e/p/Dq59XWZLNYAuUo1KNJeL7ZA1KCQV6SYf/0344Ig6oLivuDpagT79vth/P+NBQoxFNKtiIXErbYJc0NDmzGA1FEPiEG7Z6KwpTBVjDVng7vXvCjo6XRs8cr3KPuPLGgfx3iNMiSqKE6GC08jz2Zsw8h2QfbN5hLEESXEHwxhg0bEwaXHmcizmxJZCB7/QY5qdqwS36kgGlw0u3z9Dt7pX9Kpbs/+5/RWZm5l80DAMWvwWebg9sm2yVQ3NacbsnT7nkQqXzPMKoFeM0mdUNgWSA4jkLnBYV9Y4CPgy0wOUToZU01OyoMfVANSKRTd3J0TMnKvFZmWZbOtqf0bSyTUox4rhj8aoje6IIW+pcldLEQh6iLONqpNmbw8WkDW5ZBX96FrmLOegFvaKnMFOgicJ9h4VeFcjpvNGrKmrv0kPJK1EcBuDe6obgEODfFUBrgEcpmzLfk7Exk5YxPl2A6qhfA4SIoPpeX56fsqhTbFrN61oxCx+NzXQtHSw2SVh2e3SpjxmTvK7fl04tc52yoFAcLsfkpdejuK2BLkrl+8mUDSenPei6sQNjmRwacaYKVIxcWusoVe6TRREuspzIl9EzVmDSaM/id69G4fFgPemjo9/Ex344jutLrQApuiS4O1yVgzTSgMsTbjRuR7BlCw7sb4UvFIQjULamsWjBSykrlBXWU4l6RmOOMkB6nlfKUyFgL8GQRYgOsaKLzYeycD1Eh70mHuZq4qeqnKxlVeQnlrlPWBDAybHK/YLuwzc+1wq7VcA+yjrfe6ELylQOsYKENl+WUqEVqsaj1Z81eTGVl/DmhA9jCTvxqgSnVOYHK7leSOWh2iwVfVpxmSs46D10GhApYHppJCoEnMsveWYVA2qaglvm4bHKUEvlQRghO90OROrs+N27CbxzOgGJF3FK68Tn94QwNZ/H7hutsFoEvPjrSVyaLSEUsOL+L4XRcZ0T//vjM+jg36rokgydLCmY+qrcwdzMcb10epLnBa6bPXC7lzOAQOZ3NNshOskVbgm8fbmzqrGsweHP/v4opuYKOPDFiMkt33qgDUdPJzExp+D90Qxe+s0MvnDbJtz92TCe+no7EmkF9x46jUSOq6Q5jYYUbJypa+kQnVIFR2tri4lNJG94mXqPdzl6FSooUuky96nkep14DP6KD+CwC/ja/kZ0bqYK52waP/5DCmNRDtfXWbF/TxhBnwVPPHse74yUcGw4j3Aggdt2BjBCdAM1VwFZUgUoaQ2pD9PLllwhPTu6IqZFjcUcvbV9MwShHNASWS9AdMAOiVU+wTJlaGwyUIezYxncflMtfv77KLaTC69vduGmrhoksxrq/DIECp88xVbndQ50tgews9OLU6Np3HFzLS5NpUxSZxOoxLzis5p63NvccLQ4Ya23VUA2R5oYPUYqadFT40F9uA6TFy9R1aNgfnC+0jg6ryAZlmhgIjCrimI+jzffS+DOW2rx7z8aw9Y6AxPj83hoX0MlzT24rxE/eHkC2yg3v/BqCs2kPOiTMTlDViM6i2UtSBM1pYg0VupaEpvNiq0dm83rqty9c9cOTL50CdYQJfsbvFg4mUBhtojWO2px7Kdz2BpImzOywV3A9//vAl5+ogfffrCt0j+ZUfDTN2YhywJ2dnjw+D9tQYkKFEnikC1o2P+tUwg5ipgngDmioemMjIZba+FvZnFYdndqOIXchRy2d22jfhJ05m56VyHAXbfsNCdFYbaAmVdnTIBmx7fmMVFwIkNfPkUc2OTOYXI2iy9+8xROnElC1fWyNyjob+7xoavNBS9xLbOqxcLh7IUsHnliGCepbYTyf6ooUR8ekzknlOEo6Zo29bGDAWTS+9lbzHO9jRsXdcN4j4AxPoLPV4Obe3fh2NA7cF7nrDK/EXTjxDEFm6iSYdbY4s9Aa3Pj+R/N4pXALD6zy4e2RjtcNgGSwOHCdB4TM3kMvp3AxJk8LgaKVAUVzMzD3Hwu7oR4QxDeiIwUTT7v9vLEzU3kEHbVYdv2LeAMbsh0N30tu7h3CUzf5/4aR3//NuLH41UgWahNGh5kdSeM7DxurEti+KMwuinX7g36MPhGEt8vzRFt2JGlSXOKFN/l9OGhpiAGQ0nMjGTR1kRFBBH7+8UgcqKAcCKPhWTeHH+lvrv/oW9RqWF6WTQ4fYhbUfv6/DX42/378Pxz/4/V0nod+xUwnq1DgSZTk1hAuqBQfOno9JNl2i3Ys6vWbPsy8WTLWZGlXMgCj6JC/JkIgAtYSAfpwfpy62296Ojcal6Tl3/Czry1IA5xK+LSbHh7L7Z1tuNywpiqvaENnw5swsPbwyYIv1VENlrm1gJNlnNj5DYHLbrI9Zs9NvxFQwgt1npcqbILBAO4izy5JLRAGzDPNTXcgg6jaqXGvv7L//wAmpo3rRmIrbE9SghfbQmh1ibhX/5wHu9FM5S3FeTfV/Dir6bxs8FZuC5RvVlQaT0zj8ePTyBsl3GwuwnNST+y2aW5vCwuyngHv/lVynyVuTAetJRj0mS16bzSy0M4shpQLBrH9777n5iamjbvlVIN7v3SXcwNkCUBFqkcJpm8Uiki9cVRWZZgT5bALFXXc/NpKKqG1357DLJtznzmD/hw4LF/RGPTCqMI3H0hC2caz+TJeps0MJfXB4xVmwCs89e/8RU89/TzODX0AVwuF7q6W0wljF4ksVwYKKqOjUrxxBh5Q4VVtpofEKoL4msHv4JgKLCy2XhOwk+w6gNpMaUdWm9QRksHHvsy/uaePszMsJRWtg1LtSVFuyqATJYyUjSaRe+tf45v/+vB1QCZFftbOG5hDUhmTbLKU+sNzPM8ZaNPwUW7EIpy+UWX/fyHqHvlh6h7+Wk4Pzy55r1KH1VcrBeDJR49N9wEu8O2utn4kpvXgGQiF/l+1gjryJFfn8LDnfWYnUut9xpiMg7f4M8h5TOw+T3wHnsN8vSFqjaZTIE8oFMJq+NTXhuGB6uXHYxl2N7Q6rGrQJZnOrd7NSUxWRiZwmay4tRUAuuJLTYN5513QtrcBiEUgusL99Dqcrma1zUd42PlQiKxkDXdXjw5WlWiKYJ+P0uDVwTJxGykq1VA47E0/PE03ppKIpPKYT0puv3IDQyQT1Uo588j+4tfoGRZ3PMjHJMXYygUyouzaDSNuZyCCO2+nT61aG3dONQgi4fXG5tf72HQaRliQLHo+vfeHcfOeg/uaPXDkiut1wWlQB0Sm3tQOD8ONZ5AMtKOXMtWM4Y/Gp2p8kA6XcDBHY3YQgvXDwgkBcD9IYfQj8uIeLkXDCgVnLvZ5lVJUSNeuwRLmkf0/CyGT1+kGUlFqpN2N6yWyrZXunMnMh07iCo0ZBVyxWScwC2Qcas3YrhcgQprO2yiMP7M06/tO/DQ7iFcQcQrvVyMj5YTZ2f7//uFwQOPhBxePZlDPJHF7GySqQOtkWjVaIEo8WXOpDxeLCqEc4nK126BOsntqmZ7ymKV+ofeefzadnpXitf7SOServr+kZzad0vfJ9dsSxtX6kwvk8ks8pSZkqnCwMjxjw4dP/NvA9igXPW/D17vo95wo31v9w2Rvuu3hnstsuRdxFH5qVpTkYbx0dmBI68PH3bX254bGujf2K5r9RDXJnOZUo/B8RFOEJo1TTf/xxEEPqGpWlKAPpR1SOMrs8efIn8E3/dPEyYRPO0AAAAASUVORK5CYII=",bO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK6SURBVHgB7Zk/aBNRHMe/7y4KQpN2LNSWG1poo2AyWNtC1Iw6tYO41qGTROLmnyFx0E20iJNgq5u00EzaCmq0Uu3UE2wNtOBDE9vNmBYcksvzvSMJsblLLuSS3JBPuNy7e+/Ch9/j3vvxC0EV+oYmfJBlHwFT0AQYCIWmqantNdVsDDG6OeA9G2FgYf4LPWgNlDAS/ZH48Oxwx3+CvcPnFRfJL/GI+dAeaJZlg3uJz7R4oyQo5I5I2kYLo2YGzee0qeK0k5Ic0d7xpgJnQPf/yv40jaclccXlonCOnEBxH9PmRIMUovcdDoQxFpRcJBeGUyGYlAjIKTgVIp2TCEG7lpSaEMYUF7OwrLyYn8X4qN+0fzOxjafPF7EQe6Vfj5/2IXz1StVnVt6sYiZ0GzXoccEiydReSaCc4329XMiP+/duwuPpgsfdhetcLrN/gIWlZSR/7VY8c2nyArrdblihLsEHj+cM+4Tkk0d3EbkR0q83Ezu4PH0NmcyB4fgxHmFivMtWIMEGhHz5dM2EbpnK1YvlCNZCSIrjD59acbYL2wQFP1O7lqfOKrZMcTPpCDZKR7BROoKN0hFsFMcLWt7qvCODel5oxmJsudQW6ZZ3eFBPvYw4MTKErW87sE3wNU8uSeFjhEi3RD5YZGzUV0oejBByK29XYQXSPxJgsAERNXEIRN5oljvWi22Cgq/rL/XzyTMXYRe2pluf1jfQ7bGWyluFDHgDv1n76zFmiNIHo3AsTJXyDO/hUPjL8UXi3zE4FBfLPZSSiY9xvrw5T5JhnvJCpr7VyUdlsYBROAcqI3tHNHRBqsbTMtGm4ARJgrTMy8C0UAYuJQt0a02VmRxEGyV51V+V81k/NapRl9M/HJjmPRG0qurKo8bybJa/D9HKrioo3gmfxmSFVzqbUqIT/5Pwwr0qZs9szD/7WvuMYd6c0AAAAABJRU5ErkJggg==",_O="_overlay_1cw58_1",SO="_modal_1cw58_14",wO="_closeIcon_1cw58_24",AO="_form_1cw58_39",xO="_actions_1cw58_53",EO="_cancel_1cw58_59",TO="_save_1cw58_67",as={overlay:_O,modal:SO,closeIcon:wO,form:AO,actions:xO,cancel:EO,save:TO},CO=[{value:"Math",label:"Math"},{value:"Physics",label:"Physics"},{value:"Chemistry",label:"Chemistry"},{value:"Biology",label:"Biology"},{value:"ComputerScience",label:"Computer Science"}],RO=({onClose:s})=>{const t=Pm(),{user:e,token:n,loading:r}=zl(w=>w.auth),[o,l]=U.useState(""),[u,d]=U.useState(""),[f,p]=U.useState(""),[g,v]=U.useState(!0);U.useEffect(()=>{(async()=>{n&&await t(nd()),v(!1)})()},[t,n]),U.useEffect(()=>{e&&(l(e.username||e.name||""),d(e.email||""),p(e.specialization||""))},[e]);const _=async w=>{w.preventDefault(),await t(Uu({name:o,email:u,specialization:f})),await t(nd()),s()};return g||r?O.jsx("div",{className:as.overlay,children:O.jsx("div",{className:as.modal,children:O.jsx("p",{children:"Loading profile..."})})}):O.jsx("div",{className:as.overlay,children:O.jsxs("div",{className:as.modal,children:[O.jsx("button",{className:as.closeIcon,onClick:s,children:""}),O.jsx("h2",{children:"Edit Profile"}),O.jsxs("form",{onSubmit:_,className:as.form,children:[O.jsx("label",{htmlFor:"name",children:"Name"}),O.jsx("input",{id:"name",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Your name",required:!0}),O.jsx("label",{htmlFor:"email",children:"Email"}),O.jsx("input",{id:"email",type:"email",value:u,onChange:w=>d(w.target.value),placeholder:"Your email",required:!0}),O.jsx("label",{htmlFor:"specialization",children:"Specialization"}),O.jsxs("select",{id:"specialization",value:f,onChange:w=>p(w.target.value),required:!0,children:[O.jsx("option",{value:"",children:"Select specialization"}),CO.map(w=>O.jsx("option",{value:w.value,children:w.label},w.value))]}),O.jsxs("div",{className:as.actions,children:[O.jsx("button",{type:"button",onClick:s,className:as.cancel,children:"Cancel"}),O.jsx("button",{type:"submit",className:as.save,children:"Save Changes"})]})]})]})})},id=({onMenuClick:s,hasSidebar:t=!1})=>{const[e,n]=U.useState(!1),[r,o]=U.useState(!1),l=U.useRef(),u=Pm(),{isLoggedIn:d}=zl(p=>p.auth);U.useEffect(()=>{const p=g=>{l.current&&!l.current.contains(g.target)&&n(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=()=>{u(WR()),n(!1)};return O.jsxs(O.Fragment,{children:[O.jsx("header",{className:Xe.header,children:O.jsxs("div",{className:Xe.container,children:[O.jsxs("div",{className:Xe.left,children:[t&&O.jsx("button",{className:Xe.menuBtn,onClick:s,children:""}),O.jsx("div",{className:Xe.logoSection,children:O.jsxs(Wu,{to:"/",className:Xe.logoLink,children:[O.jsx("img",{src:bO,alt:"Study Buddy Logo",className:Xe.logo}),O.jsxs("div",{children:[O.jsx("h1",{className:Xe.title,children:"Study Buddy"}),O.jsx("p",{className:Xe.subtitle,children:"Your smart learning partner"})]})]})})]}),O.jsx("div",{className:Xe.userSection,ref:l,children:d?O.jsxs(O.Fragment,{children:[O.jsx("div",{className:Xe.userMenu,onClick:()=>n(p=>!p),children:O.jsx("img",{src:vO,alt:"User Avatar",className:Xe.avatar})}),e&&O.jsxs("div",{className:Xe.dropdown,children:[O.jsx("button",{className:Xe.menuItem,onClick:()=>o(!0),children:"My Account"}),O.jsx("hr",{className:Xe.divider}),O.jsx("button",{onClick:f,className:Xe.logout,children:"Logout"})]})]}):O.jsx("div",{className:Xe.authLinks,children:O.jsx(Wu,{to:"/login",className:Xe.loginLink,children:"Sign In"})})})]})}),r&&O.jsx(RO,{onClose:()=>o(!1)})]})},OO="_card_ngke0_1",MO="_cardHeader_ngke0_13",kO="_withImage_ngke0_23",DO="_headerOverlay_ngke0_36",LO="_cardHeaderTop_ngke0_46",NO="_date_ngke0_52",PO="_title_ngke0_70",jO="_actions_ngke0_95",BO="_iconButton_ngke0_99",FO="_archiveButton_ngke0_114",IO="_deleteButton_ngke0_115",zO="_manageButton_ngke0_116",UO="_cardFooter_ngke0_62",HO="_playButton_ngke0_136",cn={card:OO,cardHeader:MO,withImage:kO,headerOverlay:DO,cardHeaderTop:LO,date:NO,title:PO,actions:jO,iconButton:BO,archiveButton:FO,deleteButton:IO,manageButton:zO,cardFooter:UO,playButton:HO};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$O=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),e_=s=>{const t=$O(s);return t.charAt(0).toUpperCase()+t.slice(1)},Ow=(...s)=>s.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),qO=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=U.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...u},d)=>U.createElement("svg",{ref:d,...GO,width:t,height:t,stroke:s,strokeWidth:n?Number(e)*24/Number(t):e,className:Ow("lucide",r),...!o&&!qO(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>U.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=(s,t)=>{const e=U.forwardRef(({className:n,...r},o)=>U.createElement(XO,{ref:o,iconNode:t,className:Ow(`lucide-${VO(e_(s))}`,`lucide-${s}`,n),...r}));return e.displayName=e_(s),e};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],WO=Vi("archive-restore",YO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],QO=Vi("archive",KO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JO=Vi("chevron-down",ZO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eM=Vi("chevron-right",tM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],iM=Vi("pause",nM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Mw=Vi("play",sM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],aM=Vi("plus",rM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lM=Vi("rotate-ccw",oM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uM=Vi("settings",cM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hM=Vi("trash-2",dM),n_=({id:s,title:t,date:e,archived:n,onArchive:r,onDelete:o,onManage:l,coverImage:u})=>{const d=Fl(),f=()=>d(`/modules/${s}`),p=_=>{_.stopPropagation(),r(s,n)},g=_=>{_.stopPropagation(),o(s)},v=_=>{_.stopPropagation(),l(s,t)};return console.log(u),O.jsxs("div",{className:cn.card,children:[O.jsx("div",{className:`${cn.cardHeader} ${u?cn.withImage:""}`,style:u?{backgroundImage:`url(${u})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:O.jsxs("div",{className:cn.headerOverlay,children:[O.jsxs("div",{className:cn.cardHeaderTop,children:[O.jsx("p",{className:cn.date,children:e}),O.jsxs("div",{className:cn.actions,children:[O.jsx("button",{className:`${cn.iconButton} ${cn.deleteButton}`,onClick:g,title:"Delete",children:O.jsx(hM,{size:18})}),O.jsx("button",{className:`${cn.iconButton} ${cn.archiveButton}`,onClick:p,title:n?"Unarchive":"Archive",children:n?O.jsx(WO,{size:18}):O.jsx(QO,{size:18})}),O.jsx("button",{className:`${cn.iconButton} ${cn.manageButton}`,onClick:v,title:"Manage",children:O.jsx(uM,{size:18})})]})]}),O.jsx("button",{className:cn.playButton,onClick:f,children:O.jsx(Mw,{size:32})})]})}),O.jsxs("div",{className:cn.cardFooter,children:[" ",O.jsx("p",{className:cn.title,children:t})]})]})},fM="_container_1syvj_3",pM="_icon_1syvj_18",mM="_title_1syvj_30",gM="_subtitle_1syvj_41",yM="_card_1syvj_49",vM="_actionBtn_1syvj_96",Oa={container:fM,icon:pM,title:mM,subtitle:gM,card:yM,actionBtn:vM},bM=({onClick:s})=>O.jsxs("div",{className:Oa.container,children:[O.jsx("div",{className:Oa.icon,children:""}),O.jsxs("h1",{className:Oa.title,children:["Welcome to Study Buddy! ",O.jsx("span",{children:""})]}),O.jsx("p",{className:Oa.subtitle,children:"Get started by creating your first study module. You can add notes, videos, slides, or text later to build your personalized learning space."}),O.jsxs("div",{className:Oa.card,children:[O.jsx("h3",{children:"How to get started:"}),O.jsxs("ul",{children:[O.jsxs("li",{children:[O.jsx("span",{children:"1"})," Create a Study Module"]}),O.jsxs("li",{children:[O.jsx("span",{children:"2"})," Add notes, slides, or resources"]}),O.jsxs("li",{children:[O.jsx("span",{children:"3"})," Start Learning!"]})]})]}),O.jsx("button",{className:Oa.actionBtn,onClick:s,children:"+ Create Your First Module"})]}),_M="_overlay_im5ip_1",SM="_modal_im5ip_14",wM="_closeButton_im5ip_27",AM="_title_im5ip_38",xM="_subtitle_im5ip_44",EM="_formGroup_im5ip_51",TM="_input_im5ip_63",CM="_uploadSection_im5ip_140",RM="_uploadList_im5ip_151",OM="_footer_im5ip_158",MM="_actions_im5ip_169",kM="_cancelButton_im5ip_174",DM="_createButton_im5ip_187",LM="_hiddenFileInput_im5ip_208",NM="_uploadButton_im5ip_212",PM="_uploadedFile_im5ip_235",jM="_fileIcon_im5ip_245",BM="_imagePickerSection_im5ip_250",FM="_imageGrid_im5ip_254",IM="_imageItem_im5ip_260",zM="_selectedImage_im5ip_276",ke={overlay:_M,modal:SM,closeButton:wM,title:AM,subtitle:xM,formGroup:EM,input:TM,uploadSection:CM,uploadList:RM,footer:OM,actions:MM,cancelButton:kM,createButton:DM,hiddenFileInput:LM,uploadButton:NM,uploadedFile:PM,fileIcon:jM,imagePickerSection:BM,imageGrid:FM,imageItem:IM,selectedImage:zM},kn=ye.create({baseURL:"https://study-buddy-2o9t.onrender.com/api"});kn.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s});const Ya=ye.create({baseURL:"http://localhost:3000/"});Ya.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s});const UM=["card-bg1.jpg","card-bg2.jpg","card-bg3.jpg"],kw=({isOpen:s,onClose:t,onCreate:e,moduleId:n,mode:r="create"})=>{const[o,l]=U.useState(""),[u,d]=U.useState([]),[f,p]=U.useState(!1),[g,v]=U.useState(null);if(U.useEffect(()=>{r==="upload"&&l("")},[r]),!s)return null;const _=b=>{const E=Array.from(b.target.files);d(A=>[...A,...E])},w=async()=>{if(r==="create"&&!o.trim()){alert("Please enter a module name.");return}if(u.length===0){alert("Please upload at least one file.");return}p(!0);try{const b=new FormData;r==="upload"&&b.append("moduleId",n),u.forEach(C=>b.append("files",C));const E=await Ya.post("/upload-files",b,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("Python Upload successful:",E.data),E.data.errors&&E.data.errors.length>0&&(console.error("Python upload errors:",E.data.errors),alert("Some files failed to process: "+E.data.errors.map(C=>C.file_name).join(", "))),!E.data.uploaded||E.data.uploaded.length===0){alert("No files were successfully processed."),p(!1);return}let A=null;for(let C=0;C<E.data.uploaded.length;C++){const M=E.data.uploaded[C],F={...r==="create"&&C===0&&{moduleName:o},...r==="create"&&C>0&&A&&{moduleId:A.id},...r==="upload"&&{moduleId:Number(n)},file_id:M.file_id,file_name:M.file_name,s3Url:M.s3_url,s3Key:M.s3_key,html:M.html||"",...r==="create"&&C===0&&{coverImage:g}};console.log(`Sending to Node.js (file ${C+1}/${E.data.uploaded.length}):`,F);const T=await kn.post("/files/upload",F,{headers:{"Content-Type":"application/json"}});console.log("Node.js response:",T.data),r==="create"&&C===0&&T.data.module&&(A=T.data.module)}e&&A&&e(A),l(""),d([]),v(null),t()}catch(b){console.error("Upload failed:",b),console.error("Error details:",b.response?.data),alert("Upload failed: "+(b.response?.data?.error||b.message))}finally{p(!1)}};return O.jsx("div",{className:ke.overlay,children:O.jsxs("div",{className:ke.modal,children:[O.jsx("button",{className:ke.closeButton,onClick:t,children:""}),O.jsx("h2",{className:ke.title,children:r==="create"?"Create New Study Module":"Add Files to Module"}),O.jsx("p",{className:ke.subtitle,children:r==="create"?"Upload your study materials to create a new module.":"Select and upload additional files for this module."}),r==="create"&&O.jsxs("div",{className:ke.formGroup,children:[O.jsx("label",{htmlFor:"moduleName",children:"Module Name"}),O.jsx("input",{id:"moduleName",type:"text",className:ke.input,placeholder:"e.g., Calculus I - Chapter 3",value:o,onChange:b=>l(b.target.value),disabled:f})]}),r==="create"&&O.jsxs("div",{className:ke.imagePickerSection,children:[O.jsx("label",{children:"Choose a Cover Image"}),O.jsx("div",{className:ke.imageGrid,children:UM.map((b,E)=>O.jsx("div",{className:`${ke.imageItem} ${g===b?ke.selectedImage:""}`,onClick:()=>v(b),children:O.jsx("img",{src:b,alt:"cover"})},E))})]}),O.jsxs("div",{className:ke.uploadSection,children:[O.jsx("input",{id:"fileInput",type:"file",multiple:!0,className:ke.hiddenFileInput,onChange:_,disabled:f}),O.jsx("label",{htmlFor:"fileInput",className:ke.uploadButton,children:" Upload Files"}),u.length>0&&O.jsx("ul",{className:ke.uploadList,children:u.map((b,E)=>O.jsxs("li",{className:ke.uploadedFile,children:[O.jsx("span",{className:ke.fileIcon,children:""})," ",b.name]},E))})]}),O.jsxs("div",{className:ke.footer,children:[O.jsxs("span",{children:["Total files: ",u.length]}),O.jsxs("div",{className:ke.actions,children:[O.jsx("button",{className:ke.cancelButton,onClick:t,disabled:f,children:"Cancel"}),O.jsx("button",{className:ke.createButton,onClick:w,disabled:u.length===0||f,children:f?"Uploading...":r==="create"?"Create Module":"Add Files"})]})]})]})})},HM="_homePage_s17et_1",VM="_headerSection_s17et_7",$M="_viewAllBtn_s17et_22",qM="_modulesGrid_s17et_37",GM="_content_s17et_44",XM="_modulesSection_s17et_52",YM="_toggleButtons_s17et_64",WM="_activeBtn_s17et_82",KM="_searchInput_s17et_88",ni={homePage:HM,headerSection:VM,viewAllBtn:$M,modulesGrid:qM,content:GM,modulesSection:XM,toggleButtons:YM,activeBtn:WM,searchInput:KM},QM="_addCard_1pj9l_1",ZM={addCard:QM},JM="/Study-Buddy/assets/symbol-defs-CAKCujkI.svg",tk=({onClick:s})=>O.jsx("div",{className:ZM.addCard,onClick:s,children:O.jsx("span",{children:O.jsx("svg",{width:"24",height:"24",fill:"#273da4",children:O.jsx("use",{href:`${JM}#icon-plus`})})})}),ek="_overlay_xkwon_1",nk="_modal_xkwon_11",ik="_section_xkwon_22",sk="_formRow_xkwon_26",rk="_removeBtn_xkwon_39",ak="_role_xkwon_47",ok="_button_xkwon_53",lk="_closeIcon_xkwon_66",ii={overlay:ek,modal:nk,section:ik,formRow:sk,removeBtn:rk,role:ak,button:ok,closeIcon:lk},ck=({isOpen:s,onClose:t,moduleId:e,moduleTitle:n,onUpdate:r})=>{const[o,l]=U.useState(n||""),[u,d]=U.useState(""),[f,p]=U.useState("editor"),[g,v]=U.useState([]);U.useEffect(()=>{e&&s&&_()},[e,s]);const _=async()=>{try{const A=await kn.get(`/files/modules/${e}/collaborators`);v(A.data.collaborators||[])}catch(A){console.error("Failed to fetch collaborators:",A)}},w=async()=>{try{const A=await kn.put(`/files/modules/${e}/title`,{title:o});r(A.data.module),t()}catch(A){console.error("Failed to update title:",A)}},b=async()=>{try{await kn.post(`/files/modules/${e}/collaborators`,{collaboratorEmail:u,role:f}),d(""),_()}catch(A){console.error("Failed to add collaborator:",A)}},E=async A=>{try{await kn.delete(`/files/modules/${e}/collaborators/${A}`),_()}catch(C){console.error("Failed to remove collaborator:",C)}};return s?O.jsx("div",{className:ii.overlay,children:O.jsxs("div",{className:ii.modal,children:[O.jsx("button",{className:ii.closeIcon,onClick:t,children:""}),O.jsx("h2",{children:"Manage Module"}),O.jsxs("div",{className:ii.section,children:[O.jsx("h4",{children:"Update Module Title"}),O.jsxs("div",{className:ii.formRow,children:[O.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"New title"}),O.jsx("button",{className:ii.button,onClick:w,children:"Save"})]})]}),O.jsxs("div",{className:ii.section,children:[O.jsx("h4",{children:"Add Collaborator"}),O.jsxs("div",{className:ii.formRow,children:[O.jsx("input",{type:"email",value:u,onChange:A=>d(A.target.value),placeholder:"Collaborator email"}),O.jsxs("select",{value:f,onChange:A=>p(A.target.value),children:[O.jsx("option",{value:"editor",children:"Editor"}),O.jsx("option",{value:"viewer",children:"Viewer"})]}),O.jsx("button",{className:ii.button,onClick:b,children:"Add"})]})]}),O.jsxs("div",{className:ii.section,children:[O.jsx("h4",{children:"Current Collaborators"}),g.length===0?O.jsx("p",{children:"No collaborators yet"}):O.jsx("ul",{children:g.map(A=>O.jsxs("li",{children:[O.jsx("span",{children:A.user.name||A.user.email}),O.jsx("span",{className:ii.role,children:A.role}),O.jsx("button",{className:ii.removeBtn,onClick:()=>E(A.user.id),children:"Remove"})]},A.user.id))})]})]})}):null};var uk={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function dk(s){if(typeof s=="number")return{value:s,unit:"px"};var t,e=(s.match(/^[0-9.]*/)||"").toString();e.includes(".")?t=parseFloat(e):t=parseInt(e,10);var n=(s.match(/[^0-9]*$/)||"").toString();return uk[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function i_(s){var t=dk(s);return"".concat(t.value).concat(t.unit)}var hk=function(s,t,e){var n="react-spinners-".concat(s,"-").concat(e);if(typeof window>"u"||!window.document)return n;var r=document.createElement("style");document.head.appendChild(r);var o=r.sheet,l=`
    @keyframes `.concat(n,` {
      `).concat(t,`
    }
  `);return o&&o.insertRule(l,0),n},sd=function(){return sd=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},sd.apply(this,arguments)},fk=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e},pk=hk("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Hm(s){var t=s.loading,e=t===void 0?!0:t,n=s.color,r=n===void 0?"#000000":n,o=s.speedMultiplier,l=o===void 0?1:o,u=s.cssOverride,d=u===void 0?{}:u,f=s.size,p=f===void 0?35:f,g=fk(s,["loading","color","speedMultiplier","cssOverride","size"]),v=sd({background:"transparent !important",width:i_(p),height:i_(p),borderRadius:"100%",border:"2px solid",borderTopColor:r,borderBottomColor:"transparent",borderLeftColor:r,borderRightColor:r,display:"inline-block",animation:"".concat(pk," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return e?U.createElement("span",sd({style:v},g)):null}const mk="_overlay_tgfw2_1",gk={overlay:mk},Hu=()=>O.jsx("div",{className:gk.overlay,children:O.jsx(Hm,{size:60,color:"#3498db"})}),yk="_wrapper_1bzzv_1",vk="_weekRow_1bzzv_11",bk="_dayColumn_1bzzv_17",_k="_dayLabel_1bzzv_21",Sk="_circle_1bzzv_29",wk="_circleActive_1bzzv_37",Ak="_description_1bzzv_41",xk="_button_1bzzv_48",Ek="_buttonDisabled_1bzzv_61",Tk="_streakBox_1bzzv_66",Ck="_streakNumber_1bzzv_70",Rk="_streakLabel_1bzzv_77",si={wrapper:yk,weekRow:vk,dayColumn:bk,dayLabel:_k,circle:Sk,circleActive:wk,description:Ak,button:xk,buttonDisabled:Ek,streakBox:Tk,streakNumber:Ck,streakLabel:Rk},Ok=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Mk(){const[s,t]=U.useState([]),[e,n]=U.useState(0),[r,o]=U.useState(!1),[l,u]=U.useState(!0),d=async()=>{u(!0);const p=localStorage.getItem("token"),g=await kn.get("/api/streak/week",{headers:{Authorization:`Bearer ${p}`}}),v=await kn.get("/api/streak/streak",{headers:{Authorization:`Bearer ${p}`}});t(g.data.weekData),o(g.data.forgivenessUsed),n(v.data.streak),u(!1)};U.useEffect(()=>{d()},[]);const f=async()=>{const p=s.find(v=>!v.studied);if(!p){alert("No missed days to forgive.");return}const g=localStorage.getItem("token");await kn.post("/api/streak/forgive",{date:p.date},{headers:{Authorization:`Bearer ${g}`}}),await d()};return l?O.jsx("div",{children:"Loading..."}):O.jsxs("div",{className:si.wrapper,children:[O.jsx("div",{className:si.weekRow,children:s.map((p,g)=>O.jsxs("div",{className:si.dayColumn,children:[O.jsx("span",{className:si.dayLabel,children:Ok[g]}),O.jsx("div",{className:`${si.circle} ${p.studied?si.circleActive:""}`})]},g))}),O.jsx("p",{className:si.description,children:"We understand that circumstances can be different, so once a week we will not count one of your missed classes."}),O.jsx("button",{className:`${si.button} ${r?si.buttonDisabled:""}`,disabled:r,onClick:f,children:"Do not count the missed class."}),O.jsxs("div",{className:si.streakBox,children:[O.jsx("h1",{className:si.streakNumber,children:e}),O.jsx("p",{className:si.streakLabel,children:"days in a row"})]})]})}const kk=()=>{const[s,t]=U.useState([]),[e,n]=U.useState(!0),[r,o]=U.useState(!1),[l,u]=U.useState({open:!1,moduleId:null,title:""}),[d,f]=U.useState(!1),[p,g]=U.useState(!1),[v,_]=U.useState("active"),[w,b]=U.useState("");U.useEffect(()=>{(async()=>{try{const X=await kn.get("/files/modules");t(X.data.modules||[])}catch(X){console.error("Failed to fetch modules:",X)}finally{n(!1)}})()},[]);const E=()=>o(!0),A=()=>o(!1),C=I=>{t(X=>[...X,I]),o(!1)},M=async(I,X)=>{try{const H=X?`/files/modules/${I}/unarchive`:`/files/modules/${I}/archive`;await kn.put(H),t(Y=>Y.map(K=>K.id===I?{...K,archived:!X}:K))}catch(H){console.error("Failed to toggle archive:",H)}},F=async I=>{if(window.confirm("Are you sure you want to delete this module and all its files?"))try{await kn.delete(`/files/modules/${I}`),t(H=>H.filter(Y=>Y.id!==I))}catch(H){console.error("Failed to delete module:",H)}},T=(I,X)=>{u({open:!0,moduleId:I,title:X})},D=I=>{t(X=>X.map(H=>H.id===I.id?I:H))};if(e)return O.jsxs(O.Fragment,{children:[O.jsx(id,{}),O.jsx(rm,{children:O.jsx("div",{className:ni.homePage,children:O.jsx(Hu,{})})})]});const k=s.filter(I=>!I.archived),N=s.filter(I=>I.archived),j=k.filter(I=>I.title.toLowerCase().includes(w.toLowerCase())),L=N.filter(I=>I.title.toLowerCase().includes(w.toLowerCase()));return O.jsxs(O.Fragment,{children:[O.jsx(id,{}),O.jsxs(rm,{children:[O.jsx("div",{className:ni.homePage,children:s.length===0?O.jsx(bM,{onClick:E}):O.jsxs("div",{className:ni.content,children:[O.jsxs("div",{className:ni.modulesSection,children:[O.jsxs("div",{className:ni.headerSection,children:[O.jsx("h2",{children:"Your Study Modules"}),v==="active"&&d||v==="archived"&&p?O.jsx("input",{type:"text",placeholder:"Search modules...",className:ni.searchInput,value:w,onChange:I=>b(I.target.value)}):null,v==="active"&&O.jsxs("div",{children:[k.length>=3&&O.jsx("button",{className:ni.viewAllBtn,onClick:E,children:"Add more modules"}),k.length>4&&O.jsx("button",{className:ni.viewAllBtn,onClick:()=>f(I=>!I),children:d?"View less":"View all"})]})]}),O.jsxs("div",{className:ni.toggleButtons,children:[O.jsx("button",{className:v==="active"?ni.activeBtn:"",onClick:()=>_("active"),children:"Current"}),O.jsx("button",{className:v==="archived"?ni.activeBtn:"",onClick:()=>_("archived"),children:"Archive"})]}),O.jsxs("div",{className:ni.modulesGrid,children:[v==="active"&&(d?j:j.slice(0,4)).map(I=>O.jsx(n_,{id:I.id,title:I.title,date:new Date(I.createdAt).toLocaleDateString(),archived:I.archived,onArchive:M,onDelete:F,onManage:T,coverImage:I.coverImage},I.id)),v==="archived"&&(p?L:L.slice(0,4)).map(I=>O.jsx(n_,{id:I.id,title:I.title,date:new Date(I.createdAt).toLocaleDateString(),archived:I.archived,onArchive:M,onDelete:F,onManage:T,coverImage:I.coverImage},I.id)),v==="active"&&k.length<=3&&O.jsx(tk,{onClick:E})]})]}),O.jsx(Mk,{})]})}),r&&O.jsx(kw,{isOpen:r,onClose:A,onCreate:C}),l.open&&O.jsx(ck,{isOpen:l.open,onClose:()=>u({open:!1,moduleId:null,title:""}),moduleId:l.moduleId,moduleTitle:l.title,onUpdate:D})]})]})},Dk="_pageWrapper_gv7w0_1",Lk="_card_gv7w0_10",Nk="_header_gv7w0_20",Pk="_iconCircle_gv7w0_24",jk="_icon_gv7w0_24",Bk="_title_gv7w0_40",Fk="_subtitle_gv7w0_47",Ik="_formContainer_gv7w0_52",zk="_toggleText_gv7w0_56",Uk="_toggleButton_gv7w0_62",di={pageWrapper:Dk,card:Lk,header:Nk,iconCircle:Pk,icon:jk,title:Bk,subtitle:Fk,formContainer:Ik,toggleText:zk,toggleButton:Uk};var Dw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},s_=zt.createContext&&zt.createContext(Dw),Hk=["attr","size","title"];function Vk(s,t){if(s==null)return{};var e=$k(s,t),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(e[n]=s[n])}return e}function $k(s,t){if(s==null)return{};var e={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(t.indexOf(n)>=0)continue;e[n]=s[n]}return e}function rd(){return rd=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},rd.apply(this,arguments)}function r_(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),e.push.apply(e,n)}return e}function ad(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(e),!0).forEach(function(n){qk(s,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):r_(Object(e)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(e,n))})}return s}function qk(s,t,e){return t=Gk(t),t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function Gk(s){var t=Xk(s,"string");return typeof t=="symbol"?t:t+""}function Xk(s,t){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var n=e.call(s,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Lw(s){return s&&s.map((t,e)=>zt.createElement(t.tag,ad({key:e},t.attr),Lw(t.child)))}function Zs(s){return t=>zt.createElement(Yk,rd({attr:ad({},s.attr)},t),Lw(s.child))}function Yk(s){var t=e=>{var{attr:n,size:r,title:o}=s,l=Vk(s,Hk),u=r||e.size||"1em",d;return e.className&&(d=e.className),s.className&&(d=(d?d+" ":"")+s.className),zt.createElement("svg",rd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:d,style:ad(ad({color:s.color||e.color},e.style),s.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&zt.createElement("title",null,o),s.children)};return s_!==void 0?zt.createElement(s_.Consumer,null,e=>t(e)):t(Dw)}function Wk(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"},child:[]}]})(s)}function Kk(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"},child:[]}]})(s)}function Nw(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"},child:[]}]})(s)}function Qk(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 21V23H11V21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H9C10.1947 3 11.2671 3.52375 12 4.35418C12.7329 3.52375 13.8053 3 15 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H13ZM20 19V5H15C13.8954 5 13 5.89543 13 7V19H20ZM11 19V7C11 5.89543 10.1046 5 9 5H4V19H11Z"},child:[]}]})(s)}function Pw(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.34268 18.7819L7.41083 18.2642L8.1983 15.3254C7.00919 14.8874 5.91661 14.2498 4.96116 13.4534L2.80783 15.6067L1.39362 14.1925L3.54695 12.0392C2.35581 10.6103 1.52014 8.87466 1.17578 6.96818L3.14386 6.61035C3.90289 10.8126 7.57931 14.0001 12.0002 14.0001C16.4211 14.0001 20.0976 10.8126 20.8566 6.61035L22.8247 6.96818C22.4803 8.87466 21.6446 10.6103 20.4535 12.0392L22.6068 14.1925L21.1926 15.6067L19.0393 13.4534C18.0838 14.2498 16.9912 14.8874 15.8021 15.3254L16.5896 18.2642L14.6578 18.7819L13.87 15.8418C13.2623 15.9459 12.6376 16.0001 12.0002 16.0001C11.3629 16.0001 10.7381 15.9459 10.1305 15.8418L9.34268 18.7819Z"},child:[]}]})(s)}function Vm(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"},child:[]}]})(s)}function jw(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM5 12V20H19V12H5ZM11 14H13V18H11V14ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17Z"},child:[]}]})(s)}function Zk(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"},child:[]}]})(s)}function Bw(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=Bw(s[t]))&&(n&&(n+=" "),n+=e)}else for(e in s)s[e]&&(n&&(n+=" "),n+=e);return n}function yi(){for(var s,t,e=0,n="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=Bw(s))&&(n&&(n+=" "),n+=t);return n}function Jk(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}Jk(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Gl=s=>typeof s=="number"&&!isNaN(s),Br=s=>typeof s=="string",gs=s=>typeof s=="function",tD=s=>Br(s)||Gl(s),am=s=>Br(s)||gs(s)?s:null,eD=(s,t)=>s===!1||Gl(s)&&s>0?s:t,om=s=>U.isValidElement(s)||Br(s)||gs(s)||Gl(s);function nD(s,t,e=300){let{scrollHeight:n,style:r}=s;requestAnimationFrame(()=>{r.minHeight="initial",r.height=n+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function iD({enter:s,exit:t,appendPosition:e=!1,collapse:n=!0,collapseDuration:r=300}){return function({children:o,position:l,preventExitTransition:u,done:d,nodeRef:f,isIn:p,playToast:g}){let v=e?`${s}--${l}`:s,_=e?`${t}--${l}`:t,w=U.useRef(0);return U.useLayoutEffect(()=>{let b=f.current,E=v.split(" "),A=C=>{C.target===f.current&&(g(),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),w.current===0&&C.type!=="animationcancel"&&b.classList.remove(...E))};b.classList.add(...E),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),U.useEffect(()=>{let b=f.current,E=()=>{b.removeEventListener("animationend",E),n?nD(b,d,r):d()};p||(u?E():(w.current=1,b.className+=` ${_}`,b.addEventListener("animationend",E)))},[p]),zt.createElement(zt.Fragment,null,o)}}function a_(s,t){return{content:Fw(s.content,s.props),containerId:s.props.containerId,id:s.props.toastId,theme:s.props.theme,type:s.props.type,data:s.props.data||{},isLoading:s.props.isLoading,icon:s.props.icon,reason:s.removalReason,status:t}}function Fw(s,t,e=!1){return U.isValidElement(s)&&!Br(s.type)?U.cloneElement(s,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):gs(s)?s({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):s}function sD({closeToast:s,theme:t,ariaLabel:e="close"}){return zt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),s(!0)},"aria-label":e},zt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},zt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rD({delay:s,isRunning:t,closeToast:e,type:n="default",hide:r,className:o,controlledProgress:l,progress:u,rtl:d,isIn:f,theme:p}){let g=r||l&&u===0,v={animationDuration:`${s}ms`,animationPlayState:t?"running":"paused"};l&&(v.transform=`scaleX(${u})`);let _=yi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":d}),w=gs(o)?o({rtl:d,type:n,defaultClassName:_}):yi(_,o),b={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&e()}};return zt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},zt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${n}`}),zt.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:w,style:v,...b}))}var aD=1,Iw=()=>`${aD++}`;function oD(s,t,e){let n=1,r=0,o=[],l=[],u=t,d=new Map,f=new Set,p=C=>(f.add(C),()=>f.delete(C)),g=()=>{l=Array.from(d.values()),f.forEach(C=>C())},v=({containerId:C,toastId:M,updateId:F})=>{let T=C?C!==s:s!==1,D=d.has(M)&&F==null;return T||D},_=(C,M)=>{d.forEach(F=>{var T;(M==null||M===F.props.toastId)&&((T=F.toggle)==null||T.call(F,C))})},w=C=>{var M,F;(F=(M=C.props)==null?void 0:M.onClose)==null||F.call(M,C.removalReason),C.isActive=!1},b=C=>{if(C==null)d.forEach(w);else{let M=d.get(C);M&&w(M)}g()},E=()=>{r-=o.length,o=[]},A=C=>{var M,F;let{toastId:T,updateId:D}=C.props,k=D==null;C.staleId&&d.delete(C.staleId),C.isActive=!0,d.set(T,C),g(),e(a_(C,k?"added":"updated")),k&&((F=(M=C.props).onOpen)==null||F.call(M))};return{id:s,props:u,observe:p,toggle:_,removeToast:b,toasts:d,clearQueue:E,buildToast:(C,M)=>{if(v(M))return;let{toastId:F,updateId:T,data:D,staleId:k,delay:N}=M,j=T==null;j&&r++;let L={...u,style:u.toastStyle,key:n++,...Object.fromEntries(Object.entries(M).filter(([X,H])=>H!=null)),toastId:F,updateId:T,data:D,isIn:!1,className:am(M.className||u.toastClassName),progressClassName:am(M.progressClassName||u.progressClassName),autoClose:M.isLoading?!1:eD(M.autoClose,u.autoClose),closeToast(X){d.get(F).removalReason=X,b(F)},deleteToast(){let X=d.get(F);if(X!=null){if(e(a_(X,"removed")),d.delete(F),r--,r<0&&(r=0),o.length>0){A(o.shift());return}g()}}};L.closeButton=u.closeButton,M.closeButton===!1||om(M.closeButton)?L.closeButton=M.closeButton:M.closeButton===!0&&(L.closeButton=om(u.closeButton)?u.closeButton:!0);let I={content:C,props:L,staleId:k};u.limit&&u.limit>0&&r>u.limit&&j?o.push(I):Gl(N)?setTimeout(()=>{A(I)},N):A(I)},setProps(C){u=C},setToggle:(C,M)=>{let F=d.get(C);F&&(F.toggle=M)},isToastActive:C=>{var M;return(M=d.get(C))==null?void 0:M.isActive},getSnapshot:()=>l}}var vn=new Map,Ml=[],lm=new Set,lD=s=>lm.forEach(t=>t(s)),zw=()=>vn.size>0;function cD(){Ml.forEach(s=>Hw(s.content,s.options)),Ml=[]}var uD=(s,{containerId:t})=>{var e;return(e=vn.get(t||1))==null?void 0:e.toasts.get(s)};function Uw(s,t){var e;if(t)return!!((e=vn.get(t))!=null&&e.isToastActive(s));let n=!1;return vn.forEach(r=>{r.isToastActive(s)&&(n=!0)}),n}function dD(s){if(!zw()){Ml=Ml.filter(t=>s!=null&&t.options.toastId!==s);return}if(s==null||tD(s))vn.forEach(t=>{t.removeToast(s)});else if(s&&("containerId"in s||"id"in s)){let t=vn.get(s.containerId);t?t.removeToast(s.id):vn.forEach(e=>{e.removeToast(s.id)})}}var hD=(s={})=>{vn.forEach(t=>{t.props.limit&&(!s.containerId||t.id===s.containerId)&&t.clearQueue()})};function Hw(s,t){om(s)&&(zw()||Ml.push({content:s,options:t}),vn.forEach(e=>{e.buildToast(s,t)}))}function fD(s){var t;(t=vn.get(s.containerId||1))==null||t.setToggle(s.id,s.fn)}function Vw(s,t){vn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===e.id)&&e.toggle(s,t?.id)})}function pD(s){let t=s.containerId||1;return{subscribe(e){let n=oD(t,s,lD);vn.set(t,n);let r=n.observe(e);return cD(),()=>{r(),vn.delete(t)}},setProps(e){var n;(n=vn.get(t))==null||n.setProps(e)},getSnapshot(){var e;return(e=vn.get(t))==null?void 0:e.getSnapshot()}}}function mD(s){return lm.add(s),()=>{lm.delete(s)}}function gD(s){return s&&(Br(s.toastId)||Gl(s.toastId))?s.toastId:Iw()}function Xl(s,t){return Hw(s,t),t.toastId}function Md(s,t){return{...t,type:t&&t.type||s,toastId:gD(t)}}function kd(s){return(t,e)=>Xl(t,Md(s,e))}function ie(s,t){return Xl(s,Md("default",t))}ie.loading=(s,t)=>Xl(s,Md("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function yD(s,{pending:t,error:e,success:n},r){let o;t&&(o=Br(t)?ie.loading(t,r):ie.loading(t.render,{...r,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,p,g)=>{if(p==null){ie.dismiss(o);return}let v={type:f,...l,...r,data:g},_=Br(p)?{render:p}:p;return o?ie.update(o,{...v,..._}):ie(_.render,{...v,..._}),g},d=gs(s)?s():s;return d.then(f=>u("success",n,f)).catch(f=>u("error",e,f)),d}ie.promise=yD;ie.success=kd("success");ie.info=kd("info");ie.error=kd("error");ie.warning=kd("warning");ie.warn=ie.warning;ie.dark=(s,t)=>Xl(s,Md("default",{theme:"dark",...t}));function vD(s){dD(s)}ie.dismiss=vD;ie.clearWaitingQueue=hD;ie.isActive=Uw;ie.update=(s,t={})=>{let e=uD(s,t);if(e){let{props:n,content:r}=e,o={delay:100,...n,...t,toastId:t.toastId||s,updateId:Iw()};o.toastId!==s&&(o.staleId=s);let l=o.render||r;delete o.render,Xl(l,o)}};ie.done=s=>{ie.update(s,{progress:1})};ie.onChange=mD;ie.play=s=>Vw(!0,s);ie.pause=s=>Vw(!1,s);function bD(s){var t;let{subscribe:e,getSnapshot:n,setProps:r}=U.useRef(pD(s)).current;r(s);let o=(t=U.useSyncExternalStore(e,n,n))==null?void 0:t.slice();function l(u){if(!o)return[];let d=new Map;return s.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:p}=f.props;d.has(p)||d.set(p,[]),d.get(p).push(f)}),Array.from(d,f=>u(f[0],f[1]))}return{getToastToRender:l,isToastActive:Uw,count:o?.length}}function _D(s){let[t,e]=U.useState(!1),[n,r]=U.useState(!1),o=U.useRef(null),l=U.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:f,onClick:p,closeOnClick:g}=s;fD({id:s.toastId,containerId:s.containerId,fn:e}),U.useEffect(()=>{if(s.pauseOnFocusLoss)return v(),()=>{_()}},[s.pauseOnFocusLoss]);function v(){document.hasFocus()||A(),window.addEventListener("focus",E),window.addEventListener("blur",A)}function _(){window.removeEventListener("focus",E),window.removeEventListener("blur",A)}function w(k){if(s.draggable===!0||s.draggable===k.pointerType){C();let N=o.current;l.canCloseOnClick=!0,l.canDrag=!0,N.style.transition="none",s.draggableDirection==="x"?(l.start=k.clientX,l.removalDistance=N.offsetWidth*(s.draggablePercent/100)):(l.start=k.clientY,l.removalDistance=N.offsetHeight*(s.draggablePercent===80?s.draggablePercent*1.5:s.draggablePercent)/100)}}function b(k){let{top:N,bottom:j,left:L,right:I}=o.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&s.pauseOnHover&&k.clientX>=L&&k.clientX<=I&&k.clientY>=N&&k.clientY<=j?A():E()}function E(){e(!0)}function A(){e(!1)}function C(){l.didMove=!1,document.addEventListener("pointermove",F),document.addEventListener("pointerup",T)}function M(){document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",T)}function F(k){let N=o.current;if(l.canDrag&&N){l.didMove=!0,t&&A(),s.draggableDirection==="x"?l.delta=k.clientX-l.start:l.delta=k.clientY-l.start,l.start!==k.clientX&&(l.canCloseOnClick=!1);let j=s.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;N.style.transform=`translate3d(${j},0)`,N.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function T(){M();let k=o.current;if(l.canDrag&&l.didMove&&k){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),s.closeToast(!0),s.collapseAll();return}k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}let D={onPointerDown:w,onPointerUp:b};return u&&d&&(D.onMouseEnter=A,s.stacked||(D.onMouseLeave=E)),g&&(D.onClick=k=>{p&&p(k),l.canCloseOnClick&&f(!0)}),{playToast:E,pauseToast:A,isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:D}}var SD=typeof window<"u"?U.useLayoutEffect:U.useEffect,Dd=({theme:s,type:t,isLoading:e,...n})=>zt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function wD(s){return zt.createElement(Dd,{...s},zt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function AD(s){return zt.createElement(Dd,{...s},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function xD(s){return zt.createElement(Dd,{...s},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ED(s){return zt.createElement(Dd,{...s},zt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function TD(){return zt.createElement("div",{className:"Toastify__spinner"})}var cm={info:AD,warning:wD,success:xD,error:ED,spinner:TD},CD=s=>s in cm;function RD({theme:s,type:t,isLoading:e,icon:n}){let r=null,o={theme:s,type:t};return n===!1||(gs(n)?r=n({...o,isLoading:e}):U.isValidElement(n)?r=U.cloneElement(n,o):e?r=cm.spinner():CD(t)&&(r=cm[t](o))),r}var OD=s=>{let{isRunning:t,preventExitTransition:e,toastRef:n,eventHandlers:r,playToast:o}=_D(s),{closeButton:l,children:u,autoClose:d,onClick:f,type:p,hideProgressBar:g,closeToast:v,transition:_,position:w,className:b,style:E,progressClassName:A,updateId:C,role:M,progress:F,rtl:T,toastId:D,deleteToast:k,isIn:N,isLoading:j,closeOnClick:L,theme:I,ariaLabel:X}=s,H=yi("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":L}),Y=gs(b)?b({rtl:T,position:w,type:p,defaultClassName:H}):yi(H,b),K=RD(s),z=!!F||!d,x={closeToast:v,type:p,theme:I},st=null;return l===!1||(gs(l)?st=l(x):U.isValidElement(l)?st=U.cloneElement(l,x):st=sD(x)),zt.createElement(_,{isIn:N,done:k,position:w,preventExitTransition:e,nodeRef:n,playToast:o},zt.createElement("div",{id:D,tabIndex:0,onClick:f,"data-in":N,className:Y,...r,style:E,ref:n,...N&&{role:M,"aria-label":X}},K!=null&&zt.createElement("div",{className:yi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},K),Fw(u,s,!t),st,!s.customProgressBar&&zt.createElement(rD,{...C&&!z?{key:`p-${C}`}:{},rtl:T,theme:I,delay:d,isRunning:t,isIn:N,closeToast:v,hide:g,type:p,className:A,controlledProgress:z,progress:F||0})))},MD=(s,t=!1)=>({enter:`Toastify--animate Toastify__${s}-enter`,exit:`Toastify--animate Toastify__${s}-exit`,appendPosition:t}),kD=iD(MD("bounce",!0)),DD={position:"top-right",transition:kD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:s=>s.altKey&&s.code==="KeyT"};function LD(s){let t={...DD,...s},e=s.stacked,[n,r]=U.useState(!0),o=U.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=bD(t),{className:f,style:p,rtl:g,containerId:v,hotKeys:_}=t;function w(E){let A=yi("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":g});return gs(f)?f({position:E,rtl:g,defaultClassName:A}):yi(A,am(f))}function b(){e&&(r(!0),ie.play())}return SD(()=>{var E;if(e){let A=o.current.querySelectorAll('[data-in="true"]'),C=12,M=(E=t.position)==null?void 0:E.includes("top"),F=0,T=0;Array.from(A).reverse().forEach((D,k)=>{let N=D;N.classList.add("Toastify__toast--stacked"),k>0&&(N.dataset.collapsed=`${n}`),N.dataset.pos||(N.dataset.pos=M?"top":"bot");let j=F*(n?.2:1)+(n?0:C*k);N.style.setProperty("--y",`${M?j:j*-1}px`),N.style.setProperty("--g",`${C}`),N.style.setProperty("--s",`${1-(n?T:0)}`),F+=N.offsetHeight,T+=.025})}},[n,d,e]),U.useEffect(()=>{function E(A){var C;let M=o.current;_(A)&&((C=M.querySelector('[tabIndex="0"]'))==null||C.focus(),r(!1),ie.pause()),A.key==="Escape"&&(document.activeElement===M||M!=null&&M.contains(document.activeElement))&&(r(!0),ie.play())}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[_]),zt.createElement("section",{ref:o,className:"Toastify",id:v,onMouseEnter:()=>{e&&(r(!1),ie.pause())},onMouseLeave:b,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((E,A)=>{let C=A.length?{...p}:{...p,pointerEvents:"none"};return zt.createElement("div",{tabIndex:-1,className:w(E),"data-stacked":e,style:C,key:`c-${E}`},A.map(({content:M,props:F})=>zt.createElement(OD,{...F,stacked:e,collapseAll:b,isIn:u(F.toastId,F.containerId),key:`t-${F.key}`},M)))}))}var Yl=s=>s.type==="checkbox",Tr=s=>s instanceof Date,gn=s=>s==null;const $w=s=>typeof s=="object";var ze=s=>!gn(s)&&!Array.isArray(s)&&$w(s)&&!Tr(s),ND=s=>ze(s)&&s.target?Yl(s.target)?s.target.checked:s.target.value:s,PD=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,jD=(s,t)=>s.has(PD(t)),BD=s=>{const t=s.constructor&&s.constructor.prototype;return ze(t)&&t.hasOwnProperty("isPrototypeOf")},$m=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ye(s){let t;const e=Array.isArray(s),n=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!($m&&(s instanceof Blob||n))&&(e||ze(s)))if(t=e?[]:Object.create(Object.getPrototypeOf(s)),!e&&!BD(s))t=s;else for(const r in s)s.hasOwnProperty(r)&&(t[r]=Ye(s[r]));else return s;return t}var Ld=s=>/^\w*$/.test(s),Ie=s=>s===void 0,qm=s=>Array.isArray(s)?s.filter(Boolean):[],Gm=s=>qm(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(s,t,e)=>{if(!t||!ze(s))return e;const n=(Ld(t)?[t]:Gm(t)).reduce((r,o)=>gn(r)?r:r[o],s);return Ie(n)||n===s?Ie(s[t])?e:s[t]:n},Fi=s=>typeof s=="boolean",fe=(s,t,e)=>{let n=-1;const r=Ld(t)?[t]:Gm(t),o=r.length,l=o-1;for(;++n<o;){const u=r[n];let d=e;if(n!==l){const f=s[u];d=ze(f)||Array.isArray(f)?f:isNaN(+r[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;s[u]=d,s=s[u]}};const o_={BLUR:"blur",FOCUS_OUT:"focusout"},mi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},os={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},FD=zt.createContext(null);FD.displayName="HookFormContext";var ID=(s,t,e,n=!0)=>{const r={defaultValues:t._defaultValues};for(const o in s)Object.defineProperty(r,o,{get:()=>{const l=o;return t._proxyFormState[l]!==mi.all&&(t._proxyFormState[l]=!n||mi.all),s[l]}});return r};const zD=typeof window<"u"?zt.useLayoutEffect:zt.useEffect;var $n=s=>typeof s=="string",UD=(s,t,e,n,r)=>$n(s)?(n&&t.watch.add(s),Ct(e,s,r)):Array.isArray(s)?s.map(o=>(n&&t.watch.add(o),Ct(e,o))):(n&&(t.watchAll=!0),e),um=s=>gn(s)||!$w(s);function qs(s,t,e=new WeakSet){if(um(s)||um(t))return s===t;if(Tr(s)&&Tr(t))return s.getTime()===t.getTime();const n=Object.keys(s),r=Object.keys(t);if(n.length!==r.length)return!1;if(e.has(s)||e.has(t))return!0;e.add(s),e.add(t);for(const o of n){const l=s[o];if(!r.includes(o))return!1;if(o!=="ref"){const u=t[o];if(Tr(l)&&Tr(u)||ze(l)&&ze(u)||Array.isArray(l)&&Array.isArray(u)?!qs(l,u,e):l!==u)return!1}}return!0}var qw=(s,t,e,n,r)=>t?{...e[s],types:{...e[s]&&e[s].types?e[s].types:{},[n]:r||!0}}:{},Al=s=>Array.isArray(s)?s:[s],l_=()=>{let s=[];return{get observers(){return s},next:r=>{for(const o of s)o.next&&o.next(r)},subscribe:r=>(s.push(r),{unsubscribe:()=>{s=s.filter(o=>o!==r)}}),unsubscribe:()=>{s=[]}}};function Gw(s,t){const e={};for(const n in s)if(s.hasOwnProperty(n)){const r=s[n],o=t[n];if(r&&ze(r)&&o){const l=Gw(r,o);ze(l)&&(e[n]=l)}else s[n]&&(e[n]=o)}return e}var On=s=>ze(s)&&!Object.keys(s).length,Xm=s=>s.type==="file",gi=s=>typeof s=="function",od=s=>{if(!$m)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Xw=s=>s.type==="select-multiple",Ym=s=>s.type==="radio",HD=s=>Ym(s)||Yl(s),Ap=s=>od(s)&&s.isConnected;function VD(s,t){const e=t.slice(0,-1).length;let n=0;for(;n<e;)s=Ie(s)?n++:s[t[n++]];return s}function $D(s){for(const t in s)if(s.hasOwnProperty(t)&&!Ie(s[t]))return!1;return!0}function Fe(s,t){const e=Array.isArray(t)?t:Ld(t)?[t]:Gm(t),n=e.length===1?s:VD(s,e),r=e.length-1,o=e[r];return n&&delete n[o],r!==0&&(ze(n)&&On(n)||Array.isArray(n)&&$D(n))&&Fe(s,e.slice(0,-1)),s}var qD=s=>{for(const t in s)if(gi(s[t]))return!0;return!1};function Yw(s){return Array.isArray(s)||ze(s)&&!qD(s)}function dm(s,t={}){for(const e in s)Yw(s[e])?(t[e]=Array.isArray(s[e])?[]:{},dm(s[e],t[e])):gn(s[e])||(t[e]=!0);return t}function Na(s,t,e){e||(e=dm(t));for(const n in s)Yw(s[n])?Ie(t)||um(e[n])?e[n]=dm(s[n],Array.isArray(s[n])?[]:{}):Na(s[n],gn(t)?{}:t[n],e[n]):e[n]=!qs(s[n],t[n]);return e}const c_={value:!1,isValid:!1},u_={value:!0,isValid:!0};var Ww=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!Ie(s[0].attributes.value)?Ie(s[0].value)||s[0].value===""?u_:{value:s[0].value,isValid:!0}:u_:c_}return c_},Kw=(s,{valueAsNumber:t,valueAsDate:e,setValueAs:n})=>Ie(s)?s:t?s===""?NaN:s&&+s:e&&$n(s)?new Date(s):n?n(s):s;const d_={isValid:!1,value:null};var Qw=s=>Array.isArray(s)?s.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,d_):d_;function h_(s){const t=s.ref;return Xm(t)?t.files:Ym(t)?Qw(s.refs).value:Xw(t)?[...t.selectedOptions].map(({value:e})=>e):Yl(t)?Ww(s.refs).value:Kw(Ie(t.value)?s.ref.value:t.value,s)}var GD=(s,t,e,n)=>{const r={};for(const o of s){const l=Ct(t,o);l&&fe(r,o,l._f)}return{criteriaMode:e,names:[...s],fields:r,shouldUseNativeValidation:n}},ld=s=>s instanceof RegExp,al=s=>Ie(s)?s:ld(s)?s.source:ze(s)?ld(s.value)?s.value.source:s.value:s,f_=s=>({isOnSubmit:!s||s===mi.onSubmit,isOnBlur:s===mi.onBlur,isOnChange:s===mi.onChange,isOnAll:s===mi.all,isOnTouch:s===mi.onTouched});const p_="AsyncFunction";var XD=s=>!!s&&!!s.validate&&!!(gi(s.validate)&&s.validate.constructor.name===p_||ze(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===p_)),YD=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),m_=(s,t,e)=>!e&&(t.watchAll||t.watch.has(s)||[...t.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const xl=(s,t,e,n)=>{for(const r of e||Object.keys(s)){const o=Ct(s,r);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],r)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(xl(u,t))break}else if(ze(u)&&xl(u,t))break}}};function g_(s,t,e){const n=Ct(s,e);if(n||Ld(e))return{error:n,name:e};const r=e.split(".");for(;r.length;){const o=r.join("."),l=Ct(t,o),u=Ct(s,o);if(l&&!Array.isArray(l)&&e!==o)return{name:e};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};r.pop()}return{name:e}}var WD=(s,t,e,n)=>{e(s);const{name:r,...o}=s;return On(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(l=>t[l]===(!n||mi.all))},KD=(s,t,e)=>!s||!t||s===t||Al(s).some(n=>n&&(e?n===t:n.startsWith(t)||t.startsWith(n))),QD=(s,t,e,n,r)=>r.isOnAll?!1:!e&&r.isOnTouch?!(t||s):(e?n.isOnBlur:r.isOnBlur)?!s:(e?n.isOnChange:r.isOnChange)?s:!0,ZD=(s,t)=>!qm(Ct(s,t)).length&&Fe(s,t),JD=(s,t,e)=>{const n=Al(Ct(s,e));return fe(n,"root",t[e]),fe(s,e,n),s};function y_(s,t,e="validate"){if($n(s)||Array.isArray(s)&&s.every($n)||Fi(s)&&!s)return{type:e,message:$n(s)?s:"",ref:t}}var Ma=s=>ze(s)&&!ld(s)?s:{value:s,message:""},v_=async(s,t,e,n,r,o)=>{const{ref:l,refs:u,required:d,maxLength:f,minLength:p,min:g,max:v,pattern:_,validate:w,name:b,valueAsNumber:E,mount:A}=s._f,C=Ct(e,b);if(!A||t.has(b))return{};const M=u?u[0]:l,F=X=>{r&&M.reportValidity&&(M.setCustomValidity(Fi(X)?"":X||""),M.reportValidity())},T={},D=Ym(l),k=Yl(l),N=D||k,j=(E||Xm(l))&&Ie(l.value)&&Ie(C)||od(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,L=qw.bind(null,b,n,T),I=(X,H,Y,K=os.maxLength,z=os.minLength)=>{const x=X?H:Y;T[b]={type:X?K:z,message:x,ref:l,...L(X?K:z,x)}};if(o?!Array.isArray(C)||!C.length:d&&(!N&&(j||gn(C))||Fi(C)&&!C||k&&!Ww(u).isValid||D&&!Qw(u).isValid)){const{value:X,message:H}=$n(d)?{value:!!d,message:d}:Ma(d);if(X&&(T[b]={type:os.required,message:H,ref:M,...L(os.required,H)},!n))return F(H),T}if(!j&&(!gn(g)||!gn(v))){let X,H;const Y=Ma(v),K=Ma(g);if(!gn(C)&&!isNaN(C)){const z=l.valueAsNumber||C&&+C;gn(Y.value)||(X=z>Y.value),gn(K.value)||(H=z<K.value)}else{const z=l.valueAsDate||new Date(C),x=S=>new Date(new Date().toDateString()+" "+S),st=l.type=="time",V=l.type=="week";$n(Y.value)&&C&&(X=st?x(C)>x(Y.value):V?C>Y.value:z>new Date(Y.value)),$n(K.value)&&C&&(H=st?x(C)<x(K.value):V?C<K.value:z<new Date(K.value))}if((X||H)&&(I(!!X,Y.message,K.message,os.max,os.min),!n))return F(T[b].message),T}if((f||p)&&!j&&($n(C)||o&&Array.isArray(C))){const X=Ma(f),H=Ma(p),Y=!gn(X.value)&&C.length>+X.value,K=!gn(H.value)&&C.length<+H.value;if((Y||K)&&(I(Y,X.message,H.message),!n))return F(T[b].message),T}if(_&&!j&&$n(C)){const{value:X,message:H}=Ma(_);if(ld(X)&&!C.match(X)&&(T[b]={type:os.pattern,message:H,ref:l,...L(os.pattern,H)},!n))return F(H),T}if(w){if(gi(w)){const X=await w(C,e),H=y_(X,M);if(H&&(T[b]={...H,...L(os.validate,H.message)},!n))return F(H.message),T}else if(ze(w)){let X={};for(const H in w){if(!On(X)&&!n)break;const Y=y_(await w[H](C,e),M,H);Y&&(X={...Y,...L(H,Y.message)},F(Y.message),n&&(T[b]=X))}if(!On(X)&&(T[b]={ref:M,...X},!n))return T}}return F(!0),T};const tL={mode:mi.onSubmit,reValidateMode:mi.onChange,shouldFocusError:!0};function eL(s={}){let t={...tL,...s},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:gi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},r=ze(t.defaultValues)||ze(t.values)?Ye(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Ye(r),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const v={array:l_(),state:l_()},_=t.criteriaMode===mi.all,w=G=>J=>{clearTimeout(f),f=setTimeout(G,J)},b=async G=>{if(!t.disabled&&(p.isValid||g.isValid||G)){const J=t.resolver?On((await k()).errors):await j(n,!0);J!==e.isValid&&v.state.next({isValid:J})}},E=(G,J)=>{!t.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((G||Array.from(u.mount)).forEach(lt=>{lt&&(J?fe(e.validatingFields,lt,J):Fe(e.validatingFields,lt))}),v.state.next({validatingFields:e.validatingFields,isValidating:!On(e.validatingFields)}))},A=(G,J=[],lt,gt,mt=!0,pt=!0)=>{if(gt&&lt&&!t.disabled){if(l.action=!0,pt&&Array.isArray(Ct(n,G))){const Et=lt(Ct(n,G),gt.argA,gt.argB);mt&&fe(n,G,Et)}if(pt&&Array.isArray(Ct(e.errors,G))){const Et=lt(Ct(e.errors,G),gt.argA,gt.argB);mt&&fe(e.errors,G,Et),ZD(e.errors,G)}if((p.touchedFields||g.touchedFields)&&pt&&Array.isArray(Ct(e.touchedFields,G))){const Et=lt(Ct(e.touchedFields,G),gt.argA,gt.argB);mt&&fe(e.touchedFields,G,Et)}(p.dirtyFields||g.dirtyFields)&&(e.dirtyFields=Na(r,o)),v.state.next({name:G,isDirty:I(G,J),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else fe(o,G,J)},C=(G,J)=>{fe(e.errors,G,J),v.state.next({errors:e.errors})},M=G=>{e.errors=G,v.state.next({errors:e.errors,isValid:!1})},F=(G,J,lt,gt)=>{const mt=Ct(n,G);if(mt){const pt=Ct(o,G,Ie(lt)?Ct(r,G):lt);Ie(pt)||gt&&gt.defaultChecked||J?fe(o,G,J?pt:h_(mt._f)):Y(G,pt),l.mount&&b()}},T=(G,J,lt,gt,mt)=>{let pt=!1,Et=!1;const Rt={name:G};if(!t.disabled){if(!lt||gt){(p.isDirty||g.isDirty)&&(Et=e.isDirty,e.isDirty=Rt.isDirty=I(),pt=Et!==Rt.isDirty);const jt=qs(Ct(r,G),J);Et=!!Ct(e.dirtyFields,G),jt?Fe(e.dirtyFields,G):fe(e.dirtyFields,G,!0),Rt.dirtyFields=e.dirtyFields,pt=pt||(p.dirtyFields||g.dirtyFields)&&Et!==!jt}if(lt){const jt=Ct(e.touchedFields,G);jt||(fe(e.touchedFields,G,lt),Rt.touchedFields=e.touchedFields,pt=pt||(p.touchedFields||g.touchedFields)&&jt!==lt)}pt&&mt&&v.state.next(Rt)}return pt?Rt:{}},D=(G,J,lt,gt)=>{const mt=Ct(e.errors,G),pt=(p.isValid||g.isValid)&&Fi(J)&&e.isValid!==J;if(t.delayError&&lt?(d=w(()=>C(G,lt)),d(t.delayError)):(clearTimeout(f),d=null,lt?fe(e.errors,G,lt):Fe(e.errors,G)),(lt?!qs(mt,lt):mt)||!On(gt)||pt){const Et={...gt,...pt&&Fi(J)?{isValid:J}:{},errors:e.errors,name:G};e={...e,...Et},v.state.next(Et)}},k=async G=>{E(G,!0);const J=await t.resolver(o,t.context,GD(G||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return E(G),J},N=async G=>{const{errors:J}=await k(G);if(G)for(const lt of G){const gt=Ct(J,lt);gt?fe(e.errors,lt,gt):Fe(e.errors,lt)}else e.errors=J;return J},j=async(G,J,lt={valid:!0})=>{for(const gt in G){const mt=G[gt];if(mt){const{_f:pt,...Et}=mt;if(pt){const Rt=u.array.has(pt.name),jt=mt._f&&XD(mt._f);jt&&p.validatingFields&&E([pt.name],!0);const Zt=await v_(mt,u.disabled,o,_,t.shouldUseNativeValidation&&!J,Rt);if(jt&&p.validatingFields&&E([pt.name]),Zt[pt.name]&&(lt.valid=!1,J))break;!J&&(Ct(Zt,pt.name)?Rt?JD(e.errors,Zt,pt.name):fe(e.errors,pt.name,Zt[pt.name]):Fe(e.errors,pt.name))}!On(Et)&&await j(Et,J,lt)}}return lt.valid},L=()=>{for(const G of u.unMount){const J=Ct(n,G);J&&(J._f.refs?J._f.refs.every(lt=>!Ap(lt)):!Ap(J._f.ref))&&dt(G)}u.unMount=new Set},I=(G,J)=>!t.disabled&&(G&&J&&fe(o,G,J),!qs(S(),r)),X=(G,J,lt)=>UD(G,u,{...l.mount?o:Ie(J)?r:$n(G)?{[G]:J}:J},lt,J),H=G=>qm(Ct(l.mount?o:r,G,t.shouldUnregister?Ct(r,G,[]):[])),Y=(G,J,lt={})=>{const gt=Ct(n,G);let mt=J;if(gt){const pt=gt._f;pt&&(!pt.disabled&&fe(o,G,Kw(J,pt)),mt=od(pt.ref)&&gn(J)?"":J,Xw(pt.ref)?[...pt.ref.options].forEach(Et=>Et.selected=mt.includes(Et.value)):pt.refs?Yl(pt.ref)?pt.refs.forEach(Et=>{(!Et.defaultChecked||!Et.disabled)&&(Array.isArray(mt)?Et.checked=!!mt.find(Rt=>Rt===Et.value):Et.checked=mt===Et.value||!!mt)}):pt.refs.forEach(Et=>Et.checked=Et.value===mt):Xm(pt.ref)?pt.ref.value="":(pt.ref.value=mt,pt.ref.type||v.state.next({name:G,values:Ye(o)})))}(lt.shouldDirty||lt.shouldTouch)&&T(G,mt,lt.shouldTouch,lt.shouldDirty,!0),lt.shouldValidate&&V(G)},K=(G,J,lt)=>{for(const gt in J){if(!J.hasOwnProperty(gt))return;const mt=J[gt],pt=G+"."+gt,Et=Ct(n,pt);(u.array.has(G)||ze(mt)||Et&&!Et._f)&&!Tr(mt)?K(pt,mt,lt):Y(pt,mt,lt)}},z=(G,J,lt={})=>{const gt=Ct(n,G),mt=u.array.has(G),pt=Ye(J);fe(o,G,pt),mt?(v.array.next({name:G,values:Ye(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&lt.shouldDirty&&v.state.next({name:G,dirtyFields:Na(r,o),isDirty:I(G,pt)})):gt&&!gt._f&&!gn(pt)?K(G,pt,lt):Y(G,pt,lt),m_(G,u)&&v.state.next({...e,name:G}),v.state.next({name:l.mount?G:void 0,values:Ye(o)})},x=async G=>{l.mount=!0;const J=G.target;let lt=J.name,gt=!0;const mt=Ct(n,lt),pt=jt=>{gt=Number.isNaN(jt)||Tr(jt)&&isNaN(jt.getTime())||qs(jt,Ct(o,lt,jt))},Et=f_(t.mode),Rt=f_(t.reValidateMode);if(mt){let jt,Zt;const Ei=J.type?h_(mt._f):ND(G),Ti=G.type===o_.BLUR||G.type===o_.FOCUS_OUT,Gd=!YD(mt._f)&&!t.resolver&&!Ct(e.errors,lt)&&!mt._f.deps||QD(Ti,Ct(e.touchedFields,lt),e.isSubmitted,Rt,Et),bs=m_(lt,u,Ti);fe(o,lt,Ei),Ti?(!J||!J.readOnly)&&(mt._f.onBlur&&mt._f.onBlur(G),d&&d(0)):mt._f.onChange&&mt._f.onChange(G);const _s=T(lt,Ei,Ti),$i=!On(_s)||bs;if(!Ti&&v.state.next({name:lt,type:G.type,values:Ye(o)}),Gd)return(p.isValid||g.isValid)&&(t.mode==="onBlur"?Ti&&b():Ti||b()),$i&&v.state.next({name:lt,...bs?{}:_s});if(!Ti&&bs&&v.state.next({...e}),t.resolver){const{errors:Js}=await k([lt]);if(pt(Ei),gt){const tr=g_(e.errors,n,lt),rc=g_(Js,n,tr.name||lt);jt=rc.error,lt=rc.name,Zt=On(Js)}}else E([lt],!0),jt=(await v_(mt,u.disabled,o,_,t.shouldUseNativeValidation))[lt],E([lt]),pt(Ei),gt&&(jt?Zt=!1:(p.isValid||g.isValid)&&(Zt=await j(n,!0)));gt&&(mt._f.deps&&(!Array.isArray(mt._f.deps)||mt._f.deps.length>0)&&V(mt._f.deps),D(lt,Zt,jt,_s))}},st=(G,J)=>{if(Ct(e.errors,J)&&G.focus)return G.focus(),1},V=async(G,J={})=>{let lt,gt;const mt=Al(G);if(t.resolver){const pt=await N(Ie(G)?G:mt);lt=On(pt),gt=G?!mt.some(Et=>Ct(pt,Et)):lt}else G?(gt=(await Promise.all(mt.map(async pt=>{const Et=Ct(n,pt);return await j(Et&&Et._f?{[pt]:Et}:Et)}))).every(Boolean),!(!gt&&!e.isValid)&&b()):gt=lt=await j(n);return v.state.next({...!$n(G)||(p.isValid||g.isValid)&&lt!==e.isValid?{}:{name:G},...t.resolver||!G?{isValid:lt}:{},errors:e.errors}),J.shouldFocus&&!gt&&xl(n,st,G?mt:u.mount),gt},S=(G,J)=>{let lt={...l.mount?o:r};return J&&(lt=Gw(J.dirtyFields?e.dirtyFields:e.touchedFields,lt)),Ie(G)?lt:$n(G)?Ct(lt,G):G.map(gt=>Ct(lt,gt))},B=(G,J)=>({invalid:!!Ct((J||e).errors,G),isDirty:!!Ct((J||e).dirtyFields,G),error:Ct((J||e).errors,G),isValidating:!!Ct(e.validatingFields,G),isTouched:!!Ct((J||e).touchedFields,G)}),$=G=>{G&&Al(G).forEach(J=>Fe(e.errors,J)),v.state.next({errors:G?e.errors:{}})},Q=(G,J,lt)=>{const gt=(Ct(n,G,{_f:{}})._f||{}).ref,mt=Ct(e.errors,G)||{},{ref:pt,message:Et,type:Rt,...jt}=mt;fe(e.errors,G,{...jt,...J,ref:gt}),v.state.next({name:G,errors:e.errors,isValid:!1}),lt&&lt.shouldFocus&&gt&&gt.focus&&gt.focus()},tt=(G,J)=>gi(G)?v.state.subscribe({next:lt=>"values"in lt&&G(X(void 0,J),lt)}):X(G,J,!0),ct=G=>v.state.subscribe({next:J=>{KD(G.name,J.name,G.exact)&&WD(J,G.formState||p,Ot,G.reRenderRoot)&&G.callback({values:{...o},...e,...J,defaultValues:r})}}).unsubscribe,at=G=>(l.mount=!0,g={...g,...G.formState},ct({...G,formState:g})),dt=(G,J={})=>{for(const lt of G?Al(G):u.mount)u.mount.delete(lt),u.array.delete(lt),J.keepValue||(Fe(n,lt),Fe(o,lt)),!J.keepError&&Fe(e.errors,lt),!J.keepDirty&&Fe(e.dirtyFields,lt),!J.keepTouched&&Fe(e.touchedFields,lt),!J.keepIsValidating&&Fe(e.validatingFields,lt),!t.shouldUnregister&&!J.keepDefaultValue&&Fe(r,lt);v.state.next({values:Ye(o)}),v.state.next({...e,...J.keepDirty?{isDirty:I()}:{}}),!J.keepIsValid&&b()},yt=({disabled:G,name:J})=>{(Fi(G)&&l.mount||G||u.disabled.has(J))&&(G?u.disabled.add(J):u.disabled.delete(J))},xt=(G,J={})=>{let lt=Ct(n,G);const gt=Fi(J.disabled)||Fi(t.disabled);return fe(n,G,{...lt||{},_f:{...lt&&lt._f?lt._f:{ref:{name:G}},name:G,mount:!0,...J}}),u.mount.add(G),lt?yt({disabled:Fi(J.disabled)?J.disabled:t.disabled,name:G}):F(G,!0,J.value),{...gt?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:al(J.min),max:al(J.max),minLength:al(J.minLength),maxLength:al(J.maxLength),pattern:al(J.pattern)}:{},name:G,onChange:x,onBlur:x,ref:mt=>{if(mt){xt(G,J),lt=Ct(n,G);const pt=Ie(mt.value)&&mt.querySelectorAll&&mt.querySelectorAll("input,select,textarea")[0]||mt,Et=HD(pt),Rt=lt._f.refs||[];if(Et?Rt.find(jt=>jt===pt):pt===lt._f.ref)return;fe(n,G,{_f:{...lt._f,...Et?{refs:[...Rt.filter(Ap),pt,...Array.isArray(Ct(r,G))?[{}]:[]],ref:{type:pt.type,name:G}}:{ref:pt}}}),F(G,!1,void 0,pt)}else lt=Ct(n,G,{}),lt._f&&(lt._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(jD(u.array,G)&&l.action)&&u.unMount.add(G)}}},St=()=>t.shouldFocusError&&xl(n,st,u.mount),It=G=>{Fi(G)&&(v.state.next({disabled:G}),xl(n,(J,lt)=>{const gt=Ct(n,lt);gt&&(J.disabled=gt._f.disabled||G,Array.isArray(gt._f.refs)&&gt._f.refs.forEach(mt=>{mt.disabled=gt._f.disabled||G}))},0,!1))},Ft=(G,J)=>async lt=>{let gt;lt&&(lt.preventDefault&&lt.preventDefault(),lt.persist&&lt.persist());let mt=Ye(o);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:pt,values:Et}=await k();e.errors=pt,mt=Ye(Et)}else await j(n);if(u.disabled.size)for(const pt of u.disabled)Fe(mt,pt);if(Fe(e.errors,"root"),On(e.errors)){v.state.next({errors:{}});try{await G(mt,lt)}catch(pt){gt=pt}}else J&&await J({...e.errors},lt),St(),setTimeout(St);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(e.errors)&&!gt,submitCount:e.submitCount+1,errors:e.errors}),gt)throw gt},bt=(G,J={})=>{Ct(n,G)&&(Ie(J.defaultValue)?z(G,Ye(Ct(r,G))):(z(G,J.defaultValue),fe(r,G,Ye(J.defaultValue))),J.keepTouched||Fe(e.touchedFields,G),J.keepDirty||(Fe(e.dirtyFields,G),e.isDirty=J.defaultValue?I(G,Ye(Ct(r,G))):I()),J.keepError||(Fe(e.errors,G),p.isValid&&b()),v.state.next({...e}))},_t=(G,J={})=>{const lt=G?Ye(G):r,gt=Ye(lt),mt=On(G),pt=mt?r:gt;if(J.keepDefaultValues||(r=lt),!J.keepValues){if(J.keepDirtyValues){const Et=new Set([...u.mount,...Object.keys(Na(r,o))]);for(const Rt of Array.from(Et))Ct(e.dirtyFields,Rt)?fe(pt,Rt,Ct(o,Rt)):z(Rt,Ct(pt,Rt))}else{if($m&&Ie(G))for(const Et of u.mount){const Rt=Ct(n,Et);if(Rt&&Rt._f){const jt=Array.isArray(Rt._f.refs)?Rt._f.refs[0]:Rt._f.ref;if(od(jt)){const Zt=jt.closest("form");if(Zt){Zt.reset();break}}}}if(J.keepFieldsRef)for(const Et of u.mount)z(Et,Ct(pt,Et));else n={}}o=t.shouldUnregister?J.keepDefaultValues?Ye(r):{}:Ye(pt),v.array.next({values:{...pt}}),v.state.next({values:{...pt}})}u={mount:J.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!J.keepIsValid||!!J.keepDirtyValues,l.watch=!!t.shouldUnregister,v.state.next({submitCount:J.keepSubmitCount?e.submitCount:0,isDirty:mt?!1:J.keepDirty?e.isDirty:!!(J.keepDefaultValues&&!qs(G,r)),isSubmitted:J.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:mt?{}:J.keepDirtyValues?J.keepDefaultValues&&o?Na(r,o):e.dirtyFields:J.keepDefaultValues&&G?Na(r,G):J.keepDirty?e.dirtyFields:{},touchedFields:J.keepTouched?e.touchedFields:{},errors:J.keepErrors?e.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},kt=(G,J)=>_t(gi(G)?G(o):G,J),Vt=(G,J={})=>{const lt=Ct(n,G),gt=lt&&lt._f;if(gt){const mt=gt.refs?gt.refs[0]:gt.ref;mt.focus&&(mt.focus(),J.shouldSelect&&gi(mt.select)&&mt.select())}},Ot=G=>{e={...e,...G}},oe={control:{register:xt,unregister:dt,getFieldState:B,handleSubmit:Ft,setError:Q,_subscribe:ct,_runSchema:k,_focusError:St,_getWatch:X,_getDirty:I,_setValid:b,_setFieldArray:A,_setDisabledField:yt,_setErrors:M,_getFieldArray:H,_reset:_t,_resetDefaultValues:()=>gi(t.defaultValues)&&t.defaultValues().then(G=>{kt(G,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:It,_subjects:v,_proxyFormState:p,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(G){l=G},get _defaultValues(){return r},get _names(){return u},set _names(G){u=G},get _formState(){return e},get _options(){return t},set _options(G){t={...t,...G}}},subscribe:at,trigger:V,register:xt,handleSubmit:Ft,watch:tt,setValue:z,getValues:S,reset:kt,resetField:bt,clearErrors:$,unregister:dt,setError:Q,setFocus:Vt,getFieldState:B};return{...oe,formControl:oe}}function Zw(s={}){const t=zt.useRef(void 0),e=zt.useRef(void 0),[n,r]=zt.useState({isDirty:!1,isValidating:!1,isLoading:gi(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:gi(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:n},s.defaultValues&&!gi(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:l,...u}=eL(s);t.current={...u,formState:n}}const o=t.current.control;return o._options=s,zD(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>r({...o._formState}),reRenderRoot:!0});return r(u=>({...u,isReady:!0})),o._formState.isReady=!0,l},[o]),zt.useEffect(()=>o._disableForm(s.disabled),[o,s.disabled]),zt.useEffect(()=>{s.mode&&(o._options.mode=s.mode),s.reValidateMode&&(o._options.reValidateMode=s.reValidateMode)},[o,s.mode,s.reValidateMode]),zt.useEffect(()=>{s.errors&&(o._setErrors(s.errors),o._focusError())},[o,s.errors]),zt.useEffect(()=>{s.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,s.shouldUnregister]),zt.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),zt.useEffect(()=>{s.values&&!qs(s.values,e.current)?(o._reset(s.values,{keepFieldsRef:!0,...o._options.resetOptions}),e.current=s.values,r(l=>({...l}))):o._resetDefaultValues()},[o,s.values]),zt.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=ID(n,o),t.current}var xp,b_;function nL(){if(b_)return xp;b_=1;function s(A){this._maxSize=A,this.clear()}s.prototype.clear=function(){this._size=0,this._values=Object.create(null)},s.prototype.get=function(A){return this._values[A]},s.prototype.set=function(A,C){return this._size>=this._maxSize&&this.clear(),A in this._values||this._size++,this._values[A]=C};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,e=/^\d+$/,n=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,u=new s(l),d=new s(l),f=new s(l);xp={Cache:s,split:g,normalizePath:p,setter:function(A){var C=p(A);return d.get(A)||d.set(A,function(F,T){for(var D=0,k=C.length,N=F;D<k-1;){var j=C[D];if(j==="__proto__"||j==="constructor"||j==="prototype")return F;N=N[C[D++]]}N[C[D]]=T})},getter:function(A,C){var M=p(A);return f.get(A)||f.set(A,function(T){for(var D=0,k=M.length;D<k;)if(T!=null||!C)T=T[M[D++]];else return;return T})},join:function(A){return A.reduce(function(C,M){return C+(_(M)||e.test(M)?"["+M+"]":(C?".":"")+M)},"")},forEach:function(A,C,M){v(Array.isArray(A)?A:g(A),C,M)}};function p(A){return u.get(A)||u.set(A,g(A).map(function(C){return C.replace(o,"$2")}))}function g(A){return A.match(t)||[""]}function v(A,C,M){var F=A.length,T,D,k,N;for(D=0;D<F;D++)T=A[D],T&&(E(T)&&(T='"'+T+'"'),N=_(T),k=!N&&/^\d+$/.test(T),C.call(M,T,N,k,D,A))}function _(A){return typeof A=="string"&&A&&["'",'"'].indexOf(A.charAt(0))!==-1}function w(A){return A.match(n)&&!A.match(e)}function b(A){return r.test(A)}function E(A){return!_(A)&&(w(A)||b(A))}return xp}var Lr=nL(),Ep,__;function iL(){if(__)return Ep;__=1;const s=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=p=>p.match(s)||[],e=p=>p[0].toUpperCase()+p.slice(1),n=(p,g)=>t(p).join(g).toLowerCase(),r=p=>t(p).reduce((g,v)=>`${g}${g?v[0].toUpperCase()+v.slice(1).toLowerCase():v.toLowerCase()}`,"");return Ep={words:t,upperFirst:e,camelCase:r,pascalCase:p=>e(r(p)),snakeCase:p=>n(p,"_"),kebabCase:p=>n(p,"-"),sentenceCase:p=>e(n(p," ")),titleCase:p=>t(p).map(e).join(" ")},Ep}var Tp=iL(),wu={exports:{}},S_;function sL(){if(S_)return wu.exports;S_=1,wu.exports=function(r){return s(t(r),r)},wu.exports.array=s;function s(r,o){var l=r.length,u=new Array(l),d={},f=l,p=e(o),g=n(r);for(o.forEach(function(_){if(!g.has(_[0])||!g.has(_[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});f--;)d[f]||v(r[f],f,new Set);return u;function v(_,w,b){if(b.has(_)){var E;try{E=", node was:"+JSON.stringify(_)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!g.has(_))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(_));if(!d[w]){d[w]=!0;var A=p.get(_)||new Set;if(A=Array.from(A),w=A.length){b.add(_);do{var C=A[--w];v(C,g.get(C),b)}while(w);b.delete(_)}u[--l]=_}}}function t(r){for(var o=new Set,l=0,u=r.length;l<u;l++){var d=r[l];o.add(d[0]),o.add(d[1])}return Array.from(o)}function e(r){for(var o=new Map,l=0,u=r.length;l<u;l++){var d=r[l];o.has(d[0])||o.set(d[0],new Set),o.has(d[1])||o.set(d[1],new Set),o.get(d[0]).add(d[1])}return o}function n(r){for(var o=new Map,l=0,u=r.length;l<u;l++)o.set(r[l],l);return o}return wu.exports}var rL=sL();const aL=vd(rL),oL=Object.prototype.toString,lL=Error.prototype.toString,cL=RegExp.prototype.toString,uL=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",dL=/^Symbol\((.*)\)(.*)$/;function hL(s){return s!=+s?"NaN":s===0&&1/s<0?"-0":""+s}function w_(s,t=!1){if(s==null||s===!0||s===!1)return""+s;const e=typeof s;if(e==="number")return hL(s);if(e==="string")return t?`"${s}"`:s;if(e==="function")return"[Function "+(s.name||"anonymous")+"]";if(e==="symbol")return uL.call(s).replace(dL,"Symbol($1)");const n=oL.call(s).slice(8,-1);return n==="Date"?isNaN(s.getTime())?""+s:s.toISOString(s):n==="Error"||s instanceof Error?"["+lL.call(s)+"]":n==="RegExp"?cL.call(s):null}function Xs(s,t){let e=w_(s,t);return e!==null?e:JSON.stringify(s,function(n,r){let o=w_(this[n],t);return o!==null?o:r},2)}function Jw(s){return s==null?[]:[].concat(s)}let t1,e1,n1,fL=/\$\{\s*(\w+)\s*\}/g;t1=Symbol.toStringTag;class A_{constructor(t,e,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[t1]="Error",this.name="ValidationError",this.value=e,this.path=n,this.type=r,this.errors=[],this.inner=[],Jw(t).forEach(o=>{if(yn.isError(o)){this.errors.push(...o.errors);const l=o.inner.length?o.inner:[o];this.inner.push(...l)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}e1=Symbol.hasInstance;n1=Symbol.toStringTag;class yn extends Error{static formatError(t,e){const n=e.label||e.path||"this";return e=Object.assign({},e,{path:n,originalPath:e.path}),typeof t=="string"?t.replace(fL,(r,o)=>Xs(e[o])):typeof t=="function"?t(e):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,e,n,r,o){const l=new A_(t,e,n,r);if(o)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[n1]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,yn)}static[e1](t){return A_[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Ii={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:s,type:t,value:e,originalValue:n})=>{const r=n!=null&&n!==e?` (cast from the value \`${Xs(n,!0)}\`).`:".";return t!=="mixed"?`${s} must be a \`${t}\` type, but the final value was: \`${Xs(e,!0)}\``+r:`${s} must match the configured type. The validated value was: \`${Xs(e,!0)}\``+r}},Cn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},pL={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hm={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},mL={isValue:"${path} field must be ${value}"},Vu={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},gL={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},yL={notType:s=>{const{path:t,value:e,spec:n}=s,r=n.types.length;if(Array.isArray(e)){if(e.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${e.length} for value: \`${Xs(e,!0)}\``;if(e.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${e.length} for value: \`${Xs(e,!0)}\``}return yn.formatError(Ii.notType,s)}};Object.assign(Object.create(null),{mixed:Ii,string:Cn,number:pL,date:hm,object:Vu,array:gL,boolean:mL,tuple:yL});const Wm=s=>s&&s.__isYupSchema__;class cd{static fromOptions(t,e){if(!e.then&&!e.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:o}=e,l=typeof n=="function"?n:(...u)=>u.every(d=>d===n);return new cd(t,(u,d)=>{var f;let p=l(...u)?r:o;return(f=p?.(d))!=null?f:d})}constructor(t,e){this.fn=void 0,this.refs=t,this.refs=t,this.fn=e}resolve(t,e){let n=this.refs.map(o=>o.getValue(e?.value,e?.parent,e?.context)),r=this.fn(n,t,e);if(r===void 0||r===t)return t;if(!Wm(r))throw new TypeError("conditions must return a schema object");return r.resolve(e)}}const Au={context:"$",value:"."};class Ur{constructor(t,e={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Au.context,this.isValue=this.key[0]===Au.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Au.context:this.isValue?Au.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Lr.getter(this.path,!0),this.map=e.map}getValue(t,e,n){let r=this.isContext?n:this.isValue?t:e;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(t,e){return this.getValue(t,e?.parent,e?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}Ur.prototype.__isYupRef=!0;const Cr=s=>s==null;function ka(s){function t({value:e,path:n="",options:r,originalValue:o,schema:l},u,d){const{name:f,test:p,params:g,message:v,skipAbsent:_}=s;let{parent:w,context:b,abortEarly:E=l.spec.abortEarly,disableStackTrace:A=l.spec.disableStackTrace}=r;const C={value:e,parent:w,context:b};function M(I={}){const X=i1(Object.assign({value:e,originalValue:o,label:l.spec.label,path:I.path||n,spec:l.spec,disableStackTrace:I.disableStackTrace||A},g,I.params),C),H=new yn(yn.formatError(I.message||v,X),e,X.path,I.type||f,X.disableStackTrace);return H.params=X,H}const F=E?u:d;let T={path:n,parent:w,type:f,from:r.from,createError:M,resolve(I){return s1(I,C)},options:r,originalValue:o,schema:l};const D=I=>{yn.isError(I)?F(I):I?d(null):F(M())},k=I=>{yn.isError(I)?F(I):u(I)};if(_&&Cr(e))return D(!0);let j;try{var L;if(j=p.call(T,e,T),typeof((L=j)==null?void 0:L.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(j).then(D,k)}}catch(I){k(I);return}D(j)}return t.OPTIONS=s,t}function i1(s,t){if(!s)return s;for(const e of Object.keys(s))s[e]=s1(s[e],t);return s}function s1(s,t){return Ur.isRef(s)?s.getValue(t.value,t.parent,t.context):s}function vL(s,t,e,n=e){let r,o,l;return t?(Lr.forEach(t,(u,d,f)=>{let p=d?u.slice(1,u.length-1):u;s=s.resolve({context:n,parent:r,value:e});let g=s.type==="tuple",v=f?parseInt(p,10):0;if(s.innerType||g){if(g&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(e&&v>=e.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${u}, in the path: ${t}. because there is no value at that index. `);r=e,e=e&&e[v],s=g?s.spec.types[v]:s.innerType}if(!f){if(!s.fields||!s.fields[p])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${s.type}")`);r=e,e=e&&e[p],s=s.fields[p]}o=p,l=d?"["+u+"]":"."+u}),{schema:s,parent:r,parentPath:o}):{parent:r,parentPath:t,schema:s}}class ud extends Set{describe(){const t=[];for(const e of this.values())t.push(Ur.isRef(e)?e.describe():e);return t}resolveAll(t){let e=[];for(const n of this.values())e.push(t(n));return e}clone(){return new ud(this.values())}merge(t,e){const n=this.clone();return t.forEach(r=>n.add(r)),e.forEach(r=>n.delete(r)),n}}function Ba(s,t=new Map){if(Wm(s)||!s||typeof s!="object")return s;if(t.has(s))return t.get(s);let e;if(s instanceof Date)e=new Date(s.getTime()),t.set(s,e);else if(s instanceof RegExp)e=new RegExp(s),t.set(s,e);else if(Array.isArray(s)){e=new Array(s.length),t.set(s,e);for(let n=0;n<s.length;n++)e[n]=Ba(s[n],t)}else if(s instanceof Map){e=new Map,t.set(s,e);for(const[n,r]of s.entries())e.set(n,Ba(r,t))}else if(s instanceof Set){e=new Set,t.set(s,e);for(const n of s)e.add(Ba(n,t))}else if(s instanceof Object){e={},t.set(s,e);for(const[n,r]of Object.entries(s))e[n]=Ba(r,t)}else throw Error(`Unable to clone ${s}`);return e}function bL(s){if(!(s!=null&&s.length))return;const t=[];let e="",n=!1,r=!1;for(let o=0;o<s.length;o++){const l=s[o];if(l==="["&&!r){e&&(t.push(...e.split(".").filter(Boolean)),e=""),n=!0;continue}if(l==="]"&&!r){e&&(/^\d+$/.test(e)?t.push(e):t.push(e.replace(/^"|"$/g,"")),e=""),n=!1;continue}if(l==='"'){r=!r;continue}if(l==="."&&!n&&!r){e&&(t.push(e),e="");continue}e+=l}return e&&t.push(...e.split(".").filter(Boolean)),t}function _L(s,t){const e=t?`${t}.${s.path}`:s.path;return s.errors.map(n=>({message:n,path:bL(e)}))}function r1(s,t){var e;if(!((e=s.inner)!=null&&e.length)&&s.errors.length)return _L(s,t);const n=t?`${t}.${s.path}`:s.path;return s.inner.flatMap(r=>r1(r,n))}class bi{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ud,this._blacklist=new ud,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ii.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t?.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const e=Object.create(Object.getPrototypeOf(this));return e.type=this.type,e._typeCheck=this._typeCheck,e._whitelist=this._whitelist.clone(),e._blacklist=this._blacklist.clone(),e.internalTests=Object.assign({},this.internalTests),e.exclusiveTests=Object.assign({},this.exclusiveTests),e.deps=[...this.deps],e.conditions=[...this.conditions],e.tests=[...this.tests],e.transforms=[...this.transforms],e.spec=Ba(Object.assign({},this.spec,t)),e}label(t){let e=this.clone();return e.spec.label=t,e}meta(...t){if(t.length===0)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},t[0]),e}withMutation(t){let e=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=e,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let e=this,n=t.clone();const r=Object.assign({},e.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},e.internalTests,n.internalTests),n._whitelist=e._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=e._blacklist.merge(t._blacklist,t._whitelist),n.tests=e.tests,n.exclusiveTests=e.exclusiveTests,n.withMutation(o=>{t.tests.forEach(l=>{o.test(l.OPTIONS)})}),n.transforms=[...e.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let e=this;if(e.conditions.length){let n=e.conditions;e=e.clone(),e.conditions=[],e=n.reduce((r,o)=>o.resolve(r,t),e),e=e.resolve(t)}return e}resolveOptions(t){var e,n,r,o;return Object.assign({},t,{from:t.from||[],strict:(e=t.strict)!=null?e:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,e={}){let n=this.resolve(Object.assign({},e,{value:t})),r=e.assert==="ignore-optionality",o=n._cast(t,e);if(e.assert!==!1&&!n.isType(o)){if(r&&Cr(o))return o;let l=Xs(t),u=Xs(o);throw new TypeError(`The value of ${e.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${l} 
`+(u!==l?`result of cast: ${u}`:""))}return o}_cast(t,e){let n=t===void 0?t:this.transforms.reduce((r,o)=>o.call(this,r,t,this,e),t);return n===void 0&&(n=this.getDefault(e)),n}_validate(t,e={},n,r){let{path:o,originalValue:l=t,strict:u=this.spec.strict}=e,d=t;u||(d=this._cast(d,Object.assign({assert:!1},e)));let f=[];for(let p of Object.values(this.internalTests))p&&f.push(p);this.runTests({path:o,value:d,originalValue:l,options:e,tests:f},n,p=>{if(p.length)return r(p,d);this.runTests({path:o,value:d,originalValue:l,options:e,tests:this.tests},n,r)})}runTests(t,e,n){let r=!1,{tests:o,value:l,originalValue:u,path:d,options:f}=t,p=b=>{r||(r=!0,e(b,l))},g=b=>{r||(r=!0,n(b,l))},v=o.length,_=[];if(!v)return g([]);let w={value:l,originalValue:u,path:d,options:f,schema:this};for(let b=0;b<o.length;b++){const E=o[b];E(w,p,function(C){C&&(Array.isArray(C)?_.push(...C):_.push(C)),--v<=0&&g(_)})}}asNestedTest({key:t,index:e,parent:n,parentPath:r,originalParent:o,options:l}){const u=t??e;if(u==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof u=="number";let f=n[u];const p=Object.assign({},l,{strict:!0,parent:n,value:f,originalValue:o[u],key:void 0,[d?"index":"key"]:u,path:d||u.includes(".")?`${r||""}[${d?u:`"${u}"`}]`:(r?`${r}.`:"")+t});return(g,v,_)=>this.resolve(p)._validate(f,p,v,_)}validate(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),o=(n=e?.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((l,u)=>r._validate(t,e,(d,f)=>{yn.isError(d)&&(d.value=f),u(d)},(d,f)=>{d.length?u(new yn(d,f,void 0,void 0,o)):l(f)}))}validateSync(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),o,l=(n=e?.disableStackTrace)!=null?n:r.spec.disableStackTrace;return r._validate(t,Object.assign({},e,{sync:!0}),(u,d)=>{throw yn.isError(u)&&(u.value=d),u},(u,d)=>{if(u.length)throw new yn(u,t,void 0,void 0,l);o=d}),o}isValid(t,e){return this.validate(t,e).then(()=>!0,n=>{if(yn.isError(n))return!1;throw n})}isValidSync(t,e){try{return this.validateSync(t,e),!0}catch(n){if(yn.isError(n))return!1;throw n}}_getDefault(t){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this,t):Ba(e)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,e){const n=this.clone({nullable:t});return n.internalTests.nullable=ka({message:e,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),n}optionality(t,e){const n=this.clone({optional:t});return n.internalTests.optionality=ka({message:e,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=Ii.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Ii.notNull){return this.nullability(!1,t)}required(t=Ii.required){return this.clone().withMutation(e=>e.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let e=this.clone();return e.transforms.push(t),e}test(...t){let e;if(t.length===1?typeof t[0]=="function"?e={test:t[0]}:e=t[0]:t.length===2?e={name:t[0],test:t[1]}:e={name:t[0],message:t[1],test:t[2]},e.message===void 0&&(e.message=Ii.default),typeof e.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=ka(e),o=e.exclusive||e.name&&n.exclusiveTests[e.name]===!0;if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(n.exclusiveTests[e.name]=!!e.exclusive),n.tests=n.tests.filter(l=>!(l.OPTIONS.name===e.name&&(o||l.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(t,e){!Array.isArray(t)&&typeof t!="string"&&(e=t,t=".");let n=this.clone(),r=Jw(t).map(o=>new Ur(o));return r.forEach(o=>{o.isSibling&&n.deps.push(o.key)}),n.conditions.push(typeof e=="function"?new cd(r,e):cd.fromOptions(r,e)),n}typeError(t){let e=this.clone();return e.internalTests.typeError=ka({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),e}oneOf(t,e=Ii.oneOf){let n=this.clone();return t.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=ka({message:e,name:"oneOf",skipAbsent:!0,test(r){let o=this.schema._whitelist,l=o.resolveAll(this.resolve);return l.includes(r)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:l}})}}),n}notOneOf(t,e=Ii.notOneOf){let n=this.clone();return t.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=ka({message:e,name:"notOneOf",test(r){let o=this.schema._blacklist,l=o.resolveAll(this.resolve);return l.includes(r)?this.createError({params:{values:Array.from(o).join(", "),resolved:l}}):!0}}),n}strip(t=!0){let e=this.clone();return e.spec.strip=t,e}describe(t){const e=(t?this.resolve(t):this).clone(),{label:n,meta:r,optional:o,nullable:l}=e.spec;return{meta:r,label:n,optional:o,nullable:l,default:e.getDefault(t),type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.filter((d,f,p)=>p.findIndex(g=>g.OPTIONS.name===d.OPTIONS.name)===f).map(d=>{const f=d.OPTIONS.params&&t?i1(Object.assign({},d.OPTIONS.params),t):d.OPTIONS.params;return{name:d.OPTIONS.name,params:f}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await t.validate(n,{abortEarly:!1})}}catch(r){if(r instanceof yn)return{issues:r1(r)};throw r}}}}}bi.prototype.__isYupSchema__=!0;for(const s of["validate","validateSync"])bi.prototype[`${s}At`]=function(t,e,n={}){const{parent:r,parentPath:o,schema:l}=vL(this,t,e,n.context);return l[s](r&&r[o],Object.assign({},n,{parent:r,path:t}))};for(const s of["equals","is"])bi.prototype[s]=bi.prototype.oneOf;for(const s of["not","nope"])bi.prototype[s]=bi.prototype.notOneOf;const SL=()=>!0;function a1(s){return new o1(s)}class o1 extends bi{constructor(t){super(typeof t=="function"?{type:"mixed",check:t}:Object.assign({type:"mixed",check:SL},t))}}a1.prototype=o1.prototype;const wL=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function AL(s){const t=fm(s);if(!t)return Date.parse?Date.parse(s):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let e=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(e=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(e=0-e)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+e,t.second,t.millisecond)}function fm(s){var t,e;const n=wL.exec(s);return n?{year:ls(n[1]),month:ls(n[2],1)-1,day:ls(n[3],1),hour:ls(n[4]),minute:ls(n[5]),second:ls(n[6]),millisecond:n[7]?ls(n[7].substring(0,3)):0,precision:(t=(e=n[7])==null?void 0:e.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:ls(n[10]),minuteOffset:ls(n[11])}:null}function ls(s,t=0){return Number(s)||t}let xL=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,EL=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,TL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,CL="^\\d{4}-\\d{2}-\\d{2}",RL="\\d{2}:\\d{2}:\\d{2}",OL="(([+-]\\d{2}(:?\\d{2})?)|Z)",ML=new RegExp(`${CL}T${RL}(\\.\\d+)?${OL}$`),kL=s=>Cr(s)||s===s.trim(),DL={}.toString();function fs(){return new l1}class l1 extends bi{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,e)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===DL?t:n})})}required(t){return super.required(t).withMutation(e=>e.test({message:t||Ii.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(e=>e.OPTIONS.name!=="required"),t))}length(t,e=Cn.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,e=Cn.min){return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,e=Cn.max){return this.test({name:"max",exclusive:!0,message:e,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,e){let n=!1,r,o;return e&&(typeof e=="object"?{excludeEmptyString:n=!1,message:r,name:o}=e:r=e),this.test({name:o||"matches",message:r||Cn.matches,params:{regex:t},skipAbsent:!0,test:l=>l===""&&n||l.search(t)!==-1})}email(t=Cn.email){return this.matches(xL,{name:"email",message:t,excludeEmptyString:!0})}url(t=Cn.url){return this.matches(EL,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Cn.uuid){return this.matches(TL,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let e="",n,r;return t&&(typeof t=="object"?{message:e="",allowOffset:n=!1,precision:r=void 0}=t:e=t),this.matches(ML,{name:"datetime",message:e||Cn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:e||Cn.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:o=>{if(!o||n)return!0;const l=fm(o);return l?!!l.z:!1}}).test({name:"datetime_precision",message:e||Cn.datetime_precision,params:{precision:r},skipAbsent:!0,test:o=>{if(!o||r==null)return!0;const l=fm(o);return l?l.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Cn.trim){return this.transform(e=>e!=null?e.trim():e).test({message:t,name:"trim",test:kL})}lowercase(t=Cn.lowercase){return this.transform(e=>Cr(e)?e:e.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Cr(e)||e===e.toLowerCase()})}uppercase(t=Cn.uppercase){return this.transform(e=>Cr(e)?e:e.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Cr(e)||e===e.toUpperCase()})}}fs.prototype=l1.prototype;let LL=new Date(""),NL=s=>Object.prototype.toString.call(s)==="[object Date]";class Km extends bi{constructor(){super({type:"date",check(t){return NL(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,e)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=AL(t),isNaN(t)?Km.INVALID_DATE:new Date(t)))})}prepareParam(t,e){let n;if(Ur.isRef(t))n=t;else{let r=this.cast(t);if(!this._typeCheck(r))throw new TypeError(`\`${e}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(t,e=hm.min){let n=this.prepareParam(t,"min");return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(n)}})}max(t,e=hm.max){let n=this.prepareParam(t,"max");return this.test({message:e,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(n)}})}}Km.INVALID_DATE=LL;function PL(s,t=[]){let e=[],n=new Set,r=new Set(t.map(([l,u])=>`${l}-${u}`));function o(l,u){let d=Lr.split(l)[0];n.add(d),r.has(`${u}-${d}`)||e.push([u,d])}for(const l of Object.keys(s)){let u=s[l];n.add(l),Ur.isRef(u)&&u.isSibling?o(u.path,l):Wm(u)&&"deps"in u&&u.deps.forEach(d=>o(d,l))}return aL.array(Array.from(n),e).reverse()}function x_(s,t){let e=1/0;return s.some((n,r)=>{var o;if((o=t.path)!=null&&o.includes(n))return e=r,!0}),e}function c1(s){return(t,e)=>x_(s,t)-x_(s,e)}const jL=(s,t,e)=>{if(typeof s!="string")return s;let n=s;try{n=JSON.parse(s)}catch{}return e.isType(n)?n:s};function $u(s){if("fields"in s){const t={};for(const[e,n]of Object.entries(s.fields))t[e]=$u(n);return s.setFields(t)}if(s.type==="array"){const t=s.optional();return t.innerType&&(t.innerType=$u(t.innerType)),t}return s.type==="tuple"?s.optional().clone({types:s.spec.types.map($u)}):"optional"in s?s.optional():s}const BL=(s,t)=>{const e=[...Lr.normalizePath(t)];if(e.length===1)return e[0]in s;let n=e.pop(),r=Lr.getter(Lr.join(e),!0)(s);return!!(r&&n in r)};let E_=s=>Object.prototype.toString.call(s)==="[object Object]";function T_(s,t){let e=Object.keys(s.fields);return Object.keys(t).filter(n=>e.indexOf(n)===-1)}const FL=c1([]);function Nd(s){return new u1(s)}class u1 extends bi{constructor(t){super({type:"object",check(e){return E_(e)||typeof e=="function"}}),this.fields=Object.create(null),this._sortErrors=FL,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,e={}){var n;let r=super._cast(t,e);if(r===void 0)return this.getDefault(e);if(!this._typeCheck(r))return r;let o=this.fields,l=(n=e.stripUnknown)!=null?n:this.spec.noUnknown,u=[].concat(this._nodes,Object.keys(r).filter(g=>!this._nodes.includes(g))),d={},f=Object.assign({},e,{parent:d,__validating:e.__validating||!1}),p=!1;for(const g of u){let v=o[g],_=g in r,w=r[g];if(v){let b;f.path=(e.path?`${e.path}.`:"")+g,v=v.resolve({value:w,context:e.context,parent:d});let E=v instanceof bi?v.spec:void 0,A=E?.strict;if(E!=null&&E.strip){p=p||g in r;continue}b=!e.__validating||!A?v.cast(w,f):w,b!==void 0&&(d[g]=b)}else _&&!l&&(d[g]=w);(_!==g in d||d[g]!==w)&&(p=!0)}return p?d:r}_validate(t,e={},n,r){let{from:o=[],originalValue:l=t,recursive:u=this.spec.recursive}=e;e.from=[{schema:this,value:l},...o],e.__validating=!0,e.originalValue=l,super._validate(t,e,n,(d,f)=>{if(!u||!E_(f)){r(d,f);return}l=l||f;let p=[];for(let g of this._nodes){let v=this.fields[g];!v||Ur.isRef(v)||p.push(v.asNestedTest({options:e,key:g,parent:f,parentPath:e.path,originalParent:l}))}this.runTests({tests:p,value:f,originalValue:l,options:e},n,g=>{r(g.sort(this._sortErrors).concat(d),f)})})}clone(t){const e=super.clone(t);return e.fields=Object.assign({},this.fields),e._nodes=this._nodes,e._excludedEdges=this._excludedEdges,e._sortErrors=this._sortErrors,e}concat(t){let e=super.concat(t),n=e.fields;for(let[r,o]of Object.entries(this.fields)){const l=n[r];n[r]=l===void 0?o:l}return e.withMutation(r=>r.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let e={};return this._nodes.forEach(n=>{var r;const o=this.fields[n];let l=t;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[n]})),e[n]=o&&"getDefault"in o?o.getDefault(l):void 0}),e}setFields(t,e){let n=this.clone();return n.fields=t,n._nodes=PL(t,e),n._sortErrors=c1(Object.keys(t)),e&&(n._excludedEdges=e),n}shape(t,e=[]){return this.clone().withMutation(n=>{let r=n._excludedEdges;return e.length&&(Array.isArray(e[0])||(e=[e]),r=[...n._excludedEdges,...e]),n.setFields(Object.assign(n.fields,t),r)})}partial(){const t={};for(const[e,n]of Object.entries(this.fields))t[e]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return $u(this)}pick(t){const e={};for(const n of t)this.fields[n]&&(e[n]=this.fields[n]);return this.setFields(e,this._excludedEdges.filter(([n,r])=>t.includes(n)&&t.includes(r)))}omit(t){const e=[];for(const n of Object.keys(this.fields))t.includes(n)||e.push(n);return this.pick(e)}from(t,e,n){let r=Lr.getter(t,!0);return this.transform(o=>{if(!o)return o;let l=o;return BL(o,t)&&(l=Object.assign({},o),n||delete l[t],l[e]=r(o)),l})}json(){return this.transform(jL)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Vu.exact,test(e){if(e==null)return!0;const n=T_(this.schema,e);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,e=Vu.noUnknown){typeof t!="boolean"&&(e=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:e,test(r){if(r==null)return!0;const o=T_(this.schema,r);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,e=Vu.noUnknown){return this.noUnknown(!t,e)}transformKeys(t){return this.transform(e=>{if(!e)return e;const n={};for(const r of Object.keys(e))n[t(r)]=e[r];return n})}camelCase(){return this.transformKeys(Tp.camelCase)}snakeCase(){return this.transformKeys(Tp.snakeCase)}constantCase(){return this.transformKeys(t=>Tp.snakeCase(t).toUpperCase())}describe(t){const e=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[o,l]of Object.entries(e.fields)){var r;let u=t;(r=u)!=null&&r.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[o]})),n.fields[o]=l.describe(u)}return n}}Nd.prototype=u1.prototype;const IL=Nd().shape({name:fs().required("Name is required").matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:fs().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',s=>(s.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',s=>{const t=s.indexOf("@");return s.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:fs().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format").required("Password is required")}),zL=Nd().shape({email:fs().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',s=>(s.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',s=>{const t=s.indexOf("@");return s.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:fs().required("Password is required").min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});Nd().shape({avatar:a1(),name:fs().matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:fs().test("has-one-at-symbol",'Email must contain exactly one "@" symbol',s=>(s.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',s=>{const t=s.indexOf("@");return s.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:fs().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});const d1={validationLoginSchema:zL,validationRegistrSchema:IL},C_=(s,t,e)=>{if(s&&"reportValidity"in s){const n=Ct(e,t);s.setCustomValidity(n&&n.message||""),s.reportValidity()}},h1=(s,t)=>{for(const e in t.fields){const n=t.fields[e];n&&n.ref&&"reportValidity"in n.ref?C_(n.ref,e,s):n&&n.refs&&n.refs.forEach(r=>C_(r,e,s))}},UL=(s,t)=>{t.shouldUseNativeValidation&&h1(s,t);const e={};for(const n in s){const r=Ct(t.fields,n),o=Object.assign(s[n]||{},{ref:r&&r.ref});if(HL(t.names||Object.keys(s),n)){const l=Object.assign({},Ct(e,n));fe(l,"root",o),fe(e,n,l)}else fe(e,n,o)}return e},HL=(s,t)=>{const e=R_(t);return s.some(n=>R_(n).match(`^${e}\\.\\d+`))};function R_(s){return s.replace(/\]|\[/g,"")}function f1(s,t,e){return e===void 0&&(e={}),function(n,r,o){try{return Promise.resolve((function(l,u){try{var d=(t?.context,Promise.resolve(s[e.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},t,{context:r}))).then(function(f){return o.shouldUseNativeValidation&&h1({},o),{values:e.raw?Object.assign({},n):f,errors:{}}}))}catch(f){return u(f)}return d&&d.then?d.then(void 0,u):d})(0,function(l){if(!l.inner)throw l;return{values:{},errors:UL((u=l,d=!o.shouldUseNativeValidation&&o.criteriaMode==="all",(u.inner||[]).reduce(function(f,p){if(f[p.path]||(f[p.path]={message:p.message,type:p.type}),d){var g=f[p.path].types,v=g&&g[p.type];f[p.path]=qw(p.path,d,f,p.type,v?[].concat(v,p.message):p.message)}return f},{})),o)};var u,d}))}catch(l){return Promise.reject(l)}}}const VL="_form_1vazc_1",$L="_inputGroup_1vazc_9",qL="_label_1vazc_16",GL="_inputContainer_1vazc_22",XL="_input_1vazc_9",YL="_iconLeft_1vazc_46",WL="_iconRight_1vazc_55",KL="_icon_1vazc_46",QL="_error_1vazc_73",ZL="_optionsRow_1vazc_79",JL="_remember_1vazc_87",tN="_link_1vazc_93",eN="_button_1vazc_102",je={form:VL,inputGroup:$L,label:qL,inputContainer:GL,input:XL,iconLeft:YL,iconRight:WL,icon:KL,error:QL,optionsRow:ZL,remember:JL,link:tN,button:eN},nN=({onSubmit:s,loading:t})=>{const{register:e,handleSubmit:n,formState:{errors:r}}=Zw({resolver:f1(d1.validationLoginSchema)}),[o,l]=U.useState(!1),u=()=>l(!o);return O.jsxs("form",{className:je.form,onSubmit:n(s),noValidate:!0,children:[O.jsxs("div",{className:je.inputGroup,children:[O.jsx("label",{htmlFor:"email",className:je.label,children:"Email Address"}),O.jsxs("div",{className:je.inputContainer,children:[O.jsx(Nw,{className:je.iconLeft}),O.jsx("input",{id:"email",className:je.input,...e("email"),type:"email",placeholder:"your.email@example.com"})]}),r.email&&O.jsx("p",{className:je.error,children:r.email.message})]}),O.jsxs("div",{className:je.inputGroup,children:[O.jsx("label",{htmlFor:"password",className:je.label,children:"Password"}),O.jsxs("div",{className:je.inputContainer,children:[O.jsx(jw,{className:je.iconLeft}),O.jsx("input",{id:"password",className:je.input,...e("password"),type:o?"text":"password",placeholder:"Enter your password"}),O.jsx("div",{className:je.iconRight,onClick:u,children:o?O.jsx(Vm,{className:je.icon}):O.jsx(Pw,{className:je.icon})})]}),r.password&&O.jsx("p",{className:je.error,children:r.password.message})]}),O.jsxs("div",{className:je.optionsRow,children:[O.jsxs("label",{className:je.remember,children:[O.jsx("input",{type:"checkbox"})," Remember me"]}),O.jsx("a",{href:"/forgot-password",className:je.link,children:"Forgot password?"})]}),O.jsx("button",{className:je.button,type:"submit",children:t?O.jsx(Hm,{size:20,color:"#fff"}):"Sign in"})]})},iN="_form_z4fvl_1",sN="_inputGroup_z4fvl_9",rN="_label_z4fvl_16",aN="_inputContainer_z4fvl_22",oN="_input_z4fvl_9",lN="_iconLeft_z4fvl_46",cN="_iconRight_z4fvl_55",uN="_icon_z4fvl_46",dN="_error_z4fvl_73",hN="_button_z4fvl_79",Ae={form:iN,inputGroup:sN,label:rN,inputContainer:aN,input:oN,iconLeft:lN,iconRight:cN,icon:uN,error:dN,button:hN},fN=({onSubmit:s,loading:t})=>{const{register:e,handleSubmit:n,formState:{errors:r}}=Zw({resolver:f1(d1.validationRegistrSchema)}),[o,l]=U.useState(!1),[u,d]=U.useState(""),f=()=>l(!o),p=g=>d(g.target.value);return O.jsxs("form",{className:Ae.form,onSubmit:n(g=>s(g)),noValidate:!0,children:[O.jsxs("div",{className:Ae.inputGroup,children:[O.jsx("label",{htmlFor:"name",className:Ae.label,children:"Full Name"}),O.jsxs("div",{className:Ae.inputContainer,children:[O.jsx(Zk,{className:Ae.iconLeft}),O.jsx("input",{id:"name",className:Ae.input,...e("name",{required:!0}),type:"text",placeholder:"Enter your name"})]}),r.name&&O.jsx("p",{className:Ae.error,children:r.name.message})]}),O.jsxs("div",{className:Ae.inputGroup,children:[O.jsx("label",{htmlFor:"email",className:Ae.label,children:"Email Address"}),O.jsxs("div",{className:Ae.inputContainer,children:[O.jsx(Nw,{className:Ae.iconLeft}),O.jsx("input",{id:"email",className:Ae.input,...e("email",{required:!0}),type:"email",placeholder:"your.email@example.com"})]}),r.email&&O.jsx("p",{className:Ae.error,children:r.email.message})]}),O.jsxs("div",{className:Ae.inputGroup,children:[O.jsx("label",{htmlFor:"password",className:Ae.label,children:"Password"}),O.jsxs("div",{className:Ae.inputContainer,children:[O.jsx(jw,{className:Ae.iconLeft}),O.jsx("input",{id:"password",className:Ae.input,...e("password",{required:!0}),value:u,onChange:p,type:o?"text":"password",placeholder:"Create a password"}),O.jsx("div",{className:Ae.iconRight,onClick:f,children:o?O.jsx(Vm,{className:Ae.icon}):O.jsx(Pw,{className:Ae.icon})})]}),r.password&&O.jsx("p",{className:Ae.error,children:r.password.message})]}),O.jsx("button",{className:Ae.button,type:"submit",children:t?O.jsx(Hm,{size:20,color:"#fff"}):"Register"})]})},O_=()=>{const s=Pm(),t=Fl(),{isLoggedIn:e,loading:n}=zl(d=>d.auth),[r,o]=U.useState(!0),l=async d=>{await s(wl(d));try{s(wl(d)).unwrap(),ie.success(" Login successful!")}catch(f){ie.error(f||" Login failed. Please try again.")}},u=async d=>{try{await s(zu(d)).unwrap(),ie.success(" Registration successful!")}catch(f){ie.error(f||" Registration failed. Please try again.")}};return U.useEffect(()=>{e&&t("/")},[e,t]),O.jsx("div",{className:di.pageWrapper,children:O.jsxs("div",{className:di.card,children:[O.jsxs("div",{className:di.header,children:[O.jsx("div",{className:di.iconCircle,children:O.jsx(Qk,{className:di.icon})}),O.jsx("h2",{className:di.title,children:r?"Welcome Back":"Create Account"}),O.jsx("p",{className:di.subtitle,children:r?"Sign in to continue your learning journey":"Join Study Buddy and start learning today"})]}),O.jsx("div",{className:di.formContainer,children:r?O.jsx(nN,{onSubmit:l,loading:n}):O.jsx(fN,{onSubmit:u,loading:n})}),O.jsx("div",{className:di.toggleText,children:r?O.jsxs("p",{children:["Dont have an account?"," ",O.jsx("button",{onClick:()=>o(!1),className:di.toggleButton,children:"Register"})]}):O.jsxs("p",{children:["Already have an account?"," ",O.jsx("button",{onClick:()=>o(!0),className:di.toggleButton,children:"Log In"})]})})]})})},pN="_container_uknyy_1",mN="_card_uknyy_9",gN="_header_uknyy_23",yN="_tag_uknyy_30",vN="_content_uknyy_47",bN="_question_uknyy_57",_N="_answer_uknyy_63",SN="_showBtn_uknyy_73",wN="_icon_uknyy_39",AN="_nav_uknyy_97",xN="_navBtn_uknyy_103",EN="_next_uknyy_127",TN="_btnAnswers_uknyy_131",en={container:pN,card:mN,header:gN,tag:yN,content:vN,question:bN,answer:_N,showBtn:SN,icon:wN,nav:AN,navBtn:xN,next:EN,btnAnswers:TN},CN=({cards:s=[],onFinish:t})=>{const[e,n]=U.useState(0),[r,o]=U.useState(!1),[l,u]=U.useState(!1),d=s[e],f=()=>{e<s.length-1?(n(g=>g+1),o(!1),u(!1)):t?.()},p=()=>{e>0&&(n(g=>g-1),o(!1),u(!1))};return O.jsxs("div",{className:en.container,children:[O.jsxs("div",{className:en.card,children:[O.jsx("div",{className:en.header,children:O.jsxs("span",{className:en.tag,children:["Flashcard ",e+1," / ",s.length]})}),O.jsxs("div",{className:en.content,children:[r?O.jsx("p",{className:en.answer,children:d.answer}):O.jsx("h2",{className:en.question,children:d.question}),!r&&O.jsxs("div",{className:en.btnAnswers,children:[O.jsxs("button",{className:en.showBtn,onClick:()=>o(!0),children:[O.jsx(Vm,{className:en.icon})," Show Answer"]}),O.jsx("button",{className:en.showBtn,onClick:()=>u(!l),children:" Hint"}),l&&O.jsx("p",{className:en.hint,children:d.hint})]})]})]}),O.jsxs("div",{className:en.nav,children:[O.jsxs("button",{className:`${en.navBtn} ${en.prev}`,onClick:p,disabled:e===0,children:[O.jsx(Wk,{})," Previous"]}),O.jsxs("button",{className:`${en.navBtn} ${en.next}`,onClick:f,children:["Next ",O.jsx(Kk,{})]})]})]})},RN="_sidebar_1rr94_1",ON="_open_1rr94_16",MN="_header_1rr94_20",kN="_title_1rr94_27",DN="_closeBtn_1rr94_33",LN="_list_1rr94_44",NN="_item_1rr94_52",PN="_itemHeader_1rr94_56",jN="_active_1rr94_72",BN="_features_1rr94_78",FN="_featureItem_1rr94_84",IN="_icon_1rr94_100",zN="_footer_1rr94_105",UN="_addFileBtn_1rr94_113",Tn={sidebar:RN,open:ON,header:MN,title:kN,closeBtn:DN,list:LN,item:NN,itemHeader:PN,active:jN,features:BN,featureItem:FN,icon:IN,footer:zN,addFileBtn:UN},HN=[{name:"Notes",icon:""},{name:"Flashcards",icon:""},{name:"AI Buddy",icon:""},{name:"Quiz",icon:""}],VN=({modules:s,isOpen:t,onClose:e,onFeatureSelect:n,onAddFile:r})=>{const[o,l]=U.useState(null),u=d=>{l(o===d?null:d)};return O.jsxs("div",{className:`${Tn.sidebar} ${t?Tn.open:""}`,children:[O.jsxs("div",{className:Tn.header,children:[O.jsx("h2",{className:Tn.title,children:"Files"}),O.jsx("button",{className:Tn.closeBtn,onClick:e,children:""})]}),O.jsx("ul",{className:Tn.list,children:s.map((d,f)=>O.jsxs("li",{className:Tn.item,children:[O.jsxs("div",{className:`${Tn.itemHeader} ${o===f?Tn.active:""}`,onClick:()=>u(f),children:[O.jsxs("span",{children:[f+1,". ",d.title]}),o===f?O.jsx(JO,{size:18}):O.jsx(eM,{size:18})]}),o===f&&O.jsx("ul",{className:Tn.features,children:HN.map((p,g)=>O.jsxs("li",{className:Tn.featureItem,onClick:()=>n(d,p.name),children:[O.jsx("span",{className:Tn.icon,children:p.icon}),p.name]},g))})]},f))}),O.jsx("div",{className:Tn.footer,children:O.jsxs("button",{className:Tn.addFileBtn,onClick:r,children:[O.jsx(aM,{size:18}),"Add more files"]})})]})},$N="_workspace_17d2c_1",qN="_layoutWrapper_17d2c_8",GN="_main_17d2c_23",XN="_sidebarOpen_17d2c_61",xu={workspace:$N,layoutWrapper:qN,main:GN,sidebarOpen:XN},YN=({children:s,modules:t=[],onFeatureSelect:e,selectedModuleId:n,onFilesAdded:r})=>{const[o,l]=U.useState(!0),[u,d]=U.useState(!1),f=()=>d(!1),p=g=>{r&&r(g),d(!1)};return O.jsxs("div",{className:`${xu.workspace} ${o?xu.sidebarOpen:""}`,children:[O.jsx(id,{onMenuClick:()=>l(g=>!g),hasSidebar:!0}),O.jsxs("div",{className:xu.layoutWrapper,children:[O.jsx(VN,{modules:t,isOpen:o,onClose:()=>l(!1),onFeatureSelect:e,onAddFile:()=>d(!0)}),O.jsx("main",{className:xu.main,children:s}),O.jsx(kw,{isOpen:u,onClose:f,moduleId:n,onCreate:p,mode:"upload"})]})]})},WN="_container_15s6i_1",KN="_card_15s6i_6",QN="_header_15s6i_17",ZN="_tag_15s6i_23",JN="_mode_15s6i_31",tP="_question_15s6i_38",eP="_options_15s6i_44",nP="_option_15s6i_44",iP="_selected_15s6i_71",sP="_actions_15s6i_76",rP="_button_15s6i_82",aP="_prev_15s6i_98",pn={container:WN,card:KN,header:QN,tag:ZN,mode:JN,question:tP,options:eP,option:nP,selected:iP,actions:sP,button:rP,prev:aP},oP=({questions:s=[],onSubmit:t})=>{const[e,n]=U.useState(0),[r,o]=U.useState({}),l=s[e],u=(g,v)=>{o(_=>({..._,[g]:v}))},d=()=>{e<s.length-1&&n(g=>g+1)},f=()=>{e>0&&n(g=>g-1)},p=()=>{t?.(r)};return O.jsx("div",{className:pn.container,children:O.jsxs("div",{className:pn.card,children:[O.jsxs("div",{className:pn.header,children:[O.jsx("span",{className:pn.tag,children:l.topic}),O.jsx("span",{className:pn.tag,children:l.difficulty}),O.jsx("span",{className:pn.mode,children:" MCQ"})]}),O.jsx("h2",{className:pn.question,children:l.question}),O.jsx("div",{className:pn.options,children:l.options.map((g,v)=>O.jsxs("label",{className:`${pn.option} ${r[l.id]===g?pn.selected:""}`,children:[O.jsx("input",{type:"radio",name:l.id,value:g,checked:r[l.id]===g,onChange:()=>u(l.id,g)}),O.jsx("span",{children:g})]},v))}),O.jsxs("div",{className:pn.actions,children:[O.jsx("button",{onClick:f,className:`${pn.button} ${pn.prev}`,disabled:e===0,children:"Previous"}),e===s.length-1?O.jsx("button",{className:pn.button,onClick:p,children:"Submit"}):O.jsx("button",{className:pn.button,onClick:d,children:"Next"})]})]})})};async function lP(s){try{const t=await kn.get(`/files/modules/${s}`);return console.log("Response from getFileUrl:",t.data),t.data}catch(t){throw console.error(" Failed to fetch file URL:",t),new Error("Failed to fetch file URL")}}const cP="_wrapper_p409d_1",uP="_chatContainer_p409d_9",dP="_title_p409d_19",hP="_chatBox_p409d_28",fP="_inputArea_p409d_70",pP="_input_p409d_70",mP="_sendBtn_p409d_85",vr={wrapper:cP,chatContainer:uP,title:dP,chatBox:hP,inputArea:fP,input:pP,sendBtn:mP},gP="_message_wt4w6_1",yP="_avatar_wt4w6_7",vP="_text_wt4w6_11",ol={message:gP,avatar:yP,text:vP},M_=({sender:s,text:t})=>{const e=s==="user";return O.jsxs("div",{className:`${ol.message} ${e?ol.userMsg:ol.botMsg}`,children:[O.jsx("div",{className:ol.avatar,children:e?"":""}),O.jsx("div",{className:ol.text,children:t})]})},k_=({externalId:s})=>{const[t,e]=U.useState([]),[n,r]=U.useState(""),[o,l]=U.useState(!1);U.useEffect(()=>{if(!s)return;(async()=>{try{const g=((await Ya.get("/chat-history",{params:{"file_ids[]":s,limit:50}})).data.chat_history||[]).sort((v,_)=>new Date(v.timestamp)-new Date(_.timestamp)).flatMap(v=>[{sender:"user",text:v.question},{sender:"bot",text:v.answer}]);e(g)}catch(f){console.error("Failed to load chat history:",f)}})()},[s]);const u=async d=>{if(d.preventDefault(),!n.trim())return;const f={sender:"user",text:n};e(p=>[...p,f]),r(""),l(!0);try{const g={sender:"bot",text:(await Ya.post("/ask",{question:n,file_ids:[s]})).data?.answer||"No answer returned."};e(v=>[...v,g])}catch(p){console.error("Chat request failed:",p),e(g=>[...g,{sender:"bot",text:" Sorry, something went wrong."}])}finally{l(!1)}};return O.jsx("div",{className:vr.wrapper,children:O.jsxs("div",{className:vr.chatContainer,children:[O.jsx("h2",{className:vr.title,children:"AI Tutor"}),O.jsxs("div",{className:vr.chatBox,children:[t.map((d,f)=>O.jsx(M_,{sender:d.sender,text:d.text},f)),o&&O.jsx(M_,{sender:"bot",text:"Thinking..."})]}),O.jsxs("form",{onSubmit:u,className:vr.inputArea,children:[O.jsx("input",{type:"text",placeholder:"Ask about your uploaded notes...",value:n,onChange:d=>r(d.target.value),className:vr.input,disabled:o}),O.jsx("button",{type:"submit",className:vr.sendBtn,disabled:o||!s,title:s?"Send message":"Select a file first",children:""})]})]})})},bP="_studySpaceContainer_1d2qx_1",_P="_openChatBtn_1d2qx_6",SP="_chatModal_1d2qx_20",wP="_chatHeader_1d2qx_36",Da={studySpaceContainer:bP,openChatBtn:_P,chatModal:SP,chatHeader:wP},AP="_header_7ejur_1",xP="_center_7ejur_34",EP="_timer_7ejur_44",TP="_iconBtn_7ejur_50",ll={header:AP,center:xP,timer:EP,iconBtn:TP},CP=({sessionName:s="Session 1"})=>{const[t,e]=U.useState(0),[n,r]=U.useState(!0);U.useEffect(()=>{let d;return n&&(d=setInterval(()=>e(f=>f+1),1e3)),()=>clearInterval(d)},[n]);const o=()=>r(d=>!d),l=()=>e(0),u=d=>{const f=String(Math.floor(d/60)).padStart(2,"0"),p=String(d%60).padStart(2,"0");return`${f}:${p}`};return O.jsx("div",{className:ll.header,children:O.jsxs("div",{className:ll.center,children:[O.jsx("span",{className:ll.timer,children:u(t)}),O.jsx("button",{className:ll.iconBtn,onClick:o,children:n?O.jsx(iM,{size:18}):O.jsx(Mw,{size:18})}),O.jsx("button",{className:ll.iconBtn,onClick:l,children:O.jsx(lM,{size:18})})]})})},mn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),pm=[.001,0,0,.001,0,0],Cp=1.35,Un={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Hi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},kl="pdfjs_internal_editor_",Ut={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Qt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},p1={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},nn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},El={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},De={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Pa={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Wl={ERRORS:0,WARNINGS:1,INFOS:5},Wa={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Eu={moveTo:0,lineTo:1,curveTo:2,closePath:3},m1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pd=Wl.WARNINGS;function RP(s){Number.isInteger(s)&&(Pd=s)}function OP(){return Pd}function jd(s){Pd>=Wl.INFOS&&console.info(`Info: ${s}`)}function Ht(s){Pd>=Wl.WARNINGS&&console.warn(`Warning: ${s}`)}function me(s){throw new Error(s)}function Jt(s,t){s||me(t)}function MP(s){switch(s?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Qm(s,t=null,e=null){if(!s)return null;if(e&&typeof s=="string"&&(e.addDefaultProtocol&&s.startsWith("www.")&&s.match(/\./g)?.length>=2&&(s=`http://${s}`),e.tryConvertEncoding))try{s=PP(s)}catch{}const n=t?URL.parse(s,t):URL.parse(s);return MP(n)?n:null}function Zm(s,t,e=!1){const n=URL.parse(s);return n?(n.hash=t,n.href):e&&Qm(s,"http://example.com")?s.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Gt(s,t,e,n=!1){return Object.defineProperty(s,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Hr=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class D_ extends Hr{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Rp extends Hr{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class dd extends Hr{constructor(t){super(t,"InvalidPDFException")}}class Dl extends Hr{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class kP extends Hr{constructor(t){super(t,"FormatError")}}class ys extends Hr{constructor(t){super(t,"AbortException")}}function g1(s){(typeof s!="object"||s?.length===void 0)&&me("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const n=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),l=s.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Kl(s){typeof s!="string"&&me("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=s.charCodeAt(n)&255;return e}function DP(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function LP(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function NP(){try{return new Function(""),!0}catch{return!1}}class Qe{static get isLittleEndian(){return Gt(this,"isLittleEndian",LP())}static get isEvalSupported(){return Gt(this,"isEvalSupported",NP())}static get isOffscreenCanvasSupported(){return Gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Gt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Gt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Gt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Op=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));class At{static makeHexColor(t,e,n){return`#${Op[t]}${Op[e]}${Op[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const r=t[n],o=t[n+1];t[n]=r*e[0]+o*e[2]+e[4],t[n+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const g=t[n+p],v=t[n+p+1];t[n+p]=g*r+v*l+d,t[n+p+1]=g*o+v*u+f}}static applyInverseTransform(t,e){const n=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5],p=t[0],g=t[1],v=t[2],_=t[3];let w=r*p+d,b=w,E=r*v+d,A=E,C=u*g+f,M=C,F=u*_+f,T=F;if(o!==0||l!==0){const D=o*p,k=o*v,N=l*g,j=l*_;w+=N,A+=N,E+=j,b+=j,C+=D,T+=D,F+=k,M+=k}n[0]=Math.min(n[0],w,E,b,A),n[1]=Math.min(n[1],C,F,M,T),n[2]=Math.max(n[2],w,E,b,A),n[3]=Math.max(n[3],C,F,M,T)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],o=t[2],l=t[3],u=n**2+r**2,d=n*o+r*l,f=o**2+l**2,p=(u+f)/2,g=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,r)}static#t(t,e,n,r,o,l,u,d,f,p){if(f<=0||f>=1)return;const g=1-f,v=f*f,_=v*f,w=g*(g*(g*t+3*f*e)+3*v*n)+_*r,b=g*(g*(g*o+3*f*l)+3*v*u)+_*d;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],b),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],b)}static#e(t,e,n,r,o,l,u,d,f,p,g,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,r,o,l,u,d,-g/p,v);return}const _=p**2-4*g*f;if(_<0)return;const w=Math.sqrt(_),b=2*f;this.#t(t,e,n,r,o,l,u,d,(-p+w)/b,v),this.#t(t,e,n,r,o,l,u,d,(-p-w)/b,v)}static bezierBoundingBox(t,e,n,r,o,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,n,o,u,e,r,l,d,3*(-t+3*(n-o)+u),6*(t-2*n+o),3*(n-t),f),this.#e(t,n,o,u,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),f)}}function PP(s){return decodeURIComponent(escape(s))}let Mp=null,L_=null;function y1(s){return Mp||(Mp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,L_=new Map([["","t"]])),s.replaceAll(Mp,(t,e,n)=>e?e.normalize("NFKC"):L_.get(n))}function Jm(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),g1(s)}const tg="pdfjs_internal_id_";function jP(s,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...o]=e;if(!s(n)&&!Number.isInteger(n)||!t(r))return!1;const l=o.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function un(s,t,e){return Math.min(Math.max(s,t),e)}function v1(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(g1(s))}function BP(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):Kl(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((t,e)=>t+e,0)});class Ll{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(Ll.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)r(d)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class eg{static setupStorage(t,e,n,r,o){const l=r.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:o}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,o=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const u=o!=="richText",d=t.div;if(d.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=g}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const g=document.createTextNode(r.value);l.append(g),u&&Ll.shouldBuildText(r.name)&&f.push(g)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[g,v,_]=p.at(-1);if(v+1===g.children.length){p.pop();continue}const w=g.children[++p.at(-1)[1]];if(w===null)continue;const{name:b}=w;if(b==="#text"){const A=document.createTextNode(w.value);f.push(A),_.append(A);continue}const E=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,b):document.createElement(b);if(_.append(E),w.attributes&&this.setAttributes({html:E,element:w,storage:e,intent:o,linkService:n}),w.children?.length>0)p.push([w,-1,E]);else if(w.value){const A=document.createTextNode(w.value);u&&Ll.shouldBuildText(b)&&f.push(A),E.append(A)}}for(const g of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const cs="http://www.w3.org/2000/svg";class Fr{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function so(s,t="text"){if(vl(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",s,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Ql{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,g,v,_;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,g=0,v=0,_=1;break;case 90:p=0,g=1,v=1,_=0;break;case 270:p=0,g=-1,v=-1,_=0;break;case 0:p=1,g=0,v=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,_=-_);let w,b,E,A;p===0?(w=Math.abs(f-t[1])*n+o,b=Math.abs(d-t[0])*n+l,E=(t[3]-t[1])*n,A=(t[2]-t[0])*n):(w=Math.abs(d-t[0])*n+o,b=Math.abs(f-t[1])*n+l,E=(t[2]-t[0])*n,A=(t[3]-t[1])*n),this.transform=[p*n,g*n,v*n,_*n,w-p*n*d-v*n*f,b-g*n*d-_*n*f],this.width=E,this.height=A}get rawDims(){const t=this.viewBox;return Gt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Ql({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return At.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];At.applyTransform(e,this.transform);const n=[t[2],t[3]];return At.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return At.applyInverseTransform(n,this.transform),n}}class Bd extends Hr{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Zl(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function Fd(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function b1(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function _1(s,t="document.pdf"){if(typeof s!="string")return t;if(Zl(s))return Ht('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return t;const r=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(o.test(f))return r(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return t}class N_{started=Object.create(null);times=[];time(t){t in this.started&&Ht(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ht(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-r}ms
`);return t.join("")}}function vl(s,t){const e=t?URL.parse(s,t):URL.parse(s);return e?.protocol==="http:"||e?.protocol==="https:"}function Gn(s){s.preventDefault()}function Ee(s){s.preventDefault(),s.stopPropagation()}function FP(s){console.log("Deprecated API usage: "+s)}class hd{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,f==="-"?(l+=p,u+=g):f==="+"&&(l-=p,u-=g),new Date(Date.UTC(n,r,o,l,u,d))}}function S1(s,{scale:t=1,rotation:e=0}){const{width:n,height:r}=s.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new Ql({viewBox:o,userUnit:1,scale:t,rotation:e})}function ro(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ht(`Not a valid color format: "${s}"`),[0,0,0])}function IP(s){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of s.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;s.set(e,ro(n))}t.remove()}function xe(s){const{a:t,b:e,c:n,d:r,e:o,f:l}=s.getTransform();return[t,e,n,r,o,l]}function Pi(s){const{a:t,b:e,c:n,d:r,e:o,f:l}=s.getTransform().invertSelf();return[t,e,n,r,o,l]}function Ks(s,t,e=!1,n=!0){if(t instanceof Ql){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:l}=s,u=Qe.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,g=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&s.setAttribute("data-main-rotation",t.rotation)}class _i{constructor(){const{pixelRatio:t}=_i;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,o=-1){let l=1/0,u=1/0,d=1/0;n=_i.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const fd=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class zP{static get isDarkMode(){return Gt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class w1{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Gt(this,"commentForegroundColor",ro(n))}}function A1(s,t,e,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return s=Math.round(s*n+r),t=Math.round(t*n+r),e=Math.round(e*n+r),[s,t,e]}function P_(s,t){const e=s[0]/255,n=s[1]/255,r=s[2]/255,o=Math.max(e,n,r),l=Math.min(e,n,r),u=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=u<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((n-r)/d+(n<r?6:0))*60;break;case n:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-n)/d+4)*60;break}}t[2]=u}function mm(s,t){const e=s[0],n=s[1],r=s[2],o=(1-Math.abs(2*r-1))*n,l=o*(1-Math.abs(e/60%2-1)),u=r-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=o+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=l+u;break}}function j_(s){return s<=.03928?s/12.92:((s+.055)/1.055)**2.4}function B_(s,t,e){mm(s,e),e.map(j_);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];mm(t,e),e.map(j_);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const F_=new Map;function x1(s,t){const e=s[0]+s[1]*256+s[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=F_.get(e);if(n)return n;const r=new Float32Array(9),o=r.subarray(0,3),l=r.subarray(3,6);P_(s,l);const u=r.subarray(6,9);P_(t,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),B_(l,u,o)<f){let p,g;d?(p=l[2],g=1):(p=0,g=l[2]);const v=.005;for(;g-p>v;){const _=l[2]=(p+g)/2;d===B_(l,u,o)<f?p=_:g=_}l[2]=d?g:p}return mm(l,o),n=At.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),F_.set(e,n),n}function ng({html:s,dir:t,className:e},n){const r=document.createDocumentFragment();if(typeof s=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=s.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}r.append(o)}else eg.render({xfaHtml:s,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),n.append(r)}class Tl{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,Tl.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Gn,{signal:e}),t.addEventListener("pointerdown",Tl.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#h(t){this.#i._focusEventsAllowed=!1,Ee(t)}#d(t){this.#i._focusEventsAllowed=!0,Ee(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Gn,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Tl.#c[t]),this.#f(n)&&n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const r=this.#r=this.#g;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(r,e)):this.#n.append(n,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const r=this.#n.querySelector(n);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class UP{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Gn,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,r=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const u=o.x+(e?o.width:0);if(l>n){r=u,n=l;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,n]}show(t,e,n){const[r,o]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,r){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",Gn,{signal:u}),o.addEventListener("click",r,{signal:u})),this.#t.append(o)}}function E1(s,t,e){for(const n of e)t.addEventListener(n,s[n].bind(s))}class HP{#t=0;get id(){return`${kl}${this.#t++}`}}class ig{#t=Jm();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Gt(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await so(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=ig._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const g=n.svgUrl=l.result;u.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},u.onerror=l.onerror=p});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Ht(r),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:o}=t;return this.#n(`${e}_${n}_${r}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class VP{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===o){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Jl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Qe.platform;for(const[n,r,o={}]of t)for(const l of n){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(t,e)||(r.bind(t,...l,e)(),o||Ee(e))}}class sg{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return IP(t),Gt(this,"_colors",t)}convert(t){const e=ro(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((o,l)=>o===e[l]))return sg._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?At.makeHexColor(...e):t}}class vs{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new VP;#l=null;#h=null;#d=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#E=null;#A=null;#_=null;#C=null;#w=!1;#x=null;#M=new HP;#R=!1;#O=!1;#B=!1;#D=null;#N=null;#F=null;#P=null;#$=null;#T=Ut.NONE;#S=new Set;#L=null;#I=null;#U=null;#X=null;#G=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#j=null;#q=null;#Z=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=vs.prototype,e=l=>l.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new Jl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#q.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,r,o,l,u,d,f,p,g,v,_,w,b,E){const A=this._signal=this.#t.signal;this.#q=t,this.#Z=e,this.#J=n,this.#s=r,this.#l=o,this.#I=l,this.#G=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:A}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),u._on("setpreference",this.onSetPreference.bind(this),{signal:A}),u._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:A}),window.addEventListener("pointerdown",()=>{this.#O=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#O=!1},{capture:!0,signal:A}),this.#lt(),this.#ht(),this.#et(),this.#r=d.annotationStorage,this.#E=d.filterFactory,this.#U=f,this.#C=p||null,this.#y=g,this.#b=v,this.#v=_,this.#$=w||null,this.viewParameters={realScale:Fr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=E!==!1,o?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#m.clear(),this.#P?.clear(),this.#e=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#I?.destroy(),this.#x?.hide(),this.#x=null,this.#F?.destroy(),this.#F=null,this.#i=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#j&&(clearTimeout(this.#j),this.#j=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#$}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Gt(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Gt(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Gt(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Gt(this,"highlightColors",null);const e=new Map,n=!!this.#U;for(const[r,o]of t){const l=r.endsWith("_HCM");if(n&&l){e.set(r.replace("_HCM",""),o);continue}!n&&!l&&e.set(r,o)}return Gt(this,"highlightColors",e)}get highlightColorNames(){return Gt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=t}setMainHighlightColorPicker(t){this.#F=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,r){this.#l?.showDialog(this,t,e,n,r)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),r=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await n}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:r,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=o&&e<=o+u)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Fr.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u}=n,d=n.toString(),p=this.#Q(n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const v=this.#tt(p),_=this.#T===Ut.NONE,w=()=>{const b=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u,text:d});_&&this.showAllEditors("highlight",!0,!0),e&&b?.editComment()};if(_){this.switchToMode(Ut.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#x||=new UP(this),this.#x.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${kl}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#L&&(this.#x?.hide(),this.#L=null,this.#k({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#L)return;const r=this.#Q(t).closest(".textLayer");if(!r){this.#L&&(this.#x?.hide(),this.#L=null,this.#k({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#L=e,this.#k({hasSelectedText:!0}),!(this.#T!==Ut.HIGHLIGHT&&this.#T!==Ut.NONE)&&(this.#T===Ut.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#T===Ut.HIGHLIGHT?this.#tt(r):null;if(o?.toggleDrawing(),this.#O){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#T===Ut.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#D)return;this.#D=new AbortController;const t=this.combinedSignal(this.#D);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#dt(){this.#D?.abort(),this.#D=null}#nt(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#h?.abort(),this.#h=null}#ht(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#dt(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#S){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ht(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const f=await r.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#st(d);this.#rt(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){Ht(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==Ut.NONE&&!this.isEditorHandlingKeyboard&&vs._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#k(t){Object.entries(t).some(([n,r])=>this.#Y[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#T===Ut.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[Qt.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#k({isEditing:this.#T!==Ut.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#k({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#V(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#R?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1,o=!1){if(this.#T!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#T===Ut.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=t,t===Ut.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===Ut.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===Ut.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:g}=d;f&&l.add(f),p&&!g&&u.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:p,contentsObj:g}=d;p&&g?.str&&!l.has(f)&&!this.#g.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Qt.CREATE:this.currentLayer.addNewEditor(e);return;case Qt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#S)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#X?.get(Qt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#V([[Qt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#B!==t){this.#B=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#R){this.#R=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#R){this.#R=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#V(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#mt===t&&this.#V(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#V(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#k({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#d?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#k({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#k({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#k({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#k({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#k({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#T!==Ut.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#k({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,o]=this.#H,l=[...this.#S],u=1e3;this.#j&&clearTimeout(this.#j),this.#j=setTimeout(()=>{this.#j=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#S)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:r,y:o,pageIndex:l},u]of t)u.newX=r,u.newY=o,u.newPageIndex=l,e||=r!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const n=(r,o,l,u)=>{if(this.#n.has(r.id)){const d=this.#a.get(u);d?r._setParentAndPosition(d,o,l):(r.pageIndex=u,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:u}]of t)n(r,o,l,u)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:u}]of t)n(r,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#T}isEditingMode(){return this.#T!==Ut.NONE}get imageManager(){return Gt(this,"imageManager",new ig)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,g,v)=>({x:(p-r)/l,y:1-(f+g-n)/o,width:v/l,height:g/o});break;case"180":u=(f,p,g,v)=>({x:1-(f+g-n)/o,y:1-(p+v-r)/l,width:g/o,height:v/l});break;case"270":u=(f,p,g,v)=>({x:1-(p+v-r)/l,y:(f-n)/o,width:v/l,height:g/o});break;default:u=(f,p,g,v)=>({x:(f-n)/o,y:(p-r)/l,width:g/o,height:v/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const g=e.getRangeAt(f);if(!g.collapsed)for(const{x:v,y:_,width:w,height:b}of g.getClientRects())w===0||b===0||d.push(u(v,_,w,b))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#T===Ut.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#P?.get(t);r&&(r.setCanvas(e,n),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class zi{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#d=t._uiManager.useNewAltTextFlow,zi.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){zi._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#d?(t.classList.add("new"),t.setAttribute("data-l10n-id",zi.#f.missing),e.setAttribute("data-l10n-id",zi.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",Gn,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#r=!0,r(o))},{signal:n}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#d?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await zi._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#d||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(this.#l=n,this.#h=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#d){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",zi.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",zi.#f[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Tu{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#h(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#h(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+n-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#h(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Gn,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,Ee(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,Ee(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,r(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,r;if(e)[n,r]=e;else{[n,r]=this.#n.commentButtonPosition;const{width:p,height:g,x:v,y:_}=this.#n;n=v+n*p,r=_+r*g}const o=this.#n.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,l+n*d,u+r*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class tc{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#h;#d=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=n,this.#n=e,this.#a=r,this.#s=o,this.#r=l,this.#h=new AbortController,this.#c=AbortSignal.any([u,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/_i.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,o=AbortSignal.any([this.#c,r.signal]),l=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Ee(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),o=this.#t,l={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#g.bind(this),l);const u=this.#p.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",Ee,l),o.addEventListener("pointermove",Ee,l),o.addEventListener("pointercancel",Ee,l),o.addEventListener("pointerup",Ee,l),this.#a?.()}if(Ee(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;Ee(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:o}=e,{screenX:l,screenY:u}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:g,touch1Y:v}=d,_=g-f,w=v-p,b=l-r,E=u-o,A=Math.hypot(b,E)||1,C=Math.hypot(_,w)||1;if(!this.#e&&Math.abs(C-A)<=tc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!this.#e){this.#e=!0;return}const M=[(r+l)/2,(o+u)/2];this.#s?.(M,C,A)}#p(t){t.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#l&&(Ee(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Dt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#b=!1;#v=null;#E=0;#A=0;#_=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#x=Dt._zIndex++;static _borderLineWidth=-1;static _colorManager=new sg;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Dt.prototype._resizeWithKeyboard,e=vs.TRANSLATE_SMALL,n=vs.TRANSLATE_BIG;return Gt(this,"_resizerKeyboardManager",new Jl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Dt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Gt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new $P({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Dt._l10n??=t,Dt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Dt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Dt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){me("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#x}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#j(),this.#d?.remove(),this.#d=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/o,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#M([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Dt,r=n/t,o=n/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=n,d*=r,o*=n,l*=r,this._mustFixPosition)switch(t){case 0:o=un(o,0,n-u),l=un(l,0,r-d);break;case 90:o=un(o,0,n-d),l=un(l,u,r);break;case 180:o=un(o,u,n),l=un(l,d,r);break;case 270:o=un(o,d,n),l=un(l,0,r-u);break}this.x=o/=n,this.y=l/=r;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#R(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Dt.#R(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Dt.#R(t,e,360-this.parentRotation)}#O(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#D.bind(this,n),{signal:e}),r.addEventListener("contextmenu",Gn,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#D(t,e){e.preventDefault();const{isMac:n}=Qe.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Ee,{passive:!1,signal:l}),window.addEventListener("contextmenu",Gn,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#F()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#N(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#h)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#h;this.#h=null;const o=this.x,l=this.y,u=this.width,d=this.height;o===t&&l===e&&u===n&&d===r||this.addCommands({cmd:this.#N.bind(this,o,l,u,d),undo:this.#N.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[n,r]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=Dt.MIN_SIZE/n,p=Dt.MIN_SIZE/r,g=this.#O(this.rotation),v=(z,x)=>[g[0]*z+g[2]*x,g[1]*z+g[3]*x],_=this.#O(360-this.rotation),w=(z,x)=>[_[0]*z+_[2]*x,_[1]*z+_[3]*x];let b,E,A=!1,C=!1;switch(t){case"topLeft":A=!0,b=(z,x)=>[0,0],E=(z,x)=>[z,x];break;case"topMiddle":b=(z,x)=>[z/2,0],E=(z,x)=>[z/2,x];break;case"topRight":A=!0,b=(z,x)=>[z,0],E=(z,x)=>[0,x];break;case"middleRight":C=!0,b=(z,x)=>[z,x/2],E=(z,x)=>[0,x/2];break;case"bottomRight":A=!0,b=(z,x)=>[z,x],E=(z,x)=>[0,0];break;case"bottomMiddle":b=(z,x)=>[z/2,x],E=(z,x)=>[z/2,0];break;case"bottomLeft":A=!0,b=(z,x)=>[0,x],E=(z,x)=>[z,0];break;case"middleLeft":C=!0,b=(z,x)=>[0,x/2],E=(z,x)=>[z,x/2];break}const M=b(u,d),F=E(u,d);let T=v(...F);const D=Dt._round(o+T[0]),k=Dt._round(l+T[1]);let N=1,j=1,L,I;if(e.fromKeyboard)({deltaX:L,deltaY:I}=e);else{const{screenX:z,screenY:x}=e,[st,V]=this.#l;[L,I]=this.screenToPageTranslation(z-st,x-V),this.#l[0]=z,this.#l[1]=x}if([L,I]=w(L/n,I/r),A){const z=Math.hypot(u,d);N=j=Math.max(Math.min(Math.hypot(F[0]-M[0]-L,F[1]-M[1]-I)/z,1/u,1/d),f/u,p/d)}else C?N=un(Math.abs(F[0]-M[0]-L),f,1)/u:j=un(Math.abs(F[1]-M[1]-I),p,1)/d;const X=Dt._round(u*N),H=Dt._round(d*j);T=v(...E(X,H));const Y=D-T[0],K=k-T[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=X,this.height=H,this.x=Y,this.y=K,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Tl(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(zi.initialize(Dt._l10n),this.#i=new zi(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Tu(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:r}}=this.#n;return{text:e,richText:t,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Tu(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new Tu(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Tu(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,u=l+o+1,d=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),E1(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new tc({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#$.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#$(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#O(this.rotation),u=(D,k)=>[l[0]*D+l[2]*k,l[1]*D+l[3]*k],[d,f]=this.parentDimensions,p=this.x,g=this.y,v=this.width,_=this.height,w=Dt.MIN_SIZE/d,b=Dt.MIN_SIZE/f;o=Math.max(Math.min(o,1/v,1/_),w/v,b/_);const E=Dt._round(v*o),A=Dt._round(_*o);if(E===v&&A===_)return;this.#u||=[p,g,v,_];const C=u(v/2,_/2),M=Dt._round(p+C[0]),F=Dt._round(g+C[1]),T=u(E/2,A/2);this.x=M-T[0],this.y=F-T[1],this.width=E,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){const{isMac:e}=Qe.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#I(t);return}this.#L(t)}#L(t){const{isMac:e}=Qe.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},u=f=>{r.abort(),this.#r=null,this.#p=!1,this._uiManager.endDragSession()||this.#L(f),n&&this._onStopDragging()};e&&(this.#E=t.clientX,this.#A=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:v}=f;if(v!==this.#r){Ee(f);return}const[_,w]=this.screenToPageTranslation(p-this.#E,g-this.#A);this.#E=p,this.#A=g,this._uiManager.dragSelectedEditors(_,w)},l),window.addEventListener("touchmove",Ee,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#C||f.isPrimary)&&u(f),Ee(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){u(f);return}Ee(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,p=e/r,g=this.x*o,v=this.y*l,_=this.width*o,w=this.height*l;switch(n){case 0:return[g+f+u,l-v-p-w+d,g+f+_+u,l-v-p+d];case 90:return[g+p+u,l-v+f+d,g+p+w+u,l-v+f+_+d];case 180:return[g-f-_+u,l-v+p+d,g-f+u,l-v+p+w+d];case 270:return[g-p-w+u,l-v-f-_+d,g-p+u,l-v-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,o,l]=t,u=o-n,d=l-r;switch(this.rotation){case 0:return[n,e-l,u,d];case 90:return[n,e-r,d,u];case 180:return[o,e-r,u,d];case 270:return[o,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Dt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:r,deleted:o,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||p,popupRef:!o,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&r>0&&t<o&&n>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,l]=r.pageDimensions,[u,d,f,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=u/o,r.y=d/l,r.width=f/o,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#j(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null,this.#C?.destroy(),this.#C=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,r,o,l]=this.getPDFRect();return[Dt._round(n+(o-n)*t),Dt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),u=this.#G.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Dt._l10nResizer[p])}}const n=this.#e[0];let r=0;for(const l of e){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)this.#c.append(this.#c.firstChild);else if(o>r)for(let u=0;u<o-r;u++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",Dt._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){Dt._resizerKeyboardManager.exec(this,t)}#G(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#j()}#Y(t){this.#g=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#P(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#j(){this.#b=!1,this.#H(-1),this.#F()}_stopResizingWithKeyboard(){this.#j(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#_||=new Map;const{action:n}=t;let r=this.#_.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(n),this.#_.size===0&&(this.#_=null)},Dt._telemetryTimeout),this.#_.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#d&&!this.deleted){this.#d=t.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class $P extends Dt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const I_=3285377520,ri=4294901760,ji=65535;class T1{constructor(t){this.h1=t?t&4294967295:I_,this.h2=t?t&4294967295:I_}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let b=0,E=t.length;b<E;b++){const A=t.charCodeAt(b);A<=255?e[n++]=A:(e[n++]=A>>>8,e[n++]=A&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,p=this.h2;const g=3432918353,v=461845907,_=g&ji,w=v&ji;for(let b=0;b<r;b++)b&1?(u=l[b],u=u*g&ri|u*_&ji,u=u<<15|u>>>17,u=u*v&ri|u*w&ji,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[b],d=d*g&ri|d*_&ji,d=d<<15|d>>>17,d=d*v&ri|d*w&ji,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*g&ri|u*_&ji,u=u<<15|u>>>17,u=u*v&ri|u*w&ji,r&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ri|t*36045&ji,e=e*4283543511&ri|((e<<16|t>>>16)*2950163797&ri)>>>16,t^=e>>>1,t=t*444984403&ri|t*60499&ji,e=e*3301882366&ri|((e<<16|t>>>16)*3120437893&ri)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const gm=Object.freeze({map:null,hash:"",transfer:void 0});class rg{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof Dt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof Dt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(r=!0,n[o]=l);else r=!0,this.#n.set(t,e);r&&this.#a(),e instanceof Dt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new C1(this)}get serializable(){if(this.#n.size===0)return gm;const t=new Map,e=new T1,n=[],r=Object.create(null);let o=!1;for(const[l,u]of this.#n){const d=u instanceof Dt?u.serialize(!1,r):u;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:gm}get editorStats(){let t=null;const e=new Map;let n=0,r=0;for(const o of this.#n.values()){if(!(o instanceof Dt)){o.popup&&(o.popup.deleted?r+=1:n+=1);continue}o.isCommentDeleted?r+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let g=d.get(f);g||(g=new Map,d.set(f,g));const v=g.get(p)??0;g.set(p,v+1)}}if((r>0||n>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class C1 extends rg{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:n,transfer:r}}get print(){me("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Gt(this,"modifiedIds",{ids:new Set,hash:""})}}class qP{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Jt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=t,u=new FontFace(r,o,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),n?.(t)}catch{Ht(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}me("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Ht(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Gt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Gt(this,"isSyncFontLoadingSupported",mn||Qe.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Jt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Gt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(F,T){return F.charCodeAt(T)<<24|F.charCodeAt(T+1)<<16|F.charCodeAt(T+2)<<8|F.charCodeAt(T+3)&255}function r(F,T,D,k){const N=F.substring(0,T),j=F.substring(T+D);return N+k+j}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(F,T){if(++f>30){Ht("Load test font never loaded."),T();return}if(d.font="30px "+F,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(p.bind(null,F,T))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,g.length,g);const w=16,b=1482184792;let E=n(v,w);for(o=0,l=g.length-3;o<l;o+=4)E=E-b+n(g,o)|0;o<g.length&&(E=E-b+n(g+"XXX",o)|0),v=r(v,w,4,DP(E));const A=`url(data:font/opentype;base64,${btoa(v)});`,C=`@font-face {font-family:"${g}";src:${A}}`;this.insertRule(C);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const F of[t.loadedName,g]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=F,M.append(T)}this._document.body.append(M),p(g,()=>{M.remove(),e.complete()})}}class GP{#t;constructor(t,e=null,n,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${v1(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(l){Ht(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function XP(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(mn)return s;const t=URL.parse(s,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function YP(s){if(mn&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return Kl(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s?.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Cu(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const ym=s=>typeof s=="object"&&Number.isInteger(s?.num)&&s.num>=0&&Number.isInteger(s?.gen)&&s.gen>=0,WP=s=>typeof s=="object"&&typeof s?.name=="string",R1=jP.bind(null,ym,WP);class KP{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ht("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Ru={DATA:1,ERROR:2},Be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function z_(){}function Rn(s){if(s instanceof ys||s instanceof dd||s instanceof D_||s instanceof Dl||s instanceof Rp)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||me('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new ys(s.message);case"InvalidPDFException":return new dd(s.message);case"PasswordException":return new D_(s.message,s.code);case"ResponseException":return new Dl(s.message,s.status,s.missing);case"UnknownErrorException":return new Rp(s.message,s.details)}return new Rp(s.message,s.toString())}class bl{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Ru.DATA)r.resolve(t.data);else if(t.callback===Ru.ERROR)r.reject(Rn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:Ru.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:Ru.ERROR,callbackId:t.callbackId,reason:Rn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,r){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:Be.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Jt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:Be.CANCEL,streamId:o,reason:Rn(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,g){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:Be.ENQUEUE,streamId:e,chunk:f},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Be.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Jt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Be.ERROR,streamId:e,reason:Rn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Be.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Be.START_COMPLETE,streamId:e,reason:Rn(f)})})}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Be.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Rn(t.reason));break;case Be.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Rn(t.reason));break;case Be.PULL:if(!u){o.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||z_).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,reason:Rn(f)})});break;case Be.ENQUEUE:if(Jt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Be.CLOSE:if(Jt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case Be.ERROR:Jt(l,"error should have stream controller"),l.controller.error(Rn(t.reason)),this.#a(l,e);break;case Be.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Rn(t.reason)),this.#a(l,e);break;case Be.CANCEL:if(!u)break;const d=Rn(t.reason);Promise.try(u.onCancel||z_,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Be.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Be.CANCEL_COMPLETE,streamId:e,reason:Rn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class O1{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){me("Abstract method `_createCanvas` called.")}}class QP extends O1{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class M1{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){me("Abstract method `_fetch` called.")}}class U_ extends M1{async _fetch(t){const e=await so(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Kl(e)}}class k1{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,o){return"none"}destroy(t=!1){}}class ZP extends k1{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(cs,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(cs,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#h(t){if(t.length===1){const d=t[0],f=new Array(256);for(let g=0;g<256;g++)f[g]=d[g]/255;const p=f.join(",");return[p,p,p]}const[e,n,r]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=n[d]/255,u[d]=r[d]/255;return[o.join(","),l.join(","),u.join(",")]}#d(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Zl(e)?Ht('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Zm(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,r,o]=this.#h(t),l=t.length===1?n:`${n}${r}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#d(u);this.#o.set(t,d),this.#o.set(l,d);const f=this.#p(u);return this.#m(n,r,o,f),d}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let o=this.#c.get(r);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(r,o)),!t||!e))return o.url;const l=this.#b(t);t=At.makeHexColor(...l);const u=this.#b(e);if(e=At.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let _=0;_<=255;_++){const w=_/255;d[_]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,g=o.filter=this.#p(p);this.#m(f,f,f,g),this.#g(g);const v=(_,w)=>{const b=l[_]/255,E=u[_]/255,A=new Array(w+1);for(let C=0;C<=w;C++)A[C]=b+C/w*(E-b);return A.join(",")};return this.#m(v(0,5),v(1,5),v(2,5),g),o.url=this.#d(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#h([t]),r=`alpha_${n}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#d(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#y(n,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#h([t]),r=`luminosity_${n}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#d(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#f(u),t&&this.#y(n,u),l}addHighlightHCMFilter(t,e,n,r,o){const l=`${e}-${n}-${r}-${o}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!n))return u.url;const[d,f]=[e,n].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),g=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,_]=[r,o].map(this.#b.bind(this));g<p&&([p,g,v,_]=[g,p,_,v]),this.#l.style.color="";const w=(A,C,M)=>{const F=new Array(256),T=(g-p)/M,D=A/255,k=(C-A)/(255*M);let N=0;for(let j=0;j<=M;j++){const L=Math.round(p+j*T),I=D+j*k;for(let X=N;X<=L;X++)F[X]=I;N=L+1}for(let j=N;j<256;j++)F[j]=F[N-1];return F.join(",")},b=`g_${this.#n}_hcm_${t}_filter`,E=u.filter=this.#p(b);return this.#g(E),this.#m(w(v[0],_[0],5),w(v[1],_[1],5),w(v[2],_[2],5),E),u.url=this.#d(b),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(cs,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(cs,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(cs,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const r=this.#a.createElementNS(cs,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#m(t,e,n,r){const o=this.#a.createElementNS(cs,"feComponentTransfer");r.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(cs,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#b(t){return this.#l.style.color=t,ro(getComputedStyle(this.#l).getPropertyValue("color"))}}class D1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){me("Abstract method `_fetch` called.")}}class H_ extends D1{async _fetch(t){const e=await so(t,"arraybuffer");return new Uint8Array(e)}}class L1{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){me("Abstract method `_fetch` called.")}}class V_ extends L1{async _fetch(t){const e=await so(t,"arraybuffer");return new Uint8Array(e)}}mn&&Ht("Please use the `legacy` build in Node.js environments.");async function ag(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class JP extends k1{}class t3 extends O1{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class e3 extends M1{async _fetch(t){return ag(t)}}class n3 extends D1{async _fetch(t){return ag(t)}}class i3 extends L1{async _fetch(t){return ag(t)}}const La="__forcedDependency",{floor:$_,ceil:q_}=Math;function Ou(s,t,e,n,r,o){s[t*4+0]=Math.min(s[t*4+0],e),s[t*4+1]=Math.min(s[t*4+1],n),s[t*4+2]=Math.max(s[t*4+2],r),s[t*4+3]=Math.max(s[t*4+3],o)}const vm=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class s3{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===vm}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Mu=(s,t)=>{if(!s)return;let e=s.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},s.set(t,e)),e};class r3{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[La]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#p;#u;#m;constructor(t,e,n=!1){this.#f=t.width,this.#g=t.height,this.#y(e),n&&(this.#m=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(vm,e.length)):this.#u.fill(vm)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[La]:{__proto__:this.#e[La]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(Mu(this.#m,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Mu(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(Mu(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(At.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(La,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(La,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,r,o,l){const u=At.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];At.axialAlignedBoundingBox([n,o,r,l],u,d);const f=At.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,r,o,l){const u=this.#r;if(u[0]===1/0)return this;const d=At.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return At.axialAlignedBoundingBox([n,o,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return At.axialAlignedBoundingBox([n,o,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,n,r=1,o=0,l=0,u){const d=n.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(n),f!==!1&&(p=[0,0,0,0],At.axialAlignedBoundingBox(d,n.fontMatrix,p),(r!==1||o!==0||l!==0)&&At.scaleMinMax([r,0,0,-r,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const g=u();return d&&p&&f===void 0&&(f=p[0]<=o-g.actualBoundingBoxLeft&&p[2]>=o+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,this.#d.set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-g.actualBoundingBoxLeft,o+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,r=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(r[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[La]),this.#m){const n=Mu(this.#m,t),{dependencies:r}=n;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=$_(this.#o[0]*256/this.#f),r=$_(this.#o[1]*256/this.#g),o=q_(this.#o[2]*256/this.#f),l=q_(this.#o[3]*256/this.#g);Ou(this.#p,t,n,r,o,l);for(const u of this.#l)u!==t&&Ou(this.#p,u,n,r,o,l);for(const u of this.#n)u!==t&&Ou(this.#p,u,n,r,o,l);for(const u of this.#a)u!==t&&Ou(this.#p,u,n,r,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#h.get(t);return this.#h.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#d.clear(),new s3(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class pd{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof pd&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,r,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,r,o,l),this}recordBBox(t,e,n,r,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,r,o,l),this}recordCharacterBBox(t,e,n,r,o,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,r,o,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const ai={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},rn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function bm(s,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),s.clip(r)}class og{isModifyingCurrentTransform(){return!1}getPattern(){me("Abstract method `getPattern` called.")}}class a3 extends og{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let o;if(r===rn.STROKE||r===rn.FILL){const l=e.current.getClippedPathBoundingBox(r,xe(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=At.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),bm(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else bm(t,this._bbox),o=this._createGradient(t);return o}}function kp(s,t,e,n,r,o,l,u){const d=t.coords,f=t.colors,p=s.data,g=s.width*4;let v;d[e+1]>d[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v),d[n+1]>d[r+1]&&(v=n,n=r,r=v,v=l,l=u,u=v),d[e+1]>d[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v);const _=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,b=(d[n]+t.offsetX)*t.scaleX,E=(d[n+1]+t.offsetY)*t.scaleY,A=(d[r]+t.offsetX)*t.scaleX,C=(d[r+1]+t.offsetY)*t.scaleY;if(w>=C)return;const M=f[o],F=f[o+1],T=f[o+2],D=f[l],k=f[l+1],N=f[l+2],j=f[u],L=f[u+1],I=f[u+2],X=Math.round(w),H=Math.round(C);let Y,K,z,x,st,V,S,B;for(let $=X;$<=H;$++){if($<E){const dt=$<w?0:(w-$)/(w-E);Y=_-(_-b)*dt,K=M-(M-D)*dt,z=F-(F-k)*dt,x=T-(T-N)*dt}else{let dt;$>C?dt=1:E===C?dt=0:dt=(E-$)/(E-C),Y=b-(b-A)*dt,K=D-(D-j)*dt,z=k-(k-L)*dt,x=N-(N-I)*dt}let Q;$<w?Q=0:$>C?Q=1:Q=(w-$)/(w-C),st=_-(_-A)*Q,V=M-(M-j)*Q,S=F-(F-L)*Q,B=T-(T-I)*Q;const tt=Math.round(Math.min(Y,st)),ct=Math.round(Math.max(Y,st));let at=g*$+tt*4;for(let dt=tt;dt<=ct;dt++)Q=(Y-dt)/(Y-st),Q<0?Q=0:Q>1&&(Q=1),p[at++]=K-(K-V)*Q|0,p[at++]=z-(z-S)*Q|0,p[at++]=x-(x-B)*Q|0,p[at++]=255}}function o3(s,t,e){const n=t.coords,r=t.colors;let o,l;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(n.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let g=0;g<f;g++,p++)kp(s,e,n[p],n[p+1],n[p+u],r[p],r[p+1],r[p+u]),kp(s,e,n[p+u+1],n[p+1],n[p+u],r[p+u+1],r[p+1],r[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)kp(s,e,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class l3 extends og{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,g=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),_=f/g,w=p/v,b={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/_,scaleY:1/w},E=g+4,A=v+4,C=n.getCanvas("mesh",E,A),M=C.context,F=M.createImageData(g,v);if(e){const D=F.data;for(let k=0,N=D.length;k<N;k+=4)D[k]=e[0],D[k+1]=e[1],D[k+2]=e[2],D[k+3]=255}for(const D of this._figures)o3(F,D,b);return M.putImageData(F,2,2),{canvas:C.canvas,offsetX:u-2*_,offsetY:d-2*w,scaleX:_,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){bm(t,this._bbox);const o=new Float32Array(2);if(r===rn.SHADING)At.singularValueDecompose2dScale(xe(t),o);else if(this.matrix){At.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;At.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else At.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,r===rn.SHADING?null:this._background,e.cachedCanvases);return r!==rn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class c3 extends og{getPattern(){return"hotpink"}}function u3(s){switch(s[0]){case"RadialAxial":return new a3(s);case"Mesh":return new l3(s);case"Dummy":return new c3}throw new Error(`Unknown IR type: ${s[0]}`)}const G_={COLORED:1,UNCOLORED:2};class lg{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:n,operatorList:r,paintType:o,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),jd("TilingType: "+l);const g=n[0],v=n[1],_=n[2],w=n[3],b=_-g,E=w-v,A=new Float32Array(2);At.singularValueDecompose2dScale(this.matrix,A);const[C,M]=A;At.singularValueDecompose2dScale(this.baseTransform,A);const F=C*A[0],T=M*A[1];let D=b,k=E,N=!1,j=!1;const L=Math.ceil(f*F),I=Math.ceil(p*T),X=Math.ceil(b*F),H=Math.ceil(E*T);L>=X?D=f:N=!0,I>=H?k=p:j=!0;const Y=this.getSizeAndScale(D,this.ctx.canvas.width,F),K=this.getSizeAndScale(k,this.ctx.canvas.height,T),z=t.cachedCanvases.getCanvas("pattern",Y.size,K.size),x=z.context,st=d.createCanvasGraphics(x,e);if(st.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(st,o,u),x.translate(-Y.scale*g,-K.scale*v),st.transform(0,Y.scale,0,0,K.scale,0,0),x.save(),st.dependencyTracker?.save(),this.clipBbox(st,g,v,_,w),st.baseTransform=xe(st.ctx),st.executeOperatorList(r),st.endDrawing(),st.dependencyTracker?.restore(),x.restore(),N||j){const V=z.canvas;N&&(D=f),j&&(k=p);const S=this.getSizeAndScale(D,this.ctx.canvas.width,F),B=this.getSizeAndScale(k,this.ctx.canvas.height,T),$=S.size,Q=B.size,tt=t.cachedCanvases.getCanvas("pattern-workaround",$,Q),ct=tt.context,at=N?Math.floor(b/f):0,dt=j?Math.floor(E/p):0;for(let yt=0;yt<=at;yt++)for(let xt=0;xt<=dt;xt++)ct.drawImage(V,$*yt,Q*xt,$,Q,0,0,$,Q);return{canvas:tt.canvas,scaleX:S.scale,scaleY:B.scale,offsetX:g,offsetY:v}}return{canvas:z.canvas,scaleX:Y.scale,scaleY:K.scale,offsetX:g,offsetY:v}}getSizeAndScale(t,e,n){const r=Math.max(lg.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=r?o=r:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,r,o){const l=r-e,u=o-n;t.ctx.rect(e,n,l,u),At.axialAlignedBoundingBox([e,n,r,o],xe(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,o=t.current;switch(e){case G_.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=u;break;case G_.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new kP(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r,o){let l=n;r!==rn.SHADING&&(l=At.transform(l,e.baseTransform),this.matrix&&(l=At.transform(l,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function d3({src:s,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=Qe.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],p=n>>3,g=n&7,v=s.length;e=new Uint32Array(e.buffer);let _=0;for(let w=0;w<r;w++){for(const E=t+p;t<E;t++){const A=t<v?s[t]:255;e[_++]=A&128?f:d,e[_++]=A&64?f:d,e[_++]=A&32?f:d,e[_++]=A&16?f:d,e[_++]=A&8?f:d,e[_++]=A&4?f:d,e[_++]=A&2?f:d,e[_++]=A&1?f:d}if(g===0)continue;const b=t<v?s[t++]:255;for(let E=0;E<g;E++)e[_++]=b&1<<7-E?f:d}return{srcPos:t,destPos:_}}const X_=16,Y_=100,h3=15,W_=10,Mn=16,Dp=new DOMMatrix,Vn=new Float32Array(2),Fa=new Float32Array([1/0,1/0,-1/0,-1/0]);function f3(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},s.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},s.transform=function(e,n,r,o,l,u){t.transform(e,n,r,o,l,u),this.__originalTransform(e,n,r,o,l,u)},s.setTransform=function(e,n,r,o,l,u){t.setTransform(e,n,r,o,l,u),this.__originalSetTransform(e,n,r,o,l,u)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(e){t.rotate(e),this.__originalRotate(e)},s.clip=function(e){t.clip(e),this.__originalClip(e)},s.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},s.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},s.bezierCurveTo=function(e,n,r,o,l,u){t.bezierCurveTo(e,n,r,o,l,u),this.__originalBezierCurveTo(e,n,r,o,l,u)},s.rect=function(e,n,r,o){t.rect(e,n,r,o),this.__originalRect(e,n,r,o)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class p3{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function ku(s,t,e,n,r,o,l,u,d,f){const[p,g,v,_,w,b]=xe(s);if(g===0&&v===0){const C=l*p+w,M=Math.round(C),F=u*_+b,T=Math.round(F),D=(l+d)*p+w,k=Math.abs(Math.round(D)-M)||1,N=(u+f)*_+b,j=Math.abs(Math.round(N)-T)||1;return s.setTransform(Math.sign(p),0,0,Math.sign(_),M,T),s.drawImage(t,e,n,r,o,0,0,k,j),s.setTransform(p,g,v,_,w,b),[k,j]}if(p===0&&_===0){const C=u*v+w,M=Math.round(C),F=l*g+b,T=Math.round(F),D=(u+f)*v+w,k=Math.abs(Math.round(D)-M)||1,N=(l+d)*g+b,j=Math.abs(Math.round(N)-T)||1;return s.setTransform(0,Math.sign(g),Math.sign(v),0,M,T),s.drawImage(t,e,n,r,o,0,0,j,k),s.setTransform(p,g,v,_,w,b),[j,k]}s.drawImage(t,e,n,r,o,l,u,d,f);const E=Math.hypot(p,g),A=Math.hypot(v,_);return[E*d,A*f]}class K_{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=pm;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=nn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Fa.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=rn.FILL,e=null){const n=this.minMax.slice();if(t===rn.STROKE){e||me("Stroke bounding box must include transform."),At.singularValueDecompose2dScale(e,Vn);const r=Vn[0]*this.lineWidth/2,o=Vn[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const t=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Fa,0)}getClippedPathBoundingBox(t=rn.FILL,e=null){return At.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function Q_(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%Mn,o=(e-r)/Mn,l=r===0?o:o+1,u=s.createImageData(n,Mn);let d=0,f;const p=t.data,g=u.data;let v,_,w,b;if(t.kind===El.GRAYSCALE_1BPP){const E=p.byteLength,A=new Uint32Array(g.buffer,0,g.byteLength>>2),C=A.length,M=n+7>>3,F=4294967295,T=Qe.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(w=v<o?Mn:r,f=0,_=0;_<w;_++){const D=E-d;let k=0;const N=D>M?n:D*8-7,j=N&-8;let L=0,I=0;for(;k<j;k+=8)I=p[d++],A[f++]=I&128?F:T,A[f++]=I&64?F:T,A[f++]=I&32?F:T,A[f++]=I&16?F:T,A[f++]=I&8?F:T,A[f++]=I&4?F:T,A[f++]=I&2?F:T,A[f++]=I&1?F:T;for(;k<N;k++)L===0&&(I=p[d++],L=128),A[f++]=I&L?F:T,L>>=1}for(;f<C;)A[f++]=0;s.putImageData(u,0,v*Mn)}}else if(t.kind===El.RGBA_32BPP){for(_=0,b=n*Mn*4,v=0;v<o;v++)g.set(p.subarray(d,d+b)),d+=b,s.putImageData(u,0,_),_+=Mn;v<l&&(b=n*r*4,g.set(p.subarray(d,d+b)),s.putImageData(u,0,_))}else if(t.kind===El.RGB_24BPP)for(w=Mn,b=n*w,v=0;v<l;v++){for(v>=o&&(w=r,b=n*w),f=0,_=b;_--;)g[f++]=p[d++],g[f++]=p[d++],g[f++]=p[d++],g[f++]=255;s.putImageData(u,0,v*Mn)}else throw new Error(`bad image kind: ${t.kind}`)}function Z_(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%Mn,o=(e-r)/Mn,l=r===0?o:o+1,u=s.createImageData(n,Mn);let d=0;const f=t.data,p=u.data;for(let g=0;g<l;g++){const v=g<o?Mn:r;({srcPos:d}=d3({src:f,srcPos:d,dest:p,width:n,height:v,nonBlackColor:0})),s.putImageData(u,0,g*Mn)}}function cl(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)s[n]!==void 0&&(t[n]=s[n]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Du(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}function J_(s,t){if(t)return!0;At.singularValueDecompose2dScale(s,Vn);const e=Math.fround(_i.pixelRatio*Fr.PDF_TO_CSS_UNITS);return Vn[0]<=e&&Vn[1]<=e}const m3=["butt","round","square"],g3=["miter","round","bevel"],y3={},tS={};class za{constructor(t,e,n,r,o,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new K_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new p3(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...xe(this.compositeCtx))}this.ctx.save(),Du(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=xe(this.ctx)}executeOperatorList(t,e,n,r,o){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>W_&&typeof n=="function",g=p?Date.now()+h3:0;let v=0;const _=this.commonObjs,w=this.objs;let b,E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(!o||o(d))if(b=u[d],E=l[d]??null,b!==Wa.dependency)E===null?this[b](d):this[b](d,...E);else for(const A of E){this.dependencyTracker?.recordNamedData(A,d);const C=A.startsWith("g_")?_:w;if(!C.has(A))return C.get(A,n),d}if(d++,d===f)return d;if(p&&++v>W_){if(Date.now()>g)return n(),d;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=n,d=r,f="prescale1",p,g;for(;o>2&&u>1||l>2&&d>1;){let v=u,_=d;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),l>2&&d>1&&(_=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/_),p=this.cachedCanvases.getCanvas(f,v,_),g=p.context,g.clearRect(0,0,v,_),g.drawImage(t,0,0,u,d,0,0,v,_),t=p.canvas,u=v,d=_,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const n=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,u=this.current.patternFill,d=xe(n);let f,p,g,v;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(L),f||(f=new Map,this._cachedBitmapsMap.set(L,f));const I=f.get(p);if(I&&!u){const X=Math.round(Math.min(d[0],d[2])+d[4]),H=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,ai.transformAndFill),{canvas:I,offsetX:X,offsetY:H}}g=I}g||(v=this.cachedCanvases.getCanvas("maskCanvas",r,o),Z_(v.context,e));let _=At.transform(d,[1/r,0,0,-1/o,0,0]);_=At.transform(_,[1,0,0,1,0,-o]);const w=Fa.slice();At.axialAlignedBoundingBox([0,0,r,o],_,w);const[b,E,A,C]=w,M=Math.round(A-b)||1,F=Math.round(C-E)||1,T=this.cachedCanvases.getCanvas("fillCanvas",M,F),D=T.context,k=b,N=E;D.translate(-k,-N),D.transform(..._),g||(g=this._scaleImage(v.canvas,Pi(D)),g=g.img,f&&u&&f.set(p,g)),D.imageSmoothingEnabled=J_(xe(D),e.interpolate),ku(D,g,0,0,g.width,g.height,0,0,r,o),D.globalCompositeOperation="source-in";const j=At.transform(Pi(D),[1,0,0,1,-k,-N]);return D.fillStyle=u?l.getPattern(n,this,j,rn.FILL,t):l,D.fillRect(0,0,r,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,T.canvas)),this.dependencyTracker?.recordDependencies(t,ai.transformAndFill),{canvas:T.canvas,offsetX:Math.round(k),offsetY:Math.round(N)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=m3[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=g3[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),cl(this.suspendedCtx,l),f3(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),cl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const o=r[0],l=r[1],u=r[2]-o,d=r[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,n,u,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,o,l,u,d,f,p,g){let v=t.canvas,_=d-p,w=f-g;if(l)if(_<0||w<0||_+n>v.width||w+r>v.height){const E=this.cachedCanvases.getCanvas("maskExtension",n,r),A=E.context;A.drawImage(v,-_,-w),A.globalCompositeOperation="destination-atop",A.fillStyle=l,A.fillRect(0,0,n,r),A.globalCompositeOperation="source-over",v=E.canvas,_=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(_,w,n,r),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(_,w,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const b=new Path2D;b.rect(d,f,n,r),e.clip(b),e.globalCompositeOperation="destination-in",e.drawImage(v,_,w,n,r,d,f,n,r),e.restore()}save(t){this.inSMaskMode&&cl(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&cl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,o,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,r,o,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,r){let[o]=n;if(!r){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===Wa.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let u=0,d=o.length;u<d;)switch(o[u++]){case Eu.moveTo:l.moveTo(o[u++],o[u++]);break;case Eu.lineTo:l.lineTo(o[u++],o[u++]);break;case Eu.curveTo:l.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);break;case Eu.closePath:l.closePath();break;default:Ht(`Unrecognized drawing path operator: ${o[u-1]}`);break}o=l}At.axialAlignedBoundingBox(r,xe(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,Pi(r),rn.STROKE,t),l){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,ai.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(rn.STROKE,xe(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=o.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=o.getPattern(r,this,Pi(r),rn.FILL,t),f){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,ai.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,ai.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=y3}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=tS}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of e)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(u,d).scale(f,-f));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||pm,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Ht("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const l=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let p=n;n<X_?p=X_:n>Y_&&(p=Y_),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,o,l){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,g=d.fontSize/d.fontSizeScale,v=p&nn.FILL_STROKE_MASK,_=!!(p&nn.ADD_TO_PATH_FLAG),w=d.patternFill&&!f.missingFile,b=d.patternStroke&&!f.missingFile;let E;if((f.disableFontFace||_||w||b)&&!f.missingFile&&(E=f.getPathGenerator(this.commonObjs,e)),E&&(f.disableFontFace||w||b)){u.save(),u.translate(n,r),u.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,u,f);let A;if(v===nn.FILL||v===nn.FILL_STROKE)if(o){A=u.getTransform(),u.setTransform(...o);const C=this.#i(E,A,o);u.fill(C)}else u.fill(E);if(v===nn.STROKE||v===nn.FILL_STROKE)if(l){A||=u.getTransform(),u.setTransform(...l);const{a:C,b:M,c:F,d:T}=A,D=At.inverseTransform(l),k=At.transform([C,M,F,T,0,0],D);At.singularValueDecompose2dScale(k,Vn),u.lineWidth*=Math.max(Vn[0],Vn[1])/g,u.stroke(this.#i(E,A,l))}else u.lineWidth/=g,u.stroke(E);u.restore()}else(v===nn.FILL||v===nn.FILL_STROKE)&&(u.fillText(e,n,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,n,r,()=>u.measureText(e))),(v===nn.STROKE||v===nn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,g,n,r,()=>u.measureText(e)).recordDependencies(t,ai.stroke),u.strokeText(e,n,r));_&&((this.pendingTextPaths||=[]).push({transform:xe(u),x:n,y:r,fontSize:g,path:E}),this.dependencyTracker?.recordCharacterBBox(t,u,f,g,n,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Gt(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,ai.showText).resetBBox(t),this.current.textRenderingMode&nn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=n.fontSizeScale,d=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,v=e.length,_=r.vertical,w=_?1:-1,b=r.defaultVMetrics,E=o*n.fontMatrix[0],A=n.textRenderingMode===nn.FILL&&!r.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let C,M;if(n.patternFill){l.save();const N=n.fillColor.getPattern(l,this,Pi(l),rn.FILL,t);C=xe(l),l.restore(),l.fillStyle=N}if(n.patternStroke){l.save();const N=n.strokeColor.getPattern(l,this,Pi(l),rn.STROKE,t);M=xe(l),l.restore(),l.strokeStyle=N}let F=n.lineWidth;const T=n.textMatrixScale;if(T===0||F===0){const N=n.textRenderingMode&nn.FILL_STROKE_MASK;(N===nn.STROKE||N===nn.FILL_STROKE)&&(F=this.getSinglePixelWidth())}else F/=T;if(u!==1&&(l.scale(u,u),F/=u),l.lineWidth=F,r.isInvalidPDFjsFont){const N=[];let j=0;for(const I of e)N.push(I.unicode),j+=I.width;const L=N.join("");if(l.fillText(L,0,0),this.dependencyTracker!==null){const I=l.measureText(L);this.dependencyTracker.recordBBox(t,this.ctx,-I.actualBoundingBoxLeft,I.actualBoundingBoxRight,-I.actualBoundingBoxAscent,I.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=j*E*g,l.restore(),this.compose();return}let D=0,k;for(k=0;k<v;++k){const N=e[k];if(typeof N=="number"){D+=w*N*o/1e3;continue}let j=!1;const L=(N.isSpace?f:0)+d,I=N.fontChar,X=N.accent;let H,Y,K=N.width;if(_){const st=N.vmetric||b,V=-(N.vmetric?st[1]:K*.5)*E,S=st[2]*E;K=st?-st[0]:K,H=V/u,Y=(D+S)/u}else H=D/u,Y=0;let z;if(r.remeasure&&K>0){z=l.measureText(I);const st=z.width*1e3/o*u;if(K<st&&this.isFontSubpixelAAEnabled){const V=K/st;j=!0,l.save(),l.scale(V,1),H/=V}else K!==st&&(H+=(K-st)/2e3*o/u)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(A&&!X)l.fillText(I,H,Y),this.dependencyTracker?.recordCharacterBBox(t,l,z?{bbox:null}:r,o/u,H,Y,()=>z??l.measureText(I));else if(this.paintChar(t,I,H,Y,C,M),X){const st=H+o*X.offset.x/u,V=Y-o*X.offset.y/u;this.paintChar(t,X.fontChar,st,V,C,M)}}const x=_?K*E-L*p:K*E+L*p;D+=x,j&&l.restore()}_?n.y-=D:n.x+=D*g,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,r=this.current,o=r.font,l=r.fontSize,u=r.fontDirection,d=o.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,g=r.textHScale*u,v=r.fontMatrix||pm,_=e.length,w=r.textRenderingMode===nn.INVISIBLE;let b,E,A,C;if(w||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(g,u);const M=this.dependencyTracker;for(this.dependencyTracker=M?new pd(M,t):null,b=0;b<_;++b){if(E=e[b],typeof E=="number"){C=d*E*l/1e3,this.ctx.translate(C,0),r.x+=C*g;continue}const F=(E.isSpace?p:0)+f,T=o.charProcOperatorList[E.operatorListId];T?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...v),this.executeOperatorList(T),this.restore()):Ht(`Type3 character "${E.operatorListId}" is not available.`);const D=[E.width,0];At.applyTransform(D,v),A=D[0]*l+F,n.translate(A,0),r.x+=A*g}n.restore(),M&&(this.dependencyTracker=M)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,r,o,l,u){const d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,o,u).recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||xe(this.ctx),o={createCanvasGraphics:(l,u)=>new za(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new pd(this.dependencyTracker,u,!0):null)};n=new lg(e,this.ctx,o,r)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=u3(this.getObject(t,e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const r=this._getPattern(t,e);n.fillStyle=r.getPattern(n,this,Pi(n),rn.SHADING,t);const o=Pi(n);if(o){const{width:l,height:u}=n.canvas,d=Fa.slice();At.axialAlignedBoundingBox([0,0,l,u],o,d);const[f,p,g,v]=d;this.ctx.fillRect(f,p,g-f,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,ai.transform).recordDependencies(t,ai.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){me("Should not call beginInlineImage")}beginImageData(){me("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=xe(this.ctx),n)){At.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,o,l,u]=n,d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||jd("TODO: Support non-isolated groups."),e.knockout&&Ht("Knockout groups not supported.");const r=xe(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Fa.slice();At.axialAlignedBoundingBox(e.bbox,xe(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=At.intersect(o,l)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,f,p),_=v.context;_.translate(-u,-d),_.transform(...r);let w=new Path2D;const[b,E,A,C]=e.bbox;if(w.rect(b,E,A-b,C-E),e.matrix){const M=new Path2D;M.addPath(w,new DOMMatrix(e.matrix)),w=M}_.clip(w),e.smask&&this.smaskStack.push({canvas:v.canvas,context:_,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(u,d),n.save()),cl(n,_),this.ctx=_,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=xe(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=Fa.slice();At.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,o,l){if(this.#t(),Du(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const u=n[2]-n[0],d=n[3]-n[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=u,n[3]=d,At.singularValueDecompose2dScale(xe(this.ctx),Vn);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),g=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:v,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(Vn[0],0,0,-Vn[1],0,d*Vn[1]),Du(this.ctx)}else{Du(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],u,d),this.ctx.clip(f)}}this.current=new K_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const r=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,r=0,o=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=xe(d);d.transform(n,r,o,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,v=u.length;g<v;g+=2){const _=At.transform(f,[n,r,o,l,u[g],u[g+1]]);d.drawImage(p.canvas,_[4],_[5]),this.dependencyTracker?.recordBBox(t,this.ctx,_[4],_[4]+p.canvas.width,_[5],_[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,ai.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=g.context;v.save();const _=this.getObject(t,u,l);Z_(v,_),v.globalCompositeOperation="source-in",v.fillStyle=o?r.getPattern(v,this,Pi(n),rn.FILL,t):r,v.fillRect(0,0,d,f),v.restore(),n.save(),n.transform(...p),n.scale(1,-1),ku(n,g.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,d,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Ht("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,r,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Ht("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,g=o.length;p<g;p+=2)f.push({transform:[n,0,0,r,o[p],o[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,r=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,r).context;Q_(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,Pi(o));o.imageSmoothingEnabled=J_(xe(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-r,0).recordDependencies(t,ai.imageXObject).recordOperation(t),ku(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,n,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;Q_(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)r.save(),r.transform(...l.transform),r.scale(1,-1),ku(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,ai.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(r||(this.pendingClip===tS?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=xe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:o}=this.ctx.getTransform();let l,u;if(n===0&&r===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=u=1/d;else{const p=d*t;l=u=p<1?1/p:1}else if(t===0)l=1/d,u=1/f;else{const p=d*t,g=f*t;l=p<1?1/p:1,u=g<1?1/g:1}}else{const d=Math.abs(e*o-n*r),f=Math.hypot(e,n),p=Math.hypot(r,o);if(t===0)l=p/d,u=f/d;else{const g=t*d;l=p>g?p/g:1,u=f>g?f/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(t);return}const u=n.getLineDash();e&&n.save(),n.scale(o,l),Dp.a=1/o,Dp.d=1/l;const d=new Path2D;if(d.addPath(t,Dp),u.length>0){const f=Math.max(o,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const s in Wa)za.prototype[s]!==void 0&&(za.prototype[Wa[s]]=za.prototype[s]);class Ua{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let r=0;for(const f of Ua.strings){const p=e.encode(t[f]);n[f]=p,r+=4+p.length}const o=new ArrayBuffer(r),l=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of Ua.strings){const p=n[f],g=p.length;u.setUint32(d,g),l.set(p,d+4),d+=4+g}return Jt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Jt(t<Ua.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ha{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let r=0;for(const v of Ha.strings){const _=e.encode(t[v]);n[v]=_,r+=4+_.length}r+=4;let o,l,u=1+r;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+o.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let g=0;p.setUint8(g++,t.guessFallback?1:0),p.setUint32(g,0),g+=4,r=0;for(const v of Ha.strings){const _=n[v],w=_.length;r+=4+w,p.setUint32(g,w),f.set(_,g+4),g+=4+w}return p.setUint32(g-r-4,r),t.style&&(p.setUint32(g,o.length),f.set(o,g+4),g+=4+o.length,p.setUint32(g,l.length),f.set(l,g+4),g+=4+l.length),Jt(g<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Jt(t<Ha.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:n,weight:o}}}class de{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Jt(t<de.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,r=this.#o.getUint8(e)>>n&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Jt(t<de.numbers.length,"Invalid number index"),this.#o.getFloat64(de.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=de.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=de.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=de.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#h(t){Jt(t<de.strings.length,"Invalid string index");let e=de.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(r)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);if(r===0)return null;const o=new Uint8Array(r);return o.set(new Uint8Array(this.#s,t+4,r)),new Ua(o.buffer)}get systemFontInfo(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),new Ha(r.buffer)}static write(t){const e=t.systemFontInfo?Ha.write(t.systemFontInfo):null,n=t.cssFontInfo?Ua.write(t.cssFontInfo):null,r=new TextEncoder,o={};let l=0;for(const b of de.strings)o[b]=r.encode(t[b]),l+=4+o[b].length;const u=de.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let g=0;const v=de.bools.length;let _=0,w=0;for(let b=0;b<v;b++){const E=t[de.bools[b]];_|=(E===void 0?0:E?2:1)<<w,w+=2,(w===8||b===v-1)&&(p.setUint8(g++,_),_=0,w=0)}Jt(g===de.#t,"FontInfo.write: Boolean properties offset mismatch");for(const b of de.numbers)p.setFloat64(g,t[b]),g+=8;if(Jt(g===de.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(g++,4);for(const b of t.bbox)p.setInt16(g,b,!0),g+=2}else p.setUint8(g++,0),g+=8;if(Jt(g===de.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(g++,6);for(const b of t.fontMatrix)p.setFloat64(g,b,!0),g+=8}else p.setUint8(g++,0),g+=48;if(Jt(g===de.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(g++,1);for(const b of t.defaultVMetrics)p.setInt16(g,b,!0),g+=2}else p.setUint8(g++,0),g+=6;Jt(g===de.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(de.#a,0),g+=4;for(const b of de.strings){const E=o[b],A=E.length;p.setUint32(g,A),f.set(E,g+4),g+=4+A}if(p.setUint32(de.#a,g-de.#a-4),!e)p.setUint32(g,0),g+=4;else{const b=e.byteLength;p.setUint32(g,b),Jt(g+4+b<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),g+4),g+=4+b}if(!n)p.setUint32(g,0),g+=4;else{const b=n.byteLength;p.setUint32(g,b),Jt(g+4+b<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),g+4),g+=4+b}return t.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,t.data.length),f.set(t.data,g+4),g+=4+t.data.length),Jt(g<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(g)}}class Ys{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class v3{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const ja=Symbol("INTERNAL");class b3{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:o}){this.#t=!!(t&Un.DISPLAY),this.#e=!!(t&Un.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==ja&&me("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class _3{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=Un.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new b3(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(ja,!1);for(const n of t.on)this.#e.get(n)._setVisible(ja,!0);for(const n of t.off)this.#e.get(n)._setVisible(ja,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const o=t[r];let l;if(Array.isArray(o))l=this.#a(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return Ht(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return jd("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Ht(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Ht(`Unknown optional content policy ${t.policy}.`),!0}return Ht(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){Ht(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(ja,!1,!0);r._setVisible(ja,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=this.#e.get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new T1;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class S3{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Jt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});Jt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Jt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new w3(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new A3(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class w3{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Fd(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class A3{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function x3(s){let t=!0,e=n("filename\\*","i").exec(s);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=l(s),e){const p=f(e);return o(p)}if(e=n("filename","i").exec(s),e){e=e[1];let p=u(e);return p=f(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function r(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const v=new TextDecoder(p,{fatal:!0}),_=Kl(g);g=v.decode(_),t=!1}catch{}}return g}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const g=[];let v;const _=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=_.exec(p))!==null;){let[,b,E,A]=v;if(b=parseInt(b,10),b in g){if(b===0)break;continue}g[b]=[E,A]}const w=[];for(let b=0;b<g.length&&b in g;++b){let[E,A]=g[b];A=u(A),E&&(A=unescape(A),b===0&&(A=d(A))),w.push(A)}return w.join("")}function u(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let v=0;v<g.length;++v){const _=g[v].indexOf('"');_!==-1&&(g[v]=g[v].slice(0,_),g.length=v+1),g[v]=g[v].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function d(p){const g=p.indexOf("'");if(g===-1)return p;const v=p.slice(0,g),w=p.slice(g+1).replace(/^[^']*'/,"");return r(v,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,v,_,w){if(_==="q"||_==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,E){return String.fromCharCode(parseInt(E,16))}),r(v,w);try{w=atob(w)}catch{}return r(v,w)})}return""}function N1(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Id(s){return URL.parse(s)?.origin??null}function P1({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(s.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||n||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function j1(s){const t=s.get("Content-Disposition");if(t){let e=x3(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Fd(e))return e}return null}function ec(s,t){return new Dl(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s,s===404||s===0&&t.startsWith("file:"))}function B1(s){return s===200||s===206}function F1(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function I1(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Ht(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class E3{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=N1(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Jt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new T3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new C3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class T3{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,F1(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Id(o.url),!B1(o.status))throw ec(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=P1({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=j1(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ys("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:I1(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class C3{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=r.url;fetch(l,F1(o,this._withCredentials,this._abortController)).then(u=>{const d=Id(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!B1(u.status))throw ec(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:I1(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Lp=200,Np=206;function R3(s){const t=s.response;return typeof t!="string"?t:Kl(t).buffer}class O3{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=N1(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Np):r.expectedStatus=Lp,e.responseType="arraybuffer",Jt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||Lp;if(!(o===Lp&&n.expectedStatus===Np)&&o!==n.expectedStatus){n.onError(r.status);return}const u=R3(r);if(o===Np){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(Ht('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class M3{constructor(t){this._source=t,this._manager=new O3(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Jt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new k3(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new D3(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class k3{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Id(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=P1({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=j1(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ec(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class D3{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Id(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=ec(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const L3=/^[a-z][a-z0-9\-+.]+:/i;function N3(s){if(L3.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class P3{constructor(t){this.source=t,this.url=N3(t.url),Jt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Jt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new j3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new B3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class j3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=ec(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ys("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class B3{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ul=Symbol("INITIAL_DATA");class z1{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:ul}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===ul)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==ul}delete(t){const e=this.#t[t];return!e||e.data===ul?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==ul&&(yield[t,e])}}}const F3=1e5,eS=30;let Nl=class oi{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#E=new WeakMap;static#A=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#d=n.scale*_i.pixelRatio,this.#h=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:l,pageY:u}=n.rawDims;this.#y=[1,0,0,-1,-l,u+o],this.#o=r,this.#r=o,oi.#O(),Ks(e,n),this.#t.promise.finally(()=>{oi.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Qe.platform;return Gt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),oi.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*_i.pixelRatio,r=t.rotation;if(r!==this.#h&&(e?.(),this.#h=r,Ks(this.#l,{rotation:r})),n!==this.#d){e?.(),this.#d=n;const o={div:null,properties:null,ctx:oi.#M(this.#a)};for(const l of this.#u)o.properties=this.#m.get(l),o.div=l,this.#x(o)}}cancel(){const t=new ys("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#C(t){if(this.#i)return;this.#s.ctx??=oi.#M(this.#a);const e=this.#u,n=this.#g;for(const r of t){if(e.length>F3){Ht("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#w(r)}}#w(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=At.transform(this.#y,t.transform);let o=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=oi.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*oi.#B(u,l,this.#a);let p,g;o===0?(p=r[4],g=r[5]-f):(p=r[4]+f*Math.sin(o),g=r[5]-f*Math.cos(o));const v="calc(var(--total-scale-factor) *",_=e.style;this.#e===this.#l?(_.left=`${(100*p/this.#o).toFixed(2)}%`,_.top=`${(100*g/this.#r).toFixed(2)}%`):(_.left=`${v}${p.toFixed(2)}px)`,_.top=`${v}${g.toFixed(2)}px)`),_.fontSize=`${v}${(oi.#A*d).toFixed(2)}px)`,_.fontFamily=u,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const b=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);b!==E&&Math.max(b,E)/Math.min(b,E)>1.5&&(w=!0)}if(w&&(n.canvasWidth=l.vertical?t.height:t.width),this.#m.set(e,n),this.#s.div=e,this.#s.properties=n,this.#x(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#e.append(b)}}#x(t){const{div:e,properties:n,ctx:r}=t,{style:o}=e;let l="";if(oi.#A>1&&(l=`scale(${1/oi.#A})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=n;oi.#R(r,f*this.#d,u);const{width:p}=r.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#d/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#M(t=null){let e=this.#v.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#E.set(e,{size:0,family:""})}return e}static#R(t,e,n){const r=this.#E.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#O(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#B(t,e,n){const r=this.#b.get(t);if(r)return r;const o=this.#M(n);o.canvas.width=o.canvas.height=eS,this.#R(o,eS,t);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(Qe.platform.isFirefox&&Ht("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}};const I3=100;function cg(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new ug,{docId:e}=t,n=s.url?XP(s.url):null,r=s.data?YP(s.data):null,o=s.httpHeaders||null,l=s.withCredentials===!0,u=s.password??null,d=s.range instanceof dg?s.range:null,f=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let p=s.worker instanceof Ka?s.worker:null;const g=s.verbosity,v=typeof s.docBaseUrl=="string"&&!Zl(s.docBaseUrl)?s.docBaseUrl:null,_=Cu(s.cMapUrl),w=s.cMapPacked!==!1,b=s.CMapReaderFactory||(mn?e3:U_),E=Cu(s.iccUrl),A=Cu(s.standardFontDataUrl),C=s.StandardFontDataFactory||(mn?n3:H_),M=Cu(s.wasmUrl),F=s.WasmFactory||(mn?i3:V_),T=s.stopAtErrors!==!0,D=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,k=s.isEvalSupported!==!1,N=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!mn,j=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!mn&&(Qe.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,I=typeof s.disableFontFace=="boolean"?s.disableFontFace:mn,X=s.fontExtraProperties===!0,H=s.enableXfa===!0,Y=s.ownerDocument||globalThis.document,K=s.disableRange===!0,z=s.disableStream===!0,x=s.disableAutoFetch===!0,st=s.pdfBug===!0,V=s.CanvasFactory||(mn?t3:QP),S=s.FilterFactory||(mn?JP:ZP),B=s.enableHWA===!0,$=s.useWasm!==!1,Q=d?d.length:s.length??NaN,tt=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!mn&&!I,ct=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(b===U_&&C===H_&&F===V_&&_&&A&&M&&vl(_,document.baseURI)&&vl(A,document.baseURI)&&vl(M,document.baseURI)),at=null;RP(g);const dt={canvasFactory:new V({ownerDocument:Y,enableHWA:B}),filterFactory:new S({docId:e,ownerDocument:Y}),cMapReaderFactory:ct?null:new b({baseUrl:_,isCompressed:w}),standardFontDataFactory:ct?null:new C({baseUrl:A}),wasmFactory:ct?null:new F({baseUrl:M})};p||(p=Ka.create({verbosity:g,port:Ys.workerPort}),t._worker=p);const yt={docId:e,apiVersion:"5.4.296",data:r,password:u,disableAutoFetch:x,rangeChunkSize:f,length:Q,docBaseUrl:v,enableXfa:H,evaluatorOptions:{maxImageSize:D,disableFontFace:I,ignoreErrors:T,isEvalSupported:k,isOffscreenCanvasSupported:N,isImageDecoderSupported:j,canvasMaxAreaInBytes:L,fontExtraProperties:X,useSystemFonts:tt,useWasm:$,useWorkerFetch:ct,cMapUrl:_,iccUrl:E,standardFontDataUrl:A,wasmUrl:M}},xt={ownerDocument:Y,pdfBug:st,styleElement:at,loadingParams:{disableAutoFetch:x,enableXfa:H}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const St=p.messageHandler.sendWithPromise("GetDocRequest",yt,r?[r.buffer]:null);let It;if(d)It=new S3(d,{disableRange:K,disableStream:z});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ft=vl(n)?E3:mn?P3:M3;It=new Ft({url:n,length:Q,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:K,disableStream:z})}return St.then(Ft=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const bt=new bl(e,Ft,p.port),_t=new H3(bt,t,It,xt,dt,B);t._transport=_t,bt.send("Ready",null)})}).catch(t._capability.reject),t}class ug{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ug.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let dg=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){me("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class z3{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class U3{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new N_:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new z1,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new Ql({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:r="display",annotationMode:o=Hi.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:v=!1,recordOperations:_=!1,operationsFilter:w=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(r,o,g,v),{renderingIntent:E,cacheKey:A}=b;this.#t=!1,d||=this._transport.getOptionalContentConfig(E);let C=this._intentStates.get(A);C||(C=Object.create(null),this._intentStates.set(A,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const M=!!(E&Un.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const F=!!(this._pdfBug&&globalThis.StepperManager?.enabled),T=!this.recordedBBoxes&&(_||F),D=j=>{if(C.renderTasks.delete(k),T){const L=k.gfx?.dependencyTracker.take();L&&(k.stepper&&k.stepper.setOperatorBBoxes(L,k.gfx.dependencyTracker.takeDebugMetadata()),_&&(this.recordedBBoxes=L))}M&&(this.#t=!0),this.#e(),j?(k.capability.reject(j),this._abortOperatorList({intentState:C,reason:j instanceof Error?j:new Error(j)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new Ia({callback:D,params:{canvas:e,canvasContext:t,dependencyTracker:T?new r3(e,C.operatorList.length,F):null,viewport:n,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:w});(C.renderTasks||=new Set).add(k);const N=k.task;return Promise.all([C.displayReadyCapability.promise,d]).then(([j,L])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:j,optionalContentConfig:L}),k.operatorListChanged()}).catch(D),N}getOperatorList({intent:t="display",annotationMode:e=Hi.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,n,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ll.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:f}){if(f){n(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new N_),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:g,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,f),p())},g=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(g);else if(f.opListReadCapability)f.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Bd){let r=I3;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new ys(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Gs,fi,us,Or,yd,Mr,kr,bn,qu,U1,H1,_l,qa,Gu;const _e=class _e{constructor({name:t=null,port:e=null,verbosity:n=OP()}={}){Di(this,bn);Di(this,Gs,Promise.withResolvers());Di(this,fi,null);Di(this,us,null);Di(this,Or,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(be(_e,kr).has(e))throw new Error("Cannot use more than one PDFWorker per port.");be(_e,kr).set(e,this),Li(this,bn,U1).call(this,e)}else Li(this,bn,H1).call(this)}get promise(){return be(this,Gs).promise}get port(){return be(this,us)}get messageHandler(){return be(this,fi)}destroy(){this.destroyed=!0,be(this,Or)?.terminate(),En(this,Or,null),be(_e,kr).delete(be(this,us)),En(this,us,null),be(this,fi)?.destroy(),En(this,fi,null)}static create(t){const e=be(this,kr).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new _e(t)}static get workerSrc(){if(Ys.workerSrc)return Ys.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Gt(this,"_setupFakeWorkerGlobal",(async()=>be(this,qa,Gu)?be(this,qa,Gu):(await import(this.workerSrc)).WorkerMessageHandler)())}};Gs=new WeakMap,fi=new WeakMap,us=new WeakMap,Or=new WeakMap,yd=new WeakMap,Mr=new WeakMap,kr=new WeakMap,bn=new WeakSet,qu=function(){be(this,Gs).resolve(),be(this,fi).send("configure",{verbosity:this.verbosity})},U1=function(t){En(this,us,t),En(this,fi,new bl("main","worker",t)),be(this,fi).on("ready",()=>{}),Li(this,bn,qu).call(this)},H1=function(){if(be(_e,Mr)||be(_e,qa,Gu)){Li(this,bn,_l).call(this);return}let{workerSrc:t}=_e;try{_e._isSameOrigin(window.location,t)||(t=_e._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new bl("main","worker",e),r=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?be(this,Gs).reject(new Error("Worker was destroyed")):Li(this,bn,_l).call(this)},o=new AbortController;e.addEventListener("error",()=>{be(this,Or)||r()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}En(this,fi,n),En(this,us,e),En(this,Or,e),Li(this,bn,qu).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{Li(this,bn,_l).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{jd("The worker has been disabled.")}Li(this,bn,_l).call(this)},_l=function(){be(_e,Mr)||(Ht("Setting up fake worker."),En(_e,Mr,!0)),_e._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){be(this,Gs).reject(new Error("Worker was destroyed"));return}const e=new KP;En(this,us,e);const n=`fake${c0(_e,yd)._++}`,r=new bl(n+"_worker",n,e);t.setup(r,e),En(this,fi,new bl(n,n+"_worker",e)),Li(this,bn,qu).call(this)}).catch(t=>{be(this,Gs).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},qa=new WeakSet,Gu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Di(_e,qa),Di(_e,yd,0),Di(_e,Mr,!1),Di(_e,kr,new WeakMap),mn&&(En(_e,Mr,!0),Ys.workerSrc||="./pdf.worker.mjs"),_e._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},_e._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},_e.fromPort=t=>{if(FP("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _e.create(t)};let Ka=_e;class H3{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,r,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new z1,this.fontLoader=new qP({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Gt(this,"annotationStorage",new rg)}getRenderingIntent(t,e=Hi.ENABLE,n=null,r=!1,o=!1){let l=Un.DISPLAY,u=gm;switch(t){case"any":l=Un.ANY;break;case"display":break;case"print":l=Un.PRINT;break;default:Ht(`getRenderingIntent - invalid intent: ${t}`)}const d=l&Un.PRINT&&n instanceof C1?n:this.annotationStorage;switch(e){case Hi.DISABLE:l+=Un.ANNOTATIONS_DISABLE;break;case Hi.ENABLE:break;case Hi.ENABLE_FORMS:l+=Un.ANNOTATIONS_FORMS;break;case Hi.ENABLE_STORAGE:l+=Un.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Ht(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=Un.IS_EDITING),o&&(l+=Un.OPLIST);const{ids:f,hash:p}=d.modifiedIds,g=[l,u.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Nl.cleanup(),this._networkStream?.cancelAllRequests(new ys("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Jt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Jt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,r)=>{Jt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){r.close();return}Jt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new z3(n,this))}),t.on("DocException",n=>{e._capability.reject(Rn(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw Rn(n);const r=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const p=o.error;Ht(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new de(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new GP(l,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Jt(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,o,l])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(n)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ht("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new U3(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return ym(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new _3(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new v3(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Nl.cleanup()}}cachedPageNumber(t){if(!ym(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class V3{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ia{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:v=null,enableHWA:_=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=g,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new V3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=_,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ia.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ia.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:o,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new za(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ia.#e.delete(this._canvas),t||=new Bd(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ia.#e.delete(this._canvas),this.callback())))}}const hg="5.4.296",V1="f56dc8601";class Hn{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Gt(this,"_keyboardManager",new Jl([[["Escape","mac+Escape"],Hn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hn.prototype._moveToPrevious],[["Home","mac+Home"],Hn.prototype._moveToBeginning],[["End","mac+End"],Hn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Hn.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#d();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#d(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Gn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",Hn.#h[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===this.#i,o.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Qt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#n.lastChild?.focus()}#g(t){Hn._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#d();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#m){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Pl{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Pl.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Pl.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function nS(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function dl(s){return Math.max(0,Math.min(255,255*s))}class iS{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=dl(t),[t,t,t]}static G_HTML([t]){const e=nS(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(dl)}static RGB_HTML(t){return`#${t.map(nS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[dl(1-Math.min(1,t+r)),dl(1-Math.min(1,n+r)),dl(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,o=1-e,l=1-n,u=Math.min(r,o,l);return["CMYK",r,o,l,u]}}class $3{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){me("Abstract method `_createSVG` called.")}}class jl extends $3{_createSVG(t){return document.createElementNS(cs,t)}}const q3=9,Ir=new WeakSet,G3=new Date().getTimezoneOffset()*60*1e3;class sS{static create(t){switch(t.data.annotationType){case De.LINK:return new fg(t);case De.TEXT:return new Y3(t);case De.WIDGET:switch(t.data.fieldType){case"Tx":return new W3(t);case"Btn":return t.data.radioButton?new $1(t):t.data.checkBox?new Q3(t):new Z3(t);case"Ch":return new J3(t);case"Sig":return new K3(t)}return new Vr(t);case De.POPUP:return new _m(t);case De.FREETEXT:return new q1(t);case De.LINE:return new ej(t);case De.SQUARE:return new nj(t);case De.CIRCLE:return new ij(t);case De.POLYLINE:return new G1(t);case De.CARET:return new rj(t);case De.INK:return new pg(t);case De.POLYGON:return new sj(t);case De.HIGHLIGHT:return new X1(t);case De.UNDERLINE:return new aj(t);case De.SQUIGGLY:return new oj(t);case De.STRIKEOUT:return new lj(t);case De.STAMP:return new Y1(t);case De.FILEATTACHMENT:return new cj(t);default:return new Te(t)}}}class Te{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Te._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:r}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],o=e[u+2]):e[u+1]===l&&(o=Math.max(o,e[u+2]));return[o,l]}if(n?.length>=1){for(const u of n)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],o=u[d]):u[d+1]===l&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${kl}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${kl}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(t),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof Vr)&&!(this instanceof fg)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof _m){const{rotation:b}=e;return!e.hasOwnCanvas&&b!==0&&this.setRotation(b,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const b=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(b>0||E>0){const C=`calc(${b}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=C}else if(this instanceof $1){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=C}switch(e.borderStyle.style){case Pa.SOLID:l.borderStyle="solid";break;case Pa.DASHED:l.borderStyle="dashed";break;case Pa.BEVELED:Ht("Unimplemented border style: beveled");break;case Pa.INSET:Ht("Unimplemented border style: inset");break;case Pa.UNDERLINE:l.borderBottomStyle="solid";break}const A=e.borderColor||null;A?(this.#e=!0,l.borderColor=At.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):l.borderWidth=0}const f=At.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:v,pageY:_}=r.rawDims;l.left=`${100*(f[0]-v)/p}%`,l.top=`${100*(f[1]-_)/g}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(l.width=`${100*u/p}%`,l.height=`${100*d/g}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const o=r.detail[e],l=o[0],u=o.slice(1);r.target.style[n]=iS[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:iS[`${l}_rgb`](u)})};return Gt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,o]of Object.entries(e)){const l=n[r];if(l){const u={detail:{[r]:o},target:t};l(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,o]=this.data.rect.map(b=>Math.fround(b));if(t.length===8){const[b,E,A,C]=t.subarray(2,6);if(r===b&&o===E&&e===A&&n===C)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:b,borderWidth:E}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-e,f=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const v=p.createElement("defs");g.append(v);const _=p.createElement("clipPath"),w=`clippath_${this.data.id}`;_.setAttribute("id",w),_.setAttribute("clipPathUnits","objectBoundingBox"),v.append(_);for(let b=2,E=t.length;b<E;b+=8){const A=t[b],C=t[b+1],M=t[b+2],F=t[b+3],T=p.createElement("rect"),D=(M-e)/d,k=(o-C)/f,N=(A-M)/d,j=(C-F)/f;T.setAttribute("x",D),T.setAttribute("y",k),T.setAttribute("width",N),T.setAttribute("height",j),_.append(T),u?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${k}" width="${N}" height="${j}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let n,r;t?(n={str:t.text},r=t.date):(n=e.contentsObj,r=e.modificationDate);const o=this.#i=new _m({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){me("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:l,exportValues:u}of r){if(o===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!Ir.has(f)){Ht(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==e&&Ir.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class X3 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class fg extends Te{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=n.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Ht('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:o,include:l}=e,u=[];if(r.length!==0||o.length!==0){const p=new Set(o);for(const g of r){const v=this._fieldObjects[g]||[];for(const{id:_}of v)p.add(_)}for(const g of Object.values(this._fieldObjects))for(const v of g)p.has(v.id)===l&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:g}=p;switch(f.push(g),p.type){case"text":{const _=p.defaultValue||"";d.setValue(g,{value:_});break}case"checkbox":case"radiobutton":{const _=p.defaultValue===p.exportValues;d.setValue(g,{value:_});break}case"combobox":case"listbox":{const _=p.defaultValue||"";d.setValue(g,{value:_});break}default:continue}const v=document.querySelector(`[data-element-id="${g}"]`);if(v){if(!Ir.has(v)){Ht(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class Y3 extends Te{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Vr extends Te{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Qe.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}})})}_setEventListeners(t,e,n,r){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":At.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||q3,o=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Cp*r))||1,g=f/p;l=Math.min(r,d(g/Cp))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,d(f/Cp))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=At.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class W3 extends Vr{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Ir.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:g}=this.data,v=!!p&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",w=>{const b=this.data.defaultFieldValue??"";n.value=d.userValue=b,d.formattedValue=null});let _=w=>{const{formattedValue:b}=d;b!=null&&(w.target.value=b),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",b=>{if(d.focused)return;const{target:E}=b;if(v&&(E.type=p,g&&(E.step=g)),d.userValue){const A=d.userValue;if(v)if(p==="time"){const C=new Date(A),M=[C.getHours(),C.getMinutes(),C.getSeconds()];E.value=M.map(F=>F.toString().padStart(2,"0")).join(":")}else E.value=new Date(A-G3).toISOString().split(p==="date"?"T":".",1)[0];else E.value=A}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const E={value(A){d.userValue=A.detail.value??"",v||t.setValue(e,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:C}=A.detail;d.formattedValue=C,C!=null&&A.target!==document.activeElement&&(A.target.value=C);const M={formattedValue:C};v&&(M.value=C),t.setValue(e,M)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:C}=A.detail,{target:M}=A;if(C===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",C);let F=d.userValue;!F||F.length<=C||(F=F.slice(0,C),M.value=d.userValue=F,t.setValue(e,{value:F}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(E,b)}),n.addEventListener("keydown",b=>{d.commitKey=1;let E=-1;if(b.key==="Escape"?E=0:b.key==="Enter"&&!this.data.multiLine?E=2:b.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:A}=b.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:E,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const w=_;_=null,n.addEventListener("blur",b=>{if(!d.focused||!b.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=b;let{value:A}=E;if(v){if(A&&p==="time"){const C=A.split(":").map(M=>parseInt(M,10));A=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),E.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();E.type="text"}d.userValue=A,d.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:d.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),w(b)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",b=>{d.lastCommittedValue=null;const{data:E,target:A}=b,{value:C,selectionStart:M,selectionEnd:F}=A;let T=M,D=F;switch(b.inputType){case"deleteWordBackward":{const k=C.substring(0,M).match(/\w*[^\w]*$/);k&&(T-=k[0].length);break}case"deleteWordForward":{const k=C.substring(M).match(/^[^\w]*\w*/);k&&(D+=k[0].length);break}case"deleteContentBackward":M===F&&(T-=1);break;case"deleteContentForward":M===F&&(D+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:E||"",willCommit:!1,selStart:T,selEnd:D}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(_&&n.addEventListener("blur",_),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class K3 extends Vr{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Q3 extends Vr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return Ir.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class $1 extends Vr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(Ir.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const g of this._getElementsByName(f.target.name)){const v=p&&g.id===n;g.domElement&&(g.domElement.checked=v),t.setValue(g.id,{value:v})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Z3 extends fg{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class J3 extends Vr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Ir.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),r.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=p=>{const g=p?"value":"textContent",{options:v,multiple:_}=r;return _?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[g]):v.selectedIndex===-1?null:v[v.selectedIndex][g]};let d=u(!1);const f=p=>{const g=p.target.options;return Array.prototype.map.call(g,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const g={value(v){l?.();const _=v.detail.value,w=new Set(Array.isArray(_)?_:[_]);for(const b of r.options)b.selected=w.has(b.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(v){r.multiple=!0},remove(v){const _=r.options,w=v.detail.remove;_[w].selected=!1,r.remove(w),_.length>0&&Array.prototype.findIndex.call(_,E=>E.selected)===-1&&(_[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(v){const{index:_,displayValue:w,exportValue:b}=v.detail.insert,E=r.children[_],A=document.createElement("option");A.textContent=w,A.value=b,E?E.before(A):r.append(A),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},items(v){const{items:_}=v.detail;for(;r.length!==0;)r.remove(0);for(const w of _){const{displayValue:b,exportValue:E}=w,A=document.createElement("option");A.textContent=b,A.value=E,r.append(A)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},indices(v){const _=new Set(v.detail.indices);for(const w of v.target.options)w.selected=_.has(w.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(g,p)}),r.addEventListener("input",p=>{const g=u(!0),v=u(!1);t.setValue(e,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:v,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class _m extends Te{constructor(t){const{data:e,elements:n,parent:r}=t,o=!!r._commentManager;if(super(t,{isRenderable:!o&&Te._hasPopupData(e)}),this.elements=n,o&&Te._hasPopupData(e)){const l=this.popup=this.#t();for(const u of n)u.popup=l}else this.popup=null}#t(){return new tj({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${tg}${r}`).join(",")),this.container}}class tj{#t=null;#e=this.#$.bind(this);#i=this.#I.bind(this);#n=this.#L.bind(this);#a=this.#S.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#b=null;#v=null;#E=null;#A=null;#_=null;#C=!1;#w=null;#x=null;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:g,commentManager:v=null}){this.#r=t,this.#A=r,this.#o=l,this.#E=u,this.#h=d,this.#s=e,this.#v=f,this.#d=p,this.#l=n,this.#t=v,this.#w=n[0],this.#c=hd.toDateObject(o),this.trigger=n.flatMap(_=>_.getElementsToTriggerPopup()),v?this.renderCommentButton():(this.#M(),this.#r.hidden=!0,g&&this.#S())}#M(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#R(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#R(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#w.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#m=this.#w.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const u=this.#w.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#O(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),u.after(l)}}#O(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#m;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#B(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#h._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}}get elementBeforePopup(){return this.#m}get comment(){return this.#x||=this.#w.commentText,this.#x}set comment(t){t!==this.comment&&(this.#w.commentText=this.#x=t)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#m&&(this.#m.classList.toggle("selected",t),this.#m.ariaExpanded=e)}setSelectedCommentButton(t){this.#m.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:n}=this.#m.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#w.layer.getBoundingClientRect();return[(t-r)/l,(e+n-o)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:o,y:l,width:u,height:d}=r;this.#t.showDialog(null,this,o+e*u,l+n*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=At.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#A?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#A}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}ng({html:this.#D||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#D(){const t=this.#E,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#E.html||null}get#N(){return this.#D?.attributes?.style?.fontSize||0}get#F(){return this.#D?.attributes?.style?.color||null}#P(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#F,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return n}#$(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#x=null):e&&(e.deleted?this.remove():(this.#B(),this.#x=e.text)),t&&(this.#y=null,this.#R(),this.#O());return}if(n||e?.deleted){this.remove();return}this.#M(),this.#_||={contentsObj:this.#o,richText:this.#E},t&&(this.#u=null),e&&e.text&&(this.#E=this.#P(e.text),this.#c=hd.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#E}=this.#_,this.#_=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#C=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:o}}}=this.#h;let l=!!this.#d,u=l?this.#d:this.#v;for(const w of this.#l)if(!u||At.intersect(w.data.rect,u)!==null){u=w.data.rect,l=!0;break}const d=At.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,g=d[0]+p,v=d[1];this.#u=[100*(g-r)/e,100*(v-o)/n];const{style:_}=this.#r;_.left=`${this.#u[0]}%`,_.top=`${this.#u[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#L(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#I(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#L(){this.#g||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#I(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#M(),this.#C&&(this.#g||this.#L(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class q1 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ut.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class ej extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class nj extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class ij extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class G1 extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:o,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,g=e.length;p<g;p+=2){const v=e[p]-t[0],_=t[3]-e[p+1];d.push(`${v},${_}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class sj extends G1{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class rj extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class pg extends Te{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ut.HIGHLIGHT:Ut.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:o}}=this,{transform:l,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,v=n.length;g<v;g++){const _=this.svgFactory.createElement(this.svgElementName);this.#e.push(_),_.setAttribute("points",n[g].join(",")),p.append(_)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",n[l].join(","));if(r){const{transform:l,width:u,height:d}=this.#i(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class X1 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ut.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class aj extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class oj extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class lj extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Y1 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ut.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class cj extends Te{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=Qe.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let mg=class W1{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#a=u||null,this.#s=f||null,this.#i=p||new rg,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const r=t.firstChild||t,o=r.id=`${tg}${e}`,l=await this.#a?.getAriaAttributes(o);if(l)for(const[u,d]of l)r.setAttribute(u,d);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Ks(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new jl,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const u=l.annotationType===De.POPUP;if(u){const p=r.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=sS.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=r.get(l.popupRef);p?p.push(d):r.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#r(f,l.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new jl,parent:this};for(const n of t){n.borderStyle||=W1._defaultBorderStyle,e.data=n;const r=sS.create(e);if(!r.isRenderable)continue;const o=r.render();await this.#r(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Ks(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:r}=t,o=new X3({data:{id:n,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Gt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Pa.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Lu=/\r\n?|\n/g;class We extends Dt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=We.prototype,e=o=>o.isEmpty(),n=vs.TRANSLATE_SMALL,r=vs.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new Jl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Ut.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||We._defaultColor||Dt._defaultLineColor,this.#n=t.fontSize||We._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Dt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Qt.FREETEXT_SIZE:We._defaultFontSize=e;break;case Qt.FREETEXT_COLOR:We._defaultColor=e;break}}updateParams(t,e){switch(t){case Qt.FREETEXT_SIZE:this.#a(e);break;case Qt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Qt.FREETEXT_SIZE,We._defaultFontSize],[Qt.FREETEXT_COLOR,We._defaultColor||Dt._defaultLineColor]]}get propertiesToUpdate(){return[[Qt.FREETEXT_SIZE,this.#n],[Qt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Pl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Qt.FREETEXT_COLOR}#a(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-We._internalPadding*t,-(We._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(We.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){We._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[g,v]=this.pageTranslation;let _,w;switch(this.rotation){case 0:_=t+(l[0]-g)/f,w=e+this.height-(l[1]-v)/p;break;case 90:_=t+(l[0]-g)/f,w=e-(l[1]-v)/p,[u,d]=[d,-u];break;case 180:_=t-this.width+(l[0]-g)/f,w=e-(l[1]-v)/p,[u,d]=[-u,-d];break;case 270:_=t+(l[0]-g-this.height*p)/f,w=e+(l[1]-v-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(_*r,w*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Lu,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=We.#d(e.getData("text")||"").replaceAll(Lu,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const _=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Lu,"")),_!==this.editorDiv){let w=f;for(const b of this.editorDiv.childNodes){if(b===_){w=p;continue}w.push(We.#c(b))}}f.push(u.nodeValue.slice(0,d).replaceAll(Lu,""))}else if(u===this.editorDiv){let _=f,w=0;for(const b of this.editorDiv.childNodes)w++===d&&(_=p),_.push(We.#c(b))}this.#t=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#l();const g=new Range;let v=Math.sumPrecise(f.map(_=>_.length));for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const w=_.nodeValue.length;if(v<=w){g.setStart(_,v),g.setEnd(_,v);break}v-=w}o.removeAllRanges(),o.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#t.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=We._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let r=null;if(t instanceof q1){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:g,richText:v,contentsObj:_,creationDate:w,modificationDate:b},textContent:E,textPosition:A,parent:{page:{pageNumber:C}}}=t;if(!E||E.length===0)return null;r=t={annotationType:Ut.FREETEXT,color:Array.from(u),fontSize:l,value:E.join(`
`),position:A,pageIndex:C-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:g,comment:_?.str||null,richText:v,creationDate:w,modificationDate:b}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=At.makeHexColor(...t.color),o.#t=We.#d(t.value),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Dt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#h()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class wt{static PRECISION=1e-4;toSVGPath(){me("Abstract method `toSVGPath` must be implemented.")}get box(){me("Abstract getter `box` must be implemented.")}serialize(t,e){me("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*r,l[u+1]=n+t[u+1]*o;return l}static _rescaleAndSwap(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*r,l[u+1]=n+t[u]*o;return l}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o],r[o+1]=n+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,o){switch(o){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,o,l){return[(t+5*n)/6,(e+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}class Rr{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#h;#d;#f=[];static#g=8;static#p=2;static#u=Rr.#g+Rr.#p;constructor({x:t,y:e},n,r,o,l,u=0){this.#t=n,this.#d=o*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Rr.#g*r,this.#c=Rr.#u*r,this.#h=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#m(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,r,o,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-r)/l,(this.#r+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,r,o,l]=this.#t;let[u,d,f,p]=this.#s.subarray(8,12);const g=t-f,v=e-p,_=Math.hypot(g,v);if(_<this.#c)return!1;const w=_-this.#l,b=w/_,E=b*g,A=b*v;let C=u,M=d;u=f,d=p,f+=E,p+=A,this.#f?.push(t,e);const F=-A/w,T=E/w,D=F*this.#d,k=T*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+D,p+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-D,p-k],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([u+D,d+k],2),this.#a.push(NaN,NaN,NaN,NaN,(u+D-n)/o,(d+k-r)/l),this.#s.set([u-D,d-k],14),this.#e.push(NaN,NaN,NaN,NaN,(u-D-n)/o,(d-k-r)/l)),this.#s.set([C,M,u,d,f,p],6),!this.isEmpty()):(this.#s.set([C,M,u,d,f,p],6),Math.abs(Math.atan2(M-d,C-u)-Math.atan2(A,E))<Math.PI/2?([u,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+f)/2-n)/o,((d+p)/2-r)/l),[u,d,C,M]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+u)/2-n)/o,((M+d)/2-r)/l),!0):([C,M,u,d,f,p]=this.#s.subarray(0,6),this.#a.push(((C+5*u)/6-n)/o,((M+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),[f,p,u,d,C,M]=this.#s.subarray(12,18),this.#e.push(((C+5*u)/6-n)/o,((M+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#v(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[o,l,u,d]=this.#m();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/r} L${o} ${l} L${u} ${d} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,n,r,o]=this.#t,l=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,p,g]=this.#m();t.push(`L${(l[0]-e)/r} ${(l[1]-n)/o} L${d} ${f} L${p} ${g} L${(u[0]-e)/r} ${(u[1]-n)/o}`)}newFreeDrawOutline(t,e,n,r,o,l){return new K1(t,e,n,r,o,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[r,o,l,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let g=0,v=d.length-2;g<v;g+=2)d[g]=(this.#f[g]-r)/l,d[g+1]=(this.#f[g+1]-o)/u;if(d[d.length-2]=(this.#r-r)/l,d[d.length-1]=(this.#o-o)/u,isNaN(n[6])&&!this.isEmpty())return this.#E(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let g=0;g<p;g+=2){if(isNaN(t[g])){f[g]=f[g+1]=NaN;continue}f[g]=t[g],f[g+1]=t[g+1]}p=this.#_(f,p);for(let g=e.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(e[g+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[g+v],f[p+1]=e[g+v+1],p+=2}return this.#A(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#h,this.#i,this.#n)}#E(t){const e=this.#s,[n,r,o,l]=this.#t,[u,d,f,p]=this.#m(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-r)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-r)/l],0),this.newFreeDrawOutline(g,t,this.#t,this.#h,this.#i,this.#n)}#A(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#_(t,e){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,l,u,d]=this.#t,[f,p,g,v]=this.#m();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/d],e),e+=24}}class K1 extends wt{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,r,o,l){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=r,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#e;for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-u)/f,t[g+1]=(t[g+1]-d)/p;for(let g=0,v=e.length;g<v;g+=2)e[g]=(e[g]-u)/f,e[g+1]=(e[g+1]-d)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],o){const l=n-t,u=r-e;let d,f;switch(o){case 0:d=wt._rescale(this.#r,t,r,l,-u),f=wt._rescale(this.#a,t,r,l,-u);break;case 90:d=wt._rescaleAndSwap(this.#r,t,e,l,u),f=wt._rescaleAndSwap(this.#a,t,e,l,u);break;case 180:d=wt._rescale(this.#r,n,e,-l,u),f=wt._rescale(this.#a,n,e,-l,u);break;case 270:d=wt._rescaleAndSwap(this.#r,n,r,-l,-u),f=wt._rescaleAndSwap(this.#a,n,r,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#r;let n=e[4],r=e[5];const o=[n,r,n,r];let l=n,u=r,d=n,f=r;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let _=6,w=e.length;_<w;_+=6){const b=e[_+4],E=e[_+5];isNaN(e[_])?(At.pointBoundingBox(b,E,o),u>E?(l=b,u=E):u===E&&(l=p(l,b)),f<E?(d=b,f=E):f===E&&(d=p(d,b))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,At.bezierBoundingBox(n,r,...e.slice(_,_+6),g),At.rectBoundingBox(g[0],g[1],g[2],g[3],o),u>g[1]?(l=g[0],u=g[1]):u===g[1]&&(l=p(l,g[0])),f<g[3]?(d=g[2],f=g[3]):f===g[3]&&(d=p(d,g[2]))),n=b,r=E}const v=this.#e;v[0]=o[0]-this.#i,v[1]=o[1]-this.#i,v[2]=o[2]-o[0]+2*this.#i,v[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,n,r,o,l=0){return new Rr(t,e,n,r,o,l)}getNewOutline(t,e){const[n,r,o,l]=this.#e,[u,d,f,p]=this.#t,g=o*f,v=l*p,_=n*f+u,w=r*p+d,b=this.newOutliner({x:this.#a[0]*g+_,y:this.#a[1]*v+w},this.#t,this.#s,t,this.#n,e??this.#i);for(let E=2;E<this.#a.length;E+=2)b.add({x:this.#a[E]*g+_,y:this.#a[E+1]*v+w});return b.getOutlines()}}class Sm{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:b,y:E,width:A,height:C}of t){const M=Math.floor((b-e)/l)*l,F=Math.ceil((b+A+e)/l)*l,T=Math.floor((E-e)/l)*l,D=Math.ceil((E+C+e)/l)*l,k=[M,T,D,!0],N=[F,T,D,!1];this.#n.push(k,N),At.rectBoundingBox(M,T,F,D,o)}const u=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n;let g=r?-1/0:1/0,v=1/0;const _=this.#n.at(r?-1:-2),w=[_[0],_[2]];for(const b of this.#n){const[E,A,C,M]=b;!M&&r?A<v?(v=A,g=E):A===v&&(g=Math.max(g,E)):M&&!r&&(A<v?(v=A,g=E):A===v&&(g=Math.min(g,E))),b[0]=(E-f)/u,b[1]=(A-p)/d,b[2]=(C-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[g,v],this.#i=w}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,d,f,p,g]=l;n.delete(l);let v=u,_=d;for(o=[u,f],r.push(o);;){let w;if(n.has(p))w=p;else if(n.has(g))w=g;else break;n.delete(w),[u,d,f,p,g]=w,v!==u&&(o.push(v,_,u,_===d?d:f),v=u),_=_===d?f:d}o.push(v,_)}return new uj(r,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,r=e.length-1;for(;n<=r;){const o=n+r>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:r=o-1}return r+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#c([,t,e]){const n=this.#r(t);for(let r=n;r<this.#a.length;r++){const[o,l]=this.#a[r];if(o!==t)break;if(o===t&&l===e){this.#a.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=this.#a[r];if(o!==t)break;if(o===t&&l===e){this.#a.splice(r,1);return}}}#l(t){const[e,n,r]=t,o=[[e,n,r]],l=this.#r(r);for(let u=0;u<l;u++){const[d,f]=this.#a[u];for(let p=0,g=o.length;p<g;p++){const[,v,_]=o[p];if(!(f<=v||_<=d)){if(v>=d){if(_>f)o[p][1]=f;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=d,_>f&&o.push([e,f,_])}}}return o}}class uj extends wt{#t;#e;constructor(t,e,n,r){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let o=2;o<e.length;o+=2){const l=e[o],u=e[o+1];l===n?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],o){const l=[],u=n-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let g=0;g<f.length;g+=2)p[g]=t+f[g]*u,p[g+1]=r-f[g+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class wm extends Rr{newFreeDrawOutline(t,e,n,r,o,l){return new dj(t,e,n,r,o,l)}}class dj extends K1{newOutliner(t,e,n,r,o,l=0){return new wm(t,e,n,r,o,l)}}class Le extends Dt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ut.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Le.prototype;return Gt(this,"_keyboardManager",new Jl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Le._defaultColor,this.#m=t.thickness||Le._defaultThickness,this.opacity=t.opacity||Le._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#d=!0,this.#v(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new Sm(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Sm(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#h=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:Le.#x(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Le.#x(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[o,l,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[g,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*v/g,this.height=d*g/v;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[g,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*v/g,this.height=d*g/v;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-l)/d];const{lastPoint:p}=this.#s;this.#g=[(p[0]-o)/u,(p[1]-l)/d]}static initialize(t,e){Dt.initialize(t,e),Le._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Qt.HIGHLIGHT_COLOR:Le._defaultColor=e;break;case Qt.HIGHLIGHT_THICKNESS:Le._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Qt.HIGHLIGHT_COLOR:this.#E(e);break;case Qt.HIGHLIGHT_THICKNESS:this.#A(e);break}}static get defaultPropertiesToUpdate(){return[[Qt.HIGHLIGHT_COLOR,Le._defaultColor],[Qt.HIGHLIGHT_THICKNESS,Le._defaultThickness]]}get propertiesToUpdate(){return[[Qt.HIGHLIGHT_COLOR,this.color||Le._defaultColor],[Qt.HIGHLIGHT_THICKNESS,this.#m||Le._defaultThickness],[Qt.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,Le._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#A(t){const e=this.#m,n=r=>{this.#m=r,this.#_(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Hn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#O())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){this.#d&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#w(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#x([t,e,n,r],o){switch(o){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#d?(t=(t-this.rotation+360)%360,n=Le.#x(this.#l.box,t)):n=Le.#x([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:Le.#x(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),E1(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#M(t){Le._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#R(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#O(){return this.#d?this.rotation:0}#B(){if(this.#d)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:g}of o){const v=d*t+n,_=(1-f)*e+r;l[u]=l[u+4]=v,l[u+1]=l[u+3]=_,l[u+2]=l[u+6]=v+p*t,l[u+5]=l[u+7]=_-g*e,u+=8}return l}#D(t){return this.#l.serialize(t,this.#O())}static startHighlighting(t,e,{target:n,x:r,y:o}){const{x:l,y:u,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),v=_=>{p.abort(),this.#F(t,_)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Ee,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",Gn,{signal:g}),n.addEventListener("pointermove",this.#N.bind(this,t),{signal:g}),this._freeHighlight=new wm({x:r,y:o},[l,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof X1){const{data:{quadPoints:w,rect:b,rotation:E,id:A,color:C,opacity:M,popupRef:F,richText:T,contentsObj:D,creationDate:k,modificationDate:N},parent:{page:{pageNumber:j}}}=t;r=t={annotationType:Ut.HIGHLIGHT,color:Array.from(C),opacity:M,quadPoints:w,boxes:null,pageIndex:j-1,rect:b.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,popupRef:F,richText:T,comment:D?.str||null,creationDate:k,modificationDate:N}}else if(t instanceof pg){const{data:{inkLists:w,rect:b,rotation:E,id:A,color:C,borderStyle:{rawWidth:M},popupRef:F,richText:T,contentsObj:D,creationDate:k,modificationDate:N},parent:{page:{pageNumber:j}}}=t;r=t={annotationType:Ut.HIGHLIGHT,color:Array.from(C),thickness:M,inkLists:w,boxes:null,pageIndex:j-1,rect:b.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,popupRef:F,richText:T,comment:D?.str||null,creationDate:k,modificationDate:N}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,n);f.color=At.makeHexColor(...o),f.opacity=d||1,u&&(f.#m=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[p,g]=f.pageDimensions,[v,_]=f.pageTranslation;if(l){const w=f.#i=[];for(let b=0;b<l.length;b+=8)w.push({x:(l[b]-v)/p,y:1-(l[b+1]-_)/g,width:(l[b+2]-l[b])/p,height:(l[b+1]-l[b+5])/g});f.#b(),f.#w(),f.rotate(f.rotation)}else if(u){f.#d=!0;const w=u[0],b={x:w[0]-v,y:g-(w[1]-_)},E=new wm(b,[0,0,p,g],1,f.#m/2,!0,.001);for(let M=0,F=w.length;M<F;M+=2)b.x=w[M]-v,b.y=g-(w[M+1]-_),E.add(b);const{id:A,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);f.#v({highlightOutlines:E.getOutlines(),highlightId:A,clipPathId:C}),f.#w(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Dt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#m,quadPoints:this.#B(),outlines:this.#D(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class Q1{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){me("Not implemented")}}class Pt extends Dt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#r=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#u(t.box)}#h(t,e){const{id:n}=e.drawLayer.draw(Pt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))n.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){me("Not implemented")}static get typesMap(){me("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(Pt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,o=r[e],l=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#d()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#g([t,e,n,r]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[e,1-t,n*(l/o),r*(o/l)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(l/o),r*(o/l)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-e,t,n*(o/l),r*(l/o)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(o/l),r*(l/o)];default:return[t,e,n,r]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:t,y:e,width:n,height:r,rotation:o,parentRotation:l,parentDimensions:[u,d]}=this;switch((o*4+l)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(u/d),r*(d/u),n*(u/d)];case 5:return[1-e,t,n*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),n*(u/d)];case 7:return[e-n*(u/d),1-t-r*(d/u),n*(u/d),r*(d/u)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(d/u),e,r*(d/u),n*(u/d)];case 13:return[1-e-n*(u/d),t-r*(d/u),n*(u/d),r*(d/u)];case 14:return[1-t,1-e-n*(u/d),r*(d/u),n*(u/d)];case 15:return[e,1-t,n*(u/d),r*(d/u)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,o){me("Not implemented")}static startDrawing(t,e,n,r){const{target:o,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=r;if(Pt.#r&&Pt.#r!==f)return;const{viewport:{rotation:p}}=t,{width:g,height:v}=o.getBoundingClientRect(),_=Pt.#n=new AbortController,w=t.combinedSignal(_);if(Pt.#s||=d,Pt.#r??=f,window.addEventListener("pointerup",b=>{Pt.#s===b.pointerId?this._endDraw(b):Pt.#o?.delete(b.pointerId)},{signal:w}),window.addEventListener("pointercancel",b=>{Pt.#s===b.pointerId?this._currentParent.endDrawingSession():Pt.#o?.delete(b.pointerId)},{signal:w}),window.addEventListener("pointerdown",b=>{Pt.#r===b.pointerType&&((Pt.#o||=new Set).add(b.pointerId),Pt.#i.isCancellable()&&(Pt.#i.removeLastElement(),Pt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Gn,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",b=>{b.timeStamp===Pt.#c&&Ee(b)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),Pt.#i){t.drawLayer.updateProperties(this._currentDrawId,Pt.#i.startNew(l,u,g,v,p));return}e.updateUIForDefaultProperties(this),Pt.#i=this.createDrawerInstance(l,u,g,v,p),Pt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Pt.#a.toSVGProperties(),Pt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Pt.#c=-1,!Pt.#i)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(Pt.#s===r){if(Pt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Pt.#i.add(e,n)),Pt.#c=t.timeStamp,Ee(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Pt.#i=null,Pt.#a=null,Pt.#r=null,Pt.#c=NaN),Pt.#n&&(Pt.#n.abort(),Pt.#n=null,Pt.#s=NaN,Pt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Pt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=Pt.#i,r=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Qt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Qt.DRAW_STEP),!Pt.#i.isEmpty()){const{pageDimensions:[n,r],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Pt.#i.getOutlines(n*o,r*o,o,this._INNER_MARGIN),drawingOptions:Pt.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,o,l){me("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:u}}=e.viewport,d=this.deserializeDraw(l,u,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,n,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class hj{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new nc;#l;#h;constructor(t,e,n,r,o,l){this.#l=n,this.#h=r,this.#n=o,this.#a=l,[t,e]=this.#d(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#d(t,e){return wt._normalizePoint(t,e,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#d(t,e);const[n,r,o,l]=this.#t.subarray(2,6),u=t-o,d=e-l;return Math.hypot(this.#l*u,this.#h*d)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,o,l,t,e],0),this.#e.push(...wt.createBezierPoints(n,r,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,o){this.#l=n,this.#h=r,this.#n=o,[t,e]=this.#d(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:r}=this.#i[t];this.#e=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=wt.svgRound(this.#e[4]),e=wt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=wt.svgRound(this.#e[10]),o=wt.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${r} ${o}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,o=this.#e.length;r<o;r+=6){const[l,u,d,f,p,g]=this.#e.slice(r,r+6).map(wt.svgRound);n.push(`C${l} ${u} ${d} ${f} ${p} ${g}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,r){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#a,r),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class nc extends wt{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,e,n,r,o,l,u){this.#a=e,this.#s=n,this.#r=r,this.#o=o,this.#c=l,this.#i=u??0,this.#n=t,this.#d()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${wt.svgRound(e[4])} ${wt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${wt.svgRound(e[10])} ${wt.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[o,l,u,d,f,p]=e.subarray(n,n+6).map(wt.svgRound);t.push(`C${o} ${l} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,r],o){const l=[],u=[],[d,f,p,g]=this.#h();let v,_,w,b,E,A,C,M,F;switch(this.#o){case 0:F=wt._rescale,v=t,_=e+r,w=n,b=-r,E=t+d*n,A=e+(1-f-g)*r,C=t+(d+p)*n,M=e+(1-f)*r;break;case 90:F=wt._rescaleAndSwap,v=t,_=e,w=n,b=r,E=t+f*n,A=e+d*r,C=t+(f+g)*n,M=e+(d+p)*r;break;case 180:F=wt._rescale,v=t+n,_=e,w=-n,b=r,E=t+(1-d-p)*n,A=e+f*r,C=t+(1-d)*n,M=e+(f+g)*r;break;case 270:F=wt._rescaleAndSwap,v=t+n,_=e+r,w=-n,b=-r,E=t+(1-f-g)*n,A=e+(1-d-p)*r,C=t+(1-f)*n,M=e+(1-d)*r;break}for(const{line:T,points:D}of this.#n)l.push(F(T,v,_,w,b,o?new Array(T.length):null)),u.push(F(D,v,_,w,b,o?new Array(D.length):null));return{lines:l,points:u,rect:[E,A,C,M]}}static deserialize(t,e,n,r,o,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let g,v,_,w,b;switch(d){case 0:b=wt._rescale,g=-t/n,v=e/r+1,_=1/n,w=-1/r;break;case 90:b=wt._rescaleAndSwap,g=-e/r,v=-t/n,_=1/r,w=1/n;break;case 180:b=wt._rescale,g=t/n+1,v=-e/r,_=-1/n,w=1/r;break;case 270:b=wt._rescaleAndSwap,g=e/r+1,v=t/n+1,_=-1/r,w=-1/n;break}if(!l){l=[];for(const A of u){const C=A.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const M=new Float32Array(3*(C-2));l.push(M);let[F,T,D,k]=A.subarray(0,4);M.set([NaN,NaN,NaN,NaN,F,T],0);for(let N=4;N<C;N+=2){const j=A[N],L=A[N+1];M.set(wt.createBezierPoints(F,T,D,k,j,L),(N-2)*3),[F,T,D,k]=[D,k,j,L]}}}for(let A=0,C=l.length;A<C;A++)p.push({line:b(l[A].map(M=>M??NaN),g,v,_,w),points:b(u[A].map(M=>M??NaN),g,v,_,w)});const E=new this.prototype.constructor;return E.build(p,n,r,1,d,f,o),E}#l(t=this.#c){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#h(){const[t,e,n,r]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,r-2*l]}#d(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)At.pointBoundingBox(r[u],r[u+1],t);continue}let o=r[4],l=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,g,v,_,w]=r.subarray(u,u+6);At.bezierBoundingBox(o,l,f,p,g,v,_,w,t),o=_,l=w}}const[e,n]=this.#l();t[0]=un(t[0]-e,0,1),t[1]=un(t[1]-n,0,1),t[2]=un(t[2]+e,0,1),t[3]=un(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[r,o]=this.#l(),[l,u]=[r-e,o-n],d=this.#t;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([t,e],n){const[r,o]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[l,u]=this.#l(),d=l-r,f=u-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(wt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,o=0,l=0,u=0,d=0;switch(this.#e){case 90:r=e/t,o=-t/e,u=t;break;case 180:n=-1,l=-1,u=t,d=e;break;case 270:r=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${n} ${r} ${o} ${l} ${wt.svgRound(u)} ${wt.svgRound(d)})`}getPathResizingSVGProperties([t,e,n,r]){const[o,l]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-o)<=wt.PRECISION||Math.abs(p-l)<=wt.PRECISION){const b=t+n/2-(u+f/2),E=e+r/2-(d+p/2);return{path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${b} ${E})`}}}const g=(n-2*o)/(f-2*o),v=(r-2*l)/(p-2*l),_=f/n,w=p/r;return{path:{"transform-origin":`${wt.svgRound(u)} ${wt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${_} ${w}) translate(${wt.svgRound(o)} ${wt.svgRound(l)}) scale(${g} ${v}) translate(${wt.svgRound(-o)} ${wt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[o,l]=this.#l(),u=this.#t,[d,f,p,g]=u;if(u[0]=t,u[1]=e,u[2]=n,u[3]=r,Math.abs(p-o)<=wt.PRECISION||Math.abs(g-l)<=wt.PRECISION){const E=t+n/2-(d+p/2),A=e+r/2-(f+g/2);for(const{line:C,points:M}of this.#n)wt._translate(C,E,A,C),wt._translate(M,E,A,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(n-2*o)/(p-2*o),_=(r-2*l)/(g-2*l),w=-v*(d+o)+t+o,b=-_*(f+l)+e+l;if(v!==1||_!==1||w!==0||b!==0)for(const{line:E,points:A}of this.#n)wt._rescale(E,w,b,v,_,E),wt._rescale(A,w,b,v,_,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,o]=n,l=this.#t,u=t-l[0],d=e-l[1];if(this.#a===r&&this.#s===o)for(const{line:f,points:p}of this.#n)wt._translate(f,u,d,f),wt._translate(p,u,d,p);else{const f=this.#a/r,p=this.#s/o;this.#a=r,this.#s=o;for(const{line:g,points:v}of this.#n)wt._rescale(g,u,d,f,p,g),wt._rescale(v,u,d,f,p,v);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t[0])} ${wt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class zd extends Q1{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Dt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new zd(this._viewParameters);return t.updateAll(this),t}}class gg extends Pt{static _type="ink";static _editorType=Ut.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Dt.initialize(t,e),this._defaultDrawingOptions=new zd(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Gt(this,"typesMap",new Map([[Qt.INK_THICKNESS,"stroke-width"],[Qt.INK_COLOR,"stroke"],[Qt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,o){return new hj(t,e,n,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,o,l){return nc.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){let r=null;if(t instanceof pg){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:g,borderStyle:{rawWidth:v},popupRef:_,richText:w,contentsObj:b,creationDate:E,modificationDate:A},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:Ut.INK,color:Array.from(p),thickness:v,opacity:g,paths:{points:l},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:_,richText:w,comment:b?.str||null,creationDate:E,modificationDate:A}}const o=await super.deserialize(t,e,n);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Pl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Qt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=gg.getDefaultDrawingOptions({stroke:At.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:Dt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==n||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Am extends nc{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Nu=8,hl=3;class xr{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,g=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+g)*e+(r+v)]!==0)return p}return-1}static#a(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,g=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+g)*e+(r+v)]!==0)return p}return-1}static#s(t,e,n,r){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let u=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let g=1;g<e-1;g++){const v=p*e+g,_=l[v];if(_===0)continue;let w=p,b=g;if(_===1&&l[v-1]===0)u+=1,b-=1;else if(_>=1&&l[v+1]===0)u+=1,b+=1,_>1&&(d=_);else{_!==1&&(d=Math.abs(_));continue}const E=[g,p],A=b===g+1,C={isHole:A,points:E,id:u,parent:0};f.push(C);let M;for(const I of f)if(I.id===d){M=I;break}M?M.isHole?C.parent=A?M.parent:d:C.parent=A?d:M.parent:C.parent=A?d:0;const F=this.#n(l,e,p,g,w,b,0);if(F===-1){l[v]=-u,l[v]!==1&&(d=Math.abs(l[v]));continue}let T=this.#i[2*F],D=this.#i[2*F+1];const k=p+T,N=g+D;w=k,b=N;let j=p,L=g;for(;;){const I=this.#a(l,e,j,L,w,b,1);T=this.#i[2*I],D=this.#i[2*I+1];const X=j+T,H=L+D;E.push(H,X);const Y=j*e+L;if(l[Y+1]===0?l[Y]=-u:l[Y]===1&&(l[Y]=u),X===p&&H===g&&j===k&&L===N){l[v]!==1&&(d=Math.abs(l[v]));break}else w=j,b=L,j=X,L=H}}}return f}static#r(t,e,n,r){if(n-e<=4){for(let k=e;k<n-2;k+=2)r.push(t[k],t[k+1]);return}const o=t[e],l=t[e+1],u=t[n-4]-o,d=t[n-3]-l,f=Math.hypot(u,d),p=u/f,g=d/f,v=p*l-g*o,_=d/u,w=1/f,b=Math.atan(_),E=Math.cos(b),A=Math.sin(b),C=w*(Math.abs(E)+Math.abs(A)),M=w*(1-C+C**2),F=Math.max(Math.atan(Math.abs(A+E)*M),Math.atan(Math.abs(A-E)*M));let T=0,D=e;for(let k=e+2;k<n-2;k+=2){const N=Math.abs(v-p*t[k+1]+g*t[k]);N>T&&(D=k,T=N)}T>(f*F)**2?(this.#r(t,e,D+2,r),this.#r(t,D,n,r)):r.push(o,l)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,r,o,l){const u=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let b=0;b<l;b++){const E=(b-f)**2;for(let A=0;A<l;A++)u[b*l+A]=Math.exp((E+(A-f)**2)/d)}const p=new Float32Array(256),g=-2*o**2;for(let b=0;b<256;b++)p[b]=Math.exp(b**2/g);const v=t.length,_=new Uint8Array(v),w=new Uint32Array(256);for(let b=0;b<n;b++)for(let E=0;E<e;E++){const A=b*e+E,C=t[A];let M=0,F=0;for(let D=0;D<l;D++){const k=b+D-f;if(!(k<0||k>=n))for(let N=0;N<l;N++){const j=E+N-f;if(j<0||j>=e)continue;const L=t[k*e+j],I=u[D*l+N]*p[Math.abs(L-C)];M+=L*I,F+=I}}const T=_[A]=Math.round(M/F);w[T]++}return[_,w]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#h(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let u=0,d=n.length;u<d;u++){const f=n[u]=t[u<<2];r=Math.max(r,f),o=Math.min(o,f)}const l=255/(r-o);for(let u=0,d=n.length;u<d;u++)n[u]=(n[u]-o)*l;return n}static#d(t){let e,n=-1/0,r=-1/0;const o=t.findIndex(d=>d!==0);let l=o,u=o;for(e=o;e<256;e++){const d=t[e];d>n&&(e-l>r&&(r=e-l,u=e-1),n=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:o}=this.#t;let l=n,u=r;if(n>o||r>o){let v=n,_=r,w=Math.log2(Math.max(n,r)/o);const b=Math.floor(w);w=w===b?b-1:b;for(let A=0;A<w;A++){l=Math.ceil(v/2),u=Math.ceil(_/2);const C=new OffscreenCanvas(l,u);C.getContext("2d").drawImage(t,0,0,v,_,0,0,l,u),v=l,_=u,t!==e&&t.close(),t=C.transferToImageBitmap()}const E=Math.min(o/l,o/u);l=Math.round(l*E),u=Math.round(u*E)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#h(p),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},o,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const g=200,v=p.font=`${n} ${r} ${g}px ${e}`,{actualBoundingBoxLeft:_,actualBoundingBoxRight:w,actualBoundingBoxAscent:b,actualBoundingBoxDescent:E,fontBoundingBoxAscent:A,fontBoundingBoxDescent:C,width:M}=p.measureText(t),F=1.5,T=Math.ceil(Math.max(Math.abs(_)+Math.abs(w)||0,M)*F),D=Math.ceil(Math.max(Math.abs(b)+Math.abs(E)||g,Math.abs(A)+Math.abs(C)||g)*F);f=new OffscreenCanvas(T,D),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,T,D),p.fillStyle="black",p.fillText(t,T*(F-1)/2,D*(3-F)/2);const k=this.#h(p.getImageData(0,0,T,D).data),N=this.#l(k),j=this.#d(N),L=this.#s(k,T,D,j);return this.processDrawnLines({lines:{curves:L,width:T,height:D},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,o){const[l,u,d]=this.#f(t),[f,p]=this.#c(l,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#d(p),v=this.#s(f,u,d,g);return this.processDrawnLines({lines:{curves:v,width:u,height:d},pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:u}){r%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,g=t.thickness??0,v=[],_=Math.min(e/f,n/p),w=_/e,b=_/n,E=[];for(const{points:C}of d){const M=l?this.#o(C):C;if(!M)continue;E.push(M);const F=M.length,T=new Float32Array(F),D=new Float32Array(3*(F===2?2:F-2));if(v.push({line:D,points:T}),F===2){T[0]=M[0]*w,T[1]=M[1]*b,D.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[k,N,j,L]=M;k*=w,N*=b,j*=w,L*=b,T.set([k,N,j,L],0),D.set([NaN,NaN,NaN,NaN,k,N],0);for(let I=4;I<F;I+=2){const X=T[I]=M[I]*w,H=T[I+1]=M[I+1]*b;D.set(wt.createBezierPoints(k,N,j,L,X,H),(I-2)*3),[k,N,j,L]=[j,L,X,H]}}if(v.length===0)return null;const A=u?new Am:new nc;return A.build(v,e,n,1,r,u?0:g,o),{outline:A,newCurves:E,areContours:u,thickness:g,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:o}){let l=1/0,u=-1/0,d=0;for(const M of t){d+=M.length;for(let F=2,T=M.length;F<T;F++){const D=M[F]-M[F-2];l=Math.min(l,D),u=Math.max(u,D)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,g=Nu+hl*p,v=new Uint32Array(g);let _=0;v[_++]=g*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,v[_++]=0,v[_++]=r,v[_++]=o,v[_++]=e?0:1,v[_++]=Math.max(0,Math.floor(n??0)),v[_++]=p,v[_++]=f.BYTES_PER_ELEMENT;for(const M of t)v[_++]=M.length-2,v[_++]=M[0],v[_++]=M[1];const w=new CompressionStream("deflate-raw"),b=w.writable.getWriter();await b.ready,b.write(v);const E=f.prototype.constructor;for(const M of t){const F=new E(M.length-2);for(let T=2,D=M.length;T<D;T++)F[T-2]=M[T]-M[T-2];b.write(F)}b.close();const A=await new Response(w.readable).arrayBuffer(),C=new Uint8Array(A);return v1(C)}static async decompressSignature(t){try{const e=BP(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const M of n)l||=new Uint8Array(new Uint32Array(M.buffer,0,4)[0]),l.set(M,u),u+=M.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],g=d[3],v=d[4]===0,_=d[5],w=d[6],b=d[7],E=[],A=(Nu+hl*w)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(b){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(l.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(l.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(l.buffer,A);break}u=0;for(let M=0;M<w;M++){const F=d[hl*M+Nu],T=new Float32Array(F+2);E.push(T);for(let D=0;D<hl-1;D++)T[D]=d[hl*M+Nu+D+1];for(let D=0;D<F;D++)T[D+2]=T[D]+C[u++]}return{areContours:v,thickness:_,outlines:E,width:p,height:g}}catch(e){return Ht(`decompressSignature: ${e}`),null}}}class yg extends Q1{constructor(){super(),super.updateProperties({fill:Dt._defaultLineColor,"stroke-width":0})}clone(){const t=new yg;return t.updateAll(this),t}}class vg extends zd{constructor(t){super(t),super.updateProperties({stroke:Dt._defaultLineColor,"stroke-width":1})}clone(){const t=new vg(this._viewParameters);return t.updateAll(this),t}}class Bi extends Pt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Ut.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Dt.initialize(t,e),this._defaultDrawingOptions=new yg,this._defaultDrawnSignatureOptions=new vg(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Gt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:o,areContours:l,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:g},rotation:v}=this.parent.viewport,_=xr.processDrawnLines({lines:r,pageWidth:p,pageHeight:g,rotation:v,innerMargin:Bi._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(_,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:o}=this.#i,l=Math.max(r,o),u=xr.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:n,width:r,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:o,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof Am,this.description=n;let d;this.#t?d=Bi.getDefaultDrawingOptions():(d=Bi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return xr.process(t,e,n,r,Bi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return xr.extractContoursFromText(t,e,n,r,o,Bi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return xr.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:Bi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Bi.getDefaultDrawingOptions():(this._drawingOptions=Bi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,r,o,l){return l.areContours?Am.deserialize(t,e,n,r,o,l):nc.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class fj extends Dt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ut.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Dt.initialize(t,e)}static isHandlingMimeForPasting(t){return fd.includes(t)}static paste(t,e){e.pasteEditor({mode:Ut.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#d(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#d(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#d(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#d(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=fd.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,n=this.height*o;else if(e>l*r||n>l*o){const d=Math.min(l*r/e,l*o/n);e*=d,n*=d}this._uiManager.enableWaiting(!1);const u=this.#r=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:o}=this.#t,l=new _i;let u=this.#t,d=r,f=o,p=null;if(e){if(r>e||o>e){const D=Math.min(e/r,e/o);d=Math.floor(r*D),f=Math.floor(o*D)}p=document.createElement("canvas");const v=p.width=Math.ceil(d*l.sx),_=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(v,_));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let b="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":zP.isDarkMode&&(b="#8f8f9d",E="#42414d");const A=15,C=A*l.sx,M=A*l.sy,F=new OffscreenCanvas(C*2,M*2),T=F.getContext("2d");T.fillStyle=b,T.fillRect(0,0,C*2,M*2),T.fillStyle=E,T.fillRect(0,0,C,M),T.fillRect(C,M,C,M),w.fillStyle=w.createPattern(F,"repeat"),w.fillRect(0,0,v,_),w.drawImage(u,0,0,u.width,u.height,0,0,v,_)}let g=null;if(n){let v,_;if(l.symmetric&&u.width<t&&u.height<t)v=u.width,_=u.height;else if(u=this.#t,r>t||o>t){const E=Math.min(t/r,t/o);v=Math.floor(r*E),_=Math.floor(o*E),this.#l||(u=this.#u(v,_))}const b=new OffscreenCanvas(v,_).getContext("2d",{willReadFrequently:!0});b.drawImage(u,0,0,u.width,u.height,0,0,v,_),g={width:v,height:_,data:b.getImageData(0,0,v,_).data}}return{canvas:p,width:d,height:f,imageData:g}}#u(t,e){const{width:n,height:r}=this.#t;let o=n,l=r,u=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=p.transferToImageBitmap()}return u}#m(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,o=new _i,l=Math.ceil(n*t*o.sx),u=Math.ceil(r*e*o.sy),d=this.#r;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#t:this.#u(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*Fr.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*Fr.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,o=!1;if(t instanceof Y1){const{data:{rect:b,rotation:E,id:A,structParent:C,popupRef:M,richText:F,contentsObj:T,creationDate:D,modificationDate:k},container:N,parent:{page:{pageNumber:j}},canvas:L}=t;let I,X;L?(delete t.canvas,{id:I,bitmap:X}=n.imageManager.getFromCanvas(N.id,L),L.remove()):(o=!0,t._hasNoCanvas=!0);const H=(await e._structTree.getAriaAttributes(`${tg}${A}`))?.get("aria-label")||"";r=t={annotationType:Ut.STAMP,bitmapId:I,bitmap:X,pageIndex:j-1,rect:b.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:C,popupRef:M,richText:F,comment:T?.str||null,creationDate:D,modificationDate:k}}const l=await super.deserialize(t,e,n),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:g,accessibilityData:v}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=f,l.#l=g;const[_,w]=l.pageDimensions;return l.width=(u[2]-u[0])/_,l.height=(u[3]-u[1])/w,v&&(l.altTextData=v),l._initialData=r,t.comment&&l.setCommentData(t),l.#h=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(n);return u.isSame?null:(u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Ui{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([We,gg,fj,Le,Bi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const g=[...Ui.#m.values()];if(!Ui._initialized){Ui._initialized=!0;for(const v of g)v.initialize(p,t)}t.registerEditorTypes(g),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=f,this.#d=d,this.drawLayer=u,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ut.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#_(),t){case Ut.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ut.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ut.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Ut.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of Ui.#m.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#d?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const n=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:u,timeStamp:d}=r,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const _=new RegExp(`^${kl}[0-9]+$`);for(const b of g)if(_.test(b.id)){v=b.id;break}if(!v)return;const w=this.#s.get(v);w?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),w.dblclick(r))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=n.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of Ui.#m.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#d.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#d.div.contains(e)){const{isMac:n}=Qe.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),Le.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:t.x,y:t.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),Dt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return Ui.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#E(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#A(),o=this.getNextId(),l=this.#E({parent:this,id:o,x:n,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Ui.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),o=this.#E({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:t,y:e,width:n,height:r}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+r),f=(o+u)/2-t,p=(l+d)/2-e,[g,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:g,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#A(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Qe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===Ut.STAMP||n===Ut.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Ut.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=Qe.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#u.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#_(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ks(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#_();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Ks(this.div,{rotation:n}),e!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Ke{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Gt(this,"_svgFactory",new jl)}static#a(t,[e,n,r,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*o}%`}#s(){const t=Ke._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=Ke._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Ke._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#o(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=Ke.#n++,o=this.#s(),l=Ke._svgFactory.createElement("defs");o.append(l);const u=Ke._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=n?this.#r(l,d):null,p=Ke._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=Ke.#n++,r=this.#s(),o=Ke._svgFactory.createElement("defs");r.append(o);const l=Ke._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const g=Ke._svgFactory.createElement("mask");o.append(g),d=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",d),g.setAttribute("maskUnits","objectBoundingBox");const v=Ke._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const _=Ke._svgFactory.createElement("use");g.append(_),_.setAttribute("href",`#${u}`),_.setAttribute("stroke","none"),_.setAttribute("fill","black"),_.setAttribute("fill-rule","nonzero"),_.classList.add("mask")}const f=Ke._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:o,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(n&&this.#o(u,n),r&&Ke.#a(u,r),o){const{classList:d}=u;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Sm};globalThis.pdfjsLib={AbortException:ys,AnnotationEditorLayer:Ui,AnnotationEditorParamsType:Qt,AnnotationEditorType:Ut,AnnotationEditorUIManager:vs,AnnotationLayer:mg,AnnotationMode:Hi,AnnotationType:De,applyOpacity:A1,build:V1,ColorPicker:Hn,createValidAbsoluteUrl:Qm,CSSConstants:w1,DOMSVGFactory:jl,DrawLayer:Ke,FeatureTest:Qe,fetchData:so,findContrastColor:x1,getDocument:cg,getFilenameFromUrl:b1,getPdfFilenameFromUrl:_1,getRGB:ro,getUuid:Jm,getXfaPageViewport:S1,GlobalWorkerOptions:Ys,ImageKind:El,InvalidPDFException:dd,isDataScheme:Zl,isPdfFile:Fd,isValidExplicitDest:R1,MathClamp:un,noContextMenu:Gn,normalizeUnicode:y1,OPS:Wa,OutputScale:_i,PasswordResponses:m1,PDFDataRangeTransport:dg,PDFDateString:hd,PDFWorker:Ka,PermissionFlag:p1,PixelsPerInch:Fr,RenderingCancelledException:Bd,renderRichText:ng,ResponseException:Dl,setLayerDimensions:Ks,shadow:Gt,SignatureExtractor:xr,stopEvent:Ee,SupportedImageMimeTypes:fd,TextLayer:Nl,TouchManager:tc,updateUrlHash:Zm,Util:At,VerbosityLevel:Wl,version:hg,XfaLayer:eg};const pj=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ys,AnnotationEditorLayer:Ui,AnnotationEditorParamsType:Qt,AnnotationEditorType:Ut,AnnotationEditorUIManager:vs,AnnotationLayer:mg,AnnotationMode:Hi,AnnotationType:De,CSSConstants:w1,ColorPicker:Hn,DOMSVGFactory:jl,DrawLayer:Ke,FeatureTest:Qe,GlobalWorkerOptions:Ys,ImageKind:El,InvalidPDFException:dd,MathClamp:un,OPS:Wa,OutputScale:_i,PDFDataRangeTransport:dg,PDFDateString:hd,PDFWorker:Ka,PasswordResponses:m1,PermissionFlag:p1,PixelsPerInch:Fr,RenderingCancelledException:Bd,ResponseException:Dl,SignatureExtractor:xr,SupportedImageMimeTypes:fd,TextLayer:Nl,TouchManager:tc,Util:At,VerbosityLevel:Wl,XfaLayer:eg,applyOpacity:A1,build:V1,createValidAbsoluteUrl:Qm,fetchData:so,findContrastColor:x1,getDocument:cg,getFilenameFromUrl:b1,getPdfFilenameFromUrl:_1,getRGB:ro,getUuid:Jm,getXfaPageViewport:S1,isDataScheme:Zl,isPdfFile:Fd,isValidExplicitDest:R1,noContextMenu:Gn,normalizeUnicode:y1,renderRichText:ng,setLayerDimensions:Ks,shadow:Gt,stopEvent:Ee,updateUrlHash:Zm,version:hg},Symbol.toStringTag,{value:"Module"}));var rS=Object.prototype.hasOwnProperty;function aS(s,t,e){for(e of s.keys())if(Va(e,t))return e}function Va(s,t){var e,n,r;if(s===t)return!0;if(s&&t&&(e=s.constructor)===t.constructor){if(e===Date)return s.getTime()===t.getTime();if(e===RegExp)return s.toString()===t.toString();if(e===Array){if((n=s.length)===t.length)for(;n--&&Va(s[n],t[n]););return n===-1}if(e===Set){if(s.size!==t.size)return!1;for(n of s)if(r=n,r&&typeof r=="object"&&(r=aS(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(s.size!==t.size)return!1;for(n of s)if(r=n[0],r&&typeof r=="object"&&(r=aS(t,r),!r)||!Va(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)s=new Uint8Array(s),t=new Uint8Array(t);else if(e===DataView){if((n=s.byteLength)===t.byteLength)for(;n--&&s.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(s)){if((n=s.byteLength)===t.byteLength)for(;n--&&s[n]===t[n];);return n===-1}if(!e||typeof s=="object"){n=0;for(e in s)if(rS.call(s,e)&&++n&&!rS.call(t,e)||!(e in t)||!Va(s[e],t[e]))return!1;return Object.keys(t).length===n}}return s!==s&&t!==t}function ic(s){let t=!1;return{promise:new Promise((n,r)=>{s.then(o=>!t&&n(o)).catch(o=>!t&&r(o))}),cancel(){t=!0}}}const mj=["onCopy","onCut","onPaste"],gj=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],yj=["onFocus","onBlur"],vj=["onInput","onInvalid","onReset","onSubmit"],bj=["onLoad","onError"],_j=["onKeyDown","onKeyPress","onKeyUp"],Sj=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],wj=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Aj=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],xj=["onSelect"],Ej=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Tj=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Cj=["onScroll"],Rj=["onWheel"],Oj=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Mj=["onTransitionEnd"],kj=["onToggle"],Dj=["onChange"],Lj=[...mj,...gj,...yj,...vj,...bj,..._j,...Sj,...wj,...Aj,...xj,...Ej,...Tj,...Cj,...Rj,...Oj,...Mj,...Dj,...kj];function Z1(s,t){const e={};for(const n of Lj){const r=s[n];r&&(t?e[n]=(o=>r(o,t(n))):e[n]=r)}return e}var Nj="Invariant failed";function pe(s,t){if(!s)throw new Error(Nj)}var Pp,oS;function Pj(){if(oS)return Pp;oS=1;var s=function(){};return Pp=s,Pp}var jj=Pj();const hn=vd(jj),J1=U.createContext(null),Bj="noopener noreferrer nofollow";class Fj{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return pe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){pe(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||Bj,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{pe(this.pdfDocument),pe(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{pe(Array.isArray(e));const n=e[0];new Promise(r=>{pe(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{pe(!1)}):typeof n=="number"?r(n):pe(!1)}).then(r=>{const o=r+1;pe(this.pdfViewer),pe(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}goToPage(t){const e=t-1;pe(this.pdfViewer),pe(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function $a({children:s,type:t}){return O.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:s})}const lS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Ij(s,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function Qa(){return U.useReducer(Ij,{value:void 0,error:void 0})}const Ud=typeof window<"u",tA=Ud&&window.location.protocol==="file:";function zj(s){return typeof s<"u"}function br(s){return zj(s)&&s!==null}function Uj(s){return typeof s=="string"}function Hj(s){return s instanceof ArrayBuffer}function Vj(s){return pe(Ud),s instanceof Blob}function xm(s){return Uj(s)&&/^data:/.test(s)}function cS(s){pe(xm(s));const[t="",e=""]=s.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function $j(){return Ud&&window.devicePixelRatio||1}const eA="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function uS(){hn(!tA,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${eA}`)}function qj(){hn(!tA,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${eA}`)}function zr(s){s?.cancel&&s.cancel()}function Em(s,t){return Object.defineProperty(s,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function Gj(s){return s.name==="RenderingCancelledException"}function Xj(s){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(s)})}const{PDFDataRangeTransport:Yj}=pj,Wj=(s,t)=>{switch(t){case lS.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");s(e);break}case lS.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");s(e);break}}};function dS(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const Kj=U.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:g,onLoadError:v,onLoadProgress:_,onLoadSuccess:w,onPassword:b=Wj,onSourceError:E,onSourceSuccess:A,options:C,renderMode:M,rotate:F,scale:T,...D},k){const[N,j]=Qa(),{value:L,error:I}=N,[X,H]=Qa(),{value:Y,error:K}=X,z=U.useRef(new Fj),x=U.useRef([]),st=U.useRef(void 0),V=U.useRef(void 0);l&&l!==st.current&&dS(l)&&(hn(!Va(l,st.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),st.current=l),C&&C!==V.current&&(hn(!Va(C,V.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),V.current=C);const S=U.useRef({scrollPageIntoView:bt=>{const{dest:_t,pageNumber:kt,pageIndex:Vt=kt-1}=bt;if(g){g({dest:_t,pageIndex:Vt,pageNumber:kt});return}const Ot=x.current[Vt];if(Ot){Ot.scrollIntoView();return}hn(!1,`An internal link leading to page ${kt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});U.useImperativeHandle(k,()=>({linkService:z,pages:x,viewer:S}),[]);function B(){A&&A()}function $(){I&&(hn(!1,I.toString()),E&&E(I))}function Q(){j({type:"RESET"})}U.useEffect(Q,[l,j]);const tt=U.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return xm(l)?{data:cS(l)}:(uS(),{url:l});if(l instanceof Yj)return{range:l};if(Hj(l))return{data:l};if(Ud&&Vj(l))return{data:await Xj(l)};if(pe(typeof l=="object"),pe(dS(l)),"url"in l&&typeof l.url=="string"){if(xm(l.url)){const{url:bt,..._t}=l;return{data:cS(bt),..._t}}uS()}return l},[l]);U.useEffect(()=>{const bt=ic(tt());return bt.promise.then(_t=>{j({type:"RESOLVE",value:_t})}).catch(_t=>{j({type:"REJECT",error:_t})}),()=>{zr(bt)}},[tt,j]),U.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){$();return}B()}},[L]);function ct(){Y&&(w&&w(Y),x.current=new Array(Y.numPages),z.current.setDocument(Y))}function at(){K&&(hn(!1,K.toString()),v&&v(K))}U.useEffect(function(){H({type:"RESET"})},[H,L]),U.useEffect(function(){if(!L)return;const _t=C?{...L,...C}:L,kt=cg(_t);_&&(kt.onProgress=_),b&&(kt.onPassword=b);const Vt=kt,Ot=Vt.promise.then(se=>{H({type:"RESOLVE",value:se})}).catch(se=>{Vt.destroyed||H({type:"REJECT",error:se})});return()=>{Ot.finally(()=>Vt.destroy())}},[C,H,L]),U.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){at();return}ct()}},[Y]),U.useEffect(function(){z.current.setViewer(S.current),z.current.setExternalLinkRel(r),z.current.setExternalLinkTarget(o)},[r,o]);const dt=U.useCallback((bt,_t)=>{x.current[bt]=_t},[]),yt=U.useCallback(bt=>{delete x.current[bt]},[]),xt=U.useMemo(()=>({imageResourcesPath:d,linkService:z.current,onItemClick:g,pdf:Y,registerPage:dt,renderMode:M,rotate:F,scale:T,unregisterPage:yt}),[d,g,Y,dt,M,F,T,yt]),St=U.useMemo(()=>Z1(D,()=>Y),[D,Y]);function It(){function bt(kt){return!!kt?.pdf}if(!bt(xt))throw new Error("pdf is undefined");const _t=typeof t=="function"?t(xt):t;return O.jsx(J1.Provider,{value:xt,children:_t})}function Ft(){return l?Y==null?O.jsx($a,{type:"loading",children:typeof f=="function"?f():f}):Y===!1?O.jsx($a,{type:"error",children:typeof n=="function"?n():n}):It():O.jsx($a,{type:"no-data",children:typeof p=="function"?p():p})}return O.jsx("div",{className:yi("react-pdf__Document",e),ref:u,...St,children:Ft()})});function nA(){return U.useContext(J1)}function iA(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];var e=s.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,u=e;l<u.length;l++){var d=u[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const sA=U.createContext(null);function Hd(){return U.useContext(sA)}function Qj(){const s=nA(),t=Hd();pe(t);const e={...s,...t},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:g,rotate:v,scale:_=1}=e;pe(p),pe(f),pe(r);const[w,b]=Qa(),{value:E,error:A}=w,C=U.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){E&&l&&l(E)}function F(){A&&(hn(!1,A.toString()),o&&o(A))}U.useEffect(function(){b({type:"RESET"})},[b,f]),U.useEffect(function(){if(!f)return;const j=ic(f.getAnnotations()),L=j;return j.promise.then(I=>{b({type:"RESOLVE",value:I})}).catch(I=>{b({type:"REJECT",error:I})}),()=>{zr(L)}},[b,f]),U.useEffect(()=>{if(E!==void 0){if(E===!1){F();return}M()}},[E]);function T(){d&&d()}function D(N){hn(!1,`${N}`),u&&u(N)}const k=U.useMemo(()=>f.getViewport({scale:_,rotation:v}),[f,v,_]);return U.useEffect(function(){if(!p||!f||!r||!E)return;const{current:j}=C;if(!j)return;const L=k.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:j,l10n:null,linkService:r,page:f,structTreeLayer:null,viewport:L},X={annotations:E,annotationStorage:p.annotationStorage,div:j,imageResourcesPath:n,linkService:r,page:f,renderForms:g,viewport:L};j.innerHTML="";try{new mg(I).render(X),T()}catch(H){D(H)}return()=>{}},[E,n,r,f,p,g,k]),O.jsx("div",{className:yi("react-pdf__Page__annotations","annotationLayer"),ref:C})}const rA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Zj=/^H(\d+)$/;function Jj(s){return s in rA}function Vd(s){return"children"in s}function aA(s){return Vd(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function tB(s){const t={};if(Vd(s)){const{role:e}=s,n=e.match(Zj);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(Jj(e)){const r=rA[e];r&&(t.role=r)}}return t}function oA(s){const t={};if(Vd(s)){if(s.alt!==void 0&&(t["aria-label"]=s.alt),s.lang!==void 0&&(t.lang=s.lang),aA(s)){const[e]=s.children;if(e){const n=oA(e);return{...t,...n}}}}else"id"in s&&(t["aria-owns"]=s.id);return t}function eB(s){return s?{...tB(s),...oA(s)}:null}function lA({className:s,node:t}){const e=U.useMemo(()=>eB(t),[t]),n=U.useMemo(()=>!Vd(t)||aA(t)?null:t.children.map((r,o)=>O.jsx(lA,{node:r},o)),[t]);return O.jsx("span",{className:s,...e,children:n})}function nB(){const s=Hd();pe(s);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=s,[n,r]=Qa(),{value:o,error:l}=n,{customTextRenderer:u,page:d}=s;function f(){o&&e&&e(o)}function p(){l&&(hn(!1,l.toString()),t&&t(l))}return U.useEffect(function(){r({type:"RESET"})},[r,d]),U.useEffect(function(){if(u||!d)return;const v=ic(d.getStructTree()),_=v;return v.promise.then(w=>{r({type:"RESOLVE",value:w})}).catch(w=>{r({type:"REJECT",error:w})}),()=>zr(_)},[u,d,r]),U.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?O.jsx(lA,{className:"react-pdf__Page__structTree structTree",node:o}):null}const hS=Hi;function iB(s){const t=Hd();pe(t);const e={...t,...s},{_className:n,canvasBackground:r,devicePixelRatio:o=$j(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:g,scale:v}=e,{canvasRef:_}=s;pe(d);const w=U.useRef(null);function b(){d&&u&&u(Em(d,v))}function E(F){Gj(F)||(hn(!1,F.toString()),l&&l(F))}const A=U.useMemo(()=>d.getViewport({scale:v*o,rotation:g}),[o,d,g,v]),C=U.useMemo(()=>d.getViewport({scale:v,rotation:g}),[d,g,v]);U.useEffect(function(){if(!d)return;d.cleanup();const{current:T}=w;if(!T)return;T.width=A.width,T.height=A.height,T.style.width=`${Math.floor(C.width)}px`,T.style.height=`${Math.floor(C.height)}px`,T.style.visibility="hidden";const D={annotationMode:f?hS.ENABLE_FORMS:hS.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:A};r&&(D.background=r);const k=d.render(D),N=k;return k.promise.then(()=>{T.style.visibility="",b()}).catch(E),()=>zr(N)},[r,d,f,A,C]);const M=U.useCallback(()=>{const{current:F}=w;F&&(F.width=0,F.height=0)},[]);return U.useEffect(()=>M,[M]),O.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:iA(_,w),style:{display:"block",userSelect:"none"},children:p?O.jsx(nB,{}):null})}function sB(s){return"str"in s}function rB(){const s=Hd();pe(s);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=s;pe(l);const[g,v]=Qa(),{value:_,error:w}=g,b=U.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){_&&n&&n(_)}function A(){w&&(hn(!1,w.toString()),e&&e(w))}U.useEffect(function(){v({type:"RESET"})},[l,v]),U.useEffect(function(){if(!l)return;const N=ic(l.getTextContent()),j=N;return N.promise.then(L=>{v({type:"RESOLVE",value:L})}).catch(L=>{v({type:"REJECT",error:L})}),()=>zr(j)},[l,v]),U.useEffect(()=>{if(_!==void 0){if(_===!1){A();return}E()}},[_]);const C=U.useCallback(()=>{o&&o()},[o]),M=U.useCallback(k=>{hn(!1,k.toString()),r&&r(k)},[r]);function F(){const k=b.current;k&&k.classList.add("selecting")}function T(){const k=b.current;k&&k.classList.remove("selecting")}const D=U.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return U.useLayoutEffect(function(){if(!l||!_)return;const{current:N}=b;if(!N)return;N.innerHTML="";const j=l.streamTextContent({includeMarkedContent:!0}),L={container:N,textContentSource:j,viewport:D},I=new Nl(L),X=I;return I.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",N.append(H);const Y=N.querySelectorAll('[role="presentation"]');if(t){let K=0;_.items.forEach((z,x)=>{if(!sB(z))return;const st=Y[K];if(!st)return;const V=t({pageIndex:u,pageNumber:d,itemIndex:x,...z});st.innerHTML=V,K+=z.str&&z.hasEOL?2:1})}C()}).catch(M),()=>zr(X)},[t,M,C,l,u,d,_,D]),O.jsx("div",{className:yi("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:F,ref:b})}const fS=1;function aB(s){const e={...nA(),...s},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:g,error:v="Failed to load the page.",height:_,inputRef:w,loading:b="Loading page",noData:E="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:C,onGetStructTreeError:M,onGetStructTreeSuccess:F,onGetTextError:T,onGetTextSuccess:D,onLoadError:k,onLoadSuccess:N,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:L,onRenderError:I,onRenderSuccess:X,onRenderTextLayerError:H,onRenderTextLayerSuccess:Y,pageIndex:K,pageNumber:z,pdf:x,registerPage:st,renderAnnotationLayer:V=!0,renderForms:S=!1,renderMode:B="canvas",renderTextLayer:$=!0,rotate:Q,scale:tt=fS,unregisterPage:ct,width:at,...dt}=e,[yt,xt]=Qa(),{value:St,error:It}=yt,Ft=U.useRef(null);pe(x);const bt=br(z)?z-1:K??null,_t=z??(br(K)?K+1:null),kt=Q??(St?St.rotate:null),Vt=U.useMemo(()=>{if(!St)return null;let Rt=1;const jt=tt??fS;if(at||_){const Zt=St.getViewport({scale:1,rotation:kt});at?Rt=at/Zt.width:_&&(Rt=_/Zt.height)}return jt*Rt},[_,St,kt,tt,at]);U.useEffect(function(){return()=>{br(bt)&&r&&ct&&ct(bt)}},[r,x,bt,ct]);function Ot(){if(N){if(!St||!Vt)return;N(Em(St,Vt))}if(r&&st){if(!br(bt)||!Ft.current)return;st(bt,Ft.current)}}function se(){It&&(hn(!1,It.toString()),k&&k(It))}U.useEffect(function(){xt({type:"RESET"})},[xt,x,bt]),U.useEffect(function(){if(!x||!_t)return;const jt=ic(x.getPage(_t)),Zt=jt;return jt.promise.then(Ei=>{xt({type:"RESOLVE",value:Ei})}).catch(Ei=>{xt({type:"REJECT",error:Ei})}),()=>zr(Zt)},[xt,x,_t]),U.useEffect(()=>{if(St!==void 0){if(St===!1){se();return}Ot()}},[St,Vt]);const oe=U.useMemo(()=>br(bt)&&_t&&br(kt)&&br(Vt)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:A,onGetAnnotationsSuccess:C,onGetStructTreeError:M,onGetStructTreeSuccess:F,onGetTextError:T,onGetTextSuccess:D,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:L,onRenderError:I,onRenderSuccess:X,onRenderTextLayerError:H,onRenderTextLayerSuccess:Y,page:St,pageIndex:bt,pageNumber:_t,renderForms:S,renderTextLayer:$,rotate:kt,scale:Vt}:null,[n,o,p,g,A,C,M,F,T,D,j,L,I,X,H,Y,St,bt,_t,S,$,kt,Vt]),G=U.useMemo(()=>Z1(dt,()=>St&&(Vt?Em(St,Vt):void 0)),[dt,St,Vt]),J=`${bt}@${Vt}/${kt}`;function lt(){switch(B){case"custom":return pe(f),O.jsx(f,{},`${J}_custom`);case"none":return null;case"canvas":default:return O.jsx(iB,{canvasRef:l},`${J}_canvas`)}}function gt(){return $?O.jsx(rB,{},`${J}_text`):null}function mt(){return V?O.jsx(Qj,{},`${J}_annotations`):null}function pt(){function Rt(Zt){return!!Zt?.page}if(!Rt(oe))throw new Error("page is undefined");const jt=typeof u=="function"?u(oe):u;return O.jsxs(sA.Provider,{value:oe,children:[lt(),gt(),mt(),jt]})}function Et(){return _t?x===null||St===void 0||St===null?O.jsx($a,{type:"loading",children:typeof b=="function"?b():b}):x===!1||St===!1?O.jsx($a,{type:"error",children:typeof v=="function"?v():v}):pt():O.jsx($a,{type:"no-data",children:typeof E=="function"?E():E})}return O.jsx("div",{className:yi(n,d),"data-page-number":_t,ref:iA(w,Ft),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Vt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...G,children:Et()})}qj();Ys.workerSrc="pdf.worker.mjs";const oB="_viewerWrapper_1lfls_1",lB="_header_1lfls_13",cB="_pdfContainer_1lfls_23",uB="_pdfPage_1lfls_31",dB="_footer_1lfls_38",hB="_footerContent_1lfls_44",fB="_inlinePageInput_1lfls_54",hi={viewerWrapper:oB,header:lB,pdfContainer:cB,pdfPage:uB,footer:dB,footerContent:hB,inlinePageInput:fB};Ys.workerSrc=`//unpkg.com/pdfjs-dist@${hg}/build/pdf.worker.min.mjs`;function Xu({fileId:s,fileName:t="PDF Document",height:e="700px"}){const[n,r]=U.useState(null),[o,l]=U.useState(null),[u,d]=U.useState(1.1),[f,p]=U.useState(1),[g,v]=U.useState("1"),_=U.useRef();U.useEffect(()=>{if(!s)return;(async()=>{try{const C=await lP(s);console.log("Fetched file URL:",C),r(C.url)}catch(C){console.error("Error fetching PDF file:",C)}})()},[s]),U.useEffect(()=>{const A=()=>{if(_.current){const C=_.current.offsetWidth;d(Math.min(C/600,2))}};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const w=({numPages:A})=>{l(A),v("1")};U.useEffect(()=>{const A=_.current;if(!A||!o)return;const C=()=>{const M=Array.from(A.querySelectorAll(`.${hi.pdfPage}`)),T=A.scrollTop+A.clientHeight/2;let D=1;for(let k=0;k<M.length;k++){const N=M[k],j=N.offsetTop,L=j+N.offsetHeight;if(T>=j&&T<L){D=k+1;break}}p(D),v(String(D))};return A.addEventListener("scroll",C),()=>A.removeEventListener("scroll",C)},[o]);const b=A=>v(A.target.value),E=A=>{if(A.key==="Enter"&&_.current){const C=parseInt(g,10);if(!isNaN(C)&&C>=1&&C<=o){const M=_.current.querySelector(`.${hi.pdfPage}:nth-child(${C})`);M&&_.current.scrollTo({top:M.offsetTop-10,behavior:"smooth"})}else v(String(f))}};return O.jsxs("div",{className:hi.viewerWrapper,children:[O.jsx("div",{className:hi.header,children:O.jsx("span",{className:hi.fileName,children:t})}),O.jsx("div",{className:hi.pdfContainer,style:{height:e},ref:_,children:n?O.jsx(Kj,{file:n,onLoadSuccess:w,onLoadError:A=>console.error("PDF load error:",A),children:Array.from(new Array(o),(A,C)=>O.jsx("div",{className:hi.pdfPage,children:O.jsx(aB,{pageNumber:C+1,scale:u,renderMode:"canvas",renderAnnotationLayer:!1,renderTextLayer:!1})},C))},n):O.jsx("div",{className:hi.loading,children:"Loading PDF..."})}),n&&O.jsx("div",{className:hi.footer,children:O.jsxs("div",{className:hi.footerContent,children:[O.jsx("span",{children:"Page"}),O.jsx("input",{type:"number",min:"1",max:o||1,value:g,onChange:b,onKeyDown:E,className:hi.inlinePageInput}),O.jsxs("span",{children:["/ ",o||"--"]})]})})]})}const pB=()=>{const{moduleId:s}=jS(),[t,e]=U.useState(null),[n,r]=U.useState(null),[o,l]=U.useState([]),[u,d]=U.useState(!0),[f,p]=U.useState([]),[g,v]=U.useState(!1),[_,w]=U.useState(null),[b,E]=U.useState([]),[A,C]=U.useState(!1),[M,F]=U.useState(null),[T,D]=U.useState(!1);U.useEffect(()=>{console.log(n),t==="Flashcards"&&n&&L(n.externalId),t==="Quiz"&&n&&I(n.externalId)},[t,n]);const k=async()=>{try{const z=((await kn.get(`/files/modules/${s}/files`)).data.files||[]).map((x,st)=>({title:`File ${st+1}. ${x.filename}`,id:x.id,externalId:x.externalId}));l(z),!n&&z.length>0&&(r(z[0]),e("Notes"))}catch(Y){console.error("Failed to fetch files:",Y)}finally{d(!1)}};U.useEffect(()=>{k()},[s]);const N=(Y,K)=>{e(K),r(Y),console.log(`Selected ${K} for ${Y.title}`)},j=Y=>{console.log("Submitted answers:",Y)},L=async Y=>{v(!0),w(null);try{const K=await Ya.post("/generate-flashcards",{file_ids:[Y],num_flashcards:5});if(!K.data||!K.data.flashcards)throw new Error("Invalid response format");p(K.data.flashcards)}catch(K){console.error("Failed to load flashcards:",K),w(K?.response?.data?.error||K.message||"Failed to load flashcards.")}finally{v(!1)}},I=async Y=>{C(!0),F(null);try{const K=await Ya.post("/generate-mcq",{file_ids:[Y],num_questions:5});if(!K.data||!K.data.mcqs)throw new Error("Invalid MCQ response format");const z=K.data.mcqs.map((x,st)=>({id:`mcq_${st}`,topic:x.topic||"General",difficulty:x.difficulty||"Medium",question:x.question,options:x.options,correctAnswer:x.correct_answer}));E(z)}catch(K){console.error("Failed to load MCQs:",K),F(K?.response?.data?.error||K.message||"Failed to load MCQs.")}finally{C(!1)}},X=window.innerWidth<=768,H=()=>{switch(t){case"Flashcards":return g?O.jsx(Hu,{}):_?O.jsxs("div",{style:{padding:20},children:[O.jsx("h2",{style:{color:"red"},children:"Failed to load flashcards"}),O.jsx("button",{onClick:()=>L(n?.externalId),style:{padding:"10px 20px",background:"#4a6eff",color:"white",borderRadius:"6px",marginTop:"10px"},children:"Retry"})]}):f.length?O.jsx(CN,{cards:f}):O.jsx("p",{style:{padding:20},children:"No flashcards available."});case"Quiz":return A?O.jsx(Hu,{}):M?O.jsxs("div",{style:{padding:20},children:[O.jsx("h2",{style:{color:"red"},children:"Failed to load MCQs"}),O.jsx("button",{onClick:()=>I(n.externalId),style:{padding:"10px 20px",background:"#4a6eff",color:"white",borderRadius:"6px",marginTop:"10px"},children:"Retry"})]}):b.length?O.jsx(oP,{questions:b,onSubmit:j}):O.jsx("p",{style:{padding:20},children:"No quiz questions available."});case"AI Buddy":return X?O.jsxs("div",{className:Da.studySpaceContainer,children:[O.jsx(Xu,{fileId:n?.id,fileName:`${n?.title}`,height:"80vh"}),O.jsx("button",{className:Da.openChatBtn,onClick:()=>D(!0),children:"Open Chat"}),T&&O.jsxs("div",{className:Da.chatModal,children:[O.jsxs("div",{className:Da.chatHeader,children:[O.jsx("span",{children:"AI Buddy"}),O.jsx("button",{onClick:()=>D(!1),children:"Close"})]}),O.jsx(k_,{externalId:n?.externalId})]})]}):O.jsxs("div",{className:Da.studySpaceContainer,children:[O.jsx(Xu,{fileId:n?.id,fileName:`${n?.title}`,height:"80vh"}),O.jsx(k_,{externalId:n?.externalId})]});default:return O.jsx("div",{className:Da.studySpaceContainer,children:O.jsx(Xu,{fileId:n?.id,fileName:`${n?.title}`,height:"80vh"})})}};return u?O.jsx(Hu,{}):O.jsxs(YN,{modules:o,onFeatureSelect:N,selectedModuleId:s,onFilesAdded:k,hasSidebar:!0,children:[O.jsx(CP,{}),H()]})};var jp={},Bp={},fl={},Fp={},pS;function mB(){return pS||(pS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};s.default=t})(Fp)),Fp}var Ip,mS;function gB(){if(mS)return Ip;mS=1;var s="Expected a function",t=NaN,e="[object Symbol]",n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d=typeof gu=="object"&&gu&&gu.Object===Object&&gu,f=typeof self=="object"&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),g=Object.prototype,v=g.toString,_=Math.max,w=Math.min,b=function(){return p.Date.now()};function E(T,D,k){var N,j,L,I,X,H,Y=0,K=!1,z=!1,x=!0;if(typeof T!="function")throw new TypeError(s);D=F(D)||0,A(k)&&(K=!!k.leading,z="maxWait"in k,L=z?_(F(k.maxWait)||0,D):L,x="trailing"in k?!!k.trailing:x);function st(dt){var yt=N,xt=j;return N=j=void 0,Y=dt,I=T.apply(xt,yt),I}function V(dt){return Y=dt,X=setTimeout($,D),K?st(dt):I}function S(dt){var yt=dt-H,xt=dt-Y,St=D-yt;return z?w(St,L-xt):St}function B(dt){var yt=dt-H,xt=dt-Y;return H===void 0||yt>=D||yt<0||z&&xt>=L}function $(){var dt=b();if(B(dt))return Q(dt);X=setTimeout($,S(dt))}function Q(dt){return X=void 0,x&&N?st(dt):(N=j=void 0,I)}function tt(){X!==void 0&&clearTimeout(X),Y=0,N=H=j=X=void 0}function ct(){return X===void 0?I:Q(b())}function at(){var dt=b(),yt=B(dt);if(N=arguments,j=this,H=dt,yt){if(X===void 0)return V(H);if(z)return X=setTimeout($,D),st(H)}return X===void 0&&(X=setTimeout($,D)),I}return at.cancel=tt,at.flush=ct,at}function A(T){var D=typeof T;return!!T&&(D=="object"||D=="function")}function C(T){return!!T&&typeof T=="object"}function M(T){return typeof T=="symbol"||C(T)&&v.call(T)==e}function F(T){if(typeof T=="number")return T;if(M(T))return t;if(A(T)){var D=typeof T.valueOf=="function"?T.valueOf():T;T=A(D)?D+"":D}if(typeof T!="string")return T===0?T:+T;T=T.replace(n,"");var k=o.test(T);return k||l.test(T)?u(T.slice(2),k?2:8):r.test(T)?t:+T}return Ip=E,Ip}var zp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var gS;function $d(){return gS||(gS=1,(function(s){(function(){var t={}.hasOwnProperty;function e(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=r(o,n(u)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)t.call(o,u)&&o[u]&&(l=r(l,u));return l}function r(o,l){return l?o?o+" "+l:o+l:o}s.exports?(e.default=e,s.exports=e):window.classNames=e})()})(zp)),zp.exports}var vt={},Up={},yS;function cA(){return yS||(yS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=e(Si());function e(r){return r&&r.__esModule?r:{default:r}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return t.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return t.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};s.default=n})(Up)),Up}var vS;function sc(){if(vS)return vt;vS=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.checkSpecKeys=vt.checkNavigable=vt.changeSlide=vt.canUseDOM=vt.canGoNext=void 0,vt.clamp=f,vt.extractObject=void 0,vt.filterSettings=st,vt.validSettings=vt.swipeStart=vt.swipeMove=vt.swipeEnd=vt.slidesOnRight=vt.slidesOnLeft=vt.slideHandler=vt.siblingDirection=vt.safePreventDefault=vt.lazyStartIndex=vt.lazySlidesOnRight=vt.lazySlidesOnLeft=vt.lazyEndIndex=vt.keyHandler=vt.initializedState=vt.getWidth=vt.getTrackLeft=vt.getTrackCSS=vt.getTrackAnimateCSS=vt.getTotalSlides=vt.getSwipeDirection=vt.getSlideCount=vt.getRequiredLazySlides=vt.getPreClones=vt.getPostClones=vt.getOnDemandLazySlides=vt.getNavigableIndexes=vt.getHeight=void 0;var s=e(Si()),t=e(cA());function e(V){return V&&V.__esModule?V:{default:V}}function n(V){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(V)}function r(V,S){var B=Object.keys(V);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(V);S&&($=$.filter(function(Q){return Object.getOwnPropertyDescriptor(V,Q).enumerable})),B.push.apply(B,$)}return B}function o(V){for(var S=1;S<arguments.length;S++){var B=arguments[S]!=null?arguments[S]:{};S%2?r(Object(B),!0).forEach(function($){l(V,$,B[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(B)):r(Object(B)).forEach(function($){Object.defineProperty(V,$,Object.getOwnPropertyDescriptor(B,$))})}return V}function l(V,S,B){return(S=u(S))in V?Object.defineProperty(V,S,{value:B,enumerable:!0,configurable:!0,writable:!0}):V[S]=B,V}function u(V){var S=d(V,"string");return n(S)=="symbol"?S:S+""}function d(V,S){if(n(V)!="object"||!V)return V;var B=V[Symbol.toPrimitive];if(B!==void 0){var $=B.call(V,S);if(n($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(V)}function f(V,S,B){return Math.max(S,Math.min(V,B))}var p=vt.safePreventDefault=function(S){var B=["onTouchStart","onTouchMove","onWheel"];B.includes(S._reactName)||S.preventDefault()},g=vt.getOnDemandLazySlides=function(S){for(var B=[],$=v(S),Q=_(S),tt=$;tt<Q;tt++)S.lazyLoadedList.indexOf(tt)<0&&B.push(tt);return B};vt.getRequiredLazySlides=function(S){for(var B=[],$=v(S),Q=_(S),tt=$;tt<Q;tt++)B.push(tt);return B};var v=vt.lazyStartIndex=function(S){return S.currentSlide-w(S)},_=vt.lazyEndIndex=function(S){return S.currentSlide+b(S)},w=vt.lazySlidesOnLeft=function(S){return S.centerMode?Math.floor(S.slidesToShow/2)+(parseInt(S.centerPadding)>0?1:0):0},b=vt.lazySlidesOnRight=function(S){return S.centerMode?Math.floor((S.slidesToShow-1)/2)+1+(parseInt(S.centerPadding)>0?1:0):S.slidesToShow},E=vt.getWidth=function(S){return S&&S.offsetWidth||0},A=vt.getHeight=function(S){return S&&S.offsetHeight||0},C=vt.getSwipeDirection=function(S){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$,Q,tt,ct;return $=S.startX-S.curX,Q=S.startY-S.curY,tt=Math.atan2(Q,$),ct=Math.round(tt*180/Math.PI),ct<0&&(ct=360-Math.abs(ct)),ct<=45&&ct>=0||ct<=360&&ct>=315?"left":ct>=135&&ct<=225?"right":B===!0?ct>=35&&ct<=135?"up":"down":"vertical"},M=vt.canGoNext=function(S){var B=!0;return S.infinite||(S.centerMode&&S.currentSlide>=S.slideCount-1||S.slideCount<=S.slidesToShow||S.currentSlide>=S.slideCount-S.slidesToShow)&&(B=!1),B};vt.extractObject=function(S,B){var $={};return B.forEach(function(Q){return $[Q]=S[Q]}),$},vt.initializedState=function(S){var B=s.default.Children.count(S.children),$=S.listRef,Q=Math.ceil(E($)),tt=S.trackRef&&S.trackRef.node,ct=Math.ceil(E(tt)),at;if(S.vertical)at=Q;else{var dt=S.centerMode&&parseInt(S.centerPadding)*2;typeof S.centerPadding=="string"&&S.centerPadding.slice(-1)==="%"&&(dt*=Q/100),at=Math.ceil((Q-dt)/S.slidesToShow)}var yt=$&&A($.querySelector('[data-index="0"]')),xt=yt*S.slidesToShow,St=S.currentSlide===void 0?S.initialSlide:S.currentSlide;S.rtl&&S.currentSlide===void 0&&(St=B-1-S.initialSlide);var It=S.lazyLoadedList||[],Ft=g(o(o({},S),{},{currentSlide:St,lazyLoadedList:It}));It=It.concat(Ft);var bt={slideCount:B,slideWidth:at,listWidth:Q,trackWidth:ct,currentSlide:St,slideHeight:yt,listHeight:xt,lazyLoadedList:It};return S.autoplaying===null&&S.autoplay&&(bt.autoplaying="playing"),bt},vt.slideHandler=function(S){var B=S.waitForAnimate,$=S.animating,Q=S.fade,tt=S.infinite,ct=S.index,at=S.slideCount,dt=S.lazyLoad,yt=S.currentSlide,xt=S.centerMode,St=S.slidesToScroll,It=S.slidesToShow,Ft=S.useCSS,bt=S.lazyLoadedList;if(B&&$)return{};var _t=ct,kt,Vt,Ot,se={},oe={},G=tt?ct:f(ct,0,at-1);if(Q){if(!tt&&(ct<0||ct>=at))return{};ct<0?_t=ct+at:ct>=at&&(_t=ct-at),dt&&bt.indexOf(_t)<0&&(bt=bt.concat(_t)),se={animating:!0,currentSlide:_t,lazyLoadedList:bt,targetSlide:_t},oe={animating:!1,targetSlide:_t}}else kt=_t,_t<0?(kt=_t+at,tt?at%St!==0&&(kt=at-at%St):kt=0):!M(S)&&_t>yt?_t=kt=yt:xt&&_t>=at?(_t=tt?at:at-1,kt=tt?0:at-1):_t>=at&&(kt=_t-at,tt?at%St!==0&&(kt=0):kt=at-It),!tt&&_t+It>=at&&(kt=at-It),Vt=L(o(o({},S),{},{slideIndex:_t})),Ot=L(o(o({},S),{},{slideIndex:kt})),tt||(Vt===Ot&&(_t=kt),Vt=Ot),dt&&(bt=bt.concat(g(o(o({},S),{},{currentSlide:_t})))),Ft?(se={animating:!0,currentSlide:kt,trackStyle:j(o(o({},S),{},{left:Vt})),lazyLoadedList:bt,targetSlide:G},oe={animating:!1,currentSlide:kt,trackStyle:N(o(o({},S),{},{left:Ot})),swipeLeft:null,targetSlide:G}):se={currentSlide:kt,trackStyle:N(o(o({},S),{},{left:Ot})),lazyLoadedList:bt,targetSlide:G};return{state:se,nextState:oe}},vt.changeSlide=function(S,B){var $,Q,tt,ct,at,dt=S.slidesToScroll,yt=S.slidesToShow,xt=S.slideCount,St=S.currentSlide,It=S.targetSlide,Ft=S.lazyLoad,bt=S.infinite;if(ct=xt%dt!==0,$=ct?0:(xt-St)%dt,B.message==="previous")tt=$===0?dt:yt-$,at=St-tt,Ft&&!bt&&(Q=St-tt,at=Q===-1?xt-1:Q),bt||(at=It-dt);else if(B.message==="next")tt=$===0?dt:$,at=St+tt,Ft&&!bt&&(at=(St+dt)%xt+$),bt||(at=It+dt);else if(B.message==="dots")at=B.index*B.slidesToScroll;else if(B.message==="children"){if(at=B.index,bt){var _t=Y(o(o({},S),{},{targetSlide:at}));at>B.currentSlide&&_t==="left"?at=at-xt:at<B.currentSlide&&_t==="right"&&(at=at+xt)}}else B.message==="index"&&(at=Number(B.index));return at},vt.keyHandler=function(S,B,$){return S.target.tagName.match("TEXTAREA|INPUT|SELECT")||!B?"":S.keyCode===37?$?"next":"previous":S.keyCode===39?$?"previous":"next":""},vt.swipeStart=function(S,B,$){return S.target.tagName==="IMG"&&p(S),!B||!$&&S.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:S.touches?S.touches[0].pageX:S.clientX,startY:S.touches?S.touches[0].pageY:S.clientY,curX:S.touches?S.touches[0].pageX:S.clientX,curY:S.touches?S.touches[0].pageY:S.clientY}}},vt.swipeMove=function(S,B){var $=B.scrolling,Q=B.animating,tt=B.vertical,ct=B.swipeToSlide,at=B.verticalSwiping,dt=B.rtl,yt=B.currentSlide,xt=B.edgeFriction,St=B.edgeDragged,It=B.onEdge,Ft=B.swiped,bt=B.swiping,_t=B.slideCount,kt=B.slidesToScroll,Vt=B.infinite,Ot=B.touchObject,se=B.swipeEvent,oe=B.listHeight,G=B.listWidth;if(!$){if(Q)return p(S);tt&&ct&&at&&p(S);var J,lt={},gt=L(B);Ot.curX=S.touches?S.touches[0].pageX:S.clientX,Ot.curY=S.touches?S.touches[0].pageY:S.clientY,Ot.swipeLength=Math.round(Math.sqrt(Math.pow(Ot.curX-Ot.startX,2)));var mt=Math.round(Math.sqrt(Math.pow(Ot.curY-Ot.startY,2)));if(!at&&!bt&&mt>10)return{scrolling:!0};at&&(Ot.swipeLength=mt);var pt=(dt?-1:1)*(Ot.curX>Ot.startX?1:-1);at&&(pt=Ot.curY>Ot.startY?1:-1);var Et=Math.ceil(_t/kt),Rt=C(B.touchObject,at),jt=Ot.swipeLength;return Vt||(yt===0&&(Rt==="right"||Rt==="down")||yt+1>=Et&&(Rt==="left"||Rt==="up")||!M(B)&&(Rt==="left"||Rt==="up"))&&(jt=Ot.swipeLength*xt,St===!1&&It&&(It(Rt),lt.edgeDragged=!0)),!Ft&&se&&(se(Rt),lt.swiped=!0),tt?J=gt+jt*(oe/G)*pt:dt?J=gt-jt*pt:J=gt+jt*pt,at&&(J=gt+jt*pt),lt=o(o({},lt),{},{touchObject:Ot,swipeLeft:J,trackStyle:N(o(o({},B),{},{left:J}))}),Math.abs(Ot.curX-Ot.startX)<Math.abs(Ot.curY-Ot.startY)*.8||Ot.swipeLength>10&&(lt.swiping=!0,p(S)),lt}},vt.swipeEnd=function(S,B){var $=B.dragging,Q=B.swipe,tt=B.touchObject,ct=B.listWidth,at=B.touchThreshold,dt=B.verticalSwiping,yt=B.listHeight,xt=B.swipeToSlide,St=B.scrolling,It=B.onSwipe,Ft=B.targetSlide,bt=B.currentSlide,_t=B.infinite;if(!$)return Q&&p(S),{};var kt=dt?yt/at:ct/at,Vt=C(tt,dt),Ot={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(St||!tt.swipeLength)return Ot;if(tt.swipeLength>kt){p(S),It&&It(Vt);var se,oe,G=_t?bt:Ft;switch(Vt){case"left":case"up":oe=G+D(B),se=xt?T(B,oe):oe,Ot.currentDirection=0;break;case"right":case"down":oe=G-D(B),se=xt?T(B,oe):oe,Ot.currentDirection=1;break;default:se=G}Ot.triggerSlideHandler=se}else{var J=L(B);Ot.trackStyle=j(o(o({},B),{},{left:J}))}return Ot};var F=vt.getNavigableIndexes=function(S){for(var B=S.infinite?S.slideCount*2:S.slideCount,$=S.infinite?S.slidesToShow*-1:0,Q=S.infinite?S.slidesToShow*-1:0,tt=[];$<B;)tt.push($),$=Q+S.slidesToScroll,Q+=Math.min(S.slidesToScroll,S.slidesToShow);return tt},T=vt.checkNavigable=function(S,B){var $=F(S),Q=0;if(B>$[$.length-1])B=$[$.length-1];else for(var tt in $){if(B<$[tt]){B=Q;break}Q=$[tt]}return B},D=vt.getSlideCount=function(S){var B=S.centerMode?S.slideWidth*Math.floor(S.slidesToShow/2):0;if(S.swipeToSlide){var $,Q=S.listRef,tt=Q.querySelectorAll&&Q.querySelectorAll(".slick-slide")||[];if(Array.from(tt).every(function(dt){if(S.vertical){if(dt.offsetTop+A(dt)/2>S.swipeLeft*-1)return $=dt,!1}else if(dt.offsetLeft-B+E(dt)/2>S.swipeLeft*-1)return $=dt,!1;return!0}),!$)return 0;var ct=S.rtl===!0?S.slideCount-S.currentSlide:S.currentSlide,at=Math.abs($.dataset.index-ct)||1;return at}else return S.slidesToScroll},k=vt.checkSpecKeys=function(S,B){return B.reduce(function($,Q){return $&&S.hasOwnProperty(Q)},!0)?null:console.error("Keys Missing:",S)},N=vt.getTrackCSS=function(S){k(S,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var B,$;if(!S.vertical)B=H(S)*S.slideWidth;else{var Q=S.unslick?S.slideCount:S.slideCount+2*S.slidesToShow;$=Q*S.slideHeight}var tt={opacity:1,transition:"",WebkitTransition:""};if(S.useTransform){var ct=S.vertical?"translate3d(0px, "+S.left+"px, 0px)":"translate3d("+S.left+"px, 0px, 0px)",at=S.vertical?"translate3d(0px, "+S.left+"px, 0px)":"translate3d("+S.left+"px, 0px, 0px)",dt=S.vertical?"translateY("+S.left+"px)":"translateX("+S.left+"px)";tt=o(o({},tt),{},{WebkitTransform:ct,transform:at,msTransform:dt})}else S.vertical?tt.top=S.left:tt.left=S.left;return S.fade&&(tt={opacity:1}),B&&(tt.width=B),$&&(tt.height=$),window&&!window.addEventListener&&window.attachEvent&&(S.vertical?tt.marginTop=S.left+"px":tt.marginLeft=S.left+"px"),tt},j=vt.getTrackAnimateCSS=function(S){k(S,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var B=N(S);return S.useTransform?(B.WebkitTransition="-webkit-transform "+S.speed+"ms "+S.cssEase,B.transition="transform "+S.speed+"ms "+S.cssEase):S.vertical?B.transition="top "+S.speed+"ms "+S.cssEase:B.transition="left "+S.speed+"ms "+S.cssEase,B},L=vt.getTrackLeft=function(S){if(S.unslick)return 0;k(S,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var B=S.slideIndex,$=S.trackRef,Q=S.infinite,tt=S.centerMode,ct=S.slideCount,at=S.slidesToShow,dt=S.slidesToScroll,yt=S.slideWidth,xt=S.listWidth,St=S.variableWidth,It=S.slideHeight,Ft=S.fade,bt=S.vertical,_t=0,kt,Vt,Ot=0;if(Ft||S.slideCount===1)return 0;var se=0;if(Q?(se=-I(S),ct%dt!==0&&B+dt>ct&&(se=-(B>ct?at-(B-ct):ct%dt)),tt&&(se+=parseInt(at/2))):(ct%dt!==0&&B+dt>ct&&(se=at-ct%dt),tt&&(se=parseInt(at/2))),_t=se*yt,Ot=se*It,bt?kt=B*It*-1+Ot:kt=B*yt*-1+_t,St===!0){var oe,G=$&&$.node;if(oe=B+I(S),Vt=G&&G.childNodes[oe],kt=Vt?Vt.offsetLeft*-1:0,tt===!0){oe=Q?B+I(S):B,Vt=G&&G.children[oe],kt=0;for(var J=0;J<oe;J++)kt-=G&&G.children[J]&&G.children[J].offsetWidth;kt-=parseInt(S.centerPadding),kt+=Vt&&(xt-Vt.offsetWidth)/2}}return kt},I=vt.getPreClones=function(S){return S.unslick||!S.infinite?0:S.variableWidth?S.slideCount:S.slidesToShow+(S.centerMode?1:0)},X=vt.getPostClones=function(S){return S.unslick||!S.infinite?0:S.variableWidth?S.slideCount:S.slidesToShow+(S.centerMode?1:0)},H=vt.getTotalSlides=function(S){return S.slideCount===1?1:I(S)+S.slideCount+X(S)},Y=vt.siblingDirection=function(S){return S.targetSlide>S.currentSlide?S.targetSlide>S.currentSlide+K(S)?"left":"right":S.targetSlide<S.currentSlide-z(S)?"right":"left"},K=vt.slidesOnRight=function(S){var B=S.slidesToShow,$=S.centerMode,Q=S.rtl,tt=S.centerPadding;if($){var ct=(B-1)/2+1;return parseInt(tt)>0&&(ct+=1),Q&&B%2===0&&(ct+=1),ct}return Q?0:B-1},z=vt.slidesOnLeft=function(S){var B=S.slidesToShow,$=S.centerMode,Q=S.rtl,tt=S.centerPadding;if($){var ct=(B-1)/2+1;return parseInt(tt)>0&&(ct+=1),!Q&&B%2===0&&(ct+=1),ct}return Q?B-1:0};vt.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var x=vt.validSettings=Object.keys(t.default);function st(V){return x.reduce(function(S,B){return V.hasOwnProperty(B)&&(S[B]=V[B]),S},{})}return vt}var pl={},bS;function yB(){if(bS)return pl;bS=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.Track=void 0;var s=n(Si()),t=n($d()),e=sc();function n(j){return j&&j.__esModule?j:{default:j}}function r(j){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},r(j)}function o(){return o=Object.assign?Object.assign.bind():function(j){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var X in I)({}).hasOwnProperty.call(I,X)&&(j[X]=I[X])}return j},o.apply(null,arguments)}function l(j,L){if(!(j instanceof L))throw new TypeError("Cannot call a class as a function")}function u(j,L){for(var I=0;I<L.length;I++){var X=L[I];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(j,M(X.key),X)}}function d(j,L,I){return L&&u(j.prototype,L),Object.defineProperty(j,"prototype",{writable:!1}),j}function f(j,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(L&&L.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),L&&p(j,L)}function p(j,L){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,X){return I.__proto__=X,I},p(j,L)}function g(j){var L=w();return function(){var I,X=b(j);if(L){var H=b(this).constructor;I=Reflect.construct(X,arguments,H)}else I=X.apply(this,arguments);return v(this,I)}}function v(j,L){if(L&&(r(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _(j)}function _(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function w(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!j})()}function b(j){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},b(j)}function E(j,L){var I=Object.keys(j);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(j);L&&(X=X.filter(function(H){return Object.getOwnPropertyDescriptor(j,H).enumerable})),I.push.apply(I,X)}return I}function A(j){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?E(Object(I),!0).forEach(function(X){C(j,X,I[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(I)):E(Object(I)).forEach(function(X){Object.defineProperty(j,X,Object.getOwnPropertyDescriptor(I,X))})}return j}function C(j,L,I){return(L=M(L))in j?Object.defineProperty(j,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):j[L]=I,j}function M(j){var L=F(j,"string");return r(L)=="symbol"?L:L+""}function F(j,L){if(r(j)!="object"||!j)return j;var I=j[Symbol.toPrimitive];if(I!==void 0){var X=I.call(j,L);if(r(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(j)}var T=function(L){var I,X,H,Y,K;L.rtl?K=L.slideCount-1-L.index:K=L.index,H=K<0||K>=L.slideCount,L.centerMode?(Y=Math.floor(L.slidesToShow/2),X=(K-L.currentSlide)%L.slideCount===0,K>L.currentSlide-Y-1&&K<=L.currentSlide+Y&&(I=!0)):I=L.currentSlide<=K&&K<L.currentSlide+L.slidesToShow;var z;L.targetSlide<0?z=L.targetSlide+L.slideCount:L.targetSlide>=L.slideCount?z=L.targetSlide-L.slideCount:z=L.targetSlide;var x=K===z;return{"slick-slide":!0,"slick-active":I,"slick-center":X,"slick-cloned":H,"slick-current":x}},D=function(L){var I={};return(L.variableWidth===void 0||L.variableWidth===!1)&&(I.width=L.slideWidth),L.fade&&(I.position="relative",L.vertical?I.top=-L.index*parseInt(L.slideHeight):I.left=-L.index*parseInt(L.slideWidth),I.opacity=L.currentSlide===L.index?1:0,I.zIndex=L.currentSlide===L.index?999:998,L.useCSS&&(I.transition="opacity "+L.speed+"ms "+L.cssEase+", visibility "+L.speed+"ms "+L.cssEase)),I},k=function(L,I){return L.key||I},N=function(L){var I,X=[],H=[],Y=[],K=s.default.Children.count(L.children),z=(0,e.lazyStartIndex)(L),x=(0,e.lazyEndIndex)(L);return s.default.Children.forEach(L.children,function(st,V){var S,B={message:"children",index:V,slidesToScroll:L.slidesToScroll,currentSlide:L.currentSlide};!L.lazyLoad||L.lazyLoad&&L.lazyLoadedList.indexOf(V)>=0?S=st:S=s.default.createElement("div",null);var $=D(A(A({},L),{},{index:V})),Q=S.props.className||"",tt=T(A(A({},L),{},{index:V}));if(X.push(s.default.cloneElement(S,{key:"original"+k(S,V),"data-index":V,className:(0,t.default)(tt,Q),tabIndex:"-1","aria-hidden":!tt["slick-active"],style:A(A({outline:"none"},S.props.style||{}),$),onClick:function(dt){S.props&&S.props.onClick&&S.props.onClick(dt),L.focusOnSelect&&L.focusOnSelect(B)}})),L.infinite&&K>1&&L.fade===!1&&!L.unslick){var ct=K-V;ct<=(0,e.getPreClones)(L)&&(I=-ct,I>=z&&(S=st),tt=T(A(A({},L),{},{index:I})),H.push(s.default.cloneElement(S,{key:"precloned"+k(S,I),"data-index":I,tabIndex:"-1",className:(0,t.default)(tt,Q),"aria-hidden":!tt["slick-active"],style:A(A({},S.props.style||{}),$),onClick:function(dt){S.props&&S.props.onClick&&S.props.onClick(dt),L.focusOnSelect&&L.focusOnSelect(B)}}))),V<(0,e.getPostClones)(L)&&(I=K+V,I<x&&(S=st),tt=T(A(A({},L),{},{index:I})),Y.push(s.default.cloneElement(S,{key:"postcloned"+k(S,I),"data-index":I,tabIndex:"-1",className:(0,t.default)(tt,Q),"aria-hidden":!tt["slick-active"],style:A(A({},S.props.style||{}),$),onClick:function(dt){S.props&&S.props.onClick&&S.props.onClick(dt),L.focusOnSelect&&L.focusOnSelect(B)}})))}}),L.rtl?H.concat(X,Y).reverse():H.concat(X,Y)};return pl.Track=(function(j){f(I,j);var L=g(I);function I(){var X;l(this,I);for(var H=arguments.length,Y=new Array(H),K=0;K<H;K++)Y[K]=arguments[K];return X=L.call.apply(L,[this].concat(Y)),C(_(X),"node",null),C(_(X),"handleRef",function(z){X.node=z}),X}return d(I,[{key:"render",value:function(){var H=N(this.props),Y=this.props,K=Y.onMouseEnter,z=Y.onMouseOver,x=Y.onMouseLeave,st={onMouseEnter:K,onMouseOver:z,onMouseLeave:x};return s.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},st),H)}}]),I})(s.default.PureComponent),pl}var ml={},_S;function vB(){if(_S)return ml;_S=1;function s(T){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s(T)}Object.defineProperty(ml,"__esModule",{value:!0}),ml.Dots=void 0;var t=r(Si()),e=r($d()),n=sc();function r(T){return T&&T.__esModule?T:{default:T}}function o(T,D){var k=Object.keys(T);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);D&&(N=N.filter(function(j){return Object.getOwnPropertyDescriptor(T,j).enumerable})),k.push.apply(k,N)}return k}function l(T){for(var D=1;D<arguments.length;D++){var k=arguments[D]!=null?arguments[D]:{};D%2?o(Object(k),!0).forEach(function(N){u(T,N,k[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(k)):o(Object(k)).forEach(function(N){Object.defineProperty(T,N,Object.getOwnPropertyDescriptor(k,N))})}return T}function u(T,D,k){return(D=g(D))in T?Object.defineProperty(T,D,{value:k,enumerable:!0,configurable:!0,writable:!0}):T[D]=k,T}function d(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function f(T,D){for(var k=0;k<D.length;k++){var N=D[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,g(N.key),N)}}function p(T,D,k){return D&&f(T.prototype,D),Object.defineProperty(T,"prototype",{writable:!1}),T}function g(T){var D=v(T,"string");return s(D)=="symbol"?D:D+""}function v(T,D){if(s(T)!="object"||!T)return T;var k=T[Symbol.toPrimitive];if(k!==void 0){var N=k.call(T,D);if(s(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}function _(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),D&&w(T,D)}function w(T,D){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,N){return k.__proto__=N,k},w(T,D)}function b(T){var D=C();return function(){var k,N=M(T);if(D){var j=M(this).constructor;k=Reflect.construct(N,arguments,j)}else k=N.apply(this,arguments);return E(this,k)}}function E(T,D){if(D&&(s(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(T)}function A(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function C(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!T})()}function M(T){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},M(T)}var F=function(D){var k;return D.infinite?k=Math.ceil(D.slideCount/D.slidesToScroll):k=Math.ceil((D.slideCount-D.slidesToShow)/D.slidesToScroll)+1,k};return ml.Dots=(function(T){_(k,T);var D=b(k);function k(){return d(this,k),D.apply(this,arguments)}return p(k,[{key:"clickHandler",value:function(j,L){L.preventDefault(),this.props.clickHandler(j)}},{key:"render",value:function(){for(var j=this.props,L=j.onMouseEnter,I=j.onMouseOver,X=j.onMouseLeave,H=j.infinite,Y=j.slidesToScroll,K=j.slidesToShow,z=j.slideCount,x=j.currentSlide,st=F({slideCount:z,slidesToScroll:Y,slidesToShow:K,infinite:H}),V={onMouseEnter:L,onMouseOver:I,onMouseLeave:X},S=[],B=0;B<st;B++){var $=(B+1)*Y-1,Q=H?$:(0,n.clamp)($,0,z-1),tt=Q-(Y-1),ct=H?tt:(0,n.clamp)(tt,0,z-1),at=(0,e.default)({"slick-active":H?x>=ct&&x<=Q:x===ct}),dt={message:"dots",index:B,slidesToScroll:Y,currentSlide:x},yt=this.clickHandler.bind(this,dt);S=S.concat(t.default.createElement("li",{key:B,className:at},t.default.cloneElement(this.props.customPaging(B),{onClick:yt})))}return t.default.cloneElement(this.props.appendDots(S),l({className:this.props.dotsClass},V))}}]),k})(t.default.PureComponent),ml}var _r={},SS;function bB(){if(SS)return _r;SS=1;function s(T){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s(T)}Object.defineProperty(_r,"__esModule",{value:!0}),_r.PrevArrow=_r.NextArrow=void 0;var t=r(Si()),e=r($d()),n=sc();function r(T){return T&&T.__esModule?T:{default:T}}function o(){return o=Object.assign?Object.assign.bind():function(T){for(var D=1;D<arguments.length;D++){var k=arguments[D];for(var N in k)({}).hasOwnProperty.call(k,N)&&(T[N]=k[N])}return T},o.apply(null,arguments)}function l(T,D){var k=Object.keys(T);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);D&&(N=N.filter(function(j){return Object.getOwnPropertyDescriptor(T,j).enumerable})),k.push.apply(k,N)}return k}function u(T){for(var D=1;D<arguments.length;D++){var k=arguments[D]!=null?arguments[D]:{};D%2?l(Object(k),!0).forEach(function(N){d(T,N,k[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(k)):l(Object(k)).forEach(function(N){Object.defineProperty(T,N,Object.getOwnPropertyDescriptor(k,N))})}return T}function d(T,D,k){return(D=v(D))in T?Object.defineProperty(T,D,{value:k,enumerable:!0,configurable:!0,writable:!0}):T[D]=k,T}function f(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function p(T,D){for(var k=0;k<D.length;k++){var N=D[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,v(N.key),N)}}function g(T,D,k){return D&&p(T.prototype,D),Object.defineProperty(T,"prototype",{writable:!1}),T}function v(T){var D=_(T,"string");return s(D)=="symbol"?D:D+""}function _(T,D){if(s(T)!="object"||!T)return T;var k=T[Symbol.toPrimitive];if(k!==void 0){var N=k.call(T,D);if(s(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}function w(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),D&&b(T,D)}function b(T,D){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,N){return k.__proto__=N,k},b(T,D)}function E(T){var D=M();return function(){var k,N=F(T);if(D){var j=F(this).constructor;k=Reflect.construct(N,arguments,j)}else k=N.apply(this,arguments);return A(this,k)}}function A(T,D){if(D&&(s(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(T)}function C(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function M(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!T})()}function F(T){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},F(T)}return _r.PrevArrow=(function(T){w(k,T);var D=E(k);function k(){return f(this,k),D.apply(this,arguments)}return g(k,[{key:"clickHandler",value:function(j,L){L&&L.preventDefault(),this.props.clickHandler(j,L)}},{key:"render",value:function(){var j={"slick-arrow":!0,"slick-prev":!0},L=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(j["slick-disabled"]=!0,L=null);var I={key:"0","data-role":"none",className:(0,e.default)(j),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},H;return this.props.prevArrow?H=t.default.cloneElement(this.props.prevArrow,u(u({},I),X)):H=t.default.createElement("button",o({key:"0",type:"button"},I)," ","Previous"),H}}]),k})(t.default.PureComponent),_r.NextArrow=(function(T){w(k,T);var D=E(k);function k(){return f(this,k),D.apply(this,arguments)}return g(k,[{key:"clickHandler",value:function(j,L){L&&L.preventDefault(),this.props.clickHandler(j,L)}},{key:"render",value:function(){var j={"slick-arrow":!0,"slick-next":!0},L=this.clickHandler.bind(this,{message:"next"});(0,n.canGoNext)(this.props)||(j["slick-disabled"]=!0,L=null);var I={key:"1","data-role":"none",className:(0,e.default)(j),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},H;return this.props.nextArrow?H=t.default.cloneElement(this.props.nextArrow,u(u({},I),X)):H=t.default.createElement("button",o({key:"1",type:"button"},I)," ","Next"),H}}]),k})(t.default.PureComponent),_r}var uA=(function(){if(typeof Map<"u")return Map;function s(t,e){var n=-1;return t.some(function(r,o){return r[0]===e?(n=o,!0):!1}),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var n=s(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(e,n){var r=s(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},t.prototype.delete=function(e){var n=this.__entries__,r=s(n,e);~r&&n.splice(r,1)},t.prototype.has=function(e){return!!~s(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,n){n===void 0&&(n=null);for(var r=0,o=this.__entries__;r<o.length;r++){var l=o[r];e.call(n,l[1],l[0])}},t})()})(),Tm=typeof window<"u"&&typeof document<"u"&&window.document===document,md=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),_B=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(md):function(s){return setTimeout(function(){return s(Date.now())},1e3/60)}})(),SB=2;function wB(s,t){var e=!1,n=!1,r=0;function o(){e&&(e=!1,s()),n&&u()}function l(){_B(o)}function u(){var d=Date.now();if(e){if(d-r<SB)return;n=!0}else e=!0,n=!1,setTimeout(l,t);r=d}return u}var AB=20,xB=["top","right","bottom","left","width","height","size","weight"],EB=typeof MutationObserver<"u",TB=(function(){function s(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wB(this.refresh.bind(this),AB)}return s.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},s.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},s.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},s.prototype.connect_=function(){!Tm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),EB?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){!Tm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=e===void 0?"":e,r=xB.some(function(o){return!!~n.indexOf(o)});r&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s})(),dA=(function(s,t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];Object.defineProperty(s,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return s}),Za=(function(s){var t=s&&s.ownerDocument&&s.ownerDocument.defaultView;return t||md}),hA=qd(0,0,0,0);function gd(s){return parseFloat(s)||0}function wS(s){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(n,r){var o=s["border-"+r+"-width"];return n+gd(o)},0)}function CB(s){for(var t=["top","right","bottom","left"],e={},n=0,r=t;n<r.length;n++){var o=r[n],l=s["padding-"+o];e[o]=gd(l)}return e}function RB(s){var t=s.getBBox();return qd(0,0,t.width,t.height)}function OB(s){var t=s.clientWidth,e=s.clientHeight;if(!t&&!e)return hA;var n=Za(s).getComputedStyle(s),r=CB(n),o=r.left+r.right,l=r.top+r.bottom,u=gd(n.width),d=gd(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+o)!==t&&(u-=wS(n,"left","right")+o),Math.round(d+l)!==e&&(d-=wS(n,"top","bottom")+l)),!kB(s)){var f=Math.round(u+o)-t,p=Math.round(d+l)-e;Math.abs(f)!==1&&(u-=f),Math.abs(p)!==1&&(d-=p)}return qd(r.left,r.top,u,d)}var MB=(function(){return typeof SVGGraphicsElement<"u"?function(s){return s instanceof Za(s).SVGGraphicsElement}:function(s){return s instanceof Za(s).SVGElement&&typeof s.getBBox=="function"}})();function kB(s){return s===Za(s).document.documentElement}function DB(s){return Tm?MB(s)?RB(s):OB(s):hA}function LB(s){var t=s.x,e=s.y,n=s.width,r=s.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return dA(l,{x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:r+e,left:t}),l}function qd(s,t,e,n){return{x:s,y:t,width:e,height:n}}var NB=(function(){function s(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=qd(0,0,0,0),this.target=t}return s.prototype.isActive=function(){var t=DB(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},s.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},s})(),PB=(function(){function s(t,e){var n=LB(e);dA(this,{target:t,contentRect:n})}return s})(),jB=(function(){function s(t,e,n){if(this.activeObservations_=[],this.observations_=new uA,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return s.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Za(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new NB(t)),this.controller_.addObserver(this),this.controller_.refresh())}},s.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Za(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},s.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},s.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},s.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new PB(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},s.prototype.clearActive=function(){this.activeObservations_.splice(0)},s.prototype.hasActive=function(){return this.activeObservations_.length>0},s})(),fA=typeof WeakMap<"u"?new WeakMap:new uA,pA=(function(){function s(t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=TB.getInstance(),n=new jB(t,e,this);fA.set(this,n)}return s})();["observe","unobserve","disconnect"].forEach(function(s){pA.prototype[s]=function(){var t;return(t=fA.get(this))[s].apply(t,arguments)}});var BB=(function(){return typeof md.ResizeObserver<"u"?md.ResizeObserver:pA})();const FB=Object.freeze(Object.defineProperty({__proto__:null,default:BB},Symbol.toStringTag,{value:"Module"})),IB=CE(FB);var AS;function zB(){if(AS)return fl;AS=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.InnerSlider=void 0;var s=f(Si()),t=f(mB()),e=f(gB()),n=f($d()),r=sc(),o=yB(),l=vB(),u=bB(),d=f(IB);function f(H){return H&&H.__esModule?H:{default:H}}function p(H){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},p(H)}function g(){return g=Object.assign?Object.assign.bind():function(H){for(var Y=1;Y<arguments.length;Y++){var K=arguments[Y];for(var z in K)({}).hasOwnProperty.call(K,z)&&(H[z]=K[z])}return H},g.apply(null,arguments)}function v(H,Y){if(H==null)return{};var K,z,x=_(H,Y);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(H);for(z=0;z<st.length;z++)K=st[z],Y.includes(K)||{}.propertyIsEnumerable.call(H,K)&&(x[K]=H[K])}return x}function _(H,Y){if(H==null)return{};var K={};for(var z in H)if({}.hasOwnProperty.call(H,z)){if(Y.includes(z))continue;K[z]=H[z]}return K}function w(H,Y){var K=Object.keys(H);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(H);Y&&(z=z.filter(function(x){return Object.getOwnPropertyDescriptor(H,x).enumerable})),K.push.apply(K,z)}return K}function b(H){for(var Y=1;Y<arguments.length;Y++){var K=arguments[Y]!=null?arguments[Y]:{};Y%2?w(Object(K),!0).forEach(function(z){L(H,z,K[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(K)):w(Object(K)).forEach(function(z){Object.defineProperty(H,z,Object.getOwnPropertyDescriptor(K,z))})}return H}function E(H,Y){if(!(H instanceof Y))throw new TypeError("Cannot call a class as a function")}function A(H,Y){for(var K=0;K<Y.length;K++){var z=Y[K];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,I(z.key),z)}}function C(H,Y,K){return Y&&A(H.prototype,Y),Object.defineProperty(H,"prototype",{writable:!1}),H}function M(H,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(Y&&Y.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),Y&&F(H,Y)}function F(H,Y){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(K,z){return K.__proto__=z,K},F(H,Y)}function T(H){var Y=N();return function(){var K,z=j(H);if(Y){var x=j(this).constructor;K=Reflect.construct(z,arguments,x)}else K=z.apply(this,arguments);return D(this,K)}}function D(H,Y){if(Y&&(p(Y)=="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k(H)}function k(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function N(){try{var H=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!H})()}function j(H){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},j(H)}function L(H,Y,K){return(Y=I(Y))in H?Object.defineProperty(H,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}):H[Y]=K,H}function I(H){var Y=X(H,"string");return p(Y)=="symbol"?Y:Y+""}function X(H,Y){if(p(H)!="object"||!H)return H;var K=H[Symbol.toPrimitive];if(K!==void 0){var z=K.call(H,Y);if(p(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(H)}return fl.InnerSlider=(function(H){M(K,H);var Y=T(K);function K(z){var x;E(this,K),x=Y.call(this,z),L(k(x),"listRefHandler",function(V){return x.list=V}),L(k(x),"trackRefHandler",function(V){return x.track=V}),L(k(x),"adaptHeight",function(){if(x.props.adaptiveHeight&&x.list){var V=x.list.querySelector('[data-index="'.concat(x.state.currentSlide,'"]'));x.list.style.height=(0,r.getHeight)(V)+"px"}}),L(k(x),"componentDidMount",function(){if(x.props.onInit&&x.props.onInit(),x.props.lazyLoad){var V=(0,r.getOnDemandLazySlides)(b(b({},x.props),x.state));V.length>0&&(x.setState(function(B){return{lazyLoadedList:B.lazyLoadedList.concat(V)}}),x.props.onLazyLoad&&x.props.onLazyLoad(V))}var S=b({listRef:x.list,trackRef:x.track},x.props);x.updateState(S,!0,function(){x.adaptHeight(),x.props.autoplay&&x.autoPlay("update")}),x.props.lazyLoad==="progressive"&&(x.lazyLoadTimer=setInterval(x.progressiveLazyLoad,1e3)),x.ro=new d.default(function(){x.state.animating?(x.onWindowResized(!1),x.callbackTimers.push(setTimeout(function(){return x.onWindowResized()},x.props.speed))):x.onWindowResized()}),x.ro.observe(x.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(B){B.onfocus=x.props.pauseOnFocus?x.onSlideFocus:null,B.onblur=x.props.pauseOnFocus?x.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",x.onWindowResized):window.attachEvent("onresize",x.onWindowResized)}),L(k(x),"componentWillUnmount",function(){x.animationEndCallback&&clearTimeout(x.animationEndCallback),x.lazyLoadTimer&&clearInterval(x.lazyLoadTimer),x.callbackTimers.length&&(x.callbackTimers.forEach(function(V){return clearTimeout(V)}),x.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",x.onWindowResized):window.detachEvent("onresize",x.onWindowResized),x.autoplayTimer&&clearInterval(x.autoplayTimer),x.ro.disconnect()}),L(k(x),"componentDidUpdate",function(V){if(x.checkImagesLoad(),x.props.onReInit&&x.props.onReInit(),x.props.lazyLoad){var S=(0,r.getOnDemandLazySlides)(b(b({},x.props),x.state));S.length>0&&(x.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(S)}}),x.props.onLazyLoad&&x.props.onLazyLoad(S))}x.adaptHeight();var B=b(b({listRef:x.list,trackRef:x.track},x.props),x.state),$=x.didPropsChange(V);$&&x.updateState(B,$,function(){x.state.currentSlide>=s.default.Children.count(x.props.children)&&x.changeSlide({message:"index",index:s.default.Children.count(x.props.children)-x.props.slidesToShow,currentSlide:x.state.currentSlide}),x.props.autoplay?x.autoPlay("update"):x.pause("paused")})}),L(k(x),"onWindowResized",function(V){x.debouncedResize&&x.debouncedResize.cancel(),x.debouncedResize=(0,e.default)(function(){return x.resizeWindow(V)},50),x.debouncedResize()}),L(k(x),"resizeWindow",function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,S=!!(x.track&&x.track.node);if(S){var B=b(b({listRef:x.list,trackRef:x.track},x.props),x.state);x.updateState(B,V,function(){x.props.autoplay?x.autoPlay("update"):x.pause("paused")}),x.setState({animating:!1}),clearTimeout(x.animationEndCallback),delete x.animationEndCallback}}),L(k(x),"updateState",function(V,S,B){var $=(0,r.initializedState)(V);V=b(b(b({},V),$),{},{slideIndex:$.currentSlide});var Q=(0,r.getTrackLeft)(V);V=b(b({},V),{},{left:Q});var tt=(0,r.getTrackCSS)(V);(S||s.default.Children.count(x.props.children)!==s.default.Children.count(V.children))&&($.trackStyle=tt),x.setState($,B)}),L(k(x),"ssrInit",function(){if(x.props.variableWidth){var V=0,S=0,B=[],$=(0,r.getPreClones)(b(b(b({},x.props),x.state),{},{slideCount:x.props.children.length})),Q=(0,r.getPostClones)(b(b(b({},x.props),x.state),{},{slideCount:x.props.children.length}));x.props.children.forEach(function(Vt){B.push(Vt.props.style.width),V+=Vt.props.style.width});for(var tt=0;tt<$;tt++)S+=B[B.length-1-tt],V+=B[B.length-1-tt];for(var ct=0;ct<Q;ct++)V+=B[ct];for(var at=0;at<x.state.currentSlide;at++)S+=B[at];var dt={width:V+"px",left:-S+"px"};if(x.props.centerMode){var yt="".concat(B[x.state.currentSlide],"px");dt.left="calc(".concat(dt.left," + (100% - ").concat(yt,") / 2 ) ")}return{trackStyle:dt}}var xt=s.default.Children.count(x.props.children),St=b(b(b({},x.props),x.state),{},{slideCount:xt}),It=(0,r.getPreClones)(St)+(0,r.getPostClones)(St)+xt,Ft=100/x.props.slidesToShow*It,bt=100/It,_t=-bt*((0,r.getPreClones)(St)+x.state.currentSlide)*Ft/100;x.props.centerMode&&(_t+=(100-bt*Ft/100)/2);var kt={width:Ft+"%",left:_t+"%"};return{slideWidth:bt+"%",trackStyle:kt}}),L(k(x),"checkImagesLoad",function(){var V=x.list&&x.list.querySelectorAll&&x.list.querySelectorAll(".slick-slide img")||[],S=V.length,B=0;Array.prototype.forEach.call(V,function($){var Q=function(){return++B&&B>=S&&x.onWindowResized()};if(!$.onclick)$.onclick=function(){return $.parentNode.focus()};else{var tt=$.onclick;$.onclick=function(ct){tt(ct),$.parentNode.focus()}}$.onload||(x.props.lazyLoad?$.onload=function(){x.adaptHeight(),x.callbackTimers.push(setTimeout(x.onWindowResized,x.props.speed))}:($.onload=Q,$.onerror=function(){Q(),x.props.onLazyLoadError&&x.props.onLazyLoadError()}))})}),L(k(x),"progressiveLazyLoad",function(){for(var V=[],S=b(b({},x.props),x.state),B=x.state.currentSlide;B<x.state.slideCount+(0,r.getPostClones)(S);B++)if(x.state.lazyLoadedList.indexOf(B)<0){V.push(B);break}for(var $=x.state.currentSlide-1;$>=-(0,r.getPreClones)(S);$--)if(x.state.lazyLoadedList.indexOf($)<0){V.push($);break}V.length>0?(x.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(V)}}),x.props.onLazyLoad&&x.props.onLazyLoad(V)):x.lazyLoadTimer&&(clearInterval(x.lazyLoadTimer),delete x.lazyLoadTimer)}),L(k(x),"slideHandler",function(V){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=x.props,$=B.asNavFor,Q=B.beforeChange,tt=B.onLazyLoad,ct=B.speed,at=B.afterChange,dt=x.state.currentSlide,yt=(0,r.slideHandler)(b(b(b({index:V},x.props),x.state),{},{trackRef:x.track,useCSS:x.props.useCSS&&!S})),xt=yt.state,St=yt.nextState;if(xt){Q&&Q(dt,xt.currentSlide);var It=xt.lazyLoadedList.filter(function(Ft){return x.state.lazyLoadedList.indexOf(Ft)<0});tt&&It.length>0&&tt(It),!x.props.waitForAnimate&&x.animationEndCallback&&(clearTimeout(x.animationEndCallback),at&&at(dt),delete x.animationEndCallback),x.setState(xt,function(){$&&x.asNavForIndex!==V&&(x.asNavForIndex=V,$.innerSlider.slideHandler(V)),St&&(x.animationEndCallback=setTimeout(function(){var Ft=St.animating,bt=v(St,["animating"]);x.setState(bt,function(){x.callbackTimers.push(setTimeout(function(){return x.setState({animating:Ft})},10)),at&&at(xt.currentSlide),delete x.animationEndCallback})},ct))})}}),L(k(x),"changeSlide",function(V){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,B=b(b({},x.props),x.state),$=(0,r.changeSlide)(B,V);if(!($!==0&&!$)&&(S===!0?x.slideHandler($,S):x.slideHandler($),x.props.autoplay&&x.autoPlay("update"),x.props.focusOnSelect)){var Q=x.list.querySelectorAll(".slick-current");Q[0]&&Q[0].focus()}}),L(k(x),"clickHandler",function(V){x.clickable===!1&&(V.stopPropagation(),V.preventDefault()),x.clickable=!0}),L(k(x),"keyHandler",function(V){var S=(0,r.keyHandler)(V,x.props.accessibility,x.props.rtl);S!==""&&x.changeSlide({message:S})}),L(k(x),"selectHandler",function(V){x.changeSlide(V)}),L(k(x),"disableBodyScroll",function(){var V=function(B){B=B||window.event,B.preventDefault&&B.preventDefault(),B.returnValue=!1};window.ontouchmove=V}),L(k(x),"enableBodyScroll",function(){window.ontouchmove=null}),L(k(x),"swipeStart",function(V){x.props.verticalSwiping&&x.disableBodyScroll();var S=(0,r.swipeStart)(V,x.props.swipe,x.props.draggable);S!==""&&x.setState(S)}),L(k(x),"swipeMove",function(V){var S=(0,r.swipeMove)(V,b(b(b({},x.props),x.state),{},{trackRef:x.track,listRef:x.list,slideIndex:x.state.currentSlide}));S&&(S.swiping&&(x.clickable=!1),x.setState(S))}),L(k(x),"swipeEnd",function(V){var S=(0,r.swipeEnd)(V,b(b(b({},x.props),x.state),{},{trackRef:x.track,listRef:x.list,slideIndex:x.state.currentSlide}));if(S){var B=S.triggerSlideHandler;delete S.triggerSlideHandler,x.setState(S),B!==void 0&&(x.slideHandler(B),x.props.verticalSwiping&&x.enableBodyScroll())}}),L(k(x),"touchEnd",function(V){x.swipeEnd(V),x.clickable=!0}),L(k(x),"slickPrev",function(){x.callbackTimers.push(setTimeout(function(){return x.changeSlide({message:"previous"})},0))}),L(k(x),"slickNext",function(){x.callbackTimers.push(setTimeout(function(){return x.changeSlide({message:"next"})},0))}),L(k(x),"slickGoTo",function(V){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V=Number(V),isNaN(V))return"";x.callbackTimers.push(setTimeout(function(){return x.changeSlide({message:"index",index:V,currentSlide:x.state.currentSlide},S)},0))}),L(k(x),"play",function(){var V;if(x.props.rtl)V=x.state.currentSlide-x.props.slidesToScroll;else if((0,r.canGoNext)(b(b({},x.props),x.state)))V=x.state.currentSlide+x.props.slidesToScroll;else return!1;x.slideHandler(V)}),L(k(x),"autoPlay",function(V){x.autoplayTimer&&clearInterval(x.autoplayTimer);var S=x.state.autoplaying;if(V==="update"){if(S==="hovered"||S==="focused"||S==="paused")return}else if(V==="leave"){if(S==="paused"||S==="focused")return}else if(V==="blur"&&(S==="paused"||S==="hovered"))return;x.autoplayTimer=setInterval(x.play,x.props.autoplaySpeed+50),x.setState({autoplaying:"playing"})}),L(k(x),"pause",function(V){x.autoplayTimer&&(clearInterval(x.autoplayTimer),x.autoplayTimer=null);var S=x.state.autoplaying;V==="paused"?x.setState({autoplaying:"paused"}):V==="focused"?(S==="hovered"||S==="playing")&&x.setState({autoplaying:"focused"}):S==="playing"&&x.setState({autoplaying:"hovered"})}),L(k(x),"onDotsOver",function(){return x.props.autoplay&&x.pause("hovered")}),L(k(x),"onDotsLeave",function(){return x.props.autoplay&&x.state.autoplaying==="hovered"&&x.autoPlay("leave")}),L(k(x),"onTrackOver",function(){return x.props.autoplay&&x.pause("hovered")}),L(k(x),"onTrackLeave",function(){return x.props.autoplay&&x.state.autoplaying==="hovered"&&x.autoPlay("leave")}),L(k(x),"onSlideFocus",function(){return x.props.autoplay&&x.pause("focused")}),L(k(x),"onSlideBlur",function(){return x.props.autoplay&&x.state.autoplaying==="focused"&&x.autoPlay("blur")}),L(k(x),"render",function(){var V=(0,n.default)("slick-slider",x.props.className,{"slick-vertical":x.props.vertical,"slick-initialized":!0}),S=b(b({},x.props),x.state),B=(0,r.extractObject)(S,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),$=x.props.pauseOnHover;B=b(b({},B),{},{onMouseEnter:$?x.onTrackOver:null,onMouseLeave:$?x.onTrackLeave:null,onMouseOver:$?x.onTrackOver:null,focusOnSelect:x.props.focusOnSelect&&x.clickable?x.selectHandler:null});var Q;if(x.props.dots===!0&&x.state.slideCount>=x.props.slidesToShow){var tt=(0,r.extractObject)(S,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ct=x.props.pauseOnDotsHover;tt=b(b({},tt),{},{clickHandler:x.changeSlide,onMouseEnter:ct?x.onDotsLeave:null,onMouseOver:ct?x.onDotsOver:null,onMouseLeave:ct?x.onDotsLeave:null}),Q=s.default.createElement(l.Dots,tt)}var at,dt,yt=(0,r.extractObject)(S,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);yt.clickHandler=x.changeSlide,x.props.arrows&&(at=s.default.createElement(u.PrevArrow,yt),dt=s.default.createElement(u.NextArrow,yt));var xt=null;x.props.vertical&&(xt={height:x.state.listHeight});var St=null;x.props.vertical===!1?x.props.centerMode===!0&&(St={padding:"0px "+x.props.centerPadding}):x.props.centerMode===!0&&(St={padding:x.props.centerPadding+" 0px"});var It=b(b({},xt),St),Ft=x.props.touchMove,bt={className:"slick-list",style:It,onClick:x.clickHandler,onMouseDown:Ft?x.swipeStart:null,onMouseMove:x.state.dragging&&Ft?x.swipeMove:null,onMouseUp:Ft?x.swipeEnd:null,onMouseLeave:x.state.dragging&&Ft?x.swipeEnd:null,onTouchStart:Ft?x.swipeStart:null,onTouchMove:x.state.dragging&&Ft?x.swipeMove:null,onTouchEnd:Ft?x.touchEnd:null,onTouchCancel:x.state.dragging&&Ft?x.swipeEnd:null,onKeyDown:x.props.accessibility?x.keyHandler:null},_t={className:V,dir:"ltr",style:x.props.style};return x.props.unslick&&(bt={className:"slick-list"},_t={className:V,style:x.props.style}),s.default.createElement("div",_t,x.props.unslick?"":at,s.default.createElement("div",g({ref:x.listRefHandler},bt),s.default.createElement(o.Track,g({ref:x.trackRefHandler},B),x.props.children)),x.props.unslick?"":dt,x.props.unslick?"":Q)}),x.list=null,x.track=null,x.state=b(b({},t.default),{},{currentSlide:x.props.initialSlide,targetSlide:x.props.initialSlide?x.props.initialSlide:0,slideCount:s.default.Children.count(x.props.children)}),x.callbackTimers=[],x.clickable=!0,x.debouncedResize=null;var st=x.ssrInit();return x.state=b(b({},x.state),st),x}return C(K,[{key:"didPropsChange",value:function(x){for(var st=!1,V=0,S=Object.keys(this.props);V<S.length;V++){var B=S[V];if(!x.hasOwnProperty(B)){st=!0;break}if(!(p(x[B])==="object"||typeof x[B]=="function"||isNaN(x[B]))&&x[B]!==this.props[B]){st=!0;break}}return st||s.default.Children.count(this.props.children)!==s.default.Children.count(x.children)}}]),K})(s.default.Component),fl}var Hp,xS;function UB(){if(xS)return Hp;xS=1;var s=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()};return Hp=s,Hp}var Vp,ES;function HB(){if(ES)return Vp;ES=1;var s=UB(),t=function(r){var o=/[height|width]$/;return o.test(r)},e=function(r){var o="",l=Object.keys(r);return l.forEach(function(u,d){var f=r[u];u=s(u),t(u)&&typeof f=="number"&&(f=f+"px"),f===!0?o+=u:f===!1?o+="not "+u:o+="("+u+": "+f+")",d<l.length-1&&(o+=" and ")}),o},n=function(r){var o="";return typeof r=="string"?r:r instanceof Array?(r.forEach(function(l,u){o+=e(l),u<r.length-1&&(o+=", ")}),o):e(r)};return Vp=n,Vp}var TS;function VB(){return TS||(TS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=l(Si()),e=zB(),n=l(HB()),r=l(cA()),o=sc();function l(N){return N&&N.__esModule?N:{default:N}}function u(N){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},u(N)}function d(){return d=Object.assign?Object.assign.bind():function(N){for(var j=1;j<arguments.length;j++){var L=arguments[j];for(var I in L)({}).hasOwnProperty.call(L,I)&&(N[I]=L[I])}return N},d.apply(null,arguments)}function f(N,j){var L=Object.keys(N);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(N);j&&(I=I.filter(function(X){return Object.getOwnPropertyDescriptor(N,X).enumerable})),L.push.apply(L,I)}return L}function p(N){for(var j=1;j<arguments.length;j++){var L=arguments[j]!=null?arguments[j]:{};j%2?f(Object(L),!0).forEach(function(I){T(N,I,L[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(L)):f(Object(L)).forEach(function(I){Object.defineProperty(N,I,Object.getOwnPropertyDescriptor(L,I))})}return N}function g(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function v(N,j){for(var L=0;L<j.length;L++){var I=j[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(N,D(I.key),I)}}function _(N,j,L){return j&&v(N.prototype,j),Object.defineProperty(N,"prototype",{writable:!1}),N}function w(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),j&&b(N,j)}function b(N,j){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,I){return L.__proto__=I,L},b(N,j)}function E(N){var j=M();return function(){var L,I=F(N);if(j){var X=F(this).constructor;L=Reflect.construct(I,arguments,X)}else L=I.apply(this,arguments);return A(this,L)}}function A(N,j){if(j&&(u(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(N)}function C(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function M(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!N})()}function F(N){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},F(N)}function T(N,j,L){return(j=D(j))in N?Object.defineProperty(N,j,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[j]=L,N}function D(N){var j=k(N,"string");return u(j)=="symbol"?j:j+""}function k(N,j){if(u(N)!="object"||!N)return N;var L=N[Symbol.toPrimitive];if(L!==void 0){var I=L.call(N,j);if(u(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(N)}s.default=(function(N){w(L,N);var j=E(L);function L(I){var X;return g(this,L),X=j.call(this,I),T(C(X),"innerSliderRefHandler",function(H){return X.innerSlider=H}),T(C(X),"slickPrev",function(){return X.innerSlider.slickPrev()}),T(C(X),"slickNext",function(){return X.innerSlider.slickNext()}),T(C(X),"slickGoTo",function(H){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return X.innerSlider.slickGoTo(H,Y)}),T(C(X),"slickPause",function(){return X.innerSlider.pause("paused")}),T(C(X),"slickPlay",function(){return X.innerSlider.autoPlay("play")}),X.state={breakpoint:null},X._responsiveMediaHandlers=[],X}return _(L,[{key:"media",value:function(X,H){var Y=window.matchMedia(X),K=function(x){var st=x.matches;st&&H()};Y.addListener(K),this._responsiveMediaHandlers.push({mql:Y,query:X,listener:K})}},{key:"componentDidMount",value:function(){var X=this;if(this.props.responsive){var H=this.props.responsive.map(function(K){return K.breakpoint});H.sort(function(K,z){return K-z}),H.forEach(function(K,z){var x;z===0?x=(0,n.default)({minWidth:0,maxWidth:K}):x=(0,n.default)({minWidth:H[z-1]+1,maxWidth:K}),(0,o.canUseDOM)()&&X.media(x,function(){X.setState({breakpoint:K})})});var Y=(0,n.default)({minWidth:H.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Y,function(){X.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(X){X.mql.removeListener(X.listener)})}},{key:"render",value:function(){var X=this,H,Y;this.state.breakpoint?(Y=this.props.responsive.filter(function(tt){return tt.breakpoint===X.state.breakpoint}),H=Y[0].settings==="unslick"?"unslick":p(p(p({},r.default),this.props),Y[0].settings)):H=p(p({},r.default),this.props),H.centerMode&&(H.slidesToScroll>1,H.slidesToScroll=1),H.fade&&(H.slidesToShow>1,H.slidesToScroll>1,H.slidesToShow=1,H.slidesToScroll=1);var K=t.default.Children.toArray(this.props.children);K=K.filter(function(tt){return typeof tt=="string"?!!tt.trim():!!tt}),H.variableWidth&&(H.rows>1||H.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),H.variableWidth=!1);for(var z=[],x=null,st=0;st<K.length;st+=H.rows*H.slidesPerRow){for(var V=[],S=st;S<st+H.rows*H.slidesPerRow;S+=H.slidesPerRow){for(var B=[],$=S;$<S+H.slidesPerRow&&(H.variableWidth&&K[$].props.style&&(x=K[$].props.style.width),!($>=K.length));$+=1)B.push(t.default.cloneElement(K[$],{key:100*st+10*S+$,tabIndex:-1,style:{width:"".concat(100/H.slidesPerRow,"%"),display:"inline-block"}}));V.push(t.default.createElement("div",{key:10*st+S},B))}H.variableWidth?z.push(t.default.createElement("div",{key:st,style:{width:x}},V)):z.push(t.default.createElement("div",{key:st},V))}if(H==="unslick"){var Q="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:Q},K)}else z.length<=H.slidesToShow&&(H.unslick=!0);return t.default.createElement(e.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(H)),z)}}]),L})(t.default.Component)})(Bp)),Bp}var CS;function $B(){return CS||(CS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=e(VB());function e(n){return n&&n.__esModule?n:{default:n}}s.default=t.default})(jp)),jp}var qB=$B();const GB=vd(qB),XB="_container_166ef_1",YB="_title_166ef_7",WB="_subtitle_166ef_13",KB="_button_166ef_19",QB="_head_166ef_49",Sr={container:XB,title:YB,subtitle:WB,button:KB,head:QB},ZB="_card_1ys2y_1",JB="_title_1ys2y_19",tF="_content_1ys2y_25",eF="_image_1ys2y_31",nF="_text_1ys2y_38",gl={card:ZB,title:JB,content:tF,image:eF,text:nF},iF=({title:s,color:t,image:e,text:n})=>O.jsxs("div",{className:gl.card,style:{backgroundColor:t},children:[O.jsx("h3",{className:gl.title,children:s}),O.jsxs("div",{className:gl.content,children:[O.jsx("img",{src:e,alt:s,className:gl.image}),O.jsx("p",{className:gl.text,children:n})]})]}),sF=()=>{const s=[{title:"Matching",color:"#FFDAD6",image:"https://cdn-icons-png.flaticon.com/512/616/616408.png"},{title:"Expert Solutions",color:"#C6F7E2",image:"https://cdn-icons-png.flaticon.com/512/2920/2920214.png"},{title:"Memorization",color:"#C7E9FB",image:"https://cdn-icons-png.flaticon.com/512/2830/2830308.png"},{title:"Flashcards",color:"#5A4FF3",image:"https://cdn-icons-png.flaticon.com/512/821/821484.png"},{title:"Definitions",color:"#FFF0C9",image:"https://cdn-icons-png.flaticon.com/512/2721/2721298.png"},{title:"Practice Tests",color:"#E9D8FD",image:"https://cdn-icons-png.flaticon.com/512/2593/2593448.png"},{title:"Diagrams",color:"#FEE2E2",image:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png"},{title:"Games",color:"#DCFCE7",image:"https://cdn-icons-png.flaticon.com/512/2784/2784463.png"},{title:"Study Plan",color:"#FEF9C3",image:"https://cdn-icons-png.flaticon.com/512/3707/3707225.png"},{title:"Notes",color:"#FDE68A",image:"https://cdn-icons-png.flaticon.com/512/1828/1828911.png"}],t={dots:!0,infinite:!0,speed:400,slidesToShow:5,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},e=Fl();return O.jsxs("div",{className:Sr.container,children:[O.jsxs("div",{className:Sr.head,children:[O.jsx("h1",{className:Sr.title,children:"How do you want to study?"}),O.jsx("p",{className:Sr.subtitle,children:"Master any material using interactive Study Buddy."}),O.jsxs("button",{className:Sr.button,onClick:()=>e("/register"),children:["Sign up"," "]})]}),O.jsx("div",{className:Sr.sliderContainer,children:O.jsx(GB,{...t,children:s.map((n,r)=>O.jsx("div",{className:Sr.slide,children:O.jsx(iF,{...n})},r))})})]})},rF="_section_1ts4w_1",aF="_reverse_1ts4w_10",oF="_imageWrapper_1ts4w_14",lF="_image_1ts4w_14",cF="_textContent_1ts4w_27",uF="_title_1ts4w_32",dF="_description_1ts4w_39",hF="_button_1ts4w_46",$s={section:rF,reverse:aF,imageWrapper:oF,image:lF,textContent:cF,title:uF,description:dF,button:hF},fF=({title:s,description:t,buttonText:e,image:n,reverse:r=!1,bgColor:o="#f5f7fb"})=>O.jsxs("section",{className:`${$s.section} ${r?$s.reverse:""}`,style:{backgroundColor:o},children:[O.jsx("div",{className:$s.imageWrapper,children:O.jsx("img",{src:n,alt:s,className:$s.image})}),O.jsxs("div",{className:$s.textContent,children:[O.jsx("h2",{className:$s.title,children:s}),O.jsx("p",{className:$s.description,children:t}),O.jsx("button",{className:$s.button,children:e})]})]}),pF="/Study-Buddy/assets/introImg1-DudReclK.png",RS="/Study-Buddy/assets/introImg2-BAv0_6N1.png",mF=()=>{const s=[{title:"Choose how you want to study",description:"Turn flashcards into multiple-choice questions and more using Study Mode. Strengthen your knowledge with fun learning games like Matching.",buttonText:"Start",image:RS,bgColor:"#f9faff",reverse:!1},{title:"Master concepts efficiently",description:"Practice smarter, not harder. Get instant feedback and detailed explanations as you learn key terms.",buttonText:"Try Now",image:pF,bgColor:"#f5f7fb",reverse:!0},{title:"Track your progress",description:"Stay motivated with visual progress charts and personalized study recommendations based on your performance.",buttonText:"View Progress",image:RS,bgColor:"#f9f9ff",reverse:!1}];return O.jsxs(O.Fragment,{children:[O.jsx(id,{}),O.jsxs(rm,{children:[O.jsx(sF,{}),s.map((t,e)=>O.jsx(fF,{title:t.title,description:t.description,buttonText:t.buttonText,image:t.image,bgColor:t.bgColor,reverse:t.reverse},e))]})]})};function gF(){const{fileId:s}=jS();return O.jsxs("div",{style:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",background:"#fafafa",padding:"40px 0"},children:[O.jsx("h1",{style:{marginBottom:"20px"},children:"PDF Viewer"}),O.jsx("div",{style:{width:"90%",maxWidth:"1000px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:"8px",padding:"20px"},children:O.jsx(Xu,{fileId:s,fileName:`File ${s}`,height:"80vh"})})]})}const $p=({children:s})=>{const{isLoggedIn:t}=zl(e=>e.auth);return t?s:O.jsx(IS,{to:"/login",replace:!0})},qp=({children:s})=>{const{isLoggedIn:t}=zl(e=>e.auth);return t?O.jsx(IS,{to:"/",replace:!0}):s};function yF(){return O.jsxs("div",{className:"h-screen flex items-center justify-center",children:[O.jsxs(CT,{children:[O.jsx(wr,{path:"/welcome",element:O.jsx(qp,{children:O.jsx(mF,{})})}),O.jsx(wr,{path:"/login",element:O.jsx(qp,{children:O.jsx(O_,{})})}),O.jsx(wr,{path:"/register",element:O.jsx(qp,{children:O.jsx(O_,{isRegister:!0})})}),O.jsx(wr,{path:"/test/:fileId",element:O.jsx($p,{children:O.jsx(gF,{})})}),O.jsx(wr,{path:"/",element:O.jsx($p,{children:O.jsx(kk,{})})}),O.jsx(wr,{path:"/modules/:moduleId",element:O.jsx($p,{children:O.jsx(pB,{})})})]}),O.jsx(LD,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}BE.createRoot(document.getElementById("root")).render(O.jsx(U.StrictMode,{children:O.jsx(KT,{basename:"/Study-Buddy",children:O.jsx(wC,{store:QR,children:O.jsx(yF,{})})})}));
