var s0=s=>{throw TypeError(s)};var Jf=(s,t,e)=>t.has(s)||s0("Cannot "+e);var be=(s,t,e)=>(Jf(s,t,"read from private field"),e?e.call(s):t.get(s)),Di=(s,t,e)=>t.has(s)?s0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),xn=(s,t,e,n)=>(Jf(s,t,"write to private field"),n?n.call(s,e):t.set(s,e),e),ki=(s,t,e)=>(Jf(s,t,"access private method"),e);var r0=(s,t,e,n)=>({set _(r){xn(s,t,r,e)},get _(){return be(s,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hd(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Ax(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var t=s.default;if(typeof t=="function"){var e=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(s).forEach(function(n){var r=Object.getOwnPropertyDescriptor(s,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return s[n]}})}),e}var tp={exports:{}},Jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Ex(){if(a0)return Jo;a0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:s,type:n,key:l,ref:r!==void 0?r:null,props:o}}return Jo.Fragment=t,Jo.jsx=e,Jo.jsxs=e,Jo}var o0;function xx(){return o0||(o0=1,tp.exports=Ex()),tp.exports}var k=xx(),ep={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function Tx(){if(l0)return qt;l0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=m&&S[m]||S["@@iterator"],typeof S=="function"?S:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function x(S,F,$){this.props=S,this.context=F,this.refs=_,this.updater=$||b}x.prototype.isReactComponent={},x.prototype.setState=function(S,F){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,F,"setState")},x.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function A(){}A.prototype=x.prototype;function C(S,F,$){this.props=S,this.context=F,this.refs=_,this.updater=$||b}var M=C.prototype=new A;M.constructor=C,w(M,x.prototype),M.isPureReactComponent=!0;var j=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function O(S,F,$,K,tt,ct){return $=ct.ref,{$$typeof:s,type:S,key:F,ref:$!==void 0?$:null,props:ct}}function N(S,F){return O(S.type,F,void 0,void 0,void 0,S.props)}function P(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function L(S){var F={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function($){return F[$]})}var U=/\/+/g;function X(S,F){return typeof S=="object"&&S!==null&&S.key!=null?L(""+S.key):F.toString(36)}function H(){}function W(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(H,H):(S.status="pending",S.then(function(F){S.status==="pending"&&(S.status="fulfilled",S.value=F)},function(F){S.status==="pending"&&(S.status="rejected",S.reason=F)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function J(S,F,$,K,tt){var ct=typeof S;(ct==="undefined"||ct==="boolean")&&(S=null);var at=!1;if(S===null)at=!0;else switch(ct){case"bigint":case"string":case"number":at=!0;break;case"object":switch(S.$$typeof){case s:case t:at=!0;break;case p:return at=S._init,J(at(S._payload),F,$,K,tt)}}if(at)return tt=tt(S),at=K===""?"."+X(S,0):K,j(tt)?($="",at!=null&&($=at.replace(U,"$&/")+"/"),J(tt,F,$,"",function(Et){return Et})):tt!=null&&(P(tt)&&(tt=N(tt,$+(tt.key==null||S&&S.key===tt.key?"":(""+tt.key).replace(U,"$&/")+"/")+at)),F.push(tt)),1;at=0;var dt=K===""?".":K+":";if(j(S))for(var yt=0;yt<S.length;yt++)K=S[yt],ct=dt+X(K,yt),at+=J(K,F,$,ct,tt);else if(yt=v(S),typeof yt=="function")for(S=yt.call(S),yt=0;!(K=S.next()).done;)K=K.value,ct=dt+X(K,yt++),at+=J(K,F,$,ct,tt);else if(ct==="object"){if(typeof S.then=="function")return J(W(S),F,$,K,tt);throw F=String(S),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return at}function I(S,F,$){if(S==null)return S;var K=[],tt=0;return J(S,K,"","",function(ct){return F.call($,ct,tt++)}),K}function E(S){if(S._status===-1){var F=S._result;F=F(),F.then(function($){(S._status===0||S._status===-1)&&(S._status=1,S._result=$)},function($){(S._status===0||S._status===-1)&&(S._status=2,S._result=$)}),S._status===-1&&(S._status=0,S._result=F)}if(S._status===1)return S._result.default;throw S._result}var rt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function V(){}return qt.Children={map:I,forEach:function(S,F,$){I(S,function(){F.apply(this,arguments)},$)},count:function(S){var F=0;return I(S,function(){F++}),F},toArray:function(S){return I(S,function(F){return F})||[]},only:function(S){if(!P(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},qt.Component=x,qt.Fragment=e,qt.Profiler=r,qt.PureComponent=C,qt.StrictMode=n,qt.Suspense=d,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,qt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return T.H.useMemoCache(S)}},qt.cache=function(S){return function(){return S.apply(null,arguments)}},qt.cloneElement=function(S,F,$){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var K=w({},S.props),tt=S.key,ct=void 0;if(F!=null)for(at in F.ref!==void 0&&(ct=void 0),F.key!==void 0&&(tt=""+F.key),F)!D.call(F,at)||at==="key"||at==="__self"||at==="__source"||at==="ref"&&F.ref===void 0||(K[at]=F[at]);var at=arguments.length-2;if(at===1)K.children=$;else if(1<at){for(var dt=Array(at),yt=0;yt<at;yt++)dt[yt]=arguments[yt+2];K.children=dt}return O(S.type,tt,void 0,void 0,ct,K)},qt.createContext=function(S){return S={$$typeof:l,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},qt.createElement=function(S,F,$){var K,tt={},ct=null;if(F!=null)for(K in F.key!==void 0&&(ct=""+F.key),F)D.call(F,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(tt[K]=F[K]);var at=arguments.length-2;if(at===1)tt.children=$;else if(1<at){for(var dt=Array(at),yt=0;yt<at;yt++)dt[yt]=arguments[yt+2];tt.children=dt}if(S&&S.defaultProps)for(K in at=S.defaultProps,at)tt[K]===void 0&&(tt[K]=at[K]);return O(S,ct,void 0,void 0,null,tt)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(S){return{$$typeof:u,render:S}},qt.isValidElement=P,qt.lazy=function(S){return{$$typeof:p,_payload:{_status:-1,_result:S},_init:E}},qt.memo=function(S,F){return{$$typeof:f,type:S,compare:F===void 0?null:F}},qt.startTransition=function(S){var F=T.T,$={};T.T=$;try{var K=S(),tt=T.S;tt!==null&&tt($,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(V,rt)}catch(ct){rt(ct)}finally{T.T=F}},qt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},qt.use=function(S){return T.H.use(S)},qt.useActionState=function(S,F,$){return T.H.useActionState(S,F,$)},qt.useCallback=function(S,F){return T.H.useCallback(S,F)},qt.useContext=function(S){return T.H.useContext(S)},qt.useDebugValue=function(){},qt.useDeferredValue=function(S,F){return T.H.useDeferredValue(S,F)},qt.useEffect=function(S,F,$){var K=T.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(S,F)},qt.useId=function(){return T.H.useId()},qt.useImperativeHandle=function(S,F,$){return T.H.useImperativeHandle(S,F,$)},qt.useInsertionEffect=function(S,F){return T.H.useInsertionEffect(S,F)},qt.useLayoutEffect=function(S,F){return T.H.useLayoutEffect(S,F)},qt.useMemo=function(S,F){return T.H.useMemo(S,F)},qt.useOptimistic=function(S,F){return T.H.useOptimistic(S,F)},qt.useReducer=function(S,F,$){return T.H.useReducer(S,F,$)},qt.useRef=function(S){return T.H.useRef(S)},qt.useState=function(S){return T.H.useState(S)},qt.useSyncExternalStore=function(S,F,$){return T.H.useSyncExternalStore(S,F,$)},qt.useTransition=function(){return T.H.useTransition()},qt.version="19.1.1",qt}var c0;function _i(){return c0||(c0=1,ep.exports=Tx()),ep.exports}var z=_i();const zt=hd(z);var np={exports:{}},tl={},ip={exports:{}},sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Cx(){return u0||(u0=1,(function(s){function t(I,E){var rt=I.length;I.push(E);t:for(;0<rt;){var V=rt-1>>>1,S=I[V];if(0<r(S,E))I[V]=E,I[rt]=S,rt=V;else break t}}function e(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var E=I[0],rt=I.pop();if(rt!==E){I[0]=rt;t:for(var V=0,S=I.length,F=S>>>1;V<F;){var $=2*(V+1)-1,K=I[$],tt=$+1,ct=I[tt];if(0>r(K,rt))tt<S&&0>r(ct,K)?(I[V]=ct,I[tt]=rt,V=tt):(I[V]=K,I[$]=rt,V=$);else if(tt<S&&0>r(ct,rt))I[V]=ct,I[tt]=rt,V=tt;else break t}}return E}function r(I,E){var rt=I.sortIndex-E.sortIndex;return rt!==0?rt:I.id-E.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();s.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,v=3,b=!1,w=!1,_=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function j(I){for(var E=e(f);E!==null;){if(E.callback===null)n(f);else if(E.startTime<=I)n(f),E.sortIndex=E.expirationTime,t(d,E);else break;E=e(f)}}function T(I){if(_=!1,j(I),!w)if(e(d)!==null)w=!0,D||(D=!0,X());else{var E=e(f);E!==null&&J(T,E.startTime-I)}}var D=!1,O=-1,N=5,P=-1;function L(){return x?!0:!(s.unstable_now()-P<N)}function U(){if(x=!1,D){var I=s.unstable_now();P=I;var E=!0;try{t:{w=!1,_&&(_=!1,C(O),O=-1),b=!0;var rt=v;try{e:{for(j(I),m=e(d);m!==null&&!(m.expirationTime>I&&L());){var V=m.callback;if(typeof V=="function"){m.callback=null,v=m.priorityLevel;var S=V(m.expirationTime<=I);if(I=s.unstable_now(),typeof S=="function"){m.callback=S,j(I),E=!0;break e}m===e(d)&&n(d),j(I)}else n(d);m=e(d)}if(m!==null)E=!0;else{var F=e(f);F!==null&&J(T,F.startTime-I),E=!1}}break t}finally{m=null,v=rt,b=!1}E=void 0}}finally{E?X():D=!1}}}var X;if(typeof M=="function")X=function(){M(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=U,X=function(){W.postMessage(null)}}else X=function(){A(U,0)};function J(I,E){O=A(function(){I(s.unstable_now())},E)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(I){I.callback=null},s.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(I){switch(v){case 1:case 2:case 3:var E=3;break;default:E=v}var rt=v;v=E;try{return I()}finally{v=rt}},s.unstable_requestPaint=function(){x=!0},s.unstable_runWithPriority=function(I,E){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var rt=v;v=I;try{return E()}finally{v=rt}},s.unstable_scheduleCallback=function(I,E,rt){var V=s.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?V+rt:V):rt=V,I){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=rt+S,I={id:p++,callback:E,priorityLevel:I,startTime:rt,expirationTime:S,sortIndex:-1},rt>V?(I.sortIndex=rt,t(f,I),e(d)===null&&I===e(f)&&(_?(C(O),O=-1):_=!0,J(T,rt-V))):(I.sortIndex=S,t(d,I),w||b||(w=!0,D||(D=!0,X()))),I},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(I){var E=v;return function(){var rt=v;v=E;try{return I.apply(this,arguments)}finally{v=rt}}}})(sp)),sp}var d0;function Rx(){return d0||(d0=1,ip.exports=Cx()),ip.exports}var rp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Ox(){if(h0)return on;h0=1;var s=_i();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,on.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},on.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},on.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},on.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},on.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):p==="script"&&n.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},on.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},on.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},on.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},on.requestFormReset=function(d){n.d.r(d)},on.unstable_batchedUpdates=function(d,f){return d(f)},on.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},on.useFormStatus=function(){return l.H.useHostTransitionStatus()},on.version="19.1.1",on}var f0;function Mx(){if(f0)return rp.exports;f0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),rp.exports=Ox(),rp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function Dx(){if(p0)return tl;p0=1;var s=Rx(),t=_i(),e=Mx();function n(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function u(i){if(o(i)!==i)throw Error(n(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(n(188));return a!==i?null:i}for(var c=i,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return u(g),i;if(y===h)return u(g),a;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=y;else{for(var R=!1,B=g.child;B;){if(B===c){R=!0,c=g,h=y;break}if(B===h){R=!0,h=g,c=y;break}B=B.sibling}if(!R){for(B=y.child;B;){if(B===c){R=!0,c=y,h=g;break}if(B===h){R=!0,h=y,c=g;break}B=B.sibling}if(!R)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?i:a}function f(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=f(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case x:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case M:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case j:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return a=i.displayName||null,a!==null?a:W(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return W(i(a))}catch{}}return null}var J=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},V=[],S=-1;function F(i){return{current:i}}function $(i){0>S||(i.current=V[S],V[S]=null,S--)}function K(i,a){S++,V[S]=i.current,i.current=a}var tt=F(null),ct=F(null),at=F(null),dt=F(null);function yt(i,a){switch(K(at,a),K(ct,i),K(tt,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?kb(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=kb(a),i=Lb(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(tt),K(tt,i)}function Et(){$(tt),$(ct),$(at)}function St(i){i.memoizedState!==null&&K(dt,i);var a=tt.current,c=Lb(a,i.type);a!==c&&(K(ct,i),K(tt,c))}function It(i){ct.current===i&&($(tt),$(ct)),dt.current===i&&($(dt),Yo._currentValue=rt)}var jt=Object.prototype.hasOwnProperty,bt=s.unstable_scheduleCallback,_t=s.unstable_cancelCallback,Dt=s.unstable_shouldYield,Vt=s.unstable_requestPaint,Ot=s.unstable_now,se=s.unstable_getCurrentPriorityLevel,oe=s.unstable_ImmediatePriority,G=s.unstable_UserBlockingPriority,Q=s.unstable_NormalPriority,lt=s.unstable_LowPriority,mt=s.unstable_IdlePriority,gt=s.log,pt=s.unstable_setDisableYieldValue,xt=null,Rt=null;function Bt(i){if(typeof gt=="function"&&pt(i),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(xt,i)}catch{}}var Qt=Math.clz32?Math.clz32:zd,Ei=Math.log,xi=Math.LN2;function zd(i){return i>>>=0,i===0?32:31-(Ei(i)/xi|0)|0}var ys=256,vs=4194304;function Hi(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qs(i,a,c){var h=i.pendingLanes;if(h===0)return 0;var g=0,y=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var B=h&134217727;return B!==0?(h=B&~y,h!==0?g=Hi(h):(R&=B,R!==0?g=Hi(R):c||(c=B&~i,c!==0&&(g=Hi(c))))):(B=h&~y,B!==0?g=Hi(B):R!==0?g=Hi(R):c||(c=h&~i,c!==0&&(g=Hi(c)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:g}function Js(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ec(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gm(){var i=ys;return ys<<=1,(ys&4194048)===0&&(ys=256),i}function mm(){var i=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),i}function Ud(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function io(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function dA(i,a,c,h,g,y){var R=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var B=i.entanglements,q=i.expirationTimes,nt=i.hiddenUpdates;for(c=R&~c;0<c;){var ut=31-Qt(c),ft=1<<ut;B[ut]=0,q[ut]=-1;var it=nt[ut];if(it!==null)for(nt[ut]=null,ut=0;ut<it.length;ut++){var st=it[ut];st!==null&&(st.lane&=-536870913)}c&=~ft}h!==0&&ym(i,h,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(R&~a))}function ym(i,a,c){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Qt(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|c&4194090}function vm(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var h=31-Qt(c),g=1<<h;g&a|i[h]&a&&(i[h]|=a),c&=~g}}function Hd(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Vd(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function bm(){var i=E.p;return i!==0?i:(i=window.event,i===void 0?32:Qb(i.type))}function hA(i,a){var c=E.p;try{return E.p=i,a()}finally{E.p=c}}var bs=Math.random().toString(36).slice(2),rn="__reactFiber$"+bs,_n="__reactProps$"+bs,Vr="__reactContainer$"+bs,$d="__reactEvents$"+bs,fA="__reactListeners$"+bs,pA="__reactHandles$"+bs,_m="__reactResources$"+bs,so="__reactMarker$"+bs;function qd(i){delete i[rn],delete i[_n],delete i[$d],delete i[fA],delete i[pA]}function $r(i){var a=i[rn];if(a)return a;for(var c=i.parentNode;c;){if(a=c[Vr]||c[rn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Fb(i);i!==null;){if(c=i[rn])return c;i=Fb(i)}return a}i=c,c=i.parentNode}return null}function qr(i){if(i=i[rn]||i[Vr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ro(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(n(33))}function Gr(i){var a=i[_m];return a||(a=i[_m]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function He(i){i[so]=!0}var Sm=new Set,wm={};function tr(i,a){Xr(i,a),Xr(i+"Capture",a)}function Xr(i,a){for(wm[i]=a,i=0;i<a.length;i++)Sm.add(a[i])}var gA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Am={},Em={};function mA(i){return jt.call(Em,i)?!0:jt.call(Am,i)?!1:gA.test(i)?Em[i]=!0:(Am[i]=!0,!1)}function nc(i,a,c){if(mA(a))if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+c)}}function ic(i,a,c){if(c===null)i.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+c)}}function Vi(i,a,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(a,c,""+h)}}var Gd,xm;function Yr(i){if(Gd===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Gd=a&&a[1]||"",xm=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gd+i+xm}var Xd=!1;function Yd(i,a){if(!i||Xd)return"";Xd=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(st){var it=st}Reflect.construct(i,[],ft)}else{try{ft.call()}catch(st){it=st}i.call(ft.prototype)}}else{try{throw Error()}catch(st){it=st}(ft=i())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(st){if(st&&it&&typeof st.stack=="string")return[st.stack,it.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),R=y[0],B=y[1];if(R&&B){var q=R.split(`
`),nt=B.split(`
`);for(g=h=0;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;for(;g<nt.length&&!nt[g].includes("DetermineComponentFrameRoot");)g++;if(h===q.length||g===nt.length)for(h=q.length-1,g=nt.length-1;1<=h&&0<=g&&q[h]!==nt[g];)g--;for(;1<=h&&0<=g;h--,g--)if(q[h]!==nt[g]){if(h!==1||g!==1)do if(h--,g--,0>g||q[h]!==nt[g]){var ut=`
`+q[h].replace(" at new "," at ");return i.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",i.displayName)),ut}while(1<=h&&0<=g);break}}}finally{Xd=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Yr(c):""}function yA(i){switch(i.tag){case 26:case 27:case 5:return Yr(i.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 15:return Yd(i.type,!1);case 11:return Yd(i.type.render,!1);case 1:return Yd(i.type,!0);case 31:return Yr("Activity");default:return""}}function Tm(i){try{var a="";do a+=yA(i),i=i.return;while(i);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Gn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Cm(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vA(i){var a=Cm(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){h=""+R,y.call(this,R)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function sc(i){i._valueTracker||(i._valueTracker=vA(i))}function Rm(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return i&&(h=Cm(i)?i.checked?"true":"false":i.value),i=h,i!==c?(a.setValue(i),!0):!1}function rc(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var bA=/[\n"\\]/g;function Xn(i){return i.replace(bA,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wd(i,a,c,h,g,y,R,B){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Gn(a)):i.value!==""+Gn(a)&&(i.value=""+Gn(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?Kd(i,R,Gn(a)):c!=null?Kd(i,R,Gn(c)):h!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Gn(B):i.removeAttribute("name")}function Om(i,a,c,h,g,y,R,B){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+Gn(c):"",a=a!=null?""+Gn(a):c,B||a===i.value||(i.value=a),i.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=B?i.checked:!!h,i.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Kd(i,a,c){a==="number"&&rc(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Wr(i,a,c,h){if(i=i.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<i.length;c++)g=a.hasOwnProperty("$"+i[c].value),i[c].selected!==g&&(i[c].selected=g),g&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Gn(c),a=null,g=0;g<i.length;g++){if(i[g].value===c){i[g].selected=!0,h&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function Mm(i,a,c){if(a!=null&&(a=""+Gn(a),a!==i.value&&(i.value=a),c==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=c!=null?""+Gn(c):""}function Dm(i,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(n(92));if(J(h)){if(1<h.length)throw Error(n(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Gn(a),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h)}function Kr(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var _A=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function km(i,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,c):typeof c!="number"||c===0||_A.has(a)?a==="float"?i.cssFloat=c:i[a]=(""+c).trim():i[a]=c+"px"}function Lm(i,a,c){if(a!=null&&typeof a!="object")throw Error(n(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&km(i,g,h)}else for(var y in a)a.hasOwnProperty(y)&&km(i,y,a[y])}function Zd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ac(i){return wA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Qd=null;function Jd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zr=null,Qr=null;function Nm(i){var a=qr(i);if(a&&(i=a.stateNode)){var c=i[_n]||null;t:switch(i=a.stateNode,a.type){case"input":if(Wd(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Xn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==i&&h.form===i.form){var g=h[_n]||null;if(!g)throw Error(n(90));Wd(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===i.form&&Rm(h)}break t;case"textarea":Mm(i,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Wr(i,!!c.multiple,a,!1)}}}var th=!1;function Pm(i,a,c){if(th)return i(a,c);th=!0;try{var h=i(a);return h}finally{if(th=!1,(Zr!==null||Qr!==null)&&(qc(),Zr&&(a=Zr,i=Qr,Qr=Zr=null,Nm(a),i)))for(a=0;a<i.length;a++)Nm(i[a])}}function ao(i,a){var c=i.stateNode;if(c===null)return null;var h=c[_n]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break t;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eh=!1;if($i)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){eh=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{eh=!1}var _s=null,nh=null,oc=null;function Bm(){if(oc)return oc;var i,a=nh,c=a.length,h,g="value"in _s?_s.value:_s.textContent,y=g.length;for(i=0;i<c&&a[i]===g[i];i++);var R=c-i;for(h=1;h<=R&&a[c-h]===g[y-h];h++);return oc=g.slice(i,1<h?1-h:void 0)}function lc(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function cc(){return!0}function Fm(){return!1}function Sn(i){function a(c,h,g,y,R){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(c=i[B],this[B]=c?c(y):y[B]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cc:Fm,this.isPropagationStopped=Fm,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),a}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=Sn(er),lo=p({},er,{view:0,detail:0}),AA=Sn(lo),ih,sh,co,dc=p({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==co&&(co&&i.type==="mousemove"?(ih=i.screenX-co.screenX,sh=i.screenY-co.screenY):sh=ih=0,co=i),ih)},movementY:function(i){return"movementY"in i?i.movementY:sh}}),jm=Sn(dc),EA=p({},dc,{dataTransfer:0}),xA=Sn(EA),TA=p({},lo,{relatedTarget:0}),rh=Sn(TA),CA=p({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),RA=Sn(CA),OA=p({},er,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),MA=Sn(OA),DA=p({},er,{data:0}),Im=Sn(DA),kA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PA(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=NA[i])?!!a[i]:!1}function ah(){return PA}var BA=p({},lo,{key:function(i){if(i.key){var a=kA[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=lc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?LA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(i){return i.type==="keypress"?lc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),FA=Sn(BA),jA=p({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=Sn(jA),IA=p({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),zA=Sn(IA),UA=p({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=Sn(UA),VA=p({},dc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$A=Sn(VA),qA=p({},er,{newState:0,oldState:0}),GA=Sn(qA),XA=[9,13,27,32],oh=$i&&"CompositionEvent"in window,uo=null;$i&&"documentMode"in document&&(uo=document.documentMode);var YA=$i&&"TextEvent"in window&&!uo,Um=$i&&(!oh||uo&&8<uo&&11>=uo),Hm=" ",Vm=!1;function $m(i,a){switch(i){case"keyup":return XA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qm(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jr=!1;function WA(i,a){switch(i){case"compositionend":return qm(a);case"keypress":return a.which!==32?null:(Vm=!0,Hm);case"textInput":return i=a.data,i===Hm&&Vm?null:i;default:return null}}function KA(i,a){if(Jr)return i==="compositionend"||!oh&&$m(i,a)?(i=Bm(),oc=nh=_s=null,Jr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Um&&a.locale!=="ko"?null:a.data;default:return null}}var ZA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ZA[i.type]:a==="textarea"}function Xm(i,a,c,h){Zr?Qr?Qr.push(h):Qr=[h]:Zr=h,a=Zc(a,"onChange"),0<a.length&&(c=new uc("onChange","change",null,c,h),i.push({event:c,listeners:a}))}var ho=null,fo=null;function QA(i){Cb(i,0)}function hc(i){var a=ro(i);if(Rm(a))return i}function Ym(i,a){if(i==="change")return a}var Wm=!1;if($i){var lh;if($i){var ch="oninput"in document;if(!ch){var Km=document.createElement("div");Km.setAttribute("oninput","return;"),ch=typeof Km.oninput=="function"}lh=ch}else lh=!1;Wm=lh&&(!document.documentMode||9<document.documentMode)}function Zm(){ho&&(ho.detachEvent("onpropertychange",Qm),fo=ho=null)}function Qm(i){if(i.propertyName==="value"&&hc(fo)){var a=[];Xm(a,fo,i,Jd(i)),Pm(QA,a)}}function JA(i,a,c){i==="focusin"?(Zm(),ho=a,fo=c,ho.attachEvent("onpropertychange",Qm)):i==="focusout"&&Zm()}function tE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hc(fo)}function eE(i,a){if(i==="click")return hc(a)}function nE(i,a){if(i==="input"||i==="change")return hc(a)}function iE(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ln=typeof Object.is=="function"?Object.is:iE;function po(i,a){if(Ln(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!jt.call(a,g)||!Ln(i[g],a[g]))return!1}return!0}function Jm(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ty(i,a){var c=Jm(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=a&&h>=a)return{node:c,offset:a-i};i=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Jm(c)}}function ey(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ey(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ny(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=rc(i.document);a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=rc(i.document)}return a}function uh(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var sE=$i&&"documentMode"in document&&11>=document.documentMode,ta=null,dh=null,go=null,hh=!1;function iy(i,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;hh||ta==null||ta!==rc(h)||(h=ta,"selectionStart"in h&&uh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),go&&po(go,h)||(go=h,h=Zc(dh,"onSelect"),0<h.length&&(a=new uc("onSelect","select",null,a,c),i.push({event:a,listeners:h}),a.target=ta)))}function nr(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var ea={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},fh={},sy={};$i&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete ea.animationend.animation,delete ea.animationiteration.animation,delete ea.animationstart.animation),"TransitionEvent"in window||delete ea.transitionend.transition);function ir(i){if(fh[i])return fh[i];if(!ea[i])return i;var a=ea[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in sy)return fh[i]=a[c];return i}var ry=ir("animationend"),ay=ir("animationiteration"),oy=ir("animationstart"),rE=ir("transitionrun"),aE=ir("transitionstart"),oE=ir("transitioncancel"),ly=ir("transitionend"),cy=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function ri(i,a){cy.set(i,a),tr(a,[i])}var uy=new WeakMap;function Yn(i,a){if(typeof i=="object"&&i!==null){var c=uy.get(i);return c!==void 0?c:(a={value:i,source:a,stack:Tm(a)},uy.set(i,a),a)}return{value:i,source:a,stack:Tm(a)}}var Wn=[],na=0,gh=0;function fc(){for(var i=na,a=gh=na=0;a<i;){var c=Wn[a];Wn[a++]=null;var h=Wn[a];Wn[a++]=null;var g=Wn[a];Wn[a++]=null;var y=Wn[a];if(Wn[a++]=null,h!==null&&g!==null){var R=h.pending;R===null?g.next=g:(g.next=R.next,R.next=g),h.pending=g}y!==0&&dy(c,g,y)}}function pc(i,a,c,h){Wn[na++]=i,Wn[na++]=a,Wn[na++]=c,Wn[na++]=h,gh|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function mh(i,a,c,h){return pc(i,a,c,h),gc(i)}function ia(i,a){return pc(i,null,null,a),gc(i)}function dy(i,a,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=i.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&a!==null&&(g=31-Qt(c),i=y.hiddenUpdates,h=i[g],h===null?i[g]=[a]:h.push(a),a.lane=c|536870912),y):null}function gc(i){if(50<zo)throw zo=0,Af=null,Error(n(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var sa={};function lE(i,a,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,a,c,h){return new lE(i,a,c,h)}function yh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qi(i,a){var c=i.alternate;return c===null?(c=Nn(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function hy(i,a){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,a=c.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function mc(i,a,c,h,g,y){var R=0;if(h=i,typeof i=="function")yh(i)&&(R=1);else if(typeof i=="string")R=ux(i,c,tt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case P:return i=Nn(31,c,a,g),i.elementType=P,i.lanes=y,i;case w:return sr(c.children,g,y,a);case _:R=8,g|=24;break;case x:return i=Nn(12,c,a,g|2),i.elementType=x,i.lanes=y,i;case T:return i=Nn(13,c,a,g),i.elementType=T,i.lanes=y,i;case D:return i=Nn(19,c,a,g),i.elementType=D,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case M:R=10;break t;case C:R=9;break t;case j:R=11;break t;case O:R=14;break t;case N:R=16,h=null;break t}R=29,c=Error(n(130,i===null?"null":typeof i,"")),h=null}return a=Nn(R,c,a,g),a.elementType=i,a.type=h,a.lanes=y,a}function sr(i,a,c,h){return i=Nn(7,i,h,a),i.lanes=c,i}function vh(i,a,c){return i=Nn(6,i,null,a),i.lanes=c,i}function bh(i,a,c){return a=Nn(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var ra=[],aa=0,yc=null,vc=0,Kn=[],Zn=0,rr=null,Gi=1,Xi="";function ar(i,a){ra[aa++]=vc,ra[aa++]=yc,yc=i,vc=a}function fy(i,a,c){Kn[Zn++]=Gi,Kn[Zn++]=Xi,Kn[Zn++]=rr,rr=i;var h=Gi;i=Xi;var g=32-Qt(h)-1;h&=~(1<<g),c+=1;var y=32-Qt(a)+g;if(30<y){var R=g-g%5;y=(h&(1<<R)-1).toString(32),h>>=R,g-=R,Gi=1<<32-Qt(a)+g|c<<g|h,Xi=y+i}else Gi=1<<y|c<<g|h,Xi=i}function _h(i){i.return!==null&&(ar(i,1),fy(i,1,0))}function Sh(i){for(;i===yc;)yc=ra[--aa],ra[aa]=null,vc=ra[--aa],ra[aa]=null;for(;i===rr;)rr=Kn[--Zn],Kn[Zn]=null,Xi=Kn[--Zn],Kn[Zn]=null,Gi=Kn[--Zn],Kn[Zn]=null}var fn=null,Ce=null,ne=!1,or=null,Ti=!1,wh=Error(n(519));function lr(i){var a=Error(n(418,""));throw vo(Yn(a,i)),wh}function py(i){var a=i.stateNode,c=i.type,h=i.memoizedProps;switch(a[rn]=i,a[_n]=h,c){case"dialog":Kt("cancel",a),Kt("close",a);break;case"iframe":case"object":case"embed":Kt("load",a);break;case"video":case"audio":for(c=0;c<Ho.length;c++)Kt(Ho[c],a);break;case"source":Kt("error",a);break;case"img":case"image":case"link":Kt("error",a),Kt("load",a);break;case"details":Kt("toggle",a);break;case"input":Kt("invalid",a),Om(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),sc(a);break;case"select":Kt("invalid",a);break;case"textarea":Kt("invalid",a),Dm(a,h.value,h.defaultValue,h.children),sc(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Db(a.textContent,c)?(h.popover!=null&&(Kt("beforetoggle",a),Kt("toggle",a)),h.onScroll!=null&&Kt("scroll",a),h.onScrollEnd!=null&&Kt("scrollend",a),h.onClick!=null&&(a.onclick=Qc),a=!0):a=!1,a||lr(i)}function gy(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:fn=fn.return}}function mo(i){if(i!==fn)return!1;if(!ne)return gy(i),ne=!0,!1;var a=i.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||If(i.type,i.memoizedProps)),c=!c),c&&Ce&&lr(i),gy(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));t:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(a===0){Ce=oi(i.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;i=i.nextSibling}Ce=null}}else a===27?(a=Ce,Bs(i.type)?(i=Vf,Vf=null,Ce=i):Ce=a):Ce=fn?oi(i.stateNode.nextSibling):null;return!0}function yo(){Ce=fn=null,ne=!1}function my(){var i=or;return i!==null&&(En===null?En=i:En.push.apply(En,i),or=null),i}function vo(i){or===null?or=[i]:or.push(i)}var Ah=F(null),cr=null,Yi=null;function Ss(i,a,c){K(Ah,a._currentValue),a._currentValue=c}function Wi(i){i._currentValue=Ah.current,$(Ah)}function Eh(i,a,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===c)break;i=i.return}}function xh(i,a,c,h){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var R=g.child;y=y.firstContext;t:for(;y!==null;){var B=y;y=g;for(var q=0;q<a.length;q++)if(B.context===a[q]){y.lanes|=c,B=y.alternate,B!==null&&(B.lanes|=c),Eh(y.return,c,i),h||(R=null);break t}y=B.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(n(341));R.lanes|=c,y=R.alternate,y!==null&&(y.lanes|=c),Eh(R,c,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function bo(i,a,c,h){i=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(n(387));if(R=R.memoizedProps,R!==null){var B=g.type;Ln(g.pendingProps.value,R.value)||(i!==null?i.push(B):i=[B])}}else if(g===dt.current){if(R=g.alternate,R===null)throw Error(n(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Yo):i=[Yo])}g=g.return}i!==null&&xh(a,i,c,h),a.flags|=262144}function bc(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ur(i){cr=i,Yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function an(i){return yy(cr,i)}function _c(i,a){return cr===null&&ur(i),yy(i,a)}function yy(i,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Yi===null){if(i===null)throw Error(n(308));Yi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Yi=Yi.next=a;return c}var cE=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(c){return c()})}},uE=s.unstable_scheduleCallback,dE=s.unstable_NormalPriority,ze={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new cE,data:new Map,refCount:0}}function _o(i){i.refCount--,i.refCount===0&&uE(dE,function(){i.controller.abort()})}var So=null,Ch=0,oa=0,la=null;function hE(i,a){if(So===null){var c=So=[];Ch=0,oa=Mf(),la={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Ch++,a.then(vy,vy),a}function vy(){if(--Ch===0&&So!==null){la!==null&&(la.status="fulfilled");var i=So;So=null,oa=0,la=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function fE(i,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var by=I.S;I.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&hE(i,a),by!==null&&by(i,a)};var dr=F(null);function Rh(){var i=dr.current;return i!==null?i:me.pooledCache}function Sc(i,a){a===null?K(dr,dr.current):K(dr,a.pool)}function _y(){var i=Rh();return i===null?null:{parent:ze._currentValue,pool:i}}var wo=Error(n(460)),Sy=Error(n(474)),wc=Error(n(542)),Oh={then:function(){}};function wy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ac(){}function Ay(i,a,c){switch(c=i[c],c===void 0?i.push(a):c!==a&&(a.then(Ac,Ac),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,xy(i),i;default:if(typeof a.status=="string")a.then(Ac,Ac);else{if(i=me,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,xy(i),i}throw Ao=a,wo}}var Ao=null;function Ey(){if(Ao===null)throw Error(n(459));var i=Ao;return Ao=null,i}function xy(i){if(i===wo||i===wc)throw Error(n(483))}var ws=!1;function Mh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dh(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function As(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Es(i,a,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(re&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=gc(i),dy(i,null,c),a}return pc(i,h,a,c),gc(i)}function Eo(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,vm(i,c)}}function kh(i,a){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=R:y=y.next=R,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}var Lh=!1;function xo(){if(Lh){var i=la;if(i!==null)throw i}}function To(i,a,c,h){Lh=!1;var g=i.updateQueue;ws=!1;var y=g.firstBaseUpdate,R=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var q=B,nt=q.next;q.next=null,R===null?y=nt:R.next=nt,R=q;var ut=i.alternate;ut!==null&&(ut=ut.updateQueue,B=ut.lastBaseUpdate,B!==R&&(B===null?ut.firstBaseUpdate=nt:B.next=nt,ut.lastBaseUpdate=q))}if(y!==null){var ft=g.baseState;R=0,ut=nt=q=null,B=y;do{var it=B.lane&-536870913,st=it!==B.lane;if(st?(te&it)===it:(h&it)===it){it!==0&&it===oa&&(Lh=!0),ut!==null&&(ut=ut.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});t:{var Ft=i,Lt=B;it=a;var ue=c;switch(Lt.tag){case 1:if(Ft=Lt.payload,typeof Ft=="function"){ft=Ft.call(ue,ft,it);break t}ft=Ft;break t;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=Lt.payload,it=typeof Ft=="function"?Ft.call(ue,ft,it):Ft,it==null)break t;ft=p({},ft,it);break t;case 2:ws=!0}}it=B.callback,it!==null&&(i.flags|=64,st&&(i.flags|=8192),st=g.callbacks,st===null?g.callbacks=[it]:st.push(it))}else st={lane:it,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ut===null?(nt=ut=st,q=ft):ut=ut.next=st,R|=it;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;st=B,B=st.next,st.next=null,g.lastBaseUpdate=st,g.shared.pending=null}}while(!0);ut===null&&(q=ft),g.baseState=q,g.firstBaseUpdate=nt,g.lastBaseUpdate=ut,y===null&&(g.shared.lanes=0),ks|=R,i.lanes=R,i.memoizedState=ft}}function Ty(i,a){if(typeof i!="function")throw Error(n(191,i));i.call(a)}function Cy(i,a){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Ty(c[i],a)}var ca=F(null),Ec=F(0);function Ry(i,a){i=ns,K(Ec,i),K(ca,a),ns=i|a.baseLanes}function Nh(){K(Ec,ns),K(ca,ca.current)}function Ph(){ns=Ec.current,$(ca),$(Ec)}var xs=0,Xt=null,le=null,Le=null,xc=!1,ua=!1,hr=!1,Tc=0,Co=0,da=null,pE=0;function Oe(){throw Error(n(321))}function Bh(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Ln(i[c],a[c]))return!1;return!0}function Fh(i,a,c,h,g,y){return xs=y,Xt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,I.H=i===null||i.memoizedState===null?dv:hv,hr=!1,y=c(h,g),hr=!1,ua&&(y=My(a,c,h,g)),Oy(i),y}function Oy(i){I.H=kc;var a=le!==null&&le.next!==null;if(xs=0,Le=le=Xt=null,xc=!1,Co=0,da=null,a)throw Error(n(300));i===null||Ve||(i=i.dependencies,i!==null&&bc(i)&&(Ve=!0))}function My(i,a,c,h){Xt=i;var g=0;do{if(ua&&(da=null),Co=0,ua=!1,25<=g)throw Error(n(301));if(g+=1,Le=le=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=SE,y=a(c,h)}while(ua);return y}function gE(){var i=I.H,a=i.useState()[0];return a=typeof a.then=="function"?Ro(a):a,i=i.useState()[0],(le!==null?le.memoizedState:null)!==i&&(Xt.flags|=1024),a}function jh(){var i=Tc!==0;return Tc=0,i}function Ih(i,a,c){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~c}function zh(i){if(xc){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}xc=!1}xs=0,Le=le=Xt=null,ua=!1,Co=Tc=0,da=null}function wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?Xt.memoizedState=Le=i:Le=Le.next=i,Le}function Ne(){if(le===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=le.next;var a=Le===null?Xt.memoizedState:Le.next;if(a!==null)Le=a,le=i;else{if(i===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));le=i,i={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Le===null?Xt.memoizedState=Le=i:Le=Le.next=i}return Le}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(i){var a=Co;return Co+=1,da===null&&(da=[]),i=Ay(da,i,a),a=Xt,(Le===null?a.memoizedState:Le.next)===null&&(a=a.alternate,I.H=a===null||a.memoizedState===null?dv:hv),i}function Cc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ro(i);if(i.$$typeof===M)return an(i)}throw Error(n(438,String(i)))}function Hh(i){var a=null,c=Xt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Xt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Uh(),Xt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(i),h=0;h<i;h++)c[h]=L;return a.index++,c}function Ki(i,a){return typeof a=="function"?a(i):a}function Rc(i){var a=Ne();return Vh(a,le,i)}function Vh(i,a,c){var h=i.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=c;var g=i.baseQueue,y=h.pending;if(y!==null){if(g!==null){var R=g.next;g.next=y.next,y.next=R}a.baseQueue=g=y,h.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{a=g.next;var B=R=null,q=null,nt=a,ut=!1;do{var ft=nt.lane&-536870913;if(ft!==nt.lane?(te&ft)===ft:(xs&ft)===ft){var it=nt.revertLane;if(it===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),ft===oa&&(ut=!0);else if((xs&it)===it){nt=nt.next,it===oa&&(ut=!0);continue}else ft={lane:0,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},q===null?(B=q=ft,R=y):q=q.next=ft,Xt.lanes|=it,ks|=it;ft=nt.action,hr&&c(y,ft),y=nt.hasEagerState?nt.eagerState:c(y,ft)}else it={lane:ft,revertLane:nt.revertLane,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},q===null?(B=q=it,R=y):q=q.next=it,Xt.lanes|=ft,ks|=ft;nt=nt.next}while(nt!==null&&nt!==a);if(q===null?R=y:q.next=B,!Ln(y,i.memoizedState)&&(Ve=!0,ut&&(c=la,c!==null)))throw c;i.memoizedState=y,i.baseState=R,i.baseQueue=q,h.lastRenderedState=y}return g===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function $h(i){var a=Ne(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=i;var h=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var R=g=g.next;do y=i(y,R.action),R=R.next;while(R!==g);Ln(y,a.memoizedState)||(Ve=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function Dy(i,a,c){var h=Xt,g=Ne(),y=ne;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=a();var R=!Ln((le||g).memoizedState,c);R&&(g.memoizedState=c,Ve=!0),g=g.queue;var B=Ny.bind(null,h,g,i);if(Oo(2048,8,B,[i]),g.getSnapshot!==a||R||Le!==null&&Le.memoizedState.tag&1){if(h.flags|=2048,ha(9,Oc(),Ly.bind(null,h,g,c,a),null),me===null)throw Error(n(349));y||(xs&124)!==0||ky(h,a,c)}return c}function ky(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=Xt.updateQueue,a===null?(a=Uh(),Xt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function Ly(i,a,c,h){a.value=c,a.getSnapshot=h,Py(a)&&By(i)}function Ny(i,a,c){return c(function(){Py(a)&&By(i)})}function Py(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Ln(i,c)}catch{return!0}}function By(i){var a=ia(i,2);a!==null&&In(a,i,2)}function qh(i){var a=wn();if(typeof i=="function"){var c=i;if(i=c(),hr){Bt(!0);try{c()}finally{Bt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:i},a}function Fy(i,a,c,h){return i.baseState=c,Vh(i,le,typeof h=="function"?h:Ki)}function mE(i,a,c,h,g){if(Dc(i))throw Error(n(485));if(i=a.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};I.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,jy(a,y)):(y.next=c.next,a.pending=c.next=y)}}function jy(i,a){var c=a.action,h=a.payload,g=i.state;if(a.isTransition){var y=I.T,R={};I.T=R;try{var B=c(g,h),q=I.S;q!==null&&q(R,B),Iy(i,a,B)}catch(nt){Gh(i,a,nt)}finally{I.T=y}}else try{y=c(g,h),Iy(i,a,y)}catch(nt){Gh(i,a,nt)}}function Iy(i,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){zy(i,a,h)},function(h){return Gh(i,a,h)}):zy(i,a,c)}function zy(i,a,c){a.status="fulfilled",a.value=c,Uy(a),i.state=c,a=i.pending,a!==null&&(c=a.next,c===a?i.pending=null:(c=c.next,a.next=c,jy(i,c)))}function Gh(i,a,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Uy(a),a=a.next;while(a!==h)}i.action=null}function Uy(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Hy(i,a){return a}function Vy(i,a){if(ne){var c=me.formState;if(c!==null){t:{var h=Xt;if(ne){if(Ce){e:{for(var g=Ce,y=Ti;g.nodeType!==8;){if(!y){g=null;break e}if(g=oi(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ce=oi(g.nextSibling),h=g.data==="F!";break t}}lr(h)}h=!1}h&&(a=c[0])}}return c=wn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:a},c.queue=h,c=lv.bind(null,Xt,h),h.dispatch=c,h=qh(!1),y=Zh.bind(null,Xt,!1,h.queue),h=wn(),g={state:a,dispatch:null,action:i,pending:null},h.queue=g,c=mE.bind(null,Xt,g,y,c),g.dispatch=c,h.memoizedState=i,[a,c,!1]}function $y(i){var a=Ne();return qy(a,le,i)}function qy(i,a,c){if(a=Vh(i,a,Hy)[0],i=Rc(Ki)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ro(a)}catch(R){throw R===wo?wc:R}else h=a;a=Ne();var g=a.queue,y=g.dispatch;return c!==a.memoizedState&&(Xt.flags|=2048,ha(9,Oc(),yE.bind(null,g,c),null)),[h,y,i]}function yE(i,a){i.action=a}function Gy(i){var a=Ne(),c=le;if(c!==null)return qy(a,c,i);Ne(),a=a.memoizedState,c=Ne();var h=c.queue.dispatch;return c.memoizedState=i,[a,h,!1]}function ha(i,a,c,h){return i={tag:i,create:c,deps:h,inst:a,next:null},a=Xt.updateQueue,a===null&&(a=Uh(),Xt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,a.lastEffect=i),i}function Oc(){return{destroy:void 0,resource:void 0}}function Xy(){return Ne().memoizedState}function Mc(i,a,c,h){var g=wn();h=h===void 0?null:h,Xt.flags|=i,g.memoizedState=ha(1|a,Oc(),c,h)}function Oo(i,a,c,h){var g=Ne();h=h===void 0?null:h;var y=g.memoizedState.inst;le!==null&&h!==null&&Bh(h,le.memoizedState.deps)?g.memoizedState=ha(a,y,c,h):(Xt.flags|=i,g.memoizedState=ha(1|a,y,c,h))}function Yy(i,a){Mc(8390656,8,i,a)}function Wy(i,a){Oo(2048,8,i,a)}function Ky(i,a){return Oo(4,2,i,a)}function Zy(i,a){return Oo(4,4,i,a)}function Qy(i,a){if(typeof a=="function"){i=i();var c=a(i);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Jy(i,a,c){c=c!=null?c.concat([i]):null,Oo(4,4,Qy.bind(null,a,i),c)}function Xh(){}function tv(i,a){var c=Ne();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Bh(a,h[1])?h[0]:(c.memoizedState=[i,a],i)}function ev(i,a){var c=Ne();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Bh(a,h[1]))return h[0];if(h=i(),hr){Bt(!0);try{i()}finally{Bt(!1)}}return c.memoizedState=[h,a],h}function Yh(i,a,c){return c===void 0||(xs&1073741824)!==0?i.memoizedState=a:(i.memoizedState=c,i=sb(),Xt.lanes|=i,ks|=i,c)}function nv(i,a,c,h){return Ln(c,a)?c:ca.current!==null?(i=Yh(i,c,h),Ln(i,a)||(Ve=!0),i):(xs&42)===0?(Ve=!0,i.memoizedState=c):(i=sb(),Xt.lanes|=i,ks|=i,a)}function iv(i,a,c,h,g){var y=E.p;E.p=y!==0&&8>y?y:8;var R=I.T,B={};I.T=B,Zh(i,!1,a,c);try{var q=g(),nt=I.S;if(nt!==null&&nt(B,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ut=fE(q,h);Mo(i,a,ut,jn(i))}else Mo(i,a,h,jn(i))}catch(ft){Mo(i,a,{then:function(){},status:"rejected",reason:ft},jn())}finally{E.p=y,I.T=R}}function vE(){}function Wh(i,a,c,h){if(i.tag!==5)throw Error(n(476));var g=sv(i).queue;iv(i,g,a,rt,c===null?vE:function(){return rv(i),c(h)})}function sv(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:rt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:c},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function rv(i){var a=sv(i).next.queue;Mo(i,a,{},jn())}function Kh(){return an(Yo)}function av(){return Ne().memoizedState}function ov(){return Ne().memoizedState}function bE(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var c=jn();i=As(c);var h=Es(a,i,c);h!==null&&(In(h,a,c),Eo(h,a,c)),a={cache:Th()},i.payload=a;return}a=a.return}}function _E(i,a,c){var h=jn();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Dc(i)?cv(a,c):(c=mh(i,a,c,h),c!==null&&(In(c,i,h),uv(c,a,h)))}function lv(i,a,c){var h=jn();Mo(i,a,c,h)}function Mo(i,a,c,h){var g={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Dc(i))cv(a,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var R=a.lastRenderedState,B=y(R,c);if(g.hasEagerState=!0,g.eagerState=B,Ln(B,R))return pc(i,a,g,0),me===null&&fc(),!1}catch{}finally{}if(c=mh(i,a,g,h),c!==null)return In(c,i,h),uv(c,a,h),!0}return!1}function Zh(i,a,c,h){if(h={lane:2,revertLane:Mf(),action:h,hasEagerState:!1,eagerState:null,next:null},Dc(i)){if(a)throw Error(n(479))}else a=mh(i,c,h,2),a!==null&&In(a,i,2)}function Dc(i){var a=i.alternate;return i===Xt||a!==null&&a===Xt}function cv(i,a){ua=xc=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function uv(i,a,c){if((c&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,c|=h,a.lanes=c,vm(i,c)}}var kc={readContext:an,use:Cc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},dv={readContext:an,use:Cc,useCallback:function(i,a){return wn().memoizedState=[i,a===void 0?null:a],i},useContext:an,useEffect:Yy,useImperativeHandle:function(i,a,c){c=c!=null?c.concat([i]):null,Mc(4194308,4,Qy.bind(null,a,i),c)},useLayoutEffect:function(i,a){return Mc(4194308,4,i,a)},useInsertionEffect:function(i,a){Mc(4,2,i,a)},useMemo:function(i,a){var c=wn();a=a===void 0?null:a;var h=i();if(hr){Bt(!0);try{i()}finally{Bt(!1)}}return c.memoizedState=[h,a],h},useReducer:function(i,a,c){var h=wn();if(c!==void 0){var g=c(a);if(hr){Bt(!0);try{c(a)}finally{Bt(!1)}}}else g=a;return h.memoizedState=h.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},h.queue=i,i=i.dispatch=_E.bind(null,Xt,i),[h.memoizedState,i]},useRef:function(i){var a=wn();return i={current:i},a.memoizedState=i},useState:function(i){i=qh(i);var a=i.queue,c=lv.bind(null,Xt,a);return a.dispatch=c,[i.memoizedState,c]},useDebugValue:Xh,useDeferredValue:function(i,a){var c=wn();return Yh(c,i,a)},useTransition:function(){var i=qh(!1);return i=iv.bind(null,Xt,i.queue,!0,!1),wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,c){var h=Xt,g=wn();if(ne){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),me===null)throw Error(n(349));(te&124)!==0||ky(h,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,Yy(Ny.bind(null,h,y,i),[i]),h.flags|=2048,ha(9,Oc(),Ly.bind(null,h,y,c,a),null),c},useId:function(){var i=wn(),a=me.identifierPrefix;if(ne){var c=Xi,h=Gi;c=(h&~(1<<32-Qt(h)-1)).toString(32)+c,a=""+a+"R"+c,c=Tc++,0<c&&(a+="H"+c.toString(32)),a+=""}else c=pE++,a=""+a+"r"+c.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Kh,useFormState:Vy,useActionState:Vy,useOptimistic:function(i){var a=wn();a.memoizedState=a.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Zh.bind(null,Xt,!0,c),c.dispatch=a,[i,a]},useMemoCache:Hh,useCacheRefresh:function(){return wn().memoizedState=bE.bind(null,Xt)}},hv={readContext:an,use:Cc,useCallback:tv,useContext:an,useEffect:Wy,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Zy,useMemo:ev,useReducer:Rc,useRef:Xy,useState:function(){return Rc(Ki)},useDebugValue:Xh,useDeferredValue:function(i,a){var c=Ne();return nv(c,le.memoizedState,i,a)},useTransition:function(){var i=Rc(Ki)[0],a=Ne().memoizedState;return[typeof i=="boolean"?i:Ro(i),a]},useSyncExternalStore:Dy,useId:av,useHostTransitionStatus:Kh,useFormState:$y,useActionState:$y,useOptimistic:function(i,a){var c=Ne();return Fy(c,le,i,a)},useMemoCache:Hh,useCacheRefresh:ov},SE={readContext:an,use:Cc,useCallback:tv,useContext:an,useEffect:Wy,useImperativeHandle:Jy,useInsertionEffect:Ky,useLayoutEffect:Zy,useMemo:ev,useReducer:$h,useRef:Xy,useState:function(){return $h(Ki)},useDebugValue:Xh,useDeferredValue:function(i,a){var c=Ne();return le===null?Yh(c,i,a):nv(c,le.memoizedState,i,a)},useTransition:function(){var i=$h(Ki)[0],a=Ne().memoizedState;return[typeof i=="boolean"?i:Ro(i),a]},useSyncExternalStore:Dy,useId:av,useHostTransitionStatus:Kh,useFormState:Gy,useActionState:Gy,useOptimistic:function(i,a){var c=Ne();return le!==null?Fy(c,le,i,a):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:Hh,useCacheRefresh:ov},fa=null,Do=0;function Lc(i){var a=Do;return Do+=1,fa===null&&(fa=[]),Ay(fa,i,a)}function ko(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Nc(i,a){throw a.$$typeof===m?Error(n(525)):(i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function fv(i){var a=i._init;return a(i._payload)}function pv(i){function a(Z,Y){if(i){var et=Z.deletions;et===null?(Z.deletions=[Y],Z.flags|=16):et.push(Y)}}function c(Z,Y){if(!i)return null;for(;Y!==null;)a(Z,Y),Y=Y.sibling;return null}function h(Z){for(var Y=new Map;Z!==null;)Z.key!==null?Y.set(Z.key,Z):Y.set(Z.index,Z),Z=Z.sibling;return Y}function g(Z,Y){return Z=qi(Z,Y),Z.index=0,Z.sibling=null,Z}function y(Z,Y,et){return Z.index=et,i?(et=Z.alternate,et!==null?(et=et.index,et<Y?(Z.flags|=67108866,Y):et):(Z.flags|=67108866,Y)):(Z.flags|=1048576,Y)}function R(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function B(Z,Y,et,ht){return Y===null||Y.tag!==6?(Y=vh(et,Z.mode,ht),Y.return=Z,Y):(Y=g(Y,et),Y.return=Z,Y)}function q(Z,Y,et,ht){var Tt=et.type;return Tt===w?ut(Z,Y,et.props.children,ht,et.key):Y!==null&&(Y.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===N&&fv(Tt)===Y.type)?(Y=g(Y,et.props),ko(Y,et),Y.return=Z,Y):(Y=mc(et.type,et.key,et.props,null,Z.mode,ht),ko(Y,et),Y.return=Z,Y)}function nt(Z,Y,et,ht){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==et.containerInfo||Y.stateNode.implementation!==et.implementation?(Y=bh(et,Z.mode,ht),Y.return=Z,Y):(Y=g(Y,et.children||[]),Y.return=Z,Y)}function ut(Z,Y,et,ht,Tt){return Y===null||Y.tag!==7?(Y=sr(et,Z.mode,ht,Tt),Y.return=Z,Y):(Y=g(Y,et),Y.return=Z,Y)}function ft(Z,Y,et){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=vh(""+Y,Z.mode,et),Y.return=Z,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return et=mc(Y.type,Y.key,Y.props,null,Z.mode,et),ko(et,Y),et.return=Z,et;case b:return Y=bh(Y,Z.mode,et),Y.return=Z,Y;case N:var ht=Y._init;return Y=ht(Y._payload),ft(Z,Y,et)}if(J(Y)||X(Y))return Y=sr(Y,Z.mode,et,null),Y.return=Z,Y;if(typeof Y.then=="function")return ft(Z,Lc(Y),et);if(Y.$$typeof===M)return ft(Z,_c(Z,Y),et);Nc(Z,Y)}return null}function it(Z,Y,et,ht){var Tt=Y!==null?Y.key:null;if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return Tt!==null?null:B(Z,Y,""+et,ht);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case v:return et.key===Tt?q(Z,Y,et,ht):null;case b:return et.key===Tt?nt(Z,Y,et,ht):null;case N:return Tt=et._init,et=Tt(et._payload),it(Z,Y,et,ht)}if(J(et)||X(et))return Tt!==null?null:ut(Z,Y,et,ht,null);if(typeof et.then=="function")return it(Z,Y,Lc(et),ht);if(et.$$typeof===M)return it(Z,Y,_c(Z,et),ht);Nc(Z,et)}return null}function st(Z,Y,et,ht,Tt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Z=Z.get(et)||null,B(Y,Z,""+ht,Tt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case v:return Z=Z.get(ht.key===null?et:ht.key)||null,q(Y,Z,ht,Tt);case b:return Z=Z.get(ht.key===null?et:ht.key)||null,nt(Y,Z,ht,Tt);case N:var Yt=ht._init;return ht=Yt(ht._payload),st(Z,Y,et,ht,Tt)}if(J(ht)||X(ht))return Z=Z.get(et)||null,ut(Y,Z,ht,Tt,null);if(typeof ht.then=="function")return st(Z,Y,et,Lc(ht),Tt);if(ht.$$typeof===M)return st(Z,Y,et,_c(Y,ht),Tt);Nc(Y,ht)}return null}function Ft(Z,Y,et,ht){for(var Tt=null,Yt=null,Mt=Y,Nt=Y=0,qe=null;Mt!==null&&Nt<et.length;Nt++){Mt.index>Nt?(qe=Mt,Mt=null):qe=Mt.sibling;var ee=it(Z,Mt,et[Nt],ht);if(ee===null){Mt===null&&(Mt=qe);break}i&&Mt&&ee.alternate===null&&a(Z,Mt),Y=y(ee,Y,Nt),Yt===null?Tt=ee:Yt.sibling=ee,Yt=ee,Mt=qe}if(Nt===et.length)return c(Z,Mt),ne&&ar(Z,Nt),Tt;if(Mt===null){for(;Nt<et.length;Nt++)Mt=ft(Z,et[Nt],ht),Mt!==null&&(Y=y(Mt,Y,Nt),Yt===null?Tt=Mt:Yt.sibling=Mt,Yt=Mt);return ne&&ar(Z,Nt),Tt}for(Mt=h(Mt);Nt<et.length;Nt++)qe=st(Mt,Z,Nt,et[Nt],ht),qe!==null&&(i&&qe.alternate!==null&&Mt.delete(qe.key===null?Nt:qe.key),Y=y(qe,Y,Nt),Yt===null?Tt=qe:Yt.sibling=qe,Yt=qe);return i&&Mt.forEach(function(Us){return a(Z,Us)}),ne&&ar(Z,Nt),Tt}function Lt(Z,Y,et,ht){if(et==null)throw Error(n(151));for(var Tt=null,Yt=null,Mt=Y,Nt=Y=0,qe=null,ee=et.next();Mt!==null&&!ee.done;Nt++,ee=et.next()){Mt.index>Nt?(qe=Mt,Mt=null):qe=Mt.sibling;var Us=it(Z,Mt,ee.value,ht);if(Us===null){Mt===null&&(Mt=qe);break}i&&Mt&&Us.alternate===null&&a(Z,Mt),Y=y(Us,Y,Nt),Yt===null?Tt=Us:Yt.sibling=Us,Yt=Us,Mt=qe}if(ee.done)return c(Z,Mt),ne&&ar(Z,Nt),Tt;if(Mt===null){for(;!ee.done;Nt++,ee=et.next())ee=ft(Z,ee.value,ht),ee!==null&&(Y=y(ee,Y,Nt),Yt===null?Tt=ee:Yt.sibling=ee,Yt=ee);return ne&&ar(Z,Nt),Tt}for(Mt=h(Mt);!ee.done;Nt++,ee=et.next())ee=st(Mt,Z,Nt,ee.value,ht),ee!==null&&(i&&ee.alternate!==null&&Mt.delete(ee.key===null?Nt:ee.key),Y=y(ee,Y,Nt),Yt===null?Tt=ee:Yt.sibling=ee,Yt=ee);return i&&Mt.forEach(function(wx){return a(Z,wx)}),ne&&ar(Z,Nt),Tt}function ue(Z,Y,et,ht){if(typeof et=="object"&&et!==null&&et.type===w&&et.key===null&&(et=et.props.children),typeof et=="object"&&et!==null){switch(et.$$typeof){case v:t:{for(var Tt=et.key;Y!==null;){if(Y.key===Tt){if(Tt=et.type,Tt===w){if(Y.tag===7){c(Z,Y.sibling),ht=g(Y,et.props.children),ht.return=Z,Z=ht;break t}}else if(Y.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===N&&fv(Tt)===Y.type){c(Z,Y.sibling),ht=g(Y,et.props),ko(ht,et),ht.return=Z,Z=ht;break t}c(Z,Y);break}else a(Z,Y);Y=Y.sibling}et.type===w?(ht=sr(et.props.children,Z.mode,ht,et.key),ht.return=Z,Z=ht):(ht=mc(et.type,et.key,et.props,null,Z.mode,ht),ko(ht,et),ht.return=Z,Z=ht)}return R(Z);case b:t:{for(Tt=et.key;Y!==null;){if(Y.key===Tt)if(Y.tag===4&&Y.stateNode.containerInfo===et.containerInfo&&Y.stateNode.implementation===et.implementation){c(Z,Y.sibling),ht=g(Y,et.children||[]),ht.return=Z,Z=ht;break t}else{c(Z,Y);break}else a(Z,Y);Y=Y.sibling}ht=bh(et,Z.mode,ht),ht.return=Z,Z=ht}return R(Z);case N:return Tt=et._init,et=Tt(et._payload),ue(Z,Y,et,ht)}if(J(et))return Ft(Z,Y,et,ht);if(X(et)){if(Tt=X(et),typeof Tt!="function")throw Error(n(150));return et=Tt.call(et),Lt(Z,Y,et,ht)}if(typeof et.then=="function")return ue(Z,Y,Lc(et),ht);if(et.$$typeof===M)return ue(Z,Y,_c(Z,et),ht);Nc(Z,et)}return typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint"?(et=""+et,Y!==null&&Y.tag===6?(c(Z,Y.sibling),ht=g(Y,et),ht.return=Z,Z=ht):(c(Z,Y),ht=vh(et,Z.mode,ht),ht.return=Z,Z=ht),R(Z)):c(Z,Y)}return function(Z,Y,et,ht){try{Do=0;var Tt=ue(Z,Y,et,ht);return fa=null,Tt}catch(Mt){if(Mt===wo||Mt===wc)throw Mt;var Yt=Nn(29,Mt,null,Z.mode);return Yt.lanes=ht,Yt.return=Z,Yt}finally{}}}var pa=pv(!0),gv=pv(!1),Qn=F(null),Ci=null;function Ts(i){var a=i.alternate;K(Ue,Ue.current&1),K(Qn,i),Ci===null&&(a===null||ca.current!==null||a.memoizedState!==null)&&(Ci=i)}function mv(i){if(i.tag===22){if(K(Ue,Ue.current),K(Qn,i),Ci===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Ci=i)}}else Cs()}function Cs(){K(Ue,Ue.current),K(Qn,Qn.current)}function Zi(i){$(Qn),Ci===i&&(Ci=null),$(Ue)}var Ue=F(0);function Pc(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||Hf(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Qh(i,a,c,h){a=i.memoizedState,c=c(h,a),c=c==null?a:p({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Jh={enqueueSetState:function(i,a,c){i=i._reactInternals;var h=jn(),g=As(h);g.payload=a,c!=null&&(g.callback=c),a=Es(i,g,h),a!==null&&(In(a,i,h),Eo(a,i,h))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var h=jn(),g=As(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Es(i,g,h),a!==null&&(In(a,i,h),Eo(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=jn(),h=As(c);h.tag=2,a!=null&&(h.callback=a),a=Es(i,h,c),a!==null&&(In(a,i,c),Eo(a,i,c))}};function yv(i,a,c,h,g,y,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,R):a.prototype&&a.prototype.isPureReactComponent?!po(c,h)||!po(g,y):!0}function vv(i,a,c,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==i&&Jh.enqueueReplaceState(a,a.state,null)}function fr(i,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(i=i.defaultProps){c===a&&(c=p({},c));for(var g in i)c[g]===void 0&&(c[g]=i[g])}return c}var Bc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function bv(i){Bc(i)}function _v(i){console.error(i)}function Sv(i){Bc(i)}function Fc(i,a){try{var c=i.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function wv(i,a,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function tf(i,a,c){return c=As(c),c.tag=3,c.payload={element:null},c.callback=function(){Fc(i,a)},c}function Av(i){return i=As(i),i.tag=3,i}function Ev(i,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;i.payload=function(){return g(y)},i.callback=function(){wv(a,c,h)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){wv(a,c,h),typeof g!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var B=h.stack;this.componentDidCatch(h.value,{componentStack:B!==null?B:""})})}function wE(i,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&bo(a,c,g,!0),c=Qn.current,c!==null){switch(c.tag){case 13:return Ci===null?xf():c.alternate===null&&Re===0&&(Re=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===Oh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Cf(i,h,g)),!1;case 22:return c.flags|=65536,h===Oh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Cf(i,h,g)),!1}throw Error(n(435,c.tag))}return Cf(i,h,g),xf(),!1}if(ne)return a=Qn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==wh&&(i=Error(n(422),{cause:h}),vo(Yn(i,c)))):(h!==wh&&(a=Error(n(423),{cause:h}),vo(Yn(a,c))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,h=Yn(h,c),g=tf(i.stateNode,h,g),kh(i,g),Re!==4&&(Re=2)),!1;var y=Error(n(520),{cause:h});if(y=Yn(y,c),Io===null?Io=[y]:Io.push(y),Re!==4&&(Re=2),a===null)return!0;h=Yn(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,i=g&-g,c.lanes|=i,i=tf(c.stateNode,h,i),kh(c,i),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ls===null||!Ls.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Av(g),Ev(g,i,c,h),kh(c,g),!1}c=c.return}while(c!==null);return!1}var xv=Error(n(461)),Ve=!1;function Ke(i,a,c,h){a.child=i===null?gv(a,null,c,h):pa(a,i.child,c,h)}function Tv(i,a,c,h,g){c=c.render;var y=a.ref;if("ref"in h){var R={};for(var B in h)B!=="ref"&&(R[B]=h[B])}else R=h;return ur(a),h=Fh(i,a,c,R,y,g),B=jh(),i!==null&&!Ve?(Ih(i,a,g),Qi(i,a,g)):(ne&&B&&_h(a),a.flags|=1,Ke(i,a,h,g),a.child)}function Cv(i,a,c,h,g){if(i===null){var y=c.type;return typeof y=="function"&&!yh(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,Rv(i,a,y,h,g)):(i=mc(c.type,null,h,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!cf(i,g)){var R=y.memoizedProps;if(c=c.compare,c=c!==null?c:po,c(R,h)&&i.ref===a.ref)return Qi(i,a,g)}return a.flags|=1,i=qi(y,h),i.ref=a.ref,i.return=a,a.child=i}function Rv(i,a,c,h,g){if(i!==null){var y=i.memoizedProps;if(po(y,h)&&i.ref===a.ref)if(Ve=!1,a.pendingProps=h=y,cf(i,g))(i.flags&131072)!==0&&(Ve=!0);else return a.lanes=i.lanes,Qi(i,a,g)}return ef(i,a,c,h,g)}function Ov(i,a,c){var h=a.pendingProps,g=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|c:c,i!==null){for(g=a.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return Mv(i,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Sc(a,y!==null?y.cachePool:null),y!==null?Ry(a,y):Nh(),mv(a);else return a.lanes=a.childLanes=536870912,Mv(i,a,y!==null?y.baseLanes|c:c,c)}else y!==null?(Sc(a,y.cachePool),Ry(a,y),Cs(),a.memoizedState=null):(i!==null&&Sc(a,null),Nh(),Cs());return Ke(i,a,g,c),a.child}function Mv(i,a,c,h){var g=Rh();return g=g===null?null:{parent:ze._currentValue,pool:g},a.memoizedState={baseLanes:c,cachePool:g},i!==null&&Sc(a,null),Nh(),mv(a),i!==null&&bo(i,a,h,!0),null}function jc(i,a){var c=a.ref;if(c===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(i===null||i.ref!==c)&&(a.flags|=4194816)}}function ef(i,a,c,h,g){return ur(a),c=Fh(i,a,c,h,void 0,g),h=jh(),i!==null&&!Ve?(Ih(i,a,g),Qi(i,a,g)):(ne&&h&&_h(a),a.flags|=1,Ke(i,a,c,g),a.child)}function Dv(i,a,c,h,g,y){return ur(a),a.updateQueue=null,c=My(a,h,c,g),Oy(i),h=jh(),i!==null&&!Ve?(Ih(i,a,y),Qi(i,a,y)):(ne&&h&&_h(a),a.flags|=1,Ke(i,a,c,y),a.child)}function kv(i,a,c,h,g){if(ur(a),a.stateNode===null){var y=sa,R=c.contextType;typeof R=="object"&&R!==null&&(y=an(R)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jh,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Mh(a),R=c.contextType,y.context=typeof R=="object"&&R!==null?an(R):sa,y.state=a.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(Qh(a,c,R,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Jh.enqueueReplaceState(y,y.state,null),To(a,h,y,g),xo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){y=a.stateNode;var B=a.memoizedProps,q=fr(c,B);y.props=q;var nt=y.context,ut=c.contextType;R=sa,typeof ut=="object"&&ut!==null&&(R=an(ut));var ft=c.getDerivedStateFromProps;ut=typeof ft=="function"||typeof y.getSnapshotBeforeUpdate=="function",B=a.pendingProps!==B,ut||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(B||nt!==R)&&vv(a,y,h,R),ws=!1;var it=a.memoizedState;y.state=it,To(a,h,y,g),xo(),nt=a.memoizedState,B||it!==nt||ws?(typeof ft=="function"&&(Qh(a,c,ft,h),nt=a.memoizedState),(q=ws||yv(a,c,q,h,it,nt,R))?(ut||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=nt),y.props=h,y.state=nt,y.context=R,h=q):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Dh(i,a),R=a.memoizedProps,ut=fr(c,R),y.props=ut,ft=a.pendingProps,it=y.context,nt=c.contextType,q=sa,typeof nt=="object"&&nt!==null&&(q=an(nt)),B=c.getDerivedStateFromProps,(nt=typeof B=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==ft||it!==q)&&vv(a,y,h,q),ws=!1,it=a.memoizedState,y.state=it,To(a,h,y,g),xo();var st=a.memoizedState;R!==ft||it!==st||ws||i!==null&&i.dependencies!==null&&bc(i.dependencies)?(typeof B=="function"&&(Qh(a,c,B,h),st=a.memoizedState),(ut=ws||yv(a,c,ut,h,it,st,q)||i!==null&&i.dependencies!==null&&bc(i.dependencies))?(nt||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,st,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,st,q)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=st),y.props=h,y.state=st,y.context=q,h=ut):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&it===i.memoizedState||(a.flags|=1024),h=!1)}return y=h,jc(i,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&h?(a.child=pa(a,i.child,null,g),a.child=pa(a,null,c,g)):Ke(i,a,c,g),a.memoizedState=y.state,i=a.child):i=Qi(i,a,g),i}function Lv(i,a,c,h){return yo(),a.flags|=256,Ke(i,a,c,h),a.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(i){return{baseLanes:i,cachePool:_y()}}function rf(i,a,c){return i=i!==null?i.childLanes&~c:0,a&&(i|=Jn),i}function Nv(i,a,c){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,R;if((R=y)||(R=i!==null&&i.memoizedState===null?!1:(Ue.current&2)!==0),R&&(g=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,i===null){if(ne){if(g?Ts(a):Cs(),ne){var B=Ce,q;if(q=B){t:{for(q=B,B=Ti;q.nodeType!==8;){if(!B){B=null;break t}if(q=oi(q.nextSibling),q===null){B=null;break t}}B=q}B!==null?(a.memoizedState={dehydrated:B,treeContext:rr!==null?{id:Gi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},q=Nn(18,null,null,0),q.stateNode=B,q.return=a,a.child=q,fn=a,Ce=null,q=!0):q=!1}q||lr(a)}if(B=a.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return Hf(B)?a.lanes=32:a.lanes=536870912,null;Zi(a)}return B=h.children,h=h.fallback,g?(Cs(),g=a.mode,B=Ic({mode:"hidden",children:B},g),h=sr(h,g,c,null),B.return=a,h.return=a,B.sibling=h,a.child=B,g=a.child,g.memoizedState=sf(c),g.childLanes=rf(i,R,c),a.memoizedState=nf,h):(Ts(a),af(a,B))}if(q=i.memoizedState,q!==null&&(B=q.dehydrated,B!==null)){if(y)a.flags&256?(Ts(a),a.flags&=-257,a=of(i,a,c)):a.memoizedState!==null?(Cs(),a.child=i.child,a.flags|=128,a=null):(Cs(),g=h.fallback,B=a.mode,h=Ic({mode:"visible",children:h.children},B),g=sr(g,B,c,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,pa(a,i.child,null,c),h=a.child,h.memoizedState=sf(c),h.childLanes=rf(i,R,c),a.memoizedState=nf,a=g);else if(Ts(a),Hf(B)){if(R=B.nextSibling&&B.nextSibling.dataset,R)var nt=R.dgst;R=nt,h=Error(n(419)),h.stack="",h.digest=R,vo({value:h,source:null,stack:null}),a=of(i,a,c)}else if(Ve||bo(i,a,c,!1),R=(c&i.childLanes)!==0,Ve||R){if(R=me,R!==null&&(h=c&-c,h=(h&42)!==0?1:Hd(h),h=(h&(R.suspendedLanes|c))!==0?0:h,h!==0&&h!==q.retryLane))throw q.retryLane=h,ia(i,h),In(R,i,h),xv;B.data==="$?"||xf(),a=of(i,a,c)}else B.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=q.treeContext,Ce=oi(B.nextSibling),fn=a,ne=!0,or=null,Ti=!1,i!==null&&(Kn[Zn++]=Gi,Kn[Zn++]=Xi,Kn[Zn++]=rr,Gi=i.id,Xi=i.overflow,rr=a),a=af(a,h.children),a.flags|=4096);return a}return g?(Cs(),g=h.fallback,B=a.mode,q=i.child,nt=q.sibling,h=qi(q,{mode:"hidden",children:h.children}),h.subtreeFlags=q.subtreeFlags&65011712,nt!==null?g=qi(nt,g):(g=sr(g,B,c,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,B=i.child.memoizedState,B===null?B=sf(c):(q=B.cachePool,q!==null?(nt=ze._currentValue,q=q.parent!==nt?{parent:nt,pool:nt}:q):q=_y(),B={baseLanes:B.baseLanes|c,cachePool:q}),g.memoizedState=B,g.childLanes=rf(i,R,c),a.memoizedState=nf,h):(Ts(a),c=i.child,i=c.sibling,c=qi(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,i!==null&&(R=a.deletions,R===null?(a.deletions=[i],a.flags|=16):R.push(i)),a.child=c,a.memoizedState=null,c)}function af(i,a){return a=Ic({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Ic(i,a){return i=Nn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function of(i,a,c){return pa(a,i.child,null,c),i=af(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Pv(i,a,c){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),Eh(i.return,a,c)}function lf(i,a,c,h,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=g)}function Bv(i,a,c){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(Ke(i,a,h.children,c),h=Ue.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Pv(i,c,a);else if(i.tag===19)Pv(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(K(Ue,h),g){case"forwards":for(c=a.child,g=null;c!==null;)i=c.alternate,i!==null&&Pc(i)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),lf(a,!1,g,c,y);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Pc(i)===null){a.child=g;break}i=g.sibling,g.sibling=c,c=g,g=i}lf(a,!0,c,null,y);break;case"together":lf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Qi(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),ks|=a.lanes,(c&a.childLanes)===0)if(i!==null){if(bo(i,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,c=qi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=qi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function cf(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&bc(i)))}function AE(i,a,c){switch(a.tag){case 3:yt(a,a.stateNode.containerInfo),Ss(a,ze,i.memoizedState.cache),yo();break;case 27:case 5:St(a);break;case 4:yt(a,a.stateNode.containerInfo);break;case 10:Ss(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ts(a),a.flags|=128,null):(c&a.child.childLanes)!==0?Nv(i,a,c):(Ts(a),i=Qi(i,a,c),i!==null?i.sibling:null);Ts(a);break;case 19:var g=(i.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(bo(i,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return Bv(i,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),K(Ue,Ue.current),h)break;return null;case 22:case 23:return a.lanes=0,Ov(i,a,c);case 24:Ss(a,ze,i.memoizedState.cache)}return Qi(i,a,c)}function Fv(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ve=!0;else{if(!cf(i,c)&&(a.flags&128)===0)return Ve=!1,AE(i,a,c);Ve=(i.flags&131072)!==0}else Ve=!1,ne&&(a.flags&1048576)!==0&&fy(a,vc,a.index);switch(a.lanes=0,a.tag){case 16:t:{i=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")yh(h)?(i=fr(h,i),a.tag=1,a=kv(null,a,h,i,c)):(a.tag=0,a=ef(null,a,h,i,c));else{if(h!=null){if(g=h.$$typeof,g===j){a.tag=11,a=Tv(null,a,h,i,c);break t}else if(g===O){a.tag=14,a=Cv(null,a,h,i,c);break t}}throw a=W(h)||h,Error(n(306,a,""))}}return a;case 0:return ef(i,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=fr(h,a.pendingProps),kv(i,a,h,g,c);case 3:t:{if(yt(a,a.stateNode.containerInfo),i===null)throw Error(n(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,Dh(i,a),To(a,h,null,c);var R=a.memoizedState;if(h=R.cache,Ss(a,ze,h),h!==y.cache&&xh(a,[ze],c,!0),xo(),h=R.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=Lv(i,a,h,c);break t}else if(h!==g){g=Yn(Error(n(424)),a),vo(g),a=Lv(i,a,h,c);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ce=oi(i.firstChild),fn=a,ne=!0,or=null,Ti=!0,c=gv(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(yo(),h===g){a=Qi(i,a,c);break t}Ke(i,a,h,c)}a=a.child}return a;case 26:return jc(i,a),i===null?(c=Ub(a.type,null,a.pendingProps,null))?a.memoizedState=c:ne||(c=a.type,i=a.pendingProps,h=Jc(at.current).createElement(c),h[rn]=a,h[_n]=i,Qe(h,c,i),He(h),a.stateNode=h):a.memoizedState=Ub(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return St(a),i===null&&ne&&(h=a.stateNode=jb(a.type,a.pendingProps,at.current),fn=a,Ti=!0,g=Ce,Bs(a.type)?(Vf=g,Ce=oi(h.firstChild)):Ce=g),Ke(i,a,a.pendingProps.children,c),jc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&ne&&((g=h=Ce)&&(h=ZE(h,a.type,a.pendingProps,Ti),h!==null?(a.stateNode=h,fn=a,Ce=oi(h.firstChild),Ti=!1,g=!0):g=!1),g||lr(a)),St(a),g=a.type,y=a.pendingProps,R=i!==null?i.memoizedProps:null,h=y.children,If(g,y)?h=null:R!==null&&If(g,R)&&(a.flags|=32),a.memoizedState!==null&&(g=Fh(i,a,gE,null,null,c),Yo._currentValue=g),jc(i,a),Ke(i,a,h,c),a.child;case 6:return i===null&&ne&&((i=c=Ce)&&(c=QE(c,a.pendingProps,Ti),c!==null?(a.stateNode=c,fn=a,Ce=null,i=!0):i=!1),i||lr(a)),null;case 13:return Nv(i,a,c);case 4:return yt(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=pa(a,null,h,c):Ke(i,a,h,c),a.child;case 11:return Tv(i,a,a.type,a.pendingProps,c);case 7:return Ke(i,a,a.pendingProps,c),a.child;case 8:return Ke(i,a,a.pendingProps.children,c),a.child;case 12:return Ke(i,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Ss(a,a.type,h.value),Ke(i,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,ur(a),g=an(g),h=h(g),a.flags|=1,Ke(i,a,h,c),a.child;case 14:return Cv(i,a,a.type,a.pendingProps,c);case 15:return Rv(i,a,a.type,a.pendingProps,c);case 19:return Bv(i,a,c);case 31:return h=a.pendingProps,c=a.mode,h={mode:h.mode,children:h.children},i===null?(c=Ic(h,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=qi(i.child,h),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return Ov(i,a,c);case 24:return ur(a),h=an(ze),i===null?(g=Rh(),g===null&&(g=me,y=Th(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),a.memoizedState={parent:h,cache:g},Mh(a),Ss(a,ze,g)):((i.lanes&c)!==0&&(Dh(i,a),To(a,null,null,c),xo()),g=i.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ss(a,ze,h)):(h=y.cache,Ss(a,ze,h),h!==g.cache&&xh(a,[ze],c,!0))),Ke(i,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(n(156,a.tag))}function Ji(i){i.flags|=4}function jv(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gb(a)){if(a=Qn.current,a!==null&&((te&4194048)===te?Ci!==null:(te&62914560)!==te&&(te&536870912)===0||a!==Ci))throw Ao=Oh,Sy;i.flags|=8192}}function zc(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?mm():536870912,i.lanes|=a,va|=a)}function Lo(i,a){if(!ne)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function we(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(a)for(var g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=h,i.childLanes=c,a}function EE(i,a,c){var h=a.pendingProps;switch(Sh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(a),null;case 1:return we(a),null;case 3:return c=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Wi(ze),Et(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(mo(a)?Ji(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,my())),we(a),null;case 26:return c=a.memoizedState,i===null?(Ji(a),c!==null?(we(a),jv(a,c)):(we(a),a.flags&=-16777217)):c?c!==i.memoizedState?(Ji(a),we(a),jv(a,c)):(we(a),a.flags&=-16777217):(i.memoizedProps!==h&&Ji(a),we(a),a.flags&=-16777217),null;case 27:It(a),c=at.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Ji(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return we(a),null}i=tt.current,mo(a)?py(a):(i=jb(g,h,c),a.stateNode=i,Ji(a))}return we(a),null;case 5:if(It(a),c=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Ji(a);else{if(!h){if(a.stateNode===null)throw Error(n(166));return we(a),null}if(i=tt.current,mo(a))py(a);else{switch(g=Jc(at.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?g.createElement(c,{is:h.is}):g.createElement(c)}}i[rn]=a,i[_n]=h;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;t:switch(Qe(i,c,h),c){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Ji(a)}}return we(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Ji(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(i=at.current,mo(a)){if(i=a.stateNode,c=a.memoizedProps,h=null,g=fn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}i[rn]=a,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Db(i.nodeValue,c)),i||lr(a)}else i=Jc(i).createTextNode(h),i[rn]=a,a.stateNode=i}return we(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=mo(a),h!==null&&h.dehydrated!==null){if(i===null){if(!g)throw Error(n(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[rn]=a}else yo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;we(a),g=!1}else g=my(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Zi(a),a):(Zi(a),null)}if(Zi(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,i=i!==null&&i.memoizedState!==null,c){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return c!==i&&c&&(a.child.flags|=8192),zc(a,a.updateQueue),we(a),null;case 4:return Et(),i===null&&Nf(a.stateNode.containerInfo),we(a),null;case 10:return Wi(a.type),we(a),null;case 19:if($(Ue),g=a.memoizedState,g===null)return we(a),null;if(h=(a.flags&128)!==0,y=g.rendering,y===null)if(h)Lo(g,!1);else{if(Re!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Pc(i),y!==null){for(a.flags|=128,Lo(g,!1),i=y.updateQueue,a.updateQueue=i,zc(a,i),a.subtreeFlags=0,i=c,c=a.child;c!==null;)hy(c,i),c=c.sibling;return K(Ue,Ue.current&1|2),a.child}i=i.sibling}g.tail!==null&&Ot()>Vc&&(a.flags|=128,h=!0,Lo(g,!1),a.lanes=4194304)}else{if(!h)if(i=Pc(y),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,zc(a,i),Lo(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!ne)return we(a),null}else 2*Ot()-g.renderingStartTime>Vc&&c!==536870912&&(a.flags|=128,h=!0,Lo(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(i=g.last,i!==null?i.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ot(),a.sibling=null,i=Ue.current,K(Ue,h?i&1|2:i&1),a):(we(a),null);case 22:case 23:return Zi(a),Ph(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(we(a),a.subtreeFlags&6&&(a.flags|=8192)):we(a),c=a.updateQueue,c!==null&&zc(a,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),i!==null&&$(dr),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Wi(ze),we(a),null;case 25:return null;case 30:return null}throw Error(n(156,a.tag))}function xE(i,a){switch(Sh(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wi(ze),Et(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return It(a),null;case 13:if(Zi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));yo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return $(Ue),null;case 4:return Et(),null;case 10:return Wi(a.type),null;case 22:case 23:return Zi(a),Ph(),i!==null&&$(dr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wi(ze),null;case 25:return null;default:return null}}function Iv(i,a){switch(Sh(a),a.tag){case 3:Wi(ze),Et();break;case 26:case 27:case 5:It(a);break;case 4:Et();break;case 13:Zi(a);break;case 19:$(Ue);break;case 10:Wi(a.type);break;case 22:case 23:Zi(a),Ph(),i!==null&&$(dr);break;case 24:Wi(ze)}}function No(i,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&i)===i){h=void 0;var y=c.create,R=c.inst;h=y(),R.destroy=h}c=c.next}while(c!==g)}}catch(B){he(a,a.return,B)}}function Rs(i,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&i)===i){var R=h.inst,B=R.destroy;if(B!==void 0){R.destroy=void 0,g=a;var q=c,nt=B;try{nt()}catch(ut){he(g,q,ut)}}}h=h.next}while(h!==y)}}catch(ut){he(a,a.return,ut)}}function zv(i){var a=i.updateQueue;if(a!==null){var c=i.stateNode;try{Cy(a,c)}catch(h){he(i,i.return,h)}}}function Uv(i,a,c){c.props=fr(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){he(i,a,h)}}function Po(i,a){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(g){he(i,a,g)}}function Ri(i,a){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){he(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){he(i,a,g)}else c.current=null}function Hv(i){var a=i.type,c=i.memoizedProps,h=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){he(i,i.return,g)}}function uf(i,a,c){try{var h=i.stateNode;GE(h,i.type,c,a),h[_n]=a}catch(g){he(i,i.return,g)}}function Vv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Bs(i.type)||i.tag===4}function df(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Vv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Bs(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hf(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(i),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Qc));else if(h!==4&&(h===27&&Bs(i.type)&&(c=i.stateNode,a=null),i=i.child,i!==null))for(hf(i,a,c),i=i.sibling;i!==null;)hf(i,a,c),i=i.sibling}function Uc(i,a,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(h!==4&&(h===27&&Bs(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Uc(i,a,c),i=i.sibling;i!==null;)Uc(i,a,c),i=i.sibling}function $v(i){var a=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Qe(a,h,c),a[rn]=i,a[_n]=c}catch(y){he(i,i.return,y)}}var ts=!1,Me=!1,ff=!1,qv=typeof WeakSet=="function"?WeakSet:Set,$e=null;function TE(i,a){if(i=i.containerInfo,Ff=ru,i=ny(i),uh(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else t:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var R=0,B=-1,q=-1,nt=0,ut=0,ft=i,it=null;e:for(;;){for(var st;ft!==c||g!==0&&ft.nodeType!==3||(B=R+g),ft!==y||h!==0&&ft.nodeType!==3||(q=R+h),ft.nodeType===3&&(R+=ft.nodeValue.length),(st=ft.firstChild)!==null;)it=ft,ft=st;for(;;){if(ft===i)break e;if(it===c&&++nt===g&&(B=R),it===y&&++ut===h&&(q=R),(st=ft.nextSibling)!==null)break;ft=it,it=ft.parentNode}ft=st}c=B===-1||q===-1?null:{start:B,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(jf={focusedElem:i,selectionRange:c},ru=!1,$e=a;$e!==null;)if(a=$e,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,$e=i;else for(;$e!==null;){switch(a=$e,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,c=a,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Ft=fr(c.type,g,c.elementType===c.type);i=h.getSnapshotBeforeUpdate(Ft,y),h.__reactInternalSnapshotBeforeUpdate=i}catch(Lt){he(c,c.return,Lt)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,c=i.nodeType,c===9)Uf(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Uf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=a.sibling,i!==null){i.return=a.return,$e=i;break}$e=a.return}}function Gv(i,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Os(i,c),h&4&&No(5,c);break;case 1:if(Os(i,c),h&4)if(i=c.stateNode,a===null)try{i.componentDidMount()}catch(R){he(c,c.return,R)}else{var g=fr(c.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(R){he(c,c.return,R)}}h&64&&zv(c),h&512&&Po(c,c.return);break;case 3:if(Os(i,c),h&64&&(i=c.updateQueue,i!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Cy(i,a)}catch(R){he(c,c.return,R)}}break;case 27:a===null&&h&4&&$v(c);case 26:case 5:Os(i,c),a===null&&h&4&&Hv(c),h&512&&Po(c,c.return);break;case 12:Os(i,c);break;case 13:Os(i,c),h&4&&Wv(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=PE.bind(null,c),JE(i,c))));break;case 22:if(h=c.memoizedState!==null||ts,!h){a=a!==null&&a.memoizedState!==null||Me,g=ts;var y=Me;ts=h,(Me=a)&&!y?Ms(i,c,(c.subtreeFlags&8772)!==0):Os(i,c),ts=g,Me=y}break;case 30:break;default:Os(i,c)}}function Xv(i){var a=i.alternate;a!==null&&(i.alternate=null,Xv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&qd(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ve=null,An=!1;function es(i,a,c){for(c=c.child;c!==null;)Yv(i,a,c),c=c.sibling}function Yv(i,a,c){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(xt,c)}catch{}switch(c.tag){case 26:Me||Ri(c,a),es(i,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Me||Ri(c,a);var h=ve,g=An;Bs(c.type)&&(ve=c.stateNode,An=!1),es(i,a,c),$o(c.stateNode),ve=h,An=g;break;case 5:Me||Ri(c,a);case 6:if(h=ve,g=An,ve=null,es(i,a,c),ve=h,An=g,ve!==null)if(An)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(c.stateNode)}catch(y){he(c,a,y)}else try{ve.removeChild(c.stateNode)}catch(y){he(c,a,y)}break;case 18:ve!==null&&(An?(i=ve,Bb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Qo(i)):Bb(ve,c.stateNode));break;case 4:h=ve,g=An,ve=c.stateNode.containerInfo,An=!0,es(i,a,c),ve=h,An=g;break;case 0:case 11:case 14:case 15:Me||Rs(2,c,a),Me||Rs(4,c,a),es(i,a,c);break;case 1:Me||(Ri(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Uv(c,a,h)),es(i,a,c);break;case 21:es(i,a,c);break;case 22:Me=(h=Me)||c.memoizedState!==null,es(i,a,c),Me=h;break;default:es(i,a,c)}}function Wv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qo(i)}catch(c){he(a,a.return,c)}}function CE(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new qv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new qv),a;default:throw Error(n(435,i.tag))}}function pf(i,a){var c=CE(i);a.forEach(function(h){var g=BE.bind(null,i,h);c.has(h)||(c.add(h),h.then(g,g))})}function Pn(i,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=i,R=a,B=R;t:for(;B!==null;){switch(B.tag){case 27:if(Bs(B.type)){ve=B.stateNode,An=!1;break t}break;case 5:ve=B.stateNode,An=!1;break t;case 3:case 4:ve=B.stateNode.containerInfo,An=!0;break t}B=B.return}if(ve===null)throw Error(n(160));Yv(y,R,g),ve=null,An=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Kv(a,i),a=a.sibling}var ai=null;function Kv(i,a){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pn(a,i),Bn(i),h&4&&(Rs(3,i,i.return),No(3,i),Rs(5,i,i.return));break;case 1:Pn(a,i),Bn(i),h&512&&(Me||c===null||Ri(c,c.return)),h&64&&ts&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=ai;if(Pn(a,i),Bn(i),h&512&&(Me||c===null||Ri(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){t:{h=i.type,c=i.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[so]||y[rn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Qe(y,h,c),y[rn]=i,He(y),h=y;break t;case"link":var R=$b("link","href",g).get(h+(c.href||""));if(R){for(var B=0;B<R.length;B++)if(y=R[B],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(B,1);break e}}y=g.createElement(h),Qe(y,h,c),g.head.appendChild(y);break;case"meta":if(R=$b("meta","content",g).get(h+(c.content||""))){for(B=0;B<R.length;B++)if(y=R[B],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(B,1);break e}}y=g.createElement(h),Qe(y,h,c),g.head.appendChild(y);break;default:throw Error(n(468,h))}y[rn]=i,He(y),h=y}i.stateNode=h}else qb(g,i.type,i.stateNode);else i.stateNode=Vb(g,h,i.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?qb(g,i.type,i.stateNode):Vb(g,h,i.memoizedProps)):h===null&&i.stateNode!==null&&uf(i,i.memoizedProps,c.memoizedProps)}break;case 27:Pn(a,i),Bn(i),h&512&&(Me||c===null||Ri(c,c.return)),c!==null&&h&4&&uf(i,i.memoizedProps,c.memoizedProps);break;case 5:if(Pn(a,i),Bn(i),h&512&&(Me||c===null||Ri(c,c.return)),i.flags&32){g=i.stateNode;try{Kr(g,"")}catch(st){he(i,i.return,st)}}h&4&&i.stateNode!=null&&(g=i.memoizedProps,uf(i,g,c!==null?c.memoizedProps:g)),h&1024&&(ff=!0);break;case 6:if(Pn(a,i),Bn(i),h&4){if(i.stateNode===null)throw Error(n(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(st){he(i,i.return,st)}}break;case 3:if(nu=null,g=ai,ai=tu(a.containerInfo),Pn(a,i),ai=g,Bn(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Qo(a.containerInfo)}catch(st){he(i,i.return,st)}ff&&(ff=!1,Zv(i));break;case 4:h=ai,ai=tu(i.stateNode.containerInfo),Pn(a,i),Bn(i),ai=h;break;case 12:Pn(a,i),Bn(i);break;case 13:Pn(a,i),Bn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(_f=Ot()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,pf(i,h)));break;case 22:g=i.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,nt=ts,ut=Me;if(ts=nt||g,Me=ut||q,Pn(a,i),Me=ut,ts=nt,Bn(i),h&8192)t:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||q||ts||Me||pr(i)),c=null,a=i;;){if(a.tag===5||a.tag===26){if(c===null){q=c=a;try{if(y=q.stateNode,g)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{B=q.stateNode;var ft=q.memoizedProps.style,it=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;B.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(st){he(q,q.return,st)}}}else if(a.tag===6){if(c===null){q=a;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(st){he(q,q.return,st)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,pf(i,c))));break;case 19:Pn(a,i),Bn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,pf(i,h)));break;case 30:break;case 21:break;default:Pn(a,i),Bn(i)}}function Bn(i){var a=i.flags;if(a&2){try{for(var c,h=i.return;h!==null;){if(Vv(h)){c=h;break}h=h.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var g=c.stateNode,y=df(i);Uc(i,y,g);break;case 5:var R=c.stateNode;c.flags&32&&(Kr(R,""),c.flags&=-33);var B=df(i);Uc(i,B,R);break;case 3:case 4:var q=c.stateNode.containerInfo,nt=df(i);hf(i,nt,q);break;default:throw Error(n(161))}}catch(ut){he(i,i.return,ut)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Zv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Zv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Os(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Gv(i,a.alternate,a),a=a.sibling}function pr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Rs(4,a,a.return),pr(a);break;case 1:Ri(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Uv(a,a.return,c),pr(a);break;case 27:$o(a.stateNode);case 26:case 5:Ri(a,a.return),pr(a);break;case 22:a.memoizedState===null&&pr(a);break;case 30:pr(a);break;default:pr(a)}i=i.sibling}}function Ms(i,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=i,y=a,R=y.flags;switch(y.tag){case 0:case 11:case 15:Ms(g,y,c),No(4,y);break;case 1:if(Ms(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(nt){he(h,h.return,nt)}if(h=y,g=h.updateQueue,g!==null){var B=h.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)Ty(q[g],B)}catch(nt){he(h,h.return,nt)}}c&&R&64&&zv(y),Po(y,y.return);break;case 27:$v(y);case 26:case 5:Ms(g,y,c),c&&h===null&&R&4&&Hv(y),Po(y,y.return);break;case 12:Ms(g,y,c);break;case 13:Ms(g,y,c),c&&R&4&&Wv(g,y);break;case 22:y.memoizedState===null&&Ms(g,y,c),Po(y,y.return);break;case 30:break;default:Ms(g,y,c)}a=a.sibling}}function gf(i,a){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&_o(c))}function mf(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&_o(i))}function Oi(i,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Qv(i,a,c,h),a=a.sibling}function Qv(i,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Oi(i,a,c,h),g&2048&&No(9,a);break;case 1:Oi(i,a,c,h);break;case 3:Oi(i,a,c,h),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&_o(i)));break;case 12:if(g&2048){Oi(i,a,c,h),i=a.stateNode;try{var y=a.memoizedProps,R=y.id,B=y.onPostCommit;typeof B=="function"&&B(R,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){he(a,a.return,q)}}else Oi(i,a,c,h);break;case 13:Oi(i,a,c,h);break;case 23:break;case 22:y=a.stateNode,R=a.alternate,a.memoizedState!==null?y._visibility&2?Oi(i,a,c,h):Bo(i,a):y._visibility&2?Oi(i,a,c,h):(y._visibility|=2,ga(i,a,c,h,(a.subtreeFlags&10256)!==0)),g&2048&&gf(R,a);break;case 24:Oi(i,a,c,h),g&2048&&mf(a.alternate,a);break;default:Oi(i,a,c,h)}}function ga(i,a,c,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,R=a,B=c,q=h,nt=R.flags;switch(R.tag){case 0:case 11:case 15:ga(y,R,B,q,g),No(8,R);break;case 23:break;case 22:var ut=R.stateNode;R.memoizedState!==null?ut._visibility&2?ga(y,R,B,q,g):Bo(y,R):(ut._visibility|=2,ga(y,R,B,q,g)),g&&nt&2048&&gf(R.alternate,R);break;case 24:ga(y,R,B,q,g),g&&nt&2048&&mf(R.alternate,R);break;default:ga(y,R,B,q,g)}a=a.sibling}}function Bo(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=i,h=a,g=h.flags;switch(h.tag){case 22:Bo(c,h),g&2048&&gf(h.alternate,h);break;case 24:Bo(c,h),g&2048&&mf(h.alternate,h);break;default:Bo(c,h)}a=a.sibling}}var Fo=8192;function ma(i){if(i.subtreeFlags&Fo)for(i=i.child;i!==null;)Jv(i),i=i.sibling}function Jv(i){switch(i.tag){case 26:ma(i),i.flags&Fo&&i.memoizedState!==null&&hx(ai,i.memoizedState,i.memoizedProps);break;case 5:ma(i);break;case 3:case 4:var a=ai;ai=tu(i.stateNode.containerInfo),ma(i),ai=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Fo,Fo=16777216,ma(i),Fo=a):ma(i));break;default:ma(i)}}function tb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function jo(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];$e=h,nb(h,i)}tb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)eb(i),i=i.sibling}function eb(i){switch(i.tag){case 0:case 11:case 15:jo(i),i.flags&2048&&Rs(9,i,i.return);break;case 3:jo(i);break;case 12:jo(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Hc(i)):jo(i);break;default:jo(i)}}function Hc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];$e=h,nb(h,i)}tb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Rs(8,a,a.return),Hc(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Hc(a));break;default:Hc(a)}i=i.sibling}}function nb(i,a){for(;$e!==null;){var c=$e;switch(c.tag){case 0:case 11:case 15:Rs(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:_o(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,$e=h;else t:for(c=i;$e!==null;){h=$e;var g=h.sibling,y=h.return;if(Xv(h),h===c){$e=null;break t}if(g!==null){g.return=y,$e=g;break t}$e=y}}}var RE={getCacheForType:function(i){var a=an(ze),c=a.data.get(i);return c===void 0&&(c=i(),a.data.set(i,c)),c}},OE=typeof WeakMap=="function"?WeakMap:Map,re=0,me=null,Wt=null,te=0,ae=0,Fn=null,Ds=!1,ya=!1,yf=!1,ns=0,Re=0,ks=0,gr=0,vf=0,Jn=0,va=0,Io=null,En=null,bf=!1,_f=0,Vc=1/0,$c=null,Ls=null,Ze=0,Ns=null,ba=null,_a=0,Sf=0,wf=null,ib=null,zo=0,Af=null;function jn(){if((re&2)!==0&&te!==0)return te&-te;if(I.T!==null){var i=oa;return i!==0?i:Mf()}return bm()}function sb(){Jn===0&&(Jn=(te&536870912)===0||ne?gm():536870912);var i=Qn.current;return i!==null&&(i.flags|=32),Jn}function In(i,a,c){(i===me&&(ae===2||ae===9)||i.cancelPendingCommit!==null)&&(Sa(i,0),Ps(i,te,Jn,!1)),io(i,c),((re&2)===0||i!==me)&&(i===me&&((re&2)===0&&(gr|=c),Re===4&&Ps(i,te,Jn,!1)),Mi(i))}function rb(i,a,c){if((re&6)!==0)throw Error(n(327));var h=!c&&(a&124)===0&&(a&i.expiredLanes)===0||Js(i,a),g=h?kE(i,a):Tf(i,a,!0),y=h;do{if(g===0){ya&&!h&&Ps(i,a,0,!1);break}else{if(c=i.current.alternate,y&&!ME(c)){g=Tf(i,a,!1),y=!1;continue}if(g===2){if(y=a,i.errorRecoveryDisabledLanes&y)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;t:{var B=i;g=Io;var q=B.current.memoizedState.isDehydrated;if(q&&(Sa(B,R).flags|=256),R=Tf(B,R,!1),R!==2){if(yf&&!q){B.errorRecoveryDisabledLanes|=y,gr|=y,g=4;break t}y=En,En=g,y!==null&&(En===null?En=y:En.push.apply(En,y))}g=R}if(y=!1,g!==2)continue}}if(g===1){Sa(i,0),Ps(i,a,0,!0);break}t:{switch(h=i,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((a&4194048)!==a)break;case 6:Ps(h,a,Jn,!Ds);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(n(329))}if((a&62914560)===a&&(g=_f+300-Ot(),10<g)){if(Ps(h,a,Jn,!Ds),Qs(h,0,!0)!==0)break t;h.timeoutHandle=Nb(ab.bind(null,h,c,En,$c,bf,a,Jn,gr,va,Ds,y,2,-0,0),g);break t}ab(h,c,En,$c,bf,a,Jn,gr,va,Ds,y,0,-0,0)}}break}while(!0);Mi(i)}function ab(i,a,c,h,g,y,R,B,q,nt,ut,ft,it,st){if(i.timeoutHandle=-1,ft=a.subtreeFlags,(ft&8192||(ft&16785408)===16785408)&&(Xo={stylesheets:null,count:0,unsuspend:dx},Jv(a),ft=fx(),ft!==null)){i.cancelPendingCommit=ft(fb.bind(null,i,a,y,c,h,g,R,B,q,ut,1,it,st)),Ps(i,y,R,!nt);return}fb(i,a,y,c,h,g,R,B,q)}function ME(i){for(var a=i;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!Ln(y(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ps(i,a,c,h){a&=~vf,a&=~gr,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var g=a;0<g;){var y=31-Qt(g),R=1<<y;h[y]=-1,g&=~R}c!==0&&ym(i,c,a)}function qc(){return(re&6)===0?(Uo(0),!1):!0}function Ef(){if(Wt!==null){if(ae===0)var i=Wt.return;else i=Wt,Yi=cr=null,zh(i),fa=null,Do=0,i=Wt;for(;i!==null;)Iv(i.alternate,i),i=i.return;Wt=null}}function Sa(i,a){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,YE(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Ef(),me=i,Wt=c=qi(i.current,null),te=a,ae=0,Fn=null,Ds=!1,ya=Js(i,a),yf=!1,va=Jn=vf=gr=ks=Re=0,En=Io=null,bf=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var g=31-Qt(h),y=1<<g;a|=i[g],h&=~y}return ns=a,fc(),c}function ob(i,a){Xt=null,I.H=kc,a===wo||a===wc?(a=Ey(),ae=3):a===Sy?(a=Ey(),ae=4):ae=a===xv?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Fn=a,Wt===null&&(Re=1,Fc(i,Yn(a,i.current)))}function lb(){var i=I.H;return I.H=kc,i===null?kc:i}function cb(){var i=I.A;return I.A=RE,i}function xf(){Re=4,Ds||(te&4194048)!==te&&Qn.current!==null||(ya=!0),(ks&134217727)===0&&(gr&134217727)===0||me===null||Ps(me,te,Jn,!1)}function Tf(i,a,c){var h=re;re|=2;var g=lb(),y=cb();(me!==i||te!==a)&&($c=null,Sa(i,a)),a=!1;var R=Re;t:do try{if(ae!==0&&Wt!==null){var B=Wt,q=Fn;switch(ae){case 8:Ef(),R=6;break t;case 3:case 2:case 9:case 6:Qn.current===null&&(a=!0);var nt=ae;if(ae=0,Fn=null,wa(i,B,q,nt),c&&ya){R=0;break t}break;default:nt=ae,ae=0,Fn=null,wa(i,B,q,nt)}}DE(),R=Re;break}catch(ut){ob(i,ut)}while(!0);return a&&i.shellSuspendCounter++,Yi=cr=null,re=h,I.H=g,I.A=y,Wt===null&&(me=null,te=0,fc()),R}function DE(){for(;Wt!==null;)ub(Wt)}function kE(i,a){var c=re;re|=2;var h=lb(),g=cb();me!==i||te!==a?($c=null,Vc=Ot()+500,Sa(i,a)):ya=Js(i,a);t:do try{if(ae!==0&&Wt!==null){a=Wt;var y=Fn;e:switch(ae){case 1:ae=0,Fn=null,wa(i,a,y,1);break;case 2:case 9:if(wy(y)){ae=0,Fn=null,db(a);break}a=function(){ae!==2&&ae!==9||me!==i||(ae=7),Mi(i)},y.then(a,a);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:wy(y)?(ae=0,Fn=null,db(a)):(ae=0,Fn=null,wa(i,a,y,7));break;case 5:var R=null;switch(Wt.tag){case 26:R=Wt.memoizedState;case 5:case 27:var B=Wt;if(!R||Gb(R)){ae=0,Fn=null;var q=B.sibling;if(q!==null)Wt=q;else{var nt=B.return;nt!==null?(Wt=nt,Gc(nt)):Wt=null}break e}}ae=0,Fn=null,wa(i,a,y,5);break;case 6:ae=0,Fn=null,wa(i,a,y,6);break;case 8:Ef(),Re=6;break t;default:throw Error(n(462))}}LE();break}catch(ut){ob(i,ut)}while(!0);return Yi=cr=null,I.H=h,I.A=g,re=c,Wt!==null?0:(me=null,te=0,fc(),Re)}function LE(){for(;Wt!==null&&!Dt();)ub(Wt)}function ub(i){var a=Fv(i.alternate,i,ns);i.memoizedProps=i.pendingProps,a===null?Gc(i):Wt=a}function db(i){var a=i,c=a.alternate;switch(a.tag){case 15:case 0:a=Dv(c,a,a.pendingProps,a.type,void 0,te);break;case 11:a=Dv(c,a,a.pendingProps,a.type.render,a.ref,te);break;case 5:zh(a);default:Iv(c,a),a=Wt=hy(a,ns),a=Fv(c,a,ns)}i.memoizedProps=i.pendingProps,a===null?Gc(i):Wt=a}function wa(i,a,c,h){Yi=cr=null,zh(a),fa=null,Do=0;var g=a.return;try{if(wE(i,g,a,c,te)){Re=1,Fc(i,Yn(c,i.current)),Wt=null;return}}catch(y){if(g!==null)throw Wt=g,y;Re=1,Fc(i,Yn(c,i.current)),Wt=null;return}a.flags&32768?(ne||h===1?i=!0:ya||(te&536870912)!==0?i=!1:(Ds=i=!0,(h===2||h===9||h===3||h===6)&&(h=Qn.current,h!==null&&h.tag===13&&(h.flags|=16384))),hb(a,i)):Gc(a)}function Gc(i){var a=i;do{if((a.flags&32768)!==0){hb(a,Ds);return}i=a.return;var c=EE(a.alternate,a,ns);if(c!==null){Wt=c;return}if(a=a.sibling,a!==null){Wt=a;return}Wt=a=i}while(a!==null);Re===0&&(Re=5)}function hb(i,a){do{var c=xE(i.alternate,i);if(c!==null){c.flags&=32767,Wt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(i=i.sibling,i!==null)){Wt=i;return}Wt=i=c}while(i!==null);Re=6,Wt=null}function fb(i,a,c,h,g,y,R,B,q){i.cancelPendingCommit=null;do Xc();while(Ze!==0);if((re&6)!==0)throw Error(n(327));if(a!==null){if(a===i.current)throw Error(n(177));if(y=a.lanes|a.childLanes,y|=gh,dA(i,c,y,R,B,q),i===me&&(Wt=me=null,te=0),ba=a,Ns=i,_a=c,Sf=y,wf=g,ib=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,FE(Q,function(){return vb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=I.T,I.T=null,g=E.p,E.p=2,R=re,re|=4;try{TE(i,a,c)}finally{re=R,E.p=g,I.T=h}}Ze=1,pb(),gb(),mb()}}function pb(){if(Ze===1){Ze=0;var i=Ns,a=ba,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var h=E.p;E.p=2;var g=re;re|=4;try{Kv(a,i);var y=jf,R=ny(i.containerInfo),B=y.focusedElem,q=y.selectionRange;if(R!==B&&B&&B.ownerDocument&&ey(B.ownerDocument.documentElement,B)){if(q!==null&&uh(B)){var nt=q.start,ut=q.end;if(ut===void 0&&(ut=nt),"selectionStart"in B)B.selectionStart=nt,B.selectionEnd=Math.min(ut,B.value.length);else{var ft=B.ownerDocument||document,it=ft&&ft.defaultView||window;if(it.getSelection){var st=it.getSelection(),Ft=B.textContent.length,Lt=Math.min(q.start,Ft),ue=q.end===void 0?Lt:Math.min(q.end,Ft);!st.extend&&Lt>ue&&(R=ue,ue=Lt,Lt=R);var Z=ty(B,Lt),Y=ty(B,ue);if(Z&&Y&&(st.rangeCount!==1||st.anchorNode!==Z.node||st.anchorOffset!==Z.offset||st.focusNode!==Y.node||st.focusOffset!==Y.offset)){var et=ft.createRange();et.setStart(Z.node,Z.offset),st.removeAllRanges(),Lt>ue?(st.addRange(et),st.extend(Y.node,Y.offset)):(et.setEnd(Y.node,Y.offset),st.addRange(et))}}}}for(ft=[],st=B;st=st.parentNode;)st.nodeType===1&&ft.push({element:st,left:st.scrollLeft,top:st.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<ft.length;B++){var ht=ft[B];ht.element.scrollLeft=ht.left,ht.element.scrollTop=ht.top}}ru=!!Ff,jf=Ff=null}finally{re=g,E.p=h,I.T=c}}i.current=a,Ze=2}}function gb(){if(Ze===2){Ze=0;var i=Ns,a=ba,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var h=E.p;E.p=2;var g=re;re|=4;try{Gv(i,a.alternate,a)}finally{re=g,E.p=h,I.T=c}}Ze=3}}function mb(){if(Ze===4||Ze===3){Ze=0,Vt();var i=Ns,a=ba,c=_a,h=ib;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ze=5:(Ze=0,ba=Ns=null,yb(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ls=null),Vd(c),a=a.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(xt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=I.T,g=E.p,E.p=2,I.T=null;try{for(var y=i.onRecoverableError,R=0;R<h.length;R++){var B=h[R];y(B.value,{componentStack:B.stack})}}finally{I.T=a,E.p=g}}(_a&3)!==0&&Xc(),Mi(i),g=i.pendingLanes,(c&4194090)!==0&&(g&42)!==0?i===Af?zo++:(zo=0,Af=i):zo=0,Uo(0)}}function yb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,_o(a)))}function Xc(i){return pb(),gb(),mb(),vb()}function vb(){if(Ze!==5)return!1;var i=Ns,a=Sf;Sf=0;var c=Vd(_a),h=I.T,g=E.p;try{E.p=32>c?32:c,I.T=null,c=wf,wf=null;var y=Ns,R=_a;if(Ze=0,ba=Ns=null,_a=0,(re&6)!==0)throw Error(n(331));var B=re;if(re|=4,eb(y.current),Qv(y,y.current,R,c),re=B,Uo(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(xt,y)}catch{}return!0}finally{E.p=g,I.T=h,yb(i,a)}}function bb(i,a,c){a=Yn(c,a),a=tf(i.stateNode,a,2),i=Es(i,a,2),i!==null&&(io(i,2),Mi(i))}function he(i,a,c){if(i.tag===3)bb(i,i,c);else for(;a!==null;){if(a.tag===3){bb(a,i,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ls===null||!Ls.has(h))){i=Yn(c,i),c=Av(2),h=Es(a,c,2),h!==null&&(Ev(c,h,a,i),io(h,2),Mi(h));break}}a=a.return}}function Cf(i,a,c){var h=i.pingCache;if(h===null){h=i.pingCache=new OE;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(yf=!0,g.add(c),i=NE.bind(null,i,a,c),a.then(i,i))}function NE(i,a,c){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,me===i&&(te&c)===c&&(Re===4||Re===3&&(te&62914560)===te&&300>Ot()-_f?(re&2)===0&&Sa(i,0):vf|=c,va===te&&(va=0)),Mi(i)}function _b(i,a){a===0&&(a=mm()),i=ia(i,a),i!==null&&(io(i,a),Mi(i))}function PE(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),_b(i,c)}function BE(i,a){var c=0;switch(i.tag){case 13:var h=i.stateNode,g=i.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(a),_b(i,c)}function FE(i,a){return bt(i,a)}var Yc=null,Aa=null,Rf=!1,Wc=!1,Of=!1,mr=0;function Mi(i){i!==Aa&&i.next===null&&(Aa===null?Yc=Aa=i:Aa=Aa.next=i),Wc=!0,Rf||(Rf=!0,IE())}function Uo(i,a){if(!Of&&Wc){Of=!0;do for(var c=!1,h=Yc;h!==null;){if(i!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var R=h.suspendedLanes,B=h.pingedLanes;y=(1<<31-Qt(42|i)+1)-1,y&=g&~(R&~B),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,Eb(h,y))}else y=te,y=Qs(h,h===me?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||Js(h,y)||(c=!0,Eb(h,y));h=h.next}while(c);Of=!1}}function jE(){Sb()}function Sb(){Wc=Rf=!1;var i=0;mr!==0&&(XE()&&(i=mr),mr=0);for(var a=Ot(),c=null,h=Yc;h!==null;){var g=h.next,y=wb(h,a);y===0?(h.next=null,c===null?Yc=g:c.next=g,g===null&&(Aa=c)):(c=h,(i!==0||(y&3)!==0)&&(Wc=!0)),h=g}Uo(i)}function wb(i,a){for(var c=i.suspendedLanes,h=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var R=31-Qt(y),B=1<<R,q=g[R];q===-1?((B&c)===0||(B&h)!==0)&&(g[R]=ec(B,a)):q<=a&&(i.expiredLanes|=B),y&=~B}if(a=me,c=te,c=Qs(i,i===a?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===a&&(ae===2||ae===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&_t(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Js(i,c)){if(a=c&-c,a===i.callbackPriority)return a;switch(h!==null&&_t(h),Vd(c)){case 2:case 8:c=G;break;case 32:c=Q;break;case 268435456:c=mt;break;default:c=Q}return h=Ab.bind(null,i),c=bt(c,h),i.callbackPriority=a,i.callbackNode=c,a}return h!==null&&h!==null&&_t(h),i.callbackPriority=2,i.callbackNode=null,2}function Ab(i,a){if(Ze!==0&&Ze!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Xc()&&i.callbackNode!==c)return null;var h=te;return h=Qs(i,i===me?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(rb(i,h,a),wb(i,Ot()),i.callbackNode!=null&&i.callbackNode===c?Ab.bind(null,i):null)}function Eb(i,a){if(Xc())return null;rb(i,a,!0)}function IE(){WE(function(){(re&6)!==0?bt(oe,jE):Sb()})}function Mf(){return mr===0&&(mr=gm()),mr}function xb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ac(""+i)}function Tb(i,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,i.id&&c.setAttribute("form",i.id),a.parentNode.insertBefore(c,a),i=new FormData(i),c.parentNode.removeChild(c),i}function zE(i,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var y=xb((g[_n]||null).action),R=h.submitter;R&&(a=(a=R[_n]||null)?xb(a.formAction):R.getAttribute("formAction"),a!==null&&(y=a,R=null));var B=new uc("action","action",null,h,g);i.push({event:B,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(mr!==0){var q=R?Tb(g,R):new FormData(g);Wh(c,{pending:!0,data:q,method:g.method,action:y},null,q)}}else typeof y=="function"&&(B.preventDefault(),q=R?Tb(g,R):new FormData(g),Wh(c,{pending:!0,data:q,method:g.method,action:y},y,q))},currentTarget:g}]})}}for(var Df=0;Df<ph.length;Df++){var kf=ph[Df],UE=kf.toLowerCase(),HE=kf[0].toUpperCase()+kf.slice(1);ri(UE,"on"+HE)}ri(ry,"onAnimationEnd"),ri(ay,"onAnimationIteration"),ri(oy,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(rE,"onTransitionRun"),ri(aE,"onTransitionStart"),ri(oE,"onTransitionCancel"),ri(ly,"onTransitionEnd"),Xr("onMouseEnter",["mouseout","mouseover"]),Xr("onMouseLeave",["mouseout","mouseover"]),Xr("onPointerEnter",["pointerout","pointerover"]),Xr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function Cb(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var R=h.length-1;0<=R;R--){var B=h[R],q=B.instance,nt=B.currentTarget;if(B=B.listener,q!==y&&g.isPropagationStopped())break t;y=B,g.currentTarget=nt;try{y(g)}catch(ut){Bc(ut)}g.currentTarget=null,y=q}else for(R=0;R<h.length;R++){if(B=h[R],q=B.instance,nt=B.currentTarget,B=B.listener,q!==y&&g.isPropagationStopped())break t;y=B,g.currentTarget=nt;try{y(g)}catch(ut){Bc(ut)}g.currentTarget=null,y=q}}}}function Kt(i,a){var c=a[$d];c===void 0&&(c=a[$d]=new Set);var h=i+"__bubble";c.has(h)||(Rb(a,i,2,!1),c.add(h))}function Lf(i,a,c){var h=0;a&&(h|=4),Rb(c,i,h,a)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function Nf(i){if(!i[Kc]){i[Kc]=!0,Sm.forEach(function(c){c!=="selectionchange"&&(VE.has(c)||Lf(c,!1,i),Lf(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Kc]||(a[Kc]=!0,Lf("selectionchange",!1,a))}}function Rb(i,a,c,h){switch(Qb(a)){case 2:var g=mx;break;case 8:g=yx;break;default:g=Yf}c=g.bind(null,a,c,i),g=void 0,!eh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?i.addEventListener(a,c,{capture:!0,passive:g}):i.addEventListener(a,c,!0):g!==void 0?i.addEventListener(a,c,{passive:g}):i.addEventListener(a,c,!1)}function Pf(i,a,c,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var B=h.stateNode.containerInfo;if(B===g)break;if(R===4)for(R=h.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;B!==null;){if(R=$r(B),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){h=y=R;continue t}B=B.parentNode}}h=h.return}Pm(function(){var nt=y,ut=Jd(c),ft=[];t:{var it=cy.get(i);if(it!==void 0){var st=uc,Ft=i;switch(i){case"keypress":if(lc(c)===0)break t;case"keydown":case"keyup":st=FA;break;case"focusin":Ft="focus",st=rh;break;case"focusout":Ft="blur",st=rh;break;case"beforeblur":case"afterblur":st=rh;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=xA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=zA;break;case ry:case ay:case oy:st=RA;break;case ly:st=HA;break;case"scroll":case"scrollend":st=AA;break;case"wheel":st=$A;break;case"copy":case"cut":case"paste":st=MA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=zm;break;case"toggle":case"beforetoggle":st=GA}var Lt=(a&4)!==0,ue=!Lt&&(i==="scroll"||i==="scrollend"),Z=Lt?it!==null?it+"Capture":null:it;Lt=[];for(var Y=nt,et;Y!==null;){var ht=Y;if(et=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||et===null||Z===null||(ht=ao(Y,Z),ht!=null&&Lt.push(Vo(Y,ht,et))),ue)break;Y=Y.return}0<Lt.length&&(it=new st(it,Ft,null,c,ut),ft.push({event:it,listeners:Lt}))}}if((a&7)===0){t:{if(it=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",it&&c!==Qd&&(Ft=c.relatedTarget||c.fromElement)&&($r(Ft)||Ft[Vr]))break t;if((st||it)&&(it=ut.window===ut?ut:(it=ut.ownerDocument)?it.defaultView||it.parentWindow:window,st?(Ft=c.relatedTarget||c.toElement,st=nt,Ft=Ft?$r(Ft):null,Ft!==null&&(ue=o(Ft),Lt=Ft.tag,Ft!==ue||Lt!==5&&Lt!==27&&Lt!==6)&&(Ft=null)):(st=null,Ft=nt),st!==Ft)){if(Lt=jm,ht="onMouseLeave",Z="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(Lt=zm,ht="onPointerLeave",Z="onPointerEnter",Y="pointer"),ue=st==null?it:ro(st),et=Ft==null?it:ro(Ft),it=new Lt(ht,Y+"leave",st,c,ut),it.target=ue,it.relatedTarget=et,ht=null,$r(ut)===nt&&(Lt=new Lt(Z,Y+"enter",Ft,c,ut),Lt.target=et,Lt.relatedTarget=ue,ht=Lt),ue=ht,st&&Ft)e:{for(Lt=st,Z=Ft,Y=0,et=Lt;et;et=Ea(et))Y++;for(et=0,ht=Z;ht;ht=Ea(ht))et++;for(;0<Y-et;)Lt=Ea(Lt),Y--;for(;0<et-Y;)Z=Ea(Z),et--;for(;Y--;){if(Lt===Z||Z!==null&&Lt===Z.alternate)break e;Lt=Ea(Lt),Z=Ea(Z)}Lt=null}else Lt=null;st!==null&&Ob(ft,it,st,Lt,!1),Ft!==null&&ue!==null&&Ob(ft,ue,Ft,Lt,!0)}}t:{if(it=nt?ro(nt):window,st=it.nodeName&&it.nodeName.toLowerCase(),st==="select"||st==="input"&&it.type==="file")var Tt=Ym;else if(Gm(it))if(Wm)Tt=nE;else{Tt=tE;var Yt=JA}else st=it.nodeName,!st||st.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?nt&&Zd(nt.elementType)&&(Tt=Ym):Tt=eE;if(Tt&&(Tt=Tt(i,nt))){Xm(ft,Tt,c,ut);break t}Yt&&Yt(i,it,nt),i==="focusout"&&nt&&it.type==="number"&&nt.memoizedProps.value!=null&&Kd(it,"number",it.value)}switch(Yt=nt?ro(nt):window,i){case"focusin":(Gm(Yt)||Yt.contentEditable==="true")&&(ta=Yt,dh=nt,go=null);break;case"focusout":go=dh=ta=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,iy(ft,c,ut);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":iy(ft,c,ut)}var Mt;if(oh)t:{switch(i){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Jr?$m(i,c)&&(Nt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Nt="onCompositionStart");Nt&&(Um&&c.locale!=="ko"&&(Jr||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Jr&&(Mt=Bm()):(_s=ut,nh="value"in _s?_s.value:_s.textContent,Jr=!0)),Yt=Zc(nt,Nt),0<Yt.length&&(Nt=new Im(Nt,i,null,c,ut),ft.push({event:Nt,listeners:Yt}),Mt?Nt.data=Mt:(Mt=qm(c),Mt!==null&&(Nt.data=Mt)))),(Mt=YA?WA(i,c):KA(i,c))&&(Nt=Zc(nt,"onBeforeInput"),0<Nt.length&&(Yt=new Im("onBeforeInput","beforeinput",null,c,ut),ft.push({event:Yt,listeners:Nt}),Yt.data=Mt)),zE(ft,i,nt,c,ut)}Cb(ft,a)})}function Vo(i,a,c){return{instance:i,listener:a,currentTarget:c}}function Zc(i,a){for(var c=a+"Capture",h=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ao(i,c),g!=null&&h.unshift(Vo(i,g,y)),g=ao(i,a),g!=null&&h.push(Vo(i,g,y))),i.tag===3)return h;i=i.return}return[]}function Ea(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ob(i,a,c,h,g){for(var y=a._reactName,R=[];c!==null&&c!==h;){var B=c,q=B.alternate,nt=B.stateNode;if(B=B.tag,q!==null&&q===h)break;B!==5&&B!==26&&B!==27||nt===null||(q=nt,g?(nt=ao(c,y),nt!=null&&R.unshift(Vo(c,nt,q))):g||(nt=ao(c,y),nt!=null&&R.push(Vo(c,nt,q)))),c=c.return}R.length!==0&&i.push({event:a,listeners:R})}var $E=/\r\n?/g,qE=/\u0000|\uFFFD/g;function Mb(i){return(typeof i=="string"?i:""+i).replace($E,`
`).replace(qE,"")}function Db(i,a){return a=Mb(a),Mb(i)===a}function Qc(){}function ce(i,a,c,h,g,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Kr(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Kr(i,""+h);break;case"className":ic(i,"class",h);break;case"tabIndex":ic(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ic(i,c,h);break;case"style":Lm(i,h,y);break;case"data":if(a!=="object"){ic(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=ac(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&ce(i,a,"name",g.name,g,null),ce(i,a,"formEncType",g.formEncType,g,null),ce(i,a,"formMethod",g.formMethod,g,null),ce(i,a,"formTarget",g.formTarget,g,null)):(ce(i,a,"encType",g.encType,g,null),ce(i,a,"method",g.method,g,null),ce(i,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=ac(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=Qc);break;case"onScroll":h!=null&&Kt("scroll",i);break;case"onScrollEnd":h!=null&&Kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=ac(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Kt("beforetoggle",i),Kt("toggle",i),nc(i,"popover",h);break;case"xlinkActuate":Vi(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Vi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Vi(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Vi(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Vi(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Vi(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Vi(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Vi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Vi(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":nc(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=SA.get(c)||c,nc(i,c,h))}}function Bf(i,a,c,h,g,y){switch(c){case"style":Lm(i,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(n(60));i.innerHTML=c}}break;case"children":typeof h=="string"?Kr(i,h):(typeof h=="number"||typeof h=="bigint")&&Kr(i,""+h);break;case"onScroll":h!=null&&Kt("scroll",i);break;case"onScrollEnd":h!=null&&Kt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wm.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),y=i[_n]||null,y=y!=null?y[c]:null,typeof y=="function"&&i.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(a,h,g);break t}c in i?i[c]=h:h===!0?i.setAttribute(c,""):nc(i,c,h)}}}function Qe(i,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",i),Kt("load",i);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var R=c[y];if(R!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ce(i,a,y,R,c,null)}}g&&ce(i,a,"srcSet",c.srcSet,c,null),h&&ce(i,a,"src",c.src,c,null);return;case"input":Kt("invalid",i);var B=y=R=g=null,q=null,nt=null;for(h in c)if(c.hasOwnProperty(h)){var ut=c[h];if(ut!=null)switch(h){case"name":g=ut;break;case"type":R=ut;break;case"checked":q=ut;break;case"defaultChecked":nt=ut;break;case"value":y=ut;break;case"defaultValue":B=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(n(137,a));break;default:ce(i,a,h,ut,c,null)}}Om(i,y,B,q,nt,R,g,!1),sc(i);return;case"select":Kt("invalid",i),h=R=y=null;for(g in c)if(c.hasOwnProperty(g)&&(B=c[g],B!=null))switch(g){case"value":y=B;break;case"defaultValue":R=B;break;case"multiple":h=B;default:ce(i,a,g,B,c,null)}a=y,c=R,i.multiple=!!h,a!=null?Wr(i,!!h,a,!1):c!=null&&Wr(i,!!h,c,!0);return;case"textarea":Kt("invalid",i),y=g=h=null;for(R in c)if(c.hasOwnProperty(R)&&(B=c[R],B!=null))switch(R){case"value":h=B;break;case"defaultValue":g=B;break;case"children":y=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(n(91));break;default:ce(i,a,R,B,c,null)}Dm(i,h,g,y),sc(i);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(h=c[q],h!=null))switch(q){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ce(i,a,q,h,c,null)}return;case"dialog":Kt("beforetoggle",i),Kt("toggle",i),Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":Kt("load",i);break;case"video":case"audio":for(h=0;h<Ho.length;h++)Kt(Ho[h],i);break;case"image":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"embed":case"source":case"link":Kt("error",i),Kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in c)if(c.hasOwnProperty(nt)&&(h=c[nt],h!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,a));default:ce(i,a,nt,h,c,null)}return;default:if(Zd(a)){for(ut in c)c.hasOwnProperty(ut)&&(h=c[ut],h!==void 0&&Bf(i,a,ut,h,c,void 0));return}}for(B in c)c.hasOwnProperty(B)&&(h=c[B],h!=null&&ce(i,a,B,h,c,null))}function GE(i,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,R=null,B=null,q=null,nt=null,ut=null;for(st in c){var ft=c[st];if(c.hasOwnProperty(st)&&ft!=null)switch(st){case"checked":break;case"value":break;case"defaultValue":q=ft;default:h.hasOwnProperty(st)||ce(i,a,st,null,h,ft)}}for(var it in h){var st=h[it];if(ft=c[it],h.hasOwnProperty(it)&&(st!=null||ft!=null))switch(it){case"type":y=st;break;case"name":g=st;break;case"checked":nt=st;break;case"defaultChecked":ut=st;break;case"value":R=st;break;case"defaultValue":B=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(n(137,a));break;default:st!==ft&&ce(i,a,it,st,h,ft)}}Wd(i,R,B,q,nt,ut,y,g);return;case"select":st=R=B=it=null;for(y in c)if(q=c[y],c.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":st=q;default:h.hasOwnProperty(y)||ce(i,a,y,null,h,q)}for(g in h)if(y=h[g],q=c[g],h.hasOwnProperty(g)&&(y!=null||q!=null))switch(g){case"value":it=y;break;case"defaultValue":B=y;break;case"multiple":R=y;default:y!==q&&ce(i,a,g,y,h,q)}a=B,c=R,h=st,it!=null?Wr(i,!!c,it,!1):!!h!=!!c&&(a!=null?Wr(i,!!c,a,!0):Wr(i,!!c,c?[]:"",!1));return;case"textarea":st=it=null;for(B in c)if(g=c[B],c.hasOwnProperty(B)&&g!=null&&!h.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:ce(i,a,B,null,h,g)}for(R in h)if(g=h[R],y=c[R],h.hasOwnProperty(R)&&(g!=null||y!=null))switch(R){case"value":it=g;break;case"defaultValue":st=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&ce(i,a,R,g,h,y)}Mm(i,it,st);return;case"option":for(var Ft in c)if(it=c[Ft],c.hasOwnProperty(Ft)&&it!=null&&!h.hasOwnProperty(Ft))switch(Ft){case"selected":i.selected=!1;break;default:ce(i,a,Ft,null,h,it)}for(q in h)if(it=h[q],st=c[q],h.hasOwnProperty(q)&&it!==st&&(it!=null||st!=null))switch(q){case"selected":i.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ce(i,a,q,it,h,st)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in c)it=c[Lt],c.hasOwnProperty(Lt)&&it!=null&&!h.hasOwnProperty(Lt)&&ce(i,a,Lt,null,h,it);for(nt in h)if(it=h[nt],st=c[nt],h.hasOwnProperty(nt)&&it!==st&&(it!=null||st!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,a));break;default:ce(i,a,nt,it,h,st)}return;default:if(Zd(a)){for(var ue in c)it=c[ue],c.hasOwnProperty(ue)&&it!==void 0&&!h.hasOwnProperty(ue)&&Bf(i,a,ue,void 0,h,it);for(ut in h)it=h[ut],st=c[ut],!h.hasOwnProperty(ut)||it===st||it===void 0&&st===void 0||Bf(i,a,ut,it,h,st);return}}for(var Z in c)it=c[Z],c.hasOwnProperty(Z)&&it!=null&&!h.hasOwnProperty(Z)&&ce(i,a,Z,null,h,it);for(ft in h)it=h[ft],st=c[ft],!h.hasOwnProperty(ft)||it===st||it==null&&st==null||ce(i,a,ft,it,h,st)}var Ff=null,jf=null;function Jc(i){return i.nodeType===9?i:i.ownerDocument}function kb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lb(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function If(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zf=null;function XE(){var i=window.event;return i&&i.type==="popstate"?i===zf?!1:(zf=i,!0):(zf=null,!1)}var Nb=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,WE=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(i){return Pb.resolve(null).then(i).catch(KE)}:Nb;function KE(i){setTimeout(function(){throw i})}function Bs(i){return i==="head"}function Bb(i,a){var c=a,h=0,g=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<h&&8>h){c=h;var R=i.ownerDocument;if(c&1&&$o(R.documentElement),c&2&&$o(R.body),c&4)for(c=R.head,$o(c),R=c.firstChild;R;){var B=R.nextSibling,q=R.nodeName;R[so]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=B}}if(g===0){i.removeChild(y),Qo(a);return}g--}else c==="$"||c==="$?"||c==="$!"?g++:h=c.charCodeAt(0)-48;else h=0;c=y}while(c);Qo(a)}function Uf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Uf(c),qd(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function ZE(i,a,c,h){for(;i.nodeType===1;){var g=c;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[so])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function QE(i,a,c){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=oi(i.nextSibling),i===null))return null;return i}function Hf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function JE(i,a){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function oi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Vf=null;function Fb(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}function jb(i,a,c){switch(a=Jc(c),i){case"html":if(i=a.documentElement,!i)throw Error(n(452));return i;case"head":if(i=a.head,!i)throw Error(n(453));return i;case"body":if(i=a.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function $o(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);qd(i)}var ti=new Map,Ib=new Set;function tu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var is=E.d;E.d={f:tx,r:ex,D:nx,C:ix,L:sx,m:rx,X:ox,S:ax,M:lx};function tx(){var i=is.f(),a=qc();return i||a}function ex(i){var a=qr(i);a!==null&&a.tag===5&&a.type==="form"?rv(a):is.r(i)}var xa=typeof document>"u"?null:document;function zb(i,a,c){var h=xa;if(h&&typeof a=="string"&&a){var g=Xn(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Ib.has(g)||(Ib.add(g),i={rel:i,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Qe(a,"link",i),He(a),h.head.appendChild(a)))}}function nx(i){is.D(i),zb("dns-prefetch",i,null)}function ix(i,a){is.C(i,a),zb("preconnect",i,a)}function sx(i,a,c){is.L(i,a,c);var h=xa;if(h&&i&&a){var g='link[rel="preload"][as="'+Xn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Xn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Xn(c.imageSizes)+'"]')):g+='[href="'+Xn(i)+'"]';var y=g;switch(a){case"style":y=Ta(i);break;case"script":y=Ca(i)}ti.has(y)||(i=p({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:i,as:a},c),ti.set(y,i),h.querySelector(g)!==null||a==="style"&&h.querySelector(qo(y))||a==="script"&&h.querySelector(Go(y))||(a=h.createElement("link"),Qe(a,"link",i),He(a),h.head.appendChild(a)))}}function rx(i,a){is.m(i,a);var c=xa;if(c&&i){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Xn(h)+'"][href="'+Xn(i)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ca(i)}if(!ti.has(y)&&(i=p({rel:"modulepreload",href:i},a),ti.set(y,i),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Go(y)))return}h=c.createElement("link"),Qe(h,"link",i),He(h),c.head.appendChild(h)}}}function ax(i,a,c){is.S(i,a,c);var h=xa;if(h&&i){var g=Gr(h).hoistableStyles,y=Ta(i);a=a||"default";var R=g.get(y);if(!R){var B={loading:0,preload:null};if(R=h.querySelector(qo(y)))B.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},c),(c=ti.get(y))&&$f(i,c);var q=R=h.createElement("link");He(q),Qe(q,"link",i),q._p=new Promise(function(nt,ut){q.onload=nt,q.onerror=ut}),q.addEventListener("load",function(){B.loading|=1}),q.addEventListener("error",function(){B.loading|=2}),B.loading|=4,eu(R,a,h)}R={type:"stylesheet",instance:R,count:1,state:B},g.set(y,R)}}}function ox(i,a){is.X(i,a);var c=xa;if(c&&i){var h=Gr(c).hoistableScripts,g=Ca(i),y=h.get(g);y||(y=c.querySelector(Go(g)),y||(i=p({src:i,async:!0},a),(a=ti.get(g))&&qf(i,a),y=c.createElement("script"),He(y),Qe(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function lx(i,a){is.M(i,a);var c=xa;if(c&&i){var h=Gr(c).hoistableScripts,g=Ca(i),y=h.get(g);y||(y=c.querySelector(Go(g)),y||(i=p({src:i,async:!0,type:"module"},a),(a=ti.get(g))&&qf(i,a),y=c.createElement("script"),He(y),Qe(y,"link",i),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Ub(i,a,c,h){var g=(g=at.current)?tu(g):null;if(!g)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Ta(c.href),c=Gr(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Ta(c.href);var y=Gr(g).hoistableStyles,R=y.get(i);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,R),(y=g.querySelector(qo(i)))&&!y._p&&(R.instance=y,R.state.loading=5),ti.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ti.set(i,c),y||cx(g,i,c,R.state))),a&&h===null)throw Error(n(528,""));return R}if(a&&h!==null)throw Error(n(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ca(c),c=Gr(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Ta(i){return'href="'+Xn(i)+'"'}function qo(i){return'link[rel="stylesheet"]['+i+"]"}function Hb(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function cx(i,a,c,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Qe(a,"link",c),He(a),i.head.appendChild(a))}function Ca(i){return'[src="'+Xn(i)+'"]'}function Go(i){return"script[async]"+i}function Vb(i,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+Xn(c.href)+'"]');if(h)return a.instance=h,He(h),h;var g=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),He(h),Qe(h,"style",g),eu(h,c.precedence,i),a.instance=h;case"stylesheet":g=Ta(c.href);var y=i.querySelector(qo(g));if(y)return a.state.loading|=4,a.instance=y,He(y),y;h=Hb(c),(g=ti.get(g))&&$f(h,g),y=(i.ownerDocument||i).createElement("link"),He(y);var R=y;return R._p=new Promise(function(B,q){R.onload=B,R.onerror=q}),Qe(y,"link",h),a.state.loading|=4,eu(y,c.precedence,i),a.instance=y;case"script":return y=Ca(c.src),(g=i.querySelector(Go(y)))?(a.instance=g,He(g),g):(h=c,(g=ti.get(y))&&(h=p({},c),qf(h,g)),i=i.ownerDocument||i,g=i.createElement("script"),He(g),Qe(g,"link",h),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(n(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,eu(h,c.precedence,i));return a.instance}function eu(i,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,R=0;R<h.length;R++){var B=h[R];if(B.dataset.precedence===a)y=B;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(i,a.firstChild))}function $f(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function qf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var nu=null;function $b(i,a,c){if(nu===null){var h=new Map,g=nu=new Map;g.set(c,h)}else g=nu,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),g=0;g<c.length;g++){var y=c[g];if(!(y[so]||y[rn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(a)||"";R=i+R;var B=h.get(R);B?B.push(y):h.set(R,[y])}}return h}function qb(i,a,c){i=i.ownerDocument||i,i.head.insertBefore(c,a==="title"?i.querySelector("head > title"):null)}function ux(i,a,c){if(c===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Gb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xo=null;function dx(){}function hx(i,a,c){if(Xo===null)throw Error(n(475));var h=Xo;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Ta(c.href),y=i.querySelector(qo(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=iu.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=y,He(y);return}y=i.ownerDocument||i,c=Hb(c),(g=ti.get(g))&&$f(c,g),y=y.createElement("link"),He(y);var R=y;R._p=new Promise(function(B,q){R.onload=B,R.onerror=q}),Qe(y,"link",c),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=iu.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function fx(){if(Xo===null)throw Error(n(475));var i=Xo;return i.stylesheets&&i.count===0&&Gf(i,i.stylesheets),0<i.count?function(a){var c=setTimeout(function(){if(i.stylesheets&&Gf(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(c)}}:null}function iu(){if(this.count--,this.count===0){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var su=null;function Gf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,su=new Map,a.forEach(px,i),su=null,iu.call(i))}function px(i,a){if(!(a.state.loading&4)){var c=su.get(i);if(c)var h=c.get(null);else{c=new Map,su.set(i,c);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var R=g[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),h=R)}h&&c.set(null,h)}g=a.instance,R=g.getAttribute("data-precedence"),y=c.get(R)||h,y===h&&c.set(null,g),c.set(R,g),this.count++,h=iu.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Yo={$$typeof:M,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function gx(i,a,c,h,g,y,R,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ud(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.hiddenUpdates=Ud(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function Xb(i,a,c,h,g,y,R,B,q,nt,ut,ft){return i=new gx(i,a,c,R,B,q,nt,ft),a=1,y===!0&&(a|=24),y=Nn(3,null,null,a),i.current=y,y.stateNode=i,a=Th(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},Mh(y),i}function Yb(i){return i?(i=sa,i):sa}function Wb(i,a,c,h,g,y){g=Yb(g),h.context===null?h.context=g:h.pendingContext=g,h=As(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Es(i,h,a),c!==null&&(In(c,i,a),Eo(c,i,a))}function Kb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function Xf(i,a){Kb(i,a),(i=i.alternate)&&Kb(i,a)}function Zb(i){if(i.tag===13){var a=ia(i,67108864);a!==null&&In(a,i,67108864),Xf(i,67108864)}}var ru=!0;function mx(i,a,c,h){var g=I.T;I.T=null;var y=E.p;try{E.p=2,Yf(i,a,c,h)}finally{E.p=y,I.T=g}}function yx(i,a,c,h){var g=I.T;I.T=null;var y=E.p;try{E.p=8,Yf(i,a,c,h)}finally{E.p=y,I.T=g}}function Yf(i,a,c,h){if(ru){var g=Wf(h);if(g===null)Pf(i,a,h,au,c),Jb(i,h);else if(bx(g,i,a,c,h))h.stopPropagation();else if(Jb(i,h),a&4&&-1<vx.indexOf(i)){for(;g!==null;){var y=qr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=Hi(y.pendingLanes);if(R!==0){var B=y;for(B.pendingLanes|=2,B.entangledLanes|=2;R;){var q=1<<31-Qt(R);B.entanglements[1]|=q,R&=~q}Mi(y),(re&6)===0&&(Vc=Ot()+500,Uo(0))}}break;case 13:B=ia(y,2),B!==null&&In(B,y,2),qc(),Xf(y,2)}if(y=Wf(h),y===null&&Pf(i,a,h,au,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else Pf(i,a,h,null,c)}}function Wf(i){return i=Jd(i),Kf(i)}var au=null;function Kf(i){if(au=null,i=$r(i),i!==null){var a=o(i);if(a===null)i=null;else{var c=a.tag;if(c===13){if(i=l(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return au=i,null}function Qb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case oe:return 2;case G:return 8;case Q:case lt:return 32;case mt:return 268435456;default:return 32}default:return 32}}var Zf=!1,Fs=null,js=null,Is=null,Wo=new Map,Ko=new Map,zs=[],vx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jb(i,a){switch(i){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":Wo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(a.pointerId)}}function Zo(i,a,c,h,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=qr(a),a!==null&&Zb(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function bx(i,a,c,h,g){switch(a){case"focusin":return Fs=Zo(Fs,i,a,c,h,g),!0;case"dragenter":return js=Zo(js,i,a,c,h,g),!0;case"mouseover":return Is=Zo(Is,i,a,c,h,g),!0;case"pointerover":var y=g.pointerId;return Wo.set(y,Zo(Wo.get(y)||null,i,a,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Ko.set(y,Zo(Ko.get(y)||null,i,a,c,h,g)),!0}return!1}function t0(i){var a=$r(i.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){i.blockedOn=a,hA(i.priority,function(){if(c.tag===13){var h=jn();h=Hd(h);var g=ia(c,h);g!==null&&In(g,c,h),Xf(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ou(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=Wf(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);Qd=h,c.target.dispatchEvent(h),Qd=null}else return a=qr(c),a!==null&&Zb(a),i.blockedOn=c,!1;a.shift()}return!0}function e0(i,a,c){ou(i)&&c.delete(a)}function _x(){Zf=!1,Fs!==null&&ou(Fs)&&(Fs=null),js!==null&&ou(js)&&(js=null),Is!==null&&ou(Is)&&(Is=null),Wo.forEach(e0),Ko.forEach(e0)}function lu(i,a){i.blockedOn===a&&(i.blockedOn=null,Zf||(Zf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_x)))}var cu=null;function n0(i){cu!==i&&(cu=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){cu===i&&(cu=null);for(var a=0;a<i.length;a+=3){var c=i[a],h=i[a+1],g=i[a+2];if(typeof h!="function"){if(Kf(h||c)===null)continue;break}var y=qr(c);y!==null&&(i.splice(a,3),a-=3,Wh(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Qo(i){function a(q){return lu(q,i)}Fs!==null&&lu(Fs,i),js!==null&&lu(js,i),Is!==null&&lu(Is,i),Wo.forEach(a),Ko.forEach(a);for(var c=0;c<zs.length;c++){var h=zs[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<zs.length&&(c=zs[0],c.blockedOn===null);)t0(c),c.blockedOn===null&&zs.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],R=g[_n]||null;if(typeof y=="function")R||n0(c);else if(R){var B=null;if(y&&y.hasAttribute("formAction")){if(g=y,R=y[_n]||null)B=R.formAction;else if(Kf(g)!==null)continue}else B=R.action;typeof B=="function"?c[h+1]=B:(c.splice(h,3),h-=3),n0(c)}}}function Qf(i){this._internalRoot=i}uu.prototype.render=Qf.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));var c=a.current,h=jn();Wb(c,h,i,a,null,null)},uu.prototype.unmount=Qf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Wb(i.current,2,null,i,null,null),qc(),a[Vr]=null}};function uu(i){this._internalRoot=i}uu.prototype.unstable_scheduleHydration=function(i){if(i){var a=bm();i={blockedOn:null,target:i,priority:a};for(var c=0;c<zs.length&&a!==0&&a<zs[c].priority;c++);zs.splice(c,0,i),c===0&&t0(i)}};var i0=t.version;if(i0!=="19.1.1")throw Error(n(527,i0,"19.1.1"));E.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(a),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var Sx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{xt=du.inject(Sx),Rt=du}catch{}}return tl.createRoot=function(i,a){if(!r(i))throw Error(n(299));var c=!1,h="",g=bv,y=_v,R=Sv,B=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(B=a.unstable_transitionCallbacks)),a=Xb(i,1,!1,null,null,c,h,g,y,R,B,null),i[Vr]=a.current,Nf(i),new Qf(a)},tl.hydrateRoot=function(i,a,c){if(!r(i))throw Error(n(299));var h=!1,g="",y=bv,R=_v,B=Sv,q=null,nt=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(B=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(nt=c.formState)),a=Xb(i,1,!0,a,c??null,h,g,y,R,B,q,nt),a.context=Yb(null),c=a.current,h=jn(),h=Hd(h),g=As(h),g.callback=null,Es(c,g,h),c=h,a.current.lanes=c,io(a,c),Mi(a),i[Vr]=a.current,Nf(i),new uu(a)},tl.version="19.1.1",tl}var g0;function kx(){if(g0)return np.exports;g0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),np.exports=Dx(),np.exports}var Lx=kx();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m0="popstate";function Nx(s={}){function t(n,r){let{pathname:o,search:l,hash:u}=n.location;return zp("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(n,r){return typeof r=="string"?r:Al(r)}return Bx(t,e,null,s)}function Se(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function yi(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Px(){return Math.random().toString(36).substring(2,10)}function y0(s,t){return{usr:s.state,key:s.key,idx:t}}function zp(s,t,e=null,n){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Ka(t):t,state:e,key:t&&t.key||n||Px()}}function Al({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function Ka(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let n=s.indexOf("?");n>=0&&(t.search=s.substring(n),s=s.substring(0,n)),s&&(t.pathname=s)}return t}function Bx(s,t,e,n={}){let{window:r=document.defaultView,v5Compat:o=!1}=n,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function m(){u="POP";let x=p(),A=x==null?null:x-f;f=x,d&&d({action:u,location:_.location,delta:A})}function v(x,A){u="PUSH";let C=zp(_.location,x,A);f=p()+1;let M=y0(C,f),j=_.createHref(C);try{l.pushState(M,"",j)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(j)}o&&d&&d({action:u,location:_.location,delta:1})}function b(x,A){u="REPLACE";let C=zp(_.location,x,A);f=p();let M=y0(C,f),j=_.createHref(C);l.replaceState(M,"",j),o&&d&&d({action:u,location:_.location,delta:0})}function w(x){return Fx(x)}let _={get action(){return u},get location(){return s(r,l)},listen(x){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(m0,m),d=x,()=>{r.removeEventListener(m0,m),d=null}},createHref(x){return t(r,x)},createURL:w,encodeLocation(x){let A=w(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:b,go(x){return l.go(x)}};return _}function Fx(s,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Se(e,"No window.location.(origin|href) available to create URL");let n=typeof s=="string"?s:Al(s);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function xS(s,t,e="/"){return jx(s,t,e,!1)}function jx(s,t,e,n){let r=typeof t=="string"?Ka(t):t,o=hs(r.pathname||"/",e);if(o==null)return null;let l=TS(s);Ix(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Kx(o);u=Yx(l[d],f,n)}return u}function TS(s,t=[],e=[],n="",r=!1){let o=(l,u,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Se(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let m=cs([n,p.relativePath]),v=e.concat(p);l.children&&l.children.length>0&&(Se(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),TS(l.children,t,v,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:Gx(m,l.index),routesMeta:v})};return s.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of CS(l.path))o(l,u,!0,d)}),t}function CS(s){let t=s.split("/");if(t.length===0)return[];let[e,...n]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(n.length===0)return r?[o,""]:[o];let l=CS(n.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>s.startsWith("/")&&d===""?"/":d)}function Ix(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:Xx(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var zx=/^:[\w-]+$/,Ux=3,Hx=2,Vx=1,$x=10,qx=-2,v0=s=>s==="*";function Gx(s,t){let e=s.split("/"),n=e.length;return e.some(v0)&&(n+=qx),t&&(n+=Hx),e.filter(r=>!v0(r)).reduce((r,o)=>r+(zx.test(o)?Ux:o===""?Vx:$x),n)}function Xx(s,t){return s.length===t.length&&s.slice(0,-1).every((n,r)=>n===t[r])?s[s.length-1]-t[t.length-1]:0}function Yx(s,t,e=!1){let{routesMeta:n}=s,r={},o="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",m=Hu({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!m&&f&&e&&!n[n.length-1].route.index&&(m=Hu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:cs([o,m.pathname]),pathnameBase:tT(cs([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=cs([o,m.pathnameBase]))}return l}function Hu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,n]=Wx(s.path,s.caseSensitive,s.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let w=u[v]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=u[v];return m&&!b?f[p]=void 0:f[p]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:s}}function Wx(s,t=!1,e=!0){yi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function Kx(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function hs(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=s.charAt(e);return n&&n!=="/"?null:s.slice(e)||"/"}function Zx(s,t="/"){let{pathname:e,search:n="",hash:r=""}=typeof s=="string"?Ka(s):s;return{pathname:e?e.startsWith("/")?e:Qx(e,t):t,search:eT(n),hash:nT(r)}}function Qx(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function ap(s,t,e,n){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jx(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function wg(s){let t=Jx(s);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Ag(s,t,e,n=!1){let r;typeof s=="string"?r=Ka(s):(r={...s},Se(!r.pathname||!r.pathname.includes("?"),ap("?","pathname","search",r)),Se(!r.pathname||!r.pathname.includes("#"),ap("#","pathname","hash",r)),Se(!r.search||!r.search.includes("#"),ap("#","search","hash",r)));let o=s===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let m=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),m-=1;r.pathname=v.join("/")}u=m>=0?t[m]:"/"}let d=Zx(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var cs=s=>s.join("/").replace(/\/\/+/g,"/"),tT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),eT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,nT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function iT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var RS=["POST","PUT","PATCH","DELETE"];new Set(RS);var sT=["GET",...RS];new Set(sT);var Za=z.createContext(null);Za.displayName="DataRouter";var fd=z.createContext(null);fd.displayName="DataRouterState";z.createContext(!1);var OS=z.createContext({isTransitioning:!1});OS.displayName="ViewTransition";var rT=z.createContext(new Map);rT.displayName="Fetchers";var aT=z.createContext(null);aT.displayName="Await";var Si=z.createContext(null);Si.displayName="Navigation";var Ll=z.createContext(null);Ll.displayName="Location";var wi=z.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Eg=z.createContext(null);Eg.displayName="RouteError";function oT(s,{relative:t}={}){Se(Qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=z.useContext(Si),{hash:r,pathname:o,search:l}=Pl(s,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:cs([e,o])),n.createHref({pathname:u,search:l,hash:r})}function Qa(){return z.useContext(Ll)!=null}function Ws(){return Se(Qa(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Ll).location}var MS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(s){z.useContext(Si).static||z.useLayoutEffect(s)}function Nl(){let{isDataRoute:s}=z.useContext(wi);return s?_T():lT()}function lT(){Se(Qa(),"useNavigate() may be used only in the context of a <Router> component.");let s=z.useContext(Za),{basename:t,navigator:e}=z.useContext(Si),{matches:n}=z.useContext(wi),{pathname:r}=Ws(),o=JSON.stringify(wg(n)),l=z.useRef(!1);return DS(()=>{l.current=!0}),z.useCallback((d,f={})=>{if(yi(l.current,MS),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=Ag(d,JSON.parse(o),r,f.relative==="path");s==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:cs([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,r,s])}z.createContext(null);function kS(){let{matches:s}=z.useContext(wi),t=s[s.length-1];return t?t.params:{}}function Pl(s,{relative:t}={}){let{matches:e}=z.useContext(wi),{pathname:n}=Ws(),r=JSON.stringify(wg(e));return z.useMemo(()=>Ag(s,JSON.parse(r),n,t==="path"),[s,r,n,t])}function cT(s,t){return LS(s,t)}function LS(s,t,e,n,r){Se(Qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Si),{matches:l}=z.useContext(wi),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",m=u&&u.route;{let C=m&&m.path||"";NS(f,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Ws(),b;if(t){let C=typeof t=="string"?Ka(t):t;Se(p==="/"||C.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=v;let w=b.pathname||"/",_=w;if(p!=="/"){let C=p.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let x=xS(s,{pathname:_});yi(m||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),yi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=pT(x&&x.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:cs([p,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:cs([p,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),l,e,n,r);return t&&A?z.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function uT(){let s=bT(),t=iT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:o},"ErrorBoundary")," or"," ",z.createElement("code",{style:o},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),e?z.createElement("pre",{style:r},e):null,l)}var dT=z.createElement(uT,null),hT=class extends z.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?z.createElement(wi.Provider,{value:this.props.routeContext},z.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fT({routeContext:s,match:t,children:e}){let n=z.useContext(Za);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(wi.Provider,{value:s},e)}function pT(s,t=[],e=null,n=null,r=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let o=s,l=e?.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Se(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(e)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:v}=e,b=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,p,m)=>{let v,b=!1,w=null,_=null;e&&(v=l&&p.route.id?l[p.route.id]:void 0,w=p.route.errorElement||dT,u&&(d<0&&m===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):d===m&&(b=!0,_=p.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),A=()=>{let C;return v?C=w:b?C=_:p.route.Component?C=z.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,z.createElement(fT,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:e!=null},children:C})};return e&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?z.createElement(hT,{location:e.location,revalidation:e.revalidation,component:w,error:v,children:A(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:n}):A()},null)}function xg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gT(s){let t=z.useContext(Za);return Se(t,xg(s)),t}function mT(s){let t=z.useContext(fd);return Se(t,xg(s)),t}function yT(s){let t=z.useContext(wi);return Se(t,xg(s)),t}function Tg(s){let t=yT(s),e=t.matches[t.matches.length-1];return Se(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function vT(){return Tg("useRouteId")}function bT(){let s=z.useContext(Eg),t=mT("useRouteError"),e=Tg("useRouteError");return s!==void 0?s:t.errors?.[e]}function _T(){let{router:s}=gT("useNavigate"),t=Tg("useNavigate"),e=z.useRef(!1);return DS(()=>{e.current=!0}),z.useCallback(async(r,o={})=>{yi(e.current,MS),e.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:t,...o}))},[s,t])}var b0={};function NS(s,t,e){!t&&!b0[s]&&(b0[s]=!0,yi(!1,e))}z.memo(ST);function ST({routes:s,future:t,state:e,unstable_onError:n}){return LS(s,void 0,e,n,t)}function PS({to:s,replace:t,state:e,relative:n}){Se(Qa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=z.useContext(Si);yi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=z.useContext(wi),{pathname:l}=Ws(),u=Nl(),d=Ag(s,wg(o),l,n==="path"),f=JSON.stringify(d);return z.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:n})},[u,f,n,t,e]),null}function Sr(s){Se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wT({basename:s="/",children:t=null,location:e,navigationType:n="POP",navigator:r,static:o=!1}){Se(!Qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof e=="string"&&(e=Ka(e));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=e,b=z.useMemo(()=>{let w=hs(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:v},navigationType:n}},[l,d,f,p,m,v,n]);return yi(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:z.createElement(Si.Provider,{value:u},z.createElement(Ll.Provider,{children:t,value:b}))}function AT({children:s,location:t}){return cT(Up(s),t)}function Up(s,t=[]){let e=[];return z.Children.forEach(s,(n,r)=>{if(!z.isValidElement(n))return;let o=[...t,r];if(n.type===z.Fragment){e.push.apply(e,Up(n.props.children,o));return}Se(n.type===Sr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Se(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Up(n.props.children,o)),e.push(l)}),e}var Du="get",ku="application/x-www-form-urlencoded";function pd(s){return s!=null&&typeof s.tagName=="string"}function ET(s){return pd(s)&&s.tagName.toLowerCase()==="button"}function xT(s){return pd(s)&&s.tagName.toLowerCase()==="form"}function TT(s){return pd(s)&&s.tagName.toLowerCase()==="input"}function CT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function RT(s,t){return s.button===0&&(!t||t==="_self")&&!CT(s)}var fu=null;function OT(){if(fu===null)try{new FormData(document.createElement("form"),0),fu=!1}catch{fu=!0}return fu}var MT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(s){return s!=null&&!MT.has(s)?(yi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ku}"`),null):s}function DT(s,t){let e,n,r,o,l;if(xT(s)){let u=s.getAttribute("action");n=u?hs(u,t):null,e=s.getAttribute("method")||Du,r=op(s.getAttribute("enctype"))||ku,o=new FormData(s)}else if(ET(s)||TT(s)&&(s.type==="submit"||s.type==="image")){let u=s.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||u.getAttribute("action");if(n=d?hs(d,t):null,e=s.getAttribute("formmethod")||u.getAttribute("method")||Du,r=op(s.getAttribute("formenctype"))||op(u.getAttribute("enctype"))||ku,o=new FormData(u,s),!OT()){let{name:f,type:p,value:m}=s;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,m)}}else{if(pd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Du,n=null,r=ku,l=s}return o&&r==="text/plain"&&(l=o,o=void 0),{action:n,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cg(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function kT(s,t,e){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&hs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function LT(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function PT(s,t,e){let n=await Promise.all(s.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await LT(o,e);return l.links?l.links():[]}return[]}));return IT(n.flat(1).filter(NT).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _0(s,t,e,n,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function BT(s,t,{includeHydrateFallback:e}={}){return FT(s.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function FT(s){return[...new Set(s)]}function jT(s){let t={},e=Object.keys(s).sort();for(let n of e)t[n]=s[n];return t}function IT(s,t){let e=new Set;return new Set(t),s.reduce((n,r)=>{let o=JSON.stringify(jT(r));return e.has(o)||(e.add(o),n.push({key:o,link:r})),n},[])}function BS(){let s=z.useContext(Za);return Cg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function zT(){let s=z.useContext(fd);return Cg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Rg=z.createContext(void 0);Rg.displayName="FrameworkContext";function FS(){let s=z.useContext(Rg);return Cg(s,"You must render this element inside a <HydratedRouter> element"),s}function UT(s,t){let e=z.useContext(Rg),[n,r]=z.useState(!1),[o,l]=z.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,v=z.useRef(null);z.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let _=A=>{A.forEach(C=>{l(C.isIntersecting)})},x=new IntersectionObserver(_,{threshold:.5});return v.current&&x.observe(v.current),()=>{x.disconnect()}}},[s]),z.useEffect(()=>{if(n){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[n]);let b=()=>{r(!0)},w=()=>{r(!1),l(!1)};return e?s!=="intent"?[o,v,{}]:[o,v,{onFocus:el(u,b),onBlur:el(d,w),onMouseEnter:el(f,b),onMouseLeave:el(p,w),onTouchStart:el(m,b)}]:[!1,v,{}]}function el(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function HT({page:s,...t}){let{router:e}=BS(),n=z.useMemo(()=>xS(e.routes,s,e.basename),[e.routes,s,e.basename]);return n?z.createElement($T,{page:s,matches:n,...t}):null}function VT(s){let{manifest:t,routeModules:e}=FS(),[n,r]=z.useState([]);return z.useEffect(()=>{let o=!1;return PT(s,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[s,t,e]),n}function $T({page:s,matches:t,...e}){let n=Ws(),{manifest:r,routeModules:o}=FS(),{basename:l}=BS(),{loaderData:u,matches:d}=zT(),f=z.useMemo(()=>_0(s,t,d,r,n,"data"),[s,t,d,r,n]),p=z.useMemo(()=>_0(s,t,d,r,n,"assets"),[s,t,d,r,n]),m=z.useMemo(()=>{if(s===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(t.forEach(A=>{let C=r.routes[A.route.id];!C||!C.hasLoader||(!f.some(M=>M.route.id===A.route.id)&&A.route.id in u&&o[A.route.id]?.shouldRevalidate||C.hasClientLoader?_=!0:w.add(A.route.id))}),w.size===0)return[];let x=kT(s,l,"data");return _&&w.size>0&&x.searchParams.set("_routes",t.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[x.pathname+x.search]},[l,u,n,r,f,t,s,o]),v=z.useMemo(()=>BT(p,r),[p,r]),b=VT(p);return z.createElement(z.Fragment,null,m.map(w=>z.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>z.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),b.map(({key:w,link:_})=>z.createElement("link",{key:w,nonce:e.nonce,..._})))}function qT(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jS&&(window.__reactRouterVersion="7.9.3")}catch{}function GT({basename:s,children:t,window:e}){let n=z.useRef();n.current==null&&(n.current=Nx({window:e,v5Compat:!0}));let r=n.current,[o,l]=z.useState({action:r.action,location:r.location}),u=z.useCallback(d=>{z.startTransition(()=>l(d))},[l]);return z.useLayoutEffect(()=>r.listen(u),[r,u]),z.createElement(wT,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:r})}var IS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vu=z.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:m,...v},b){let{basename:w}=z.useContext(Si),_=typeof f=="string"&&IS.test(f),x,A=!1;if(typeof f=="string"&&_&&(x=f,jS))try{let P=new URL(window.location.href),L=f.startsWith("//")?new URL(P.protocol+f):new URL(f),U=hs(L.pathname,w);L.origin===P.origin&&U!=null?f=U+L.search+L.hash:A=!0}catch{yi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=oT(f,{relative:r}),[M,j,T]=UT(n,v),D=KT(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:m});function O(P){t&&t(P),P.defaultPrevented||D(P)}let N=z.createElement("a",{...v,...T,href:x||C,onClick:A||o?t:O,ref:qT(b,j),target:d,"data-discover":!_&&e==="render"?"true":void 0});return M&&!_?z.createElement(z.Fragment,null,N,z.createElement(HT,{page:C})):N});Vu.displayName="Link";var XT=z.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let m=Pl(l,{relative:f.relative}),v=Ws(),b=z.useContext(fd),{navigator:w,basename:_}=z.useContext(Si),x=b!=null&&eC(m)&&u===!0,A=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,C=v.pathname,M=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(C=C.toLowerCase(),M=M?M.toLowerCase():null,A=A.toLowerCase()),M&&_&&(M=hs(M,_)||M);const j=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let T=C===A||!r&&C.startsWith(A)&&C.charAt(j)==="/",D=M!=null&&(M===A||!r&&M.startsWith(A)&&M.charAt(A.length)==="/"),O={isActive:T,isPending:D,isTransitioning:x},N=T?t:void 0,P;typeof n=="function"?P=n(O):P=[n,T?"active":null,D?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(O):o;return z.createElement(Vu,{...f,"aria-current":N,className:P,ref:p,style:L,to:l,viewTransition:u},typeof d=="function"?d(O):d)});XT.displayName="NavLink";var YT=z.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:r,state:o,method:l=Du,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:m,...v},b)=>{let w=JT(),_=tC(u,{relative:f}),x=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&IS.test(u),C=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let j=M.nativeEvent.submitter,T=j?.getAttribute("formmethod")||l;w(j||M.currentTarget,{fetcherKey:t,method:T,navigate:e,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:m})};return z.createElement("form",{ref:b,method:x,action:_,onSubmit:n?d:C,...v,"data-discover":!A&&s==="render"?"true":void 0})});YT.displayName="Form";function WT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(s){let t=z.useContext(Za);return Se(t,WT(s)),t}function KT(s,{target:t,replace:e,state:n,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=Nl(),d=Ws(),f=Pl(s,{relative:o});return z.useCallback(p=>{if(RT(p,t)){p.preventDefault();let m=e!==void 0?e:Al(d)===Al(f);u(s,{replace:m,state:n,preventScrollReset:r,relative:o,viewTransition:l})}},[d,u,f,e,n,t,s,r,o,l])}var ZT=0,QT=()=>`__${String(++ZT)}__`;function JT(){let{router:s}=zS("useSubmit"),{basename:t}=z.useContext(Si),e=vT();return z.useCallback(async(n,r={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=DT(n,t);if(r.navigate===!1){let p=r.fetcherKey||QT();await s.fetch(p,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await s.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,t,e])}function tC(s,{relative:t}={}){let{basename:e}=z.useContext(Si),n=z.useContext(wi);Se(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),o={...Pl(s||".",{relative:t})},l=Ws();if(s==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();o.search=p?`?${p}`:""}}return(!s||s===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:cs([e,o.pathname])),Al(o)}function eC(s,{relative:t}={}){let e=z.useContext(OS);Se(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=zS("useViewTransitionState"),r=Pl(s,{relative:t});if(!e.isTransitioning)return!1;let o=hs(e.currentLocation.pathname,n)||e.currentLocation.pathname,l=hs(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Hu(r.pathname,l)!=null||Hu(r.pathname,o)!=null}var lp={exports:{}},cp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function nC(){if(S0)return cp;S0=1;var s=_i();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var e=typeof Object.is=="function"?Object.is:t,n=s.useSyncExternalStore,r=s.useRef,o=s.useEffect,l=s.useMemo,u=s.useDebugValue;return cp.useSyncExternalStoreWithSelector=function(d,f,p,m,v){var b=r(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function x(T){if(!A){if(A=!0,C=T,T=m(T),v!==void 0&&w.hasValue){var D=w.value;if(v(D,T))return M=D}return M=T}if(D=M,e(C,T))return D;var O=m(T);return v!==void 0&&v(D,O)?(C=T,D):(C=T,M=O)}var A=!1,C,M,j=p===void 0?null:p;return[function(){return x(f())},j===null?void 0:function(){return x(j())}]},[f,p,m,v]);var _=n(d,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=_},[_]),u(_),_},cp}var w0;function iC(){return w0||(w0=1,lp.exports=nC()),lp.exports}var sC=iC();function rC(s){s()}function aC(){let s=null,t=null;return{clear(){s=null,t=null},notify(){rC(()=>{let e=s;for(;e;)e.callback(),e=e.next})},get(){const e=[];let n=s;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let n=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:s=r,function(){!n||s===null||(n=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:s=r.next)}}}}var A0={notify(){},get:()=>[]};function oC(s,t){let e,n=A0,r=0,o=!1;function l(_){p();const x=n.subscribe(_);let A=!1;return()=>{A||(A=!0,x(),m())}}function u(){n.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return o}function p(){r++,e||(e=s.subscribe(d),n=aC())}function m(){r--,e&&r===0&&(e(),e=void 0,n.clear(),n=A0)}function v(){o||(o=!0,p())}function b(){o&&(o=!1,m())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>n};return w}var lC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cC=lC(),uC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dC=uC(),hC=()=>cC||dC?z.useLayoutEffect:z.useEffect,fC=hC(),pC=Symbol.for("react-redux-context"),gC=typeof globalThis<"u"?globalThis:{};function mC(){if(!z.createContext)return{};const s=gC[pC]??=new Map;let t=s.get(z.createContext);return t||(t=z.createContext(null),s.set(z.createContext,t)),t}var Xs=mC();function yC(s){const{children:t,context:e,serverState:n,store:r}=s,o=z.useMemo(()=>{const d=oC(r);return{store:r,subscription:d,getServerState:n?()=>n:void 0}},[r,n]),l=z.useMemo(()=>r.getState(),[r]);fC(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=e||Xs;return z.createElement(u.Provider,{value:o},t)}var vC=yC;function Og(s=Xs){return function(){return z.useContext(s)}}var US=Og();function HS(s=Xs){const t=s===Xs?US:Og(s),e=()=>{const{store:n}=t();return n};return Object.assign(e,{withTypes:()=>e}),e}var bC=HS();function _C(s=Xs){const t=s===Xs?bC:HS(s),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var Mg=_C(),SC=(s,t)=>s===t;function wC(s=Xs){const t=s===Xs?US:Og(s),e=(n,r={})=>{const{equalityFn:o=SC}=typeof r=="function"?{equalityFn:r}:r,l=t(),{store:u,subscription:d,getServerState:f}=l;z.useRef(!0);const p=z.useCallback({[n.name](v){return n(v)}}[n.name],[n]),m=sC.useSyncExternalStoreWithSelector(d.addNestedSub,u.getState,f||u.getState,p,o);return z.useDebugValue(m),m};return Object.assign(e,{withTypes:()=>e}),e}var Bl=wC();function nn(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var AC=typeof Symbol=="function"&&Symbol.observable||"@@observable",E0=AC,up=()=>Math.random().toString(36).substring(7).split("").join("."),EC={INIT:`@@redux/INIT${up()}`,REPLACE:`@@redux/REPLACE${up()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${up()}`},$u=EC;function Dg(s){if(typeof s!="object"||s===null)return!1;let t=s;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(s)===t||Object.getPrototypeOf(s)===null}function VS(s,t,e){if(typeof s!="function")throw new Error(nn(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(nn(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(nn(1));return e(VS)(s,t)}let n=s,r=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((x,A)=>{l.set(A,x)}))}function p(){if(d)throw new Error(nn(3));return r}function m(x){if(typeof x!="function")throw new Error(nn(4));if(d)throw new Error(nn(5));let A=!0;f();const C=u++;return l.set(C,x),function(){if(A){if(d)throw new Error(nn(6));A=!1,f(),l.delete(C),o=null}}}function v(x){if(!Dg(x))throw new Error(nn(7));if(typeof x.type>"u")throw new Error(nn(8));if(typeof x.type!="string")throw new Error(nn(17));if(d)throw new Error(nn(9));try{d=!0,r=n(r,x)}finally{d=!1}return(o=l).forEach(C=>{C()}),x}function b(x){if(typeof x!="function")throw new Error(nn(10));n=x,v({type:$u.REPLACE})}function w(){const x=m;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(nn(11));function C(){const j=A;j.next&&j.next(p())}return C(),{unsubscribe:x(C)}},[E0](){return this}}}return v({type:$u.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:b,[E0]:w}}function xC(s){Object.keys(s).forEach(t=>{const e=s[t];if(typeof e(void 0,{type:$u.INIT})>"u")throw new Error(nn(12));if(typeof e(void 0,{type:$u.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nn(13))})}function TC(s){const t=Object.keys(s),e={};for(let o=0;o<t.length;o++){const l=t[o];typeof s[l]=="function"&&(e[l]=s[l])}const n=Object.keys(e);let r;try{xC(e)}catch(o){r=o}return function(l={},u){if(r)throw r;let d=!1;const f={};for(let p=0;p<n.length;p++){const m=n[p],v=e[m],b=l[m],w=v(b,u);if(typeof w>"u")throw u&&u.type,new Error(nn(14));f[m]=w,d=d||w!==b}return d=d||n.length!==Object.keys(l).length,d?f:l}}function qu(...s){return s.length===0?t=>t:s.length===1?s[0]:s.reduce((t,e)=>(...n)=>t(e(...n)))}function CC(...s){return t=>(e,n)=>{const r=t(e,n);let o=()=>{throw new Error(nn(15))};const l={getState:r.getState,dispatch:(d,...f)=>o(d,...f)},u=s.map(d=>d(l));return o=qu(...u)(r.dispatch),{...r,dispatch:o}}}function RC(s){return Dg(s)&&"type"in s&&typeof s.type=="string"}var $S=Symbol.for("immer-nothing"),x0=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function hi(s,...t){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var $a=Object.getPrototypeOf;function Lr(s){return!!s&&!!s[$n]}function fs(s){return s?qS(s)||Array.isArray(s)||!!s[x0]||!!s.constructor?.[x0]||Fl(s)||md(s):!1}var OC=Object.prototype.constructor.toString();function qS(s){if(!s||typeof s!="object")return!1;const t=$a(s);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===OC}function Gu(s,t){gd(s)===0?Reflect.ownKeys(s).forEach(e=>{t(e,s[e],s)}):s.forEach((e,n)=>t(n,e,s))}function gd(s){const t=s[$n];return t?t.type_:Array.isArray(s)?1:Fl(s)?2:md(s)?3:0}function Hp(s,t){return gd(s)===2?s.has(t):Object.prototype.hasOwnProperty.call(s,t)}function GS(s,t,e){const n=gd(s);n===2?s.set(t,e):n===3?s.add(e):s[t]=e}function MC(s,t){return s===t?s!==0||1/s===1/t:s!==s&&t!==t}function Fl(s){return s instanceof Map}function md(s){return s instanceof Set}function wr(s){return s.copy_||s.base_}function Vp(s,t){if(Fl(s))return new Map(s);if(md(s))return new Set(s);if(Array.isArray(s))return Array.prototype.slice.call(s);const e=qS(s);if(t===!0||t==="class_only"&&!e){const n=Object.getOwnPropertyDescriptors(s);delete n[$n];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const l=r[o],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:s[l]})}return Object.create($a(s),n)}else{const n=$a(s);if(n!==null&&e)return{...s};const r=Object.create(n);return Object.assign(r,s)}}function kg(s,t=!1){return yd(s)||Lr(s)||!fs(s)||(gd(s)>1&&Object.defineProperties(s,{set:{value:pu},add:{value:pu},clear:{value:pu},delete:{value:pu}}),Object.freeze(s),t&&Object.values(s).forEach(e=>kg(e,!0))),s}function pu(){hi(2)}function yd(s){return Object.isFrozen(s)}var DC={};function Nr(s){const t=DC[s];return t||hi(0,s),t}var El;function XS(){return El}function kC(s,t){return{drafts_:[],parent_:s,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function T0(s,t){t&&(Nr("Patches"),s.patches_=[],s.inversePatches_=[],s.patchListener_=t)}function $p(s){qp(s),s.drafts_.forEach(LC),s.drafts_=null}function qp(s){s===El&&(El=s.parent_)}function C0(s){return El=kC(El,s)}function LC(s){const t=s[$n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function R0(s,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return s!==void 0&&s!==e?(e[$n].modified_&&($p(t),hi(4)),fs(s)&&(s=Xu(t,s),t.parent_||Yu(t,s)),t.patches_&&Nr("Patches").generateReplacementPatches_(e[$n].base_,s,t.patches_,t.inversePatches_)):s=Xu(t,e,[]),$p(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),s!==$S?s:void 0}function Xu(s,t,e){if(yd(t))return t;const n=t[$n];if(!n)return Gu(t,(r,o)=>O0(s,n,t,r,o,e)),t;if(n.scope_!==s)return t;if(!n.modified_)return Yu(s,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const r=n.copy_;let o=r,l=!1;n.type_===3&&(o=new Set(r),r.clear(),l=!0),Gu(o,(u,d)=>O0(s,n,r,u,d,e,l)),Yu(s,r,!1),e&&s.patches_&&Nr("Patches").generatePatches_(n,e,s.patches_,s.inversePatches_)}return n.copy_}function O0(s,t,e,n,r,o,l){if(Lr(r)){const u=o&&t&&t.type_!==3&&!Hp(t.assigned_,n)?o.concat(n):void 0,d=Xu(s,r,u);if(GS(e,n,d),Lr(d))s.canAutoFreeze_=!1;else return}else l&&e.add(r);if(fs(r)&&!yd(r)){if(!s.immer_.autoFreeze_&&s.unfinalizedDrafts_<1)return;Xu(s,r),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Fl(e)?e.has(n):Object.prototype.propertyIsEnumerable.call(e,n))&&Yu(s,r)}}function Yu(s,t,e=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&kg(t,e)}function NC(s,t){const e=Array.isArray(s),n={type_:e?1:0,scope_:t?t.scope_:XS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=n,o=Lg;e&&(r=[n],o=xl);const{revoke:l,proxy:u}=Proxy.revocable(r,o);return n.draft_=u,n.revoke_=l,u}var Lg={get(s,t){if(t===$n)return s;const e=wr(s);if(!Hp(e,t))return PC(s,e,t);const n=e[t];return s.finalized_||!fs(n)?n:n===dp(s.base_,t)?(hp(s),s.copy_[t]=Xp(n,s)):n},has(s,t){return t in wr(s)},ownKeys(s){return Reflect.ownKeys(wr(s))},set(s,t,e){const n=YS(wr(s),t);if(n?.set)return n.set.call(s.draft_,e),!0;if(!s.modified_){const r=dp(wr(s),t),o=r?.[$n];if(o&&o.base_===e)return s.copy_[t]=e,s.assigned_[t]=!1,!0;if(MC(e,r)&&(e!==void 0||Hp(s.base_,t)))return!0;hp(s),Gp(s)}return s.copy_[t]===e&&(e!==void 0||t in s.copy_)||Number.isNaN(e)&&Number.isNaN(s.copy_[t])||(s.copy_[t]=e,s.assigned_[t]=!0),!0},deleteProperty(s,t){return dp(s.base_,t)!==void 0||t in s.base_?(s.assigned_[t]=!1,hp(s),Gp(s)):delete s.assigned_[t],s.copy_&&delete s.copy_[t],!0},getOwnPropertyDescriptor(s,t){const e=wr(s),n=Reflect.getOwnPropertyDescriptor(e,t);return n&&{writable:!0,configurable:s.type_!==1||t!=="length",enumerable:n.enumerable,value:e[t]}},defineProperty(){hi(11)},getPrototypeOf(s){return $a(s.base_)},setPrototypeOf(){hi(12)}},xl={};Gu(Lg,(s,t)=>{xl[s]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});xl.deleteProperty=function(s,t){return xl.set.call(this,s,t,void 0)};xl.set=function(s,t,e){return Lg.set.call(this,s[0],t,e,s[0])};function dp(s,t){const e=s[$n];return(e?wr(e):s)[t]}function PC(s,t,e){const n=YS(t,e);return n?"value"in n?n.value:n.get?.call(s.draft_):void 0}function YS(s,t){if(!(t in s))return;let e=$a(s);for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=$a(e)}}function Gp(s){s.modified_||(s.modified_=!0,s.parent_&&Gp(s.parent_))}function hp(s){s.copy_||(s.copy_=Vp(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var BC=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,n)=>{if(typeof t=="function"&&typeof e!="function"){const o=e;e=t;const l=this;return function(d=o,...f){return l.produce(d,p=>e.call(this,p,...f))}}typeof e!="function"&&hi(6),n!==void 0&&typeof n!="function"&&hi(7);let r;if(fs(t)){const o=C0(this),l=Xp(t,void 0);let u=!0;try{r=e(l),u=!1}finally{u?$p(o):qp(o)}return T0(o,n),R0(r,o)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===$S&&(r=void 0),this.autoFreeze_&&kg(r,!0),n){const o=[],l=[];Nr("Patches").generateReplacementPatches_(t,r,o,l),n(o,l)}return r}else hi(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let n,r;return[this.produce(t,e,(l,u)=>{n=l,r=u}),n,r]},typeof s?.autoFreeze=="boolean"&&this.setAutoFreeze(s.autoFreeze),typeof s?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(s.useStrictShallowCopy)}createDraft(s){fs(s)||hi(8),Lr(s)&&(s=FC(s));const t=C0(this),e=Xp(s,void 0);return e[$n].isManual_=!0,qp(t),e}finishDraft(s,t){const e=s&&s[$n];(!e||!e.isManual_)&&hi(9);const{scope_:n}=e;return T0(n,t),R0(void 0,n)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}applyPatches(s,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){s=r.value;break}}e>-1&&(t=t.slice(e+1));const n=Nr("Patches").applyPatches_;return Lr(s)?n(s,t):this.produce(s,r=>n(r,t))}};function Xp(s,t){const e=Fl(s)?Nr("MapSet").proxyMap_(s,t):md(s)?Nr("MapSet").proxySet_(s,t):NC(s,t);return(t?t.scope_:XS()).drafts_.push(e),e}function FC(s){return Lr(s)||hi(10,s),WS(s)}function WS(s){if(!fs(s)||yd(s))return s;const t=s[$n];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=Vp(s,t.scope_.immer_.useStrictShallowCopy_)}else e=Vp(s,!0);return Gu(e,(n,r)=>{GS(e,n,WS(r))}),t&&(t.finalized_=!1),e}var jC=new BC,KS=jC.produce;function ZS(s){return({dispatch:e,getState:n})=>r=>o=>typeof o=="function"?o(e,n,s):r(o)}var IC=ZS(),zC=ZS,UC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qu:qu.apply(null,arguments)},HC=s=>s&&typeof s.match=="function";function yl(s,t){function e(...n){if(t){let r=t(...n);if(!r)throw new Error(us(0));return{type:s,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:s,payload:n[0]}}return e.toString=()=>`${s}`,e.type=s,e.match=n=>RC(n)&&n.type===s,e}var QS=class fl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,fl.prototype)}static get[Symbol.species](){return fl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new fl(...t[0].concat(this)):new fl(...t.concat(this))}};function M0(s){return fs(s)?KS(s,()=>{}):s}function gu(s,t,e){return s.has(t)?s.get(t):s.set(t,e(t)).get(t)}function VC(s){return typeof s=="boolean"}var $C=()=>function(t){const{thunk:e=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=t??{};let l=new QS;return e&&(VC(e)?l.push(IC):l.push(zC(e.extraArgument))),l},qC="RTK_autoBatch",D0=s=>t=>{setTimeout(t,s)},GC=(s={type:"raf"})=>t=>(...e)=>{const n=t(...e);let r=!0,o=!1,l=!1;const u=new Set,d=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:D0(10):s.type==="callback"?s.queueNotification:D0(s.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(p=>p()))};return Object.assign({},n,{subscribe(p){const m=()=>r&&p(),v=n.subscribe(m);return u.add(p),()=>{v(),u.delete(p)}},dispatch(p){try{return r=!p?.meta?.[qC],o=!r,o&&(l||(l=!0,d(f))),n.dispatch(p)}finally{r=!0}}})},XC=s=>function(e){const{autoBatch:n=!0}=e??{};let r=new QS(s);return n&&r.push(GC(typeof n=="object"?n:void 0)),r};function YC(s){const t=$C(),{reducer:e=void 0,middleware:n,devTools:r=!0,preloadedState:o=void 0,enhancers:l=void 0}=s||{};let u;if(typeof e=="function")u=e;else if(Dg(e))u=TC(e);else throw new Error(us(1));let d;typeof n=="function"?d=n(t):d=t();let f=qu;r&&(f=UC({trace:!1,...typeof r=="object"&&r}));const p=CC(...d),m=XC(p);let v=typeof l=="function"?l(m):m();const b=f(...v);return VS(u,o,b)}function JS(s){const t={},e=[];let n;const r={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(us(28));if(u in t)throw new Error(us(29));return t[u]=l,r},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&e.push({matcher:o.settled,reducer:l.settled}),r},addMatcher(o,l){return e.push({matcher:o,reducer:l}),r},addDefaultCase(o){return n=o,r}};return s(r),[t,e,n]}function WC(s){return typeof s=="function"}function KC(s,t){let[e,n,r]=JS(t),o;if(WC(s))o=()=>M0(s());else{const u=M0(s);o=()=>u}function l(u=o(),d){let f=[e[d.type],...n.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[r]),f.reduce((p,m)=>{if(m)if(Lr(p)){const b=m(p,d);return b===void 0?p:b}else{if(fs(p))return KS(p,v=>m(v,d));{const v=m(p,d);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},u)}return l.getInitialState=o,l}var ZC=(s,t)=>HC(s)?s.match(t):s(t);function QC(...s){return t=>s.some(e=>ZC(e,t))}var JC="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",t2=(s=21)=>{let t="",e=s;for(;e--;)t+=JC[Math.random()*64|0];return t},e2=["name","message","stack","code"],fp=class{constructor(s,t){this.payload=s,this.meta=t}_type},k0=class{constructor(s,t){this.payload=s,this.meta=t}_type},n2=s=>{if(typeof s=="object"&&s!==null){const t={};for(const e of e2)typeof s[e]=="string"&&(t[e]=s[e]);return t}return{message:String(s)}},L0="External signal was aborted",vd=(()=>{function s(t,e,n){const r=yl(t+"/fulfilled",(d,f,p,m)=>({payload:d,meta:{...m||{},arg:p,requestId:f,requestStatus:"fulfilled"}})),o=yl(t+"/pending",(d,f,p)=>({payload:void 0,meta:{...p||{},arg:f,requestId:d,requestStatus:"pending"}})),l=yl(t+"/rejected",(d,f,p,m,v)=>({payload:m,error:(n&&n.serializeError||n2)(d||"Rejected"),meta:{...v||{},arg:p,requestId:f,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function u(d,{signal:f}={}){return(p,m,v)=>{const b=n?.idGenerator?n.idGenerator(d):t2(),w=new AbortController;let _,x;function A(M){x=M,w.abort()}f&&(f.aborted?A(L0):f.addEventListener("abort",()=>A(L0),{once:!0}));const C=(async function(){let M;try{let T=n?.condition?.(d,{getState:m,extra:v});if(s2(T)&&(T=await T),T===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const D=new Promise((O,N)=>{_=()=>{N({name:"AbortError",message:x||"Aborted"})},w.signal.addEventListener("abort",_)});p(o(b,d,n?.getPendingMeta?.({requestId:b,arg:d},{getState:m,extra:v}))),M=await Promise.race([D,Promise.resolve(e(d,{dispatch:p,getState:m,extra:v,requestId:b,signal:w.signal,abort:A,rejectWithValue:(O,N)=>new fp(O,N),fulfillWithValue:(O,N)=>new k0(O,N)})).then(O=>{if(O instanceof fp)throw O;return O instanceof k0?r(O.payload,b,d,O.meta):r(O,b,d)})])}catch(T){M=T instanceof fp?l(null,b,d,T.payload,T.meta):l(T,b,d)}finally{_&&w.signal.removeEventListener("abort",_)}return n&&!n.dispatchConditionRejection&&l.match(M)&&M.meta.condition||p(M),M})();return Object.assign(C,{abort:A,requestId:b,arg:d,unwrap(){return C.then(i2)}})}}return Object.assign(u,{pending:o,rejected:l,fulfilled:r,settled:QC(l,r),typePrefix:t})}return s.withTypes=()=>s,s})();function i2(s){if(s.meta&&s.meta.rejectedWithValue)throw s.payload;if(s.error)throw s.error;return s.payload}function s2(s){return s!==null&&typeof s=="object"&&typeof s.then=="function"}var r2=Symbol.for("rtk-slice-createasyncthunk");function a2(s,t){return`${s}/${t}`}function o2({creators:s}={}){const t=s?.asyncThunk?.[r2];return function(n){const{name:r,reducerPath:o=r}=n;if(!r)throw new Error(us(11));const l=(typeof n.reducers=="function"?n.reducers(u2()):n.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(M,j){const T=typeof M=="string"?M:M.type;if(!T)throw new Error(us(12));if(T in d.sliceCaseReducersByType)throw new Error(us(13));return d.sliceCaseReducersByType[T]=j,f},addMatcher(M,j){return d.sliceMatchers.push({matcher:M,reducer:j}),f},exposeAction(M,j){return d.actionCreators[M]=j,f},exposeCaseReducer(M,j){return d.sliceCaseReducersByName[M]=j,f}};u.forEach(M=>{const j=l[M],T={reducerName:M,type:a2(r,M),createNotation:typeof n.reducers=="function"};h2(j)?p2(T,j,f,t):d2(T,j,f)});function p(){const[M={},j=[],T=void 0]=typeof n.extraReducers=="function"?JS(n.extraReducers):[n.extraReducers],D={...M,...d.sliceCaseReducersByType};return KC(n.initialState,O=>{for(let N in D)O.addCase(N,D[N]);for(let N of d.sliceMatchers)O.addMatcher(N.matcher,N.reducer);for(let N of j)O.addMatcher(N.matcher,N.reducer);T&&O.addDefaultCase(T)})}const m=M=>M,v=new Map,b=new WeakMap;let w;function _(M,j){return w||(w=p()),w(M,j)}function x(){return w||(w=p()),w.getInitialState()}function A(M,j=!1){function T(O){let N=O[M];return typeof N>"u"&&j&&(N=gu(b,T,x)),N}function D(O=m){const N=gu(v,j,()=>new WeakMap);return gu(N,O,()=>{const P={};for(const[L,U]of Object.entries(n.selectors??{}))P[L]=l2(U,O,()=>gu(b,O,x),j);return P})}return{reducerPath:M,getSelectors:D,get selectors(){return D(T)},selectSlice:T}}const C={name:r,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:x,...A(o),injectInto(M,{reducerPath:j,...T}={}){const D=j??o;return M.inject({reducerPath:D,reducer:_},T),{...C,...A(D,!0)}}};return C}}function l2(s,t,e,n){function r(o,...l){let u=t(o);return typeof u>"u"&&n&&(u=e()),s(u,...l)}return r.unwrapped=s,r}var c2=o2();function u2(){function s(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return s.withTypes=()=>s,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:s}}function d2({type:s,reducerName:t,createNotation:e},n,r){let o,l;if("reducer"in n){if(e&&!f2(n))throw new Error(us(17));o=n.reducer,l=n.prepare}else o=n;r.addCase(s,o).exposeCaseReducer(t,o).exposeAction(t,l?yl(s,l):yl(s))}function h2(s){return s._reducerDefinitionType==="asyncThunk"}function f2(s){return s._reducerDefinitionType==="reducerWithPrepare"}function p2({type:s,reducerName:t},e,n,r){if(!r)throw new Error(us(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:p}=e,m=r(s,o,p);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),u&&n.addCase(m.pending,u),d&&n.addCase(m.rejected,d),f&&n.addMatcher(m.settled,f),n.exposeCaseReducer(t,{fulfilled:l||mu,pending:u||mu,rejected:d||mu,settled:f||mu})}function mu(){}function us(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}function t1(s,t){return function(){return s.apply(t,arguments)}}const{toString:g2}=Object.prototype,{getPrototypeOf:Ng}=Object,{iterator:bd,toStringTag:e1}=Symbol,_d=(s=>t=>{const e=g2.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Ai=s=>(s=s.toLowerCase(),t=>_d(t)===s),Sd=s=>t=>typeof t===s,{isArray:Ja}=Array,qa=Sd("undefined");function jl(s){return s!==null&&!qa(s)&&s.constructor!==null&&!qa(s.constructor)&&Dn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const n1=Ai("ArrayBuffer");function m2(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&n1(s.buffer),t}const y2=Sd("string"),Dn=Sd("function"),i1=Sd("number"),Il=s=>s!==null&&typeof s=="object",v2=s=>s===!0||s===!1,Lu=s=>{if(_d(s)!=="object")return!1;const t=Ng(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(e1 in s)&&!(bd in s)},b2=s=>{if(!Il(s)||jl(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},_2=Ai("Date"),S2=Ai("File"),w2=Ai("Blob"),A2=Ai("FileList"),E2=s=>Il(s)&&Dn(s.pipe),x2=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||Dn(s.append)&&((t=_d(s))==="formdata"||t==="object"&&Dn(s.toString)&&s.toString()==="[object FormData]"))},T2=Ai("URLSearchParams"),[C2,R2,O2,M2]=["ReadableStream","Request","Response","Headers"].map(Ai),D2=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zl(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),Ja(s))for(n=0,r=s.length;n<r;n++)t.call(null,s[n],n,s);else{if(jl(s))return;const o=e?Object.getOwnPropertyNames(s):Object.keys(s),l=o.length;let u;for(n=0;n<l;n++)u=o[n],t.call(null,s[u],u,s)}}function s1(s,t){if(jl(s))return null;t=t.toLowerCase();const e=Object.keys(s);let n=e.length,r;for(;n-- >0;)if(r=e[n],t===r.toLowerCase())return r;return null}const Er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r1=s=>!qa(s)&&s!==Er;function Yp(){const{caseless:s,skipUndefined:t}=r1(this)&&this||{},e={},n=(r,o)=>{const l=s&&s1(e,o)||o;Lu(e[l])&&Lu(r)?e[l]=Yp(e[l],r):Lu(r)?e[l]=Yp({},r):Ja(r)?e[l]=r.slice():(!t||!qa(r))&&(e[l]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&zl(arguments[r],n);return e}const k2=(s,t,e,{allOwnKeys:n}={})=>(zl(t,(r,o)=>{e&&Dn(r)?s[o]=t1(r,e):s[o]=r},{allOwnKeys:n}),s),L2=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),N2=(s,t,e,n)=>{s.prototype=Object.create(t.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},P2=(s,t,e,n)=>{let r,o,l;const u={};if(t=t||{},s==null)return t;do{for(r=Object.getOwnPropertyNames(s),o=r.length;o-- >0;)l=r[o],(!n||n(l,s,t))&&!u[l]&&(t[l]=s[l],u[l]=!0);s=e!==!1&&Ng(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},B2=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const n=s.indexOf(t,e);return n!==-1&&n===e},F2=s=>{if(!s)return null;if(Ja(s))return s;let t=s.length;if(!i1(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},j2=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Ng(Uint8Array)),I2=(s,t)=>{const n=(s&&s[bd]).call(s);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(s,o[0],o[1])}},z2=(s,t)=>{let e;const n=[];for(;(e=s.exec(t))!==null;)n.push(e);return n},U2=Ai("HTMLFormElement"),H2=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,r){return n.toUpperCase()+r}),N0=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),V2=Ai("RegExp"),a1=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),n={};zl(e,(r,o)=>{let l;(l=t(r,o,s))!==!1&&(n[o]=l||r)}),Object.defineProperties(s,n)},$2=s=>{a1(s,(t,e)=>{if(Dn(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=s[e];if(Dn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},q2=(s,t)=>{const e={},n=r=>{r.forEach(o=>{e[o]=!0})};return Ja(s)?n(s):n(String(s).split(t)),e},G2=()=>{},X2=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function Y2(s){return!!(s&&Dn(s.append)&&s[e1]==="FormData"&&s[bd])}const W2=s=>{const t=new Array(10),e=(n,r)=>{if(Il(n)){if(t.indexOf(n)>=0)return;if(jl(n))return n;if(!("toJSON"in n)){t[r]=n;const o=Ja(n)?[]:{};return zl(n,(l,u)=>{const d=e(l,r+1);!qa(d)&&(o[u]=d)}),t[r]=void 0,o}}return n};return e(s,0)},K2=Ai("AsyncFunction"),Z2=s=>s&&(Il(s)||Dn(s))&&Dn(s.then)&&Dn(s.catch),o1=((s,t)=>s?setImmediate:t?((e,n)=>(Er.addEventListener("message",({source:r,data:o})=>{r===Er&&o===e&&n.length&&n.shift()()},!1),r=>{n.push(r),Er.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",Dn(Er.postMessage)),Q2=typeof queueMicrotask<"u"?queueMicrotask.bind(Er):typeof process<"u"&&process.nextTick||o1,J2=s=>s!=null&&Dn(s[bd]),ot={isArray:Ja,isArrayBuffer:n1,isBuffer:jl,isFormData:x2,isArrayBufferView:m2,isString:y2,isNumber:i1,isBoolean:v2,isObject:Il,isPlainObject:Lu,isEmptyObject:b2,isReadableStream:C2,isRequest:R2,isResponse:O2,isHeaders:M2,isUndefined:qa,isDate:_2,isFile:S2,isBlob:w2,isRegExp:V2,isFunction:Dn,isStream:E2,isURLSearchParams:T2,isTypedArray:j2,isFileList:A2,forEach:zl,merge:Yp,extend:k2,trim:D2,stripBOM:L2,inherits:N2,toFlatObject:P2,kindOf:_d,kindOfTest:Ai,endsWith:B2,toArray:F2,forEachEntry:I2,matchAll:z2,isHTMLForm:U2,hasOwnProperty:N0,hasOwnProp:N0,reduceDescriptors:a1,freezeMethods:$2,toObjectSet:q2,toCamelCase:H2,noop:G2,toFiniteNumber:X2,findKey:s1,global:Er,isContextDefined:r1,isSpecCompliantForm:Y2,toJSONObject:W2,isAsyncFn:K2,isThenable:Z2,setImmediate:o1,asap:Q2,isIterable:J2};function $t(s,t,e,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}ot.inherits($t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ot.toJSONObject(this.config),code:this.code,status:this.status}}});const l1=$t.prototype,c1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{c1[s]={value:s}});Object.defineProperties($t,c1);Object.defineProperty(l1,"isAxiosError",{value:!0});$t.from=(s,t,e,n,r,o)=>{const l=Object.create(l1);ot.toFlatObject(s,l,function(p){return p!==Error.prototype},f=>f!=="isAxiosError");const u=s&&s.message?s.message:"Error",d=t==null&&s?s.code:t;return $t.call(l,u,d,e,n,r),s&&l.cause==null&&Object.defineProperty(l,"cause",{value:s,configurable:!0}),l.name=s&&s.name||"Error",o&&Object.assign(l,o),l};const tR=null;function Wp(s){return ot.isPlainObject(s)||ot.isArray(s)}function u1(s){return ot.endsWith(s,"[]")?s.slice(0,-2):s}function P0(s,t,e){return s?s.concat(t).map(function(r,o){return r=u1(r),!e&&o?"["+r+"]":r}).join(e?".":""):t}function eR(s){return ot.isArray(s)&&!s.some(Wp)}const nR=ot.toFlatObject(ot,{},null,function(t){return/^is[A-Z]/.test(t)});function wd(s,t,e){if(!ot.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=ot.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!ot.isUndefined(x[_])});const n=e.metaTokens,r=e.visitor||p,o=e.dots,l=e.indexes,d=(e.Blob||typeof Blob<"u"&&Blob)&&ot.isSpecCompliantForm(t);if(!ot.isFunction(r))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(ot.isDate(w))return w.toISOString();if(ot.isBoolean(w))return w.toString();if(!d&&ot.isBlob(w))throw new $t("Blob is not supported. Use a Buffer instead.");return ot.isArrayBuffer(w)||ot.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,_,x){let A=w;if(w&&!x&&typeof w=="object"){if(ot.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(ot.isArray(w)&&eR(w)||(ot.isFileList(w)||ot.endsWith(_,"[]"))&&(A=ot.toArray(w)))return _=u1(_),A.forEach(function(M,j){!(ot.isUndefined(M)||M===null)&&t.append(l===!0?P0([_],j,o):l===null?_:_+"[]",f(M))}),!1}return Wp(w)?!0:(t.append(P0(x,_,o),f(w)),!1)}const m=[],v=Object.assign(nR,{defaultVisitor:p,convertValue:f,isVisitable:Wp});function b(w,_){if(!ot.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));m.push(w),ot.forEach(w,function(A,C){(!(ot.isUndefined(A)||A===null)&&r.call(t,A,ot.isString(C)?C.trim():C,_,v))===!0&&b(A,_?_.concat(C):[C])}),m.pop()}}if(!ot.isObject(s))throw new TypeError("data must be an object");return b(s),t}function B0(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Pg(s,t){this._pairs=[],s&&wd(s,this,t)}const d1=Pg.prototype;d1.append=function(t,e){this._pairs.push([t,e])};d1.toString=function(t){const e=t?function(n){return t.call(this,n,B0)}:B0;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function iR(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function h1(s,t,e){if(!t)return s;const n=e&&e.encode||iR;ot.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let o;if(r?o=r(t,e):o=ot.isURLSearchParams(t)?t.toString():new Pg(t,e).toString(n),o){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class F0{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ot.forEach(this.handlers,function(n){n!==null&&t(n)})}}const f1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sR=typeof URLSearchParams<"u"?URLSearchParams:Pg,rR=typeof FormData<"u"?FormData:null,aR=typeof Blob<"u"?Blob:null,oR={isBrowser:!0,classes:{URLSearchParams:sR,FormData:rR,Blob:aR},protocols:["http","https","file","blob","url","data"]},Bg=typeof window<"u"&&typeof document<"u",Kp=typeof navigator=="object"&&navigator||void 0,lR=Bg&&(!Kp||["ReactNative","NativeScript","NS"].indexOf(Kp.product)<0),cR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uR=Bg&&window.location.href||"http://localhost",dR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bg,hasStandardBrowserEnv:lR,hasStandardBrowserWebWorkerEnv:cR,navigator:Kp,origin:uR},Symbol.toStringTag,{value:"Module"})),dn={...dR,...oR};function hR(s,t){return wd(s,new dn.classes.URLSearchParams,{visitor:function(e,n,r,o){return dn.isNode&&ot.isBuffer(e)?(this.append(n,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function fR(s){return ot.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pR(s){const t={},e=Object.keys(s);let n;const r=e.length;let o;for(n=0;n<r;n++)o=e[n],t[o]=s[o];return t}function p1(s){function t(e,n,r,o){let l=e[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=e.length;return l=!l&&ot.isArray(r)?r.length:l,d?(ot.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!u):((!r[l]||!ot.isObject(r[l]))&&(r[l]=[]),t(e,n,r[l],o)&&ot.isArray(r[l])&&(r[l]=pR(r[l])),!u)}if(ot.isFormData(s)&&ot.isFunction(s.entries)){const e={};return ot.forEachEntry(s,(n,r)=>{t(fR(n),r,e,0)}),e}return null}function gR(s,t,e){if(ot.isString(s))try{return(t||JSON.parse)(s),ot.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(s)}const Ul={transitional:f1,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,o=ot.isObject(t);if(o&&ot.isHTMLForm(t)&&(t=new FormData(t)),ot.isFormData(t))return r?JSON.stringify(p1(t)):t;if(ot.isArrayBuffer(t)||ot.isBuffer(t)||ot.isStream(t)||ot.isFile(t)||ot.isBlob(t)||ot.isReadableStream(t))return t;if(ot.isArrayBufferView(t))return t.buffer;if(ot.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hR(t,this.formSerializer).toString();if((u=ot.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return wd(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||r?(e.setContentType("application/json",!1),gR(t)):t}],transformResponse:[function(t){const e=this.transitional||Ul.transitional,n=e&&e.forcedJSONParsing,r=this.responseType==="json";if(ot.isResponse(t)||ot.isReadableStream(t))return t;if(t&&ot.isString(t)&&(n&&!this.responseType||r)){const l=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?$t.from(u,$t.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ot.forEach(["delete","get","head","post","put","patch"],s=>{Ul.headers[s]={}});const mR=ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yR=s=>{const t={};let e,n,r;return s&&s.split(`
`).forEach(function(l){r=l.indexOf(":"),e=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!e||t[e]&&mR[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},j0=Symbol("internals");function nl(s){return s&&String(s).trim().toLowerCase()}function Nu(s){return s===!1||s==null?s:ot.isArray(s)?s.map(Nu):String(s)}function vR(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(s);)t[n[1]]=n[2];return t}const bR=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function pp(s,t,e,n,r){if(ot.isFunction(n))return n.call(this,t,e);if(r&&(t=e),!!ot.isString(t)){if(ot.isString(n))return t.indexOf(n)!==-1;if(ot.isRegExp(n))return n.test(t)}}function _R(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function SR(s,t){const e=ot.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+e,{value:function(r,o,l){return this[n].call(this,t,r,o,l)},configurable:!0})})}let kn=class{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function o(u,d,f){const p=nl(d);if(!p)throw new Error("header name must be a non-empty string");const m=ot.findKey(r,p);(!m||r[m]===void 0||f===!0||f===void 0&&r[m]!==!1)&&(r[m||d]=Nu(u))}const l=(u,d)=>ot.forEach(u,(f,p)=>o(f,p,d));if(ot.isPlainObject(t)||t instanceof this.constructor)l(t,e);else if(ot.isString(t)&&(t=t.trim())&&!bR(t))l(yR(t),e);else if(ot.isObject(t)&&ot.isIterable(t)){let u={},d,f;for(const p of t){if(!ot.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?ot.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,e)}else t!=null&&o(e,t,n);return this}get(t,e){if(t=nl(t),t){const n=ot.findKey(this,t);if(n){const r=this[n];if(!e)return r;if(e===!0)return vR(r);if(ot.isFunction(e))return e.call(this,r,n);if(ot.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=nl(t),t){const n=ot.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||pp(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let r=!1;function o(l){if(l=nl(l),l){const u=ot.findKey(n,l);u&&(!e||pp(n,n[u],u,e))&&(delete n[u],r=!0)}}return ot.isArray(t)?t.forEach(o):o(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const o=e[n];(!t||pp(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const e=this,n={};return ot.forEach(this,(r,o)=>{const l=ot.findKey(n,o);if(l){e[l]=Nu(r),delete e[o];return}const u=t?_R(o):String(o).trim();u!==o&&delete e[o],e[u]=Nu(r),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return ot.forEach(this,(n,r)=>{n!=null&&n!==!1&&(e[r]=t&&ot.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[j0]=this[j0]={accessors:{}}).accessors,r=this.prototype;function o(l){const u=nl(l);n[u]||(SR(r,l),n[u]=!0)}return ot.isArray(t)?t.forEach(o):o(t),this}};kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ot.reduceDescriptors(kn.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(n){this[e]=n}}});ot.freezeMethods(kn);function gp(s,t){const e=this||Ul,n=t||e,r=kn.from(n.headers);let o=n.data;return ot.forEach(s,function(u){o=u.call(e,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function g1(s){return!!(s&&s.__CANCEL__)}function to(s,t,e){$t.call(this,s??"canceled",$t.ERR_CANCELED,t,e),this.name="CanceledError"}ot.inherits(to,$t,{__CANCEL__:!0});function m1(s,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?s(e):t(new $t("Request failed with status code "+e.status,[$t.ERR_BAD_REQUEST,$t.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function wR(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function AR(s,t){s=s||10;const e=new Array(s),n=new Array(s);let r=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),p=n[o];l||(l=f),e[r]=d,n[r]=f;let m=o,v=0;for(;m!==r;)v+=e[m++],m=m%s;if(r=(r+1)%s,r===o&&(o=(o+1)%s),f-l<t)return;const b=p&&f-p;return b?Math.round(v*1e3/b):void 0}}function ER(s,t){let e=0,n=1e3/t,r,o;const l=(f,p=Date.now())=>{e=p,r=null,o&&(clearTimeout(o),o=null),s(...f)};return[(...f)=>{const p=Date.now(),m=p-e;m>=n?l(f,p):(r=f,o||(o=setTimeout(()=>{o=null,l(r)},n-m)))},()=>r&&l(r)]}const Wu=(s,t,e=3)=>{let n=0;const r=AR(50,250);return ER(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,f=r(d),p=l<=u;n=l;const m={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:o,lengthComputable:u!=null,[t?"download":"upload"]:!0};s(m)},e)},I0=(s,t)=>{const e=s!=null;return[n=>t[0]({lengthComputable:e,total:s,loaded:n}),t[1]]},z0=s=>(...t)=>ot.asap(()=>s(...t)),xR=dn.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,dn.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(dn.origin),dn.navigator&&/(msie|trident)/i.test(dn.navigator.userAgent)):()=>!0,TR=dn.hasStandardBrowserEnv?{write(s,t,e,n,r,o){const l=[s+"="+encodeURIComponent(t)];ot.isNumber(e)&&l.push("expires="+new Date(e).toGMTString()),ot.isString(n)&&l.push("path="+n),ot.isString(r)&&l.push("domain="+r),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function CR(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function RR(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function y1(s,t,e){let n=!CR(t);return s&&(n||e==!1)?RR(s,t):t}const U0=s=>s instanceof kn?{...s}:s;function Pr(s,t){t=t||{};const e={};function n(f,p,m,v){return ot.isPlainObject(f)&&ot.isPlainObject(p)?ot.merge.call({caseless:v},f,p):ot.isPlainObject(p)?ot.merge({},p):ot.isArray(p)?p.slice():p}function r(f,p,m,v){if(ot.isUndefined(p)){if(!ot.isUndefined(f))return n(void 0,f,m,v)}else return n(f,p,m,v)}function o(f,p){if(!ot.isUndefined(p))return n(void 0,p)}function l(f,p){if(ot.isUndefined(p)){if(!ot.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,m){if(m in t)return n(f,p);if(m in s)return n(void 0,f)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,m)=>r(U0(f),U0(p),m,!0)};return ot.forEach(Object.keys({...s,...t}),function(p){const m=d[p]||r,v=m(s[p],t[p],p);ot.isUndefined(v)&&m!==u||(e[p]=v)}),e}const v1=s=>{const t=Pr({},s);let{data:e,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:o,headers:l,auth:u}=t;if(t.headers=l=kn.from(l),t.url=h1(y1(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ot.isFormData(e)){if(dn.hasStandardBrowserEnv||dn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ot.isFunction(e.getHeaders)){const d=e.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{f.includes(p.toLowerCase())&&l.set(p,m)})}}if(dn.hasStandardBrowserEnv&&(n&&ot.isFunction(n)&&(n=n(t)),n||n!==!1&&xR(t.url))){const d=r&&o&&TR.read(o);d&&l.set(r,d)}return t},OR=typeof XMLHttpRequest<"u",MR=OR&&function(s){return new Promise(function(e,n){const r=v1(s);let o=r.data;const l=kn.from(r.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=r,p,m,v,b,w;function _(){b&&b(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function A(){if(!x)return;const M=kn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),T={data:!u||u==="text"||u==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:M,config:s,request:x};m1(function(O){e(O),_()},function(O){n(O),_()},T),x=null}"onloadend"in x?x.onloadend=A:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(A)},x.onabort=function(){x&&(n(new $t("Request aborted",$t.ECONNABORTED,s,x)),x=null)},x.onerror=function(j){const T=j&&j.message?j.message:"Network Error",D=new $t(T,$t.ERR_NETWORK,s,x);D.event=j||null,n(D),x=null},x.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||f1;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),n(new $t(j,T.clarifyTimeoutError?$t.ETIMEDOUT:$t.ECONNABORTED,s,x)),x=null},o===void 0&&l.setContentType(null),"setRequestHeader"in x&&ot.forEach(l.toJSON(),function(j,T){x.setRequestHeader(T,j)}),ot.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),u&&u!=="json"&&(x.responseType=r.responseType),f&&([v,w]=Wu(f,!0),x.addEventListener("progress",v)),d&&x.upload&&([m,b]=Wu(d),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(p=M=>{x&&(n(!M||M.type?new to(null,s,x):M),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const C=wR(r.url);if(C&&dn.protocols.indexOf(C)===-1){n(new $t("Unsupported protocol "+C+":",$t.ERR_BAD_REQUEST,s));return}x.send(o||null)})},DR=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let n=new AbortController,r;const o=function(f){if(!r){r=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof $t?p:new to(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,o(new $t(`timeout ${t} of ms exceeded`,$t.ETIMEDOUT))},t);const u=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),s=null)};s.forEach(f=>f.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>ot.asap(u),d}},kR=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let n=0,r;for(;n<e;)r=n+t,yield s.slice(n,r),n=r},LR=async function*(s,t){for await(const e of NR(s))yield*kR(e,t)},NR=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},H0=(s,t,e,n)=>{const r=LR(s,t);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await r.next();if(f){u(),d.close();return}let m=p.byteLength;if(e){let v=o+=m;e(v)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),r.return()}},{highWaterMark:2})},V0=64*1024,{isFunction:yu}=ot,PR=(({Request:s,Response:t})=>({Request:s,Response:t}))(ot.global),{ReadableStream:$0,TextEncoder:q0}=ot.global,G0=(s,...t)=>{try{return!!s(...t)}catch{return!1}},BR=s=>{s=ot.merge.call({skipUndefined:!0},PR,s);const{fetch:t,Request:e,Response:n}=s,r=t?yu(t):typeof fetch=="function",o=yu(e),l=yu(n);if(!r)return!1;const u=r&&yu($0),d=r&&(typeof q0=="function"?(w=>_=>w.encode(_))(new q0):async w=>new Uint8Array(await new e(w).arrayBuffer())),f=o&&u&&G0(()=>{let w=!1;const _=new e(dn.origin,{body:new $0,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),p=l&&u&&G0(()=>ot.isReadableStream(new n("").body)),m={stream:p&&(w=>w.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!m[w]&&(m[w]=(_,x)=>{let A=_&&_[w];if(A)return A.call(_);throw new $t(`Response type '${w}' is not supported`,$t.ERR_NOT_SUPPORT,x)})});const v=async w=>{if(w==null)return 0;if(ot.isBlob(w))return w.size;if(ot.isSpecCompliantForm(w))return(await new e(dn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ot.isArrayBufferView(w)||ot.isArrayBuffer(w))return w.byteLength;if(ot.isURLSearchParams(w)&&(w=w+""),ot.isString(w))return(await d(w)).byteLength},b=async(w,_)=>{const x=ot.toFiniteNumber(w.getContentLength());return x??v(_)};return async w=>{let{url:_,method:x,data:A,signal:C,cancelToken:M,timeout:j,onDownloadProgress:T,onUploadProgress:D,responseType:O,headers:N,withCredentials:P="same-origin",fetchOptions:L}=v1(w),U=t||fetch;O=O?(O+"").toLowerCase():"text";let X=DR([C,M&&M.toAbortSignal()],j),H=null;const W=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let J;try{if(D&&f&&x!=="get"&&x!=="head"&&(J=await b(N,A))!==0){let F=new e(_,{method:"POST",body:A,duplex:"half"}),$;if(ot.isFormData(A)&&($=F.headers.get("content-type"))&&N.setContentType($),F.body){const[K,tt]=I0(J,Wu(z0(D)));A=H0(F.body,V0,K,tt)}}ot.isString(P)||(P=P?"include":"omit");const I=o&&"credentials"in e.prototype,E={...L,signal:X,method:x.toUpperCase(),headers:N.normalize().toJSON(),body:A,duplex:"half",credentials:I?P:void 0};H=o&&new e(_,E);let rt=await(o?U(H,L):U(_,E));const V=p&&(O==="stream"||O==="response");if(p&&(T||V&&W)){const F={};["status","statusText","headers"].forEach(ct=>{F[ct]=rt[ct]});const $=ot.toFiniteNumber(rt.headers.get("content-length")),[K,tt]=T&&I0($,Wu(z0(T),!0))||[];rt=new n(H0(rt.body,V0,K,()=>{tt&&tt(),W&&W()}),F)}O=O||"text";let S=await m[ot.findKey(m,O)||"text"](rt,w);return!V&&W&&W(),await new Promise((F,$)=>{m1(F,$,{data:S,headers:kn.from(rt.headers),status:rt.status,statusText:rt.statusText,config:w,request:H})})}catch(I){throw W&&W(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new $t("Network Error",$t.ERR_NETWORK,w,H),{cause:I.cause||I}):$t.from(I,I&&I.code,w,H)}}},FR=new Map,b1=s=>{let t=s?s.env:{};const{fetch:e,Request:n,Response:r}=t,o=[n,r,e];let l=o.length,u=l,d,f,p=FR;for(;u--;)d=o[u],f=p.get(d),f===void 0&&p.set(d,f=u?new Map:BR(t)),p=f;return f};b1();const Zp={http:tR,xhr:MR,fetch:{get:b1}};ot.forEach(Zp,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const X0=s=>`- ${s}`,jR=s=>ot.isFunction(s)||s===null||s===!1,_1={getAdapter:(s,t)=>{s=ot.isArray(s)?s:[s];const{length:e}=s;let n,r;const o={};for(let l=0;l<e;l++){n=s[l];let u;if(r=n,!jR(n)&&(r=Zp[(u=String(n)).toLowerCase()],r===void 0))throw new $t(`Unknown adapter '${u}'`);if(r&&(ot.isFunction(r)||(r=r.get(t))))break;o[u||"#"+l]=r}if(!r){const l=Object.entries(o).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(X0).join(`
`):" "+X0(l[0]):"as no adapter specified";throw new $t("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Zp};function mp(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new to(null,s)}function Y0(s){return mp(s),s.headers=kn.from(s.headers),s.data=gp.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),_1.getAdapter(s.adapter||Ul.adapter,s)(s).then(function(n){return mp(s),n.data=gp.call(s,s.transformResponse,n),n.headers=kn.from(n.headers),n},function(n){return g1(n)||(mp(s),n&&n.response&&(n.response.data=gp.call(s,s.transformResponse,n.response),n.response.headers=kn.from(n.response.headers))),Promise.reject(n)})}const S1="1.12.2",Ad={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Ad[s]=function(n){return typeof n===s||"a"+(t<1?"n ":" ")+s}});const W0={};Ad.transitional=function(t,e,n){function r(o,l){return"[Axios v"+S1+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(t===!1)throw new $t(r(l," has been removed"+(e?" in "+e:"")),$t.ERR_DEPRECATED);return e&&!W0[l]&&(W0[l]=!0,console.warn(r(l," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,l,u):!0}};Ad.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function IR(s,t,e){if(typeof s!="object")throw new $t("options must be an object",$t.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const o=n[r],l=t[o];if(l){const u=s[o],d=u===void 0||l(u,o,s);if(d!==!0)throw new $t("option "+o+" must be "+d,$t.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new $t("Unknown option "+o,$t.ERR_BAD_OPTION)}}const Pu={assertOptions:IR,validators:Ad},Li=Pu.validators;let Dr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new F0,response:new F0}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Pr(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:o}=e;n!==void 0&&Pu.assertOptions(n,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1),r!=null&&(ot.isFunction(r)?e.paramsSerializer={serialize:r}:Pu.assertOptions(r,{encode:Li.function,serialize:Li.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Pu.assertOptions(e,{baseUrl:Li.spelling("baseURL"),withXsrfToken:Li.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=o&&ot.merge(o.common,o[e.method]);o&&ot.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),e.headers=kn.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(d=d&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let p,m=0,v;if(!d){const w=[Y0.bind(this),void 0];for(w.unshift(...u),w.push(...f),v=w.length,p=Promise.resolve(e);m<v;)p=p.then(w[m++],w[m++]);return p}v=u.length;let b=e;for(;m<v;){const w=u[m++],_=u[m++];try{b=w(b)}catch(x){_.call(this,x);break}}try{p=Y0.call(this,b)}catch(w){return Promise.reject(w)}for(m=0,v=f.length;m<v;)p=p.then(f[m++],f[m++]);return p}getUri(t){t=Pr(this.defaults,t);const e=y1(t.baseURL,t.url,t.allowAbsoluteUrls);return h1(e,t.params,t.paramsSerializer)}};ot.forEach(["delete","get","head","options"],function(t){Dr.prototype[t]=function(e,n){return this.request(Pr(n||{},{method:t,url:e,data:(n||{}).data}))}});ot.forEach(["post","put","patch"],function(t){function e(n){return function(o,l,u){return this.request(Pr(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Dr.prototype[t]=e(),Dr.prototype[t+"Form"]=e(!0)});let zR=class w1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(r);return l.cancel=function(){n.unsubscribe(o)},l},t(function(o,l,u){n.reason||(n.reason=new to(o,l,u),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new w1(function(r){t=r}),cancel:t}}};function UR(s){return function(e){return s.apply(null,e)}}function HR(s){return ot.isObject(s)&&s.isAxiosError===!0}const Qp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Qp).forEach(([s,t])=>{Qp[t]=s});function A1(s){const t=new Dr(s),e=t1(Dr.prototype.request,t);return ot.extend(e,Dr.prototype,t,{allOwnKeys:!0}),ot.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return A1(Pr(s,r))},e}const ye=A1(Ul);ye.Axios=Dr;ye.CanceledError=to;ye.CancelToken=zR;ye.isCancel=g1;ye.VERSION=S1;ye.toFormData=wd;ye.AxiosError=$t;ye.Cancel=ye.CanceledError;ye.all=function(t){return Promise.all(t)};ye.spread=UR;ye.isAxiosError=HR;ye.mergeConfig=Pr;ye.AxiosHeaders=kn;ye.formToJSON=s=>p1(ot.isHTMLForm(s)?new FormData(s):s);ye.getAdapter=_1.getAdapter;ye.HttpStatusCode=Qp;ye.default=ye;const{Axios:HF,AxiosError:VF,CanceledError:$F,isCancel:qF,CancelToken:GF,VERSION:XF,all:YF,Cancel:WF,isAxiosError:KF,spread:ZF,toFormData:QF,AxiosHeaders:JF,HttpStatusCode:tj,formToJSON:ej,getAdapter:nj,mergeConfig:ij}=ye,vl=vd("auth/login",async(s,{rejectWithValue:t})=>{try{return(await ye.post("https://study-buddy-2o9t.onrender.com/api/auth/signin",s)).data}catch(e){return t(e.response?.data?.message||"Login failed")}}),Bu=vd("auth/register",async(s,{rejectWithValue:t})=>{try{return(await ye.post("https://study-buddy-2o9t.onrender.com/api/auth/signup",s)).data}catch(e){return t(e.response?.data?.message||"Registration failed")}}),Fu=vd("auth/updateProfile",async(s,{getState:t,rejectWithValue:e})=>{try{const n=t().auth.token;return(await ye.patch("https://study-buddy-2o9t.onrender.com/api/auth/profile",s,{headers:{Authorization:`Bearer ${n}`}})).data.user}catch(n){return e(n.response?.data?.error||"Update failed")}}),Ku=vd("auth/fetchProfile",async(s,{getState:t,rejectWithValue:e})=>{try{const n=t().auth.token||localStorage.getItem("token");if(!n)throw new Error("No token found");return(await ye.get("https://study-buddy-2o9t.onrender.com/api/auth/profile",{headers:{Authorization:`Bearer ${n}`}})).data}catch(n){return e(n.response?.data||{error:"Failed to fetch profile"})}}),K0=localStorage.getItem("token"),VR=JSON.parse(localStorage.getItem("user")||"null"),$R={user:VR,token:K0,loading:!1,error:null,isLoggedIn:!!K0},E1=c2({name:"auth",initialState:$R,reducers:{logoutUser:s=>{s.user=null,s.token=null,s.isLoggedIn=!1,localStorage.removeItem("token")}},extraReducers:s=>{s.addCase(vl.pending,t=>{t.loading=!0,t.error=null}).addCase(vl.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0,localStorage.setItem("token",e.payload.token)}).addCase(vl.rejected,(t,e)=>{t.isLoggedIn=!1,t.loading=!1,t.error=e.payload}).addCase(Bu.pending,t=>{t.loading=!0,t.error=null}).addCase(Bu.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!1,localStorage.setItem("token",e.payload.token)}).addCase(Bu.rejected,(t,e)=>{t.loading=!1,t.error=e.payload}).addCase(Fu.pending,t=>{t.loading=!0}).addCase(Fu.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload}).addCase(Fu.rejected,(t,e)=>{t.loading=!1,t.error=e.payload}).addCase(Ku.fulfilled,(t,e)=>{t.user=e.payload,t.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(e.payload))}).addCase(Ku.rejected,t=>{t.user=null,t.isLoggedIn=!1,localStorage.removeItem("user"),localStorage.removeItem("token")})}}),{logoutUser:qR}=E1.actions,GR=E1.reducer,XR=YC({reducer:{auth:GR}}),YR="_container_w2yxm_1",WR={container:YR},Jp=({children:s})=>k.jsx("div",{className:WR.container,children:s}),KR="_header_1uc40_1",ZR="_left_1uc40_11",QR="_menuBtn_1uc40_17",JR="_logoSection_1uc40_27",tO="_logoLink_1uc40_33",eO="_logo_1uc40_27",nO="_title_1uc40_49",iO="_subtitle_1uc40_55",sO="_userSection_1uc40_87",rO="_userMenu_1uc40_91",aO="_avatar_1uc40_98",oO="_dropdown_1uc40_105",lO="_menuItem_1uc40_118",cO="_divider_1uc40_133",uO="_logout_1uc40_139",dO="_authLinks_1uc40_154",hO="_loginLink_1uc40_159",Je={header:KR,left:ZR,menuBtn:QR,logoSection:JR,logoLink:tO,logo:eO,title:nO,subtitle:iO,userSection:sO,userMenu:rO,avatar:aO,dropdown:oO,menuItem:lO,divider:cO,logout:uO,authLinks:dO,loginLink:hO},fO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAzDSURBVHgBpVkLcFzldf7ua+++d7W72pVWlrQSMrYs6xFwauJQIpcMuC0gmzQNcToDlPJoOqlJMsy4k5c80yF0OpNApzNNy2SAZqDQYYKTSUISEiyiEBuwjTBG2JawZFnWcx/a9+O+cv670koryUaOz8zd+/r//3z3nPN/5/z/crhG2bP3kQig9XKAhwNXw54ZMBIAd8EAv/DLwz8YwDUKh6uU3r2Peq3I7uXA9/Eweg1w3o/rYwAD1PZZDfwbBHocVykbBsnA2ZE7QB0e3QiwK8izOrhDVwN2QyD/cu/DB8gS/ZcDVywCyQUONtkCv9tqjprNlxBPFeByG7Db1/ahkHgyD/uhgcNPLuBaQLJ442A8Q41613ufiHHoaWtAd20Gjc4M8rEpqMU8oGvgBBGSw42pjBPvzrtwLq7A5VFXDzFOVt39cVa9LMjPP/ZYjxItvKLrRkRNKuYz0SOZ51JGgxs12P+ZWhQ/+BWKuTQ+TrKGC6/PbELSZYHVzVe940X+vsM//I/nLtdXWO/hX+19sMfRZD8ih+Q6OSBDSakwdAPeLg/EGhlhqx9/180jO3IUhfTHessUC1fCFnccsZIMoz0Ie0gGG5sdFp9lb2vzJ5Jn3n372Hp911iSuZji7whdRtbroOedeKA7hvz0CBSNQ0aVUSMXsBHRDeIEzsCLI81AnWvNe4rTfa8e/p/Dq59XWZLNYAuUo1KNJeL7ZA1KCQV6SYf/0344Ig6oLivuDpagT79vth/P+NBQoxFNKtiIXErbYJc0NDmzGA1FEPiEG7Z6KwpTBVjDVng7vXvCjo6XRs8cr3KPuPLGgfx3iNMiSqKE6GC08jz2Zsw8h2QfbN5hLEESXEHwxhg0bEwaXHmcizmxJZCB7/QY5qdqwS36kgGlw0u3z9Dt7pX9Kpbs/+5/RWZm5l80DAMWvwWebg9sm2yVQ3NacbsnT7nkQqXzPMKoFeM0mdUNgWSA4jkLnBYV9Y4CPgy0wOUToZU01OyoMfVANSKRTd3J0TMnKvFZmWZbOtqf0bSyTUox4rhj8aoje6IIW+pcldLEQh6iLONqpNmbw8WkDW5ZBX96FrmLOegFvaKnMFOgicJ9h4VeFcjpvNGrKmrv0kPJK1EcBuDe6obgEODfFUBrgEcpmzLfk7Exk5YxPl2A6qhfA4SIoPpeX56fsqhTbFrN61oxCx+NzXQtHSw2SVh2e3SpjxmTvK7fl04tc52yoFAcLsfkpdejuK2BLkrl+8mUDSenPei6sQNjmRwacaYKVIxcWusoVe6TRREuspzIl9EzVmDSaM/id69G4fFgPemjo9/Ex344jutLrQApuiS4O1yVgzTSgMsTbjRuR7BlCw7sb4UvFIQjULamsWjBSykrlBXWU4l6RmOOMkB6nlfKUyFgL8GQRYgOsaKLzYeycD1Eh70mHuZq4qeqnKxlVeQnlrlPWBDAybHK/YLuwzc+1wq7VcA+yjrfe6ELylQOsYKENl+WUqEVqsaj1Z81eTGVl/DmhA9jCTvxqgSnVOYHK7leSOWh2iwVfVpxmSs46D10GhApYHppJCoEnMsveWYVA2qaglvm4bHKUEvlQRghO90OROrs+N27CbxzOgGJF3FK68Tn94QwNZ/H7hutsFoEvPjrSVyaLSEUsOL+L4XRcZ0T//vjM+jg36rokgydLCmY+qrcwdzMcb10epLnBa6bPXC7lzOAQOZ3NNshOskVbgm8fbmzqrGsweHP/v4opuYKOPDFiMkt33qgDUdPJzExp+D90Qxe+s0MvnDbJtz92TCe+no7EmkF9x46jUSOq6Q5jYYUbJypa+kQnVIFR2tri4lNJG94mXqPdzl6FSooUuky96nkep14DP6KD+CwC/ja/kZ0bqYK52waP/5DCmNRDtfXWbF/TxhBnwVPPHse74yUcGw4j3Aggdt2BjBCdAM1VwFZUgUoaQ2pD9PLllwhPTu6IqZFjcUcvbV9MwShHNASWS9AdMAOiVU+wTJlaGwyUIezYxncflMtfv77KLaTC69vduGmrhoksxrq/DIECp88xVbndQ50tgews9OLU6Np3HFzLS5NpUxSZxOoxLzis5p63NvccLQ4Ya23VUA2R5oYPUYqadFT40F9uA6TFy9R1aNgfnC+0jg6ryAZlmhgIjCrimI+jzffS+DOW2rx7z8aw9Y6AxPj83hoX0MlzT24rxE/eHkC2yg3v/BqCs2kPOiTMTlDViM6i2UtSBM1pYg0VupaEpvNiq0dm83rqty9c9cOTL50CdYQJfsbvFg4mUBhtojWO2px7Kdz2BpImzOywV3A9//vAl5+ogfffrCt0j+ZUfDTN2YhywJ2dnjw+D9tQYkKFEnikC1o2P+tUwg5ipgngDmioemMjIZba+FvZnFYdndqOIXchRy2d22jfhJ05m56VyHAXbfsNCdFYbaAmVdnTIBmx7fmMVFwIkNfPkUc2OTOYXI2iy9+8xROnElC1fWyNyjob+7xoavNBS9xLbOqxcLh7IUsHnliGCepbYTyf6ooUR8ekzknlOEo6Zo29bGDAWTS+9lbzHO9jRsXdcN4j4AxPoLPV4Obe3fh2NA7cF7nrDK/EXTjxDEFm6iSYdbY4s9Aa3Pj+R/N4pXALD6zy4e2RjtcNgGSwOHCdB4TM3kMvp3AxJk8LgaKVAUVzMzD3Hwu7oR4QxDeiIwUTT7v9vLEzU3kEHbVYdv2LeAMbsh0N30tu7h3CUzf5/4aR3//NuLH41UgWahNGh5kdSeM7DxurEti+KMwuinX7g36MPhGEt8vzRFt2JGlSXOKFN/l9OGhpiAGQ0nMjGTR1kRFBBH7+8UgcqKAcCKPhWTeHH+lvrv/oW9RqWF6WTQ4fYhbUfv6/DX42/378Pxz/4/V0nod+xUwnq1DgSZTk1hAuqBQfOno9JNl2i3Ys6vWbPsy8WTLWZGlXMgCj6JC/JkIgAtYSAfpwfpy62296Ojcal6Tl3/Czry1IA5xK+LSbHh7L7Z1tuNywpiqvaENnw5swsPbwyYIv1VENlrm1gJNlnNj5DYHLbrI9Zs9NvxFQwgt1npcqbILBAO4izy5JLRAGzDPNTXcgg6jaqXGvv7L//wAmpo3rRmIrbE9SghfbQmh1ibhX/5wHu9FM5S3FeTfV/Dir6bxs8FZuC5RvVlQaT0zj8ePTyBsl3GwuwnNST+y2aW5vCwuyngHv/lVynyVuTAetJRj0mS16bzSy0M4shpQLBrH9777n5iamjbvlVIN7v3SXcwNkCUBFqkcJpm8Uiki9cVRWZZgT5bALFXXc/NpKKqG1357DLJtznzmD/hw4LF/RGPTCqMI3H0hC2caz+TJeps0MJfXB4xVmwCs89e/8RU89/TzODX0AVwuF7q6W0wljF4ksVwYKKqOjUrxxBh5Q4VVtpofEKoL4msHv4JgKLCy2XhOwk+w6gNpMaUdWm9QRksHHvsy/uaePszMsJRWtg1LtSVFuyqATJYyUjSaRe+tf45v/+vB1QCZFftbOG5hDUhmTbLKU+sNzPM8ZaNPwUW7EIpy+UWX/fyHqHvlh6h7+Wk4Pzy55r1KH1VcrBeDJR49N9wEu8O2utn4kpvXgGQiF/l+1gjryJFfn8LDnfWYnUut9xpiMg7f4M8h5TOw+T3wHnsN8vSFqjaZTIE8oFMJq+NTXhuGB6uXHYxl2N7Q6rGrQJZnOrd7NSUxWRiZwmay4tRUAuuJLTYN5513QtrcBiEUgusL99Dqcrma1zUd42PlQiKxkDXdXjw5WlWiKYJ+P0uDVwTJxGykq1VA47E0/PE03ppKIpPKYT0puv3IDQyQT1Uo588j+4tfoGRZ3PMjHJMXYygUyouzaDSNuZyCCO2+nT61aG3dONQgi4fXG5tf72HQaRliQLHo+vfeHcfOeg/uaPXDkiut1wWlQB0Sm3tQOD8ONZ5AMtKOXMtWM4Y/Gp2p8kA6XcDBHY3YQgvXDwgkBcD9IYfQj8uIeLkXDCgVnLvZ5lVJUSNeuwRLmkf0/CyGT1+kGUlFqpN2N6yWyrZXunMnMh07iCo0ZBVyxWScwC2Qcas3YrhcgQprO2yiMP7M06/tO/DQ7iFcQcQrvVyMj5YTZ2f7//uFwQOPhBxePZlDPJHF7GySqQOtkWjVaIEo8WXOpDxeLCqEc4nK126BOsntqmZ7ymKV+ofeefzadnpXitf7SOServr+kZzad0vfJ9dsSxtX6kwvk8ks8pSZkqnCwMjxjw4dP/NvA9igXPW/D17vo95wo31v9w2Rvuu3hnstsuRdxFH5qVpTkYbx0dmBI68PH3bX254bGujf2K5r9RDXJnOZUo/B8RFOEJo1TTf/xxEEPqGpWlKAPpR1SOMrs8efIn8E3/dPEyYRPO0AAAAASUVORK5CYII=",pO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK6SURBVHgB7Zk/aBNRHMe/7y4KQpN2LNSWG1poo2AyWNtC1Iw6tYO41qGTROLmnyFx0E20iJNgq5u00EzaCmq0Uu3UE2wNtOBDE9vNmBYcksvzvSMJsblLLuSS3JBPuNy7e+/Ch9/j3vvxC0EV+oYmfJBlHwFT0AQYCIWmqantNdVsDDG6OeA9G2FgYf4LPWgNlDAS/ZH48Oxwx3+CvcPnFRfJL/GI+dAeaJZlg3uJz7R4oyQo5I5I2kYLo2YGzee0qeK0k5Ic0d7xpgJnQPf/yv40jaclccXlonCOnEBxH9PmRIMUovcdDoQxFpRcJBeGUyGYlAjIKTgVIp2TCEG7lpSaEMYUF7OwrLyYn8X4qN+0fzOxjafPF7EQe6Vfj5/2IXz1StVnVt6sYiZ0GzXoccEiydReSaCc4329XMiP+/duwuPpgsfdhetcLrN/gIWlZSR/7VY8c2nyArrdblihLsEHj+cM+4Tkk0d3EbkR0q83Ezu4PH0NmcyB4fgxHmFivMtWIMEGhHz5dM2EbpnK1YvlCNZCSIrjD59acbYL2wQFP1O7lqfOKrZMcTPpCDZKR7BROoKN0hFsFMcLWt7qvCODel5oxmJsudQW6ZZ3eFBPvYw4MTKErW87sE3wNU8uSeFjhEi3RD5YZGzUV0oejBByK29XYQXSPxJgsAERNXEIRN5oljvWi22Cgq/rL/XzyTMXYRe2pluf1jfQ7bGWyluFDHgDv1n76zFmiNIHo3AsTJXyDO/hUPjL8UXi3zE4FBfLPZSSiY9xvrw5T5JhnvJCpr7VyUdlsYBROAcqI3tHNHRBqsbTMtGm4ARJgrTMy8C0UAYuJQt0a02VmRxEGyV51V+V81k/NapRl9M/HJjmPRG0qurKo8bybJa/D9HKrioo3gmfxmSFVzqbUqIT/5Pwwr0qZs9szD/7WvuMYd6c0AAAAABJRU5ErkJggg==",gO="_overlay_1cw58_1",mO="_modal_1cw58_14",yO="_closeIcon_1cw58_24",vO="_form_1cw58_39",bO="_actions_1cw58_53",_O="_cancel_1cw58_59",SO="_save_1cw58_67",ss={overlay:gO,modal:mO,closeIcon:yO,form:vO,actions:bO,cancel:_O,save:SO},wO=[{value:"Math",label:"Math"},{value:"Physics",label:"Physics"},{value:"Chemistry",label:"Chemistry"},{value:"Biology",label:"Biology"},{value:"ComputerScience",label:"Computer Science"}],AO=({onClose:s})=>{const t=Mg(),{user:e,token:n,loading:r}=Bl(w=>w.auth),[o,l]=z.useState(""),[u,d]=z.useState(""),[f,p]=z.useState(""),[m,v]=z.useState(!0);z.useEffect(()=>{(async()=>{n&&await t(Ku()),v(!1)})()},[t,n]),z.useEffect(()=>{e&&(l(e.username||e.name||""),d(e.email||""),p(e.specialization||""))},[e]);const b=async w=>{w.preventDefault(),await t(Fu({name:o,email:u,specialization:f})),await t(Ku()),s()};return m||r?k.jsx("div",{className:ss.overlay,children:k.jsx("div",{className:ss.modal,children:k.jsx("p",{children:"Loading profile..."})})}):k.jsx("div",{className:ss.overlay,children:k.jsxs("div",{className:ss.modal,children:[k.jsx("button",{className:ss.closeIcon,onClick:s,children:""}),k.jsx("h2",{children:"Edit Profile"}),k.jsxs("form",{onSubmit:b,className:ss.form,children:[k.jsx("label",{htmlFor:"name",children:"Name"}),k.jsx("input",{id:"name",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Your name",required:!0}),k.jsx("label",{htmlFor:"email",children:"Email"}),k.jsx("input",{id:"email",type:"email",value:u,onChange:w=>d(w.target.value),placeholder:"Your email",required:!0}),k.jsx("label",{htmlFor:"specialization",children:"Specialization"}),k.jsxs("select",{id:"specialization",value:f,onChange:w=>p(w.target.value),required:!0,children:[k.jsx("option",{value:"",children:"Select specialization"}),wO.map(w=>k.jsx("option",{value:w.value,children:w.label},w.value))]}),k.jsxs("div",{className:ss.actions,children:[k.jsx("button",{type:"button",onClick:s,className:ss.cancel,children:"Cancel"}),k.jsx("button",{type:"submit",className:ss.save,children:"Save Changes"})]})]})]})})},Zu=({onMenuClick:s,hasSidebar:t=!1})=>{const[e,n]=z.useState(!1),[r,o]=z.useState(!1),l=z.useRef(),u=Mg(),{isLoggedIn:d}=Bl(p=>p.auth);z.useEffect(()=>{const p=m=>{l.current&&!l.current.contains(m.target)&&n(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const f=()=>{u(qR()),n(!1)};return k.jsxs(k.Fragment,{children:[k.jsxs("header",{className:Je.header,children:[k.jsxs("div",{className:Je.left,children:[t&&k.jsx("button",{className:Je.menuBtn,onClick:s,children:""}),k.jsx("div",{className:Je.logoSection,children:k.jsxs(Vu,{to:"/",className:Je.logoLink,children:[k.jsx("img",{src:pO,alt:"Study Buddy Logo",className:Je.logo}),k.jsxs("div",{children:[k.jsx("h1",{className:Je.title,children:"Study Buddy"}),k.jsx("p",{className:Je.subtitle,children:"Your smart learning partner"})]})]})})]}),k.jsx("div",{className:Je.userSection,ref:l,children:d?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:Je.userMenu,onClick:()=>n(p=>!p),children:k.jsx("img",{src:fO,alt:"User Avatar",className:Je.avatar})}),e&&k.jsxs("div",{className:Je.dropdown,children:[k.jsx("button",{className:Je.menuItem,onClick:()=>o(!0),children:"My Account"}),k.jsx("hr",{className:Je.divider}),k.jsx("button",{onClick:f,className:Je.logout,children:"Logout"})]})]}):k.jsx("div",{className:Je.authLinks,children:k.jsx(Vu,{to:"/login",className:Je.loginLink,children:"Sign In"})})})]}),r&&k.jsx(AO,{onClose:()=>o(!1)})]})},EO="_card_ngke0_1",xO="_cardHeader_ngke0_13",TO="_withImage_ngke0_23",CO="_headerOverlay_ngke0_36",RO="_cardHeaderTop_ngke0_46",OO="_date_ngke0_52",MO="_title_ngke0_70",DO="_actions_ngke0_95",kO="_iconButton_ngke0_99",LO="_archiveButton_ngke0_114",NO="_deleteButton_ngke0_115",PO="_manageButton_ngke0_116",BO="_cardFooter_ngke0_62",FO="_playButton_ngke0_136",ln={card:EO,cardHeader:xO,withImage:TO,headerOverlay:CO,cardHeaderTop:RO,date:OO,title:MO,actions:DO,iconButton:kO,archiveButton:LO,deleteButton:NO,manageButton:PO,cardFooter:BO,playButton:FO};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IO=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),Z0=s=>{const t=IO(s);return t.charAt(0).toUpperCase()+t.slice(1)},x1=(...s)=>s.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),zO=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=z.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:r="",children:o,iconNode:l,...u},d)=>z.createElement("svg",{ref:d,...UO,width:t,height:t,stroke:s,strokeWidth:n?Number(e)*24/Number(t):e,className:x1("lucide",r),...!o&&!zO(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>z.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=(s,t)=>{const e=z.forwardRef(({className:n,...r},o)=>z.createElement(HO,{ref:o,iconNode:t,className:x1(`lucide-${jO(Z0(s))}`,`lucide-${s}`,n),...r}));return e.displayName=Z0(s),e};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],$O=Ks("archive-restore",VO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],GO=Ks("archive",qO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],YO=Ks("chevron-down",XO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],KO=Ks("chevron-right",WO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],QO=Ks("play",ZO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tM=Ks("plus",JO);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nM=Ks("settings",eM);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sM=Ks("trash-2",iM),Q0=({id:s,title:t,date:e,archived:n,onArchive:r,onDelete:o,onManage:l,imageUrl:u="card-bg1.jpg"})=>{const d=Nl(),f=()=>d(`/modules/${s}`),p=b=>{b.stopPropagation(),r(s,n)},m=b=>{b.stopPropagation(),o(s)},v=b=>{b.stopPropagation(),l(s,t)};return k.jsxs("div",{className:ln.card,children:[k.jsx("div",{className:`${ln.cardHeader} ${u?ln.withImage:""}`,style:u?{backgroundImage:`url(${u})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:k.jsxs("div",{className:ln.headerOverlay,children:[k.jsxs("div",{className:ln.cardHeaderTop,children:[k.jsx("p",{className:ln.date,children:e}),k.jsxs("div",{className:ln.actions,children:[k.jsx("button",{className:`${ln.iconButton} ${ln.deleteButton}`,onClick:m,title:"Delete",children:k.jsx(sM,{size:18})}),k.jsx("button",{className:`${ln.iconButton} ${ln.archiveButton}`,onClick:p,title:n?"Unarchive":"Archive",children:n?k.jsx($O,{size:18}):k.jsx(GO,{size:18})}),k.jsx("button",{className:`${ln.iconButton} ${ln.manageButton}`,onClick:v,title:"Manage",children:k.jsx(nM,{size:18})})]})]}),k.jsx("button",{className:ln.playButton,onClick:f,children:k.jsx(QO,{size:32})})]})}),k.jsxs("div",{className:ln.cardFooter,children:[" ",k.jsx("p",{className:ln.title,children:t})]})]})},rM="_container_1syvj_3",aM="_icon_1syvj_18",oM="_title_1syvj_30",lM="_subtitle_1syvj_41",cM="_card_1syvj_49",uM="_actionBtn_1syvj_96",Ra={container:rM,icon:aM,title:oM,subtitle:lM,card:cM,actionBtn:uM},dM=({onClick:s})=>k.jsxs("div",{className:Ra.container,children:[k.jsx("div",{className:Ra.icon,children:""}),k.jsxs("h1",{className:Ra.title,children:["Welcome to Study Buddy! ",k.jsx("span",{children:""})]}),k.jsx("p",{className:Ra.subtitle,children:"Get started by creating your first study module. You can add notes, videos, slides, or text later to build your personalized learning space."}),k.jsxs("div",{className:Ra.card,children:[k.jsx("h3",{children:"How to get started:"}),k.jsxs("ul",{children:[k.jsxs("li",{children:[k.jsx("span",{children:"1"})," Create a Study Module"]}),k.jsxs("li",{children:[k.jsx("span",{children:"2"})," Add notes, slides, or resources"]}),k.jsxs("li",{children:[k.jsx("span",{children:"3"})," Start Learning!"]})]})]}),k.jsx("button",{className:Ra.actionBtn,onClick:s,children:"+ Create Your First Module"})]}),hM="_overlay_1tis3_1",fM="_modal_1tis3_14",pM="_closeButton_1tis3_27",gM="_title_1tis3_38",mM="_subtitle_1tis3_44",yM="_formGroup_1tis3_51",vM="_input_1tis3_63",bM="_uploadSection_1tis3_140",_M="_uploadList_1tis3_151",SM="_footer_1tis3_158",wM="_actions_1tis3_169",AM="_cancelButton_1tis3_174",EM="_createButton_1tis3_187",xM="_hiddenFileInput_1tis3_208",TM="_uploadButton_1tis3_212",CM="_uploadedFile_1tis3_235",RM="_fileIcon_1tis3_245",tn={overlay:hM,modal:fM,closeButton:pM,title:gM,subtitle:mM,formGroup:yM,input:vM,uploadSection:bM,uploadList:_M,footer:SM,actions:wM,cancelButton:AM,createButton:EM,hiddenFileInput:xM,uploadButton:TM,uploadedFile:CM,fileIcon:RM},gi=ye.create({baseURL:"https://study-buddy-2o9t.onrender.com/api"});gi.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s});const Fg=ye.create({baseURL:"http://localhost:3000/"});Fg.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s});const T1=({isOpen:s,onClose:t,onCreate:e,moduleId:n,mode:r="create"})=>{const[o,l]=z.useState(""),[u,d]=z.useState([]),[f,p]=z.useState(!1);if(z.useEffect(()=>{r==="upload"&&l("")},[r]),!s)return null;const m=b=>{const w=Array.from(b.target.files);d(_=>[..._,...w])},v=async()=>{if(r==="create"&&!o.trim()){alert("Please enter a module name.");return}if(u.length===0){alert("Please upload at least one file.");return}p(!0);try{const b=new FormData;r==="create"?b.append("moduleName",o):b.append("moduleId",n),u.forEach(M=>b.append("files",M));const w=await Fg.post("/upload-files",b,{headers:{"Content-Type":"multipart/form-data"}});console.log("Python Upload successful:",w.data);const x=w.data.uploaded?.[0]?.file_id;x||console.warn(" No file_id returned from Python  skipping link.");const A=new FormData;r==="create"?A.append("moduleName",o):A.append("moduleId",n),u.forEach(M=>A.append("files",M)),x&&A.append("file_id",x);const C=await gi.post("/files/upload",A,{headers:{"Content-Type":"multipart/form-data"}});console.log("Node Upload successful:",C.data),e&&C.data?.module&&e(C.data.module),l(""),d([]),t()}catch(b){console.error("Upload failed:",b),alert("Upload failed")}finally{p(!1)}};return k.jsx("div",{className:tn.overlay,children:k.jsxs("div",{className:tn.modal,children:[k.jsx("button",{className:tn.closeButton,onClick:t,children:""}),k.jsx("h2",{className:tn.title,children:r==="create"?"Create New Study Module":"Add Files to Module"}),k.jsx("p",{className:tn.subtitle,children:r==="create"?"Upload your study materials to create a new module.":"Select and upload additional files for this module."}),r==="create"&&k.jsxs("div",{className:tn.formGroup,children:[k.jsx("label",{htmlFor:"moduleName",children:"Module Name"}),k.jsx("input",{id:"moduleName",type:"text",className:tn.input,placeholder:"e.g., Calculus I - Chapter 3",value:o,onChange:b=>l(b.target.value),disabled:f})]}),k.jsxs("div",{className:tn.uploadSection,children:[k.jsx("input",{id:"fileInput",type:"file",multiple:!0,className:tn.hiddenFileInput,onChange:m,disabled:f}),k.jsx("label",{htmlFor:"fileInput",className:tn.uploadButton,children:" Upload Files"}),u.length>0&&k.jsx("ul",{className:tn.uploadList,children:u.map((b,w)=>k.jsxs("li",{className:tn.uploadedFile,children:[k.jsx("span",{className:tn.fileIcon,children:""})," ",b.name]},w))})]}),k.jsxs("div",{className:tn.footer,children:[k.jsxs("span",{children:["Total files: ",u.length]}),k.jsxs("div",{className:tn.actions,children:[k.jsx("button",{className:tn.cancelButton,onClick:t,disabled:f,children:"Cancel"}),k.jsx("button",{className:tn.createButton,onClick:v,disabled:u.length===0||f,children:f?"Uploading...":r==="create"?"Create Module":"Add Files"})]})]})]})})},OM="_homePage_cll51_1",MM="_headerSection_cll51_7",DM="_viewAllBtn_cll51_22",kM="_modulesGrid_cll51_37",LM="_content_cll51_44",NM="_modulesSection_cll51_52",PM="_toggleButtons_cll51_64",BM="_activeBtn_cll51_82",li={homePage:OM,headerSection:MM,viewAllBtn:DM,modulesGrid:kM,content:LM,modulesSection:NM,toggleButtons:PM,activeBtn:BM},FM="_addCard_1pj9l_1",jM={addCard:FM},IM="/Study-Buddy/assets/symbol-defs-CAKCujkI.svg",zM=({onClick:s})=>k.jsx("div",{className:jM.addCard,onClick:s,children:k.jsx("span",{children:k.jsx("svg",{width:"24",height:"24",fill:"#273da4",children:k.jsx("use",{href:`${IM}#icon-plus`})})})}),UM="_overlay_1fr89_1",HM="_modal_1fr89_11",VM="_section_1fr89_22",$M="_formRow_1fr89_26",qM="_removeBtn_1fr89_40",GM="_role_1fr89_48",XM="_button_1fr89_54",YM="_closeIcon_1fr89_67",ei={overlay:UM,modal:HM,section:VM,formRow:$M,removeBtn:qM,role:GM,button:XM,closeIcon:YM},WM=({isOpen:s,onClose:t,moduleId:e,moduleTitle:n,onUpdate:r})=>{const[o,l]=z.useState(n||""),[u,d]=z.useState(""),[f,p]=z.useState("editor"),[m,v]=z.useState([]);z.useEffect(()=>{e&&s&&b()},[e,s]);const b=async()=>{try{const A=await gi.get(`/files/modules/${e}/collaborators`);v(A.data.collaborators||[])}catch(A){console.error("Failed to fetch collaborators:",A)}},w=async()=>{try{const A=await gi.put(`/files/modules/${e}/title`,{title:o});r(A.data.module),t()}catch(A){console.error("Failed to update title:",A)}},_=async()=>{try{await gi.post(`/files/modules/${e}/collaborators`,{collaboratorEmail:u,role:f}),d(""),b()}catch(A){console.error("Failed to add collaborator:",A)}},x=async A=>{try{await gi.delete(`/files/modules/${e}/collaborators/${A}`),b()}catch(C){console.error("Failed to remove collaborator:",C)}};return s?k.jsx("div",{className:ei.overlay,children:k.jsxs("div",{className:ei.modal,children:[k.jsx("button",{className:ei.closeIcon,onClick:t,children:""}),k.jsx("h2",{children:"Manage Module"}),k.jsxs("div",{className:ei.section,children:[k.jsx("h4",{children:"Update Module Title"}),k.jsxs("div",{className:ei.formRow,children:[k.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),placeholder:"New title"}),k.jsx("button",{className:ei.button,onClick:w,children:"Save"})]})]}),k.jsxs("div",{className:ei.section,children:[k.jsx("h4",{children:"Add Collaborator"}),k.jsxs("div",{className:ei.formRow,children:[k.jsx("input",{type:"email",value:u,onChange:A=>d(A.target.value),placeholder:"Collaborator email"}),k.jsxs("select",{value:f,onChange:A=>p(A.target.value),children:[k.jsx("option",{value:"editor",children:"Editor"}),k.jsx("option",{value:"viewer",children:"Viewer"})]}),k.jsx("button",{className:ei.button,onClick:_,children:"Add"})]})]}),k.jsxs("div",{className:ei.section,children:[k.jsx("h4",{children:"Current Collaborators"}),m.length===0?k.jsx("p",{children:"No collaborators yet"}):k.jsx("ul",{children:m.map(A=>k.jsxs("li",{children:[k.jsx("span",{children:A.user.name||A.user.email}),k.jsx("span",{className:ei.role,children:A.role}),k.jsx("button",{className:ei.removeBtn,onClick:()=>x(A.user.id),children:"Remove"})]},A.user.id))})]})]})}):null};var KM={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function ZM(s){if(typeof s=="number")return{value:s,unit:"px"};var t,e=(s.match(/^[0-9.]*/)||"").toString();e.includes(".")?t=parseFloat(e):t=parseInt(e,10);var n=(s.match(/[^0-9]*$/)||"").toString();return KM[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(s," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function J0(s){var t=ZM(s);return"".concat(t.value).concat(t.unit)}var QM=function(s,t,e){var n="react-spinners-".concat(s,"-").concat(e);if(typeof window>"u"||!window.document)return n;var r=document.createElement("style");document.head.appendChild(r);var o=r.sheet,l=`
    @keyframes `.concat(n,` {
      `).concat(t,`
    }
  `);return o&&o.insertRule(l,0),n},Qu=function(){return Qu=Object.assign||function(s){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},Qu.apply(this,arguments)},JM=function(s,t){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&t.indexOf(n)<0&&(e[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(s);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(s,n[r])&&(e[n[r]]=s[n[r]]);return e},tD=QM("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function jg(s){var t=s.loading,e=t===void 0?!0:t,n=s.color,r=n===void 0?"#000000":n,o=s.speedMultiplier,l=o===void 0?1:o,u=s.cssOverride,d=u===void 0?{}:u,f=s.size,p=f===void 0?35:f,m=JM(s,["loading","color","speedMultiplier","cssOverride","size"]),v=Qu({background:"transparent !important",width:J0(p),height:J0(p),borderRadius:"100%",border:"2px solid",borderTopColor:r,borderBottomColor:"transparent",borderLeftColor:r,borderRightColor:r,display:"inline-block",animation:"".concat(tD," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return e?z.createElement("span",Qu({style:v},m)):null}const eD="_overlay_tgfw2_1",nD={overlay:eD},C1=()=>k.jsx("div",{className:nD.overlay,children:k.jsx(jg,{size:60,color:"#3498db"})}),iD=()=>{const[s,t]=z.useState([]),[e,n]=z.useState(!0),[r,o]=z.useState(!1),[l,u]=z.useState({open:!1,moduleId:null,title:""}),[d,f]=z.useState(!1),[p,m]=z.useState(!1),[v,b]=z.useState("active");z.useEffect(()=>{(async()=>{try{const N=await gi.get("/files/modules");t(N.data.modules||[])}catch(N){console.error("Failed to fetch modules:",N)}finally{n(!1)}})()},[]);const w=()=>o(!0),_=()=>o(!1),x=O=>{t(N=>[...N,O]),o(!1)},A=async(O,N)=>{try{const P=N?`/files/modules/${O}/unarchive`:`/files/modules/${O}/archive`;await gi.put(P),t(L=>L.map(U=>U.id===O?{...U,archived:!N}:U))}catch(P){console.error("Failed to toggle archive:",P)}},C=async O=>{if(window.confirm("Are you sure you want to delete this module and all its files?"))try{await gi.delete(`/files/modules/${O}`),t(P=>P.filter(L=>L.id!==O))}catch(P){console.error("Failed to delete module:",P)}},M=(O,N)=>{u({open:!0,moduleId:O,title:N})},j=O=>{t(N=>N.map(P=>P.id===O.id?O:P))};if(e)return k.jsxs(k.Fragment,{children:[k.jsx(Zu,{}),k.jsx(Jp,{children:k.jsx("div",{className:li.homePage,children:k.jsx(C1,{})})})]});const T=s.filter(O=>!O.archived),D=s.filter(O=>O.archived);return k.jsxs(k.Fragment,{children:[k.jsx(Zu,{}),k.jsxs(Jp,{children:[k.jsx("div",{className:li.homePage,children:s.length===0?k.jsx(dM,{onClick:w}):k.jsx("div",{className:li.content,children:k.jsxs("div",{className:li.modulesSection,children:[k.jsxs("div",{className:li.headerSection,children:[k.jsx("h2",{children:"Your Study Modules"}),v==="active"&&k.jsxs("div",{children:[T.length>=3&&k.jsx("button",{className:li.viewAllBtn,onClick:w,children:"Add more modules"}),T.length>4&&k.jsx("button",{className:li.viewAllBtn,onClick:()=>f(O=>!O),children:d?"View less":"View all"})]})]}),k.jsxs("div",{className:li.toggleButtons,children:[k.jsx("button",{className:v==="active"?li.activeBtn:"",onClick:()=>b("active"),children:"Current"}),k.jsx("button",{className:v==="archived"?li.activeBtn:"",onClick:()=>b("archived"),children:"Archive"})]}),k.jsxs("div",{className:li.modulesGrid,children:[v==="active"?(d?T:T.slice(0,4)).map(O=>k.jsx(Q0,{id:O.id,title:O.title,date:new Date(O.createdAt).toLocaleDateString(),archived:O.archived,onArchive:A,onDelete:C,onManage:M},O.id)):(p?D:D.slice(0,4)).map(O=>k.jsx(Q0,{id:O.id,title:O.title,date:new Date(O.createdAt).toLocaleDateString(),archived:O.archived,onArchive:A,onDelete:C,onManage:M},O.id)),v==="active"&&T.length<=3&&k.jsx(zM,{onClick:w})]})]})})}),r&&k.jsx(T1,{isOpen:r,onClose:_,onCreate:x}),l.open&&k.jsx(WM,{isOpen:l.open,onClose:()=>u({open:!1,moduleId:null,title:""}),moduleId:l.moduleId,moduleTitle:l.title,onUpdate:j})]})]})},sD="_pageWrapper_gv7w0_1",rD="_card_gv7w0_10",aD="_header_gv7w0_20",oD="_iconCircle_gv7w0_24",lD="_icon_gv7w0_24",cD="_title_gv7w0_40",uD="_subtitle_gv7w0_47",dD="_formContainer_gv7w0_52",hD="_toggleText_gv7w0_56",fD="_toggleButton_gv7w0_62",ci={pageWrapper:sD,card:rD,header:aD,iconCircle:oD,icon:lD,title:cD,subtitle:uD,formContainer:dD,toggleText:hD,toggleButton:fD};var R1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t_=zt.createContext&&zt.createContext(R1),pD=["attr","size","title"];function gD(s,t){if(s==null)return{};var e=mD(s,t),n,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(s,n)&&(e[n]=s[n])}return e}function mD(s,t){if(s==null)return{};var e={};for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n)){if(t.indexOf(n)>=0)continue;e[n]=s[n]}return e}function Ju(){return Ju=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},Ju.apply(this,arguments)}function e_(s,t){var e=Object.keys(s);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(s);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(s,r).enumerable})),e.push.apply(e,n)}return e}function td(s){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(e),!0).forEach(function(n){yD(s,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(e)):e_(Object(e)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(e,n))})}return s}function yD(s,t,e){return t=vD(t),t in s?Object.defineProperty(s,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):s[t]=e,s}function vD(s){var t=bD(s,"string");return typeof t=="symbol"?t:t+""}function bD(s,t){if(typeof s!="object"||!s)return s;var e=s[Symbol.toPrimitive];if(e!==void 0){var n=e.call(s,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function O1(s){return s&&s.map((t,e)=>zt.createElement(t.tag,td({key:e},t.attr),O1(t.child)))}function Zs(s){return t=>zt.createElement(_D,Ju({attr:td({},s.attr)},t),O1(s.child))}function _D(s){var t=e=>{var{attr:n,size:r,title:o}=s,l=gD(s,pD),u=r||e.size||"1em",d;return e.className&&(d=e.className),s.className&&(d=(d?d+" ":"")+s.className),zt.createElement("svg",Ju({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:d,style:td(td({color:s.color||e.color},e.style),s.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&zt.createElement("title",null,o),s.children)};return t_!==void 0?zt.createElement(t_.Consumer,null,e=>t(e)):t(R1)}function SD(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"},child:[]}]})(s)}function wD(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"},child:[]}]})(s)}function M1(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"},child:[]}]})(s)}function AD(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 21V23H11V21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H9C10.1947 3 11.2671 3.52375 12 4.35418C12.7329 3.52375 13.8053 3 15 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H13ZM20 19V5H15C13.8954 5 13 5.89543 13 7V19H20ZM11 19V7C11 5.89543 10.1046 5 9 5H4V19H11Z"},child:[]}]})(s)}function D1(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.34268 18.7819L7.41083 18.2642L8.1983 15.3254C7.00919 14.8874 5.91661 14.2498 4.96116 13.4534L2.80783 15.6067L1.39362 14.1925L3.54695 12.0392C2.35581 10.6103 1.52014 8.87466 1.17578 6.96818L3.14386 6.61035C3.90289 10.8126 7.57931 14.0001 12.0002 14.0001C16.4211 14.0001 20.0976 10.8126 20.8566 6.61035L22.8247 6.96818C22.4803 8.87466 21.6446 10.6103 20.4535 12.0392L22.6068 14.1925L21.1926 15.6067L19.0393 13.4534C18.0838 14.2498 16.9912 14.8874 15.8021 15.3254L16.5896 18.2642L14.6578 18.7819L13.87 15.8418C13.2623 15.9459 12.6376 16.0001 12.0002 16.0001C11.3629 16.0001 10.7381 15.9459 10.1305 15.8418L9.34268 18.7819Z"},child:[]}]})(s)}function Ig(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"},child:[]}]})(s)}function k1(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM5 12V20H19V12H5ZM11 14H13V18H11V14ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17Z"},child:[]}]})(s)}function ED(s){return Zs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"},child:[]}]})(s)}function L1(s){var t,e,n="";if(typeof s=="string"||typeof s=="number")n+=s;else if(typeof s=="object")if(Array.isArray(s)){var r=s.length;for(t=0;t<r;t++)s[t]&&(e=L1(s[t]))&&(n&&(n+=" "),n+=e)}else for(e in s)s[e]&&(n&&(n+=" "),n+=e);return n}function mi(){for(var s,t,e=0,n="",r=arguments.length;e<r;e++)(s=arguments[e])&&(t=L1(s))&&(n&&(n+=" "),n+=t);return n}function xD(s){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}xD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Hl=s=>typeof s=="number"&&!isNaN(s),Br=s=>typeof s=="string",ps=s=>typeof s=="function",TD=s=>Br(s)||Hl(s),tg=s=>Br(s)||ps(s)?s:null,CD=(s,t)=>s===!1||Hl(s)&&s>0?s:t,eg=s=>z.isValidElement(s)||Br(s)||ps(s)||Hl(s);function RD(s,t,e=300){let{scrollHeight:n,style:r}=s;requestAnimationFrame(()=>{r.minHeight="initial",r.height=n+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function OD({enter:s,exit:t,appendPosition:e=!1,collapse:n=!0,collapseDuration:r=300}){return function({children:o,position:l,preventExitTransition:u,done:d,nodeRef:f,isIn:p,playToast:m}){let v=e?`${s}--${l}`:s,b=e?`${t}--${l}`:t,w=z.useRef(0);return z.useLayoutEffect(()=>{let _=f.current,x=v.split(" "),A=C=>{C.target===f.current&&(m(),_.removeEventListener("animationend",A),_.removeEventListener("animationcancel",A),w.current===0&&C.type!=="animationcancel"&&_.classList.remove(...x))};_.classList.add(...x),_.addEventListener("animationend",A),_.addEventListener("animationcancel",A)},[]),z.useEffect(()=>{let _=f.current,x=()=>{_.removeEventListener("animationend",x),n?RD(_,d,r):d()};p||(u?x():(w.current=1,_.className+=` ${b}`,_.addEventListener("animationend",x)))},[p]),zt.createElement(zt.Fragment,null,o)}}function n_(s,t){return{content:N1(s.content,s.props),containerId:s.props.containerId,id:s.props.toastId,theme:s.props.theme,type:s.props.type,data:s.props.data||{},isLoading:s.props.isLoading,icon:s.props.icon,reason:s.removalReason,status:t}}function N1(s,t,e=!1){return z.isValidElement(s)&&!Br(s.type)?z.cloneElement(s,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ps(s)?s({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):s}function MD({closeToast:s,theme:t,ariaLabel:e="close"}){return zt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),s(!0)},"aria-label":e},zt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},zt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function DD({delay:s,isRunning:t,closeToast:e,type:n="default",hide:r,className:o,controlledProgress:l,progress:u,rtl:d,isIn:f,theme:p}){let m=r||l&&u===0,v={animationDuration:`${s}ms`,animationPlayState:t?"running":"paused"};l&&(v.transform=`scaleX(${u})`);let b=mi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":d}),w=ps(o)?o({rtl:d,type:n,defaultClassName:b}):mi(b,o),_={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{f&&e()}};return zt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},zt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${n}`}),zt.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:w,style:v,..._}))}var kD=1,P1=()=>`${kD++}`;function LD(s,t,e){let n=1,r=0,o=[],l=[],u=t,d=new Map,f=new Set,p=C=>(f.add(C),()=>f.delete(C)),m=()=>{l=Array.from(d.values()),f.forEach(C=>C())},v=({containerId:C,toastId:M,updateId:j})=>{let T=C?C!==s:s!==1,D=d.has(M)&&j==null;return T||D},b=(C,M)=>{d.forEach(j=>{var T;(M==null||M===j.props.toastId)&&((T=j.toggle)==null||T.call(j,C))})},w=C=>{var M,j;(j=(M=C.props)==null?void 0:M.onClose)==null||j.call(M,C.removalReason),C.isActive=!1},_=C=>{if(C==null)d.forEach(w);else{let M=d.get(C);M&&w(M)}m()},x=()=>{r-=o.length,o=[]},A=C=>{var M,j;let{toastId:T,updateId:D}=C.props,O=D==null;C.staleId&&d.delete(C.staleId),C.isActive=!0,d.set(T,C),m(),e(n_(C,O?"added":"updated")),O&&((j=(M=C.props).onOpen)==null||j.call(M))};return{id:s,props:u,observe:p,toggle:b,removeToast:_,toasts:d,clearQueue:x,buildToast:(C,M)=>{if(v(M))return;let{toastId:j,updateId:T,data:D,staleId:O,delay:N}=M,P=T==null;P&&r++;let L={...u,style:u.toastStyle,key:n++,...Object.fromEntries(Object.entries(M).filter(([X,H])=>H!=null)),toastId:j,updateId:T,data:D,isIn:!1,className:tg(M.className||u.toastClassName),progressClassName:tg(M.progressClassName||u.progressClassName),autoClose:M.isLoading?!1:CD(M.autoClose,u.autoClose),closeToast(X){d.get(j).removalReason=X,_(j)},deleteToast(){let X=d.get(j);if(X!=null){if(e(n_(X,"removed")),d.delete(j),r--,r<0&&(r=0),o.length>0){A(o.shift());return}m()}}};L.closeButton=u.closeButton,M.closeButton===!1||eg(M.closeButton)?L.closeButton=M.closeButton:M.closeButton===!0&&(L.closeButton=eg(u.closeButton)?u.closeButton:!0);let U={content:C,props:L,staleId:O};u.limit&&u.limit>0&&r>u.limit&&P?o.push(U):Hl(N)?setTimeout(()=>{A(U)},N):A(U)},setProps(C){u=C},setToggle:(C,M)=>{let j=d.get(C);j&&(j.toggle=M)},isToastActive:C=>{var M;return(M=d.get(C))==null?void 0:M.isActive},getSnapshot:()=>l}}var vn=new Map,Tl=[],ng=new Set,ND=s=>ng.forEach(t=>t(s)),B1=()=>vn.size>0;function PD(){Tl.forEach(s=>j1(s.content,s.options)),Tl=[]}var BD=(s,{containerId:t})=>{var e;return(e=vn.get(t||1))==null?void 0:e.toasts.get(s)};function F1(s,t){var e;if(t)return!!((e=vn.get(t))!=null&&e.isToastActive(s));let n=!1;return vn.forEach(r=>{r.isToastActive(s)&&(n=!0)}),n}function FD(s){if(!B1()){Tl=Tl.filter(t=>s!=null&&t.options.toastId!==s);return}if(s==null||TD(s))vn.forEach(t=>{t.removeToast(s)});else if(s&&("containerId"in s||"id"in s)){let t=vn.get(s.containerId);t?t.removeToast(s.id):vn.forEach(e=>{e.removeToast(s.id)})}}var jD=(s={})=>{vn.forEach(t=>{t.props.limit&&(!s.containerId||t.id===s.containerId)&&t.clearQueue()})};function j1(s,t){eg(s)&&(B1()||Tl.push({content:s,options:t}),vn.forEach(e=>{e.buildToast(s,t)}))}function ID(s){var t;(t=vn.get(s.containerId||1))==null||t.setToggle(s.id,s.fn)}function I1(s,t){vn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===e.id)&&e.toggle(s,t?.id)})}function zD(s){let t=s.containerId||1;return{subscribe(e){let n=LD(t,s,ND);vn.set(t,n);let r=n.observe(e);return PD(),()=>{r(),vn.delete(t)}},setProps(e){var n;(n=vn.get(t))==null||n.setProps(e)},getSnapshot(){var e;return(e=vn.get(t))==null?void 0:e.getSnapshot()}}}function UD(s){return ng.add(s),()=>{ng.delete(s)}}function HD(s){return s&&(Br(s.toastId)||Hl(s.toastId))?s.toastId:P1()}function Vl(s,t){return j1(s,t),t.toastId}function Ed(s,t){return{...t,type:t&&t.type||s,toastId:HD(t)}}function xd(s){return(t,e)=>Vl(t,Ed(s,e))}function ie(s,t){return Vl(s,Ed("default",t))}ie.loading=(s,t)=>Vl(s,Ed("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function VD(s,{pending:t,error:e,success:n},r){let o;t&&(o=Br(t)?ie.loading(t,r):ie.loading(t.render,{...r,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,p,m)=>{if(p==null){ie.dismiss(o);return}let v={type:f,...l,...r,data:m},b=Br(p)?{render:p}:p;return o?ie.update(o,{...v,...b}):ie(b.render,{...v,...b}),m},d=ps(s)?s():s;return d.then(f=>u("success",n,f)).catch(f=>u("error",e,f)),d}ie.promise=VD;ie.success=xd("success");ie.info=xd("info");ie.error=xd("error");ie.warning=xd("warning");ie.warn=ie.warning;ie.dark=(s,t)=>Vl(s,Ed("default",{theme:"dark",...t}));function $D(s){FD(s)}ie.dismiss=$D;ie.clearWaitingQueue=jD;ie.isActive=F1;ie.update=(s,t={})=>{let e=BD(s,t);if(e){let{props:n,content:r}=e,o={delay:100,...n,...t,toastId:t.toastId||s,updateId:P1()};o.toastId!==s&&(o.staleId=s);let l=o.render||r;delete o.render,Vl(l,o)}};ie.done=s=>{ie.update(s,{progress:1})};ie.onChange=UD;ie.play=s=>I1(!0,s);ie.pause=s=>I1(!1,s);function qD(s){var t;let{subscribe:e,getSnapshot:n,setProps:r}=z.useRef(zD(s)).current;r(s);let o=(t=z.useSyncExternalStore(e,n,n))==null?void 0:t.slice();function l(u){if(!o)return[];let d=new Map;return s.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:p}=f.props;d.has(p)||d.set(p,[]),d.get(p).push(f)}),Array.from(d,f=>u(f[0],f[1]))}return{getToastToRender:l,isToastActive:F1,count:o?.length}}function GD(s){let[t,e]=z.useState(!1),[n,r]=z.useState(!1),o=z.useRef(null),l=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:f,onClick:p,closeOnClick:m}=s;ID({id:s.toastId,containerId:s.containerId,fn:e}),z.useEffect(()=>{if(s.pauseOnFocusLoss)return v(),()=>{b()}},[s.pauseOnFocusLoss]);function v(){document.hasFocus()||A(),window.addEventListener("focus",x),window.addEventListener("blur",A)}function b(){window.removeEventListener("focus",x),window.removeEventListener("blur",A)}function w(O){if(s.draggable===!0||s.draggable===O.pointerType){C();let N=o.current;l.canCloseOnClick=!0,l.canDrag=!0,N.style.transition="none",s.draggableDirection==="x"?(l.start=O.clientX,l.removalDistance=N.offsetWidth*(s.draggablePercent/100)):(l.start=O.clientY,l.removalDistance=N.offsetHeight*(s.draggablePercent===80?s.draggablePercent*1.5:s.draggablePercent)/100)}}function _(O){let{top:N,bottom:P,left:L,right:U}=o.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&s.pauseOnHover&&O.clientX>=L&&O.clientX<=U&&O.clientY>=N&&O.clientY<=P?A():x()}function x(){e(!0)}function A(){e(!1)}function C(){l.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",T)}function M(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",T)}function j(O){let N=o.current;if(l.canDrag&&N){l.didMove=!0,t&&A(),s.draggableDirection==="x"?l.delta=O.clientX-l.start:l.delta=O.clientY-l.start,l.start!==O.clientX&&(l.canCloseOnClick=!1);let P=s.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;N.style.transform=`translate3d(${P},0)`,N.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function T(){M();let O=o.current;if(l.canDrag&&l.didMove&&O){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),s.closeToast(!0),s.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let D={onPointerDown:w,onPointerUp:_};return u&&d&&(D.onMouseEnter=A,s.stacked||(D.onMouseLeave=x)),m&&(D.onClick=O=>{p&&p(O),l.canCloseOnClick&&f(!0)}),{playToast:x,pauseToast:A,isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:D}}var XD=typeof window<"u"?z.useLayoutEffect:z.useEffect,Td=({theme:s,type:t,isLoading:e,...n})=>zt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function YD(s){return zt.createElement(Td,{...s},zt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function WD(s){return zt.createElement(Td,{...s},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function KD(s){return zt.createElement(Td,{...s},zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ZD(s){return zt.createElement(Td,{...s},zt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function QD(){return zt.createElement("div",{className:"Toastify__spinner"})}var ig={info:WD,warning:YD,success:KD,error:ZD,spinner:QD},JD=s=>s in ig;function tk({theme:s,type:t,isLoading:e,icon:n}){let r=null,o={theme:s,type:t};return n===!1||(ps(n)?r=n({...o,isLoading:e}):z.isValidElement(n)?r=z.cloneElement(n,o):e?r=ig.spinner():JD(t)&&(r=ig[t](o))),r}var ek=s=>{let{isRunning:t,preventExitTransition:e,toastRef:n,eventHandlers:r,playToast:o}=GD(s),{closeButton:l,children:u,autoClose:d,onClick:f,type:p,hideProgressBar:m,closeToast:v,transition:b,position:w,className:_,style:x,progressClassName:A,updateId:C,role:M,progress:j,rtl:T,toastId:D,deleteToast:O,isIn:N,isLoading:P,closeOnClick:L,theme:U,ariaLabel:X}=s,H=mi("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":L}),W=ps(_)?_({rtl:T,position:w,type:p,defaultClassName:H}):mi(H,_),J=tk(s),I=!!j||!d,E={closeToast:v,type:p,theme:U},rt=null;return l===!1||(ps(l)?rt=l(E):z.isValidElement(l)?rt=z.cloneElement(l,E):rt=MD(E)),zt.createElement(b,{isIn:N,done:O,position:w,preventExitTransition:e,nodeRef:n,playToast:o},zt.createElement("div",{id:D,tabIndex:0,onClick:f,"data-in":N,className:W,...r,style:x,ref:n,...N&&{role:M,"aria-label":X}},J!=null&&zt.createElement("div",{className:mi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!P})},J),N1(u,s,!t),rt,!s.customProgressBar&&zt.createElement(DD,{...C&&!I?{key:`p-${C}`}:{},rtl:T,theme:U,delay:d,isRunning:t,isIn:N,closeToast:v,hide:m,type:p,className:A,controlledProgress:I,progress:j||0})))},nk=(s,t=!1)=>({enter:`Toastify--animate Toastify__${s}-enter`,exit:`Toastify--animate Toastify__${s}-exit`,appendPosition:t}),ik=OD(nk("bounce",!0)),sk={position:"top-right",transition:ik,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:s=>s.altKey&&s.code==="KeyT"};function rk(s){let t={...sk,...s},e=s.stacked,[n,r]=z.useState(!0),o=z.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=qD(t),{className:f,style:p,rtl:m,containerId:v,hotKeys:b}=t;function w(x){let A=mi("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":m});return ps(f)?f({position:x,rtl:m,defaultClassName:A}):mi(A,tg(f))}function _(){e&&(r(!0),ie.play())}return XD(()=>{var x;if(e){let A=o.current.querySelectorAll('[data-in="true"]'),C=12,M=(x=t.position)==null?void 0:x.includes("top"),j=0,T=0;Array.from(A).reverse().forEach((D,O)=>{let N=D;N.classList.add("Toastify__toast--stacked"),O>0&&(N.dataset.collapsed=`${n}`),N.dataset.pos||(N.dataset.pos=M?"top":"bot");let P=j*(n?.2:1)+(n?0:C*O);N.style.setProperty("--y",`${M?P:P*-1}px`),N.style.setProperty("--g",`${C}`),N.style.setProperty("--s",`${1-(n?T:0)}`),j+=N.offsetHeight,T+=.025})}},[n,d,e]),z.useEffect(()=>{function x(A){var C;let M=o.current;b(A)&&((C=M.querySelector('[tabIndex="0"]'))==null||C.focus(),r(!1),ie.pause()),A.key==="Escape"&&(document.activeElement===M||M!=null&&M.contains(document.activeElement))&&(r(!0),ie.play())}return document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}},[b]),zt.createElement("section",{ref:o,className:"Toastify",id:v,onMouseEnter:()=>{e&&(r(!1),ie.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((x,A)=>{let C=A.length?{...p}:{...p,pointerEvents:"none"};return zt.createElement("div",{tabIndex:-1,className:w(x),"data-stacked":e,style:C,key:`c-${x}`},A.map(({content:M,props:j})=>zt.createElement(ek,{...j,stacked:e,collapseAll:_,isIn:u(j.toastId,j.containerId),key:`t-${j.key}`},M)))}))}var $l=s=>s.type==="checkbox",xr=s=>s instanceof Date,mn=s=>s==null;const z1=s=>typeof s=="object";var Ie=s=>!mn(s)&&!Array.isArray(s)&&z1(s)&&!xr(s),ak=s=>Ie(s)&&s.target?$l(s.target)?s.target.checked:s.target.value:s,ok=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,lk=(s,t)=>s.has(ok(t)),ck=s=>{const t=s.constructor&&s.constructor.prototype;return Ie(t)&&t.hasOwnProperty("isPrototypeOf")},zg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ge(s){let t;const e=Array.isArray(s),n=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(!(zg&&(s instanceof Blob||n))&&(e||Ie(s)))if(t=e?[]:Object.create(Object.getPrototypeOf(s)),!e&&!ck(s))t=s;else for(const r in s)s.hasOwnProperty(r)&&(t[r]=Ge(s[r]));else return s;return t}var Cd=s=>/^\w*$/.test(s),je=s=>s===void 0,Ug=s=>Array.isArray(s)?s.filter(Boolean):[],Hg=s=>Ug(s.replace(/["|']|\]/g,"").split(/\.|\[/)),Ct=(s,t,e)=>{if(!t||!Ie(s))return e;const n=(Cd(t)?[t]:Hg(t)).reduce((r,o)=>mn(r)?r:r[o],s);return je(n)||n===s?je(s[t])?e:s[t]:n},Fi=s=>typeof s=="boolean",fe=(s,t,e)=>{let n=-1;const r=Cd(t)?[t]:Hg(t),o=r.length,l=o-1;for(;++n<o;){const u=r[n];let d=e;if(n!==l){const f=s[u];d=Ie(f)||Array.isArray(f)?f:isNaN(+r[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;s[u]=d,s=s[u]}};const i_={BLUR:"blur",FOCUS_OUT:"focusout"},fi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uk=zt.createContext(null);uk.displayName="HookFormContext";var dk=(s,t,e,n=!0)=>{const r={defaultValues:t._defaultValues};for(const o in s)Object.defineProperty(r,o,{get:()=>{const l=o;return t._proxyFormState[l]!==fi.all&&(t._proxyFormState[l]=!n||fi.all),s[l]}});return r};const hk=typeof window<"u"?zt.useLayoutEffect:zt.useEffect;var Vn=s=>typeof s=="string",fk=(s,t,e,n,r)=>Vn(s)?(n&&t.watch.add(s),Ct(e,s,r)):Array.isArray(s)?s.map(o=>(n&&t.watch.add(o),Ct(e,o))):(n&&(t.watchAll=!0),e),sg=s=>mn(s)||!z1(s);function Vs(s,t,e=new WeakSet){if(sg(s)||sg(t))return s===t;if(xr(s)&&xr(t))return s.getTime()===t.getTime();const n=Object.keys(s),r=Object.keys(t);if(n.length!==r.length)return!1;if(e.has(s)||e.has(t))return!0;e.add(s),e.add(t);for(const o of n){const l=s[o];if(!r.includes(o))return!1;if(o!=="ref"){const u=t[o];if(xr(l)&&xr(u)||Ie(l)&&Ie(u)||Array.isArray(l)&&Array.isArray(u)?!Vs(l,u,e):l!==u)return!1}}return!0}var U1=(s,t,e,n,r)=>t?{...e[s],types:{...e[s]&&e[s].types?e[s].types:{},[n]:r||!0}}:{},bl=s=>Array.isArray(s)?s:[s],s_=()=>{let s=[];return{get observers(){return s},next:r=>{for(const o of s)o.next&&o.next(r)},subscribe:r=>(s.push(r),{unsubscribe:()=>{s=s.filter(o=>o!==r)}}),unsubscribe:()=>{s=[]}}};function H1(s,t){const e={};for(const n in s)if(s.hasOwnProperty(n)){const r=s[n],o=t[n];if(r&&Ie(r)&&o){const l=H1(r,o);Ie(l)&&(e[n]=l)}else s[n]&&(e[n]=o)}return e}var On=s=>Ie(s)&&!Object.keys(s).length,Vg=s=>s.type==="file",pi=s=>typeof s=="function",ed=s=>{if(!zg)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},V1=s=>s.type==="select-multiple",$g=s=>s.type==="radio",pk=s=>$g(s)||$l(s),yp=s=>ed(s)&&s.isConnected;function gk(s,t){const e=t.slice(0,-1).length;let n=0;for(;n<e;)s=je(s)?n++:s[t[n++]];return s}function mk(s){for(const t in s)if(s.hasOwnProperty(t)&&!je(s[t]))return!1;return!0}function Fe(s,t){const e=Array.isArray(t)?t:Cd(t)?[t]:Hg(t),n=e.length===1?s:gk(s,e),r=e.length-1,o=e[r];return n&&delete n[o],r!==0&&(Ie(n)&&On(n)||Array.isArray(n)&&mk(n))&&Fe(s,e.slice(0,-1)),s}var yk=s=>{for(const t in s)if(pi(s[t]))return!0;return!1};function $1(s){return Array.isArray(s)||Ie(s)&&!yk(s)}function rg(s,t={}){for(const e in s)$1(s[e])?(t[e]=Array.isArray(s[e])?[]:{},rg(s[e],t[e])):mn(s[e])||(t[e]=!0);return t}function ka(s,t,e){e||(e=rg(t));for(const n in s)$1(s[n])?je(t)||sg(e[n])?e[n]=rg(s[n],Array.isArray(s[n])?[]:{}):ka(s[n],mn(t)?{}:t[n],e[n]):e[n]=!Vs(s[n],t[n]);return e}const r_={value:!1,isValid:!1},a_={value:!0,isValid:!0};var q1=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!je(s[0].attributes.value)?je(s[0].value)||s[0].value===""?a_:{value:s[0].value,isValid:!0}:a_:r_}return r_},G1=(s,{valueAsNumber:t,valueAsDate:e,setValueAs:n})=>je(s)?s:t?s===""?NaN:s&&+s:e&&Vn(s)?new Date(s):n?n(s):s;const o_={isValid:!1,value:null};var X1=s=>Array.isArray(s)?s.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,o_):o_;function l_(s){const t=s.ref;return Vg(t)?t.files:$g(t)?X1(s.refs).value:V1(t)?[...t.selectedOptions].map(({value:e})=>e):$l(t)?q1(s.refs).value:G1(je(t.value)?s.ref.value:t.value,s)}var vk=(s,t,e,n)=>{const r={};for(const o of s){const l=Ct(t,o);l&&fe(r,o,l._f)}return{criteriaMode:e,names:[...s],fields:r,shouldUseNativeValidation:n}},nd=s=>s instanceof RegExp,il=s=>je(s)?s:nd(s)?s.source:Ie(s)?nd(s.value)?s.value.source:s.value:s,c_=s=>({isOnSubmit:!s||s===fi.onSubmit,isOnBlur:s===fi.onBlur,isOnChange:s===fi.onChange,isOnAll:s===fi.all,isOnTouch:s===fi.onTouched});const u_="AsyncFunction";var bk=s=>!!s&&!!s.validate&&!!(pi(s.validate)&&s.validate.constructor.name===u_||Ie(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===u_)),_k=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),d_=(s,t,e)=>!e&&(t.watchAll||t.watch.has(s)||[...t.watch].some(n=>s.startsWith(n)&&/^\.\w+/.test(s.slice(n.length))));const _l=(s,t,e,n)=>{for(const r of e||Object.keys(s)){const o=Ct(s,r);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],r)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(_l(u,t))break}else if(Ie(u)&&_l(u,t))break}}};function h_(s,t,e){const n=Ct(s,e);if(n||Cd(e))return{error:n,name:e};const r=e.split(".");for(;r.length;){const o=r.join("."),l=Ct(t,o),u=Ct(s,o);if(l&&!Array.isArray(l)&&e!==o)return{name:e};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};r.pop()}return{name:e}}var Sk=(s,t,e,n)=>{e(s);const{name:r,...o}=s;return On(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(l=>t[l]===(!n||fi.all))},wk=(s,t,e)=>!s||!t||s===t||bl(s).some(n=>n&&(e?n===t:n.startsWith(t)||t.startsWith(n))),Ak=(s,t,e,n,r)=>r.isOnAll?!1:!e&&r.isOnTouch?!(t||s):(e?n.isOnBlur:r.isOnBlur)?!s:(e?n.isOnChange:r.isOnChange)?s:!0,Ek=(s,t)=>!Ug(Ct(s,t)).length&&Fe(s,t),xk=(s,t,e)=>{const n=bl(Ct(s,e));return fe(n,"root",t[e]),fe(s,e,n),s};function f_(s,t,e="validate"){if(Vn(s)||Array.isArray(s)&&s.every(Vn)||Fi(s)&&!s)return{type:e,message:Vn(s)?s:"",ref:t}}var Oa=s=>Ie(s)&&!nd(s)?s:{value:s,message:""},p_=async(s,t,e,n,r,o)=>{const{ref:l,refs:u,required:d,maxLength:f,minLength:p,min:m,max:v,pattern:b,validate:w,name:_,valueAsNumber:x,mount:A}=s._f,C=Ct(e,_);if(!A||t.has(_))return{};const M=u?u[0]:l,j=X=>{r&&M.reportValidity&&(M.setCustomValidity(Fi(X)?"":X||""),M.reportValidity())},T={},D=$g(l),O=$l(l),N=D||O,P=(x||Vg(l))&&je(l.value)&&je(C)||ed(l)&&l.value===""||C===""||Array.isArray(C)&&!C.length,L=U1.bind(null,_,n,T),U=(X,H,W,J=rs.maxLength,I=rs.minLength)=>{const E=X?H:W;T[_]={type:X?J:I,message:E,ref:l,...L(X?J:I,E)}};if(o?!Array.isArray(C)||!C.length:d&&(!N&&(P||mn(C))||Fi(C)&&!C||O&&!q1(u).isValid||D&&!X1(u).isValid)){const{value:X,message:H}=Vn(d)?{value:!!d,message:d}:Oa(d);if(X&&(T[_]={type:rs.required,message:H,ref:M,...L(rs.required,H)},!n))return j(H),T}if(!P&&(!mn(m)||!mn(v))){let X,H;const W=Oa(v),J=Oa(m);if(!mn(C)&&!isNaN(C)){const I=l.valueAsNumber||C&&+C;mn(W.value)||(X=I>W.value),mn(J.value)||(H=I<J.value)}else{const I=l.valueAsDate||new Date(C),E=S=>new Date(new Date().toDateString()+" "+S),rt=l.type=="time",V=l.type=="week";Vn(W.value)&&C&&(X=rt?E(C)>E(W.value):V?C>W.value:I>new Date(W.value)),Vn(J.value)&&C&&(H=rt?E(C)<E(J.value):V?C<J.value:I<new Date(J.value))}if((X||H)&&(U(!!X,W.message,J.message,rs.max,rs.min),!n))return j(T[_].message),T}if((f||p)&&!P&&(Vn(C)||o&&Array.isArray(C))){const X=Oa(f),H=Oa(p),W=!mn(X.value)&&C.length>+X.value,J=!mn(H.value)&&C.length<+H.value;if((W||J)&&(U(W,X.message,H.message),!n))return j(T[_].message),T}if(b&&!P&&Vn(C)){const{value:X,message:H}=Oa(b);if(nd(X)&&!C.match(X)&&(T[_]={type:rs.pattern,message:H,ref:l,...L(rs.pattern,H)},!n))return j(H),T}if(w){if(pi(w)){const X=await w(C,e),H=f_(X,M);if(H&&(T[_]={...H,...L(rs.validate,H.message)},!n))return j(H.message),T}else if(Ie(w)){let X={};for(const H in w){if(!On(X)&&!n)break;const W=f_(await w[H](C,e),M,H);W&&(X={...W,...L(H,W.message)},j(W.message),n&&(T[_]=X))}if(!On(X)&&(T[_]={ref:M,...X},!n))return T}}return j(!0),T};const Tk={mode:fi.onSubmit,reValidateMode:fi.onChange,shouldFocusError:!0};function Ck(s={}){let t={...Tk,...s},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:pi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},r=Ie(t.defaultValues)||Ie(t.values)?Ge(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Ge(r),l={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const v={array:s_(),state:s_()},b=t.criteriaMode===fi.all,w=G=>Q=>{clearTimeout(f),f=setTimeout(G,Q)},_=async G=>{if(!t.disabled&&(p.isValid||m.isValid||G)){const Q=t.resolver?On((await O()).errors):await P(n,!0);Q!==e.isValid&&v.state.next({isValid:Q})}},x=(G,Q)=>{!t.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&((G||Array.from(u.mount)).forEach(lt=>{lt&&(Q?fe(e.validatingFields,lt,Q):Fe(e.validatingFields,lt))}),v.state.next({validatingFields:e.validatingFields,isValidating:!On(e.validatingFields)}))},A=(G,Q=[],lt,mt,gt=!0,pt=!0)=>{if(mt&&lt&&!t.disabled){if(l.action=!0,pt&&Array.isArray(Ct(n,G))){const xt=lt(Ct(n,G),mt.argA,mt.argB);gt&&fe(n,G,xt)}if(pt&&Array.isArray(Ct(e.errors,G))){const xt=lt(Ct(e.errors,G),mt.argA,mt.argB);gt&&fe(e.errors,G,xt),Ek(e.errors,G)}if((p.touchedFields||m.touchedFields)&&pt&&Array.isArray(Ct(e.touchedFields,G))){const xt=lt(Ct(e.touchedFields,G),mt.argA,mt.argB);gt&&fe(e.touchedFields,G,xt)}(p.dirtyFields||m.dirtyFields)&&(e.dirtyFields=ka(r,o)),v.state.next({name:G,isDirty:U(G,Q),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else fe(o,G,Q)},C=(G,Q)=>{fe(e.errors,G,Q),v.state.next({errors:e.errors})},M=G=>{e.errors=G,v.state.next({errors:e.errors,isValid:!1})},j=(G,Q,lt,mt)=>{const gt=Ct(n,G);if(gt){const pt=Ct(o,G,je(lt)?Ct(r,G):lt);je(pt)||mt&&mt.defaultChecked||Q?fe(o,G,Q?pt:l_(gt._f)):W(G,pt),l.mount&&_()}},T=(G,Q,lt,mt,gt)=>{let pt=!1,xt=!1;const Rt={name:G};if(!t.disabled){if(!lt||mt){(p.isDirty||m.isDirty)&&(xt=e.isDirty,e.isDirty=Rt.isDirty=U(),pt=xt!==Rt.isDirty);const Bt=Vs(Ct(r,G),Q);xt=!!Ct(e.dirtyFields,G),Bt?Fe(e.dirtyFields,G):fe(e.dirtyFields,G,!0),Rt.dirtyFields=e.dirtyFields,pt=pt||(p.dirtyFields||m.dirtyFields)&&xt!==!Bt}if(lt){const Bt=Ct(e.touchedFields,G);Bt||(fe(e.touchedFields,G,lt),Rt.touchedFields=e.touchedFields,pt=pt||(p.touchedFields||m.touchedFields)&&Bt!==lt)}pt&&gt&&v.state.next(Rt)}return pt?Rt:{}},D=(G,Q,lt,mt)=>{const gt=Ct(e.errors,G),pt=(p.isValid||m.isValid)&&Fi(Q)&&e.isValid!==Q;if(t.delayError&&lt?(d=w(()=>C(G,lt)),d(t.delayError)):(clearTimeout(f),d=null,lt?fe(e.errors,G,lt):Fe(e.errors,G)),(lt?!Vs(gt,lt):gt)||!On(mt)||pt){const xt={...mt,...pt&&Fi(Q)?{isValid:Q}:{},errors:e.errors,name:G};e={...e,...xt},v.state.next(xt)}},O=async G=>{x(G,!0);const Q=await t.resolver(o,t.context,vk(G||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(G),Q},N=async G=>{const{errors:Q}=await O(G);if(G)for(const lt of G){const mt=Ct(Q,lt);mt?fe(e.errors,lt,mt):Fe(e.errors,lt)}else e.errors=Q;return Q},P=async(G,Q,lt={valid:!0})=>{for(const mt in G){const gt=G[mt];if(gt){const{_f:pt,...xt}=gt;if(pt){const Rt=u.array.has(pt.name),Bt=gt._f&&bk(gt._f);Bt&&p.validatingFields&&x([pt.name],!0);const Qt=await p_(gt,u.disabled,o,b,t.shouldUseNativeValidation&&!Q,Rt);if(Bt&&p.validatingFields&&x([pt.name]),Qt[pt.name]&&(lt.valid=!1,Q))break;!Q&&(Ct(Qt,pt.name)?Rt?xk(e.errors,Qt,pt.name):fe(e.errors,pt.name,Qt[pt.name]):Fe(e.errors,pt.name))}!On(xt)&&await P(xt,Q,lt)}}return lt.valid},L=()=>{for(const G of u.unMount){const Q=Ct(n,G);Q&&(Q._f.refs?Q._f.refs.every(lt=>!yp(lt)):!yp(Q._f.ref))&&dt(G)}u.unMount=new Set},U=(G,Q)=>!t.disabled&&(G&&Q&&fe(o,G,Q),!Vs(S(),r)),X=(G,Q,lt)=>fk(G,u,{...l.mount?o:je(Q)?r:Vn(G)?{[G]:Q}:Q},lt,Q),H=G=>Ug(Ct(l.mount?o:r,G,t.shouldUnregister?Ct(r,G,[]):[])),W=(G,Q,lt={})=>{const mt=Ct(n,G);let gt=Q;if(mt){const pt=mt._f;pt&&(!pt.disabled&&fe(o,G,G1(Q,pt)),gt=ed(pt.ref)&&mn(Q)?"":Q,V1(pt.ref)?[...pt.ref.options].forEach(xt=>xt.selected=gt.includes(xt.value)):pt.refs?$l(pt.ref)?pt.refs.forEach(xt=>{(!xt.defaultChecked||!xt.disabled)&&(Array.isArray(gt)?xt.checked=!!gt.find(Rt=>Rt===xt.value):xt.checked=gt===xt.value||!!gt)}):pt.refs.forEach(xt=>xt.checked=xt.value===gt):Vg(pt.ref)?pt.ref.value="":(pt.ref.value=gt,pt.ref.type||v.state.next({name:G,values:Ge(o)})))}(lt.shouldDirty||lt.shouldTouch)&&T(G,gt,lt.shouldTouch,lt.shouldDirty,!0),lt.shouldValidate&&V(G)},J=(G,Q,lt)=>{for(const mt in Q){if(!Q.hasOwnProperty(mt))return;const gt=Q[mt],pt=G+"."+mt,xt=Ct(n,pt);(u.array.has(G)||Ie(gt)||xt&&!xt._f)&&!xr(gt)?J(pt,gt,lt):W(pt,gt,lt)}},I=(G,Q,lt={})=>{const mt=Ct(n,G),gt=u.array.has(G),pt=Ge(Q);fe(o,G,pt),gt?(v.array.next({name:G,values:Ge(o)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&lt.shouldDirty&&v.state.next({name:G,dirtyFields:ka(r,o),isDirty:U(G,pt)})):mt&&!mt._f&&!mn(pt)?J(G,pt,lt):W(G,pt,lt),d_(G,u)&&v.state.next({...e,name:G}),v.state.next({name:l.mount?G:void 0,values:Ge(o)})},E=async G=>{l.mount=!0;const Q=G.target;let lt=Q.name,mt=!0;const gt=Ct(n,lt),pt=Bt=>{mt=Number.isNaN(Bt)||xr(Bt)&&isNaN(Bt.getTime())||Vs(Bt,Ct(o,lt,Bt))},xt=c_(t.mode),Rt=c_(t.reValidateMode);if(gt){let Bt,Qt;const Ei=Q.type?l_(gt._f):ak(G),xi=G.type===i_.BLUR||G.type===i_.FOCUS_OUT,zd=!_k(gt._f)&&!t.resolver&&!Ct(e.errors,lt)&&!gt._f.deps||Ak(xi,Ct(e.touchedFields,lt),e.isSubmitted,Rt,xt),ys=d_(lt,u,xi);fe(o,lt,Ei),xi?(!Q||!Q.readOnly)&&(gt._f.onBlur&&gt._f.onBlur(G),d&&d(0)):gt._f.onChange&&gt._f.onChange(G);const vs=T(lt,Ei,xi),Hi=!On(vs)||ys;if(!xi&&v.state.next({name:lt,type:G.type,values:Ge(o)}),zd)return(p.isValid||m.isValid)&&(t.mode==="onBlur"?xi&&_():xi||_()),Hi&&v.state.next({name:lt,...ys?{}:vs});if(!xi&&ys&&v.state.next({...e}),t.resolver){const{errors:Qs}=await O([lt]);if(pt(Ei),mt){const Js=h_(e.errors,n,lt),ec=h_(Qs,n,Js.name||lt);Bt=ec.error,lt=ec.name,Qt=On(Qs)}}else x([lt],!0),Bt=(await p_(gt,u.disabled,o,b,t.shouldUseNativeValidation))[lt],x([lt]),pt(Ei),mt&&(Bt?Qt=!1:(p.isValid||m.isValid)&&(Qt=await P(n,!0)));mt&&(gt._f.deps&&(!Array.isArray(gt._f.deps)||gt._f.deps.length>0)&&V(gt._f.deps),D(lt,Qt,Bt,vs))}},rt=(G,Q)=>{if(Ct(e.errors,Q)&&G.focus)return G.focus(),1},V=async(G,Q={})=>{let lt,mt;const gt=bl(G);if(t.resolver){const pt=await N(je(G)?G:gt);lt=On(pt),mt=G?!gt.some(xt=>Ct(pt,xt)):lt}else G?(mt=(await Promise.all(gt.map(async pt=>{const xt=Ct(n,pt);return await P(xt&&xt._f?{[pt]:xt}:xt)}))).every(Boolean),!(!mt&&!e.isValid)&&_()):mt=lt=await P(n);return v.state.next({...!Vn(G)||(p.isValid||m.isValid)&&lt!==e.isValid?{}:{name:G},...t.resolver||!G?{isValid:lt}:{},errors:e.errors}),Q.shouldFocus&&!mt&&_l(n,rt,G?gt:u.mount),mt},S=(G,Q)=>{let lt={...l.mount?o:r};return Q&&(lt=H1(Q.dirtyFields?e.dirtyFields:e.touchedFields,lt)),je(G)?lt:Vn(G)?Ct(lt,G):G.map(mt=>Ct(lt,mt))},F=(G,Q)=>({invalid:!!Ct((Q||e).errors,G),isDirty:!!Ct((Q||e).dirtyFields,G),error:Ct((Q||e).errors,G),isValidating:!!Ct(e.validatingFields,G),isTouched:!!Ct((Q||e).touchedFields,G)}),$=G=>{G&&bl(G).forEach(Q=>Fe(e.errors,Q)),v.state.next({errors:G?e.errors:{}})},K=(G,Q,lt)=>{const mt=(Ct(n,G,{_f:{}})._f||{}).ref,gt=Ct(e.errors,G)||{},{ref:pt,message:xt,type:Rt,...Bt}=gt;fe(e.errors,G,{...Bt,...Q,ref:mt}),v.state.next({name:G,errors:e.errors,isValid:!1}),lt&&lt.shouldFocus&&mt&&mt.focus&&mt.focus()},tt=(G,Q)=>pi(G)?v.state.subscribe({next:lt=>"values"in lt&&G(X(void 0,Q),lt)}):X(G,Q,!0),ct=G=>v.state.subscribe({next:Q=>{wk(G.name,Q.name,G.exact)&&Sk(Q,G.formState||p,Ot,G.reRenderRoot)&&G.callback({values:{...o},...e,...Q,defaultValues:r})}}).unsubscribe,at=G=>(l.mount=!0,m={...m,...G.formState},ct({...G,formState:m})),dt=(G,Q={})=>{for(const lt of G?bl(G):u.mount)u.mount.delete(lt),u.array.delete(lt),Q.keepValue||(Fe(n,lt),Fe(o,lt)),!Q.keepError&&Fe(e.errors,lt),!Q.keepDirty&&Fe(e.dirtyFields,lt),!Q.keepTouched&&Fe(e.touchedFields,lt),!Q.keepIsValidating&&Fe(e.validatingFields,lt),!t.shouldUnregister&&!Q.keepDefaultValue&&Fe(r,lt);v.state.next({values:Ge(o)}),v.state.next({...e,...Q.keepDirty?{isDirty:U()}:{}}),!Q.keepIsValid&&_()},yt=({disabled:G,name:Q})=>{(Fi(G)&&l.mount||G||u.disabled.has(Q))&&(G?u.disabled.add(Q):u.disabled.delete(Q))},Et=(G,Q={})=>{let lt=Ct(n,G);const mt=Fi(Q.disabled)||Fi(t.disabled);return fe(n,G,{...lt||{},_f:{...lt&&lt._f?lt._f:{ref:{name:G}},name:G,mount:!0,...Q}}),u.mount.add(G),lt?yt({disabled:Fi(Q.disabled)?Q.disabled:t.disabled,name:G}):j(G,!0,Q.value),{...mt?{disabled:Q.disabled||t.disabled}:{},...t.progressive?{required:!!Q.required,min:il(Q.min),max:il(Q.max),minLength:il(Q.minLength),maxLength:il(Q.maxLength),pattern:il(Q.pattern)}:{},name:G,onChange:E,onBlur:E,ref:gt=>{if(gt){Et(G,Q),lt=Ct(n,G);const pt=je(gt.value)&&gt.querySelectorAll&&gt.querySelectorAll("input,select,textarea")[0]||gt,xt=pk(pt),Rt=lt._f.refs||[];if(xt?Rt.find(Bt=>Bt===pt):pt===lt._f.ref)return;fe(n,G,{_f:{...lt._f,...xt?{refs:[...Rt.filter(yp),pt,...Array.isArray(Ct(r,G))?[{}]:[]],ref:{type:pt.type,name:G}}:{ref:pt}}}),j(G,!1,void 0,pt)}else lt=Ct(n,G,{}),lt._f&&(lt._f.mount=!1),(t.shouldUnregister||Q.shouldUnregister)&&!(lk(u.array,G)&&l.action)&&u.unMount.add(G)}}},St=()=>t.shouldFocusError&&_l(n,rt,u.mount),It=G=>{Fi(G)&&(v.state.next({disabled:G}),_l(n,(Q,lt)=>{const mt=Ct(n,lt);mt&&(Q.disabled=mt._f.disabled||G,Array.isArray(mt._f.refs)&&mt._f.refs.forEach(gt=>{gt.disabled=mt._f.disabled||G}))},0,!1))},jt=(G,Q)=>async lt=>{let mt;lt&&(lt.preventDefault&&lt.preventDefault(),lt.persist&&lt.persist());let gt=Ge(o);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:pt,values:xt}=await O();e.errors=pt,gt=Ge(xt)}else await P(n);if(u.disabled.size)for(const pt of u.disabled)Fe(gt,pt);if(Fe(e.errors,"root"),On(e.errors)){v.state.next({errors:{}});try{await G(gt,lt)}catch(pt){mt=pt}}else Q&&await Q({...e.errors},lt),St(),setTimeout(St);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(e.errors)&&!mt,submitCount:e.submitCount+1,errors:e.errors}),mt)throw mt},bt=(G,Q={})=>{Ct(n,G)&&(je(Q.defaultValue)?I(G,Ge(Ct(r,G))):(I(G,Q.defaultValue),fe(r,G,Ge(Q.defaultValue))),Q.keepTouched||Fe(e.touchedFields,G),Q.keepDirty||(Fe(e.dirtyFields,G),e.isDirty=Q.defaultValue?U(G,Ge(Ct(r,G))):U()),Q.keepError||(Fe(e.errors,G),p.isValid&&_()),v.state.next({...e}))},_t=(G,Q={})=>{const lt=G?Ge(G):r,mt=Ge(lt),gt=On(G),pt=gt?r:mt;if(Q.keepDefaultValues||(r=lt),!Q.keepValues){if(Q.keepDirtyValues){const xt=new Set([...u.mount,...Object.keys(ka(r,o))]);for(const Rt of Array.from(xt))Ct(e.dirtyFields,Rt)?fe(pt,Rt,Ct(o,Rt)):I(Rt,Ct(pt,Rt))}else{if(zg&&je(G))for(const xt of u.mount){const Rt=Ct(n,xt);if(Rt&&Rt._f){const Bt=Array.isArray(Rt._f.refs)?Rt._f.refs[0]:Rt._f.ref;if(ed(Bt)){const Qt=Bt.closest("form");if(Qt){Qt.reset();break}}}}if(Q.keepFieldsRef)for(const xt of u.mount)I(xt,Ct(pt,xt));else n={}}o=t.shouldUnregister?Q.keepDefaultValues?Ge(r):{}:Ge(pt),v.array.next({values:{...pt}}),v.state.next({values:{...pt}})}u={mount:Q.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,l.watch=!!t.shouldUnregister,v.state.next({submitCount:Q.keepSubmitCount?e.submitCount:0,isDirty:gt?!1:Q.keepDirty?e.isDirty:!!(Q.keepDefaultValues&&!Vs(G,r)),isSubmitted:Q.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:gt?{}:Q.keepDirtyValues?Q.keepDefaultValues&&o?ka(r,o):e.dirtyFields:Q.keepDefaultValues&&G?ka(r,G):Q.keepDirty?e.dirtyFields:{},touchedFields:Q.keepTouched?e.touchedFields:{},errors:Q.keepErrors?e.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Dt=(G,Q)=>_t(pi(G)?G(o):G,Q),Vt=(G,Q={})=>{const lt=Ct(n,G),mt=lt&&lt._f;if(mt){const gt=mt.refs?mt.refs[0]:mt.ref;gt.focus&&(gt.focus(),Q.shouldSelect&&pi(gt.select)&&gt.select())}},Ot=G=>{e={...e,...G}},oe={control:{register:Et,unregister:dt,getFieldState:F,handleSubmit:jt,setError:K,_subscribe:ct,_runSchema:O,_focusError:St,_getWatch:X,_getDirty:U,_setValid:_,_setFieldArray:A,_setDisabledField:yt,_setErrors:M,_getFieldArray:H,_reset:_t,_resetDefaultValues:()=>pi(t.defaultValues)&&t.defaultValues().then(G=>{Dt(G,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:It,_subjects:v,_proxyFormState:p,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(G){l=G},get _defaultValues(){return r},get _names(){return u},set _names(G){u=G},get _formState(){return e},get _options(){return t},set _options(G){t={...t,...G}}},subscribe:at,trigger:V,register:Et,handleSubmit:jt,watch:tt,setValue:I,getValues:S,reset:Dt,resetField:bt,clearErrors:$,unregister:dt,setError:K,setFocus:Vt,getFieldState:F};return{...oe,formControl:oe}}function Y1(s={}){const t=zt.useRef(void 0),e=zt.useRef(void 0),[n,r]=zt.useState({isDirty:!1,isValidating:!1,isLoading:pi(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:pi(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:n},s.defaultValues&&!pi(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:l,...u}=Ck(s);t.current={...u,formState:n}}const o=t.current.control;return o._options=s,hk(()=>{const l=o._subscribe({formState:o._proxyFormState,callback:()=>r({...o._formState}),reRenderRoot:!0});return r(u=>({...u,isReady:!0})),o._formState.isReady=!0,l},[o]),zt.useEffect(()=>o._disableForm(s.disabled),[o,s.disabled]),zt.useEffect(()=>{s.mode&&(o._options.mode=s.mode),s.reValidateMode&&(o._options.reValidateMode=s.reValidateMode)},[o,s.mode,s.reValidateMode]),zt.useEffect(()=>{s.errors&&(o._setErrors(s.errors),o._focusError())},[o,s.errors]),zt.useEffect(()=>{s.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,s.shouldUnregister]),zt.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),zt.useEffect(()=>{s.values&&!Vs(s.values,e.current)?(o._reset(s.values,{keepFieldsRef:!0,...o._options.resetOptions}),e.current=s.values,r(l=>({...l}))):o._resetDefaultValues()},[o,s.values]),zt.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=dk(n,o),t.current}var vp,g_;function Rk(){if(g_)return vp;g_=1;function s(A){this._maxSize=A,this.clear()}s.prototype.clear=function(){this._size=0,this._values=Object.create(null)},s.prototype.get=function(A){return this._values[A]},s.prototype.set=function(A,C){return this._size>=this._maxSize&&this.clear(),A in this._values||this._size++,this._values[A]=C};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,e=/^\d+$/,n=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,u=new s(l),d=new s(l),f=new s(l);vp={Cache:s,split:m,normalizePath:p,setter:function(A){var C=p(A);return d.get(A)||d.set(A,function(j,T){for(var D=0,O=C.length,N=j;D<O-1;){var P=C[D];if(P==="__proto__"||P==="constructor"||P==="prototype")return j;N=N[C[D++]]}N[C[D]]=T})},getter:function(A,C){var M=p(A);return f.get(A)||f.set(A,function(T){for(var D=0,O=M.length;D<O;)if(T!=null||!C)T=T[M[D++]];else return;return T})},join:function(A){return A.reduce(function(C,M){return C+(b(M)||e.test(M)?"["+M+"]":(C?".":"")+M)},"")},forEach:function(A,C,M){v(Array.isArray(A)?A:m(A),C,M)}};function p(A){return u.get(A)||u.set(A,m(A).map(function(C){return C.replace(o,"$2")}))}function m(A){return A.match(t)||[""]}function v(A,C,M){var j=A.length,T,D,O,N;for(D=0;D<j;D++)T=A[D],T&&(x(T)&&(T='"'+T+'"'),N=b(T),O=!N&&/^\d+$/.test(T),C.call(M,T,N,O,D,A))}function b(A){return typeof A=="string"&&A&&["'",'"'].indexOf(A.charAt(0))!==-1}function w(A){return A.match(n)&&!A.match(e)}function _(A){return r.test(A)}function x(A){return!b(A)&&(w(A)||_(A))}return vp}var kr=Rk(),bp,m_;function Ok(){if(m_)return bp;m_=1;const s=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=p=>p.match(s)||[],e=p=>p[0].toUpperCase()+p.slice(1),n=(p,m)=>t(p).join(m).toLowerCase(),r=p=>t(p).reduce((m,v)=>`${m}${m?v[0].toUpperCase()+v.slice(1).toLowerCase():v.toLowerCase()}`,"");return bp={words:t,upperFirst:e,camelCase:r,pascalCase:p=>e(r(p)),snakeCase:p=>n(p,"_"),kebabCase:p=>n(p,"-"),sentenceCase:p=>e(n(p," ")),titleCase:p=>t(p).map(e).join(" ")},bp}var _p=Ok(),vu={exports:{}},y_;function Mk(){if(y_)return vu.exports;y_=1,vu.exports=function(r){return s(t(r),r)},vu.exports.array=s;function s(r,o){var l=r.length,u=new Array(l),d={},f=l,p=e(o),m=n(r);for(o.forEach(function(b){if(!m.has(b[0])||!m.has(b[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});f--;)d[f]||v(r[f],f,new Set);return u;function v(b,w,_){if(_.has(b)){var x;try{x=", node was:"+JSON.stringify(b)}catch{x=""}throw new Error("Cyclic dependency"+x)}if(!m.has(b))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(b));if(!d[w]){d[w]=!0;var A=p.get(b)||new Set;if(A=Array.from(A),w=A.length){_.add(b);do{var C=A[--w];v(C,m.get(C),_)}while(w);_.delete(b)}u[--l]=b}}}function t(r){for(var o=new Set,l=0,u=r.length;l<u;l++){var d=r[l];o.add(d[0]),o.add(d[1])}return Array.from(o)}function e(r){for(var o=new Map,l=0,u=r.length;l<u;l++){var d=r[l];o.has(d[0])||o.set(d[0],new Set),o.has(d[1])||o.set(d[1],new Set),o.get(d[0]).add(d[1])}return o}function n(r){for(var o=new Map,l=0,u=r.length;l<u;l++)o.set(r[l],l);return o}return vu.exports}var Dk=Mk();const kk=hd(Dk),Lk=Object.prototype.toString,Nk=Error.prototype.toString,Pk=RegExp.prototype.toString,Bk=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Fk=/^Symbol\((.*)\)(.*)$/;function jk(s){return s!=+s?"NaN":s===0&&1/s<0?"-0":""+s}function v_(s,t=!1){if(s==null||s===!0||s===!1)return""+s;const e=typeof s;if(e==="number")return jk(s);if(e==="string")return t?`"${s}"`:s;if(e==="function")return"[Function "+(s.name||"anonymous")+"]";if(e==="symbol")return Bk.call(s).replace(Fk,"Symbol($1)");const n=Lk.call(s).slice(8,-1);return n==="Date"?isNaN(s.getTime())?""+s:s.toISOString(s):n==="Error"||s instanceof Error?"["+Nk.call(s)+"]":n==="RegExp"?Pk.call(s):null}function qs(s,t){let e=v_(s,t);return e!==null?e:JSON.stringify(s,function(n,r){let o=v_(this[n],t);return o!==null?o:r},2)}function W1(s){return s==null?[]:[].concat(s)}let K1,Z1,Q1,Ik=/\$\{\s*(\w+)\s*\}/g;K1=Symbol.toStringTag;class b_{constructor(t,e,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[K1]="Error",this.name="ValidationError",this.value=e,this.path=n,this.type=r,this.errors=[],this.inner=[],W1(t).forEach(o=>{if(yn.isError(o)){this.errors.push(...o.errors);const l=o.inner.length?o.inner:[o];this.inner.push(...l)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Z1=Symbol.hasInstance;Q1=Symbol.toStringTag;class yn extends Error{static formatError(t,e){const n=e.label||e.path||"this";return e=Object.assign({},e,{path:n,originalPath:e.path}),typeof t=="string"?t.replace(Ik,(r,o)=>qs(e[o])):typeof t=="function"?t(e):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,e,n,r,o){const l=new b_(t,e,n,r);if(o)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Q1]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,yn)}static[Z1](t){return b_[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let ji={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:s,type:t,value:e,originalValue:n})=>{const r=n!=null&&n!==e?` (cast from the value \`${qs(n,!0)}\`).`:".";return t!=="mixed"?`${s} must be a \`${t}\` type, but the final value was: \`${qs(e,!0)}\``+r:`${s} must match the configured type. The validated value was: \`${qs(e,!0)}\``+r}},Cn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},zk={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ag={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Uk={isValue:"${path} field must be ${value}"},ju={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Hk={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Vk={notType:s=>{const{path:t,value:e,spec:n}=s,r=n.types.length;if(Array.isArray(e)){if(e.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${e.length} for value: \`${qs(e,!0)}\``;if(e.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${e.length} for value: \`${qs(e,!0)}\``}return yn.formatError(ji.notType,s)}};Object.assign(Object.create(null),{mixed:ji,string:Cn,number:zk,date:ag,object:ju,array:Hk,boolean:Uk,tuple:Vk});const qg=s=>s&&s.__isYupSchema__;class id{static fromOptions(t,e){if(!e.then&&!e.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:o}=e,l=typeof n=="function"?n:(...u)=>u.every(d=>d===n);return new id(t,(u,d)=>{var f;let p=l(...u)?r:o;return(f=p?.(d))!=null?f:d})}constructor(t,e){this.fn=void 0,this.refs=t,this.refs=t,this.fn=e}resolve(t,e){let n=this.refs.map(o=>o.getValue(e?.value,e?.parent,e?.context)),r=this.fn(n,t,e);if(r===void 0||r===t)return t;if(!qg(r))throw new TypeError("conditions must return a schema object");return r.resolve(e)}}const bu={context:"$",value:"."};class zr{constructor(t,e={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===bu.context,this.isValue=this.key[0]===bu.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?bu.context:this.isValue?bu.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&kr.getter(this.path,!0),this.map=e.map}getValue(t,e,n){let r=this.isContext?n:this.isValue?t:e;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(t,e){return this.getValue(t,e?.parent,e?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}zr.prototype.__isYupRef=!0;const Tr=s=>s==null;function Ma(s){function t({value:e,path:n="",options:r,originalValue:o,schema:l},u,d){const{name:f,test:p,params:m,message:v,skipAbsent:b}=s;let{parent:w,context:_,abortEarly:x=l.spec.abortEarly,disableStackTrace:A=l.spec.disableStackTrace}=r;const C={value:e,parent:w,context:_};function M(U={}){const X=J1(Object.assign({value:e,originalValue:o,label:l.spec.label,path:U.path||n,spec:l.spec,disableStackTrace:U.disableStackTrace||A},m,U.params),C),H=new yn(yn.formatError(U.message||v,X),e,X.path,U.type||f,X.disableStackTrace);return H.params=X,H}const j=x?u:d;let T={path:n,parent:w,type:f,from:r.from,createError:M,resolve(U){return tw(U,C)},options:r,originalValue:o,schema:l};const D=U=>{yn.isError(U)?j(U):U?d(null):j(M())},O=U=>{yn.isError(U)?j(U):u(U)};if(b&&Tr(e))return D(!0);let P;try{var L;if(P=p.call(T,e,T),typeof((L=P)==null?void 0:L.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${T.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(D,O)}}catch(U){O(U);return}D(P)}return t.OPTIONS=s,t}function J1(s,t){if(!s)return s;for(const e of Object.keys(s))s[e]=tw(s[e],t);return s}function tw(s,t){return zr.isRef(s)?s.getValue(t.value,t.parent,t.context):s}function $k(s,t,e,n=e){let r,o,l;return t?(kr.forEach(t,(u,d,f)=>{let p=d?u.slice(1,u.length-1):u;s=s.resolve({context:n,parent:r,value:e});let m=s.type==="tuple",v=f?parseInt(p,10):0;if(s.innerType||m){if(m&&!f)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(e&&v>=e.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${u}, in the path: ${t}. because there is no value at that index. `);r=e,e=e&&e[v],s=m?s.spec.types[v]:s.innerType}if(!f){if(!s.fields||!s.fields[p])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${s.type}")`);r=e,e=e&&e[p],s=s.fields[p]}o=p,l=d?"["+u+"]":"."+u}),{schema:s,parent:r,parentPath:o}):{parent:r,parentPath:t,schema:s}}class sd extends Set{describe(){const t=[];for(const e of this.values())t.push(zr.isRef(e)?e.describe():e);return t}resolveAll(t){let e=[];for(const n of this.values())e.push(t(n));return e}clone(){return new sd(this.values())}merge(t,e){const n=this.clone();return t.forEach(r=>n.add(r)),e.forEach(r=>n.delete(r)),n}}function Pa(s,t=new Map){if(qg(s)||!s||typeof s!="object")return s;if(t.has(s))return t.get(s);let e;if(s instanceof Date)e=new Date(s.getTime()),t.set(s,e);else if(s instanceof RegExp)e=new RegExp(s),t.set(s,e);else if(Array.isArray(s)){e=new Array(s.length),t.set(s,e);for(let n=0;n<s.length;n++)e[n]=Pa(s[n],t)}else if(s instanceof Map){e=new Map,t.set(s,e);for(const[n,r]of s.entries())e.set(n,Pa(r,t))}else if(s instanceof Set){e=new Set,t.set(s,e);for(const n of s)e.add(Pa(n,t))}else if(s instanceof Object){e={},t.set(s,e);for(const[n,r]of Object.entries(s))e[n]=Pa(r,t)}else throw Error(`Unable to clone ${s}`);return e}function qk(s){if(!(s!=null&&s.length))return;const t=[];let e="",n=!1,r=!1;for(let o=0;o<s.length;o++){const l=s[o];if(l==="["&&!r){e&&(t.push(...e.split(".").filter(Boolean)),e=""),n=!0;continue}if(l==="]"&&!r){e&&(/^\d+$/.test(e)?t.push(e):t.push(e.replace(/^"|"$/g,"")),e=""),n=!1;continue}if(l==='"'){r=!r;continue}if(l==="."&&!n&&!r){e&&(t.push(e),e="");continue}e+=l}return e&&t.push(...e.split(".").filter(Boolean)),t}function Gk(s,t){const e=t?`${t}.${s.path}`:s.path;return s.errors.map(n=>({message:n,path:qk(e)}))}function ew(s,t){var e;if(!((e=s.inner)!=null&&e.length)&&s.errors.length)return Gk(s,t);const n=t?`${t}.${s.path}`:s.path;return s.inner.flatMap(r=>ew(r,n))}class vi{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new sd,this._blacklist=new sd,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ji.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t?.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const e=Object.create(Object.getPrototypeOf(this));return e.type=this.type,e._typeCheck=this._typeCheck,e._whitelist=this._whitelist.clone(),e._blacklist=this._blacklist.clone(),e.internalTests=Object.assign({},this.internalTests),e.exclusiveTests=Object.assign({},this.exclusiveTests),e.deps=[...this.deps],e.conditions=[...this.conditions],e.tests=[...this.tests],e.transforms=[...this.transforms],e.spec=Pa(Object.assign({},this.spec,t)),e}label(t){let e=this.clone();return e.spec.label=t,e}meta(...t){if(t.length===0)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},t[0]),e}withMutation(t){let e=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=e,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let e=this,n=t.clone();const r=Object.assign({},e.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},e.internalTests,n.internalTests),n._whitelist=e._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=e._blacklist.merge(t._blacklist,t._whitelist),n.tests=e.tests,n.exclusiveTests=e.exclusiveTests,n.withMutation(o=>{t.tests.forEach(l=>{o.test(l.OPTIONS)})}),n.transforms=[...e.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let e=this;if(e.conditions.length){let n=e.conditions;e=e.clone(),e.conditions=[],e=n.reduce((r,o)=>o.resolve(r,t),e),e=e.resolve(t)}return e}resolveOptions(t){var e,n,r,o;return Object.assign({},t,{from:t.from||[],strict:(e=t.strict)!=null?e:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(o=t.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(t,e={}){let n=this.resolve(Object.assign({},e,{value:t})),r=e.assert==="ignore-optionality",o=n._cast(t,e);if(e.assert!==!1&&!n.isType(o)){if(r&&Tr(o))return o;let l=qs(t),u=qs(o);throw new TypeError(`The value of ${e.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${l} 
`+(u!==l?`result of cast: ${u}`:""))}return o}_cast(t,e){let n=t===void 0?t:this.transforms.reduce((r,o)=>o.call(this,r,t,this,e),t);return n===void 0&&(n=this.getDefault(e)),n}_validate(t,e={},n,r){let{path:o,originalValue:l=t,strict:u=this.spec.strict}=e,d=t;u||(d=this._cast(d,Object.assign({assert:!1},e)));let f=[];for(let p of Object.values(this.internalTests))p&&f.push(p);this.runTests({path:o,value:d,originalValue:l,options:e,tests:f},n,p=>{if(p.length)return r(p,d);this.runTests({path:o,value:d,originalValue:l,options:e,tests:this.tests},n,r)})}runTests(t,e,n){let r=!1,{tests:o,value:l,originalValue:u,path:d,options:f}=t,p=_=>{r||(r=!0,e(_,l))},m=_=>{r||(r=!0,n(_,l))},v=o.length,b=[];if(!v)return m([]);let w={value:l,originalValue:u,path:d,options:f,schema:this};for(let _=0;_<o.length;_++){const x=o[_];x(w,p,function(C){C&&(Array.isArray(C)?b.push(...C):b.push(C)),--v<=0&&m(b)})}}asNestedTest({key:t,index:e,parent:n,parentPath:r,originalParent:o,options:l}){const u=t??e;if(u==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof u=="number";let f=n[u];const p=Object.assign({},l,{strict:!0,parent:n,value:f,originalValue:o[u],key:void 0,[d?"index":"key"]:u,path:d||u.includes(".")?`${r||""}[${d?u:`"${u}"`}]`:(r?`${r}.`:"")+t});return(m,v,b)=>this.resolve(p)._validate(f,p,v,b)}validate(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),o=(n=e?.disableStackTrace)!=null?n:r.spec.disableStackTrace;return new Promise((l,u)=>r._validate(t,e,(d,f)=>{yn.isError(d)&&(d.value=f),u(d)},(d,f)=>{d.length?u(new yn(d,f,void 0,void 0,o)):l(f)}))}validateSync(t,e){var n;let r=this.resolve(Object.assign({},e,{value:t})),o,l=(n=e?.disableStackTrace)!=null?n:r.spec.disableStackTrace;return r._validate(t,Object.assign({},e,{sync:!0}),(u,d)=>{throw yn.isError(u)&&(u.value=d),u},(u,d)=>{if(u.length)throw new yn(u,t,void 0,void 0,l);o=d}),o}isValid(t,e){return this.validate(t,e).then(()=>!0,n=>{if(yn.isError(n))return!1;throw n})}isValidSync(t,e){try{return this.validateSync(t,e),!0}catch(n){if(yn.isError(n))return!1;throw n}}_getDefault(t){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this,t):Pa(e)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,e){const n=this.clone({nullable:t});return n.internalTests.nullable=Ma({message:e,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),n}optionality(t,e){const n=this.clone({optional:t});return n.internalTests.optionality=Ma({message:e,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=ji.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=ji.notNull){return this.nullability(!1,t)}required(t=ji.required){return this.clone().withMutation(e=>e.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let e=this.clone();return e.transforms.push(t),e}test(...t){let e;if(t.length===1?typeof t[0]=="function"?e={test:t[0]}:e=t[0]:t.length===2?e={name:t[0],test:t[1]}:e={name:t[0],message:t[1],test:t[2]},e.message===void 0&&(e.message=ji.default),typeof e.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),r=Ma(e),o=e.exclusive||e.name&&n.exclusiveTests[e.name]===!0;if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(n.exclusiveTests[e.name]=!!e.exclusive),n.tests=n.tests.filter(l=>!(l.OPTIONS.name===e.name&&(o||l.OPTIONS.test===r.OPTIONS.test))),n.tests.push(r),n}when(t,e){!Array.isArray(t)&&typeof t!="string"&&(e=t,t=".");let n=this.clone(),r=W1(t).map(o=>new zr(o));return r.forEach(o=>{o.isSibling&&n.deps.push(o.key)}),n.conditions.push(typeof e=="function"?new id(r,e):id.fromOptions(r,e)),n}typeError(t){let e=this.clone();return e.internalTests.typeError=Ma({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),e}oneOf(t,e=ji.oneOf){let n=this.clone();return t.forEach(r=>{n._whitelist.add(r),n._blacklist.delete(r)}),n.internalTests.whiteList=Ma({message:e,name:"oneOf",skipAbsent:!0,test(r){let o=this.schema._whitelist,l=o.resolveAll(this.resolve);return l.includes(r)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:l}})}}),n}notOneOf(t,e=ji.notOneOf){let n=this.clone();return t.forEach(r=>{n._blacklist.add(r),n._whitelist.delete(r)}),n.internalTests.blacklist=Ma({message:e,name:"notOneOf",test(r){let o=this.schema._blacklist,l=o.resolveAll(this.resolve);return l.includes(r)?this.createError({params:{values:Array.from(o).join(", "),resolved:l}}):!0}}),n}strip(t=!0){let e=this.clone();return e.spec.strip=t,e}describe(t){const e=(t?this.resolve(t):this).clone(),{label:n,meta:r,optional:o,nullable:l}=e.spec;return{meta:r,label:n,optional:o,nullable:l,default:e.getDefault(t),type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.filter((d,f,p)=>p.findIndex(m=>m.OPTIONS.name===d.OPTIONS.name)===f).map(d=>{const f=d.OPTIONS.params&&t?J1(Object.assign({},d.OPTIONS.params),t):d.OPTIONS.params;return{name:d.OPTIONS.name,params:f}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await t.validate(n,{abortEarly:!1})}}catch(r){if(r instanceof yn)return{issues:ew(r)};throw r}}}}}vi.prototype.__isYupSchema__=!0;for(const s of["validate","validateSync"])vi.prototype[`${s}At`]=function(t,e,n={}){const{parent:r,parentPath:o,schema:l}=$k(this,t,e,n.context);return l[s](r&&r[o],Object.assign({},n,{parent:r,path:t}))};for(const s of["equals","is"])vi.prototype[s]=vi.prototype.oneOf;for(const s of["not","nope"])vi.prototype[s]=vi.prototype.notOneOf;const Xk=()=>!0;function nw(s){return new iw(s)}class iw extends vi{constructor(t){super(typeof t=="function"?{type:"mixed",check:t}:Object.assign({type:"mixed",check:Xk},t))}}nw.prototype=iw.prototype;const Yk=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Wk(s){const t=og(s);if(!t)return Date.parse?Date.parse(s):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let e=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(e=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(e=0-e)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+e,t.second,t.millisecond)}function og(s){var t,e;const n=Yk.exec(s);return n?{year:as(n[1]),month:as(n[2],1)-1,day:as(n[3],1),hour:as(n[4]),minute:as(n[5]),second:as(n[6]),millisecond:n[7]?as(n[7].substring(0,3)):0,precision:(t=(e=n[7])==null?void 0:e.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:as(n[10]),minuteOffset:as(n[11])}:null}function as(s,t=0){return Number(s)||t}let Kk=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Zk=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Qk=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Jk="^\\d{4}-\\d{2}-\\d{2}",tL="\\d{2}:\\d{2}:\\d{2}",eL="(([+-]\\d{2}(:?\\d{2})?)|Z)",nL=new RegExp(`${Jk}T${tL}(\\.\\d+)?${eL}$`),iL=s=>Tr(s)||s===s.trim(),sL={}.toString();function ds(){return new sw}class sw extends vi{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,e)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===sL?t:n})})}required(t){return super.required(t).withMutation(e=>e.test({message:t||ji.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(e=>e.OPTIONS.name!=="required"),t))}length(t,e=Cn.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,e=Cn.min){return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,e=Cn.max){return this.test({name:"max",exclusive:!0,message:e,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,e){let n=!1,r,o;return e&&(typeof e=="object"?{excludeEmptyString:n=!1,message:r,name:o}=e:r=e),this.test({name:o||"matches",message:r||Cn.matches,params:{regex:t},skipAbsent:!0,test:l=>l===""&&n||l.search(t)!==-1})}email(t=Cn.email){return this.matches(Kk,{name:"email",message:t,excludeEmptyString:!0})}url(t=Cn.url){return this.matches(Zk,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=Cn.uuid){return this.matches(Qk,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let e="",n,r;return t&&(typeof t=="object"?{message:e="",allowOffset:n=!1,precision:r=void 0}=t:e=t),this.matches(nL,{name:"datetime",message:e||Cn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:e||Cn.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:o=>{if(!o||n)return!0;const l=og(o);return l?!!l.z:!1}}).test({name:"datetime_precision",message:e||Cn.datetime_precision,params:{precision:r},skipAbsent:!0,test:o=>{if(!o||r==null)return!0;const l=og(o);return l?l.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=Cn.trim){return this.transform(e=>e!=null?e.trim():e).test({message:t,name:"trim",test:iL})}lowercase(t=Cn.lowercase){return this.transform(e=>Tr(e)?e:e.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Tr(e)||e===e.toLowerCase()})}uppercase(t=Cn.uppercase){return this.transform(e=>Tr(e)?e:e.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Tr(e)||e===e.toUpperCase()})}}ds.prototype=sw.prototype;let rL=new Date(""),aL=s=>Object.prototype.toString.call(s)==="[object Date]";class Gg extends vi{constructor(){super({type:"date",check(t){return aL(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,e)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=Wk(t),isNaN(t)?Gg.INVALID_DATE:new Date(t)))})}prepareParam(t,e){let n;if(zr.isRef(t))n=t;else{let r=this.cast(t);if(!this._typeCheck(r))throw new TypeError(`\`${e}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(t,e=ag.min){let n=this.prepareParam(t,"min");return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(n)}})}max(t,e=ag.max){let n=this.prepareParam(t,"max");return this.test({message:e,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(n)}})}}Gg.INVALID_DATE=rL;function oL(s,t=[]){let e=[],n=new Set,r=new Set(t.map(([l,u])=>`${l}-${u}`));function o(l,u){let d=kr.split(l)[0];n.add(d),r.has(`${u}-${d}`)||e.push([u,d])}for(const l of Object.keys(s)){let u=s[l];n.add(l),zr.isRef(u)&&u.isSibling?o(u.path,l):qg(u)&&"deps"in u&&u.deps.forEach(d=>o(d,l))}return kk.array(Array.from(n),e).reverse()}function __(s,t){let e=1/0;return s.some((n,r)=>{var o;if((o=t.path)!=null&&o.includes(n))return e=r,!0}),e}function rw(s){return(t,e)=>__(s,t)-__(s,e)}const lL=(s,t,e)=>{if(typeof s!="string")return s;let n=s;try{n=JSON.parse(s)}catch{}return e.isType(n)?n:s};function Iu(s){if("fields"in s){const t={};for(const[e,n]of Object.entries(s.fields))t[e]=Iu(n);return s.setFields(t)}if(s.type==="array"){const t=s.optional();return t.innerType&&(t.innerType=Iu(t.innerType)),t}return s.type==="tuple"?s.optional().clone({types:s.spec.types.map(Iu)}):"optional"in s?s.optional():s}const cL=(s,t)=>{const e=[...kr.normalizePath(t)];if(e.length===1)return e[0]in s;let n=e.pop(),r=kr.getter(kr.join(e),!0)(s);return!!(r&&n in r)};let S_=s=>Object.prototype.toString.call(s)==="[object Object]";function w_(s,t){let e=Object.keys(s.fields);return Object.keys(t).filter(n=>e.indexOf(n)===-1)}const uL=rw([]);function Rd(s){return new aw(s)}class aw extends vi{constructor(t){super({type:"object",check(e){return S_(e)||typeof e=="function"}}),this.fields=Object.create(null),this._sortErrors=uL,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,e={}){var n;let r=super._cast(t,e);if(r===void 0)return this.getDefault(e);if(!this._typeCheck(r))return r;let o=this.fields,l=(n=e.stripUnknown)!=null?n:this.spec.noUnknown,u=[].concat(this._nodes,Object.keys(r).filter(m=>!this._nodes.includes(m))),d={},f=Object.assign({},e,{parent:d,__validating:e.__validating||!1}),p=!1;for(const m of u){let v=o[m],b=m in r,w=r[m];if(v){let _;f.path=(e.path?`${e.path}.`:"")+m,v=v.resolve({value:w,context:e.context,parent:d});let x=v instanceof vi?v.spec:void 0,A=x?.strict;if(x!=null&&x.strip){p=p||m in r;continue}_=!e.__validating||!A?v.cast(w,f):w,_!==void 0&&(d[m]=_)}else b&&!l&&(d[m]=w);(b!==m in d||d[m]!==w)&&(p=!0)}return p?d:r}_validate(t,e={},n,r){let{from:o=[],originalValue:l=t,recursive:u=this.spec.recursive}=e;e.from=[{schema:this,value:l},...o],e.__validating=!0,e.originalValue=l,super._validate(t,e,n,(d,f)=>{if(!u||!S_(f)){r(d,f);return}l=l||f;let p=[];for(let m of this._nodes){let v=this.fields[m];!v||zr.isRef(v)||p.push(v.asNestedTest({options:e,key:m,parent:f,parentPath:e.path,originalParent:l}))}this.runTests({tests:p,value:f,originalValue:l,options:e},n,m=>{r(m.sort(this._sortErrors).concat(d),f)})})}clone(t){const e=super.clone(t);return e.fields=Object.assign({},this.fields),e._nodes=this._nodes,e._excludedEdges=this._excludedEdges,e._sortErrors=this._sortErrors,e}concat(t){let e=super.concat(t),n=e.fields;for(let[r,o]of Object.entries(this.fields)){const l=n[r];n[r]=l===void 0?o:l}return e.withMutation(r=>r.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let e={};return this._nodes.forEach(n=>{var r;const o=this.fields[n];let l=t;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[n]})),e[n]=o&&"getDefault"in o?o.getDefault(l):void 0}),e}setFields(t,e){let n=this.clone();return n.fields=t,n._nodes=oL(t,e),n._sortErrors=rw(Object.keys(t)),e&&(n._excludedEdges=e),n}shape(t,e=[]){return this.clone().withMutation(n=>{let r=n._excludedEdges;return e.length&&(Array.isArray(e[0])||(e=[e]),r=[...n._excludedEdges,...e]),n.setFields(Object.assign(n.fields,t),r)})}partial(){const t={};for(const[e,n]of Object.entries(this.fields))t[e]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return Iu(this)}pick(t){const e={};for(const n of t)this.fields[n]&&(e[n]=this.fields[n]);return this.setFields(e,this._excludedEdges.filter(([n,r])=>t.includes(n)&&t.includes(r)))}omit(t){const e=[];for(const n of Object.keys(this.fields))t.includes(n)||e.push(n);return this.pick(e)}from(t,e,n){let r=kr.getter(t,!0);return this.transform(o=>{if(!o)return o;let l=o;return cL(o,t)&&(l=Object.assign({},o),n||delete l[t],l[e]=r(o)),l})}json(){return this.transform(lL)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||ju.exact,test(e){if(e==null)return!0;const n=w_(this.schema,e);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,e=ju.noUnknown){typeof t!="boolean"&&(e=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:e,test(r){if(r==null)return!0;const o=w_(this.schema,r);return!t||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,e=ju.noUnknown){return this.noUnknown(!t,e)}transformKeys(t){return this.transform(e=>{if(!e)return e;const n={};for(const r of Object.keys(e))n[t(r)]=e[r];return n})}camelCase(){return this.transformKeys(_p.camelCase)}snakeCase(){return this.transformKeys(_p.snakeCase)}constantCase(){return this.transformKeys(t=>_p.snakeCase(t).toUpperCase())}describe(t){const e=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[o,l]of Object.entries(e.fields)){var r;let u=t;(r=u)!=null&&r.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[o]})),n.fields[o]=l.describe(u)}return n}}Rd.prototype=aw.prototype;const dL=Rd().shape({name:ds().required("Name is required").matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:ds().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',s=>(s.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',s=>{const t=s.indexOf("@");return s.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:ds().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format").required("Password is required")}),hL=Rd().shape({email:ds().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',s=>(s.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',s=>{const t=s.indexOf("@");return s.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:ds().required("Password is required").min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});Rd().shape({avatar:nw(),name:ds().matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:ds().test("has-one-at-symbol",'Email must contain exactly one "@" symbol',s=>(s.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',s=>{const t=s.indexOf("@");return s.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:ds().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});const ow={validationLoginSchema:hL,validationRegistrSchema:dL},A_=(s,t,e)=>{if(s&&"reportValidity"in s){const n=Ct(e,t);s.setCustomValidity(n&&n.message||""),s.reportValidity()}},lw=(s,t)=>{for(const e in t.fields){const n=t.fields[e];n&&n.ref&&"reportValidity"in n.ref?A_(n.ref,e,s):n&&n.refs&&n.refs.forEach(r=>A_(r,e,s))}},fL=(s,t)=>{t.shouldUseNativeValidation&&lw(s,t);const e={};for(const n in s){const r=Ct(t.fields,n),o=Object.assign(s[n]||{},{ref:r&&r.ref});if(pL(t.names||Object.keys(s),n)){const l=Object.assign({},Ct(e,n));fe(l,"root",o),fe(e,n,l)}else fe(e,n,o)}return e},pL=(s,t)=>{const e=E_(t);return s.some(n=>E_(n).match(`^${e}\\.\\d+`))};function E_(s){return s.replace(/\]|\[/g,"")}function cw(s,t,e){return e===void 0&&(e={}),function(n,r,o){try{return Promise.resolve((function(l,u){try{var d=(t?.context,Promise.resolve(s[e.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},t,{context:r}))).then(function(f){return o.shouldUseNativeValidation&&lw({},o),{values:e.raw?Object.assign({},n):f,errors:{}}}))}catch(f){return u(f)}return d&&d.then?d.then(void 0,u):d})(0,function(l){if(!l.inner)throw l;return{values:{},errors:fL((u=l,d=!o.shouldUseNativeValidation&&o.criteriaMode==="all",(u.inner||[]).reduce(function(f,p){if(f[p.path]||(f[p.path]={message:p.message,type:p.type}),d){var m=f[p.path].types,v=m&&m[p.type];f[p.path]=U1(p.path,d,f,p.type,v?[].concat(v,p.message):p.message)}return f},{})),o)};var u,d}))}catch(l){return Promise.reject(l)}}}const gL="_form_1vazc_1",mL="_inputGroup_1vazc_9",yL="_label_1vazc_16",vL="_inputContainer_1vazc_22",bL="_input_1vazc_9",_L="_iconLeft_1vazc_46",SL="_iconRight_1vazc_55",wL="_icon_1vazc_46",AL="_error_1vazc_73",EL="_optionsRow_1vazc_79",xL="_remember_1vazc_87",TL="_link_1vazc_93",CL="_button_1vazc_102",Pe={form:gL,inputGroup:mL,label:yL,inputContainer:vL,input:bL,iconLeft:_L,iconRight:SL,icon:wL,error:AL,optionsRow:EL,remember:xL,link:TL,button:CL},RL=({onSubmit:s,loading:t})=>{const{register:e,handleSubmit:n,formState:{errors:r}}=Y1({resolver:cw(ow.validationLoginSchema)}),[o,l]=z.useState(!1),u=()=>l(!o);return k.jsxs("form",{className:Pe.form,onSubmit:n(s),noValidate:!0,children:[k.jsxs("div",{className:Pe.inputGroup,children:[k.jsx("label",{htmlFor:"email",className:Pe.label,children:"Email Address"}),k.jsxs("div",{className:Pe.inputContainer,children:[k.jsx(M1,{className:Pe.iconLeft}),k.jsx("input",{id:"email",className:Pe.input,...e("email"),type:"email",placeholder:"your.email@example.com"})]}),r.email&&k.jsx("p",{className:Pe.error,children:r.email.message})]}),k.jsxs("div",{className:Pe.inputGroup,children:[k.jsx("label",{htmlFor:"password",className:Pe.label,children:"Password"}),k.jsxs("div",{className:Pe.inputContainer,children:[k.jsx(k1,{className:Pe.iconLeft}),k.jsx("input",{id:"password",className:Pe.input,...e("password"),type:o?"text":"password",placeholder:"Enter your password"}),k.jsx("div",{className:Pe.iconRight,onClick:u,children:o?k.jsx(Ig,{className:Pe.icon}):k.jsx(D1,{className:Pe.icon})})]}),r.password&&k.jsx("p",{className:Pe.error,children:r.password.message})]}),k.jsxs("div",{className:Pe.optionsRow,children:[k.jsxs("label",{className:Pe.remember,children:[k.jsx("input",{type:"checkbox"})," Remember me"]}),k.jsx("a",{href:"/forgot-password",className:Pe.link,children:"Forgot password?"})]}),k.jsx("button",{className:Pe.button,type:"submit",children:t?k.jsx(jg,{size:20,color:"#fff"}):"Sign in"})]})},OL="_form_z4fvl_1",ML="_inputGroup_z4fvl_9",DL="_label_z4fvl_16",kL="_inputContainer_z4fvl_22",LL="_input_z4fvl_9",NL="_iconLeft_z4fvl_46",PL="_iconRight_z4fvl_55",BL="_icon_z4fvl_46",FL="_error_z4fvl_73",jL="_button_z4fvl_79",Ae={form:OL,inputGroup:ML,label:DL,inputContainer:kL,input:LL,iconLeft:NL,iconRight:PL,icon:BL,error:FL,button:jL},IL=({onSubmit:s,loading:t})=>{const{register:e,handleSubmit:n,formState:{errors:r}}=Y1({resolver:cw(ow.validationRegistrSchema)}),[o,l]=z.useState(!1),[u,d]=z.useState(""),f=()=>l(!o),p=m=>d(m.target.value);return k.jsxs("form",{className:Ae.form,onSubmit:n(m=>s(m)),noValidate:!0,children:[k.jsxs("div",{className:Ae.inputGroup,children:[k.jsx("label",{htmlFor:"name",className:Ae.label,children:"Full Name"}),k.jsxs("div",{className:Ae.inputContainer,children:[k.jsx(ED,{className:Ae.iconLeft}),k.jsx("input",{id:"name",className:Ae.input,...e("name",{required:!0}),type:"text",placeholder:"Enter your name"})]}),r.name&&k.jsx("p",{className:Ae.error,children:r.name.message})]}),k.jsxs("div",{className:Ae.inputGroup,children:[k.jsx("label",{htmlFor:"email",className:Ae.label,children:"Email Address"}),k.jsxs("div",{className:Ae.inputContainer,children:[k.jsx(M1,{className:Ae.iconLeft}),k.jsx("input",{id:"email",className:Ae.input,...e("email",{required:!0}),type:"email",placeholder:"your.email@example.com"})]}),r.email&&k.jsx("p",{className:Ae.error,children:r.email.message})]}),k.jsxs("div",{className:Ae.inputGroup,children:[k.jsx("label",{htmlFor:"password",className:Ae.label,children:"Password"}),k.jsxs("div",{className:Ae.inputContainer,children:[k.jsx(k1,{className:Ae.iconLeft}),k.jsx("input",{id:"password",className:Ae.input,...e("password",{required:!0}),value:u,onChange:p,type:o?"text":"password",placeholder:"Create a password"}),k.jsx("div",{className:Ae.iconRight,onClick:f,children:o?k.jsx(Ig,{className:Ae.icon}):k.jsx(D1,{className:Ae.icon})})]}),r.password&&k.jsx("p",{className:Ae.error,children:r.password.message})]}),k.jsx("button",{className:Ae.button,type:"submit",children:t?k.jsx(jg,{size:20,color:"#fff"}):"Register"})]})},x_=()=>{const s=Mg(),t=Nl(),{isLoggedIn:e,loading:n}=Bl(d=>d.auth),[r,o]=z.useState(!0),l=async d=>{await s(vl(d));try{s(vl(d)).unwrap(),ie.success(" Login successful!")}catch(f){ie.error(f||" Login failed. Please try again.")}},u=async d=>{try{await s(Bu(d)).unwrap(),ie.success(" Registration successful!")}catch(f){ie.error(f||" Registration failed. Please try again.")}};return z.useEffect(()=>{e&&t("/")},[e,t]),k.jsx("div",{className:ci.pageWrapper,children:k.jsxs("div",{className:ci.card,children:[k.jsxs("div",{className:ci.header,children:[k.jsx("div",{className:ci.iconCircle,children:k.jsx(AD,{className:ci.icon})}),k.jsx("h2",{className:ci.title,children:r?"Welcome Back":"Create Account"}),k.jsx("p",{className:ci.subtitle,children:r?"Sign in to continue your learning journey":"Join Study Buddy and start learning today"})]}),k.jsx("div",{className:ci.formContainer,children:r?k.jsx(RL,{onSubmit:l,loading:n}):k.jsx(IL,{onSubmit:u,loading:n})}),k.jsx("div",{className:ci.toggleText,children:r?k.jsxs("p",{children:["Dont have an account?"," ",k.jsx("button",{onClick:()=>o(!1),className:ci.toggleButton,children:"Register"})]}):k.jsxs("p",{children:["Already have an account?"," ",k.jsx("button",{onClick:()=>o(!0),className:ci.toggleButton,children:"Log In"})]})})]})})},zL="_container_z3xf8_1",UL="_card_z3xf8_9",HL="_header_z3xf8_23",VL="_tag_z3xf8_30",$L="_iconBox_z3xf8_39",qL="_content_z3xf8_47",GL="_question_z3xf8_57",XL="_answer_z3xf8_63",YL="_showBtn_z3xf8_73",WL="_icon_z3xf8_39",KL="_nav_z3xf8_96",ZL="_navBtn_z3xf8_102",QL="_next_z3xf8_126",cn={container:zL,card:UL,header:HL,tag:VL,iconBox:$L,content:qL,question:GL,answer:XL,showBtn:YL,icon:WL,nav:KL,navBtn:ZL,next:QL},JL=({cards:s=[],onFinish:t})=>{const[e,n]=z.useState(0),[r,o]=z.useState(!1),l=s[e],u=()=>{e<s.length-1?(n(f=>f+1),o(!1)):t?.()},d=()=>{e>0&&(n(f=>f-1),o(!1))};return k.jsxs("div",{className:cn.container,children:[k.jsxs("div",{className:cn.card,children:[k.jsxs("div",{className:cn.header,children:[k.jsx("span",{className:cn.tag,children:l.topic}),k.jsx("span",{className:cn.tag,children:l.difficulty}),k.jsx("div",{className:cn.iconBox,children:""})]}),k.jsxs("div",{className:cn.content,children:[r?k.jsx("p",{className:cn.answer,children:l.answer}):k.jsx("h2",{className:cn.question,children:l.question}),!r&&k.jsxs("button",{className:cn.showBtn,onClick:()=>o(!0),children:[k.jsx(Ig,{className:cn.icon}),"Show Answer"]})]})]}),k.jsxs("div",{className:cn.nav,children:[k.jsxs("button",{className:`${cn.navBtn} ${cn.prev}`,onClick:d,disabled:e===0,children:[k.jsx(SD,{}),"Previous"]}),k.jsxs("button",{className:`${cn.navBtn} ${cn.next}`,onClick:u,children:["Next",k.jsx(wD,{})]})]})]})},tN="_sidebar_1rr94_1",eN="_open_1rr94_16",nN="_header_1rr94_20",iN="_title_1rr94_27",sN="_closeBtn_1rr94_33",rN="_list_1rr94_44",aN="_item_1rr94_52",oN="_itemHeader_1rr94_56",lN="_active_1rr94_72",cN="_features_1rr94_78",uN="_featureItem_1rr94_84",dN="_icon_1rr94_100",hN="_footer_1rr94_105",fN="_addFileBtn_1rr94_113",Tn={sidebar:tN,open:eN,header:nN,title:iN,closeBtn:sN,list:rN,item:aN,itemHeader:oN,active:lN,features:cN,featureItem:uN,icon:dN,footer:hN,addFileBtn:fN},pN=[{name:"Notes",icon:""},{name:"Flashcards",icon:""},{name:"AI Buddy",icon:""},{name:"Quiz",icon:""}],gN=({modules:s,isOpen:t,onClose:e,onFeatureSelect:n,onAddFile:r})=>{const[o,l]=z.useState(null),u=d=>{l(o===d?null:d)};return k.jsxs("div",{className:`${Tn.sidebar} ${t?Tn.open:""}`,children:[k.jsxs("div",{className:Tn.header,children:[k.jsx("h2",{className:Tn.title,children:"Files"}),k.jsx("button",{className:Tn.closeBtn,onClick:e,children:""})]}),k.jsx("ul",{className:Tn.list,children:s.map((d,f)=>k.jsxs("li",{className:Tn.item,children:[k.jsxs("div",{className:`${Tn.itemHeader} ${o===f?Tn.active:""}`,onClick:()=>u(f),children:[k.jsxs("span",{children:[f+1,". ",d.title]}),o===f?k.jsx(YO,{size:18}):k.jsx(KO,{size:18})]}),o===f&&k.jsx("ul",{className:Tn.features,children:pN.map((p,m)=>k.jsxs("li",{className:Tn.featureItem,onClick:()=>n(d,p.name),children:[k.jsx("span",{className:Tn.icon,children:p.icon}),p.name]},m))})]},f))}),k.jsx("div",{className:Tn.footer,children:k.jsxs("button",{className:Tn.addFileBtn,onClick:r,children:[k.jsx(tM,{size:18}),"Add more files"]})})]})},mN="_workspace_17d2c_1",yN="_layoutWrapper_17d2c_8",vN="_main_17d2c_23",bN="_sidebarOpen_17d2c_61",_u={workspace:mN,layoutWrapper:yN,main:vN,sidebarOpen:bN},_N=({children:s,modules:t=[],onFeatureSelect:e,selectedModuleId:n,onFilesAdded:r})=>{const[o,l]=z.useState(!0),[u,d]=z.useState(!1),f=()=>d(!1),p=m=>{r&&r(m),d(!1)};return k.jsxs("div",{className:`${_u.workspace} ${o?_u.sidebarOpen:""}`,children:[k.jsx(Zu,{onMenuClick:()=>l(m=>!m),hasSidebar:!0}),k.jsxs("div",{className:_u.layoutWrapper,children:[k.jsx(gN,{modules:t,isOpen:o,onClose:()=>l(!1),onFeatureSelect:e,onAddFile:()=>d(!0)}),k.jsx("main",{className:_u.main,children:s}),k.jsx(T1,{isOpen:u,onClose:f,moduleId:n,onCreate:p,mode:"upload"})]})]})},SN="_container_15s6i_1",wN="_card_15s6i_6",AN="_header_15s6i_17",EN="_tag_15s6i_23",xN="_mode_15s6i_31",TN="_question_15s6i_38",CN="_options_15s6i_44",RN="_option_15s6i_44",ON="_selected_15s6i_71",MN="_actions_15s6i_76",DN="_button_15s6i_82",kN="_prev_15s6i_98",pn={container:SN,card:wN,header:AN,tag:EN,mode:xN,question:TN,options:CN,option:RN,selected:ON,actions:MN,button:DN,prev:kN},LN=({questions:s=[],onSubmit:t})=>{const[e,n]=z.useState(0),[r,o]=z.useState({}),l=s[e],u=(m,v)=>{o(b=>({...b,[m]:v}))},d=()=>{e<s.length-1&&n(m=>m+1)},f=()=>{e>0&&n(m=>m-1)},p=()=>{t?.(r)};return k.jsx("div",{className:pn.container,children:k.jsxs("div",{className:pn.card,children:[k.jsxs("div",{className:pn.header,children:[k.jsx("span",{className:pn.tag,children:l.topic}),k.jsx("span",{className:pn.tag,children:l.difficulty}),k.jsx("span",{className:pn.mode,children:" MCQ"})]}),k.jsx("h2",{className:pn.question,children:l.question}),k.jsx("div",{className:pn.options,children:l.options.map((m,v)=>k.jsxs("label",{className:`${pn.option} ${r[l.id]===m?pn.selected:""}`,children:[k.jsx("input",{type:"radio",name:l.id,value:m,checked:r[l.id]===m,onChange:()=>u(l.id,m)}),k.jsx("span",{children:m})]},v))}),k.jsxs("div",{className:pn.actions,children:[k.jsx("button",{onClick:f,className:`${pn.button} ${pn.prev}`,disabled:e===0,children:"Previous"}),e===s.length-1?k.jsx("button",{className:pn.button,onClick:p,children:"Submit"}):k.jsx("button",{className:pn.button,onClick:d,children:"Next"})]})]})})};async function NN(s){try{const t=await gi.get(`/files/modules/${s}`);return console.log("Response from getFileUrl:",t.data),t.data}catch(t){throw console.error(" Failed to fetch file URL:",t),new Error("Failed to fetch file URL")}}const PN="_wrapper_p409d_1",BN="_chatContainer_p409d_9",FN="_title_p409d_19",jN="_chatBox_p409d_28",IN="_inputArea_p409d_70",zN="_input_p409d_70",UN="_sendBtn_p409d_85",yr={wrapper:PN,chatContainer:BN,title:FN,chatBox:jN,inputArea:IN,input:zN,sendBtn:UN},HN="_message_wt4w6_1",VN="_avatar_wt4w6_7",$N="_text_wt4w6_11",sl={message:HN,avatar:VN,text:$N},T_=({sender:s,text:t})=>{const e=s==="user";return k.jsxs("div",{className:`${sl.message} ${e?sl.userMsg:sl.botMsg}`,children:[k.jsx("div",{className:sl.avatar,children:e?"":""}),k.jsx("div",{className:sl.text,children:t})]})},qN=({externalId:s})=>{const[t,e]=z.useState([]),[n,r]=z.useState(""),[o,l]=z.useState(!1),u=async d=>{if(d.preventDefault(),!n.trim())return;const f={sender:"user",text:n};e(p=>[...p,f]),r(""),l(!0);try{const m={sender:"bot",text:(await Fg.post("/ask",{question:n,file_ids:[s]})).data?.answer||"No answer returned."};e(v=>[...v,m])}catch(p){console.error("Chat request failed:",p),e(m=>[...m,{sender:"bot",text:" Sorry, something went wrong."}])}finally{l(!1)}};return k.jsx("div",{className:yr.wrapper,children:k.jsxs("div",{className:yr.chatContainer,children:[k.jsx("h2",{className:yr.title,children:"AI Tutor"}),k.jsxs("div",{className:yr.chatBox,children:[t.map((d,f)=>k.jsx(T_,{sender:d.sender,text:d.text},f)),o&&k.jsx(T_,{sender:"bot",text:"Thinking..."})]}),k.jsxs("form",{onSubmit:u,className:yr.inputArea,children:[k.jsx("input",{type:"text",placeholder:"Ask about your uploaded notes...",value:n,onChange:d=>r(d.target.value),className:yr.input,disabled:o}),k.jsx("button",{type:"submit",className:yr.sendBtn,disabled:o||!s,title:s?"Send message":"Select a file first",children:""})]})]})})},GN="_studySpaceContainer_bpnll_1",C_={studySpaceContainer:GN},gn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),lg=[.001,0,0,.001,0,0],Sp=1.35,zn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ui={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Cl="pdfjs_internal_editor_",Ut={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Zt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},uw={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},en={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Sl={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},De={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},La={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ql={ERRORS:0,WARNINGS:1,INFOS:5},Ga={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Su={moveTo:0,lineTo:1,curveTo:2,closePath:3},dw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Od=ql.WARNINGS;function XN(s){Number.isInteger(s)&&(Od=s)}function YN(){return Od}function Md(s){Od>=ql.INFOS&&console.info(`Info: ${s}`)}function Ht(s){Od>=ql.WARNINGS&&console.warn(`Warning: ${s}`)}function ge(s){throw new Error(s)}function Jt(s,t){s||ge(t)}function WN(s){switch(s?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Xg(s,t=null,e=null){if(!s)return null;if(e&&typeof s=="string"&&(e.addDefaultProtocol&&s.startsWith("www.")&&s.match(/\./g)?.length>=2&&(s=`http://${s}`),e.tryConvertEncoding))try{s=tP(s)}catch{}const n=t?URL.parse(s,t):URL.parse(s);return WN(n)?n:null}function Yg(s,t,e=!1){const n=URL.parse(s);return n?(n.hash=t,n.href):e&&Xg(s,"http://example.com")?s.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Gt(s,t,e,n=!1){return Object.defineProperty(s,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ur=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class R_ extends Ur{constructor(t,e){super(t,"PasswordException"),this.code=e}}class wp extends Ur{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class rd extends Ur{constructor(t){super(t,"InvalidPDFException")}}class Rl extends Ur{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class KN extends Ur{constructor(t){super(t,"FormatError")}}class gs extends Ur{constructor(t){super(t,"AbortException")}}function hw(s){(typeof s!="object"||s?.length===void 0)&&ge("Invalid argument for bytesToString");const t=s.length,e=8192;if(t<e)return String.fromCharCode.apply(null,s);const n=[];for(let r=0;r<t;r+=e){const o=Math.min(r+e,t),l=s.subarray(r,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function Gl(s){typeof s!="string"&&ge("Invalid argument for stringToBytes");const t=s.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=s.charCodeAt(n)&255;return e}function ZN(s){return String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255)}function QN(){const s=new Uint8Array(4);return s[0]=1,new Uint32Array(s.buffer,0,1)[0]===1}function JN(){try{return new Function(""),!0}catch{return!1}}class We{static get isLittleEndian(){return Gt(this,"isLittleEndian",QN())}static get isEvalSupported(){return Gt(this,"isEvalSupported",JN())}static get isOffscreenCanvasSupported(){return Gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Gt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Gt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Gt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Ap=Array.from(Array(256).keys(),s=>s.toString(16).padStart(2,"0"));class At{static makeHexColor(t,e,n){return`#${Ap[t]}${Ap[e]}${Ap[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const r=t[n],o=t[n+1];t[n]=r*e[0]+o*e[2]+e[4],t[n+1]=r*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5];for(let p=0;p<6;p+=2){const m=t[n+p],v=t[n+p+1];t[n+p]=m*r+v*l+d,t[n+p+1]=m*o+v*u+f}}static applyInverseTransform(t,e){const n=t[0],r=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const r=e[0],o=e[1],l=e[2],u=e[3],d=e[4],f=e[5],p=t[0],m=t[1],v=t[2],b=t[3];let w=r*p+d,_=w,x=r*v+d,A=x,C=u*m+f,M=C,j=u*b+f,T=j;if(o!==0||l!==0){const D=o*p,O=o*v,N=l*m,P=l*b;w+=N,A+=N,x+=P,_+=P,C+=D,T+=D,j+=O,M+=O}n[0]=Math.min(n[0],w,x,_,A),n[1]=Math.min(n[1],C,j,M,T),n[2]=Math.max(n[2],w,x,_,A),n[3]=Math.max(n[3],C,j,M,T)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],r=t[1],o=t[2],l=t[3],u=n**2+r**2,d=n*o+r*l,f=o**2+l**2,p=(u+f)/2,m=Math.sqrt(p**2-(u*f-d**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,r,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,r,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,r),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,r)}static#t(t,e,n,r,o,l,u,d,f,p){if(f<=0||f>=1)return;const m=1-f,v=f*f,b=v*f,w=m*(m*(m*t+3*f*e)+3*v*n)+b*r,_=m*(m*(m*o+3*f*l)+3*v*u)+b*d;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],_),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],_)}static#e(t,e,n,r,o,l,u,d,f,p,m,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,r,o,l,u,d,-m/p,v);return}const b=p**2-4*m*f;if(b<0)return;const w=Math.sqrt(b),_=2*f;this.#t(t,e,n,r,o,l,u,d,(-p+w)/_,v),this.#t(t,e,n,r,o,l,u,d,(-p-w)/_,v)}static bezierBoundingBox(t,e,n,r,o,l,u,d,f){f[0]=Math.min(f[0],t,u),f[1]=Math.min(f[1],e,d),f[2]=Math.max(f[2],t,u),f[3]=Math.max(f[3],e,d),this.#e(t,n,o,u,e,r,l,d,3*(-t+3*(n-o)+u),6*(t-2*n+o),3*(n-t),f),this.#e(t,n,o,u,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),f)}}function tP(s){return decodeURIComponent(escape(s))}let Ep=null,O_=null;function fw(s){return Ep||(Ep=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,O_=new Map([["","t"]])),s.replaceAll(Ep,(t,e,n)=>e?e.normalize("NFKC"):O_.get(n))}function Wg(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const s=new Uint8Array(32);return crypto.getRandomValues(s),hw(s)}const Kg="pdfjs_internal_id_";function eP(s,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,r,...o]=e;if(!s(n)&&!Number.isInteger(n)||!t(r))return!1;const l=o.length;let u=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;u=!1;break;default:return!1}for(const d of o)if(!(typeof d=="number"||u&&d===null))return!1;return!0}function un(s,t,e){return Math.min(Math.max(s,t),e)}function pw(s){return Uint8Array.prototype.toBase64?s.toBase64():btoa(hw(s))}function nP(s){return Uint8Array.fromBase64?Uint8Array.fromBase64(s):Gl(atob(s))}typeof Promise.try!="function"&&(Promise.try=function(s,...t){return new Promise(e=>{e(s(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(s){return s.reduce((t,e)=>t+e,0)});class Ol{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function r(o){if(!o)return;let l=null;const u=o.name;if(u==="#text")l=o.value;else if(Ol.shouldBuildText(u))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const d of o.children)r(d)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Zg{static setupStorage(t,e,n,r,o){const l=r.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",u=>{r.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",u=>{r.setValue(e,{value:u.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const u of n.children)u.attributes.value===l.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const d=u.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:f})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:r,linkService:o}){const{attributes:l}=e,u=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,f]of Object.entries(l))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!u||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}u&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,o=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:o,linkService:n});const u=o!=="richText",d=t.div;if(d.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}u&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);l.append(m),u&&Ol.shouldBuildText(r.name)&&f.push(m)}return{textDivs:f}}const p=[[r,-1,l]];for(;p.length>0;){const[m,v,b]=p.at(-1);if(v+1===m.children.length){p.pop();continue}const w=m.children[++p.at(-1)[1]];if(w===null)continue;const{name:_}=w;if(_==="#text"){const A=document.createTextNode(w.value);f.push(A),b.append(A);continue}const x=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,_):document.createElement(_);if(b.append(x),w.attributes&&this.setAttributes({html:x,element:w,storage:e,intent:o,linkService:n}),w.children?.length>0)p.push([w,-1,x]);else if(w.value){const A=document.createTextNode(w.value);u&&Ol.shouldBuildText(_)&&f.push(A),x.append(A)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const os="http://www.w3.org/2000/svg";class Fr{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function eo(s,t="text"){if(pl(s,document.baseURI)){const e=await fetch(s);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",s,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Xl{constructor({viewBox:t,userUnit:e,scale:n,rotation:r,offsetX:o=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=r,this.offsetX=o,this.offsetY=l,n*=e;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,v,b;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,v=0,b=1;break;case 90:p=0,m=1,v=1,b=0;break;case 270:p=0,m=-1,v=-1,b=0;break;case 0:p=1,m=0,v=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,b=-b);let w,_,x,A;p===0?(w=Math.abs(f-t[1])*n+o,_=Math.abs(d-t[0])*n+l,x=(t[3]-t[1])*n,A=(t[2]-t[0])*n):(w=Math.abs(d-t[0])*n+o,_=Math.abs(f-t[1])*n+l,x=(t[2]-t[0])*n,A=(t[3]-t[1])*n),this.transform=[p*n,m*n,v*n,b*n,w-p*n*d-v*n*f,_-m*n*d-b*n*f],this.width=x,this.height=A}get rawDims(){const t=this.viewBox;return Gt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:o=!1}={}){return new Xl({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return At.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];At.applyTransform(e,this.transform);const n=[t[2],t[3]];return At.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return At.applyInverseTransform(n,this.transform),n}}class Dd extends Ur{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Yl(s){const t=s.length;let e=0;for(;e<t&&s[e].trim()==="";)e++;return s.substring(e,e+5).toLowerCase()==="data:"}function kd(s){return typeof s=="string"&&/\.pdf$/i.test(s)}function gw(s){return[s]=s.split(/[#?]/,1),s.substring(s.lastIndexOf("/")+1)}function mw(s,t="document.pdf"){if(typeof s!="string")return t;if(Yl(s))return Ht('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(s);if(!n)return t;const r=u=>{try{let d=decodeURIComponent(u);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:u):d}catch{return u}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return r(l);if(n.searchParams.size>0){const u=Array.from(n.searchParams.values()).reverse();for(const f of u)if(o.test(f))return r(f);const d=Array.from(n.searchParams.keys()).reverse();for(const f of d)if(o.test(f))return r(f)}if(n.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(d)return r(d[0])}return t}class M_{started=Object.create(null);times=[];time(t){t in this.started&&Ht(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ht(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:r,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-r}ms
`);return t.join("")}}function pl(s,t){const e=t?URL.parse(s,t):URL.parse(s);return e?.protocol==="http:"||e?.protocol==="https:"}function qn(s){s.preventDefault()}function xe(s){s.preventDefault(),s.stopPropagation()}function iP(s){console.log("Deprecated API usage: "+s)}class ad{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const f=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(l+=p,u+=m):f==="+"&&(l-=p,u-=m),new Date(Date.UTC(n,r,o,l,u,d))}}function yw(s,{scale:t=1,rotation:e=0}){const{width:n,height:r}=s.attributes.style,o=[0,0,parseInt(n),parseInt(r)];return new Xl({viewBox:o,userUnit:1,scale:t,rotation:e})}function no(s){if(s.startsWith("#")){const t=parseInt(s.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return s.startsWith("rgb(")?s.slice(4,-1).split(",").map(t=>parseInt(t)):s.startsWith("rgba(")?s.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ht(`Not a valid color format: "${s}"`),[0,0,0])}function sP(s){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of s.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;s.set(e,no(n))}t.remove()}function Ee(s){const{a:t,b:e,c:n,d:r,e:o,f:l}=s.getTransform();return[t,e,n,r,o,l]}function Ni(s){const{a:t,b:e,c:n,d:r,e:o,f:l}=s.getTransform().invertSelf();return[t,e,n,r,o,l]}function Ys(s,t,e=!1,n=!0){if(t instanceof Xl){const{pageWidth:r,pageHeight:o}=t.rawDims,{style:l}=s,u=We.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${o}px`,p=u?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=u?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!e||t.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}n&&s.setAttribute("data-main-rotation",t.rotation)}class bi{constructor(){const{pixelRatio:t}=bi;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,r,o=-1){let l=1/0,u=1/0,d=1/0;n=bi.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),r!==-1&&(u=r/t,d=r/e);const f=Math.min(l,u,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const od=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class rP{static get isDarkMode(){return Gt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class vw{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Gt(this,"commentForegroundColor",no(n))}}function bw(s,t,e,n){n=Math.min(Math.max(n??1,0),1);const r=255*(1-n);return s=Math.round(s*n+r),t=Math.round(t*n+r),e=Math.round(e*n+r),[s,t,e]}function D_(s,t){const e=s[0]/255,n=s[1]/255,r=s[2]/255,o=Math.max(e,n,r),l=Math.min(e,n,r),u=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const d=o-l;switch(t[1]=u<.5?d/(o+l):d/(2-o-l),o){case e:t[0]=((n-r)/d+(n<r?6:0))*60;break;case n:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-n)/d+4)*60;break}}t[2]=u}function cg(s,t){const e=s[0],n=s[1],r=s[2],o=(1-Math.abs(2*r-1))*n,l=o*(1-Math.abs(e/60%2-1)),u=r-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+u,t[1]=l+u,t[2]=u;break;case 1:t[0]=l+u,t[1]=o+u,t[2]=u;break;case 2:t[0]=u,t[1]=o+u,t[2]=l+u;break;case 3:t[0]=u,t[1]=l+u,t[2]=o+u;break;case 4:t[0]=l+u,t[1]=u,t[2]=o+u;break;case 5:case 6:t[0]=o+u,t[1]=u,t[2]=l+u;break}}function k_(s){return s<=.03928?s/12.92:((s+.055)/1.055)**2.4}function L_(s,t,e){cg(s,e),e.map(k_);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];cg(t,e),e.map(k_);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const N_=new Map;function _w(s,t){const e=s[0]+s[1]*256+s[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=N_.get(e);if(n)return n;const r=new Float32Array(9),o=r.subarray(0,3),l=r.subarray(3,6);D_(s,l);const u=r.subarray(6,9);D_(t,u);const d=u[2]<.5,f=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),L_(l,u,o)<f){let p,m;d?(p=l[2],m=1):(p=0,m=l[2]);const v=.005;for(;m-p>v;){const b=l[2]=(p+m)/2;d===L_(l,u,o)<f?p=b:m=b}l[2]=d?m:p}return cg(l,o),n=At.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),N_.set(e,n),n}function Qg({html:s,dir:t,className:e},n){const r=document.createDocumentFragment();if(typeof s=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=s.split(/(?:\r\n?|\n)/);for(let u=0,d=l.length;u<d;++u){const f=l[u];o.append(document.createTextNode(f)),u<d-1&&o.append(document.createElement("br"))}r.append(o)}else Zg.render({xfaHtml:s,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),n.append(r)}class wl{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,wl.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",qn,{signal:e}),t.addEventListener("pointerdown",wl.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const r=this.#i.toolbarPosition;if(r){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#h(t){this.#i._focusEventsAllowed=!1,xe(t)}#d(t){this.#i._focusEventsAllowed=!0,xe(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",qn,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",wl.#c[t]),this.#f(n)&&n.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#m),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const r=this.#r=this.#m;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(r,e)):this.#n.append(n,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#m)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const r=this.#n.querySelector(n);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class aP{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",qn,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,r=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const u=o.x+(e?o.width:0);if(l>n){r=u,n=l;continue}e?u>r&&(r=u):u<r&&(r=u)}return[e?1-r:r,n]}show(t,e,n){const[r,o]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,r){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const u=this.#i._signal;u instanceof AbortSignal&&!u.aborted&&(o.addEventListener("contextmenu",qn,{signal:u}),o.addEventListener("click",r,{signal:u})),this.#t.append(o)}}function Sw(s,t,e){for(const n of e)t.addEventListener(n,s[n].bind(s))}class oP{#t=0;get id(){return`${Cl}${this.#t++}`}}class Jg{#t=Wg();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const o=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Gt(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(n.url=e,r=await eo(e,"blob")):e instanceof File?r=n.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const o=Jg._isSVGFittingCanvas,l=new FileReader,u=new Image,d=new Promise((f,p)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,f()},l.onload=async()=>{const m=n.svgUrl=l.result;u.src=await o?`${m}#svgView(preserveAspectRatio(none))`:m},u.onerror=l.onerror=p});l.readAsDataURL(r),await d}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){Ht(r),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:r,type:o}=t;return this.#n(`${e}_${n}_${r}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=r.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class lP{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:r,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===o){u&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Wl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=We.platform;for(const[n,r,o={}]of t)for(const l of n){const u=l.startsWith("mac+");e&&u?(this.callbacks.set(l.slice(4),{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!u&&(this.callbacks.set(l,{callback:r,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:r,options:{bubbles:o=!1,args:l=[],checker:u=null}}=n;u&&!u(t,e)||(r.bind(t,...l,e)(),o||xe(e))}}class tm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return sP(t),Gt(this,"_colors",t)}convert(t){const e=no(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,r]of this._colors)if(r.every((o,l)=>o===e[l]))return tm._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?At.makeHexColor(...e):t}}class ms{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new lP;#l=null;#h=null;#d=null;#f=0;#m=new Set;#p=null;#u=null;#g=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#x=null;#A=null;#_=null;#C=null;#w=!1;#E=null;#M=new oP;#R=!1;#O=!1;#F=!1;#k=null;#N=null;#j=null;#P=null;#$=null;#T=Ut.NONE;#S=new Set;#L=null;#I=null;#U=null;#X=null;#G=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#B=null;#q=null;#Q=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=ms.prototype,e=l=>l.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:u})=>{if(u instanceof HTMLInputElement){const{type:d}=u;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new Wl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#q.contains(u)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:u})=>!(u instanceof HTMLButtonElement)&&l.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,r,o,l,u,d,f,p,m,v,b,w,_,x){const A=this._signal=this.#t.signal;this.#q=t,this.#Q=e,this.#J=n,this.#s=r,this.#l=o,this.#I=l,this.#G=d,this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:A}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),u._on("setpreference",this.onSetPreference.bind(this),{signal:A}),u._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:A}),window.addEventListener("pointerdown",()=>{this.#O=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#O=!1},{capture:!0,signal:A}),this.#lt(),this.#ht(),this.#et(),this.#r=d.annotationStorage,this.#x=d.filterFactory,this.#U=f,this.#C=p||null,this.#y=m,this.#b=v,this.#v=b,this.#$=w||null,this.viewParameters={realScale:Fr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=x!==!1,o?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#g.clear(),this.#P?.clear(),this.#e=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#I?.destroy(),this.#E?.hide(),this.#E=null,this.#j?.destroy(),this.#j=null,this.#i=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#$}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Gt(this,"hcmFilter",this.#U?this.#x.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Gt(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return Gt(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Gt(this,"highlightColors",null);const e=new Map,n=!!this.#U;for(const[r,o]of t){const l=r.endsWith("_HCM");if(n&&l){e.set(r.replace("_HCM",""),o);continue}!n&&!l&&e.set(r,o)}return Gt(this,"highlightColors",e)}get highlightColorNames(){return Gt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=t}setMainHighlightColorPicker(t){this.#j=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,r){this.#l?.showDialog(this,t,e,n,r)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),r=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await n}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:r,y:o,width:l,height:u}=n.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=o&&e<=o+u)return n}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Fr.PDF_TO_CSS_UNITS;for(const e of this.#g)e.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Z({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u}=n,d=n.toString(),p=this.#Z(n).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;n.empty();const v=this.#tt(p),b=this.#T===Ut.NONE,w=()=>{const _=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:r,anchorOffset:o,focusNode:l,focusOffset:u,text:d});b&&this.showAllEditors("highlight",!0,!0),e&&_?.editComment()};if(b){this.switchToMode(Ut.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Z(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#E||=new aP(this),this.#E.show(n,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${Cl}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#L&&(this.#E?.hide(),this.#L=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#L)return;const r=this.#Z(t).closest(".textLayer");if(!r){this.#L&&(this.#E?.hide(),this.#L=null,this.#D({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#L=e,this.#D({hasSelectedText:!0}),!(this.#T!==Ut.HIGHLIGHT&&this.#T!==Ut.NONE)&&(this.#T===Ut.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#T===Ut.HIGHLIGHT?this.#tt(r):null;if(o?.toggleDrawing(),this.#O){const l=new AbortController,u=this.combinedSignal(l),d=f=>{f.type==="pointerup"&&f.button!==0||(l.abort(),o?.toggleDrawing(!0),f.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else o?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#T===Ut.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#N=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[t,e]=this.#N;this.#N=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#k)return;this.#k=new AbortController;const t=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#dt(){this.#k?.abort(),this.#k=null}#nt(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#h?.abort(),this.#h=null}#ht(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#dt(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#S){const r=n.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ht(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const o=[];for(const d of n){const f=await r.deserialize(d);if(!f)return;o.push(f)}const l=()=>{for(const d of o)this.#st(d);this.#rt(o)},u=()=>{for(const d of o)d.remove()};this.addCommands({cmd:l,undo:u,mustExec:!0})}catch(o){Ht(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==Ut.NONE&&!this.isEditorHandlingKeyboard&&ms._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(t){Object.entries(t).some(([n,r])=>this.#Y[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#T===Ut.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#V([[Zt.HIGHLIGHT_FREE,!0]]))}#V(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#D({isEditing:this.#T!==Ut.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#V(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#R?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,r=!1,o=!1){if(this.#T!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#T===Ut.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=t,t===Ut.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===Ut.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===Ut.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,u=[];for(const d of this.#n.values()){const{annotationElementId:f,hasComment:p,deleted:m}=d;f&&l.add(f),p&&!m&&u.push(d.getData())}for(const d of this.#i){const{id:f,popupRef:p,contentsObj:m}=d;p&&m?.str&&!l.has(f)&&!this.#m.has(f)&&u.push(d)}this.#l?.showSidebar(u)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Zt.CREATE:this.currentLayer.addNewEditor(e);return;case Zt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#S)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#X?.get(Zt.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#V([[Zt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#F!==t){this.#F=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#R){this.#R=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#R){this.#R=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#V(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#gt===t&&this.#V(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#V(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#d?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#V(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],n=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},r=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#T!==Ut.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,o]=this.#H,l=[...this.#S],u=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,o),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-o),d.translationDone())},mustExec:!1})},u);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#S)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:r,y:o,pageIndex:l},u]of t)u.newX=r,u.newY=o,u.newPageIndex=l,e||=r!==u.savedX||o!==u.savedY||l!==u.savedPageIndex;if(!e)return!1;const n=(r,o,l,u)=>{if(this.#n.has(r.id)){const d=this.#a.get(u);d?r._setParentAndPosition(d,o,l):(r.pageIndex=u,r.x=o,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:o,newY:l,newPageIndex:u}]of t)n(r,o,l,u)},undo:()=>{for(const[r,{savedX:o,savedY:l,savedPageIndex:u}]of t)n(r,o,l,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#T}isEditingMode(){return this.#T!==Ut.NONE}get imageManager(){return Gt(this,"imageManager",new Jg)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let f=0,p=e.rangeCount;f<p;f++)if(!t.contains(e.getRangeAt(f).commonAncestorContainer))return null;const{x:n,y:r,width:o,height:l}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(f,p,m,v)=>({x:(p-r)/l,y:1-(f+m-n)/o,width:v/l,height:m/o});break;case"180":u=(f,p,m,v)=>({x:1-(f+m-n)/o,y:1-(p+v-r)/l,width:m/o,height:v/l});break;case"270":u=(f,p,m,v)=>({x:1-(p+v-r)/l,y:(f-n)/o,width:v/l,height:m/o});break;default:u=(f,p,m,v)=>({x:(f-n)/o,y:(p-r)/l,width:m/o,height:v/l});break}const d=[];for(let f=0,p=e.rangeCount;f<p;f++){const m=e.getRangeAt(f);if(!m.collapsed)for(const{x:v,y:b,width:w,height:_}of m.getClientRects())w===0||_===0||d.push(u(v,b,w,_))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#T===Ut.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const r=this.#P?.get(t);r&&(r.setCanvas(e,n),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class Ii{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#d=t._uiManager.useNewAltTextFlow,Ii.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Ii._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#d?(t.classList.add("new"),t.setAttribute("data-l10n-id",Ii.#f.missing),e.setAttribute("data-l10n-id",Ii.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",qn,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#r=!0,r(o))},{signal:n}),await this.#p(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#d?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await Ii._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#d||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:r,cancel:o=!1}){n&&(this.#l=n,this.#h=r),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#d){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Ii.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Ii.#f[`${this.#m}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class wu{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#h(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(n.backgroundColor=r)}return this.#h(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+n-o)/u]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#h(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",qn,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,xe(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,xe(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const r=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,r(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,r;if(e)[n,r]=e;else{[n,r]=this.#n.commentButtonPosition;const{width:p,height:m,x:v,y:b}=this.#n;n=v+n*p,r=b+r*m}const o=this.#n.parent.boundingClientRect,{x:l,y:u,width:d,height:f}=o;this.#n._uiManager.editComment(this.#n,l+n*d,u+r*f,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Kl{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#h;#d=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:o=null,onPinchEnd:l=null,signal:u}){this.#t=t,this.#i=n,this.#n=e,this.#a=r,this.#s=o,this.#r=l,this.#h=new AbortController,this.#c=AbortSignal.any([u,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/bi.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,o=AbortSignal.any([this.#c,r.signal]),l=this.#t,u={capture:!0,signal:o,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(xe(f),d(f))},u),l.addEventListener("pointerup",d,u),l.addEventListener("pointercancel",d,u);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),o=this.#t,l={signal:r,capture:!1,passive:!1};o.addEventListener("touchmove",this.#m.bind(this),l);const u=this.#p.bind(this);o.addEventListener("touchend",u,l),o.addEventListener("touchcancel",u,l),l.capture=!0,o.addEventListener("pointerdown",xe,l),o.addEventListener("pointermove",xe,l),o.addEventListener("pointercancel",xe,l),o.addEventListener("pointerup",xe,l),this.#a?.()}if(xe(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;xe(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:r,screenY:o}=e,{screenX:l,screenY:u}=n,d=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:v}=d,b=m-f,w=v-p,_=l-r,x=u-o,A=Math.hypot(_,x)||1,C=Math.hypot(b,w)||1;if(!this.#e&&Math.abs(C-A)<=Kl.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=o,d.touch1X=l,d.touch1Y=u,!this.#e){this.#e=!0;return}const M=[(r+l)/2,(o+u)/2];this.#s?.(M,C,A)}#p(t){t.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#l&&(xe(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class kt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#m="";#p=!1;#u=null;#g=!1;#y=!1;#b=!1;#v=null;#x=0;#A=0;#_=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#E=kt._zIndex++;static _borderLineWidth=-1;static _colorManager=new tm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=kt.prototype._resizeWithKeyboard,e=ms.TRANSLATE_SMALL,n=ms.TRANSLATE_BIG;return Gt(this,"_resizerKeyboardManager",new Wl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],kt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[o,l];const[u,d]=this.parentDimensions;this.x=t.x/u,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Gt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new cP({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(kt._l10n??=t,kt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),kt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);kt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ge("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#d?.remove(),this.#d=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,r){const[o,l]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/o,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,r]=this.parentDimensions;this.setAt(t*n,e*r,this.width*n,this.height*r),this._onTranslated()}#M([t,e],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,o]}=this;if(this.x+=t/r,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[d,f]=this.getBaseTranslation();l+=d,u+=f;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*u).toFixed(2)}%`,this._onTranslating(l,u),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=kt,r=n/t,o=n/e;switch(this.rotation){case 90:return[-r,o];case 180:return[r,o];case 270:return[r,-o];default:return[-r,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,r]}=this;let{x:o,y:l,width:u,height:d}=this;if(u*=n,d*=r,o*=n,l*=r,this._mustFixPosition)switch(t){case 0:o=un(o,0,n-u),l=un(l,0,r-d);break;case 90:o=un(o,0,n-d),l=un(l,u,r);break;case 180:o=un(o,u,n),l=un(l,d,r);break;case 270:o=un(o,d,n),l=un(l,0,r-u);break}this.x=o/=n,this.y=l/=r;const[f,p]=this.getBaseTranslation();o+=f,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#R(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return kt.#R(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return kt.#R(t,e,360-this.parentRotation)}#O(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#k.bind(this,n),{signal:e}),r.addEventListener("contextmenu",qn,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#k(t,e){e.preventDefault();const{isMac:n}=We.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",xe,{passive:!1,signal:l}),window.addEventListener("contextmenu",qn,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=d,this.#j()};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}#N(t,e,n,r){this.width=n,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#j(){if(!this.#h)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:r}=this.#h;this.#h=null;const o=this.x,l=this.y,u=this.width,d=this.height;o===t&&l===e&&u===n&&d===r||this.addCommands({cmd:this.#N.bind(this,o,l,u,d),undo:this.#N.bind(this,t,e,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[n,r]=this.parentDimensions,o=this.x,l=this.y,u=this.width,d=this.height,f=kt.MIN_SIZE/n,p=kt.MIN_SIZE/r,m=this.#O(this.rotation),v=(I,E)=>[m[0]*I+m[2]*E,m[1]*I+m[3]*E],b=this.#O(360-this.rotation),w=(I,E)=>[b[0]*I+b[2]*E,b[1]*I+b[3]*E];let _,x,A=!1,C=!1;switch(t){case"topLeft":A=!0,_=(I,E)=>[0,0],x=(I,E)=>[I,E];break;case"topMiddle":_=(I,E)=>[I/2,0],x=(I,E)=>[I/2,E];break;case"topRight":A=!0,_=(I,E)=>[I,0],x=(I,E)=>[0,E];break;case"middleRight":C=!0,_=(I,E)=>[I,E/2],x=(I,E)=>[0,E/2];break;case"bottomRight":A=!0,_=(I,E)=>[I,E],x=(I,E)=>[0,0];break;case"bottomMiddle":_=(I,E)=>[I/2,E],x=(I,E)=>[I/2,0];break;case"bottomLeft":A=!0,_=(I,E)=>[0,E],x=(I,E)=>[I,0];break;case"middleLeft":C=!0,_=(I,E)=>[0,E/2],x=(I,E)=>[I,E/2];break}const M=_(u,d),j=x(u,d);let T=v(...j);const D=kt._round(o+T[0]),O=kt._round(l+T[1]);let N=1,P=1,L,U;if(e.fromKeyboard)({deltaX:L,deltaY:U}=e);else{const{screenX:I,screenY:E}=e,[rt,V]=this.#l;[L,U]=this.screenToPageTranslation(I-rt,E-V),this.#l[0]=I,this.#l[1]=E}if([L,U]=w(L/n,U/r),A){const I=Math.hypot(u,d);N=P=Math.max(Math.min(Math.hypot(j[0]-M[0]-L,j[1]-M[1]-U)/I,1/u,1/d),f/u,p/d)}else C?N=un(Math.abs(j[0]-M[0]-L),f,1)/u:P=un(Math.abs(j[1]-M[1]-U),p,1)/d;const X=kt._round(u*N),H=kt._round(d*P);T=v(...x(X,H));const W=D-T[0],J=O-T[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=X,this.height=H,this.x=W,this.y=J,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new wl(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Ii.initialize(kt._l10n),this.#i=new Ii(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new wu(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:r}}=this.#n;return{text:e,richText:t,date:n,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new wu(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new wu(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new wu(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,u=l+o+1,d=r-100,f=u+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[u,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[r,o]=this.getInitialTranslation();return this.translate(r,o),Sw(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new Kl({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#$.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#$(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#O(this.rotation),u=(D,O)=>[l[0]*D+l[2]*O,l[1]*D+l[3]*O],[d,f]=this.parentDimensions,p=this.x,m=this.y,v=this.width,b=this.height,w=kt.MIN_SIZE/d,_=kt.MIN_SIZE/f;o=Math.max(Math.min(o,1/v,1/b),w/v,_/b);const x=kt._round(v*o),A=kt._round(b*o);if(x===v&&A===b)return;this.#u||=[p,m,v,b];const C=u(v/2,b/2),M=kt._round(p+C[0]),j=kt._round(m+C[1]),T=u(x/2,A/2);this.x=M-T[0],this.y=j-T[1],this.width=x,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#j()}pointerdown(t){const{isMac:e}=We.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#I(t);return}this.#L(t)}#L(t){const{isMac:e}=We.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,o=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:o},u=f=>{r.abort(),this.#r=null,this.#p=!1,this._uiManager.endDragSession()||this.#L(f),n&&this._onStopDragging()};e&&(this.#x=t.clientX,this.#A=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:v}=f;if(v!==this.#r){xe(f);return}const[b,w]=this.screenToPageTranslation(p-this.#x,m-this.#A);this.#x=p,this.#A=m,this._uiManager.dragSelectedEditors(b,w)},l),window.addEventListener("touchmove",xe,l),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#C||f.isPrimary)&&u(f),xe(f)},l));const d=f=>{if(!this.#r||this.#r===f.pointerId){u(f);return}xe(f)};window.addEventListener("pointerup",d,{signal:o}),window.addEventListener("blur",d,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const r=this.parentScale,[o,l]=this.pageDimensions,[u,d]=this.pageTranslation,f=t/r,p=e/r,m=this.x*o,v=this.y*l,b=this.width*o,w=this.height*l;switch(n){case 0:return[m+f+u,l-v-p-w+d,m+f+b+u,l-v-p+d];case 90:return[m+p+u,l-v+f+d,m+p+w+u,l-v+f+b+d];case 180:return[m-f-b+u,l-v+p+d,m-f+u,l-v+p+w+d];case 270:return[m-p-w+u,l-v-f-b+d,m-p+u,l-v-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,r,o,l]=t,u=o-n,d=l-r;switch(this.rotation){case 0:return[n,e-l,u,d];case 90:return[n,e-r,d,u];case 180:return[o,e-r,u,d];case 270:return[o,e-l,d,u];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&kt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:r,deleted:o,richText:l},uid:u,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:u,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:f,modificationDate:n||p,popupRef:!o,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&r>0&&t<o&&n>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[o,l]=r.pageDimensions,[u,d,f,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=u/o,r.y=d/l,r.width=f/o,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#B(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null,this.#C?.destroy(),this.#C=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,r,o,l]=this.getPDFRect();return[kt._round(n+(o-n)*t),kt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),u=this.#G.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",l,{signal:d}),f.addEventListener("blur",u,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",kt._l10nResizer[p])}}const n=this.#e[0];let r=0;for(const l of e){if(l===n)break;r++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==r){if(o<r)for(let u=0;u<r-o;u++)this.#c.append(this.#c.firstChild);else if(o>r)for(let u=0;u<o-r;u++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const u of e){const f=this.#e[l++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",kt._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){kt._resizerKeyboardManager.exec(this,t)}#G(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#B()}#Y(t){this.#m=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#P(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#b=!1,this.#H(-1),this.#j()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#_||=new Map;const{action:n}=t;let r=this.#_.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(n),this.#_.size===0&&(this.#_=null)},kt._telemetryTimeout),this.#_.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#d&&!this.deleted){this.#d=t.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class cP extends kt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const P_=3285377520,ni=4294901760,Pi=65535;class ww{constructor(t){this.h1=t?t&4294967295:P_,this.h2=t?t&4294967295:P_}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let _=0,x=t.length;_<x;_++){const A=t.charCodeAt(_);A<=255?e[n++]=A:(e[n++]=A>>>8,e[n++]=A&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,o=n-r*4,l=new Uint32Array(e.buffer,0,r);let u=0,d=0,f=this.h1,p=this.h2;const m=3432918353,v=461845907,b=m&Pi,w=v&Pi;for(let _=0;_<r;_++)_&1?(u=l[_],u=u*m&ni|u*b&Pi,u=u<<15|u>>>17,u=u*v&ni|u*w&Pi,f^=u,f=f<<13|f>>>19,f=f*5+3864292196):(d=l[_],d=d*m&ni|d*b&Pi,d=d<<15|d>>>17,d=d*v&ni|d*w&Pi,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(u=0,o){case 3:u^=e[r*4+2]<<16;case 2:u^=e[r*4+1]<<8;case 1:u^=e[r*4],u=u*m&ni|u*b&Pi,u=u<<15|u>>>17,u=u*v&ni|u*w&Pi,r&1?f^=u:p^=u}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ni|t*36045&Pi,e=e*4283543511&ni|((e<<16|t>>>16)*2950163797&ni)>>>16,t^=e>>>1,t=t*444984403&ni|t*60499&Pi,e=e*3301882366&ni|((e<<16|t>>>16)*3120437893&ni)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const ug=Object.freeze({map:null,hash:"",transfer:void 0});class em{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof kt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof kt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let r=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(r=!0,n[o]=l);else r=!0,this.#n.set(t,e);r&&this.#a(),e instanceof kt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Aw(this)}get serializable(){if(this.#n.size===0)return ug;const t=new Map,e=new ww,n=[],r=Object.create(null);let o=!1;for(const[l,u]of this.#n){const d=u instanceof kt?u.serialize(!1,r):u;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),o||=!!d.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:ug}get editorStats(){let t=null;const e=new Map;let n=0,r=0;for(const o of this.#n.values()){if(!(o instanceof kt)){o.popup&&(o.popup.deleted?r+=1:n+=1);continue}o.isCommentDeleted?r+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:u}=l;e.has(u)||e.set(u,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const d=t[u]||=new Map;for(const[f,p]of Object.entries(l)){if(f==="type")continue;let m=d.get(f);m||(m=new Map,d.set(f,m));const v=m.get(p)??0;m.set(p,v+1)}}if((r>0||n>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Aw extends em{#t;constructor(t){super();const{map:e,hash:n,transfer:r}=t.serializable,o=structuredClone(e,r?{transfer:r}:null);this.#t={map:o,hash:n,transfer:r}}get print(){ge("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Gt(this,"modifiedIds",{ids:new Set,hash:""})}}class uP{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Jt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:o,style:l}=t,u=new FontFace(r,o,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),n?.(t)}catch{Ht(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ge("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw Ht(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Gt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Gt(this,"isSyncFontLoadingSupported",gn||We.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Jt(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:e,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Gt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(j,T){return j.charCodeAt(T)<<24|j.charCodeAt(T+1)<<16|j.charCodeAt(T+2)<<8|j.charCodeAt(T+3)&255}function r(j,T,D,O){const N=j.substring(0,T),P=j.substring(T+D);return N+O+P}let o,l;const u=this._document.createElement("canvas");u.width=1,u.height=1;const d=u.getContext("2d");let f=0;function p(j,T){if(++f>30){Ht("Load test font never loaded."),T();return}if(d.font="30px "+j,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(p.bind(null,j,T))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=r(v,976,m.length,m);const w=16,_=1482184792;let x=n(v,w);for(o=0,l=m.length-3;o<l;o+=4)x=x-_+n(m,o)|0;o<m.length&&(x=x-_+n(m+"XXX",o)|0),v=r(v,w,4,ZN(x));const A=`url(data:font/opentype;base64,${btoa(v)});`,C=`@font-face {font-family:"${m}";src:${A}}`;this.insertRule(C);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const j of[t.loadedName,m]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=j,M.append(T)}this._document.body.append(M),p(m,()=>{M.remove(),e.complete()})}}class dP{#t;constructor(t,e=null,n,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${pw(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let r;try{r=t.get(n)}catch(l){Ht(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function hP(s){if(s instanceof URL)return s.href;if(typeof s=="string"){if(gn)return s;const t=URL.parse(s,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function fP(s){if(gn&&typeof Buffer<"u"&&s instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength)return s;if(typeof s=="string")return Gl(s);if(s instanceof ArrayBuffer||ArrayBuffer.isView(s)||typeof s=="object"&&!isNaN(s?.length))return new Uint8Array(s);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Au(s){if(typeof s!="string")return null;if(s.endsWith("/"))return s;throw new Error(`Invalid factory url: "${s}" must include trailing slash.`)}const dg=s=>typeof s=="object"&&Number.isInteger(s?.num)&&s.num>=0&&Number.isInteger(s?.gen)&&s.gen>=0,pP=s=>typeof s=="object"&&typeof s?.name=="string",Ew=eP.bind(null,dg,pP);class gP{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,e,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ht("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Eu={DATA:1,ERROR:2},Be={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function B_(){}function Rn(s){if(s instanceof gs||s instanceof rd||s instanceof R_||s instanceof Rl||s instanceof wp)return s;switch(s instanceof Error||typeof s=="object"&&s!==null||ge('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),s.name){case"AbortException":return new gs(s.message);case"InvalidPDFException":return new rd(s.message);case"PasswordException":return new R_(s.message,s.code);case"ResponseException":return new Rl(s.message,s.status,s.missing);case"UnknownErrorException":return new wp(s.message,s.details)}return new wp(s.message,s.toString())}class gl{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Eu.DATA)r.resolve(t.data);else if(t.callback===Eu.ERROR)r.reject(Rn(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:r,callback:Eu.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:r,callback:Eu.ERROR,callbackId:t.callbackId,reason:Rn(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const r=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[r]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,r){const o=this.streamId++,l=this.sourceName,u=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:u,action:t,streamId:o,data:e,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,d.postMessage({sourceName:l,targetName:u,stream:Be.PULL,streamId:o,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Jt(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,d.postMessage({sourceName:l,targetName:u,stream:Be.CANCEL,streamId:o,reason:Rn(f)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this,u=this.actionHandler[t.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:r,stream:Be.ENQUEUE,streamId:e,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Be.CLOSE,streamId:e}),delete l.streamSinks[e])},error(f){Jt(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:r,stream:Be.ERROR,streamId:e,reason:Rn(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(u,t.data,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Be.START_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Be.START_COMPLETE,streamId:e,reason:Rn(f)})})}#n(t){const e=t.streamId,n=this.sourceName,r=t.sourceName,o=this.comObj,l=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Be.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Rn(t.reason));break;case Be.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Rn(t.reason));break;case Be.PULL:if(!u){o.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||B_).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Be.PULL_COMPLETE,streamId:e,reason:Rn(f)})});break;case Be.ENQUEUE:if(Jt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Be.CLOSE:if(Jt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case Be.ERROR:Jt(l,"error should have stream controller"),l.controller.error(Rn(t.reason)),this.#a(l,e);break;case Be.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Rn(t.reason)),this.#a(l,e);break;case Be.CANCEL:if(!u)break;const d=Rn(t.reason);Promise.try(u.onCancel||B_,d).then(function(){o.postMessage({sourceName:n,targetName:r,stream:Be.CANCEL_COMPLETE,streamId:e,success:!0})},function(f){o.postMessage({sourceName:n,targetName:r,stream:Be.CANCEL_COMPLETE,streamId:e,reason:Rn(f)})}),u.sinkCapability.reject(d),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class xw{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ge("Abstract method `_createCanvas` called.")}}class mP extends xw{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class Tw{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class F_ extends Tw{async _fetch(t){const e=await eo(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Gl(e)}}class Cw{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,r,o){return"none"}destroy(t=!1){}}class yP extends Cw{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(os,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(os,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#h(t){if(t.length===1){const d=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[e,n,r]=t,o=new Array(256),l=new Array(256),u=new Array(256);for(let d=0;d<256;d++)o[d]=e[d]/255,l[d]=n[d]/255,u[d]=r[d]/255;return[o.join(","),l.join(","),u.join(",")]}#d(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Yl(e)?Ht('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Yg(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,r,o]=this.#h(t),l=t.length===1?n:`${n}${r}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const u=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#d(u);this.#o.set(t,d),this.#o.set(l,d);const f=this.#p(u);return this.#g(n,r,o,f),d}addHCMFilter(t,e){const n=`${t}-${e}`,r="base";let o=this.#c.get(r);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(r,o)),!t||!e))return o.url;const l=this.#b(t);t=At.makeHexColor(...l);const u=this.#b(e);if(e=At.makeHexColor(...u),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const d=new Array(256);for(let b=0;b<=255;b++){const w=b/255;d[b]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,m=o.filter=this.#p(p);this.#g(f,f,f,m),this.#m(m);const v=(b,w)=>{const _=l[b]/255,x=u[b]/255,A=new Array(w+1);for(let C=0;C<=w;C++)A[C]=_+C/w*(x-_);return A.join(",")};return this.#g(v(0,5),v(1,5),v(2,5),m),o.url=this.#d(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#h([t]),r=`alpha_${n}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#d(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#y(n,u),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,r;if(t?([n]=this.#h([t]),r=`luminosity_${n}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#d(o);this.#o.set(t,l),this.#o.set(r,l);const u=this.#p(o);return this.#f(u),t&&this.#y(n,u),l}addHighlightHCMFilter(t,e,n,r,o){const l=`${e}-${n}-${r}-${o}`;let u=this.#c.get(t);if(u?.key===l||(u?(u.filter?.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},this.#c.set(t,u)),!e||!n))return u.url;const[d,f]=[e,n].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,b]=[r,o].map(this.#b.bind(this));m<p&&([p,m,v,b]=[m,p,b,v]),this.#l.style.color="";const w=(A,C,M)=>{const j=new Array(256),T=(m-p)/M,D=A/255,O=(C-A)/(255*M);let N=0;for(let P=0;P<=M;P++){const L=Math.round(p+P*T),U=D+P*O;for(let X=N;X<=L;X++)j[X]=U;N=L+1}for(let P=N;P<256;P++)j[P]=j[N-1];return j.join(",")},_=`g_${this.#n}_hcm_${t}_filter`,x=u.filter=this.#p(_);return this.#m(x),this.#g(w(v[0],b[0],5),w(v[1],b[1],5),w(v[2],b[2],5),x),u.url=this.#d(_),u.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(os,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(os,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(os,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const r=this.#a.createElementNS(os,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#g(t,e,n,r){const o=this.#a.createElementNS(os,"feComponentTransfer");r.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(os,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#b(t){return this.#l.style.color=t,no(getComputedStyle(this.#l).getPropertyValue("color"))}}class Rw{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class j_ extends Rw{async _fetch(t){const e=await eo(t,"arraybuffer");return new Uint8Array(e)}}class Ow{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){ge("Abstract method `_fetch` called.")}}class I_ extends Ow{async _fetch(t){const e=await eo(t,"arraybuffer");return new Uint8Array(e)}}gn&&Ht("Please use the `legacy` build in Node.js environments.");async function nm(s){const e=await process.getBuiltinModule("fs").promises.readFile(s);return new Uint8Array(e)}class vP extends Cw{}class bP extends xw{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class _P extends Tw{async _fetch(t){return nm(t)}}class SP extends Rw{async _fetch(t){return nm(t)}}class wP extends Ow{async _fetch(t){return nm(t)}}const Da="__forcedDependency",{floor:z_,ceil:U_}=Math;function xu(s,t,e,n,r,o){s[t*4+0]=Math.min(s[t*4+0],e),s[t*4+1]=Math.min(s[t*4+1],n),s[t*4+2]=Math.max(s[t*4+2],r),s[t*4+3]=Math.max(s[t*4+3],o)}const hg=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class AP{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===hg}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Tu=(s,t)=>{if(!s)return;let e=s.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},s.set(t,e)),e};class EP{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[Da]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#m;#p;#u;#g;constructor(t,e,n=!1){this.#f=t.width,this.#m=t.height,this.#y(e),n&&(this.#g=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(hg,e.length)):this.#u.fill(hg)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[Da]:{__proto__:this.#e[Da]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(Tu(this.#g,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Tu(this.#g,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(Tu(this.#g,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(At.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(Da,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(Da,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,r,o,l){const u=At.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];At.axialAlignedBoundingBox([n,o,r,l],u,d);const f=At.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,r,o,l){const u=this.#r;if(u[0]===1/0)return this;const d=At.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(u[0]===-1/0)return At.axialAlignedBoundingBox([n,o,r,l],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return At.axialAlignedBoundingBox([n,o,r,l],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],u[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],u[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],u[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],u[3])),this}recordCharacterBBox(t,e,n,r=1,o=0,l=0,u){const d=n.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(n),f!==!1&&(p=[0,0,0,0],At.axialAlignedBoundingBox(d,n.fontMatrix,p),(r!==1||o!==0||l!==0)&&At.scaleMinMax([r,0,0,-r,o,l],p),f)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!u)return this.recordFullPageBBox(t);const m=u();return d&&p&&f===void 0&&(f=p[0]<=o-m.actualBoundingBoxLeft&&p[2]>=o+m.actualBoundingBoxRight&&p[1]<=l-m.actualBoundingBoxAscent&&p[3]>=l+m.actualBoundingBoxDescent,this.#d.set(n,f),f)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-m.actualBoundingBoxLeft,o+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,r=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(r[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[Da]),this.#g){const n=Tu(this.#g,t),{dependencies:r}=n;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=z_(this.#o[0]*256/this.#f),r=z_(this.#o[1]*256/this.#m),o=U_(this.#o[2]*256/this.#f),l=U_(this.#o[3]*256/this.#m);xu(this.#p,t,n,r,o,l);for(const u of this.#l)u!==t&&xu(this.#p,u,n,r,o,l);for(const u of this.#n)u!==t&&xu(this.#p,u,n,r,o,l);for(const u of this.#a)u!==t&&xu(this.#p,u,n,r,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of n)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#h.get(t);return this.#h.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#d.clear(),new AP(this.#u,this.#p)}takeDebugMetadata(){return this.#g}}class ld{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof ld&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,r,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,r,o,l),this}recordBBox(t,e,n,r,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,r,o,l),this}recordCharacterBBox(t,e,n,r,o,l,u){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,r,o,l,u),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const ii={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function fg(s,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,n),s.clip(r)}class im{isModifyingCurrentTransform(){return!1}getPattern(){ge("Abstract method `getPattern` called.")}}class xP extends im{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,r){let o;if(r===sn.STROKE||r===sn.FILL){const l=e.current.getClippedPathBoundingBox(r,Ee(t))||[0,0,0,0],u=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,f=e.cachedCanvases.getCanvas("pattern",u,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=At.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),fg(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(n);o.setTransform(m)}else fg(t,this._bbox),o=this._createGradient(t);return o}}function xp(s,t,e,n,r,o,l,u){const d=t.coords,f=t.colors,p=s.data,m=s.width*4;let v;d[e+1]>d[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v),d[n+1]>d[r+1]&&(v=n,n=r,r=v,v=l,l=u,u=v),d[e+1]>d[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v);const b=(d[e]+t.offsetX)*t.scaleX,w=(d[e+1]+t.offsetY)*t.scaleY,_=(d[n]+t.offsetX)*t.scaleX,x=(d[n+1]+t.offsetY)*t.scaleY,A=(d[r]+t.offsetX)*t.scaleX,C=(d[r+1]+t.offsetY)*t.scaleY;if(w>=C)return;const M=f[o],j=f[o+1],T=f[o+2],D=f[l],O=f[l+1],N=f[l+2],P=f[u],L=f[u+1],U=f[u+2],X=Math.round(w),H=Math.round(C);let W,J,I,E,rt,V,S,F;for(let $=X;$<=H;$++){if($<x){const dt=$<w?0:(w-$)/(w-x);W=b-(b-_)*dt,J=M-(M-D)*dt,I=j-(j-O)*dt,E=T-(T-N)*dt}else{let dt;$>C?dt=1:x===C?dt=0:dt=(x-$)/(x-C),W=_-(_-A)*dt,J=D-(D-P)*dt,I=O-(O-L)*dt,E=N-(N-U)*dt}let K;$<w?K=0:$>C?K=1:K=(w-$)/(w-C),rt=b-(b-A)*K,V=M-(M-P)*K,S=j-(j-L)*K,F=T-(T-U)*K;const tt=Math.round(Math.min(W,rt)),ct=Math.round(Math.max(W,rt));let at=m*$+tt*4;for(let dt=tt;dt<=ct;dt++)K=(W-dt)/(W-rt),K<0?K=0:K>1&&(K=1),p[at++]=J-(J-V)*K|0,p[at++]=I-(I-S)*K|0,p[at++]=E-(E-F)*K|0,p[at++]=255}}function TP(s,t,e){const n=t.coords,r=t.colors;let o,l;switch(t.type){case"lattice":const u=t.verticesPerRow,d=Math.floor(n.length/u)-1,f=u-1;for(o=0;o<d;o++){let p=o*u;for(let m=0;m<f;m++,p++)xp(s,e,n[p],n[p+1],n[p+u],r[p],r[p+1],r[p+u]),xp(s,e,n[p+u+1],n[p+1],n[p+u],r[p+u+1],r[p+1],r[p+u])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)xp(s,e,n[o],n[o+1],n[o+2],r[o],r[o+1],r[o+2]);break;default:throw new Error("illegal figure")}}class CP extends im{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const u=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-u,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=f/m,w=p/v,_={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-d,scaleX:1/b,scaleY:1/w},x=m+4,A=v+4,C=n.getCanvas("mesh",x,A),M=C.context,j=M.createImageData(m,v);if(e){const D=j.data;for(let O=0,N=D.length;O<N;O+=4)D[O]=e[0],D[O+1]=e[1],D[O+2]=e[2],D[O+3]=255}for(const D of this._figures)TP(j,D,_);return M.putImageData(j,2,2),{canvas:C.canvas,offsetX:u-2*b,offsetY:d-2*w,scaleX:b,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,r){fg(t,this._bbox);const o=new Float32Array(2);if(r===sn.SHADING)At.singularValueDecompose2dScale(Ee(t),o);else if(this.matrix){At.singularValueDecompose2dScale(this.matrix,o);const[u,d]=o;At.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=u,o[1]*=d}else At.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,r===sn.SHADING?null:this._background,e.cachedCanvases);return r!==sn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class RP extends im{getPattern(){return"hotpink"}}function OP(s){switch(s[0]){case"RadialAxial":return new xP(s);case"Mesh":return new CP(s);case"Dummy":return new RP}throw new Error(`Unknown IR type: ${s[0]}`)}const H_={COLORED:1,UNCOLORED:2};class sm{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:n,operatorList:r,paintType:o,tilingType:l,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),Md("TilingType: "+l);const m=n[0],v=n[1],b=n[2],w=n[3],_=b-m,x=w-v,A=new Float32Array(2);At.singularValueDecompose2dScale(this.matrix,A);const[C,M]=A;At.singularValueDecompose2dScale(this.baseTransform,A);const j=C*A[0],T=M*A[1];let D=_,O=x,N=!1,P=!1;const L=Math.ceil(f*j),U=Math.ceil(p*T),X=Math.ceil(_*j),H=Math.ceil(x*T);L>=X?D=f:N=!0,U>=H?O=p:P=!0;const W=this.getSizeAndScale(D,this.ctx.canvas.width,j),J=this.getSizeAndScale(O,this.ctx.canvas.height,T),I=t.cachedCanvases.getCanvas("pattern",W.size,J.size),E=I.context,rt=d.createCanvasGraphics(E,e);if(rt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(rt,o,u),E.translate(-W.scale*m,-J.scale*v),rt.transform(0,W.scale,0,0,J.scale,0,0),E.save(),rt.dependencyTracker?.save(),this.clipBbox(rt,m,v,b,w),rt.baseTransform=Ee(rt.ctx),rt.executeOperatorList(r),rt.endDrawing(),rt.dependencyTracker?.restore(),E.restore(),N||P){const V=I.canvas;N&&(D=f),P&&(O=p);const S=this.getSizeAndScale(D,this.ctx.canvas.width,j),F=this.getSizeAndScale(O,this.ctx.canvas.height,T),$=S.size,K=F.size,tt=t.cachedCanvases.getCanvas("pattern-workaround",$,K),ct=tt.context,at=N?Math.floor(_/f):0,dt=P?Math.floor(x/p):0;for(let yt=0;yt<=at;yt++)for(let Et=0;Et<=dt;Et++)ct.drawImage(V,$*yt,K*Et,$,K,0,0,$,K);return{canvas:tt.canvas,scaleX:S.scale,scaleY:F.scale,offsetX:m,offsetY:v}}return{canvas:I.canvas,scaleX:W.scale,scaleY:J.scale,offsetX:m,offsetY:v}}getSizeAndScale(t,e,n){const r=Math.max(sm.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=r?o=r:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,r,o){const l=r-e,u=o-n;t.ctx.rect(e,n,l,u),At.axialAlignedBoundingBox([e,n,r,o],Ee(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const r=t.ctx,o=t.current;switch(e){case H_.COLORED:const{fillStyle:l,strokeStyle:u}=this.ctx;r.fillStyle=o.fillColor=l,r.strokeStyle=o.strokeColor=u;break;case H_.UNCOLORED:r.fillStyle=r.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new KN(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,r,o){let l=n;r!==sn.SHADING&&(l=At.transform(l,e.baseTransform),this.matrix&&(l=At.transform(l,this.matrix)));const u=this.createPatternCanvas(e,o);let d=new DOMMatrix(l);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=t.createPattern(u.canvas,"repeat");return f.setTransform(d),f}}function MP({src:s,srcPos:t=0,dest:e,width:n,height:r,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const u=We.isLittleEndian?4278190080:255,[d,f]=l?[o,u]:[u,o],p=n>>3,m=n&7,v=s.length;e=new Uint32Array(e.buffer);let b=0;for(let w=0;w<r;w++){for(const x=t+p;t<x;t++){const A=t<v?s[t]:255;e[b++]=A&128?f:d,e[b++]=A&64?f:d,e[b++]=A&32?f:d,e[b++]=A&16?f:d,e[b++]=A&8?f:d,e[b++]=A&4?f:d,e[b++]=A&2?f:d,e[b++]=A&1?f:d}if(m===0)continue;const _=t<v?s[t++]:255;for(let x=0;x<m;x++)e[b++]=_&1<<7-x?f:d}return{srcPos:t,destPos:b}}const V_=16,$_=100,DP=15,q_=10,Mn=16,Tp=new DOMMatrix,Hn=new Float32Array(2),Ba=new Float32Array([1/0,1/0,-1/0,-1/0]);function kP(s,t){if(s._removeMirroring)throw new Error("Context is already forwarding operations.");s.__originalSave=s.save,s.__originalRestore=s.restore,s.__originalRotate=s.rotate,s.__originalScale=s.scale,s.__originalTranslate=s.translate,s.__originalTransform=s.transform,s.__originalSetTransform=s.setTransform,s.__originalResetTransform=s.resetTransform,s.__originalClip=s.clip,s.__originalMoveTo=s.moveTo,s.__originalLineTo=s.lineTo,s.__originalBezierCurveTo=s.bezierCurveTo,s.__originalRect=s.rect,s.__originalClosePath=s.closePath,s.__originalBeginPath=s.beginPath,s._removeMirroring=()=>{s.save=s.__originalSave,s.restore=s.__originalRestore,s.rotate=s.__originalRotate,s.scale=s.__originalScale,s.translate=s.__originalTranslate,s.transform=s.__originalTransform,s.setTransform=s.__originalSetTransform,s.resetTransform=s.__originalResetTransform,s.clip=s.__originalClip,s.moveTo=s.__originalMoveTo,s.lineTo=s.__originalLineTo,s.bezierCurveTo=s.__originalBezierCurveTo,s.rect=s.__originalRect,s.closePath=s.__originalClosePath,s.beginPath=s.__originalBeginPath,delete s._removeMirroring},s.save=function(){t.save(),this.__originalSave()},s.restore=function(){t.restore(),this.__originalRestore()},s.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},s.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},s.transform=function(e,n,r,o,l,u){t.transform(e,n,r,o,l,u),this.__originalTransform(e,n,r,o,l,u)},s.setTransform=function(e,n,r,o,l,u){t.setTransform(e,n,r,o,l,u),this.__originalSetTransform(e,n,r,o,l,u)},s.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},s.rotate=function(e){t.rotate(e),this.__originalRotate(e)},s.clip=function(e){t.clip(e),this.__originalClip(e)},s.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},s.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},s.bezierCurveTo=function(e,n,r,o,l,u){t.bezierCurveTo(e,n,r,o,l,u),this.__originalBezierCurveTo(e,n,r,o,l,u)},s.rect=function(e,n,r,o){t.rect(e,n,r,o),this.__originalRect(e,n,r,o)},s.closePath=function(){t.closePath(),this.__originalClosePath()},s.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class LP{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Cu(s,t,e,n,r,o,l,u,d,f){const[p,m,v,b,w,_]=Ee(s);if(m===0&&v===0){const C=l*p+w,M=Math.round(C),j=u*b+_,T=Math.round(j),D=(l+d)*p+w,O=Math.abs(Math.round(D)-M)||1,N=(u+f)*b+_,P=Math.abs(Math.round(N)-T)||1;return s.setTransform(Math.sign(p),0,0,Math.sign(b),M,T),s.drawImage(t,e,n,r,o,0,0,O,P),s.setTransform(p,m,v,b,w,_),[O,P]}if(p===0&&b===0){const C=u*v+w,M=Math.round(C),j=l*m+_,T=Math.round(j),D=(u+f)*v+w,O=Math.abs(Math.round(D)-M)||1,N=(l+d)*m+_,P=Math.abs(Math.round(N)-T)||1;return s.setTransform(0,Math.sign(m),Math.sign(v),0,M,T),s.drawImage(t,e,n,r,o,0,0,P,O),s.setTransform(p,m,v,b,w,_),[P,O]}s.drawImage(t,e,n,r,o,l,u,d,f);const x=Math.hypot(p,m),A=Math.hypot(v,b);return[x*d,A*f]}class G_{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=lg;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=en.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ba.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=sn.FILL,e=null){const n=this.minMax.slice();if(t===sn.STROKE){e||ge("Stroke bounding box must include transform."),At.singularValueDecompose2dScale(e,Hn);const r=Hn[0]*this.lineWidth/2,o=Hn[1]*this.lineWidth/2;n[0]-=r,n[1]-=o,n[2]+=r,n[3]+=o}return n}updateClipFromPath(){const t=At.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ba,0)}getClippedPathBoundingBox(t=sn.FILL,e=null){return At.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function X_(s,t){if(t instanceof ImageData){s.putImageData(t,0,0);return}const e=t.height,n=t.width,r=e%Mn,o=(e-r)/Mn,l=r===0?o:o+1,u=s.createImageData(n,Mn);let d=0,f;const p=t.data,m=u.data;let v,b,w,_;if(t.kind===Sl.GRAYSCALE_1BPP){const x=p.byteLength,A=new Uint32Array(m.buffer,0,m.byteLength>>2),C=A.length,M=n+7>>3,j=4294967295,T=We.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(w=v<o?Mn:r,f=0,b=0;b<w;b++){const D=x-d;let O=0;const N=D>M?n:D*8-7,P=N&-8;let L=0,U=0;for(;O<P;O+=8)U=p[d++],A[f++]=U&128?j:T,A[f++]=U&64?j:T,A[f++]=U&32?j:T,A[f++]=U&16?j:T,A[f++]=U&8?j:T,A[f++]=U&4?j:T,A[f++]=U&2?j:T,A[f++]=U&1?j:T;for(;O<N;O++)L===0&&(U=p[d++],L=128),A[f++]=U&L?j:T,L>>=1}for(;f<C;)A[f++]=0;s.putImageData(u,0,v*Mn)}}else if(t.kind===Sl.RGBA_32BPP){for(b=0,_=n*Mn*4,v=0;v<o;v++)m.set(p.subarray(d,d+_)),d+=_,s.putImageData(u,0,b),b+=Mn;v<l&&(_=n*r*4,m.set(p.subarray(d,d+_)),s.putImageData(u,0,b))}else if(t.kind===Sl.RGB_24BPP)for(w=Mn,_=n*w,v=0;v<l;v++){for(v>=o&&(w=r,_=n*w),f=0,b=_;b--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;s.putImageData(u,0,v*Mn)}else throw new Error(`bad image kind: ${t.kind}`)}function Y_(s,t){if(t.bitmap){s.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,r=e%Mn,o=(e-r)/Mn,l=r===0?o:o+1,u=s.createImageData(n,Mn);let d=0;const f=t.data,p=u.data;for(let m=0;m<l;m++){const v=m<o?Mn:r;({srcPos:d}=MP({src:f,srcPos:d,dest:p,width:n,height:v,nonBlackColor:0})),s.putImageData(u,0,m*Mn)}}function rl(s,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)s[n]!==void 0&&(t[n]=s[n]);s.setLineDash!==void 0&&(t.setLineDash(s.getLineDash()),t.lineDashOffset=s.lineDashOffset)}function Ru(s){s.strokeStyle=s.fillStyle="#000000",s.fillRule="nonzero",s.globalAlpha=1,s.lineWidth=1,s.lineCap="butt",s.lineJoin="miter",s.miterLimit=10,s.globalCompositeOperation="source-over",s.font="10px sans-serif",s.setLineDash!==void 0&&(s.setLineDash([]),s.lineDashOffset=0);const{filter:t}=s;t!=="none"&&t!==""&&(s.filter="none")}function W_(s,t){if(t)return!0;At.singularValueDecompose2dScale(s,Hn);const e=Math.fround(bi.pixelRatio*Fr.PDF_TO_CSS_UNITS);return Hn[0]<=e&&Hn[1]<=e}const NP=["butt","round","square"],PP=["miter","round","bevel"],BP={},K_={};class ja{constructor(t,e,n,r,o,{optionalContentConfig:l,markedContentStack:u=null},d,f,p){this.ctx=t,this.current=new G_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=r,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=l,this.cachedCanvases=new LP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:r=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=u,n){const d=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Ee(this.compositeCtx))}this.ctx.save(),Ru(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ee(this.ctx)}executeOperatorList(t,e,n,r,o){const l=t.argsArray,u=t.fnArray;let d=e||0;const f=l.length;if(f===d)return d;const p=f-d>q_&&typeof n=="function",m=p?Date.now()+DP:0;let v=0;const b=this.commonObjs,w=this.objs;let _,x;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,n),d;if(!o||o(d))if(_=u[d],x=l[d]??null,_!==Ga.dependency)x===null?this[_](d):this[_](d,...x);else for(const A of x){this.dependencyTracker?.recordNamedData(A,d);const C=A.startsWith("g_")?b:w;if(!C.has(A))return C.get(A,n),d}if(d++,d===f)return d;if(p&&++v>q_){if(Date.now()>m)return n(),d;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),u=n,d=r,f="prescale1",p,m;for(;o>2&&u>1||l>2&&d>1;){let v=u,b=d;o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),o/=u/v),l>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/b),p=this.cachedCanvases.getCanvas(f,v,b),m=p.context,m.clearRect(0,0,v,b),m.drawImage(t,0,0,u,d,0,0,v,b),t=p.canvas,u=v,d=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:d}}_createMaskCanvas(t,e){const n=this.ctx,{width:r,height:o}=e,l=this.current.fillColor,u=this.current.patternFill,d=Ee(n);let f,p,m,v;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;p=JSON.stringify(u?d:[d.slice(0,4),l]),f=this._cachedBitmapsMap.get(L),f||(f=new Map,this._cachedBitmapsMap.set(L,f));const U=f.get(p);if(U&&!u){const X=Math.round(Math.min(d[0],d[2])+d[4]),H=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,ii.transformAndFill),{canvas:U,offsetX:X,offsetY:H}}m=U}m||(v=this.cachedCanvases.getCanvas("maskCanvas",r,o),Y_(v.context,e));let b=At.transform(d,[1/r,0,0,-1/o,0,0]);b=At.transform(b,[1,0,0,1,0,-o]);const w=Ba.slice();At.axialAlignedBoundingBox([0,0,r,o],b,w);const[_,x,A,C]=w,M=Math.round(A-_)||1,j=Math.round(C-x)||1,T=this.cachedCanvases.getCanvas("fillCanvas",M,j),D=T.context,O=_,N=x;D.translate(-O,-N),D.transform(...b),m||(m=this._scaleImage(v.canvas,Ni(D)),m=m.img,f&&u&&f.set(p,m)),D.imageSmoothingEnabled=W_(Ee(D),e.interpolate),Cu(D,m,0,0,m.width,m.height,0,0,r,o),D.globalCompositeOperation="source-in";const P=At.transform(Ni(D),[1,0,0,1,-O,-N]);return D.fillStyle=u?l.getPattern(n,this,P,sn.FILL,t):l,D.fillRect(0,0,r,o),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,T.canvas)),this.dependencyTracker?.recordDependencies(t,ii.transformAndFill),{canvas:T.canvas,offsetX:Math.round(O),offsetY:Math.round(N)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=NP[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=PP[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,r]of e)switch(n){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(r,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),rl(this.suspendedCtx,l),kP(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,r){const o=r[0],l=r[1],u=r[2]-o,d=r[3]-l;u===0||d===0||(this.genericComposeSMask(e.context,n,u,d,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,r,o,l,u,d,f,p,m){let v=t.canvas,b=d-p,w=f-m;if(l)if(b<0||w<0||b+n>v.width||w+r>v.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,r),A=x.context;A.drawImage(v,-b,-w),A.globalCompositeOperation="destination-atop",A.fillStyle=l,A.fillRect(0,0,n,r),A.globalCompositeOperation="source-over",v=x.canvas,b=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(b,w,n,r),t.clip(x),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(b,w,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const _=new Path2D;_.rect(d,f,n,r),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(v,b,w,n,r,d,f,n,r),e.restore()}save(t){this.inSMaskMode&&rl(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&rl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,r,o,l,u){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,r,o,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,r){let[o]=n;if(!r){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===Ga.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let u=0,d=o.length;u<d;)switch(o[u++]){case Su.moveTo:l.moveTo(o[u++],o[u++]);break;case Su.lineTo:l.lineTo(o[u++],o[u++]);break;case Su.curveTo:l.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);break;case Su.closePath:l.closePath();break;default:Ht(`Unrecognized drawing path operator: ${o[u-1]}`);break}o=l}At.axialAlignedBoundingBox(r,Ee(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const r=this.ctx,o=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=o.getPattern(r,this,Ni(r),sn.STROKE,t),l){const u=new Path2D;u.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=u}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,ii.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(sn.STROKE,Ee(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const r=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let u=!1;if(l){const f=o.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=o.getPattern(r,this,Ni(r),sn.FILL,t),f){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(f)),e=p}u=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,ii.fill),u&&(r.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,ii.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=BP}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=K_}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:u,y:d,fontSize:f,path:p}of e)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(u,d).scale(f,-f));n.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),o=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=r.fontMatrix||lg,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Ht("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=r,this.current.fontSize=n,r.isType3Font)return;const l=r.loadedName||"sans-serif",u=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let p=n;n<V_?p=V_:n>$_&&(p=$_),this.current.fontSizeScale=n/p,this.ctx.font=`${f} ${d} ${p}px ${u}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),r}paintChar(t,e,n,r,o,l){const u=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,v=p&en.FILL_STROKE_MASK,b=!!(p&en.ADD_TO_PATH_FLAG),w=d.patternFill&&!f.missingFile,_=d.patternStroke&&!f.missingFile;let x;if((f.disableFontFace||b||w||_)&&!f.missingFile&&(x=f.getPathGenerator(this.commonObjs,e)),x&&(f.disableFontFace||w||_)){u.save(),u.translate(n,r),u.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,u,f);let A;if(v===en.FILL||v===en.FILL_STROKE)if(o){A=u.getTransform(),u.setTransform(...o);const C=this.#i(x,A,o);u.fill(C)}else u.fill(x);if(v===en.STROKE||v===en.FILL_STROKE)if(l){A||=u.getTransform(),u.setTransform(...l);const{a:C,b:M,c:j,d:T}=A,D=At.inverseTransform(l),O=At.transform([C,M,j,T,0,0],D);At.singularValueDecompose2dScale(O,Hn),u.lineWidth*=Math.max(Hn[0],Hn[1])/m,u.stroke(this.#i(x,A,l))}else u.lineWidth/=m,u.stroke(x);u.restore()}else(v===en.FILL||v===en.FILL_STROKE)&&(u.fillText(e,n,r),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r,()=>u.measureText(e))),(v===en.STROKE||v===en.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r,()=>u.measureText(e)).recordDependencies(t,ii.stroke),u.strokeText(e,n,r));b&&((this.pendingTextPaths||=[]).push({transform:Ee(u),x:n,y:r,fontSize:m,path:x}),this.dependencyTracker?.recordCharacterBBox(t,u,f,m,n,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return Gt(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,ii.showText).resetBBox(t),this.current.textRenderingMode&en.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,r=n.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,u=n.fontSizeScale,d=n.charSpacing,f=n.wordSpacing,p=n.fontDirection,m=n.textHScale*p,v=e.length,b=r.vertical,w=b?1:-1,_=r.defaultVMetrics,x=o*n.fontMatrix[0],A=n.textRenderingMode===en.FILL&&!r.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(m,-1):l.scale(m,1);let C,M;if(n.patternFill){l.save();const N=n.fillColor.getPattern(l,this,Ni(l),sn.FILL,t);C=Ee(l),l.restore(),l.fillStyle=N}if(n.patternStroke){l.save();const N=n.strokeColor.getPattern(l,this,Ni(l),sn.STROKE,t);M=Ee(l),l.restore(),l.strokeStyle=N}let j=n.lineWidth;const T=n.textMatrixScale;if(T===0||j===0){const N=n.textRenderingMode&en.FILL_STROKE_MASK;(N===en.STROKE||N===en.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=T;if(u!==1&&(l.scale(u,u),j/=u),l.lineWidth=j,r.isInvalidPDFjsFont){const N=[];let P=0;for(const U of e)N.push(U.unicode),P+=U.width;const L=N.join("");if(l.fillText(L,0,0),this.dependencyTracker!==null){const U=l.measureText(L);this.dependencyTracker.recordBBox(t,this.ctx,-U.actualBoundingBoxLeft,U.actualBoundingBoxRight,-U.actualBoundingBoxAscent,U.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=P*x*m,l.restore(),this.compose();return}let D=0,O;for(O=0;O<v;++O){const N=e[O];if(typeof N=="number"){D+=w*N*o/1e3;continue}let P=!1;const L=(N.isSpace?f:0)+d,U=N.fontChar,X=N.accent;let H,W,J=N.width;if(b){const rt=N.vmetric||_,V=-(N.vmetric?rt[1]:J*.5)*x,S=rt[2]*x;J=rt?-rt[0]:J,H=V/u,W=(D+S)/u}else H=D/u,W=0;let I;if(r.remeasure&&J>0){I=l.measureText(U);const rt=I.width*1e3/o*u;if(J<rt&&this.isFontSubpixelAAEnabled){const V=J/rt;P=!0,l.save(),l.scale(V,1),H/=V}else J!==rt&&(H+=(J-rt)/2e3*o/u)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(A&&!X)l.fillText(U,H,W),this.dependencyTracker?.recordCharacterBBox(t,l,I?{bbox:null}:r,o/u,H,W,()=>I??l.measureText(U));else if(this.paintChar(t,U,H,W,C,M),X){const rt=H+o*X.offset.x/u,V=W-o*X.offset.y/u;this.paintChar(t,X.fontChar,rt,V,C,M)}}const E=b?J*x-L*p:J*x+L*p;D+=E,P&&l.restore()}b?n.y-=D:n.x+=D*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,r=this.current,o=r.font,l=r.fontSize,u=r.fontDirection,d=o.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,m=r.textHScale*u,v=r.fontMatrix||lg,b=e.length,w=r.textRenderingMode===en.INVISIBLE;let _,x,A,C;if(w||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),r.textMatrix&&n.transform(...r.textMatrix),n.translate(r.x,r.y+r.textRise),n.scale(m,u);const M=this.dependencyTracker;for(this.dependencyTracker=M?new ld(M,t):null,_=0;_<b;++_){if(x=e[_],typeof x=="number"){C=d*x*l/1e3,this.ctx.translate(C,0),r.x+=C*m;continue}const j=(x.isSpace?p:0)+f,T=o.charProcOperatorList[x.operatorListId];T?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...v),this.executeOperatorList(T),this.restore()):Ht(`Type3 character "${x.operatorListId}" is not available.`);const D=[x.width,0];At.applyTransform(D,v),A=D[0]*l+j,n.translate(A,0),r.x+=A*m}n.restore(),M&&(this.dependencyTracker=M)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,r,o,l,u){const d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,o,u).recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const r=this.baseTransform||Ee(this.ctx),o={createCanvasGraphics:(l,u)=>new ja(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new ld(this.dependencyTracker,u,!0):null)};n=new sm(e,this.ctx,o,r)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=OP(this.getObject(t,e)),this.cachedPatterns.set(e,r)),n&&(r.matrix=n),r}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const r=this._getPattern(t,e);n.fillStyle=r.getPattern(n,this,Ni(n),sn.SHADING,t);const o=Ni(n);if(o){const{width:l,height:u}=n.canvas,d=Ba.slice();At.axialAlignedBoundingBox([0,0,l,u],o,d);const[f,p,m,v]=d;this.ctx.fillRect(f,p,m-f,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,ii.transform).recordDependencies(t,ii.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){ge("Should not call beginInlineImage")}beginImageData(){ge("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Ee(this.ctx),n)){At.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[r,o,l,u]=n,d=new Path2D;d.rect(r,o,l-r,u-o),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,o,u),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||Md("TODO: Support non-isolated groups."),e.knockout&&Ht("Knockout groups not supported.");const r=Ee(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Ba.slice();At.axialAlignedBoundingBox(e.bbox,Ee(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=At.intersect(o,l)||[0,0,0,0];const u=Math.floor(o[0]),d=Math.floor(o[1]),f=Math.max(Math.ceil(o[2])-u,1),p=Math.max(Math.ceil(o[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,p),b=v.context;b.translate(-u,-d),b.transform(...r);let w=new Path2D;const[_,x,A,C]=e.bbox;if(w.rect(_,x,A-_,C-x),e.matrix){const M=new Path2D;M.addPath(w,new DOMMatrix(e.matrix)),w=M}b.clip(w),e.smask&&this.smaskStack.push({canvas:v.canvas,context:b,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(u,d),n.save()),rl(n,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=Ee(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=Ba.slice();At.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,r,o,l){if(this.#t(),Ru(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const u=n[2]-n[0],d=n[3]-n[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=n[0],r[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=u,n[3]=d,At.singularValueDecompose2dScale(Ee(this.ctx),Hn);const{viewportScale:f}=this,p=Math.ceil(u*this.outputScaleX*f),m=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:v,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(Hn[0],0,0,-Hn[1],0,d*Hn[1]),Ru(this.ctx)}else{Ru(this.ctx),this.endPath(t);const f=new Path2D;f.rect(n[0],n[1],u,d),this.ctx.clip(f)}}this.current=new G_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const r=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,r=0,o=0,l,u){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const f=Ee(d);d.transform(n,r,o,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,v=u.length;m<v;m+=2){const b=At.transform(f,[n,r,o,l,u[m],u[m+1]]);d.drawImage(p.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(t,this.ctx,b[4],b[4]+p.canvas.width,b[5],b[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,r=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,ii.transformAndFill);for(const l of e){const{data:u,width:d,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=m.context;v.save();const b=this.getObject(t,u,l);Y_(v,b),v.globalCompositeOperation="source-in",v.fillStyle=o?r.getPattern(v,this,Ni(n),sn.FILL,t):r,v.fillRect(0,0,d,f),v.restore(),n.save(),n.transform(...p),n.scale(1,-1),Cu(n,m.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,d,0,f),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Ht("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,r,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Ht("Dependent image isn't ready yet");return}const u=l.width,d=l.height,f=[];for(let p=0,m=o.length;p<m;p+=2)f.push({transform:[n,0,0,r,o[p],o[p+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(t,l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:r}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,r=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/r);let u;if(e.bitmap)u=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)u=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,r).context;X_(p,e),u=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(u,Ni(o));o.imageSmoothingEnabled=W_(Ee(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-r,0).recordDependencies(t,ii.imageXObject).recordOperation(t),Cu(o,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,n,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const r=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",l,u).context;X_(f,e),o=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const l of n)r.save(),r.transform(...l.transform),r.scale(1,-1),Cu(r,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,ii.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(r||(this.pendingClip===K_?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ee(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:r,d:o}=this.ctx.getTransform();let l,u;if(n===0&&r===0){const d=Math.abs(e),f=Math.abs(o);if(d===f)if(t===0)l=u=1/d;else{const p=d*t;l=u=p<1?1/p:1}else if(t===0)l=1/d,u=1/f;else{const p=d*t,m=f*t;l=p<1?1/p:1,u=m<1?1/m:1}}else{const d=Math.abs(e*o-n*r),f=Math.hypot(e,n),p=Math.hypot(r,o);if(t===0)l=p/d,u=f/d;else{const m=t*d;l=p>m?p/m:1,u=f>m?f/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:r}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(r||1)*o,n.stroke(t);return}const u=n.getLineDash();e&&n.save(),n.scale(o,l),Tp.a=1/o,Tp.d=1/l;const d=new Path2D;if(d.addPath(t,Tp),u.length>0){const f=Math.max(o,l);n.setLineDash(u.map(p=>p/f)),n.lineDashOffset/=f}n.lineWidth=r||1,n.stroke(d),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const s in Ga)ja.prototype[s]!==void 0&&(ja.prototype[Ga[s]]=ja.prototype[s]);class Ia{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let r=0;for(const f of Ia.strings){const p=e.encode(t[f]);n[f]=p,r+=4+p.length}const o=new ArrayBuffer(r),l=new Uint8Array(o),u=new DataView(o);let d=0;for(const f of Ia.strings){const p=n[f],m=p.length;u.setUint32(d,m),l.set(p,d+4),d+=4+m}return Jt(d===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){Jt(t<Ia.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class za{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let r=0;for(const v of za.strings){const b=e.encode(t[v]);n[v]=b,r+=4+b.length}r+=4;let o,l,u=1+r;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),u+=4+o.length+4+l.length);const d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,r=0;for(const v of za.strings){const b=n[v],w=b.length;r+=4+w,p.setUint32(m,w),f.set(b,m+4),m+=4+w}return p.setUint32(m-r-4,r),t.style&&(p.setUint32(m,o.length),f.set(o,m+4),m+=4+o.length,p.setUint32(m,l.length),f.set(l,m+4),m+=4+l.length),Jt(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){Jt(t<za.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:n,weight:o}}}class de{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){Jt(t<de.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,r=this.#o.getUint8(e)>>n&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return Jt(t<de.numbers.length,"Invalid number index"),this.#o.getFloat64(de.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=de.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<4;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=de.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<6;r++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=de.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let r=0;r<3;r++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#h(t){Jt(t<de.strings.length,"Invalid string index");let e=de.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(r)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);t+=4+r;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const r=this.#o.getUint32(t);if(r===0)return null;const o=new Uint8Array(r);return o.set(new Uint8Array(this.#s,t+4,r)),new Ia(o.buffer)}get systemFontInfo(){let t=de.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const r=new Uint8Array(n);return r.set(new Uint8Array(this.#s,t+4,n)),new za(r.buffer)}static write(t){const e=t.systemFontInfo?za.write(t.systemFontInfo):null,n=t.cssFontInfo?Ia.write(t.cssFontInfo):null,r=new TextEncoder,o={};let l=0;for(const _ of de.strings)o[_]=r.encode(t[_]),l+=4+o[_].length;const u=de.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(u),f=new Uint8Array(d),p=new DataView(d);let m=0;const v=de.bools.length;let b=0,w=0;for(let _=0;_<v;_++){const x=t[de.bools[_]];b|=(x===void 0?0:x?2:1)<<w,w+=2,(w===8||_===v-1)&&(p.setUint8(m++,b),b=0,w=0)}Jt(m===de.#t,"FontInfo.write: Boolean properties offset mismatch");for(const _ of de.numbers)p.setFloat64(m,t[_]),m+=8;if(Jt(m===de.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const _ of t.bbox)p.setInt16(m,_,!0),m+=2}else p.setUint8(m++,0),m+=8;if(Jt(m===de.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const _ of t.fontMatrix)p.setFloat64(m,_,!0),m+=8}else p.setUint8(m++,0),m+=48;if(Jt(m===de.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const _ of t.defaultVMetrics)p.setInt16(m,_,!0),m+=2}else p.setUint8(m++,0),m+=6;Jt(m===de.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(de.#a,0),m+=4;for(const _ of de.strings){const x=o[_],A=x.length;p.setUint32(m,A),f.set(x,m+4),m+=4+A}if(p.setUint32(de.#a,m-de.#a-4),!e)p.setUint32(m,0),m+=4;else{const _=e.byteLength;p.setUint32(m,_),Jt(m+4+_<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(e),m+4),m+=4+_}if(!n)p.setUint32(m,0),m+=4;else{const _=n.byteLength;p.setUint32(m,_),Jt(m+4+_<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(n),m+4),m+=4+_}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),f.set(t.data,m+4),m+=4+t.data.length),Jt(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class Gs{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class FP{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Na=Symbol("INTERNAL");class jP{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:r,rbGroups:o}){this.#t=!!(t&zn.DISPLAY),this.#e=!!(t&zn.PRINT),this.name=e,this.intent=n,this.usage=r,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Na&&ge("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class IP{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=zn.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new jP(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Na,!1);for(const n of t.on)this.#e.get(n)._setVisible(Na,!0);for(const n of t.off)this.#e.get(n)._setVisible(Na,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let r=1;r<e;r++){const o=t[r];let l;if(Array.isArray(o))l=this.#a(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return Ht(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return Md("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Ht(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Ht(`Unknown optional content policy ${t.policy}.`),!0}return Ht(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const r=this.#e.get(t);if(!r){Ht(`Optional content group not found: ${t}`);return}if(n&&e&&r.rbGroups.length)for(const o of r.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(Na,!1,!0);r._setVisible(Na,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const o=this.#e.get(r);if(o)switch(n){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new ww;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class zP{constructor(t,{disableRange:e=!1,disableStream:n=!1}){Jt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:o,progressiveDone:l,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=u,o?.length>0){const d=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,f)=>{this._onReceiveData({begin:d,chunk:f})}),t.addProgressListener((d,f)=>{this._onProgress({loaded:d,total:f})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});Jt(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Jt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new UP(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new HP(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class UP{constructor(t,e,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=kd(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class HP{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function VP(s){let t=!0,e=n("filename\\*","i").exec(s);if(e){e=e[1];let p=u(e);return p=unescape(p),p=d(p),p=f(p),o(p)}if(e=l(s),e){const p=f(e);return o(p)}if(e=n("filename","i").exec(s),e){e=e[1];let p=u(e);return p=f(p),o(p)}function n(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const v=new TextDecoder(p,{fatal:!0}),b=Gl(m);m=v.decode(b),t=!1}catch{}}return m}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const m=[];let v;const b=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=b.exec(p))!==null;){let[,_,x,A]=v;if(_=parseInt(_,10),_ in m){if(_===0)break;continue}m[_]=[x,A]}const w=[];for(let _=0;_<m.length&&_ in m;++_){let[x,A]=m[_];A=u(A),x&&(A=unescape(A),_===0&&(A=d(A))),w.push(A)}return w.join("")}function u(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let v=0;v<m.length;++v){const b=m[v].indexOf('"');b!==-1&&(m[v]=m[v].slice(0,b),m.length=v+1),m[v]=m[v].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const v=p.slice(0,m),w=p.slice(m+1).replace(/^[^']*'/,"");return r(v,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,v,b,w){if(b==="q"||b==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,x){return String.fromCharCode(parseInt(x,16))}),r(v,w);try{w=atob(w)}catch{}return r(v,w)})}return""}function Mw(s,t){const e=new Headers;if(!s||!t||typeof t!="object")return e;for(const n in t){const r=t[n];r!==void 0&&e.append(n,r)}return e}function Ld(s){return URL.parse(s)?.origin??null}function Dw({responseHeaders:s,isHttp:t,rangeChunkSize:e,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(s.get("Content-Length"),10);return!Number.isInteger(o)||(r.suggestedLength=o,o<=2*e)||n||!t||s.get("Accept-Ranges")!=="bytes"||(s.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function kw(s){const t=s.get("Content-Disposition");if(t){let e=VP(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(kd(e))return e}return null}function Zl(s,t){return new Rl(`Unexpected server response (${s}) while retrieving PDF "${t}".`,s,s===404||s===0&&t.startsWith("file:"))}function Lw(s){return s===200||s===206}function Nw(s,t,e){return{method:"GET",headers:s,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Pw(s){return s instanceof Uint8Array?s.buffer:s instanceof ArrayBuffer?s:(Ht(`getArrayBuffer - unexpected data format: ${s}`),new Uint8Array(s).buffer)}class $P{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Mw(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Jt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new qP(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new GP(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class qP{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),r=e.url;fetch(r,Nw(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Ld(o.url),!Lw(o.status))throw Zl(o.status,r);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:u,suggestedLength:d}=Dw({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=kw(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new gs("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Pw(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class GP{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=r.url;fetch(l,Nw(o,this._withCredentials,this._abortController)).then(u=>{const d=Ld(u.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!Lw(u.status))throw Zl(u.status,l);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Pw(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Cp=200,Rp=206;function XP(s){const t=s.response;return typeof t!="string"?t:Gl(t).buffer}class YP{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Mw(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Rp):r.expectedStatus=Cp,e.responseType="arraybuffer",Jt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const o=r.status||Cp;if(!(o===Cp&&n.expectedStatus===Rp)&&o!==n.expectedStatus){n.onError(r.status);return}const u=XP(r);if(o===Rp){const d=r.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);f?n.onDone({begin:parseInt(f[1],10),chunk:u}):(Ht('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class WP{constructor(t){this._source=t,this._manager=new YP(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Jt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new KP(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new ZP(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class KP{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Ld(e.responseURL);const n=e.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=Dw({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=kw(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Zl(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ZP{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Ld(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Zl(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const QP=/^[a-z][a-z0-9\-+.]+:/i;function JP(s){if(QP.test(s))return new URL(s);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(s))}class t3{constructor(t){this.source=t,this.url=JP(t.url),Jt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Jt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new e3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new n3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class e3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Zl(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new gs("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n3{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const al=Symbol("INITIAL_DATA");class Bw{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:al}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const n=this.#t[t];if(!n||n.data===al)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==al}delete(t){const e=this.#t[t];return!e||e.data===al?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==al&&(yield[t,e])}}}const i3=1e5,Z_=30;let Ml=class si{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#m=[];#p=null;#u=[];#g=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#x=new WeakMap;static#A=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#d=n.scale*bi.pixelRatio,this.#h=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:o,pageX:l,pageY:u}=n.rawDims;this.#y=[1,0,0,-1,-l,u+o],this.#o=r,this.#r=o,si.#O(),Ys(e,n),this.#t.promise.finally(()=>{si.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=We.platform;return Gt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),si.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*bi.pixelRatio,r=t.rotation;if(r!==this.#h&&(e?.(),this.#h=r,Ys(this.#l,{rotation:r})),n!==this.#d){e?.(),this.#d=n;const o={div:null,properties:null,ctx:si.#M(this.#a)};for(const l of this.#u)o.properties=this.#g.get(l),o.div=l,this.#E(o)}}cancel(){const t=new gs("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#C(t){if(this.#i)return;this.#s.ctx??=si.#M(this.#a);const e=this.#u,n=this.#m;for(const r of t){if(e.length>i3){Ht("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),o.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#w(r)}}#w(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=At.transform(this.#y,t.transform);let o=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let u=this.#n&&l.fontSubstitution||l.fontFamily;u=si.fontFamilyMap.get(u)||u;const d=Math.hypot(r[2],r[3]),f=d*si.#F(u,l,this.#a);let p,m;o===0?(p=r[4],m=r[5]-f):(p=r[4]+f*Math.sin(o),m=r[5]-f*Math.cos(o));const v="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#l?(b.left=`${(100*p/this.#o).toFixed(2)}%`,b.top=`${(100*m/this.#r).toFixed(2)}%`):(b.left=`${v}${p.toFixed(2)}px)`,b.top=`${v}${m.toFixed(2)}px)`),b.fontSize=`${v}${(si.#A*d).toFixed(2)}px)`,b.fontFamily=u,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const _=Math.abs(t.transform[0]),x=Math.abs(t.transform[3]);_!==x&&Math.max(_,x)/Math.min(_,x)>1.5&&(w=!0)}if(w&&(n.canvasWidth=l.vertical?t.height:t.width),this.#g.set(e,n),this.#s.div=e,this.#s.properties=n,this.#E(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this.#e.append(_)}}#E(t){const{div:e,properties:n,ctx:r}=t,{style:o}=e;let l="";if(si.#A>1&&(l=`scale(${1/si.#A})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=o,{canvasWidth:d,fontSize:f}=n;si.#R(r,f*this.#d,u);const{width:p}=r.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#d/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#M(t=null){let e=this.#v.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#x.set(e,{size:0,family:""})}return e}static#R(t,e,n){const r=this.#x.get(t);e===r.size&&n===r.family||(t.font=`${e}px ${n}`,r.size=e,r.family=n)}static#O(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#F(t,e,n){const r=this.#b.get(t);if(r)return r;const o=this.#M(n);o.canvas.width=o.canvas.height=Z_,this.#R(o,Z_,t);const l=o.measureText(""),u=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let f=.8;return u?f=u/(u+d):(We.platform.isFirefox&&Ht("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?f=e.ascent:e.descent&&(f=1+e.descent)),this.#b.set(t,f),f}};const s3=100;function rm(s={}){typeof s=="string"||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const t=new am,{docId:e}=t,n=s.url?hP(s.url):null,r=s.data?fP(s.data):null,o=s.httpHeaders||null,l=s.withCredentials===!0,u=s.password??null,d=s.range instanceof om?s.range:null,f=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:2**16;let p=s.worker instanceof Xa?s.worker:null;const m=s.verbosity,v=typeof s.docBaseUrl=="string"&&!Yl(s.docBaseUrl)?s.docBaseUrl:null,b=Au(s.cMapUrl),w=s.cMapPacked!==!1,_=s.CMapReaderFactory||(gn?_P:F_),x=Au(s.iccUrl),A=Au(s.standardFontDataUrl),C=s.StandardFontDataFactory||(gn?SP:j_),M=Au(s.wasmUrl),j=s.WasmFactory||(gn?wP:I_),T=s.stopAtErrors!==!0,D=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,O=s.isEvalSupported!==!1,N=typeof s.isOffscreenCanvasSupported=="boolean"?s.isOffscreenCanvasSupported:!gn,P=typeof s.isImageDecoderSupported=="boolean"?s.isImageDecoderSupported:!gn&&(We.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,U=typeof s.disableFontFace=="boolean"?s.disableFontFace:gn,X=s.fontExtraProperties===!0,H=s.enableXfa===!0,W=s.ownerDocument||globalThis.document,J=s.disableRange===!0,I=s.disableStream===!0,E=s.disableAutoFetch===!0,rt=s.pdfBug===!0,V=s.CanvasFactory||(gn?bP:mP),S=s.FilterFactory||(gn?vP:yP),F=s.enableHWA===!0,$=s.useWasm!==!1,K=d?d.length:s.length??NaN,tt=typeof s.useSystemFonts=="boolean"?s.useSystemFonts:!gn&&!U,ct=typeof s.useWorkerFetch=="boolean"?s.useWorkerFetch:!!(_===F_&&C===j_&&j===I_&&b&&A&&M&&pl(b,document.baseURI)&&pl(A,document.baseURI)&&pl(M,document.baseURI)),at=null;XN(m);const dt={canvasFactory:new V({ownerDocument:W,enableHWA:F}),filterFactory:new S({docId:e,ownerDocument:W}),cMapReaderFactory:ct?null:new _({baseUrl:b,isCompressed:w}),standardFontDataFactory:ct?null:new C({baseUrl:A}),wasmFactory:ct?null:new j({baseUrl:M})};p||(p=Xa.create({verbosity:m,port:Gs.workerPort}),t._worker=p);const yt={docId:e,apiVersion:"5.4.296",data:r,password:u,disableAutoFetch:E,rangeChunkSize:f,length:K,docBaseUrl:v,enableXfa:H,evaluatorOptions:{maxImageSize:D,disableFontFace:U,ignoreErrors:T,isEvalSupported:O,isOffscreenCanvasSupported:N,isImageDecoderSupported:P,canvasMaxAreaInBytes:L,fontExtraProperties:X,useSystemFonts:tt,useWasm:$,useWorkerFetch:ct,cMapUrl:b,iccUrl:x,standardFontDataUrl:A,wasmUrl:M}},Et={ownerDocument:W,pdfBug:rt,styleElement:at,loadingParams:{disableAutoFetch:E,enableXfa:H}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const St=p.messageHandler.sendWithPromise("GetDocRequest",yt,r?[r.buffer]:null);let It;if(d)It=new zP(d,{disableRange:J,disableStream:I});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const jt=pl(n)?$P:gn?t3:WP;It=new jt({url:n,length:K,httpHeaders:o,withCredentials:l,rangeChunkSize:f,disableRange:J,disableStream:I})}return St.then(jt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const bt=new gl(e,jt,p.port),_t=new o3(bt,t,It,Et,dt,F);t._transport=_t,bt.send("Ready",null)})}).catch(t._capability.reject),t}class am{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${am.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let om=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){ge("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class r3{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class a3{#t=!1;constructor(t,e,n,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=r?new M_:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new Bw,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:o=!1}={}){return new Xl({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:r,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Gt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:r="display",annotationMode:o=Ui.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:v=!1,recordOperations:b=!1,operationsFilter:w=null}){this._stats?.time("Overall");const _=this._transport.getRenderingIntent(r,o,m,v),{renderingIntent:x,cacheKey:A}=_;this.#t=!1,d||=this._transport.getOptionalContentConfig(x);let C=this._intentStates.get(A);C||(C=Object.create(null),this._intentStates.set(A,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const M=!!(x&zn.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(_));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),T=!this.recordedBBoxes&&(b||j),D=P=>{if(C.renderTasks.delete(O),T){const L=O.gfx?.dependencyTracker.take();L&&(O.stepper&&O.stepper.setOperatorBBoxes(L,O.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=L))}M&&(this.#t=!0),this.#e(),P?(O.capability.reject(P),this._abortOperatorList({intentState:C,reason:P instanceof Error?P:new Error(P)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new Fa({callback:D,params:{canvas:e,canvasContext:t,dependencyTracker:T?new EP(e,C.operatorList.length,j):null,viewport:n,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:w});(C.renderTasks||=new Set).add(O);const N=O.task;return Promise.all([C.displayReadyCapability.promise,d]).then(([P,L])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:P,optionalContentConfig:L}),O.operatorListChanged()}).catch(D),N}getOperatorList({intent:t="display",annotationMode:e=Ui.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function o(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,n,r,!0);let u=this._intentStates.get(l.cacheKey);u||(u=Object.create(null),this._intentStates.set(l.cacheKey,u));let d;return u.opListReadCapability||(d=Object.create(null),d.operatorListChanged=o,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(d),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Ol.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,r){function o(){l.read().then(function({value:d,done:f}){if(f){n(u);return}u.lang??=d.lang,Object.assign(u.styles,d.styles),u.items.push(...d.items),o()},r)}const l=e.getReader(),u={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new M_),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:r}){const{map:o,transfer:l}=n,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:r},l).getReader(),f=this._intentStates.get(e);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#e()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Dd){let r=s3;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new gs(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,o]of this._intentStates)if(o===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var $s,di,ls,Rr,dd,Or,Mr,bn,zu,Fw,jw,ml,Va,Uu;const _e=class _e{constructor({name:t=null,port:e=null,verbosity:n=YN()}={}){Di(this,bn);Di(this,$s,Promise.withResolvers());Di(this,di,null);Di(this,ls,null);Di(this,Rr,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(be(_e,Mr).has(e))throw new Error("Cannot use more than one PDFWorker per port.");be(_e,Mr).set(e,this),ki(this,bn,Fw).call(this,e)}else ki(this,bn,jw).call(this)}get promise(){return be(this,$s).promise}get port(){return be(this,ls)}get messageHandler(){return be(this,di)}destroy(){this.destroyed=!0,be(this,Rr)?.terminate(),xn(this,Rr,null),be(_e,Mr).delete(be(this,ls)),xn(this,ls,null),be(this,di)?.destroy(),xn(this,di,null)}static create(t){const e=be(this,Mr).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new _e(t)}static get workerSrc(){if(Gs.workerSrc)return Gs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Gt(this,"_setupFakeWorkerGlobal",(async()=>be(this,Va,Uu)?be(this,Va,Uu):(await import(this.workerSrc)).WorkerMessageHandler)())}};$s=new WeakMap,di=new WeakMap,ls=new WeakMap,Rr=new WeakMap,dd=new WeakMap,Or=new WeakMap,Mr=new WeakMap,bn=new WeakSet,zu=function(){be(this,$s).resolve(),be(this,di).send("configure",{verbosity:this.verbosity})},Fw=function(t){xn(this,ls,t),xn(this,di,new gl("main","worker",t)),be(this,di).on("ready",()=>{}),ki(this,bn,zu).call(this)},jw=function(){if(be(_e,Or)||be(_e,Va,Uu)){ki(this,bn,ml).call(this);return}let{workerSrc:t}=_e;try{_e._isSameOrigin(window.location,t)||(t=_e._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new gl("main","worker",e),r=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?be(this,$s).reject(new Error("Worker was destroyed")):ki(this,bn,ml).call(this)},o=new AbortController;e.addEventListener("error",()=>{be(this,Rr)||r()},{signal:o.signal}),n.on("test",u=>{if(o.abort(),this.destroyed||!u){r();return}xn(this,di,n),xn(this,ls,e),xn(this,Rr,e),ki(this,bn,zu).call(this)}),n.on("ready",u=>{if(o.abort(),this.destroyed){r();return}try{l()}catch{ki(this,bn,ml).call(this)}});const l=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};l();return}catch{Md("The worker has been disabled.")}ki(this,bn,ml).call(this)},ml=function(){be(_e,Or)||(Ht("Setting up fake worker."),xn(_e,Or,!0)),_e._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){be(this,$s).reject(new Error("Worker was destroyed"));return}const e=new gP;xn(this,ls,e);const n=`fake${r0(_e,dd)._++}`,r=new gl(n+"_worker",n,e);t.setup(r,e),xn(this,di,new gl(n,n+"_worker",e)),ki(this,bn,zu).call(this)}).catch(t=>{be(this,$s).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Va=new WeakSet,Uu=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Di(_e,Va),Di(_e,dd,0),Di(_e,Or,!1),Di(_e,Mr,new WeakMap),gn&&(xn(_e,Or,!0),Gs.workerSrc||="./pdf.worker.mjs"),_e._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(e,n);return n.origin===r.origin},_e._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},_e.fromPort=t=>{if(iP("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _e.create(t)};let Xa=_e;class o3{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,r,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Bw,this.fontLoader=new uP({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Gt(this,"annotationStorage",new em)}getRenderingIntent(t,e=Ui.ENABLE,n=null,r=!1,o=!1){let l=zn.DISPLAY,u=ug;switch(t){case"any":l=zn.ANY;break;case"display":break;case"print":l=zn.PRINT;break;default:Ht(`getRenderingIntent - invalid intent: ${t}`)}const d=l&zn.PRINT&&n instanceof Aw?n:this.annotationStorage;switch(e){case Ui.DISABLE:l+=zn.ANNOTATIONS_DISABLE;break;case Ui.ENABLE:break;case Ui.ENABLE_FORMS:l+=zn.ANNOTATIONS_FORMS;break;case Ui.ENABLE_STORAGE:l+=zn.ANNOTATIONS_STORAGE,u=d.serializable;break;default:Ht(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=zn.IS_EDITING),o&&(l+=zn.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[l,u.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:u,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Ml.cleanup(),this._networkStream?.cancelAllRequests(new gs("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,r)=>{Jt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},r.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){r.close();return}Jt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{this._fullReader.cancel(o),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:o,contentLength:l}=this._fullReader;return(!r||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{e.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,r)=>{Jt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){r.close();return}r.onPull=()=>{o.read().then(function({value:l,done:u}){if(u){r.close();return}Jt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{o.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new r3(n,this))}),t.on("DocException",n=>{e._capability.reject(Rn(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw Rn(n);const r=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in o){const p=o.error;Ht(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new de(o),u=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new dP(l,u,o.extra,o.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(n,d)});break;case"CopyLocalImage":const{imageRef:f}=o;Jt(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,m]of p.objs)if(m?.ref===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,o,l])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(n)){if(u._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":u.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ht("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new a3(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return dg(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new IP(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new FP(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Ml.cleanup()}}cachedPageNumber(t){if(!dg(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class l3{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Fa{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:r,annotationCanvasMap:o,operatorList:l,pageIndex:u,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:v=null,enableHWA:b=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=u,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new l3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=b,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Fa.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Fa.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:r,background:o,dependencyTracker:l}=this.params,u=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ja(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Fa.#e.delete(this._canvas),t||=new Dd(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Fa.#e.delete(this._canvas),this.callback())))}}const lm="5.4.296",Iw="f56dc8601";class Un{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Gt(this,"_keyboardManager",new Wl([[["Escape","mac+Escape"],Un.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Un.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Un.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Un.prototype._moveToPrevious],[["Home","mac+Home"],Un.prototype._moveToBeginning],[["End","mac+End"],Un.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Un.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#d();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#d(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",qn,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,r]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",r),o.title=n,o.setAttribute("data-l10n-id",Un.#h[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=r,o.ariaSelected=r===this.#i,o.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Zt.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#g){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#p(t);return}this.#n.lastChild?.focus()}#m(t){Un._keyboardManager.exec(this,t)}#p(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#d();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#g){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Dl{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Dl.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=n||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Dl.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function Q_(s){return Math.floor(Math.max(0,Math.min(1,s))*255).toString(16).padStart(2,"0")}function ol(s){return Math.max(0,Math.min(255,255*s))}class J_{static CMYK_G([t,e,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=ol(t),[t,t,t]}static G_HTML([t]){const e=Q_(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(ol)}static RGB_HTML(t){return`#${t.map(Q_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,n,r]){return[ol(1-Math.min(1,t+r)),ol(1-Math.min(1,n+r)),ol(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const r=1-t,o=1-e,l=1-n,u=Math.min(r,o,l);return["CMYK",r,o,l,u]}}class c3{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ge("Abstract method `_createSVG` called.")}}class kl extends c3{_createSVG(t){return document.createElementNS(os,t)}}const u3=9,jr=new WeakSet,d3=new Date().getTimezoneOffset()*60*1e3;class tS{static create(t){switch(t.data.annotationType){case De.LINK:return new cm(t);case De.TEXT:return new f3(t);case De.WIDGET:switch(t.data.fieldType){case"Tx":return new p3(t);case"Btn":return t.data.radioButton?new zw(t):t.data.checkBox?new m3(t):new y3(t);case"Ch":return new v3(t);case"Sig":return new g3(t)}return new Hr(t);case De.POPUP:return new pg(t);case De.FREETEXT:return new Uw(t);case De.LINE:return new _3(t);case De.SQUARE:return new S3(t);case De.CIRCLE:return new w3(t);case De.POLYLINE:return new Hw(t);case De.CARET:return new E3(t);case De.INK:return new um(t);case De.POLYGON:return new A3(t);case De.HIGHLIGHT:return new Vw(t);case De.UNDERLINE:return new x3(t);case De.SQUIGGLY:return new T3(t);case De.STRIKEOUT:return new C3(t);case De.STAMP:return new $w(t);case De.FILEATTACHMENT:return new R3(t);default:return new Te(t)}}}class Te{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Te._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:r}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let u=0;u<e.length;u+=8)e[u+1]>l?(l=e[u+1],o=e[u+2]):e[u+1]===l&&(o=Math.max(o,e[u+2]));return[o,l]}if(n?.length>=1){for(const u of n)for(let d=0,f=u.length;d<f;d+=2)u[d+1]>l?(l=u[d+1],o=u[d]):u[d+1]===l&&(o=Math.max(o,u[d]));if(o!==1/0)return[o,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Cl}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Cl}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&n?.text&&(this._createPopup(n),r=this.#i.popup),r&&(r.updateEdited(t),n?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:u,pageY:d}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-u)/o}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:n,viewport:r}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof Hr)&&!(this instanceof cm)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof pg){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,o),o}const{width:u,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,x=e.borderStyle.verticalCornerRadius;if(_>0||x>0){const C=`calc(${_}px * var(--total-scale-factor)) / calc(${x}px * var(--total-scale-factor))`;l.borderRadius=C}else if(this instanceof zw){const C=`calc(${u}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=C}switch(e.borderStyle.style){case La.SOLID:l.borderStyle="solid";break;case La.DASHED:l.borderStyle="dashed";break;case La.BEVELED:Ht("Unimplemented border style: beveled");break;case La.INSET:Ht("Unimplemented border style: inset");break;case La.UNDERLINE:l.borderBottomStyle="solid";break}const A=e.borderColor||null;A?(this.#e=!0,l.borderColor=At.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):l.borderWidth=0}const f=At.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:m,pageX:v,pageY:b}=r.rawDims;l.left=`${100*(f[0]-v)/p}%`,l.top=`${100*(f[1]-b)/m}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(l.width=`${100*u/p}%`,l.height=`${100*d/m}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,r)=>{const o=r.detail[e],l=o[0],u=o.slice(1);r.target.style[n]=J_[`${l}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:J_[`${l}_rgb`](u)})};return Gt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||n[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[r,o]of Object.entries(e)){const l=n[r];if(l){const u={detail:{[r]:o},target:t};l(u),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,r,o]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,x,A,C]=t.subarray(2,6);if(r===_&&o===x&&e===A&&n===C)return}const{style:l}=this.container;let u;if(this.#e){const{borderColor:_,borderWidth:x}=l;l.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${x}">`],this.container.classList.add("hasBorder")}const d=r-e,f=o-n,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const v=p.createElement("defs");m.append(v);const b=p.createElement("clipPath"),w=`clippath_${this.data.id}`;b.setAttribute("id",w),b.setAttribute("clipPathUnits","objectBoundingBox"),v.append(b);for(let _=2,x=t.length;_<x;_+=8){const A=t[_],C=t[_+1],M=t[_+2],j=t[_+3],T=p.createElement("rect"),D=(M-e)/d,O=(o-C)/f,N=(A-M)/d,P=(C-j)/f;T.setAttribute("x",D),T.setAttribute("y",O),T.setAttribute("width",N),T.setAttribute("height",P),b.append(T),u?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${O}" width="${N}" height="${P}"/>`)}this.#e&&(u.push("</g></svg>')"),l.backgroundImage=u.join("")),this.container.append(m),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let n,r;t?(n={str:t.text},r=t.date):(n=e.contentsObj,r=e.modificationDate);const o=this.#i=new pg({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){ge("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:o,id:l,exportValues:u}of r){if(o===-1||l===e)continue;const d=typeof u=="string"?u:null,f=document.querySelector(`[data-element-id="${l}"]`);if(f&&!jr.has(f)){Ht(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:f})}return n}for(const r of document.getElementsByName(t)){const{exportValue:o}=r,l=r.getAttribute("data-element-id");l!==e&&jr.has(r)&&n.push({id:l,exportValue:o,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class h3 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class cm extends Te{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const o=n.get(r);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Ht('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:o,include:l}=e,u=[];if(r.length!==0||o.length!==0){const p=new Set(o);for(const m of r){const v=this._fieldObjects[m]||[];for(const{id:b}of v)p.add(b)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===l&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,f=[];for(const p of u){const{id:m}=p;switch(f.push(m),p.type){case"text":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;d.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!jr.has(v)){Ht(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class f3 extends Te{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Hr extends Te{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return We.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,r,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:o(l)}})})}_setEventListeners(t,e,n,r){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":At.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||u3,o=t.style;let l;const u=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u),p=Math.round(f/(Sp*r))||1,m=f/p;l=Math.min(r,d(m/Sp))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-u);l=Math.min(r,d(f/Sp))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=At.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class p3 extends Hr{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,r){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[r]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let o=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),jr.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,v=!!p&&this.enableScripting;f&&(n.title=f),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",w=>{const _=this.data.defaultFieldValue??"";n.value=d.userValue=_,d.formattedValue=null});let b=w=>{const{formattedValue:_}=d;_!=null&&(w.target.value=_),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",_=>{if(d.focused)return;const{target:x}=_;if(v&&(x.type=p,m&&(x.step=m)),d.userValue){const A=d.userValue;if(v)if(p==="time"){const C=new Date(A),M=[C.getHours(),C.getMinutes(),C.getSeconds()];x.value=M.map(j=>j.toString().padStart(2,"0")).join(":")}else x.value=new Date(A-d3).toISOString().split(p==="date"?"T":".",1)[0];else x.value=A}d.lastCommittedValue=x.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const x={value(A){d.userValue=A.detail.value??"",v||t.setValue(e,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:C}=A.detail;d.formattedValue=C,C!=null&&A.target!==document.activeElement&&(A.target.value=C);const M={formattedValue:C};v&&(M.value=C),t.setValue(e,M)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:C}=A.detail,{target:M}=A;if(C===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",C);let j=d.userValue;!j||j.length<=C||(j=j.slice(0,C),M.value=d.userValue=j,t.setValue(e,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(x,_)}),n.addEventListener("keydown",_=>{d.commitKey=1;let x=-1;if(_.key==="Escape"?x=0:_.key==="Enter"&&!this.data.multiLine?x=2:_.key==="Tab"&&(d.commitKey=3),x===-1)return;const{value:A}=_.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:x,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const w=b;b=null,n.addEventListener("blur",_=>{if(!d.focused||!_.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:x}=_;let{value:A}=x;if(v){if(A&&p==="time"){const C=A.split(":").map(M=>parseInt(M,10));A=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),x.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();x.type="text"}d.userValue=A,d.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:d.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}),w(_)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",_=>{d.lastCommittedValue=null;const{data:x,target:A}=_,{value:C,selectionStart:M,selectionEnd:j}=A;let T=M,D=j;switch(_.inputType){case"deleteWordBackward":{const O=C.substring(0,M).match(/\w*[^\w]*$/);O&&(T-=O[0].length);break}case"deleteWordForward":{const O=C.substring(M).match(/^[^\w]*\w*/);O&&(D+=O[0].length);break}case"deleteContentBackward":M===j&&(T-=1);break;case"deleteContentForward":M===j&&(D+=1);break}_.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:x||"",willCommit:!1,selStart:T,selEnd:D}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(b&&n.addEventListener("blur",b),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class g3 extends Hr{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class m3 extends Hr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return jr.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n)){const p=d&&f.exportValue===e.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue||"Off";l.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const u={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class zw extends Hr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let r=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(n,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(jr.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,r&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:u,checked:d}=l.target;for(const f of this._getElementsByName(u,n))t.setValue(f.id,{value:!1});t.setValue(n,{value:d})}),o.addEventListener("resetform",l=>{const u=e.defaultFieldValue;l.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",u=>{const d={value:f=>{const p=l===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const v=p&&m.id===n;m.domElement&&(m.domElement.checked=v),t.setValue(m.id,{value:v})}}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class y3 extends cm{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class v3 extends Hr{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");jr.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const v of r.options)v.selected=v.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,n.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),o=!1),r.append(m)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const u=p=>{const m=p?"value":"textContent",{options:v,multiple:b}=r;return b?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[m]):v.selectedIndex===-1?null:v[v.selectedIndex][m]};let d=u(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(v){l?.();const b=v.detail.value,w=new Set(Array.isArray(b)?b:[b]);for(const _ of r.options)_.selected=w.has(_.value);t.setValue(e,{value:u(!0)}),d=u(!1)},multipleSelection(v){r.multiple=!0},remove(v){const b=r.options,w=v.detail.remove;b[w].selected=!1,r.remove(w),b.length>0&&Array.prototype.findIndex.call(b,x=>x.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},clear(v){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=u(!1)},insert(v){const{index:b,displayValue:w,exportValue:_}=v.detail.insert,x=r.children[b],A=document.createElement("option");A.textContent=w,A.value=_,x?x.before(A):r.append(A),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},items(v){const{items:b}=v.detail;for(;r.length!==0;)r.remove(0);for(const w of b){const{displayValue:_,exportValue:x}=w,A=document.createElement("option");A.textContent=_,A.value=x,r.append(A)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:u(!0),items:f(v)}),d=u(!1)},indices(v){const b=new Set(v.detail.indices);for(const w of v.target.options)w.selected=b.has(w.index);t.setValue(e,{value:u(!0)}),d=u(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=u(!0),v=u(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class pg extends Te{constructor(t){const{data:e,elements:n,parent:r}=t,o=!!r._commentManager;if(super(t,{isRenderable:!o&&Te._hasPopupData(e)}),this.elements=n,o&&Te._hasPopupData(e)){const l=this.popup=this.#t();for(const u of n)u.popup=l}else this.popup=null}#t(){return new b3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",n.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(r=>`${Kg}${r}`).join(",")),this.container}}class b3{#t=null;#e=this.#$.bind(this);#i=this.#I.bind(this);#n=this.#L.bind(this);#a=this.#S.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#m=null;#p=null;#u=null;#g=null;#y=null;#b=null;#v=null;#x=null;#A=null;#_=null;#C=!1;#w=null;#E=null;constructor({container:t,color:e,elements:n,titleObj:r,modificationDate:o,contentsObj:l,richText:u,parent:d,rect:f,parentRect:p,open:m,commentManager:v=null}){this.#r=t,this.#A=r,this.#o=l,this.#x=u,this.#h=d,this.#s=e,this.#v=f,this.#d=p,this.#l=n,this.#t=v,this.#w=n[0],this.#c=ad.toDateObject(o),this.trigger=n.flatMap(b=>b.getElementsToTriggerPopup()),v?this.renderCommentButton():(this.#M(),this.#r.hidden=!0,m&&this.#S())}#M(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#R(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#g||(this.#y||this.#R(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#w.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#g=this.#w.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#g=document.createElement("button");l.className="annotationCommentButton";const u=this.#w.container;l.style.zIndex=u.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#F(),this.#O(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),u.after(l)}}#O(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#g;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#F(){this.#w.extraPopupElement||(this.renderCommentButton(),this.#g.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#h._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#g?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:r,modificationDate:o}}get elementBeforePopup(){return this.#g}get comment(){return this.#E||=this.#w.commentText,this.#E}set comment(t){t!==this.comment&&(this.#w.commentText=this.#E=t)}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#g&&(this.#g.classList.toggle("selected",t),this.#g.ariaExpanded=e)}setSelectedCommentButton(t){this.#g.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:n}=this.#g.getBoundingClientRect(),{x:r,y:o,width:l,height:u}=this.#w.layer.getBoundingClientRect();return[(t-r)/l,(e+n-o)/u]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#g.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:o,y:l,width:u,height:d}=r;this.#t.showDialog(null,this,o+e*u,l+n*d,{...t,parentDimensions:r})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=At.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#A?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#A}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}Qg({html:this.#k||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#k(){const t=this.#x,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#x.html||null}get#N(){return this.#k?.attributes?.style?.fontSize||0}get#j(){return this.#k?.attributes?.style?.color||null}#P(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#j,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:r});return n}#$(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#E=null):e&&(e.deleted?this.remove():(this.#F(),this.#E=e.text)),t&&(this.#y=null,this.#R(),this.#O());return}if(n||e?.deleted){this.remove();return}this.#M(),this.#_||={contentsObj:this.#o,richText:this.#x},t&&(this.#u=null),e&&e.text&&(this.#x=this.#P(e.text),this.#c=ad.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#x}=this.#_,this.#_=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#C=!1,this.#f=!1,this.#g?.remove(),this.#g=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:r,pageY:o}}}=this.#h;let l=!!this.#d,u=l?this.#d:this.#v;for(const w of this.#l)if(!u||At.intersect(w.data.rect,u)!==null){u=w.data.rect,l=!0;break}const d=At.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),p=l?u[2]-u[0]+5:0,m=d[0]+p,v=d[1];this.#u=[100*(m-r)/e,100*(v-o)/n];const{style:b}=this.#r;b.left=`${this.#u[0]}%`,b.top=`${this.#u[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#L(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#I(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#L(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#I(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#M(),this.#C&&(this.#m||this.#L(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class Uw extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ut.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class _3 extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class S3 extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class w3 extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,r=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Hw extends Te{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:r},width:o,height:l}=this;if(!e)return this.container;const u=this.svgFactory.create(o,l,!0);let d=[];for(let p=0,m=e.length;p<m;p+=2){const v=e[p]-t[0],b=t[3]-e[p+1];d.push(`${v},${b}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",n.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),u.append(f),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class A3 extends Hw{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class E3 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class um extends Te{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ut.HIGHLIGHT:Ut.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:r,popupRef:o}}=this,{transform:l,width:u,height:d}=this.#i(e,t),f=this.svgFactory.create(u,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,v=n.length;m<v;m++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",n[m].join(",")),p.append(b)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:r}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,u=this.#e.length;l<u;l++)this.#e[l].setAttribute("points",n[l].join(","));if(r){const{transform:l,width:u,height:d}=this.#i(this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${d}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Vw extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ut.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class x3 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class T3 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class C3 extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class $w extends Te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ut.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class R3 extends Te{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=We.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let dm=class qw{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:r,page:o,viewport:l,structTreeLayer:u,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#a=u||null,this.#s=f||null,this.#i=p||new em,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const r=t.firstChild||t,o=r.id=`${Kg}${e}`,l=await this.#a?.getAriaAttributes(o);if(l)for(const[u,d]of l)r.setAttribute(u,d);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,n=this.div;Ys(n,this.viewport);const r=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new kl,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const u=l.annotationType===De.POPUP;if(u){const p=r.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const d=tS.create(o);if(!d.isRenderable)continue;if(!u&&l.popupRef){const p=r.get(l.popupRef);p?p.push(d):r.set(l.popupRef,[d])}const f=d.render();l.hidden&&(f.style.visibility="hidden"),await this.#r(f,l.id,o.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new kl,parent:this};for(const n of t){n.borderStyle||=qw._defaultBorderStyle,e.data=n;const r=tS.create(e);if(!r.isRenderable)continue;const o=r.render();await this.#r(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,Ys(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):r.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:r}=t,o=new h3({data:{id:n,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Gt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:La.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Ou=/\r\n?|\n/g;class Xe extends kt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Xe.prototype,e=o=>o.isEmpty(),n=ms.TRANSLATE_SMALL,r=ms.TRANSLATE_BIG;return Gt(this,"_keyboardManager",new Wl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Ut.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Xe._defaultColor||kt._defaultLineColor,this.#n=t.fontSize||Xe._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){kt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Zt.FREETEXT_SIZE:Xe._defaultFontSize=e;break;case Zt.FREETEXT_COLOR:Xe._defaultColor=e;break}}updateParams(t,e){switch(t){case Zt.FREETEXT_SIZE:this.#a(e);break;case Zt.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[Zt.FREETEXT_SIZE,Xe._defaultFontSize],[Zt.FREETEXT_COLOR,Xe._defaultColor||kt._defaultLineColor]]}get propertiesToUpdate(){return[[Zt.FREETEXT_SIZE,this.#n],[Zt.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Dl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Zt.FREETEXT_COLOR}#a(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=r=>{this.color=r,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Xe._internalPadding*t,-(Xe._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Xe.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,l=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Xe._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[u,d]=this.getInitialTranslation();[u,d]=this.pageTranslationToScreen(u,d);const[f,p]=this.pageDimensions,[m,v]=this.pageTranslation;let b,w;switch(this.rotation){case 0:b=t+(l[0]-m)/f,w=e+this.height-(l[1]-v)/p;break;case 90:b=t+(l[0]-m)/f,w=e-(l[1]-v)/p,[u,d]=[d,-u];break;case 180:b=t-this.width+(l[0]-m)/f,w=e-(l[1]-v)/p,[u,d]=[-u,-d];break;case 270:b=t+(l[0]-m-this.height*p)/f,w=e+(l[1]-v-this.width*f)/p,[u,d]=[-d,u];break}this.setAt(b*r,w*o,u,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Ou,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=Xe.#d(e.getData("text")||"").replaceAll(Ou,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:d}=l,f=[],p=[];if(u.nodeType===Node.TEXT_NODE){const b=u.parentElement;if(p.push(u.nodeValue.slice(d).replaceAll(Ou,"")),b!==this.editorDiv){let w=f;for(const _ of this.editorDiv.childNodes){if(_===b){w=p;continue}w.push(Xe.#c(_))}}f.push(u.nodeValue.slice(0,d).replaceAll(Ou,""))}else if(u===this.editorDiv){let b=f,w=0;for(const _ of this.editorDiv.childNodes)w++===d&&(b=p),b.push(Xe.#c(_))}this.#t=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#l();const m=new Range;let v=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const w=b.nodeValue.length;if(v<=w){m.setStart(b,v),m.setEnd(b,v);break}v-=w}o.removeAllRanges(),o.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#t.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Xe._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let r=null;if(t instanceof Uw){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:f,id:p,popupRef:m,richText:v,contentsObj:b,creationDate:w,modificationDate:_},textContent:x,textPosition:A,parent:{page:{pageNumber:C}}}=t;if(!x||x.length===0)return null;r=t={annotationType:Ut.FREETEXT,color:Array.from(u),fontSize:l,value:x.join(`
`),position:A,pageIndex:C-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:b?.str||null,richText:v,creationDate:w,modificationDate:_}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=At.makeHexColor(...t.color),o.#t=Xe.#d(t.value),o._initialData=r,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=kt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#h()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,u)=>l!==r[u])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const o=document.createElement("div");o.append(r?document.createTextNode(r):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class wt{static PRECISION=1e-4;toSVGPath(){ge("Abstract method `toSVGPath` must be implemented.")}get box(){ge("Abstract getter `box` must be implemented.")}serialize(t,e){ge("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u]*r,l[u+1]=n+t[u+1]*o;return l}static _rescaleAndSwap(t,e,n,r,o,l){l||=new Float32Array(t.length);for(let u=0,d=t.length;u<d;u+=2)l[u]=e+t[u+1]*r,l[u+1]=n+t[u]*o;return l}static _translate(t,e,n,r){r||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)r[o]=e+t[o],r[o+1]=n+t[o+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,r,o){switch(o){case 90:return[1-e/n,t/r];case 180:return[1-t/n,1-e/r];case 270:return[e/n,1-t/r];default:return[t/n,e/r]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,r,o,l){return[(t+5*n)/6,(e+5*r)/6,(5*n+o)/6,(5*r+l)/6,(n+o)/2,(r+l)/2]}}class Cr{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#h;#d;#f=[];static#m=8;static#p=2;static#u=Cr.#m+Cr.#p;constructor({x:t,y:e},n,r,o,l,u=0){this.#t=n,this.#d=o*r,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=u,this.#l=Cr.#m*r,this.#c=Cr.#u*r,this.#h=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,r,o,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-r)/l,(this.#r+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,r,o,l]=this.#t;let[u,d,f,p]=this.#s.subarray(8,12);const m=t-f,v=e-p,b=Math.hypot(m,v);if(b<this.#c)return!1;const w=b-this.#l,_=w/b,x=_*m,A=_*v;let C=u,M=d;u=f,d=p,f+=x,p+=A,this.#f?.push(t,e);const j=-A/w,T=x/w,D=j*this.#d,O=T*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+D,p+O],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-D,p-O],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([u+D,d+O],2),this.#a.push(NaN,NaN,NaN,NaN,(u+D-n)/o,(d+O-r)/l),this.#s.set([u-D,d-O],14),this.#e.push(NaN,NaN,NaN,NaN,(u-D-n)/o,(d-O-r)/l)),this.#s.set([C,M,u,d,f,p],6),!this.isEmpty()):(this.#s.set([C,M,u,d,f,p],6),Math.abs(Math.atan2(M-d,C-u)-Math.atan2(A,x))<Math.PI/2?([u,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+f)/2-n)/o,((d+p)/2-r)/l),[u,d,C,M]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+u)/2-n)/o,((M+d)/2-r)/l),!0):([C,M,u,d,f,p]=this.#s.subarray(0,6),this.#a.push(((C+5*u)/6-n)/o,((M+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),[f,p,u,d,C,M]=this.#s.subarray(12,18),this.#e.push(((C+5*u)/6-n)/o,((M+5*d)/6-r)/l,((5*u+f)/6-n)/o,((5*d+p)/6-r)/l,((u+f)/2-n)/o,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#v(n);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?n.push(`L${e[r+4]} ${e[r+5]}`):n.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#b(n),n.join(" ")}#y(){const[t,e,n,r]=this.#t,[o,l,u,d]=this.#g();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/r} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/r} L${o} ${l} L${u} ${d} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/r} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/r} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,n,r,o]=this.#t,l=this.#s.subarray(4,6),u=this.#s.subarray(16,18),[d,f,p,m]=this.#g();t.push(`L${(l[0]-e)/r} ${(l[1]-n)/o} L${d} ${f} L${p} ${m} L${(u[0]-e)/r} ${(u[1]-n)/o}`)}newFreeDrawOutline(t,e,n,r,o,l){return new Gw(t,e,n,r,o,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[r,o,l,u]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,v=d.length-2;m<v;m+=2)d[m]=(this.#f[m]-r)/l,d[m+1]=(this.#f[m+1]-o)/u;if(d[d.length-2]=(this.#r-r)/l,d[d.length-1]=(this.#o-o)/u,isNaN(n[6])&&!this.isEmpty())return this.#x(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#_(f,p);for(let m=e.length-6;m>=6;m-=6)for(let v=0;v<6;v+=2){if(isNaN(e[m+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=e[m+v],f[p+1]=e[m+v+1],p+=2}return this.#A(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#h,this.#i,this.#n)}#x(t){const e=this.#s,[n,r,o,l]=this.#t,[u,d,f,p]=this.#g(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-r)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-r)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#h,this.#i,this.#n)}#A(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#_(t,e){const n=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[o,l,u,d]=this.#t,[f,p,m,v]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/u,(n[1]-l)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,(r[0]-o)/u,(r[1]-l)/d],e),e+=24}}class Gw extends wt{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,r,o,l){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=r,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[u,d,f,p]=this.#e;for(let m=0,v=t.length;m<v;m+=2)t[m]=(t[m]-u)/f,t[m+1]=(t[m+1]-d)/p;for(let m=0,v=e.length;m<v;m+=2)e[m]=(e[m]-u)/f,e[m+1]=(e[m+1]-d)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,r],o){const l=n-t,u=r-e;let d,f;switch(o){case 0:d=wt._rescale(this.#r,t,r,l,-u),f=wt._rescale(this.#a,t,r,l,-u);break;case 90:d=wt._rescaleAndSwap(this.#r,t,e,l,u),f=wt._rescaleAndSwap(this.#a,t,e,l,u);break;case 180:d=wt._rescale(this.#r,n,e,-l,u),f=wt._rescale(this.#a,n,e,-l,u);break;case 270:d=wt._rescaleAndSwap(this.#r,n,r,-l,-u),f=wt._rescaleAndSwap(this.#a,n,r,-l,-u);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const e=this.#r;let n=e[4],r=e[5];const o=[n,r,n,r];let l=n,u=r,d=n,f=r;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let b=6,w=e.length;b<w;b+=6){const _=e[b+4],x=e[b+5];isNaN(e[b])?(At.pointBoundingBox(_,x,o),u>x?(l=_,u=x):u===x&&(l=p(l,_)),f<x?(d=_,f=x):f===x&&(d=p(d,_))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,At.bezierBoundingBox(n,r,...e.slice(b,b+6),m),At.rectBoundingBox(m[0],m[1],m[2],m[3],o),u>m[1]?(l=m[0],u=m[1]):u===m[1]&&(l=p(l,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),n=_,r=x}const v=this.#e;v[0]=o[0]-this.#i,v[1]=o[1]-this.#i,v[2]=o[2]-o[0]+2*this.#i,v[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,u],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,e,n,r,o,l=0){return new Cr(t,e,n,r,o,l)}getNewOutline(t,e){const[n,r,o,l]=this.#e,[u,d,f,p]=this.#t,m=o*f,v=l*p,b=n*f+u,w=r*p+d,_=this.newOutliner({x:this.#a[0]*m+b,y:this.#a[1]*v+w},this.#t,this.#s,t,this.#n,e??this.#i);for(let x=2;x<this.#a.length;x+=2)_.add({x:this.#a[x]*m+b,y:this.#a[x+1]*v+w});return _.getOutlines()}}class gg{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,r=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:_,y:x,width:A,height:C}of t){const M=Math.floor((_-e)/l)*l,j=Math.ceil((_+A+e)/l)*l,T=Math.floor((x-e)/l)*l,D=Math.ceil((x+C+e)/l)*l,O=[M,T,D,!0],N=[j,T,D,!1];this.#n.push(O,N),At.rectBoundingBox(M,T,j,D,o)}const u=o[2]-o[0]+2*n,d=o[3]-o[1]+2*n,f=o[0]-n,p=o[1]-n;let m=r?-1/0:1/0,v=1/0;const b=this.#n.at(r?-1:-2),w=[b[0],b[2]];for(const _ of this.#n){const[x,A,C,M]=_;!M&&r?A<v?(v=A,m=x):A===v&&(m=Math.max(m,x)):M&&!r&&(A<v?(v=A,m=x):A===v&&(m=Math.min(m,x))),_[0]=(x-f)/u,_[1]=(A-p)/d,_[2]=(C-p)/d}this.#t=new Float32Array([f,p,u,d]),this.#e=[m,v],this.#i=w}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[u,d,f]=l;e.push([u,d,l],[u,f,l])}e.sort((l,u)=>l[1]-u[1]||l[0]-u[0]);for(let l=0,u=e.length;l<u;l+=2){const d=e[l][2],f=e[l+1][2];d.push(f),f.push(d),n.add(d),n.add(f)}const r=[];let o;for(;n.size>0;){const l=n.values().next().value;let[u,d,f,p,m]=l;n.delete(l);let v=u,b=d;for(o=[u,f],r.push(o);;){let w;if(n.has(p))w=p;else if(n.has(m))w=m;else break;n.delete(w),[u,d,f,p,m]=w,v!==u&&(o.push(v,b,u,b===d?d:f),v=u),b=b===d?f:d}o.push(v,b)}return new O3(r,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,r=e.length-1;for(;n<=r;){const o=n+r>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:r=o-1}return r+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#c([,t,e]){const n=this.#r(t);for(let r=n;r<this.#a.length;r++){const[o,l]=this.#a[r];if(o!==t)break;if(o===t&&l===e){this.#a.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[o,l]=this.#a[r];if(o!==t)break;if(o===t&&l===e){this.#a.splice(r,1);return}}}#l(t){const[e,n,r]=t,o=[[e,n,r]],l=this.#r(r);for(let u=0;u<l;u++){const[d,f]=this.#a[u];for(let p=0,m=o.length;p<m;p++){const[,v,b]=o[p];if(!(f<=v||b<=d)){if(v>=d){if(b>f)o[p][1]=f;else{if(m===1)return[];o.splice(p,1),p--,m--}continue}o[p][2]=d,b>f&&o.push([e,f,b])}}}return o}}class O3 extends wt{#t;#e;constructor(t,e,n,r){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[n,r]=e;t.push(`M${n} ${r}`);for(let o=2;o<e.length;o+=2){const l=e[o],u=e[o+1];l===n?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,r],o){const l=[],u=n-t,d=r-e;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*u,p[m+1]=r-f[m+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class mg extends Cr{newFreeDrawOutline(t,e,n,r,o,l){return new M3(t,e,n,r,o,l)}}class M3 extends Gw{newOutliner(t,e,n,r,o,l=0){return new mg(t,e,n,r,o,l)}}class ke extends kt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#m=null;#p=null;#u="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ut.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ke.prototype;return Gt(this,"_keyboardManager",new Wl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ke._defaultColor,this.#g=t.thickness||ke._defaultThickness,this.opacity=t.opacity||ke._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#d=!0,this.#v(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new gg(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new gg(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#m=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#g/2+r,.0025),e>=0)this.#h=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:ke.#E(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:ke.#E(this.#s.box,m),path:{d:this.#s.toSVGPath()}})}const[o,l,u,d]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=u,this.height=d;break;case 90:{const[m,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=u*v/m,this.height=d*m/v;break}case 180:this.x=1-o,this.y=1-l,this.width=u,this.height=d;break;case 270:{const[m,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=u*v/m,this.height=d*m/v;break}}const{firstPoint:f}=t;this.#f=[(f[0]-o)/u,(f[1]-l)/d];const{lastPoint:p}=this.#s;this.#m=[(p[0]-o)/u,(p[1]-l)/d]}static initialize(t,e){kt.initialize(t,e),ke._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Zt.HIGHLIGHT_COLOR:ke._defaultColor=e;break;case Zt.HIGHLIGHT_THICKNESS:ke._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case Zt.HIGHLIGHT_COLOR:this.#x(e);break;case Zt.HIGHLIGHT_THICKNESS:this.#A(e);break}}static get defaultPropertiesToUpdate(){return[[Zt.HIGHLIGHT_COLOR,ke._defaultColor],[Zt.HIGHLIGHT_THICKNESS,ke._defaultThickness]]}get propertiesToUpdate(){return[[Zt.HIGHLIGHT_COLOR,this.color||ke._defaultColor],[Zt.HIGHLIGHT_THICKNESS,this.#g||ke._defaultThickness],[Zt.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#x(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,ke._defaultOpacity),undo:e.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#A(t){const e=this.#g,n=r=>{this.#g=r,this.#_(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Zt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Un({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#O())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){this.#d&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#C(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#w(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([t,e,n,r],o){switch(o){case 90:return[1-e-r,t,r,n];case 180:return[1-t-n,1-e-r,n,r];case 270:return[e,1-t-n,r,n]}return[t,e,n,r]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#d?(t=(t-this.rotation+360)%360,n=ke.#E(this.#l.box,t)):n=ke.#E([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:ke.#E(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),Sw(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#M(t){ke._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#R(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#O(){return this.#d?this.rotation:0}#F(){if(this.#d)return null;const[t,e]=this.pageDimensions,[n,r]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let u=0;for(const{x:d,y:f,width:p,height:m}of o){const v=d*t+n,b=(1-f)*e+r;l[u]=l[u+4]=v,l[u+1]=l[u+3]=b,l[u+2]=l[u+6]=v+p*t,l[u+5]=l[u+7]=b-m*e,u+=8}return l}#k(t){return this.#l.serialize(t,this.#O())}static startHighlighting(t,e,{target:n,x:r,y:o}){const{x:l,y:u,width:d,height:f}=n.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),v=b=>{p.abort(),this.#j(t,b)};window.addEventListener("blur",v,{signal:m}),window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("pointerdown",xe,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",qn,{signal:m}),n.addEventListener("pointermove",this.#N.bind(this,t),{signal:m}),this._freeHighlight=new mg({x:r,y:o},[l,u,d,f],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#j(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let r=null;if(t instanceof Vw){const{data:{quadPoints:w,rect:_,rotation:x,id:A,color:C,opacity:M,popupRef:j,richText:T,contentsObj:D,creationDate:O,modificationDate:N},parent:{page:{pageNumber:P}}}=t;r=t={annotationType:Ut.HIGHLIGHT,color:Array.from(C),opacity:M,quadPoints:w,boxes:null,pageIndex:P-1,rect:_.slice(0),rotation:x,annotationElementId:A,id:A,deleted:!1,popupRef:j,richText:T,comment:D?.str||null,creationDate:O,modificationDate:N}}else if(t instanceof um){const{data:{inkLists:w,rect:_,rotation:x,id:A,color:C,borderStyle:{rawWidth:M},popupRef:j,richText:T,contentsObj:D,creationDate:O,modificationDate:N},parent:{page:{pageNumber:P}}}=t;r=t={annotationType:Ut.HIGHLIGHT,color:Array.from(C),thickness:M,inkLists:w,boxes:null,pageIndex:P-1,rect:_.slice(0),rotation:x,annotationElementId:A,id:A,deleted:!1,popupRef:j,richText:T,comment:D?.str||null,creationDate:O,modificationDate:N}}const{color:o,quadPoints:l,inkLists:u,opacity:d}=t,f=await super.deserialize(t,e,n);f.color=At.makeHexColor(...o),f.opacity=d||1,u&&(f.#g=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[p,m]=f.pageDimensions,[v,b]=f.pageTranslation;if(l){const w=f.#i=[];for(let _=0;_<l.length;_+=8)w.push({x:(l[_]-v)/p,y:1-(l[_+1]-b)/m,width:(l[_+2]-l[_])/p,height:(l[_+1]-l[_+5])/m});f.#b(),f.#w(),f.rotate(f.rotation)}else if(u){f.#d=!0;const w=u[0],_={x:w[0]-v,y:m-(w[1]-b)},x=new mg(_,[0,0,p,m],1,f.#g/2,!0,.001);for(let M=0,j=w.length;M<j;M+=2)_.x=w[M]-v,_.y=m-(w[M+1]-b),x.add(_);const{id:A,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:x.toSVGPath()}},!0,!0);f.#v({highlightOutlines:x.getOutlines(),highlightId:A,clipPathId:C}),f.#w(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=kt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#g,quadPoints:this.#F(),outlines:this.#k(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,r)=>n!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class Xw{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){ge("Not implemented")}}class Pt extends kt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#r=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#u(t.box)}#h(t,e){const{id:n}=e.drawLayer.draw(Pt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[r,o]of Object.entries(e))n.has(r)?Object.assign(t[r],o):t[r]=o;return t}static getDefaultDrawingOptions(t){ge("Not implemented")}static get typesMap(){ge("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(Pt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,e[r]]);return t}_updateProperty(t,e,n){const r=this._drawingOptions,o=r[e],l=u=>{r.updateProperty(e,u);const d=this.#t.updateProperty(e,u);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#d()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#m([t,e,n,r]){const{parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[e,1-t,n*(l/o),r*(o/l)];case 180:return[1-t,1-e,n,r];case 270:return[1-e,t,n*(l/o),r*(o/l)];default:return[t,e,n,r]}}#p(){const{x:t,y:e,width:n,height:r,parentDimensions:[o,l],rotation:u}=this;switch(u){case 90:return[1-e,t,n*(o/l),r*(l/o)];case 180:return[1-t,1-e,n,r];case 270:return[e,1-t,n*(o/l),r*(l/o)];default:return[t,e,n,r]}}#u(t){[this.x,this.y,this.width,this.height]=this.#m(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#g(){const{x:t,y:e,width:n,height:r,rotation:o,parentRotation:l,parentDimensions:[u,d]}=this;switch((o*4+l)/90){case 1:return[1-e-r,t,r,n];case 2:return[1-t-n,1-e-r,n,r];case 3:return[e,1-t-n,r,n];case 4:return[t,e-n*(u/d),r*(d/u),n*(u/d)];case 5:return[1-e,t,n*(u/d),r*(d/u)];case 6:return[1-t-r*(d/u),1-e,r*(d/u),n*(u/d)];case 7:return[e-n*(u/d),1-t-r*(d/u),n*(u/d),r*(d/u)];case 8:return[t-n,e-r,n,r];case 9:return[1-e,t-n,r,n];case 10:return[1-t,1-e,n,r];case 11:return[e-r,1-t,r,n];case 12:return[t-r*(d/u),e,r*(d/u),n*(u/d)];case 13:return[1-e-n*(u/d),t-r*(d/u),n*(u/d),r*(d/u)];case 14:return[1-t,1-e-n*(u/d),r*(d/u),n*(u/d)];case 15:return[e,1-t,n*(u/d),r*(d/u)];default:return[t,e,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Pt._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,r,o){ge("Not implemented")}static startDrawing(t,e,n,r){const{target:o,offsetX:l,offsetY:u,pointerId:d,pointerType:f}=r;if(Pt.#r&&Pt.#r!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:v}=o.getBoundingClientRect(),b=Pt.#n=new AbortController,w=t.combinedSignal(b);if(Pt.#s||=d,Pt.#r??=f,window.addEventListener("pointerup",_=>{Pt.#s===_.pointerId?this._endDraw(_):Pt.#o?.delete(_.pointerId)},{signal:w}),window.addEventListener("pointercancel",_=>{Pt.#s===_.pointerId?this._currentParent.endDrawingSession():Pt.#o?.delete(_.pointerId)},{signal:w}),window.addEventListener("pointerdown",_=>{Pt.#r===_.pointerType&&((Pt.#o||=new Set).add(_.pointerId),Pt.#i.isCancellable()&&(Pt.#i.removeLastElement(),Pt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",qn,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",_=>{_.timeStamp===Pt.#c&&xe(_)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),Pt.#i){t.drawLayer.updateProperties(this._currentDrawId,Pt.#i.startNew(l,u,m,v,p));return}e.updateUIForDefaultProperties(this),Pt.#i=this.createDrawerInstance(l,u,m,v,p),Pt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Pt.#a.toSVGProperties(),Pt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(Pt.#c=-1,!Pt.#i)return;const{offsetX:e,offsetY:n,pointerId:r}=t;if(Pt.#s===r){if(Pt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Pt.#i.add(e,n)),Pt.#c=t.timeStamp,xe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Pt.#i=null,Pt.#a=null,Pt.#r=null,Pt.#c=NaN),Pt.#n&&(Pt.#n.abort(),Pt.#n=null,Pt.#s=NaN,Pt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Pt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=Pt.#i,r=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Zt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Zt.DRAW_STEP),!Pt.#i.isEmpty()){const{pageDimensions:[n,r],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Pt.#i.getOutlines(n*o,r*o,o,this._INNER_MARGIN),drawingOptions:Pt.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,r,o,l){ge("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:r,pageHeight:o,pageX:l,pageY:u}}=e.viewport,d=this.deserializeDraw(l,u,r,o,this._INNER_MARGIN,t),f=await super.deserialize(t,e,n);return f.createDrawingOptions(t),f.#l({drawOutlines:d}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[e,n]=this.pageTranslation,[r,o]=this.pageDimensions;return this.#t.serialize([e,n,r,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class D3{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new Ql;#l;#h;constructor(t,e,n,r,o,l){this.#l=n,this.#h=r,this.#n=o,this.#a=l,[t,e]=this.#d(t,e);const u=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:u,points:this.#s}],this.#t.set(u,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#d(t,e){return wt._normalizePoint(t,e,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#d(t,e);const[n,r,o,l]=this.#t.subarray(2,6),u=t-o,d=e-l;return Math.hypot(this.#l*u,this.#h*d)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,o,l,t,e],0),this.#e.push(...wt.createBezierPoints(n,r,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,r,o){this.#l=n,this.#h=r,this.#n=o,[t,e]=this.#d(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const u=this.#i.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:r}=this.#i[t];this.#e=n,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=wt.svgRound(this.#e[4]),e=wt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const r=wt.svgRound(this.#e[10]),o=wt.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${r} ${o}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,o=this.#e.length;r<o;r+=6){const[l,u,d,f,p,m]=this.#e.slice(r,r+6).map(wt.svgRound);n.push(`C${l} ${u} ${d} ${f} ${p} ${m}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,r){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#a,r),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Ql extends wt{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,e,n,r,o,l,u){this.#a=e,this.#s=n,this.#r=r,this.#o=o,this.#c=l,this.#i=u??0,this.#n=t,this.#d()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${wt.svgRound(e[4])} ${wt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${wt.svgRound(e[10])} ${wt.svgRound(e[11])}`);continue}for(let n=6,r=e.length;n<r;n+=6){const[o,l,u,d,f,p]=e.subarray(n,n+6).map(wt.svgRound);t.push(`C${o} ${l} ${u} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,e,n,r],o){const l=[],u=[],[d,f,p,m]=this.#h();let v,b,w,_,x,A,C,M,j;switch(this.#o){case 0:j=wt._rescale,v=t,b=e+r,w=n,_=-r,x=t+d*n,A=e+(1-f-m)*r,C=t+(d+p)*n,M=e+(1-f)*r;break;case 90:j=wt._rescaleAndSwap,v=t,b=e,w=n,_=r,x=t+f*n,A=e+d*r,C=t+(f+m)*n,M=e+(d+p)*r;break;case 180:j=wt._rescale,v=t+n,b=e,w=-n,_=r,x=t+(1-d-p)*n,A=e+f*r,C=t+(1-d)*n,M=e+(f+m)*r;break;case 270:j=wt._rescaleAndSwap,v=t+n,b=e+r,w=-n,_=-r,x=t+(1-f-m)*n,A=e+(1-d-p)*r,C=t+(1-f)*n,M=e+(1-d)*r;break}for(const{line:T,points:D}of this.#n)l.push(j(T,v,b,w,_,o?new Array(T.length):null)),u.push(j(D,v,b,w,_,o?new Array(D.length):null));return{lines:l,points:u,rect:[x,A,C,M]}}static deserialize(t,e,n,r,o,{paths:{lines:l,points:u},rotation:d,thickness:f}){const p=[];let m,v,b,w,_;switch(d){case 0:_=wt._rescale,m=-t/n,v=e/r+1,b=1/n,w=-1/r;break;case 90:_=wt._rescaleAndSwap,m=-e/r,v=-t/n,b=1/r,w=1/n;break;case 180:_=wt._rescale,m=t/n+1,v=-e/r,b=-1/n,w=1/r;break;case 270:_=wt._rescaleAndSwap,m=e/r+1,v=t/n+1,b=-1/r,w=-1/n;break}if(!l){l=[];for(const A of u){const C=A.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const M=new Float32Array(3*(C-2));l.push(M);let[j,T,D,O]=A.subarray(0,4);M.set([NaN,NaN,NaN,NaN,j,T],0);for(let N=4;N<C;N+=2){const P=A[N],L=A[N+1];M.set(wt.createBezierPoints(j,T,D,O,P,L),(N-2)*3),[j,T,D,O]=[D,O,P,L]}}}for(let A=0,C=l.length;A<C;A++)p.push({line:_(l[A].map(M=>M??NaN),m,v,b,w),points:_(u[A].map(M=>M??NaN),m,v,b,w)});const x=new this.prototype.constructor;return x.build(p,n,r,1,d,f,o),x}#l(t=this.#c){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#h(){const[t,e,n,r]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,r-2*l]}#d(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let u=4,d=r.length;u<d;u+=6)At.pointBoundingBox(r[u],r[u+1],t);continue}let o=r[4],l=r[5];for(let u=6,d=r.length;u<d;u+=6){const[f,p,m,v,b,w]=r.subarray(u,u+6);At.bezierBoundingBox(o,l,f,p,m,v,b,w,t),o=b,l=w}}const[e,n]=this.#l();t[0]=un(t[0]-e,0,1),t[1]=un(t[1]-n,0,1),t[2]=un(t[2]+e,0,1),t[3]=un(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[r,o]=this.#l(),[l,u]=[r-e,o-n],d=this.#t;return d[0]-=l,d[1]-=u,d[2]+=2*l,d[3]+=2*u,d}updateParentDimensions([t,e],n){const[r,o]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[l,u]=this.#l(),d=l-r,f=u-o,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(wt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,r=0,o=0,l=0,u=0,d=0;switch(this.#e){case 90:r=e/t,o=-t/e,u=t;break;case 180:n=-1,l=-1,u=t,d=e;break;case 270:r=-e/t,o=t/e,d=e;break;default:return""}return`matrix(${n} ${r} ${o} ${l} ${wt.svgRound(u)} ${wt.svgRound(d)})`}getPathResizingSVGProperties([t,e,n,r]){const[o,l]=this.#l(),[u,d,f,p]=this.#t;if(Math.abs(f-o)<=wt.PRECISION||Math.abs(p-l)<=wt.PRECISION){const _=t+n/2-(u+f/2),x=e+r/2-(d+p/2);return{path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${_} ${x})`}}}const m=(n-2*o)/(f-2*o),v=(r-2*l)/(p-2*l),b=f/n,w=p/r;return{path:{"transform-origin":`${wt.svgRound(u)} ${wt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${w}) translate(${wt.svgRound(o)} ${wt.svgRound(l)}) scale(${m} ${v}) translate(${wt.svgRound(-o)} ${wt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,r]){const[o,l]=this.#l(),u=this.#t,[d,f,p,m]=u;if(u[0]=t,u[1]=e,u[2]=n,u[3]=r,Math.abs(p-o)<=wt.PRECISION||Math.abs(m-l)<=wt.PRECISION){const x=t+n/2-(d+p/2),A=e+r/2-(f+m/2);for(const{line:C,points:M}of this.#n)wt._translate(C,x,A,C),wt._translate(M,x,A,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(n-2*o)/(p-2*o),b=(r-2*l)/(m-2*l),w=-v*(d+o)+t+o,_=-b*(f+l)+e+l;if(v!==1||b!==1||w!==0||_!==0)for(const{line:x,points:A}of this.#n)wt._rescale(x,w,_,v,b,x),wt._rescale(A,w,_,v,b,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[r,o]=n,l=this.#t,u=t-l[0],d=e-l[1];if(this.#a===r&&this.#s===o)for(const{line:f,points:p}of this.#n)wt._translate(f,u,d,f),wt._translate(p,u,d,p);else{const f=this.#a/r,p=this.#s/o;this.#a=r,this.#s=o;for(const{line:m,points:v}of this.#n)wt._rescale(m,u,d,f,p,m),wt._rescale(v,u,d,f,p,v);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t[0])} ${wt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Nd extends Xw{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:kt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Nd(this._viewParameters);return t.updateAll(this),t}}class hm extends Pt{static _type="ink";static _editorType=Ut.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){kt.initialize(t,e),this._defaultDrawingOptions=new Nd(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Gt(this,"typesMap",new Map([[Zt.INK_THICKNESS,"stroke-width"],[Zt.INK_COLOR,"stroke"],[Zt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,r,o){return new D3(t,e,n,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,r,o,l){return Ql.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){let r=null;if(t instanceof um){const{data:{inkLists:l,rect:u,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:v},popupRef:b,richText:w,contentsObj:_,creationDate:x,modificationDate:A},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:Ut.INK,color:Array.from(p),thickness:v,opacity:m,paths:{points:l},boxes:null,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:b,richText:w,comment:_?.str||null,creationDate:x,modificationDate:A}}const o=await super.deserialize(t,e,n);return o._initialData=r,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Dl(this),[["colorPicker",this._colorPicker]]}get colorType(){return Zt.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=hm.getDefaultDrawingOptions({stroke:At.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":o,"stroke-width":l}}=this,u=Object.assign(super.serialize(t),{color:kt._colorManager.convert(r),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!this.#t(u)?null:(u.id=this.annotationElementId,u)}#t(t){const{color:e,thickness:n,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,u)=>l!==e[u])||t.thickness!==n||t.opacity!==r||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class yg extends Ql{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Mu=8,ll=3;class Ar{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,r){return n-=t,r-=e,n===0?r>0?0:4:n===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(-f+d-u+16)%8,m=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+m)*e+(r+v)]!==0)return p}return-1}static#a(t,e,n,r,o,l,u){const d=this.#e(n,r,o,l);for(let f=0;f<8;f++){const p=(f+d+u+16)%8,m=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+m)*e+(r+v)]!==0)return p}return-1}static#s(t,e,n,r){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let u=1,d;const f=[];for(let p=1;p<n-1;p++){d=1;for(let m=1;m<e-1;m++){const v=p*e+m,b=l[v];if(b===0)continue;let w=p,_=m;if(b===1&&l[v-1]===0)u+=1,_-=1;else if(b>=1&&l[v+1]===0)u+=1,_+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const x=[m,p],A=_===m+1,C={isHole:A,points:x,id:u,parent:0};f.push(C);let M;for(const U of f)if(U.id===d){M=U;break}M?M.isHole?C.parent=A?M.parent:d:C.parent=A?d:M.parent:C.parent=A?d:0;const j=this.#n(l,e,p,m,w,_,0);if(j===-1){l[v]=-u,l[v]!==1&&(d=Math.abs(l[v]));continue}let T=this.#i[2*j],D=this.#i[2*j+1];const O=p+T,N=m+D;w=O,_=N;let P=p,L=m;for(;;){const U=this.#a(l,e,P,L,w,_,1);T=this.#i[2*U],D=this.#i[2*U+1];const X=P+T,H=L+D;x.push(H,X);const W=P*e+L;if(l[W+1]===0?l[W]=-u:l[W]===1&&(l[W]=u),X===p&&H===m&&P===O&&L===N){l[v]!==1&&(d=Math.abs(l[v]));break}else w=P,_=L,P=X,L=H}}}return f}static#r(t,e,n,r){if(n-e<=4){for(let O=e;O<n-2;O+=2)r.push(t[O],t[O+1]);return}const o=t[e],l=t[e+1],u=t[n-4]-o,d=t[n-3]-l,f=Math.hypot(u,d),p=u/f,m=d/f,v=p*l-m*o,b=d/u,w=1/f,_=Math.atan(b),x=Math.cos(_),A=Math.sin(_),C=w*(Math.abs(x)+Math.abs(A)),M=w*(1-C+C**2),j=Math.max(Math.atan(Math.abs(A+x)*M),Math.atan(Math.abs(A-x)*M));let T=0,D=e;for(let O=e+2;O<n-2;O+=2){const N=Math.abs(v-p*t[O+1]+m*t[O]);N>T&&(D=O,T=N)}T>(f*j)**2?(this.#r(t,e,D+2,r),this.#r(t,D,n,r)):r.push(o,l)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,r,o,l){const u=new Float32Array(l**2),d=-2*r**2,f=l>>1;for(let _=0;_<l;_++){const x=(_-f)**2;for(let A=0;A<l;A++)u[_*l+A]=Math.exp((x+(A-f)**2)/d)}const p=new Float32Array(256),m=-2*o**2;for(let _=0;_<256;_++)p[_]=Math.exp(_**2/m);const v=t.length,b=new Uint8Array(v),w=new Uint32Array(256);for(let _=0;_<n;_++)for(let x=0;x<e;x++){const A=_*e+x,C=t[A];let M=0,j=0;for(let D=0;D<l;D++){const O=_+D-f;if(!(O<0||O>=n))for(let N=0;N<l;N++){const P=x+N-f;if(P<0||P>=e)continue;const L=t[O*e+P],U=u[D*l+N]*p[Math.abs(L-C)];M+=L*U,j+=U}}const T=b[A]=Math.round(M/j);w[T]++}return[b,w]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#h(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let r=-1/0,o=1/0;for(let u=0,d=n.length;u<d;u++){const f=n[u]=t[u<<2];r=Math.max(r,f),o=Math.min(o,f)}const l=255/(r-o);for(let u=0,d=n.length;u<d;u++)n[u]=(n[u]-o)*l;return n}static#d(t){let e,n=-1/0,r=-1/0;const o=t.findIndex(d=>d!==0);let l=o,u=o;for(e=o;e<256;e++){const d=t[e];d>n&&(e-l>r&&(r=e-l,u=e-1),n=d,l=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:r}=t,{maxDim:o}=this.#t;let l=n,u=r;if(n>o||r>o){let v=n,b=r,w=Math.log2(Math.max(n,r)/o);const _=Math.floor(w);w=w===_?_-1:_;for(let A=0;A<w;A++){l=Math.ceil(v/2),u=Math.ceil(b/2);const C=new OffscreenCanvas(l,u);C.getContext("2d").drawImage(t,0,0,v,b,0,0,l,u),v=l,b=u,t!==e&&t.close(),t=C.transferToImageBitmap()}const x=Math.min(o/l,o/u);l=Math.round(l*x),u=Math.round(u*x)}const f=new OffscreenCanvas(l,u).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,l,u),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,l,u);const p=f.getImageData(0,0,l,u).data;return[this.#h(p),l,u]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:r},o,l,u,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,v=p.font=`${n} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:w,actualBoundingBoxAscent:_,actualBoundingBoxDescent:x,fontBoundingBoxAscent:A,fontBoundingBoxDescent:C,width:M}=p.measureText(t),j=1.5,T=Math.ceil(Math.max(Math.abs(b)+Math.abs(w)||0,M)*j),D=Math.ceil(Math.max(Math.abs(_)+Math.abs(x)||m,Math.abs(A)+Math.abs(C)||m)*j);f=new OffscreenCanvas(T,D),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,T,D),p.fillStyle="black",p.fillText(t,T*(j-1)/2,D*(3-j)/2);const O=this.#h(p.getImageData(0,0,T,D).data),N=this.#l(O),P=this.#d(N),L=this.#s(O,T,D,P);return this.processDrawnLines({lines:{curves:L,width:T,height:D},pageWidth:o,pageHeight:l,rotation:u,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,n,r,o){const[l,u,d]=this.#f(t),[f,p]=this.#c(l,u,d,Math.hypot(u,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#d(p),v=this.#s(f,u,d,m);return this.processDrawnLines({lines:{curves:v,width:u,height:d},pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:o,mustSmooth:l,areContours:u}){r%180!==0&&([e,n]=[n,e]);const{curves:d,width:f,height:p}=t,m=t.thickness??0,v=[],b=Math.min(e/f,n/p),w=b/e,_=b/n,x=[];for(const{points:C}of d){const M=l?this.#o(C):C;if(!M)continue;x.push(M);const j=M.length,T=new Float32Array(j),D=new Float32Array(3*(j===2?2:j-2));if(v.push({line:D,points:T}),j===2){T[0]=M[0]*w,T[1]=M[1]*_,D.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[O,N,P,L]=M;O*=w,N*=_,P*=w,L*=_,T.set([O,N,P,L],0),D.set([NaN,NaN,NaN,NaN,O,N],0);for(let U=4;U<j;U+=2){const X=T[U]=M[U]*w,H=T[U+1]=M[U+1]*_;D.set(wt.createBezierPoints(O,N,P,L,X,H),(U-2)*3),[O,N,P,L]=[P,L,X,H]}}if(v.length===0)return null;const A=u?new yg:new Ql;return A.build(v,e,n,1,r,u?0:m,o),{outline:A,newCurves:x,areContours:u,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:r,height:o}){let l=1/0,u=-1/0,d=0;for(const M of t){d+=M.length;for(let j=2,T=M.length;j<T;j++){const D=M[j]-M[j-2];l=Math.min(l,D),u=Math.max(u,D)}}let f;l>=-128&&u<=127?f=Int8Array:l>=-32768&&u<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=Mu+ll*p,v=new Uint32Array(m);let b=0;v[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,v[b++]=0,v[b++]=r,v[b++]=o,v[b++]=e?0:1,v[b++]=Math.max(0,Math.floor(n??0)),v[b++]=p,v[b++]=f.BYTES_PER_ELEMENT;for(const M of t)v[b++]=M.length-2,v[b++]=M[0],v[b++]=M[1];const w=new CompressionStream("deflate-raw"),_=w.writable.getWriter();await _.ready,_.write(v);const x=f.prototype.constructor;for(const M of t){const j=new x(M.length-2);for(let T=2,D=M.length;T<D;T++)j[T-2]=M[T]-M[T-2];_.write(j)}_.close();const A=await new Response(w.readable).arrayBuffer(),C=new Uint8Array(A);return pw(C)}static async decompressSignature(t){try{const e=nP(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),o=r.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,u=0;for await(const M of n)l||=new Uint8Array(new Uint32Array(M.buffer,0,4)[0]),l.set(M,u),u+=M.length;const d=new Uint32Array(l.buffer,0,l.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],v=d[4]===0,b=d[5],w=d[6],_=d[7],x=[],A=(Mu+ll*w)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(_){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(l.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(l.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(l.buffer,A);break}u=0;for(let M=0;M<w;M++){const j=d[ll*M+Mu],T=new Float32Array(j+2);x.push(T);for(let D=0;D<ll-1;D++)T[D]=d[ll*M+Mu+D+1];for(let D=0;D<j;D++)T[D+2]=T[D]+C[u++]}return{areContours:v,thickness:b,outlines:x,width:p,height:m}}catch(e){return Ht(`decompressSignature: ${e}`),null}}}class fm extends Xw{constructor(){super(),super.updateProperties({fill:kt._defaultLineColor,"stroke-width":0})}clone(){const t=new fm;return t.updateAll(this),t}}class pm extends Nd{constructor(t){super(t),super.updateProperties({stroke:kt._defaultLineColor,"stroke-width":1})}clone(){const t=new pm(this._viewParameters);return t.updateAll(this),t}}class Bi extends Pt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Ut.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){kt.initialize(t,e),this._defaultDrawingOptions=new fm,this._defaultDrawnSignatureOptions=new pm(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Gt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:o,areContours:l,description:u,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:v}=this.parent.viewport,b=Ar.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:v,innerMargin:Bi._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(b,f,u,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:r,height:o}=this.#i,l=Math.max(r,o),u=Ar.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:n,width:r,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,r){const{x:o,y:l}=this,{outline:u}=this.#i=t;this.#t=u instanceof yg,this.description=n;let d;this.#t?d=Bi.getDefaultDrawingOptions():(d=Bi._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:d});const[,f]=this.pageDimensions;let p=e/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Ar.process(t,e,n,r,Bi._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:o}=this.parent.viewport;return Ar.extractContoursFromText(t,e,n,r,o,Bi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:r}=this.parent.viewport;return Ar.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:r,innerMargin:Bi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Bi.getDefaultDrawingOptions():(this._drawingOptions=Bi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,r,o,l){return l.areContours?yg.deserialize(t,e,n,r,o,l):Ql.deserialize(t,e,n,r,o,l)}static async deserialize(t,e,n){const r=await super.deserialize(t,e,n);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class k3 extends kt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ut.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){kt.initialize(t,e)}static isHandlingMimeForPasting(t){return od.includes(t)}static paste(t,e){e.pasteEditor({mode:Ut.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#d(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:r,width:o,height:l,channels:r.length/(o*l)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const d=u.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#d(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#d(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(r=>this.#d(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=od.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[r,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,n=this.height*o;else if(e>l*r||n>l*o){const d=Math.min(l*r/e,l*o/n);e*=d,n*=d}this._uiManager.enableWaiting(!1);const u=this.#r=document.createElement("canvas");u.setAttribute("role","img"),this.addContainer(u),this.width=e/r,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:r,height:o}=this.#t,l=new bi;let u=this.#t,d=r,f=o,p=null;if(e){if(r>e||o>e){const D=Math.min(e/r,e/o);d=Math.floor(r*D),f=Math.floor(o*D)}p=document.createElement("canvas");const v=p.width=Math.ceil(d*l.sx),b=p.height=Math.ceil(f*l.sy);this.#l||(u=this.#u(v,b));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let _="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":rP.isDarkMode&&(_="#8f8f9d",x="#42414d");const A=15,C=A*l.sx,M=A*l.sy,j=new OffscreenCanvas(C*2,M*2),T=j.getContext("2d");T.fillStyle=_,T.fillRect(0,0,C*2,M*2),T.fillStyle=x,T.fillRect(0,0,C,M),T.fillRect(C,M,C,M),w.fillStyle=w.createPattern(j,"repeat"),w.fillRect(0,0,v,b),w.drawImage(u,0,0,u.width,u.height,0,0,v,b)}let m=null;if(n){let v,b;if(l.symmetric&&u.width<t&&u.height<t)v=u.width,b=u.height;else if(u=this.#t,r>t||o>t){const x=Math.min(t/r,t/o);v=Math.floor(r*x),b=Math.floor(o*x),this.#l||(u=this.#u(v,b))}const _=new OffscreenCanvas(v,b).getContext("2d",{willReadFrequently:!0});_.drawImage(u,0,0,u.width,u.height,0,0,v,b),m={width:v,height:b,data:_.getImageData(0,0,v,b).data}}return{canvas:p,width:d,height:f,imageData:m}}#u(t,e){const{width:n,height:r}=this.#t;let o=n,l=r,u=this.#t;for(;o>2*t||l>2*e;){const d=o,f=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(u,0,0,d,f,0,0,o,l),u=p.transferToImageBitmap()}return u}#g(){const[t,e]=this.parentDimensions,{width:n,height:r}=this,o=new bi,l=Math.ceil(n*t*o.sx),u=Math.ceil(r*e*o.sy),d=this.#r;if(!d||d.width===l&&d.height===u)return;d.width=l,d.height=u;const f=this.#l?this.#t:this.#u(l,u),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,u)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,r=Math.round(this.width*e*Fr.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*Fr.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let r=null,o=!1;if(t instanceof $w){const{data:{rect:_,rotation:x,id:A,structParent:C,popupRef:M,richText:j,contentsObj:T,creationDate:D,modificationDate:O},container:N,parent:{page:{pageNumber:P}},canvas:L}=t;let U,X;L?(delete t.canvas,{id:U,bitmap:X}=n.imageManager.getFromCanvas(N.id,L),L.remove()):(o=!0,t._hasNoCanvas=!0);const H=(await e._structTree.getAriaAttributes(`${Kg}${A}`))?.get("aria-label")||"";r=t={annotationType:Ut.STAMP,bitmapId:U,bitmap:X,pageIndex:P-1,rect:_.slice(0),rotation:x,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:C,popupRef:M,richText:j,comment:T?.str||null,creationDate:D,modificationDate:O}}const l=await super.deserialize(t,e,n),{rect:u,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:v}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=f,l.#l=m;const[b,w]=l.pageDimensions;return l.width=(u[2]-u[0])/b,l.height=(u[3]-u[1])/w,v&&(l.altTextData=v),l._initialData=r,t.comment&&l.setCommentData(t),l.#h=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=this.#b(n);return u.isSame?null:(u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const u=e.stamps.get(this.#e);l>u.area&&(u.area=l,u.serialized.bitmap.close(),u.serialized.bitmap=this.#y(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class zi{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#m=null;#p=-1;#u;static _initialized=!1;static#g=new Map([Xe,hm,k3,ke,Bi].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:r,accessibilityManager:o,annotationLayer:l,drawLayer:u,textLayer:d,viewport:f,l10n:p}){const m=[...zi.#g.values()];if(!zi._initialized){zi._initialized=!0;for(const v of m)v.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=f,this.#d=d,this.drawLayer=u,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ut.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#_(),t){case Ut.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ut.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ut.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Ut.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of zi.#g.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#d?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#m){this.#m=new AbortController;const n=this.#u.combinedSignal(this.#m);this.#d.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:u,timeStamp:d}=r,f=this.#p;if(d-f>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,u);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let v;const b=new RegExp(`^${Cl}[0-9]+$`);for(const _ of m)if(b.test(_.id)){v=_.id;break}if(!v)return;const w=this.#s.get(v);w?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),w.dblclick(r))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(this.#u.isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let d=r.get(u);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=n.get(u),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of zi.#g.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#d.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#d.div.contains(e)){const{isMac:n}=We.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),ke.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:t.x,y:t.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),kt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return zi.#g.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#x(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#A(),o=this.getNextId(),l=this.#x({parent:this,id:o,x:n,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await zi.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const r=this.getNextId(),o=this.#x({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:t,y:e,width:n,height:r}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),u=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+r),f=(o+u)/2-t,p=(l+d)/2-e,[m,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#A(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=We.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===Ut.STAMP||n===Ut.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Ut.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=We.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const r=this.#u.findParent(e,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#_(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Ys(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#_();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Ys(this.div,{rotation:n}),e!==n)for(const r of this.#s.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Ye{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Gt(this,"_svgFactory",new kl)}static#a(t,[e,n,r,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*o}%`}#s(){const t=Ye._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=Ye._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${e}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Ye._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),r}#o(t,e){for(const[n,r]of Object.entries(e))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,e=!1,n=!1){const r=Ye.#n++,o=this.#s(),l=Ye._svgFactory.createElement("defs");o.append(l);const u=Ye._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,u);const f=n?this.#r(l,d):null,p=Ye._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(o,t),this.#e.set(r,o),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,e){const n=Ye.#n++,r=this.#s(),o=Ye._svgFactory.createElement("defs");r.append(o);const l=Ye._svgFactory.createElement("path");o.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const m=Ye._svgFactory.createElement("mask");o.append(m),d=`mask_p${this.pageIndex}_${n}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const v=Ye._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const b=Ye._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${u}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=Ye._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:r,rootClass:o,path:l}=e,u=typeof t=="number"?this.#e.get(t):t;if(u){if(n&&this.#o(u,n),r&&Ye.#a(u,r),o){const{classList:d}=u;for(const[f,p]of Object.entries(o))d.toggle(f,p)}if(l){const f=u.firstChild.firstChild;this.#o(f,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:gg};globalThis.pdfjsLib={AbortException:gs,AnnotationEditorLayer:zi,AnnotationEditorParamsType:Zt,AnnotationEditorType:Ut,AnnotationEditorUIManager:ms,AnnotationLayer:dm,AnnotationMode:Ui,AnnotationType:De,applyOpacity:bw,build:Iw,ColorPicker:Un,createValidAbsoluteUrl:Xg,CSSConstants:vw,DOMSVGFactory:kl,DrawLayer:Ye,FeatureTest:We,fetchData:eo,findContrastColor:_w,getDocument:rm,getFilenameFromUrl:gw,getPdfFilenameFromUrl:mw,getRGB:no,getUuid:Wg,getXfaPageViewport:yw,GlobalWorkerOptions:Gs,ImageKind:Sl,InvalidPDFException:rd,isDataScheme:Yl,isPdfFile:kd,isValidExplicitDest:Ew,MathClamp:un,noContextMenu:qn,normalizeUnicode:fw,OPS:Ga,OutputScale:bi,PasswordResponses:dw,PDFDataRangeTransport:om,PDFDateString:ad,PDFWorker:Xa,PermissionFlag:uw,PixelsPerInch:Fr,RenderingCancelledException:Dd,renderRichText:Qg,ResponseException:Rl,setLayerDimensions:Ys,shadow:Gt,SignatureExtractor:Ar,stopEvent:xe,SupportedImageMimeTypes:od,TextLayer:Ml,TouchManager:Kl,updateUrlHash:Yg,Util:At,VerbosityLevel:ql,version:lm,XfaLayer:Zg};const L3=Object.freeze(Object.defineProperty({__proto__:null,AbortException:gs,AnnotationEditorLayer:zi,AnnotationEditorParamsType:Zt,AnnotationEditorType:Ut,AnnotationEditorUIManager:ms,AnnotationLayer:dm,AnnotationMode:Ui,AnnotationType:De,CSSConstants:vw,ColorPicker:Un,DOMSVGFactory:kl,DrawLayer:Ye,FeatureTest:We,GlobalWorkerOptions:Gs,ImageKind:Sl,InvalidPDFException:rd,MathClamp:un,OPS:Ga,OutputScale:bi,PDFDataRangeTransport:om,PDFDateString:ad,PDFWorker:Xa,PasswordResponses:dw,PermissionFlag:uw,PixelsPerInch:Fr,RenderingCancelledException:Dd,ResponseException:Rl,SignatureExtractor:Ar,SupportedImageMimeTypes:od,TextLayer:Ml,TouchManager:Kl,Util:At,VerbosityLevel:ql,XfaLayer:Zg,applyOpacity:bw,build:Iw,createValidAbsoluteUrl:Xg,fetchData:eo,findContrastColor:_w,getDocument:rm,getFilenameFromUrl:gw,getPdfFilenameFromUrl:mw,getRGB:no,getUuid:Wg,getXfaPageViewport:yw,isDataScheme:Yl,isPdfFile:kd,isValidExplicitDest:Ew,noContextMenu:qn,normalizeUnicode:fw,renderRichText:Qg,setLayerDimensions:Ys,shadow:Gt,stopEvent:xe,updateUrlHash:Yg,version:lm},Symbol.toStringTag,{value:"Module"}));var eS=Object.prototype.hasOwnProperty;function nS(s,t,e){for(e of s.keys())if(Ua(e,t))return e}function Ua(s,t){var e,n,r;if(s===t)return!0;if(s&&t&&(e=s.constructor)===t.constructor){if(e===Date)return s.getTime()===t.getTime();if(e===RegExp)return s.toString()===t.toString();if(e===Array){if((n=s.length)===t.length)for(;n--&&Ua(s[n],t[n]););return n===-1}if(e===Set){if(s.size!==t.size)return!1;for(n of s)if(r=n,r&&typeof r=="object"&&(r=nS(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(s.size!==t.size)return!1;for(n of s)if(r=n[0],r&&typeof r=="object"&&(r=nS(t,r),!r)||!Ua(n[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)s=new Uint8Array(s),t=new Uint8Array(t);else if(e===DataView){if((n=s.byteLength)===t.byteLength)for(;n--&&s.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(s)){if((n=s.byteLength)===t.byteLength)for(;n--&&s[n]===t[n];);return n===-1}if(!e||typeof s=="object"){n=0;for(e in s)if(eS.call(s,e)&&++n&&!eS.call(t,e)||!(e in t)||!Ua(s[e],t[e]))return!1;return Object.keys(t).length===n}}return s!==s&&t!==t}function Jl(s){let t=!1;return{promise:new Promise((n,r)=>{s.then(o=>!t&&n(o)).catch(o=>!t&&r(o))}),cancel(){t=!0}}}const N3=["onCopy","onCut","onPaste"],P3=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],B3=["onFocus","onBlur"],F3=["onInput","onInvalid","onReset","onSubmit"],j3=["onLoad","onError"],I3=["onKeyDown","onKeyPress","onKeyUp"],z3=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],U3=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],H3=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],V3=["onSelect"],$3=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],q3=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],G3=["onScroll"],X3=["onWheel"],Y3=["onAnimationStart","onAnimationEnd","onAnimationIteration"],W3=["onTransitionEnd"],K3=["onToggle"],Z3=["onChange"],Q3=[...N3,...P3,...B3,...F3,...j3,...I3,...z3,...U3,...H3,...V3,...$3,...q3,...G3,...X3,...Y3,...W3,...Z3,...K3];function Yw(s,t){const e={};for(const n of Q3){const r=s[n];r&&(t?e[n]=(o=>r(o,t(n))):e[n]=r)}return e}var J3="Invariant failed";function pe(s,t){if(!s)throw new Error(J3)}var Op,iS;function tB(){if(iS)return Op;iS=1;var s=function(){};return Op=s,Op}var eB=tB();const hn=hd(eB),Ww=z.createContext(null),nB="noopener noreferrer nofollow";class iB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return pe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){pe(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||nB,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{pe(this.pdfDocument),pe(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{pe(Array.isArray(e));const n=e[0];new Promise(r=>{pe(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{r(o)}).catch(()=>{pe(!1)}):typeof n=="number"?r(n):pe(!1)}).then(r=>{const o=r+1;pe(this.pdfViewer),pe(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:o})})})}goToPage(t){const e=t-1;pe(this.pdfViewer),pe(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Ha({children:s,type:t}){return k.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:s})}const sS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function sB(s,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function Ya(){return z.useReducer(sB,{value:void 0,error:void 0})}const Pd=typeof window<"u",Kw=Pd&&window.location.protocol==="file:";function rB(s){return typeof s<"u"}function vr(s){return rB(s)&&s!==null}function aB(s){return typeof s=="string"}function oB(s){return s instanceof ArrayBuffer}function lB(s){return pe(Pd),s instanceof Blob}function vg(s){return aB(s)&&/^data:/.test(s)}function rS(s){pe(vg(s));const[t="",e=""]=s.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function cB(){return Pd&&window.devicePixelRatio||1}const Zw="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function aS(){hn(!Kw,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Zw}`)}function uB(){hn(!Kw,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Zw}`)}function Ir(s){s?.cancel&&s.cancel()}function bg(s,t){return Object.defineProperty(s,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(s,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(s,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(s,"originalHeight",{get(){return this.view[3]},configurable:!0}),s}function dB(s){return s.name==="RenderingCancelledException"}function hB(s){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:o}=r.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(s)})}const{PDFDataRangeTransport:fB}=L3,pB=(s,t)=>{switch(t){case sS.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");s(e);break}case sS.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");s(e);break}}};function oS(s){return typeof s=="object"&&s!==null&&("data"in s||"range"in s||"url"in s)}const gB=z.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:o,file:l,inputRef:u,imageResourcesPath:d,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:v,onLoadProgress:b,onLoadSuccess:w,onPassword:_=pB,onSourceError:x,onSourceSuccess:A,options:C,renderMode:M,rotate:j,scale:T,...D},O){const[N,P]=Ya(),{value:L,error:U}=N,[X,H]=Ya(),{value:W,error:J}=X,I=z.useRef(new iB),E=z.useRef([]),rt=z.useRef(void 0),V=z.useRef(void 0);l&&l!==rt.current&&oS(l)&&(hn(!Ua(l,rt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),rt.current=l),C&&C!==V.current&&(hn(!Ua(C,V.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),V.current=C);const S=z.useRef({scrollPageIntoView:bt=>{const{dest:_t,pageNumber:Dt,pageIndex:Vt=Dt-1}=bt;if(m){m({dest:_t,pageIndex:Vt,pageNumber:Dt});return}const Ot=E.current[Vt];if(Ot){Ot.scrollIntoView();return}hn(!1,`An internal link leading to page ${Dt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});z.useImperativeHandle(O,()=>({linkService:I,pages:E,viewer:S}),[]);function F(){A&&A()}function $(){U&&(hn(!1,U.toString()),x&&x(U))}function K(){P({type:"RESET"})}z.useEffect(K,[l,P]);const tt=z.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return vg(l)?{data:rS(l)}:(aS(),{url:l});if(l instanceof fB)return{range:l};if(oB(l))return{data:l};if(Pd&&lB(l))return{data:await hB(l)};if(pe(typeof l=="object"),pe(oS(l)),"url"in l&&typeof l.url=="string"){if(vg(l.url)){const{url:bt,..._t}=l;return{data:rS(bt),..._t}}aS()}return l},[l]);z.useEffect(()=>{const bt=Jl(tt());return bt.promise.then(_t=>{P({type:"RESOLVE",value:_t})}).catch(_t=>{P({type:"REJECT",error:_t})}),()=>{Ir(bt)}},[tt,P]),z.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){$();return}F()}},[L]);function ct(){W&&(w&&w(W),E.current=new Array(W.numPages),I.current.setDocument(W))}function at(){J&&(hn(!1,J.toString()),v&&v(J))}z.useEffect(function(){H({type:"RESET"})},[H,L]),z.useEffect(function(){if(!L)return;const _t=C?{...L,...C}:L,Dt=rm(_t);b&&(Dt.onProgress=b),_&&(Dt.onPassword=_);const Vt=Dt,Ot=Vt.promise.then(se=>{H({type:"RESOLVE",value:se})}).catch(se=>{Vt.destroyed||H({type:"REJECT",error:se})});return()=>{Ot.finally(()=>Vt.destroy())}},[C,H,L]),z.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){at();return}ct()}},[W]),z.useEffect(function(){I.current.setViewer(S.current),I.current.setExternalLinkRel(r),I.current.setExternalLinkTarget(o)},[r,o]);const dt=z.useCallback((bt,_t)=>{E.current[bt]=_t},[]),yt=z.useCallback(bt=>{delete E.current[bt]},[]),Et=z.useMemo(()=>({imageResourcesPath:d,linkService:I.current,onItemClick:m,pdf:W,registerPage:dt,renderMode:M,rotate:j,scale:T,unregisterPage:yt}),[d,m,W,dt,M,j,T,yt]),St=z.useMemo(()=>Yw(D,()=>W),[D,W]);function It(){function bt(Dt){return!!Dt?.pdf}if(!bt(Et))throw new Error("pdf is undefined");const _t=typeof t=="function"?t(Et):t;return k.jsx(Ww.Provider,{value:Et,children:_t})}function jt(){return l?W==null?k.jsx(Ha,{type:"loading",children:typeof f=="function"?f():f}):W===!1?k.jsx(Ha,{type:"error",children:typeof n=="function"?n():n}):It():k.jsx(Ha,{type:"no-data",children:typeof p=="function"?p():p})}return k.jsx("div",{className:mi("react-pdf__Document",e),ref:u,...St,children:jt()})});function Qw(){return z.useContext(Ww)}function Jw(){for(var s=[],t=0;t<arguments.length;t++)s[t]=arguments[t];var e=s.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,u=e;l<u.length;l++){var d=u[l];typeof d=="function"?d(o):d&&(d.current=o)}}}const tA=z.createContext(null);function Bd(){return z.useContext(tA)}function mB(){const s=Qw(),t=Bd();pe(t);const e={...s,...t},{imageResourcesPath:n,linkService:r,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:d,page:f,pdf:p,renderForms:m,rotate:v,scale:b=1}=e;pe(p),pe(f),pe(r);const[w,_]=Ya(),{value:x,error:A}=w,C=z.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){x&&l&&l(x)}function j(){A&&(hn(!1,A.toString()),o&&o(A))}z.useEffect(function(){_({type:"RESET"})},[_,f]),z.useEffect(function(){if(!f)return;const P=Jl(f.getAnnotations()),L=P;return P.promise.then(U=>{_({type:"RESOLVE",value:U})}).catch(U=>{_({type:"REJECT",error:U})}),()=>{Ir(L)}},[_,f]),z.useEffect(()=>{if(x!==void 0){if(x===!1){j();return}M()}},[x]);function T(){d&&d()}function D(N){hn(!1,`${N}`),u&&u(N)}const O=z.useMemo(()=>f.getViewport({scale:b,rotation:v}),[f,v,b]);return z.useEffect(function(){if(!p||!f||!r||!x)return;const{current:P}=C;if(!P)return;const L=O.clone({dontFlip:!0}),U={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:P,l10n:null,linkService:r,page:f,structTreeLayer:null,viewport:L},X={annotations:x,annotationStorage:p.annotationStorage,div:P,imageResourcesPath:n,linkService:r,page:f,renderForms:m,viewport:L};P.innerHTML="";try{new dm(U).render(X),T()}catch(H){D(H)}return()=>{}},[x,n,r,f,p,m,O]),k.jsx("div",{className:mi("react-pdf__Page__annotations","annotationLayer"),ref:C})}const eA={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},yB=/^H(\d+)$/;function vB(s){return s in eA}function Fd(s){return"children"in s}function nA(s){return Fd(s)?s.children.length===1&&0 in s.children&&"id"in s.children[0]:!1}function bB(s){const t={};if(Fd(s)){const{role:e}=s,n=e.match(yB);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(vB(e)){const r=eA[e];r&&(t.role=r)}}return t}function iA(s){const t={};if(Fd(s)){if(s.alt!==void 0&&(t["aria-label"]=s.alt),s.lang!==void 0&&(t.lang=s.lang),nA(s)){const[e]=s.children;if(e){const n=iA(e);return{...t,...n}}}}else"id"in s&&(t["aria-owns"]=s.id);return t}function _B(s){return s?{...bB(s),...iA(s)}:null}function sA({className:s,node:t}){const e=z.useMemo(()=>_B(t),[t]),n=z.useMemo(()=>!Fd(t)||nA(t)?null:t.children.map((r,o)=>k.jsx(sA,{node:r},o)),[t]);return k.jsx("span",{className:s,...e,children:n})}function SB(){const s=Bd();pe(s);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=s,[n,r]=Ya(),{value:o,error:l}=n,{customTextRenderer:u,page:d}=s;function f(){o&&e&&e(o)}function p(){l&&(hn(!1,l.toString()),t&&t(l))}return z.useEffect(function(){r({type:"RESET"})},[r,d]),z.useEffect(function(){if(u||!d)return;const v=Jl(d.getStructTree()),b=v;return v.promise.then(w=>{r({type:"RESOLVE",value:w})}).catch(w=>{r({type:"REJECT",error:w})}),()=>Ir(b)},[u,d,r]),z.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}f()}},[o]),o?k.jsx(sA,{className:"react-pdf__Page__structTree structTree",node:o}):null}const lS=Ui;function wB(s){const t=Bd();pe(t);const e={...t,...s},{_className:n,canvasBackground:r,devicePixelRatio:o=cB(),onRenderError:l,onRenderSuccess:u,page:d,renderForms:f,renderTextLayer:p,rotate:m,scale:v}=e,{canvasRef:b}=s;pe(d);const w=z.useRef(null);function _(){d&&u&&u(bg(d,v))}function x(j){dB(j)||(hn(!1,j.toString()),l&&l(j))}const A=z.useMemo(()=>d.getViewport({scale:v*o,rotation:m}),[o,d,m,v]),C=z.useMemo(()=>d.getViewport({scale:v,rotation:m}),[d,m,v]);z.useEffect(function(){if(!d)return;d.cleanup();const{current:T}=w;if(!T)return;T.width=A.width,T.height=A.height,T.style.width=`${Math.floor(C.width)}px`,T.style.height=`${Math.floor(C.height)}px`,T.style.visibility="hidden";const D={annotationMode:f?lS.ENABLE_FORMS:lS.ENABLE,canvas:T,canvasContext:T.getContext("2d",{alpha:!1}),viewport:A};r&&(D.background=r);const O=d.render(D),N=O;return O.promise.then(()=>{T.style.visibility="",_()}).catch(x),()=>Ir(N)},[r,d,f,A,C]);const M=z.useCallback(()=>{const{current:j}=w;j&&(j.width=0,j.height=0)},[]);return z.useEffect(()=>M,[M]),k.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Jw(b,w),style:{display:"block",userSelect:"none"},children:p?k.jsx(SB,{}):null})}function AB(s){return"str"in s}function EB(){const s=Bd();pe(s);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:o,page:l,pageIndex:u,pageNumber:d,rotate:f,scale:p}=s;pe(l);const[m,v]=Ya(),{value:b,error:w}=m,_=z.useRef(null);hn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){b&&n&&n(b)}function A(){w&&(hn(!1,w.toString()),e&&e(w))}z.useEffect(function(){v({type:"RESET"})},[l,v]),z.useEffect(function(){if(!l)return;const N=Jl(l.getTextContent()),P=N;return N.promise.then(L=>{v({type:"RESOLVE",value:L})}).catch(L=>{v({type:"REJECT",error:L})}),()=>Ir(P)},[l,v]),z.useEffect(()=>{if(b!==void 0){if(b===!1){A();return}x()}},[b]);const C=z.useCallback(()=>{o&&o()},[o]),M=z.useCallback(O=>{hn(!1,O.toString()),r&&r(O)},[r]);function j(){const O=_.current;O&&O.classList.add("selecting")}function T(){const O=_.current;O&&O.classList.remove("selecting")}const D=z.useMemo(()=>l.getViewport({scale:p,rotation:f}),[l,f,p]);return z.useLayoutEffect(function(){if(!l||!b)return;const{current:N}=_;if(!N)return;N.innerHTML="";const P=l.streamTextContent({includeMarkedContent:!0}),L={container:N,textContentSource:P,viewport:D},U=new Ml(L),X=U;return U.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",N.append(H);const W=N.querySelectorAll('[role="presentation"]');if(t){let J=0;b.items.forEach((I,E)=>{if(!AB(I))return;const rt=W[J];if(!rt)return;const V=t({pageIndex:u,pageNumber:d,itemIndex:E,...I});rt.innerHTML=V,J+=I.str&&I.hasEOL?2:1})}C()}).catch(M),()=>Ir(X)},[t,M,C,l,u,d,b,D]),k.jsx("div",{className:mi("react-pdf__Page__textContent","textLayer"),onMouseUp:T,onMouseDown:j,ref:_})}const cS=1;function xB(s){const e={...Qw(),...s},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:o,canvasRef:l,children:u,className:d,customRenderer:f,customTextRenderer:p,devicePixelRatio:m,error:v="Failed to load the page.",height:b,inputRef:w,loading:_="Loading page",noData:x="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:C,onGetStructTreeError:M,onGetStructTreeSuccess:j,onGetTextError:T,onGetTextSuccess:D,onLoadError:O,onLoadSuccess:N,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:L,onRenderError:U,onRenderSuccess:X,onRenderTextLayerError:H,onRenderTextLayerSuccess:W,pageIndex:J,pageNumber:I,pdf:E,registerPage:rt,renderAnnotationLayer:V=!0,renderForms:S=!1,renderMode:F="canvas",renderTextLayer:$=!0,rotate:K,scale:tt=cS,unregisterPage:ct,width:at,...dt}=e,[yt,Et]=Ya(),{value:St,error:It}=yt,jt=z.useRef(null);pe(E);const bt=vr(I)?I-1:J??null,_t=I??(vr(J)?J+1:null),Dt=K??(St?St.rotate:null),Vt=z.useMemo(()=>{if(!St)return null;let Rt=1;const Bt=tt??cS;if(at||b){const Qt=St.getViewport({scale:1,rotation:Dt});at?Rt=at/Qt.width:b&&(Rt=b/Qt.height)}return Bt*Rt},[b,St,Dt,tt,at]);z.useEffect(function(){return()=>{vr(bt)&&r&&ct&&ct(bt)}},[r,E,bt,ct]);function Ot(){if(N){if(!St||!Vt)return;N(bg(St,Vt))}if(r&&rt){if(!vr(bt)||!jt.current)return;rt(bt,jt.current)}}function se(){It&&(hn(!1,It.toString()),O&&O(It))}z.useEffect(function(){Et({type:"RESET"})},[Et,E,bt]),z.useEffect(function(){if(!E||!_t)return;const Bt=Jl(E.getPage(_t)),Qt=Bt;return Bt.promise.then(Ei=>{Et({type:"RESOLVE",value:Ei})}).catch(Ei=>{Et({type:"REJECT",error:Ei})}),()=>Ir(Qt)},[Et,E,_t]),z.useEffect(()=>{if(St!==void 0){if(St===!1){se();return}Ot()}},[St,Vt]);const oe=z.useMemo(()=>vr(bt)&&_t&&vr(Dt)&&vr(Vt)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:A,onGetAnnotationsSuccess:C,onGetStructTreeError:M,onGetStructTreeSuccess:j,onGetTextError:T,onGetTextSuccess:D,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:L,onRenderError:U,onRenderSuccess:X,onRenderTextLayerError:H,onRenderTextLayerSuccess:W,page:St,pageIndex:bt,pageNumber:_t,renderForms:S,renderTextLayer:$,rotate:Dt,scale:Vt}:null,[n,o,p,m,A,C,M,j,T,D,P,L,U,X,H,W,St,bt,_t,S,$,Dt,Vt]),G=z.useMemo(()=>Yw(dt,()=>St&&(Vt?bg(St,Vt):void 0)),[dt,St,Vt]),Q=`${bt}@${Vt}/${Dt}`;function lt(){switch(F){case"custom":return pe(f),k.jsx(f,{},`${Q}_custom`);case"none":return null;case"canvas":default:return k.jsx(wB,{canvasRef:l},`${Q}_canvas`)}}function mt(){return $?k.jsx(EB,{},`${Q}_text`):null}function gt(){return V?k.jsx(mB,{},`${Q}_annotations`):null}function pt(){function Rt(Qt){return!!Qt?.page}if(!Rt(oe))throw new Error("page is undefined");const Bt=typeof u=="function"?u(oe):u;return k.jsxs(tA.Provider,{value:oe,children:[lt(),mt(),gt(),Bt]})}function xt(){return _t?E===null||St===void 0||St===null?k.jsx(Ha,{type:"loading",children:typeof _=="function"?_():_}):E===!1||St===!1?k.jsx(Ha,{type:"error",children:typeof v=="function"?v():v}):pt():k.jsx(Ha,{type:"no-data",children:typeof x=="function"?x():x})}return k.jsx("div",{className:mi(n,d),"data-page-number":_t,ref:Jw(w,jt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Vt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...G,children:xt()})}uB();Gs.workerSrc="pdf.worker.mjs";const TB="_viewerWrapper_1lfls_1",CB="_header_1lfls_13",RB="_pdfContainer_1lfls_23",OB="_pdfPage_1lfls_31",MB="_footer_1lfls_38",DB="_footerContent_1lfls_44",kB="_inlinePageInput_1lfls_54",ui={viewerWrapper:TB,header:CB,pdfContainer:RB,pdfPage:OB,footer:MB,footerContent:DB,inlinePageInput:kB};Gs.workerSrc=`//unpkg.com/pdfjs-dist@${lm}/build/pdf.worker.min.mjs`;function _g({fileId:s,fileName:t="PDF Document",height:e="700px"}){const[n,r]=z.useState(null),[o,l]=z.useState(null),[u,d]=z.useState(1.1),[f,p]=z.useState(1),[m,v]=z.useState("1"),b=z.useRef();z.useEffect(()=>{if(!s)return;(async()=>{try{const C=await NN(s);console.log("Fetched file URL:",C),r(C.url)}catch(C){console.error("Error fetching PDF file:",C)}})()},[s]),z.useEffect(()=>{const A=()=>{if(b.current){const C=b.current.offsetWidth;d(Math.min(C/600,2))}};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const w=({numPages:A})=>{l(A),v("1")};z.useEffect(()=>{const A=b.current;if(!A||!o)return;const C=()=>{const M=Array.from(A.querySelectorAll(`.${ui.pdfPage}`)),T=A.scrollTop+A.clientHeight/2;let D=1;for(let O=0;O<M.length;O++){const N=M[O],P=N.offsetTop,L=P+N.offsetHeight;if(T>=P&&T<L){D=O+1;break}}p(D),v(String(D))};return A.addEventListener("scroll",C),()=>A.removeEventListener("scroll",C)},[o]);const _=A=>v(A.target.value),x=A=>{if(A.key==="Enter"&&b.current){const C=parseInt(m,10);if(!isNaN(C)&&C>=1&&C<=o){const M=b.current.querySelector(`.${ui.pdfPage}:nth-child(${C})`);M&&b.current.scrollTo({top:M.offsetTop-10,behavior:"smooth"})}else v(String(f))}};return k.jsxs("div",{className:ui.viewerWrapper,children:[k.jsx("div",{className:ui.header,children:k.jsx("span",{className:ui.fileName,children:t})}),k.jsx("div",{className:ui.pdfContainer,style:{height:e},ref:b,children:n?k.jsx(gB,{file:n,onLoadSuccess:w,onLoadError:A=>console.error("PDF load error:",A),children:Array.from(new Array(o),(A,C)=>k.jsx("div",{className:ui.pdfPage,children:k.jsx(xB,{pageNumber:C+1,scale:u,renderMode:"canvas",renderAnnotationLayer:!1,renderTextLayer:!1})},C))},n):k.jsx("div",{className:ui.loading,children:"Loading PDF..."})}),n&&k.jsx("div",{className:ui.footer,children:k.jsxs("div",{className:ui.footerContent,children:[k.jsx("span",{children:"Page"}),k.jsx("input",{type:"number",min:"1",max:o||1,value:m,onChange:_,onKeyDown:x,className:ui.inlinePageInput}),k.jsxs("span",{children:["/ ",o||"--"]})]})})]})}const LB=[{id:1,topic:"Integration",difficulty:"Hard",question:"State the Fundamental Theorem of Calculus",answer:"It links the concept of differentiation and integration, stating that the derivative of the integral of a function is the function itself."},{id:2,topic:"Limits",difficulty:"Medium",question:"What is the limit of sin(x)/x as x approaches 0?",answer:"The limit is 1."}],NB=[{id:"q1",topic:"Derivatives",difficulty:"Medium",question:"What is the derivative of f(x) = x + 2x - 5x + 1?",options:["3x + 4x - 5","3x + 2x - 5","x + 2x - 5x + x","3x + 4x + 5"],correctAnswer:"3x + 2x - 5"}],PB=()=>{const{moduleId:s}=kS(),[t,e]=z.useState(null),[n,r]=z.useState(null),[o,l]=z.useState([]),[u,d]=z.useState(!0),f=async()=>{try{const _=((await gi.get(`/files/modules/${s}/files`)).data.files||[]).map((x,A)=>({title:`File ${A+1}. ${x.filename}`,id:x.id,externalId:x.externalId}));l(_),!n&&_.length>0&&(r(_[0]),e("Notes"))}catch(b){console.error("Failed to fetch files:",b)}finally{d(!1)}};z.useEffect(()=>{f()},[s]);const p=(b,w)=>{e(w),r(b),console.log(`Selected ${w} for ${b.title}`)},m=b=>{console.log("Submitted answers:",b)},v=()=>{switch(t){case"Flashcards":return k.jsx(JL,{cards:LB});case"Quiz":return k.jsx(LN,{questions:NB,onSubmit:m});case"AI Buddy":return k.jsxs("div",{className:C_.studySpaceContainer,children:[k.jsx(_g,{fileId:n?.id,fileName:`${n?.title}`,height:"80vh"}),k.jsx(qN,{externalId:n?.externalId})]});default:return k.jsx("div",{className:C_.studySpaceContainer,children:k.jsx(_g,{fileId:n?.id,fileName:`${n?.title}`,height:"80vh"})})}};return u?k.jsx(C1,{}):k.jsx(_N,{modules:o,onFeatureSelect:p,selectedModuleId:s,onFilesAdded:f,hasSidebar:!0,children:v()})};var Mp={},Dp={},cl={},kp={},uS;function BB(){return uS||(uS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};s.default=t})(kp)),kp}var Lp,dS;function FB(){if(dS)return Lp;dS=1;var s="Expected a function",t=NaN,e="[object Symbol]",n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d=typeof hu=="object"&&hu&&hu.Object===Object&&hu,f=typeof self=="object"&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),m=Object.prototype,v=m.toString,b=Math.max,w=Math.min,_=function(){return p.Date.now()};function x(T,D,O){var N,P,L,U,X,H,W=0,J=!1,I=!1,E=!0;if(typeof T!="function")throw new TypeError(s);D=j(D)||0,A(O)&&(J=!!O.leading,I="maxWait"in O,L=I?b(j(O.maxWait)||0,D):L,E="trailing"in O?!!O.trailing:E);function rt(dt){var yt=N,Et=P;return N=P=void 0,W=dt,U=T.apply(Et,yt),U}function V(dt){return W=dt,X=setTimeout($,D),J?rt(dt):U}function S(dt){var yt=dt-H,Et=dt-W,St=D-yt;return I?w(St,L-Et):St}function F(dt){var yt=dt-H,Et=dt-W;return H===void 0||yt>=D||yt<0||I&&Et>=L}function $(){var dt=_();if(F(dt))return K(dt);X=setTimeout($,S(dt))}function K(dt){return X=void 0,E&&N?rt(dt):(N=P=void 0,U)}function tt(){X!==void 0&&clearTimeout(X),W=0,N=H=P=X=void 0}function ct(){return X===void 0?U:K(_())}function at(){var dt=_(),yt=F(dt);if(N=arguments,P=this,H=dt,yt){if(X===void 0)return V(H);if(I)return X=setTimeout($,D),rt(H)}return X===void 0&&(X=setTimeout($,D)),U}return at.cancel=tt,at.flush=ct,at}function A(T){var D=typeof T;return!!T&&(D=="object"||D=="function")}function C(T){return!!T&&typeof T=="object"}function M(T){return typeof T=="symbol"||C(T)&&v.call(T)==e}function j(T){if(typeof T=="number")return T;if(M(T))return t;if(A(T)){var D=typeof T.valueOf=="function"?T.valueOf():T;T=A(D)?D+"":D}if(typeof T!="string")return T===0?T:+T;T=T.replace(n,"");var O=o.test(T);return O||l.test(T)?u(T.slice(2),O?2:8):r.test(T)?t:+T}return Lp=x,Lp}var Np={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hS;function jd(){return hS||(hS=1,(function(s){(function(){var t={}.hasOwnProperty;function e(){for(var o="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(o=r(o,n(u)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var u in o)t.call(o,u)&&o[u]&&(l=r(l,u));return l}function r(o,l){return l?o?o+" "+l:o+l:o}s.exports?(e.default=e,s.exports=e):window.classNames=e})()})(Np)),Np.exports}var vt={},Pp={},fS;function rA(){return fS||(fS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=e(_i());function e(r){return r&&r.__esModule?r:{default:r}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return t.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return t.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};s.default=n})(Pp)),Pp}var pS;function tc(){if(pS)return vt;pS=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.checkSpecKeys=vt.checkNavigable=vt.changeSlide=vt.canUseDOM=vt.canGoNext=void 0,vt.clamp=f,vt.extractObject=void 0,vt.filterSettings=rt,vt.validSettings=vt.swipeStart=vt.swipeMove=vt.swipeEnd=vt.slidesOnRight=vt.slidesOnLeft=vt.slideHandler=vt.siblingDirection=vt.safePreventDefault=vt.lazyStartIndex=vt.lazySlidesOnRight=vt.lazySlidesOnLeft=vt.lazyEndIndex=vt.keyHandler=vt.initializedState=vt.getWidth=vt.getTrackLeft=vt.getTrackCSS=vt.getTrackAnimateCSS=vt.getTotalSlides=vt.getSwipeDirection=vt.getSlideCount=vt.getRequiredLazySlides=vt.getPreClones=vt.getPostClones=vt.getOnDemandLazySlides=vt.getNavigableIndexes=vt.getHeight=void 0;var s=e(_i()),t=e(rA());function e(V){return V&&V.__esModule?V:{default:V}}function n(V){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},n(V)}function r(V,S){var F=Object.keys(V);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(V);S&&($=$.filter(function(K){return Object.getOwnPropertyDescriptor(V,K).enumerable})),F.push.apply(F,$)}return F}function o(V){for(var S=1;S<arguments.length;S++){var F=arguments[S]!=null?arguments[S]:{};S%2?r(Object(F),!0).forEach(function($){l(V,$,F[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(F)):r(Object(F)).forEach(function($){Object.defineProperty(V,$,Object.getOwnPropertyDescriptor(F,$))})}return V}function l(V,S,F){return(S=u(S))in V?Object.defineProperty(V,S,{value:F,enumerable:!0,configurable:!0,writable:!0}):V[S]=F,V}function u(V){var S=d(V,"string");return n(S)=="symbol"?S:S+""}function d(V,S){if(n(V)!="object"||!V)return V;var F=V[Symbol.toPrimitive];if(F!==void 0){var $=F.call(V,S);if(n($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(V)}function f(V,S,F){return Math.max(S,Math.min(V,F))}var p=vt.safePreventDefault=function(S){var F=["onTouchStart","onTouchMove","onWheel"];F.includes(S._reactName)||S.preventDefault()},m=vt.getOnDemandLazySlides=function(S){for(var F=[],$=v(S),K=b(S),tt=$;tt<K;tt++)S.lazyLoadedList.indexOf(tt)<0&&F.push(tt);return F};vt.getRequiredLazySlides=function(S){for(var F=[],$=v(S),K=b(S),tt=$;tt<K;tt++)F.push(tt);return F};var v=vt.lazyStartIndex=function(S){return S.currentSlide-w(S)},b=vt.lazyEndIndex=function(S){return S.currentSlide+_(S)},w=vt.lazySlidesOnLeft=function(S){return S.centerMode?Math.floor(S.slidesToShow/2)+(parseInt(S.centerPadding)>0?1:0):0},_=vt.lazySlidesOnRight=function(S){return S.centerMode?Math.floor((S.slidesToShow-1)/2)+1+(parseInt(S.centerPadding)>0?1:0):S.slidesToShow},x=vt.getWidth=function(S){return S&&S.offsetWidth||0},A=vt.getHeight=function(S){return S&&S.offsetHeight||0},C=vt.getSwipeDirection=function(S){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$,K,tt,ct;return $=S.startX-S.curX,K=S.startY-S.curY,tt=Math.atan2(K,$),ct=Math.round(tt*180/Math.PI),ct<0&&(ct=360-Math.abs(ct)),ct<=45&&ct>=0||ct<=360&&ct>=315?"left":ct>=135&&ct<=225?"right":F===!0?ct>=35&&ct<=135?"up":"down":"vertical"},M=vt.canGoNext=function(S){var F=!0;return S.infinite||(S.centerMode&&S.currentSlide>=S.slideCount-1||S.slideCount<=S.slidesToShow||S.currentSlide>=S.slideCount-S.slidesToShow)&&(F=!1),F};vt.extractObject=function(S,F){var $={};return F.forEach(function(K){return $[K]=S[K]}),$},vt.initializedState=function(S){var F=s.default.Children.count(S.children),$=S.listRef,K=Math.ceil(x($)),tt=S.trackRef&&S.trackRef.node,ct=Math.ceil(x(tt)),at;if(S.vertical)at=K;else{var dt=S.centerMode&&parseInt(S.centerPadding)*2;typeof S.centerPadding=="string"&&S.centerPadding.slice(-1)==="%"&&(dt*=K/100),at=Math.ceil((K-dt)/S.slidesToShow)}var yt=$&&A($.querySelector('[data-index="0"]')),Et=yt*S.slidesToShow,St=S.currentSlide===void 0?S.initialSlide:S.currentSlide;S.rtl&&S.currentSlide===void 0&&(St=F-1-S.initialSlide);var It=S.lazyLoadedList||[],jt=m(o(o({},S),{},{currentSlide:St,lazyLoadedList:It}));It=It.concat(jt);var bt={slideCount:F,slideWidth:at,listWidth:K,trackWidth:ct,currentSlide:St,slideHeight:yt,listHeight:Et,lazyLoadedList:It};return S.autoplaying===null&&S.autoplay&&(bt.autoplaying="playing"),bt},vt.slideHandler=function(S){var F=S.waitForAnimate,$=S.animating,K=S.fade,tt=S.infinite,ct=S.index,at=S.slideCount,dt=S.lazyLoad,yt=S.currentSlide,Et=S.centerMode,St=S.slidesToScroll,It=S.slidesToShow,jt=S.useCSS,bt=S.lazyLoadedList;if(F&&$)return{};var _t=ct,Dt,Vt,Ot,se={},oe={},G=tt?ct:f(ct,0,at-1);if(K){if(!tt&&(ct<0||ct>=at))return{};ct<0?_t=ct+at:ct>=at&&(_t=ct-at),dt&&bt.indexOf(_t)<0&&(bt=bt.concat(_t)),se={animating:!0,currentSlide:_t,lazyLoadedList:bt,targetSlide:_t},oe={animating:!1,targetSlide:_t}}else Dt=_t,_t<0?(Dt=_t+at,tt?at%St!==0&&(Dt=at-at%St):Dt=0):!M(S)&&_t>yt?_t=Dt=yt:Et&&_t>=at?(_t=tt?at:at-1,Dt=tt?0:at-1):_t>=at&&(Dt=_t-at,tt?at%St!==0&&(Dt=0):Dt=at-It),!tt&&_t+It>=at&&(Dt=at-It),Vt=L(o(o({},S),{},{slideIndex:_t})),Ot=L(o(o({},S),{},{slideIndex:Dt})),tt||(Vt===Ot&&(_t=Dt),Vt=Ot),dt&&(bt=bt.concat(m(o(o({},S),{},{currentSlide:_t})))),jt?(se={animating:!0,currentSlide:Dt,trackStyle:P(o(o({},S),{},{left:Vt})),lazyLoadedList:bt,targetSlide:G},oe={animating:!1,currentSlide:Dt,trackStyle:N(o(o({},S),{},{left:Ot})),swipeLeft:null,targetSlide:G}):se={currentSlide:Dt,trackStyle:N(o(o({},S),{},{left:Ot})),lazyLoadedList:bt,targetSlide:G};return{state:se,nextState:oe}},vt.changeSlide=function(S,F){var $,K,tt,ct,at,dt=S.slidesToScroll,yt=S.slidesToShow,Et=S.slideCount,St=S.currentSlide,It=S.targetSlide,jt=S.lazyLoad,bt=S.infinite;if(ct=Et%dt!==0,$=ct?0:(Et-St)%dt,F.message==="previous")tt=$===0?dt:yt-$,at=St-tt,jt&&!bt&&(K=St-tt,at=K===-1?Et-1:K),bt||(at=It-dt);else if(F.message==="next")tt=$===0?dt:$,at=St+tt,jt&&!bt&&(at=(St+dt)%Et+$),bt||(at=It+dt);else if(F.message==="dots")at=F.index*F.slidesToScroll;else if(F.message==="children"){if(at=F.index,bt){var _t=W(o(o({},S),{},{targetSlide:at}));at>F.currentSlide&&_t==="left"?at=at-Et:at<F.currentSlide&&_t==="right"&&(at=at+Et)}}else F.message==="index"&&(at=Number(F.index));return at},vt.keyHandler=function(S,F,$){return S.target.tagName.match("TEXTAREA|INPUT|SELECT")||!F?"":S.keyCode===37?$?"next":"previous":S.keyCode===39?$?"previous":"next":""},vt.swipeStart=function(S,F,$){return S.target.tagName==="IMG"&&p(S),!F||!$&&S.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:S.touches?S.touches[0].pageX:S.clientX,startY:S.touches?S.touches[0].pageY:S.clientY,curX:S.touches?S.touches[0].pageX:S.clientX,curY:S.touches?S.touches[0].pageY:S.clientY}}},vt.swipeMove=function(S,F){var $=F.scrolling,K=F.animating,tt=F.vertical,ct=F.swipeToSlide,at=F.verticalSwiping,dt=F.rtl,yt=F.currentSlide,Et=F.edgeFriction,St=F.edgeDragged,It=F.onEdge,jt=F.swiped,bt=F.swiping,_t=F.slideCount,Dt=F.slidesToScroll,Vt=F.infinite,Ot=F.touchObject,se=F.swipeEvent,oe=F.listHeight,G=F.listWidth;if(!$){if(K)return p(S);tt&&ct&&at&&p(S);var Q,lt={},mt=L(F);Ot.curX=S.touches?S.touches[0].pageX:S.clientX,Ot.curY=S.touches?S.touches[0].pageY:S.clientY,Ot.swipeLength=Math.round(Math.sqrt(Math.pow(Ot.curX-Ot.startX,2)));var gt=Math.round(Math.sqrt(Math.pow(Ot.curY-Ot.startY,2)));if(!at&&!bt&&gt>10)return{scrolling:!0};at&&(Ot.swipeLength=gt);var pt=(dt?-1:1)*(Ot.curX>Ot.startX?1:-1);at&&(pt=Ot.curY>Ot.startY?1:-1);var xt=Math.ceil(_t/Dt),Rt=C(F.touchObject,at),Bt=Ot.swipeLength;return Vt||(yt===0&&(Rt==="right"||Rt==="down")||yt+1>=xt&&(Rt==="left"||Rt==="up")||!M(F)&&(Rt==="left"||Rt==="up"))&&(Bt=Ot.swipeLength*Et,St===!1&&It&&(It(Rt),lt.edgeDragged=!0)),!jt&&se&&(se(Rt),lt.swiped=!0),tt?Q=mt+Bt*(oe/G)*pt:dt?Q=mt-Bt*pt:Q=mt+Bt*pt,at&&(Q=mt+Bt*pt),lt=o(o({},lt),{},{touchObject:Ot,swipeLeft:Q,trackStyle:N(o(o({},F),{},{left:Q}))}),Math.abs(Ot.curX-Ot.startX)<Math.abs(Ot.curY-Ot.startY)*.8||Ot.swipeLength>10&&(lt.swiping=!0,p(S)),lt}},vt.swipeEnd=function(S,F){var $=F.dragging,K=F.swipe,tt=F.touchObject,ct=F.listWidth,at=F.touchThreshold,dt=F.verticalSwiping,yt=F.listHeight,Et=F.swipeToSlide,St=F.scrolling,It=F.onSwipe,jt=F.targetSlide,bt=F.currentSlide,_t=F.infinite;if(!$)return K&&p(S),{};var Dt=dt?yt/at:ct/at,Vt=C(tt,dt),Ot={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(St||!tt.swipeLength)return Ot;if(tt.swipeLength>Dt){p(S),It&&It(Vt);var se,oe,G=_t?bt:jt;switch(Vt){case"left":case"up":oe=G+D(F),se=Et?T(F,oe):oe,Ot.currentDirection=0;break;case"right":case"down":oe=G-D(F),se=Et?T(F,oe):oe,Ot.currentDirection=1;break;default:se=G}Ot.triggerSlideHandler=se}else{var Q=L(F);Ot.trackStyle=P(o(o({},F),{},{left:Q}))}return Ot};var j=vt.getNavigableIndexes=function(S){for(var F=S.infinite?S.slideCount*2:S.slideCount,$=S.infinite?S.slidesToShow*-1:0,K=S.infinite?S.slidesToShow*-1:0,tt=[];$<F;)tt.push($),$=K+S.slidesToScroll,K+=Math.min(S.slidesToScroll,S.slidesToShow);return tt},T=vt.checkNavigable=function(S,F){var $=j(S),K=0;if(F>$[$.length-1])F=$[$.length-1];else for(var tt in $){if(F<$[tt]){F=K;break}K=$[tt]}return F},D=vt.getSlideCount=function(S){var F=S.centerMode?S.slideWidth*Math.floor(S.slidesToShow/2):0;if(S.swipeToSlide){var $,K=S.listRef,tt=K.querySelectorAll&&K.querySelectorAll(".slick-slide")||[];if(Array.from(tt).every(function(dt){if(S.vertical){if(dt.offsetTop+A(dt)/2>S.swipeLeft*-1)return $=dt,!1}else if(dt.offsetLeft-F+x(dt)/2>S.swipeLeft*-1)return $=dt,!1;return!0}),!$)return 0;var ct=S.rtl===!0?S.slideCount-S.currentSlide:S.currentSlide,at=Math.abs($.dataset.index-ct)||1;return at}else return S.slidesToScroll},O=vt.checkSpecKeys=function(S,F){return F.reduce(function($,K){return $&&S.hasOwnProperty(K)},!0)?null:console.error("Keys Missing:",S)},N=vt.getTrackCSS=function(S){O(S,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var F,$;if(!S.vertical)F=H(S)*S.slideWidth;else{var K=S.unslick?S.slideCount:S.slideCount+2*S.slidesToShow;$=K*S.slideHeight}var tt={opacity:1,transition:"",WebkitTransition:""};if(S.useTransform){var ct=S.vertical?"translate3d(0px, "+S.left+"px, 0px)":"translate3d("+S.left+"px, 0px, 0px)",at=S.vertical?"translate3d(0px, "+S.left+"px, 0px)":"translate3d("+S.left+"px, 0px, 0px)",dt=S.vertical?"translateY("+S.left+"px)":"translateX("+S.left+"px)";tt=o(o({},tt),{},{WebkitTransform:ct,transform:at,msTransform:dt})}else S.vertical?tt.top=S.left:tt.left=S.left;return S.fade&&(tt={opacity:1}),F&&(tt.width=F),$&&(tt.height=$),window&&!window.addEventListener&&window.attachEvent&&(S.vertical?tt.marginTop=S.left+"px":tt.marginLeft=S.left+"px"),tt},P=vt.getTrackAnimateCSS=function(S){O(S,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var F=N(S);return S.useTransform?(F.WebkitTransition="-webkit-transform "+S.speed+"ms "+S.cssEase,F.transition="transform "+S.speed+"ms "+S.cssEase):S.vertical?F.transition="top "+S.speed+"ms "+S.cssEase:F.transition="left "+S.speed+"ms "+S.cssEase,F},L=vt.getTrackLeft=function(S){if(S.unslick)return 0;O(S,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var F=S.slideIndex,$=S.trackRef,K=S.infinite,tt=S.centerMode,ct=S.slideCount,at=S.slidesToShow,dt=S.slidesToScroll,yt=S.slideWidth,Et=S.listWidth,St=S.variableWidth,It=S.slideHeight,jt=S.fade,bt=S.vertical,_t=0,Dt,Vt,Ot=0;if(jt||S.slideCount===1)return 0;var se=0;if(K?(se=-U(S),ct%dt!==0&&F+dt>ct&&(se=-(F>ct?at-(F-ct):ct%dt)),tt&&(se+=parseInt(at/2))):(ct%dt!==0&&F+dt>ct&&(se=at-ct%dt),tt&&(se=parseInt(at/2))),_t=se*yt,Ot=se*It,bt?Dt=F*It*-1+Ot:Dt=F*yt*-1+_t,St===!0){var oe,G=$&&$.node;if(oe=F+U(S),Vt=G&&G.childNodes[oe],Dt=Vt?Vt.offsetLeft*-1:0,tt===!0){oe=K?F+U(S):F,Vt=G&&G.children[oe],Dt=0;for(var Q=0;Q<oe;Q++)Dt-=G&&G.children[Q]&&G.children[Q].offsetWidth;Dt-=parseInt(S.centerPadding),Dt+=Vt&&(Et-Vt.offsetWidth)/2}}return Dt},U=vt.getPreClones=function(S){return S.unslick||!S.infinite?0:S.variableWidth?S.slideCount:S.slidesToShow+(S.centerMode?1:0)},X=vt.getPostClones=function(S){return S.unslick||!S.infinite?0:S.variableWidth?S.slideCount:S.slidesToShow+(S.centerMode?1:0)},H=vt.getTotalSlides=function(S){return S.slideCount===1?1:U(S)+S.slideCount+X(S)},W=vt.siblingDirection=function(S){return S.targetSlide>S.currentSlide?S.targetSlide>S.currentSlide+J(S)?"left":"right":S.targetSlide<S.currentSlide-I(S)?"right":"left"},J=vt.slidesOnRight=function(S){var F=S.slidesToShow,$=S.centerMode,K=S.rtl,tt=S.centerPadding;if($){var ct=(F-1)/2+1;return parseInt(tt)>0&&(ct+=1),K&&F%2===0&&(ct+=1),ct}return K?0:F-1},I=vt.slidesOnLeft=function(S){var F=S.slidesToShow,$=S.centerMode,K=S.rtl,tt=S.centerPadding;if($){var ct=(F-1)/2+1;return parseInt(tt)>0&&(ct+=1),!K&&F%2===0&&(ct+=1),ct}return K?F-1:0};vt.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var E=vt.validSettings=Object.keys(t.default);function rt(V){return E.reduce(function(S,F){return V.hasOwnProperty(F)&&(S[F]=V[F]),S},{})}return vt}var ul={},gS;function jB(){if(gS)return ul;gS=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.Track=void 0;var s=n(_i()),t=n(jd()),e=tc();function n(P){return P&&P.__esModule?P:{default:P}}function r(P){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},r(P)}function o(){return o=Object.assign?Object.assign.bind():function(P){for(var L=1;L<arguments.length;L++){var U=arguments[L];for(var X in U)({}).hasOwnProperty.call(U,X)&&(P[X]=U[X])}return P},o.apply(null,arguments)}function l(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")}function u(P,L){for(var U=0;U<L.length;U++){var X=L[U];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(P,M(X.key),X)}}function d(P,L,U){return L&&u(P.prototype,L),Object.defineProperty(P,"prototype",{writable:!1}),P}function f(P,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(L&&L.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),L&&p(P,L)}function p(P,L){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,X){return U.__proto__=X,U},p(P,L)}function m(P){var L=w();return function(){var U,X=_(P);if(L){var H=_(this).constructor;U=Reflect.construct(X,arguments,H)}else U=X.apply(this,arguments);return v(this,U)}}function v(P,L){if(L&&(r(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(P)}function b(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function w(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!P})()}function _(P){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},_(P)}function x(P,L){var U=Object.keys(P);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(P);L&&(X=X.filter(function(H){return Object.getOwnPropertyDescriptor(P,H).enumerable})),U.push.apply(U,X)}return U}function A(P){for(var L=1;L<arguments.length;L++){var U=arguments[L]!=null?arguments[L]:{};L%2?x(Object(U),!0).forEach(function(X){C(P,X,U[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(U)):x(Object(U)).forEach(function(X){Object.defineProperty(P,X,Object.getOwnPropertyDescriptor(U,X))})}return P}function C(P,L,U){return(L=M(L))in P?Object.defineProperty(P,L,{value:U,enumerable:!0,configurable:!0,writable:!0}):P[L]=U,P}function M(P){var L=j(P,"string");return r(L)=="symbol"?L:L+""}function j(P,L){if(r(P)!="object"||!P)return P;var U=P[Symbol.toPrimitive];if(U!==void 0){var X=U.call(P,L);if(r(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(P)}var T=function(L){var U,X,H,W,J;L.rtl?J=L.slideCount-1-L.index:J=L.index,H=J<0||J>=L.slideCount,L.centerMode?(W=Math.floor(L.slidesToShow/2),X=(J-L.currentSlide)%L.slideCount===0,J>L.currentSlide-W-1&&J<=L.currentSlide+W&&(U=!0)):U=L.currentSlide<=J&&J<L.currentSlide+L.slidesToShow;var I;L.targetSlide<0?I=L.targetSlide+L.slideCount:L.targetSlide>=L.slideCount?I=L.targetSlide-L.slideCount:I=L.targetSlide;var E=J===I;return{"slick-slide":!0,"slick-active":U,"slick-center":X,"slick-cloned":H,"slick-current":E}},D=function(L){var U={};return(L.variableWidth===void 0||L.variableWidth===!1)&&(U.width=L.slideWidth),L.fade&&(U.position="relative",L.vertical?U.top=-L.index*parseInt(L.slideHeight):U.left=-L.index*parseInt(L.slideWidth),U.opacity=L.currentSlide===L.index?1:0,U.zIndex=L.currentSlide===L.index?999:998,L.useCSS&&(U.transition="opacity "+L.speed+"ms "+L.cssEase+", visibility "+L.speed+"ms "+L.cssEase)),U},O=function(L,U){return L.key||U},N=function(L){var U,X=[],H=[],W=[],J=s.default.Children.count(L.children),I=(0,e.lazyStartIndex)(L),E=(0,e.lazyEndIndex)(L);return s.default.Children.forEach(L.children,function(rt,V){var S,F={message:"children",index:V,slidesToScroll:L.slidesToScroll,currentSlide:L.currentSlide};!L.lazyLoad||L.lazyLoad&&L.lazyLoadedList.indexOf(V)>=0?S=rt:S=s.default.createElement("div",null);var $=D(A(A({},L),{},{index:V})),K=S.props.className||"",tt=T(A(A({},L),{},{index:V}));if(X.push(s.default.cloneElement(S,{key:"original"+O(S,V),"data-index":V,className:(0,t.default)(tt,K),tabIndex:"-1","aria-hidden":!tt["slick-active"],style:A(A({outline:"none"},S.props.style||{}),$),onClick:function(dt){S.props&&S.props.onClick&&S.props.onClick(dt),L.focusOnSelect&&L.focusOnSelect(F)}})),L.infinite&&J>1&&L.fade===!1&&!L.unslick){var ct=J-V;ct<=(0,e.getPreClones)(L)&&(U=-ct,U>=I&&(S=rt),tt=T(A(A({},L),{},{index:U})),H.push(s.default.cloneElement(S,{key:"precloned"+O(S,U),"data-index":U,tabIndex:"-1",className:(0,t.default)(tt,K),"aria-hidden":!tt["slick-active"],style:A(A({},S.props.style||{}),$),onClick:function(dt){S.props&&S.props.onClick&&S.props.onClick(dt),L.focusOnSelect&&L.focusOnSelect(F)}}))),V<(0,e.getPostClones)(L)&&(U=J+V,U<E&&(S=rt),tt=T(A(A({},L),{},{index:U})),W.push(s.default.cloneElement(S,{key:"postcloned"+O(S,U),"data-index":U,tabIndex:"-1",className:(0,t.default)(tt,K),"aria-hidden":!tt["slick-active"],style:A(A({},S.props.style||{}),$),onClick:function(dt){S.props&&S.props.onClick&&S.props.onClick(dt),L.focusOnSelect&&L.focusOnSelect(F)}})))}}),L.rtl?H.concat(X,W).reverse():H.concat(X,W)};return ul.Track=(function(P){f(U,P);var L=m(U);function U(){var X;l(this,U);for(var H=arguments.length,W=new Array(H),J=0;J<H;J++)W[J]=arguments[J];return X=L.call.apply(L,[this].concat(W)),C(b(X),"node",null),C(b(X),"handleRef",function(I){X.node=I}),X}return d(U,[{key:"render",value:function(){var H=N(this.props),W=this.props,J=W.onMouseEnter,I=W.onMouseOver,E=W.onMouseLeave,rt={onMouseEnter:J,onMouseOver:I,onMouseLeave:E};return s.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},rt),H)}}]),U})(s.default.PureComponent),ul}var dl={},mS;function IB(){if(mS)return dl;mS=1;function s(T){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s(T)}Object.defineProperty(dl,"__esModule",{value:!0}),dl.Dots=void 0;var t=r(_i()),e=r(jd()),n=tc();function r(T){return T&&T.__esModule?T:{default:T}}function o(T,D){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);D&&(N=N.filter(function(P){return Object.getOwnPropertyDescriptor(T,P).enumerable})),O.push.apply(O,N)}return O}function l(T){for(var D=1;D<arguments.length;D++){var O=arguments[D]!=null?arguments[D]:{};D%2?o(Object(O),!0).forEach(function(N){u(T,N,O[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):o(Object(O)).forEach(function(N){Object.defineProperty(T,N,Object.getOwnPropertyDescriptor(O,N))})}return T}function u(T,D,O){return(D=m(D))in T?Object.defineProperty(T,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):T[D]=O,T}function d(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function f(T,D){for(var O=0;O<D.length;O++){var N=D[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,m(N.key),N)}}function p(T,D,O){return D&&f(T.prototype,D),Object.defineProperty(T,"prototype",{writable:!1}),T}function m(T){var D=v(T,"string");return s(D)=="symbol"?D:D+""}function v(T,D){if(s(T)!="object"||!T)return T;var O=T[Symbol.toPrimitive];if(O!==void 0){var N=O.call(T,D);if(s(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}function b(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),D&&w(T,D)}function w(T,D){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,N){return O.__proto__=N,O},w(T,D)}function _(T){var D=C();return function(){var O,N=M(T);if(D){var P=M(this).constructor;O=Reflect.construct(N,arguments,P)}else O=N.apply(this,arguments);return x(this,O)}}function x(T,D){if(D&&(s(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(T)}function A(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function C(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!T})()}function M(T){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},M(T)}var j=function(D){var O;return D.infinite?O=Math.ceil(D.slideCount/D.slidesToScroll):O=Math.ceil((D.slideCount-D.slidesToShow)/D.slidesToScroll)+1,O};return dl.Dots=(function(T){b(O,T);var D=_(O);function O(){return d(this,O),D.apply(this,arguments)}return p(O,[{key:"clickHandler",value:function(P,L){L.preventDefault(),this.props.clickHandler(P)}},{key:"render",value:function(){for(var P=this.props,L=P.onMouseEnter,U=P.onMouseOver,X=P.onMouseLeave,H=P.infinite,W=P.slidesToScroll,J=P.slidesToShow,I=P.slideCount,E=P.currentSlide,rt=j({slideCount:I,slidesToScroll:W,slidesToShow:J,infinite:H}),V={onMouseEnter:L,onMouseOver:U,onMouseLeave:X},S=[],F=0;F<rt;F++){var $=(F+1)*W-1,K=H?$:(0,n.clamp)($,0,I-1),tt=K-(W-1),ct=H?tt:(0,n.clamp)(tt,0,I-1),at=(0,e.default)({"slick-active":H?E>=ct&&E<=K:E===ct}),dt={message:"dots",index:F,slidesToScroll:W,currentSlide:E},yt=this.clickHandler.bind(this,dt);S=S.concat(t.default.createElement("li",{key:F,className:at},t.default.cloneElement(this.props.customPaging(F),{onClick:yt})))}return t.default.cloneElement(this.props.appendDots(S),l({className:this.props.dotsClass},V))}}]),O})(t.default.PureComponent),dl}var br={},yS;function zB(){if(yS)return br;yS=1;function s(T){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s(T)}Object.defineProperty(br,"__esModule",{value:!0}),br.PrevArrow=br.NextArrow=void 0;var t=r(_i()),e=r(jd()),n=tc();function r(T){return T&&T.__esModule?T:{default:T}}function o(){return o=Object.assign?Object.assign.bind():function(T){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var N in O)({}).hasOwnProperty.call(O,N)&&(T[N]=O[N])}return T},o.apply(null,arguments)}function l(T,D){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);D&&(N=N.filter(function(P){return Object.getOwnPropertyDescriptor(T,P).enumerable})),O.push.apply(O,N)}return O}function u(T){for(var D=1;D<arguments.length;D++){var O=arguments[D]!=null?arguments[D]:{};D%2?l(Object(O),!0).forEach(function(N){d(T,N,O[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):l(Object(O)).forEach(function(N){Object.defineProperty(T,N,Object.getOwnPropertyDescriptor(O,N))})}return T}function d(T,D,O){return(D=v(D))in T?Object.defineProperty(T,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):T[D]=O,T}function f(T,D){if(!(T instanceof D))throw new TypeError("Cannot call a class as a function")}function p(T,D){for(var O=0;O<D.length;O++){var N=D[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,v(N.key),N)}}function m(T,D,O){return D&&p(T.prototype,D),Object.defineProperty(T,"prototype",{writable:!1}),T}function v(T){var D=b(T,"string");return s(D)=="symbol"?D:D+""}function b(T,D){if(s(T)!="object"||!T)return T;var O=T[Symbol.toPrimitive];if(O!==void 0){var N=O.call(T,D);if(s(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}function w(T,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(D&&D.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),D&&_(T,D)}function _(T,D){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,N){return O.__proto__=N,O},_(T,D)}function x(T){var D=M();return function(){var O,N=j(T);if(D){var P=j(this).constructor;O=Reflect.construct(N,arguments,P)}else O=N.apply(this,arguments);return A(this,O)}}function A(T,D){if(D&&(s(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(T)}function C(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function M(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!T})()}function j(T){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},j(T)}return br.PrevArrow=(function(T){w(O,T);var D=x(O);function O(){return f(this,O),D.apply(this,arguments)}return m(O,[{key:"clickHandler",value:function(P,L){L&&L.preventDefault(),this.props.clickHandler(P,L)}},{key:"render",value:function(){var P={"slick-arrow":!0,"slick-prev":!0},L=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(P["slick-disabled"]=!0,L=null);var U={key:"0","data-role":"none",className:(0,e.default)(P),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},H;return this.props.prevArrow?H=t.default.cloneElement(this.props.prevArrow,u(u({},U),X)):H=t.default.createElement("button",o({key:"0",type:"button"},U)," ","Previous"),H}}]),O})(t.default.PureComponent),br.NextArrow=(function(T){w(O,T);var D=x(O);function O(){return f(this,O),D.apply(this,arguments)}return m(O,[{key:"clickHandler",value:function(P,L){L&&L.preventDefault(),this.props.clickHandler(P,L)}},{key:"render",value:function(){var P={"slick-arrow":!0,"slick-next":!0},L=this.clickHandler.bind(this,{message:"next"});(0,n.canGoNext)(this.props)||(P["slick-disabled"]=!0,L=null);var U={key:"1","data-role":"none",className:(0,e.default)(P),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},H;return this.props.nextArrow?H=t.default.cloneElement(this.props.nextArrow,u(u({},U),X)):H=t.default.createElement("button",o({key:"1",type:"button"},U)," ","Next"),H}}]),O})(t.default.PureComponent),br}var aA=(function(){if(typeof Map<"u")return Map;function s(t,e){var n=-1;return t.some(function(r,o){return r[0]===e?(n=o,!0):!1}),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var n=s(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(e,n){var r=s(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},t.prototype.delete=function(e){var n=this.__entries__,r=s(n,e);~r&&n.splice(r,1)},t.prototype.has=function(e){return!!~s(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,n){n===void 0&&(n=null);for(var r=0,o=this.__entries__;r<o.length;r++){var l=o[r];e.call(n,l[1],l[0])}},t})()})(),Sg=typeof window<"u"&&typeof document<"u"&&window.document===document,cd=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),UB=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(cd):function(s){return setTimeout(function(){return s(Date.now())},1e3/60)}})(),HB=2;function VB(s,t){var e=!1,n=!1,r=0;function o(){e&&(e=!1,s()),n&&u()}function l(){UB(o)}function u(){var d=Date.now();if(e){if(d-r<HB)return;n=!0}else e=!0,n=!1,setTimeout(l,t);r=d}return u}var $B=20,qB=["top","right","bottom","left","width","height","size","weight"],GB=typeof MutationObserver<"u",XB=(function(){function s(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=VB(this.refresh.bind(this),$B)}return s.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},s.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},s.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},s.prototype.connect_=function(){!Sg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),GB?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){!Sg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=e===void 0?"":e,r=qB.some(function(o){return!!~n.indexOf(o)});r&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s})(),oA=(function(s,t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];Object.defineProperty(s,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return s}),Wa=(function(s){var t=s&&s.ownerDocument&&s.ownerDocument.defaultView;return t||cd}),lA=Id(0,0,0,0);function ud(s){return parseFloat(s)||0}function vS(s){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(n,r){var o=s["border-"+r+"-width"];return n+ud(o)},0)}function YB(s){for(var t=["top","right","bottom","left"],e={},n=0,r=t;n<r.length;n++){var o=r[n],l=s["padding-"+o];e[o]=ud(l)}return e}function WB(s){var t=s.getBBox();return Id(0,0,t.width,t.height)}function KB(s){var t=s.clientWidth,e=s.clientHeight;if(!t&&!e)return lA;var n=Wa(s).getComputedStyle(s),r=YB(n),o=r.left+r.right,l=r.top+r.bottom,u=ud(n.width),d=ud(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+o)!==t&&(u-=vS(n,"left","right")+o),Math.round(d+l)!==e&&(d-=vS(n,"top","bottom")+l)),!QB(s)){var f=Math.round(u+o)-t,p=Math.round(d+l)-e;Math.abs(f)!==1&&(u-=f),Math.abs(p)!==1&&(d-=p)}return Id(r.left,r.top,u,d)}var ZB=(function(){return typeof SVGGraphicsElement<"u"?function(s){return s instanceof Wa(s).SVGGraphicsElement}:function(s){return s instanceof Wa(s).SVGElement&&typeof s.getBBox=="function"}})();function QB(s){return s===Wa(s).document.documentElement}function JB(s){return Sg?ZB(s)?WB(s):KB(s):lA}function tF(s){var t=s.x,e=s.y,n=s.width,r=s.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return oA(l,{x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:r+e,left:t}),l}function Id(s,t,e,n){return{x:s,y:t,width:e,height:n}}var eF=(function(){function s(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Id(0,0,0,0),this.target=t}return s.prototype.isActive=function(){var t=JB(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},s.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},s})(),nF=(function(){function s(t,e){var n=tF(e);oA(this,{target:t,contentRect:n})}return s})(),iF=(function(){function s(t,e,n){if(this.activeObservations_=[],this.observations_=new aA,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return s.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Wa(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new eF(t)),this.controller_.addObserver(this),this.controller_.refresh())}},s.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Wa(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},s.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},s.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},s.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new nF(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},s.prototype.clearActive=function(){this.activeObservations_.splice(0)},s.prototype.hasActive=function(){return this.activeObservations_.length>0},s})(),cA=typeof WeakMap<"u"?new WeakMap:new aA,uA=(function(){function s(t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=XB.getInstance(),n=new iF(t,e,this);cA.set(this,n)}return s})();["observe","unobserve","disconnect"].forEach(function(s){uA.prototype[s]=function(){var t;return(t=cA.get(this))[s].apply(t,arguments)}});var sF=(function(){return typeof cd.ResizeObserver<"u"?cd.ResizeObserver:uA})();const rF=Object.freeze(Object.defineProperty({__proto__:null,default:sF},Symbol.toStringTag,{value:"Module"})),aF=Ax(rF);var bS;function oF(){if(bS)return cl;bS=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.InnerSlider=void 0;var s=f(_i()),t=f(BB()),e=f(FB()),n=f(jd()),r=tc(),o=jB(),l=IB(),u=zB(),d=f(aF);function f(H){return H&&H.__esModule?H:{default:H}}function p(H){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},p(H)}function m(){return m=Object.assign?Object.assign.bind():function(H){for(var W=1;W<arguments.length;W++){var J=arguments[W];for(var I in J)({}).hasOwnProperty.call(J,I)&&(H[I]=J[I])}return H},m.apply(null,arguments)}function v(H,W){if(H==null)return{};var J,I,E=b(H,W);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(H);for(I=0;I<rt.length;I++)J=rt[I],W.includes(J)||{}.propertyIsEnumerable.call(H,J)&&(E[J]=H[J])}return E}function b(H,W){if(H==null)return{};var J={};for(var I in H)if({}.hasOwnProperty.call(H,I)){if(W.includes(I))continue;J[I]=H[I]}return J}function w(H,W){var J=Object.keys(H);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(H);W&&(I=I.filter(function(E){return Object.getOwnPropertyDescriptor(H,E).enumerable})),J.push.apply(J,I)}return J}function _(H){for(var W=1;W<arguments.length;W++){var J=arguments[W]!=null?arguments[W]:{};W%2?w(Object(J),!0).forEach(function(I){L(H,I,J[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(J)):w(Object(J)).forEach(function(I){Object.defineProperty(H,I,Object.getOwnPropertyDescriptor(J,I))})}return H}function x(H,W){if(!(H instanceof W))throw new TypeError("Cannot call a class as a function")}function A(H,W){for(var J=0;J<W.length;J++){var I=W[J];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(H,U(I.key),I)}}function C(H,W,J){return W&&A(H.prototype,W),Object.defineProperty(H,"prototype",{writable:!1}),H}function M(H,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(W&&W.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),Object.defineProperty(H,"prototype",{writable:!1}),W&&j(H,W)}function j(H,W){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,I){return J.__proto__=I,J},j(H,W)}function T(H){var W=N();return function(){var J,I=P(H);if(W){var E=P(this).constructor;J=Reflect.construct(I,arguments,E)}else J=I.apply(this,arguments);return D(this,J)}}function D(H,W){if(W&&(p(W)=="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(H)}function O(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function N(){try{var H=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!H})()}function P(H){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},P(H)}function L(H,W,J){return(W=U(W))in H?Object.defineProperty(H,W,{value:J,enumerable:!0,configurable:!0,writable:!0}):H[W]=J,H}function U(H){var W=X(H,"string");return p(W)=="symbol"?W:W+""}function X(H,W){if(p(H)!="object"||!H)return H;var J=H[Symbol.toPrimitive];if(J!==void 0){var I=J.call(H,W);if(p(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(H)}return cl.InnerSlider=(function(H){M(J,H);var W=T(J);function J(I){var E;x(this,J),E=W.call(this,I),L(O(E),"listRefHandler",function(V){return E.list=V}),L(O(E),"trackRefHandler",function(V){return E.track=V}),L(O(E),"adaptHeight",function(){if(E.props.adaptiveHeight&&E.list){var V=E.list.querySelector('[data-index="'.concat(E.state.currentSlide,'"]'));E.list.style.height=(0,r.getHeight)(V)+"px"}}),L(O(E),"componentDidMount",function(){if(E.props.onInit&&E.props.onInit(),E.props.lazyLoad){var V=(0,r.getOnDemandLazySlides)(_(_({},E.props),E.state));V.length>0&&(E.setState(function(F){return{lazyLoadedList:F.lazyLoadedList.concat(V)}}),E.props.onLazyLoad&&E.props.onLazyLoad(V))}var S=_({listRef:E.list,trackRef:E.track},E.props);E.updateState(S,!0,function(){E.adaptHeight(),E.props.autoplay&&E.autoPlay("update")}),E.props.lazyLoad==="progressive"&&(E.lazyLoadTimer=setInterval(E.progressiveLazyLoad,1e3)),E.ro=new d.default(function(){E.state.animating?(E.onWindowResized(!1),E.callbackTimers.push(setTimeout(function(){return E.onWindowResized()},E.props.speed))):E.onWindowResized()}),E.ro.observe(E.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(F){F.onfocus=E.props.pauseOnFocus?E.onSlideFocus:null,F.onblur=E.props.pauseOnFocus?E.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",E.onWindowResized):window.attachEvent("onresize",E.onWindowResized)}),L(O(E),"componentWillUnmount",function(){E.animationEndCallback&&clearTimeout(E.animationEndCallback),E.lazyLoadTimer&&clearInterval(E.lazyLoadTimer),E.callbackTimers.length&&(E.callbackTimers.forEach(function(V){return clearTimeout(V)}),E.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",E.onWindowResized):window.detachEvent("onresize",E.onWindowResized),E.autoplayTimer&&clearInterval(E.autoplayTimer),E.ro.disconnect()}),L(O(E),"componentDidUpdate",function(V){if(E.checkImagesLoad(),E.props.onReInit&&E.props.onReInit(),E.props.lazyLoad){var S=(0,r.getOnDemandLazySlides)(_(_({},E.props),E.state));S.length>0&&(E.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat(S)}}),E.props.onLazyLoad&&E.props.onLazyLoad(S))}E.adaptHeight();var F=_(_({listRef:E.list,trackRef:E.track},E.props),E.state),$=E.didPropsChange(V);$&&E.updateState(F,$,function(){E.state.currentSlide>=s.default.Children.count(E.props.children)&&E.changeSlide({message:"index",index:s.default.Children.count(E.props.children)-E.props.slidesToShow,currentSlide:E.state.currentSlide}),E.props.autoplay?E.autoPlay("update"):E.pause("paused")})}),L(O(E),"onWindowResized",function(V){E.debouncedResize&&E.debouncedResize.cancel(),E.debouncedResize=(0,e.default)(function(){return E.resizeWindow(V)},50),E.debouncedResize()}),L(O(E),"resizeWindow",function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,S=!!(E.track&&E.track.node);if(S){var F=_(_({listRef:E.list,trackRef:E.track},E.props),E.state);E.updateState(F,V,function(){E.props.autoplay?E.autoPlay("update"):E.pause("paused")}),E.setState({animating:!1}),clearTimeout(E.animationEndCallback),delete E.animationEndCallback}}),L(O(E),"updateState",function(V,S,F){var $=(0,r.initializedState)(V);V=_(_(_({},V),$),{},{slideIndex:$.currentSlide});var K=(0,r.getTrackLeft)(V);V=_(_({},V),{},{left:K});var tt=(0,r.getTrackCSS)(V);(S||s.default.Children.count(E.props.children)!==s.default.Children.count(V.children))&&($.trackStyle=tt),E.setState($,F)}),L(O(E),"ssrInit",function(){if(E.props.variableWidth){var V=0,S=0,F=[],$=(0,r.getPreClones)(_(_(_({},E.props),E.state),{},{slideCount:E.props.children.length})),K=(0,r.getPostClones)(_(_(_({},E.props),E.state),{},{slideCount:E.props.children.length}));E.props.children.forEach(function(Vt){F.push(Vt.props.style.width),V+=Vt.props.style.width});for(var tt=0;tt<$;tt++)S+=F[F.length-1-tt],V+=F[F.length-1-tt];for(var ct=0;ct<K;ct++)V+=F[ct];for(var at=0;at<E.state.currentSlide;at++)S+=F[at];var dt={width:V+"px",left:-S+"px"};if(E.props.centerMode){var yt="".concat(F[E.state.currentSlide],"px");dt.left="calc(".concat(dt.left," + (100% - ").concat(yt,") / 2 ) ")}return{trackStyle:dt}}var Et=s.default.Children.count(E.props.children),St=_(_(_({},E.props),E.state),{},{slideCount:Et}),It=(0,r.getPreClones)(St)+(0,r.getPostClones)(St)+Et,jt=100/E.props.slidesToShow*It,bt=100/It,_t=-bt*((0,r.getPreClones)(St)+E.state.currentSlide)*jt/100;E.props.centerMode&&(_t+=(100-bt*jt/100)/2);var Dt={width:jt+"%",left:_t+"%"};return{slideWidth:bt+"%",trackStyle:Dt}}),L(O(E),"checkImagesLoad",function(){var V=E.list&&E.list.querySelectorAll&&E.list.querySelectorAll(".slick-slide img")||[],S=V.length,F=0;Array.prototype.forEach.call(V,function($){var K=function(){return++F&&F>=S&&E.onWindowResized()};if(!$.onclick)$.onclick=function(){return $.parentNode.focus()};else{var tt=$.onclick;$.onclick=function(ct){tt(ct),$.parentNode.focus()}}$.onload||(E.props.lazyLoad?$.onload=function(){E.adaptHeight(),E.callbackTimers.push(setTimeout(E.onWindowResized,E.props.speed))}:($.onload=K,$.onerror=function(){K(),E.props.onLazyLoadError&&E.props.onLazyLoadError()}))})}),L(O(E),"progressiveLazyLoad",function(){for(var V=[],S=_(_({},E.props),E.state),F=E.state.currentSlide;F<E.state.slideCount+(0,r.getPostClones)(S);F++)if(E.state.lazyLoadedList.indexOf(F)<0){V.push(F);break}for(var $=E.state.currentSlide-1;$>=-(0,r.getPreClones)(S);$--)if(E.state.lazyLoadedList.indexOf($)<0){V.push($);break}V.length>0?(E.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat(V)}}),E.props.onLazyLoad&&E.props.onLazyLoad(V)):E.lazyLoadTimer&&(clearInterval(E.lazyLoadTimer),delete E.lazyLoadTimer)}),L(O(E),"slideHandler",function(V){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=E.props,$=F.asNavFor,K=F.beforeChange,tt=F.onLazyLoad,ct=F.speed,at=F.afterChange,dt=E.state.currentSlide,yt=(0,r.slideHandler)(_(_(_({index:V},E.props),E.state),{},{trackRef:E.track,useCSS:E.props.useCSS&&!S})),Et=yt.state,St=yt.nextState;if(Et){K&&K(dt,Et.currentSlide);var It=Et.lazyLoadedList.filter(function(jt){return E.state.lazyLoadedList.indexOf(jt)<0});tt&&It.length>0&&tt(It),!E.props.waitForAnimate&&E.animationEndCallback&&(clearTimeout(E.animationEndCallback),at&&at(dt),delete E.animationEndCallback),E.setState(Et,function(){$&&E.asNavForIndex!==V&&(E.asNavForIndex=V,$.innerSlider.slideHandler(V)),St&&(E.animationEndCallback=setTimeout(function(){var jt=St.animating,bt=v(St,["animating"]);E.setState(bt,function(){E.callbackTimers.push(setTimeout(function(){return E.setState({animating:jt})},10)),at&&at(Et.currentSlide),delete E.animationEndCallback})},ct))})}}),L(O(E),"changeSlide",function(V){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,F=_(_({},E.props),E.state),$=(0,r.changeSlide)(F,V);if(!($!==0&&!$)&&(S===!0?E.slideHandler($,S):E.slideHandler($),E.props.autoplay&&E.autoPlay("update"),E.props.focusOnSelect)){var K=E.list.querySelectorAll(".slick-current");K[0]&&K[0].focus()}}),L(O(E),"clickHandler",function(V){E.clickable===!1&&(V.stopPropagation(),V.preventDefault()),E.clickable=!0}),L(O(E),"keyHandler",function(V){var S=(0,r.keyHandler)(V,E.props.accessibility,E.props.rtl);S!==""&&E.changeSlide({message:S})}),L(O(E),"selectHandler",function(V){E.changeSlide(V)}),L(O(E),"disableBodyScroll",function(){var V=function(F){F=F||window.event,F.preventDefault&&F.preventDefault(),F.returnValue=!1};window.ontouchmove=V}),L(O(E),"enableBodyScroll",function(){window.ontouchmove=null}),L(O(E),"swipeStart",function(V){E.props.verticalSwiping&&E.disableBodyScroll();var S=(0,r.swipeStart)(V,E.props.swipe,E.props.draggable);S!==""&&E.setState(S)}),L(O(E),"swipeMove",function(V){var S=(0,r.swipeMove)(V,_(_(_({},E.props),E.state),{},{trackRef:E.track,listRef:E.list,slideIndex:E.state.currentSlide}));S&&(S.swiping&&(E.clickable=!1),E.setState(S))}),L(O(E),"swipeEnd",function(V){var S=(0,r.swipeEnd)(V,_(_(_({},E.props),E.state),{},{trackRef:E.track,listRef:E.list,slideIndex:E.state.currentSlide}));if(S){var F=S.triggerSlideHandler;delete S.triggerSlideHandler,E.setState(S),F!==void 0&&(E.slideHandler(F),E.props.verticalSwiping&&E.enableBodyScroll())}}),L(O(E),"touchEnd",function(V){E.swipeEnd(V),E.clickable=!0}),L(O(E),"slickPrev",function(){E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"previous"})},0))}),L(O(E),"slickNext",function(){E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"next"})},0))}),L(O(E),"slickGoTo",function(V){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V=Number(V),isNaN(V))return"";E.callbackTimers.push(setTimeout(function(){return E.changeSlide({message:"index",index:V,currentSlide:E.state.currentSlide},S)},0))}),L(O(E),"play",function(){var V;if(E.props.rtl)V=E.state.currentSlide-E.props.slidesToScroll;else if((0,r.canGoNext)(_(_({},E.props),E.state)))V=E.state.currentSlide+E.props.slidesToScroll;else return!1;E.slideHandler(V)}),L(O(E),"autoPlay",function(V){E.autoplayTimer&&clearInterval(E.autoplayTimer);var S=E.state.autoplaying;if(V==="update"){if(S==="hovered"||S==="focused"||S==="paused")return}else if(V==="leave"){if(S==="paused"||S==="focused")return}else if(V==="blur"&&(S==="paused"||S==="hovered"))return;E.autoplayTimer=setInterval(E.play,E.props.autoplaySpeed+50),E.setState({autoplaying:"playing"})}),L(O(E),"pause",function(V){E.autoplayTimer&&(clearInterval(E.autoplayTimer),E.autoplayTimer=null);var S=E.state.autoplaying;V==="paused"?E.setState({autoplaying:"paused"}):V==="focused"?(S==="hovered"||S==="playing")&&E.setState({autoplaying:"focused"}):S==="playing"&&E.setState({autoplaying:"hovered"})}),L(O(E),"onDotsOver",function(){return E.props.autoplay&&E.pause("hovered")}),L(O(E),"onDotsLeave",function(){return E.props.autoplay&&E.state.autoplaying==="hovered"&&E.autoPlay("leave")}),L(O(E),"onTrackOver",function(){return E.props.autoplay&&E.pause("hovered")}),L(O(E),"onTrackLeave",function(){return E.props.autoplay&&E.state.autoplaying==="hovered"&&E.autoPlay("leave")}),L(O(E),"onSlideFocus",function(){return E.props.autoplay&&E.pause("focused")}),L(O(E),"onSlideBlur",function(){return E.props.autoplay&&E.state.autoplaying==="focused"&&E.autoPlay("blur")}),L(O(E),"render",function(){var V=(0,n.default)("slick-slider",E.props.className,{"slick-vertical":E.props.vertical,"slick-initialized":!0}),S=_(_({},E.props),E.state),F=(0,r.extractObject)(S,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),$=E.props.pauseOnHover;F=_(_({},F),{},{onMouseEnter:$?E.onTrackOver:null,onMouseLeave:$?E.onTrackLeave:null,onMouseOver:$?E.onTrackOver:null,focusOnSelect:E.props.focusOnSelect&&E.clickable?E.selectHandler:null});var K;if(E.props.dots===!0&&E.state.slideCount>=E.props.slidesToShow){var tt=(0,r.extractObject)(S,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ct=E.props.pauseOnDotsHover;tt=_(_({},tt),{},{clickHandler:E.changeSlide,onMouseEnter:ct?E.onDotsLeave:null,onMouseOver:ct?E.onDotsOver:null,onMouseLeave:ct?E.onDotsLeave:null}),K=s.default.createElement(l.Dots,tt)}var at,dt,yt=(0,r.extractObject)(S,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);yt.clickHandler=E.changeSlide,E.props.arrows&&(at=s.default.createElement(u.PrevArrow,yt),dt=s.default.createElement(u.NextArrow,yt));var Et=null;E.props.vertical&&(Et={height:E.state.listHeight});var St=null;E.props.vertical===!1?E.props.centerMode===!0&&(St={padding:"0px "+E.props.centerPadding}):E.props.centerMode===!0&&(St={padding:E.props.centerPadding+" 0px"});var It=_(_({},Et),St),jt=E.props.touchMove,bt={className:"slick-list",style:It,onClick:E.clickHandler,onMouseDown:jt?E.swipeStart:null,onMouseMove:E.state.dragging&&jt?E.swipeMove:null,onMouseUp:jt?E.swipeEnd:null,onMouseLeave:E.state.dragging&&jt?E.swipeEnd:null,onTouchStart:jt?E.swipeStart:null,onTouchMove:E.state.dragging&&jt?E.swipeMove:null,onTouchEnd:jt?E.touchEnd:null,onTouchCancel:E.state.dragging&&jt?E.swipeEnd:null,onKeyDown:E.props.accessibility?E.keyHandler:null},_t={className:V,dir:"ltr",style:E.props.style};return E.props.unslick&&(bt={className:"slick-list"},_t={className:V,style:E.props.style}),s.default.createElement("div",_t,E.props.unslick?"":at,s.default.createElement("div",m({ref:E.listRefHandler},bt),s.default.createElement(o.Track,m({ref:E.trackRefHandler},F),E.props.children)),E.props.unslick?"":dt,E.props.unslick?"":K)}),E.list=null,E.track=null,E.state=_(_({},t.default),{},{currentSlide:E.props.initialSlide,targetSlide:E.props.initialSlide?E.props.initialSlide:0,slideCount:s.default.Children.count(E.props.children)}),E.callbackTimers=[],E.clickable=!0,E.debouncedResize=null;var rt=E.ssrInit();return E.state=_(_({},E.state),rt),E}return C(J,[{key:"didPropsChange",value:function(E){for(var rt=!1,V=0,S=Object.keys(this.props);V<S.length;V++){var F=S[V];if(!E.hasOwnProperty(F)){rt=!0;break}if(!(p(E[F])==="object"||typeof E[F]=="function"||isNaN(E[F]))&&E[F]!==this.props[F]){rt=!0;break}}return rt||s.default.Children.count(this.props.children)!==s.default.Children.count(E.children)}}]),J})(s.default.Component),cl}var Bp,_S;function lF(){if(_S)return Bp;_S=1;var s=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()};return Bp=s,Bp}var Fp,SS;function cF(){if(SS)return Fp;SS=1;var s=lF(),t=function(r){var o=/[height|width]$/;return o.test(r)},e=function(r){var o="",l=Object.keys(r);return l.forEach(function(u,d){var f=r[u];u=s(u),t(u)&&typeof f=="number"&&(f=f+"px"),f===!0?o+=u:f===!1?o+="not "+u:o+="("+u+": "+f+")",d<l.length-1&&(o+=" and ")}),o},n=function(r){var o="";return typeof r=="string"?r:r instanceof Array?(r.forEach(function(l,u){o+=e(l),u<r.length-1&&(o+=", ")}),o):e(r)};return Fp=n,Fp}var wS;function uF(){return wS||(wS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=l(_i()),e=oF(),n=l(cF()),r=l(rA()),o=tc();function l(N){return N&&N.__esModule?N:{default:N}}function u(N){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(N)}function d(){return d=Object.assign?Object.assign.bind():function(N){for(var P=1;P<arguments.length;P++){var L=arguments[P];for(var U in L)({}).hasOwnProperty.call(L,U)&&(N[U]=L[U])}return N},d.apply(null,arguments)}function f(N,P){var L=Object.keys(N);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(N);P&&(U=U.filter(function(X){return Object.getOwnPropertyDescriptor(N,X).enumerable})),L.push.apply(L,U)}return L}function p(N){for(var P=1;P<arguments.length;P++){var L=arguments[P]!=null?arguments[P]:{};P%2?f(Object(L),!0).forEach(function(U){T(N,U,L[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(L)):f(Object(L)).forEach(function(U){Object.defineProperty(N,U,Object.getOwnPropertyDescriptor(L,U))})}return N}function m(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")}function v(N,P){for(var L=0;L<P.length;L++){var U=P[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(N,D(U.key),U)}}function b(N,P,L){return P&&v(N.prototype,P),Object.defineProperty(N,"prototype",{writable:!1}),N}function w(N,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(P&&P.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),P&&_(N,P)}function _(N,P){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,U){return L.__proto__=U,L},_(N,P)}function x(N){var P=M();return function(){var L,U=j(N);if(P){var X=j(this).constructor;L=Reflect.construct(U,arguments,X)}else L=U.apply(this,arguments);return A(this,L)}}function A(N,P){if(P&&(u(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(N)}function C(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function M(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!N})()}function j(N){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},j(N)}function T(N,P,L){return(P=D(P))in N?Object.defineProperty(N,P,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[P]=L,N}function D(N){var P=O(N,"string");return u(P)=="symbol"?P:P+""}function O(N,P){if(u(N)!="object"||!N)return N;var L=N[Symbol.toPrimitive];if(L!==void 0){var U=L.call(N,P);if(u(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(N)}s.default=(function(N){w(L,N);var P=x(L);function L(U){var X;return m(this,L),X=P.call(this,U),T(C(X),"innerSliderRefHandler",function(H){return X.innerSlider=H}),T(C(X),"slickPrev",function(){return X.innerSlider.slickPrev()}),T(C(X),"slickNext",function(){return X.innerSlider.slickNext()}),T(C(X),"slickGoTo",function(H){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return X.innerSlider.slickGoTo(H,W)}),T(C(X),"slickPause",function(){return X.innerSlider.pause("paused")}),T(C(X),"slickPlay",function(){return X.innerSlider.autoPlay("play")}),X.state={breakpoint:null},X._responsiveMediaHandlers=[],X}return b(L,[{key:"media",value:function(X,H){var W=window.matchMedia(X),J=function(E){var rt=E.matches;rt&&H()};W.addListener(J),this._responsiveMediaHandlers.push({mql:W,query:X,listener:J})}},{key:"componentDidMount",value:function(){var X=this;if(this.props.responsive){var H=this.props.responsive.map(function(J){return J.breakpoint});H.sort(function(J,I){return J-I}),H.forEach(function(J,I){var E;I===0?E=(0,n.default)({minWidth:0,maxWidth:J}):E=(0,n.default)({minWidth:H[I-1]+1,maxWidth:J}),(0,o.canUseDOM)()&&X.media(E,function(){X.setState({breakpoint:J})})});var W=(0,n.default)({minWidth:H.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(W,function(){X.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(X){X.mql.removeListener(X.listener)})}},{key:"render",value:function(){var X=this,H,W;this.state.breakpoint?(W=this.props.responsive.filter(function(tt){return tt.breakpoint===X.state.breakpoint}),H=W[0].settings==="unslick"?"unslick":p(p(p({},r.default),this.props),W[0].settings)):H=p(p({},r.default),this.props),H.centerMode&&(H.slidesToScroll>1,H.slidesToScroll=1),H.fade&&(H.slidesToShow>1,H.slidesToScroll>1,H.slidesToShow=1,H.slidesToScroll=1);var J=t.default.Children.toArray(this.props.children);J=J.filter(function(tt){return typeof tt=="string"?!!tt.trim():!!tt}),H.variableWidth&&(H.rows>1||H.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),H.variableWidth=!1);for(var I=[],E=null,rt=0;rt<J.length;rt+=H.rows*H.slidesPerRow){for(var V=[],S=rt;S<rt+H.rows*H.slidesPerRow;S+=H.slidesPerRow){for(var F=[],$=S;$<S+H.slidesPerRow&&(H.variableWidth&&J[$].props.style&&(E=J[$].props.style.width),!($>=J.length));$+=1)F.push(t.default.cloneElement(J[$],{key:100*rt+10*S+$,tabIndex:-1,style:{width:"".concat(100/H.slidesPerRow,"%"),display:"inline-block"}}));V.push(t.default.createElement("div",{key:10*rt+S},F))}H.variableWidth?I.push(t.default.createElement("div",{key:rt,style:{width:E}},V)):I.push(t.default.createElement("div",{key:rt},V))}if(H==="unslick"){var K="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:K},J)}else I.length<=H.slidesToShow&&(H.unslick=!0);return t.default.createElement(e.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(H)),I)}}]),L})(t.default.Component)})(Dp)),Dp}var AS;function dF(){return AS||(AS=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var t=e(uF());function e(n){return n&&n.__esModule?n:{default:n}}s.default=t.default})(Mp)),Mp}var hF=dF();const fF=hd(hF),pF="_container_166ef_1",gF="_title_166ef_7",mF="_subtitle_166ef_13",yF="_button_166ef_19",vF="_head_166ef_49",_r={container:pF,title:gF,subtitle:mF,button:yF,head:vF},bF="_card_1ys2y_1",_F="_title_1ys2y_19",SF="_content_1ys2y_25",wF="_image_1ys2y_31",AF="_text_1ys2y_38",hl={card:bF,title:_F,content:SF,image:wF,text:AF},EF=({title:s,color:t,image:e,text:n})=>k.jsxs("div",{className:hl.card,style:{backgroundColor:t},children:[k.jsx("h3",{className:hl.title,children:s}),k.jsxs("div",{className:hl.content,children:[k.jsx("img",{src:e,alt:s,className:hl.image}),k.jsx("p",{className:hl.text,children:n})]})]}),xF=()=>{const s=[{title:"Matching",color:"#FFDAD6",image:"https://cdn-icons-png.flaticon.com/512/616/616408.png"},{title:"Expert Solutions",color:"#C6F7E2",image:"https://cdn-icons-png.flaticon.com/512/2920/2920214.png"},{title:"Memorization",color:"#C7E9FB",image:"https://cdn-icons-png.flaticon.com/512/2830/2830308.png"},{title:"Flashcards",color:"#5A4FF3",image:"https://cdn-icons-png.flaticon.com/512/821/821484.png"},{title:"Definitions",color:"#FFF0C9",image:"https://cdn-icons-png.flaticon.com/512/2721/2721298.png"},{title:"Practice Tests",color:"#E9D8FD",image:"https://cdn-icons-png.flaticon.com/512/2593/2593448.png"},{title:"Diagrams",color:"#FEE2E2",image:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png"},{title:"Games",color:"#DCFCE7",image:"https://cdn-icons-png.flaticon.com/512/2784/2784463.png"},{title:"Study Plan",color:"#FEF9C3",image:"https://cdn-icons-png.flaticon.com/512/3707/3707225.png"},{title:"Notes",color:"#FDE68A",image:"https://cdn-icons-png.flaticon.com/512/1828/1828911.png"}],t={dots:!0,infinite:!0,speed:400,slidesToShow:5,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},e=Nl();return k.jsxs("div",{className:_r.container,children:[k.jsxs("div",{className:_r.head,children:[k.jsx("h1",{className:_r.title,children:"How do you want to study?"}),k.jsx("p",{className:_r.subtitle,children:"Master any material using interactive Study Buddy."}),k.jsxs("button",{className:_r.button,onClick:()=>e("/register"),children:["Sign up"," "]})]}),k.jsx("div",{className:_r.sliderContainer,children:k.jsx(fF,{...t,children:s.map((n,r)=>k.jsx("div",{className:_r.slide,children:k.jsx(EF,{...n})},r))})})]})},TF="_section_1ts4w_1",CF="_reverse_1ts4w_10",RF="_imageWrapper_1ts4w_14",OF="_image_1ts4w_14",MF="_textContent_1ts4w_27",DF="_title_1ts4w_32",kF="_description_1ts4w_39",LF="_button_1ts4w_46",Hs={section:TF,reverse:CF,imageWrapper:RF,image:OF,textContent:MF,title:DF,description:kF,button:LF},NF=({title:s,description:t,buttonText:e,image:n,reverse:r=!1,bgColor:o="#f5f7fb"})=>k.jsxs("section",{className:`${Hs.section} ${r?Hs.reverse:""}`,style:{backgroundColor:o},children:[k.jsx("div",{className:Hs.imageWrapper,children:k.jsx("img",{src:n,alt:s,className:Hs.image})}),k.jsxs("div",{className:Hs.textContent,children:[k.jsx("h2",{className:Hs.title,children:s}),k.jsx("p",{className:Hs.description,children:t}),k.jsx("button",{className:Hs.button,children:e})]})]}),PF="/Study-Buddy/assets/introImg1-DudReclK.png",ES="/Study-Buddy/assets/introImg2-BAv0_6N1.png",BF=()=>{const s=[{title:"Choose how you want to study",description:"Turn flashcards into multiple-choice questions and more using Study Mode. Strengthen your knowledge with fun learning games like Matching.",buttonText:"Start",image:ES,bgColor:"#f9faff",reverse:!1},{title:"Master concepts efficiently",description:"Practice smarter, not harder. Get instant feedback and detailed explanations as you learn key terms.",buttonText:"Try Now",image:PF,bgColor:"#f5f7fb",reverse:!0},{title:"Track your progress",description:"Stay motivated with visual progress charts and personalized study recommendations based on your performance.",buttonText:"View Progress",image:ES,bgColor:"#f9f9ff",reverse:!1}];return k.jsxs(k.Fragment,{children:[k.jsx(Zu,{}),k.jsxs(Jp,{children:[k.jsx(xF,{}),s.map((t,e)=>k.jsx(NF,{title:t.title,description:t.description,buttonText:t.buttonText,image:t.image,bgColor:t.bgColor,reverse:t.reverse},e))]})]})};function FF(){const{fileId:s}=kS();return k.jsxs("div",{style:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",background:"#fafafa",padding:"40px 0"},children:[k.jsx("h1",{style:{marginBottom:"20px"},children:"PDF Viewer"}),k.jsx("div",{style:{width:"90%",maxWidth:"1000px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:"8px",padding:"20px"},children:k.jsx(_g,{fileId:s,fileName:`File ${s}`,height:"80vh"})})]})}const jp=({children:s})=>{const{isLoggedIn:t}=Bl(e=>e.auth);return t?s:k.jsx(PS,{to:"/login",replace:!0})},Ip=({children:s})=>{const{isLoggedIn:t}=Bl(e=>e.auth);return t?k.jsx(PS,{to:"/",replace:!0}):s};function jF(){return k.jsxs("div",{className:"h-screen flex items-center justify-center",children:[k.jsxs(AT,{children:[k.jsx(Sr,{path:"/welcome",element:k.jsx(Ip,{children:k.jsx(BF,{})})}),k.jsx(Sr,{path:"/login",element:k.jsx(Ip,{children:k.jsx(x_,{})})}),k.jsx(Sr,{path:"/register",element:k.jsx(Ip,{children:k.jsx(x_,{isRegister:!0})})}),k.jsx(Sr,{path:"/test/:fileId",element:k.jsx(jp,{children:k.jsx(FF,{})})}),k.jsx(Sr,{path:"/",element:k.jsx(jp,{children:k.jsx(iD,{})})}),k.jsx(Sr,{path:"/modules/:moduleId",element:k.jsx(jp,{children:k.jsx(PB,{})})})]}),k.jsx(rk,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}Lx.createRoot(document.getElementById("root")).render(k.jsx(z.StrictMode,{children:k.jsx(GT,{basename:"/Study-Buddy",children:k.jsx(vC,{store:XR,children:k.jsx(jF,{})})})}));
