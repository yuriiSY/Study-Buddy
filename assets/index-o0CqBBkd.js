const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B0Gk_P0t-etAw1oS3.js","assets/url-Bs332b_7-DuGMHjsF.js","assets/index-rMqNZYyA--P1EJF-4.js"])))=>i.map(i=>d[i]);
var CP=i=>{throw TypeError(i)};var rx=(i,t,e)=>t.has(i)||CP("Cannot "+e);var Ze=(i,t,e)=>(rx(i,t,"read from private field"),e?e.call(i):t.get(i)),Er=(i,t,e)=>t.has(i)?CP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),Wi=(i,t,e,n)=>(rx(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e),Tr=(i,t,e)=>(rx(i,t,"access private method"),e);var kP=(i,t,e,n)=>({set _(s){Wi(i,t,s,e)},get _(){return Ze(i,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function y8(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var t=i.default;if(typeof t=="function"){var e=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return i[n]}})}),e}var ax={exports:{}},op={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function v8(){if(RP)return op;RP=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,r){var a=null;if(r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:i,type:n,key:a,ref:s!==void 0?s:null,props:r}}return op.Fragment=t,op.jsx=e,op.jsxs=e,op}var MP;function b8(){return MP||(MP=1,ax.exports=v8()),ax.exports}var F=b8(),ox={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LP;function w8(){if(LP)return he;LP=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function S(k,W,K){this.props=k,this.context=W,this.refs=w,this.updater=K||v}S.prototype.isReactComponent={},S.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function x(){}x.prototype=S.prototype;function C(k,W,K){this.props=k,this.context=W,this.refs=w,this.updater=K||v}var L=C.prototype=new x;L.constructor=C,_(L,S.prototype),L.isPureReactComponent=!0;var j=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function P(k,W,K,et,st,ut){return K=ut.ref,{$$typeof:i,type:k,key:W,ref:K!==void 0?K:null,props:ut}}function M(k,W){return P(k.type,W,void 0,void 0,void 0,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function N(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(K){return W[K]})}var H=/\/+/g;function Q(k,W){return typeof k=="object"&&k!==null&&k.key!=null?N(""+k.key):W.toString(36)}function G(){}function J(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(G,G):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function nt(k,W,K,et,st){var ut=typeof k;(ut==="undefined"||ut==="boolean")&&(k=null);var lt=!1;if(k===null)lt=!0;else switch(ut){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(k.$$typeof){case i:case t:lt=!0;break;case h:return lt=k._init,nt(lt(k._payload),W,K,et,st)}}if(lt)return st=st(k),lt=et===""?"."+Q(k,0):et,j(st)?(K="",lt!=null&&(K=lt.replace(H,"$&/")+"/"),nt(st,W,K,"",function(_t){return _t})):st!=null&&(O(st)&&(st=M(st,K+(st.key==null||k&&k.key===st.key?"":(""+st.key).replace(H,"$&/")+"/")+lt)),W.push(st)),1;lt=0;var ft=et===""?".":et+":";if(j(k))for(var Ct=0;Ct<k.length;Ct++)et=k[Ct],ut=ft+Q(et,Ct),lt+=nt(et,W,K,ut,st);else if(Ct=m(k),typeof Ct=="function")for(k=Ct.call(k),Ct=0;!(et=k.next()).done;)et=et.value,ut=ft+Q(et,Ct++),lt+=nt(et,W,K,ut,st);else if(ut==="object"){if(typeof k.then=="function")return nt(J(k),W,K,et,st);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return lt}function $(k,W,K){if(k==null)return k;var et=[],st=0;return nt(k,et,"","",function(ut){return W.call(K,ut,st++)}),et}function T(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(K){(k._status===0||k._status===-1)&&(k._status=1,k._result=K)},function(K){(k._status===0||k._status===-1)&&(k._status=2,k._result=K)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var ct=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Z(){}return he.Children={map:$,forEach:function(k,W,K){$(k,function(){W.apply(this,arguments)},K)},count:function(k){var W=0;return $(k,function(){W++}),W},toArray:function(k){return $(k,function(W){return W})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},he.Component=S,he.Fragment=e,he.Profiler=s,he.PureComponent=C,he.StrictMode=n,he.Suspense=u,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,he.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},he.cache=function(k){return function(){return k.apply(null,arguments)}},he.cloneElement=function(k,W,K){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var et=_({},k.props),st=k.key,ut=void 0;if(W!=null)for(lt in W.ref!==void 0&&(ut=void 0),W.key!==void 0&&(st=""+W.key),W)!D.call(W,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&W.ref===void 0||(et[lt]=W[lt]);var lt=arguments.length-2;if(lt===1)et.children=K;else if(1<lt){for(var ft=Array(lt),Ct=0;Ct<lt;Ct++)ft[Ct]=arguments[Ct+2];et.children=ft}return P(k.type,st,void 0,void 0,ut,et)},he.createContext=function(k){return k={$$typeof:a,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:r,_context:k},k},he.createElement=function(k,W,K){var et,st={},ut=null;if(W!=null)for(et in W.key!==void 0&&(ut=""+W.key),W)D.call(W,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(st[et]=W[et]);var lt=arguments.length-2;if(lt===1)st.children=K;else if(1<lt){for(var ft=Array(lt),Ct=0;Ct<lt;Ct++)ft[Ct]=arguments[Ct+2];st.children=ft}if(k&&k.defaultProps)for(et in lt=k.defaultProps,lt)st[et]===void 0&&(st[et]=lt[et]);return P(k,ut,void 0,void 0,null,st)},he.createRef=function(){return{current:null}},he.forwardRef=function(k){return{$$typeof:l,render:k}},he.isValidElement=O,he.lazy=function(k){return{$$typeof:h,_payload:{_status:-1,_result:k},_init:T}},he.memo=function(k,W){return{$$typeof:d,type:k,compare:W===void 0?null:W}},he.startTransition=function(k){var W=R.T,K={};R.T=K;try{var et=k(),st=R.S;st!==null&&st(K,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Z,ct)}catch(ut){ct(ut)}finally{R.T=W}},he.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},he.use=function(k){return R.H.use(k)},he.useActionState=function(k,W,K){return R.H.useActionState(k,W,K)},he.useCallback=function(k,W){return R.H.useCallback(k,W)},he.useContext=function(k){return R.H.useContext(k)},he.useDebugValue=function(){},he.useDeferredValue=function(k,W){return R.H.useDeferredValue(k,W)},he.useEffect=function(k,W,K){var et=R.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(k,W)},he.useId=function(){return R.H.useId()},he.useImperativeHandle=function(k,W,K){return R.H.useImperativeHandle(k,W,K)},he.useInsertionEffect=function(k,W){return R.H.useInsertionEffect(k,W)},he.useLayoutEffect=function(k,W){return R.H.useLayoutEffect(k,W)},he.useMemo=function(k,W){return R.H.useMemo(k,W)},he.useOptimistic=function(k,W){return R.H.useOptimistic(k,W)},he.useReducer=function(k,W,K){return R.H.useReducer(k,W,K)},he.useRef=function(k){return R.H.useRef(k)},he.useState=function(k){return R.H.useState(k)},he.useSyncExternalStore=function(k,W,K){return R.H.useSyncExternalStore(k,W,K)},he.useTransition=function(){return R.H.useTransition()},he.version="19.1.1",he}var OP;function mr(){return OP||(OP=1,ox.exports=w8()),ox.exports}var V=mr();const Kt=W1(V);var lx={exports:{}},lp={},cx={exports:{}},ux={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP;function _8(){return PP||(PP=1,(function(i){function t($,T){var ct=$.length;$.push(T);t:for(;0<ct;){var Z=ct-1>>>1,k=$[Z];if(0<s(k,T))$[Z]=T,$[ct]=k,ct=Z;else break t}}function e($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var T=$[0],ct=$.pop();if(ct!==T){$[0]=ct;t:for(var Z=0,k=$.length,W=k>>>1;Z<W;){var K=2*(Z+1)-1,et=$[K],st=K+1,ut=$[st];if(0>s(et,ct))st<k&&0>s(ut,et)?($[Z]=ut,$[st]=ct,Z=st):($[Z]=et,$[K]=ct,Z=K);else if(st<k&&0>s(ut,ct))$[Z]=ut,$[st]=ct,Z=st;else break t}}return T}function s($,T){var ct=$.sortIndex-T.sortIndex;return ct!==0?ct:$.id-T.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();i.unstable_now=function(){return a.now()-l}}var u=[],d=[],h=1,p=null,m=3,v=!1,_=!1,w=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function j($){for(var T=e(d);T!==null;){if(T.callback===null)n(d);else if(T.startTime<=$)n(d),T.sortIndex=T.expirationTime,t(u,T);else break;T=e(d)}}function R($){if(w=!1,j($),!_)if(e(u)!==null)_=!0,D||(D=!0,Q());else{var T=e(d);T!==null&&nt(R,T.startTime-$)}}var D=!1,P=-1,M=5,O=-1;function N(){return S?!0:!(i.unstable_now()-O<M)}function H(){if(S=!1,D){var $=i.unstable_now();O=$;var T=!0;try{t:{_=!1,w&&(w=!1,C(P),P=-1),v=!0;var ct=m;try{e:{for(j($),p=e(u);p!==null&&!(p.expirationTime>$&&N());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,m=p.priorityLevel;var k=Z(p.expirationTime<=$);if($=i.unstable_now(),typeof k=="function"){p.callback=k,j($),T=!0;break e}p===e(u)&&n(u),j($)}else n(u);p=e(u)}if(p!==null)T=!0;else{var W=e(d);W!==null&&nt(R,W.startTime-$),T=!1}}break t}finally{p=null,m=ct,v=!1}T=void 0}}finally{T?Q():D=!1}}}var Q;if(typeof L=="function")Q=function(){L(H)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=H,Q=function(){J.postMessage(null)}}else Q=function(){x(H,0)};function nt($,T){P=x(function(){$(i.unstable_now())},T)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return m},i.unstable_next=function($){switch(m){case 1:case 2:case 3:var T=3;break;default:T=m}var ct=m;m=T;try{return $()}finally{m=ct}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function($,T){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ct=m;m=$;try{return T()}finally{m=ct}},i.unstable_scheduleCallback=function($,T,ct){var Z=i.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Z+ct:Z):ct=Z,$){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ct+k,$={id:h++,callback:T,priorityLevel:$,startTime:ct,expirationTime:k,sortIndex:-1},ct>Z?($.sortIndex=ct,t(d,$),e(u)===null&&$===e(d)&&(w?(C(P),P=-1):w=!0,nt(R,ct-Z))):($.sortIndex=k,t(u,$),_||v||(_=!0,D||(D=!0,Q()))),$},i.unstable_shouldYield=N,i.unstable_wrapCallback=function($){var T=m;return function(){var ct=m;m=T;try{return $.apply(this,arguments)}finally{m=ct}}}})(ux)),ux}var DP;function A8(){return DP||(DP=1,cx.exports=_8()),cx.exports}var hx={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NP;function S8(){if(NP)return ci;NP=1;var i=mr();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,d,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:u,containerInfo:d,implementation:h}}var a=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ci.createPortal=function(u,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(u,d,null,h)},ci.flushSync=function(u){var d=a.T,h=n.p;try{if(a.T=null,n.p=2,u)return u()}finally{a.T=d,n.p=h,n.d.f()}},ci.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(u,d))},ci.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},ci.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:v}):h==="script"&&n.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ci.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(u,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(u)},ci.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,p=l(h,d.crossOrigin);n.d.L(u,h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ci.preloadModule=function(u,d){if(typeof u=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(u)},ci.requestFormReset=function(u){n.d.r(u)},ci.unstable_batchedUpdates=function(u,d){return u(d)},ci.useFormState=function(u,d,h){return a.H.useFormState(u,d,h)},ci.useFormStatus=function(){return a.H.useHostTransitionStatus()},ci.version="19.1.1",ci}var IP;function x8(){if(IP)return hx.exports;IP=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hx.exports=S8(),hx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP;function E8(){if(FP)return lp;FP=1;var i=A8(),t=mr(),e=x8();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function a(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(n(188))}function u(o){var c=o.alternate;if(!c){if(c=r(o),c===null)throw Error(n(188));return c!==o?null:o}for(var f=o,g=c;;){var b=f.return;if(b===null)break;var A=b.alternate;if(A===null){if(g=b.return,g!==null){f=g;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===f)return l(b),o;if(A===g)return l(b),c;A=A.sibling}throw Error(n(188))}if(f.return!==g.return)f=b,g=A;else{for(var z=!1,q=b.child;q;){if(q===f){z=!0,f=b,g=A;break}if(q===g){z=!0,g=b,f=A;break}q=q.sibling}if(!z){for(q=A.child;q;){if(q===f){z=!0,f=A,g=b;break}if(q===g){z=!0,g=A,f=b;break}q=q.sibling}if(!z)throw Error(n(189))}}if(f.alternate!==g)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:c}function d(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=d(o),c!==null)return c;o=o.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),L=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Q(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var G=Symbol.for("react.client.reference");function J(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===G?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case _:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case O:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case v:return"Portal";case L:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case j:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:J(o.type)||"Memo";case M:c=o._payload,o=o._init;try{return J(o(c))}catch{}}return null}var nt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Z=[],k=-1;function W(o){return{current:o}}function K(o){0>k||(o.current=Z[k],Z[k]=null,k--)}function et(o,c){k++,Z[k]=o.current,o.current=c}var st=W(null),ut=W(null),lt=W(null),ft=W(null);function Ct(o,c){switch(et(lt,c),et(ut,o),et(st,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?eP(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=eP(c),o=nP(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}K(st),et(st,o)}function _t(){K(st),K(ut),K(lt)}function St(o){o.memoizedState!==null&&et(ft,o);var c=st.current,f=nP(c,o.type);c!==f&&(et(ut,o),et(st,f))}function It(o){ut.current===o&&(K(st),K(ut)),ft.current===o&&(K(ft),np._currentValue=ct)}var Ft=Object.prototype.hasOwnProperty,Et=i.unstable_scheduleCallback,Pt=i.unstable_cancelCallback,Ot=i.unstable_shouldYield,Rt=i.unstable_requestPaint,Nt=i.unstable_now,qt=i.unstable_getCurrentPriorityLevel,Qt=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,ot=i.unstable_NormalPriority,pt=i.unstable_LowPriority,Mt=i.unstable_IdlePriority,Lt=i.log,bt=i.unstable_setDisableYieldValue,jt=null,Bt=null;function Ut(o){if(typeof Lt=="function"&&bt(o),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(jt,o)}catch{}}var ne=Math.clz32?Math.clz32:U,E=Math.log,I=Math.LN2;function U(o){return o>>>=0,o===0?32:31-(E(o)/I|0)|0}var rt=256,ht=4194304;function At(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Dt(o,c,f){var g=o.pendingLanes;if(g===0)return 0;var b=0,A=o.suspendedLanes,z=o.pingedLanes;o=o.warmLanes;var q=g&134217727;return q!==0?(g=q&~A,g!==0?b=At(g):(z&=q,z!==0?b=At(z):f||(f=q&~o,f!==0&&(b=At(f))))):(q=g&~A,q!==0?b=At(q):z!==0?b=At(z):f||(f=g&~o,f!==0&&(b=At(f)))),b===0?0:c!==0&&c!==b&&(c&A)===0&&(A=b&-b,f=c&-c,A>=f||A===32&&(f&4194048)!==0)?c:b}function Ee(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function cn(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var o=rt;return rt<<=1,(rt&4194048)===0&&(rt=256),o}function Le(){var o=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),o}function Ke(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function df(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function rz(o,c,f,g,b,A){var z=o.pendingLanes;o.pendingLanes=f,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=f,o.entangledLanes&=f,o.errorRecoveryDisabledLanes&=f,o.shellSuspendCounter=0;var q=o.entanglements,it=o.expirationTimes,mt=o.hiddenUpdates;for(f=z&~f;0<f;){var xt=31-ne(f),kt=1<<xt;q[xt]=0,it[xt]=-1;var yt=mt[xt];if(yt!==null)for(mt[xt]=null,xt=0;xt<yt.length;xt++){var vt=yt[xt];vt!==null&&(vt.lane&=-536870913)}f&=~kt}g!==0&&zR(o,g,0),A!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=A&~(z&~c))}function zR(o,c,f){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-ne(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|f&4194090}function UR(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var g=31-ne(f),b=1<<g;b&c|o[g]&c&&(o[g]|=c),f&=~b}}function X_(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function K_(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function HR(){var o=T.p;return o!==0?o:(o=window.event,o===void 0?32:_P(o.type))}function az(o,c){var f=T.p;try{return T.p=o,c()}finally{T.p=f}}var ho=Math.random().toString(36).slice(2),oi="__reactFiber$"+ho,Bi="__reactProps$"+ho,wu="__reactContainer$"+ho,Q_="__reactEvents$"+ho,oz="__reactListeners$"+ho,lz="__reactHandles$"+ho,$R="__reactResources$"+ho,ff="__reactMarker$"+ho;function Z_(o){delete o[oi],delete o[Bi],delete o[Q_],delete o[oz],delete o[lz]}function _u(o){var c=o[oi];if(c)return c;for(var f=o.parentNode;f;){if(c=f[wu]||f[oi]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=aP(o);o!==null;){if(f=o[oi])return f;o=aP(o)}return c}o=f,f=o.parentNode}return null}function Au(o){if(o=o[oi]||o[wu]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function pf(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function Su(o){var c=o[$R];return c||(c=o[$R]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Nn(o){o[ff]=!0}var WR=new Set,VR={};function Cl(o,c){xu(o,c),xu(o+"Capture",c)}function xu(o,c){for(VR[o]=c,o=0;o<c.length;o++)WR.add(c[o])}var cz=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),GR={},qR={};function uz(o){return Ft.call(qR,o)?!0:Ft.call(GR,o)?!1:cz.test(o)?qR[o]=!0:(GR[o]=!0,!1)}function ay(o,c,f){if(uz(c))if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+f)}}function oy(o,c,f){if(f===null)o.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+f)}}function sa(o,c,f,g){if(g===null)o.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(f);return}o.setAttributeNS(c,f,""+g)}}var J_,YR;function Eu(o){if(J_===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);J_=c&&c[1]||"",YR=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J_+o+YR}var tA=!1;function eA(o,c){if(!o||tA)return"";tA=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(vt){var yt=vt}Reflect.construct(o,[],kt)}else{try{kt.call()}catch(vt){yt=vt}o.call(kt.prototype)}}else{try{throw Error()}catch(vt){yt=vt}(kt=o())&&typeof kt.catch=="function"&&kt.catch(function(){})}}catch(vt){if(vt&&yt&&typeof vt.stack=="string")return[vt.stack,yt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=g.DetermineComponentFrameRoot(),z=A[0],q=A[1];if(z&&q){var it=z.split(`
`),mt=q.split(`
`);for(b=g=0;g<it.length&&!it[g].includes("DetermineComponentFrameRoot");)g++;for(;b<mt.length&&!mt[b].includes("DetermineComponentFrameRoot");)b++;if(g===it.length||b===mt.length)for(g=it.length-1,b=mt.length-1;1<=g&&0<=b&&it[g]!==mt[b];)b--;for(;1<=g&&0<=b;g--,b--)if(it[g]!==mt[b]){if(g!==1||b!==1)do if(g--,b--,0>b||it[g]!==mt[b]){var xt=`
`+it[g].replace(" at new "," at ");return o.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",o.displayName)),xt}while(1<=g&&0<=b);break}}}finally{tA=!1,Error.prepareStackTrace=f}return(f=o?o.displayName||o.name:"")?Eu(f):""}function hz(o){switch(o.tag){case 26:case 27:case 5:return Eu(o.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 15:return eA(o.type,!1);case 11:return eA(o.type.render,!1);case 1:return eA(o.type,!0);case 31:return Eu("Activity");default:return""}}function XR(o){try{var c="";do c+=hz(o),o=o.return;while(o);return c}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Ts(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function KR(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function dz(o){var c=KR(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,A=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(z){g=""+z,A.call(this,z)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(z){g=""+z},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function ly(o){o._valueTracker||(o._valueTracker=dz(o))}function QR(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return o&&(g=KR(o)?o.checked?"true":"false":o.value),o=g,o!==f?(c.setValue(o),!0):!1}function cy(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var fz=/[\n"\\]/g;function Cs(o){return o.replace(fz,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function nA(o,c,f,g,b,A,z,q){o.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.type=z:o.removeAttribute("type"),c!=null?z==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ts(c)):o.value!==""+Ts(c)&&(o.value=""+Ts(c)):z!=="submit"&&z!=="reset"||o.removeAttribute("value"),c!=null?iA(o,z,Ts(c)):f!=null?iA(o,z,Ts(f)):g!=null&&o.removeAttribute("value"),b==null&&A!=null&&(o.defaultChecked=!!A),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.name=""+Ts(q):o.removeAttribute("name")}function ZR(o,c,f,g,b,A,z,q){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(o.type=A),c!=null||f!=null){if(!(A!=="submit"&&A!=="reset"||c!=null))return;f=f!=null?""+Ts(f):"",c=c!=null?""+Ts(c):f,q||c===o.value||(o.value=c),o.defaultValue=c}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=q?o.checked:!!g,o.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(o.name=z)}function iA(o,c,f){c==="number"&&cy(o.ownerDocument)===o||o.defaultValue===""+f||(o.defaultValue=""+f)}function Tu(o,c,f,g){if(o=o.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=c.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&g&&(o[f].defaultSelected=!0)}else{for(f=""+Ts(f),c=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,g&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function JR(o,c,f){if(c!=null&&(c=""+Ts(c),c!==o.value&&(o.value=c),f==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=f!=null?""+Ts(f):""}function tM(o,c,f,g){if(c==null){if(g!=null){if(f!=null)throw Error(n(92));if(nt(g)){if(1<g.length)throw Error(n(93));g=g[0]}f=g}f==null&&(f=""),c=f}f=Ts(c),o.defaultValue=f,g=o.textContent,g===f&&g!==""&&g!==null&&(o.value=g)}function Cu(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var pz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eM(o,c,f){var g=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,f):typeof f!="number"||f===0||pz.has(c)?c==="float"?o.cssFloat=f:o[c]=(""+f).trim():o[c]=f+"px"}function nM(o,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var b in c)g=c[b],c.hasOwnProperty(b)&&f[b]!==g&&eM(o,b,g)}else for(var A in c)c.hasOwnProperty(A)&&eM(o,A,c[A])}function sA(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uy(o){return mz.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var rA=null;function aA(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ku=null,Ru=null;function iM(o){var c=Au(o);if(c&&(o=c.stateNode)){var f=o[Bi]||null;t:switch(o=c.stateNode,c.type){case"input":if(nA(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Cs(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==o&&g.form===o.form){var b=g[Bi]||null;if(!b)throw Error(n(90));nA(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<f.length;c++)g=f[c],g.form===o.form&&QR(g)}break t;case"textarea":JR(o,f.value,f.defaultValue);break t;case"select":c=f.value,c!=null&&Tu(o,!!f.multiple,c,!1)}}}var oA=!1;function sM(o,c,f){if(oA)return o(c,f);oA=!0;try{var g=o(c);return g}finally{if(oA=!1,(ku!==null||Ru!==null)&&(Xy(),ku&&(c=ku,o=Ru,Ru=ku=null,iM(c),o)))for(c=0;c<o.length;c++)iM(o[c])}}function gf(o,c){var f=o.stateNode;if(f===null)return null;var g=f[Bi]||null;if(g===null)return null;f=g[c];t:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break t;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lA=!1;if(ra)try{var mf={};Object.defineProperty(mf,"passive",{get:function(){lA=!0}}),window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{lA=!1}var fo=null,cA=null,hy=null;function rM(){if(hy)return hy;var o,c=cA,f=c.length,g,b="value"in fo?fo.value:fo.textContent,A=b.length;for(o=0;o<f&&c[o]===b[o];o++);var z=f-o;for(g=1;g<=z&&c[f-g]===b[A-g];g++);return hy=b.slice(o,1<g?1-g:void 0)}function dy(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function fy(){return!0}function aM(){return!1}function zi(o){function c(f,g,b,A,z){this._reactName=f,this._targetInst=b,this.type=g,this.nativeEvent=A,this.target=z,this.currentTarget=null;for(var q in o)o.hasOwnProperty(q)&&(f=o[q],this[q]=f?f(A):A[q]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?fy:aM,this.isPropagationStopped=aM,this}return h(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=fy)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=fy)},persist:function(){},isPersistent:fy}),c}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},py=zi(kl),yf=h({},kl,{view:0,detail:0}),yz=zi(yf),uA,hA,vf,gy=h({},yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fA,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==vf&&(vf&&o.type==="mousemove"?(uA=o.screenX-vf.screenX,hA=o.screenY-vf.screenY):hA=uA=0,vf=o),uA)},movementY:function(o){return"movementY"in o?o.movementY:hA}}),oM=zi(gy),vz=h({},gy,{dataTransfer:0}),bz=zi(vz),wz=h({},yf,{relatedTarget:0}),dA=zi(wz),_z=h({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Az=zi(_z),Sz=h({},kl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),xz=zi(Sz),Ez=h({},kl,{data:0}),lM=zi(Ez),Tz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rz(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=kz[o])?!!c[o]:!1}function fA(){return Rz}var Mz=h({},yf,{key:function(o){if(o.key){var c=Tz[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=dy(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Cz[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fA,charCode:function(o){return o.type==="keypress"?dy(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?dy(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Lz=zi(Mz),Oz=h({},gy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cM=zi(Oz),Pz=h({},yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fA}),Dz=zi(Pz),Nz=h({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iz=zi(Nz),Fz=h({},gy,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),jz=zi(Fz),Bz=h({},kl,{newState:0,oldState:0}),zz=zi(Bz),Uz=[9,13,27,32],pA=ra&&"CompositionEvent"in window,bf=null;ra&&"documentMode"in document&&(bf=document.documentMode);var Hz=ra&&"TextEvent"in window&&!bf,uM=ra&&(!pA||bf&&8<bf&&11>=bf),hM=" ",dM=!1;function fM(o,c){switch(o){case"keyup":return Uz.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pM(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Mu=!1;function $z(o,c){switch(o){case"compositionend":return pM(c);case"keypress":return c.which!==32?null:(dM=!0,hM);case"textInput":return o=c.data,o===hM&&dM?null:o;default:return null}}function Wz(o,c){if(Mu)return o==="compositionend"||!pA&&fM(o,c)?(o=rM(),hy=cA=fo=null,Mu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return uM&&c.locale!=="ko"?null:c.data;default:return null}}var Vz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gM(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Vz[o.type]:c==="textarea"}function mM(o,c,f,g){ku?Ru?Ru.push(g):Ru=[g]:ku=g,c=ev(c,"onChange"),0<c.length&&(f=new py("onChange","change",null,f,g),o.push({event:f,listeners:c}))}var wf=null,_f=null;function Gz(o){KO(o,0)}function my(o){var c=pf(o);if(QR(c))return o}function yM(o,c){if(o==="change")return c}var vM=!1;if(ra){var gA;if(ra){var mA="oninput"in document;if(!mA){var bM=document.createElement("div");bM.setAttribute("oninput","return;"),mA=typeof bM.oninput=="function"}gA=mA}else gA=!1;vM=gA&&(!document.documentMode||9<document.documentMode)}function wM(){wf&&(wf.detachEvent("onpropertychange",_M),_f=wf=null)}function _M(o){if(o.propertyName==="value"&&my(_f)){var c=[];mM(c,_f,o,aA(o)),sM(Gz,c)}}function qz(o,c,f){o==="focusin"?(wM(),wf=c,_f=f,wf.attachEvent("onpropertychange",_M)):o==="focusout"&&wM()}function Yz(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return my(_f)}function Xz(o,c){if(o==="click")return my(c)}function Kz(o,c){if(o==="input"||o==="change")return my(c)}function Qz(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ls=typeof Object.is=="function"?Object.is:Qz;function Af(o,c){if(ls(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var b=f[g];if(!Ft.call(c,b)||!ls(o[b],c[b]))return!1}return!0}function AM(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function SM(o,c){var f=AM(o);o=0;for(var g;f;){if(f.nodeType===3){if(g=o+f.textContent.length,o<=c&&g>=c)return{node:f,offset:c-o};o=g}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=AM(f)}}function xM(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?xM(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function EM(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=cy(o.document);c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=cy(o.document)}return c}function yA(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var Zz=ra&&"documentMode"in document&&11>=document.documentMode,Lu=null,vA=null,Sf=null,bA=!1;function TM(o,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;bA||Lu==null||Lu!==cy(g)||(g=Lu,"selectionStart"in g&&yA(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sf&&Af(Sf,g)||(Sf=g,g=ev(vA,"onSelect"),0<g.length&&(c=new py("onSelect","select",null,c,f),o.push({event:c,listeners:g}),c.target=Lu)))}function Rl(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var Ou={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},wA={},CM={};ra&&(CM=document.createElement("div").style,"AnimationEvent"in window||(delete Ou.animationend.animation,delete Ou.animationiteration.animation,delete Ou.animationstart.animation),"TransitionEvent"in window||delete Ou.transitionend.transition);function Ml(o){if(wA[o])return wA[o];if(!Ou[o])return o;var c=Ou[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in CM)return wA[o]=c[f];return o}var kM=Ml("animationend"),RM=Ml("animationiteration"),MM=Ml("animationstart"),Jz=Ml("transitionrun"),tU=Ml("transitionstart"),eU=Ml("transitioncancel"),LM=Ml("transitionend"),OM=new Map,_A="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_A.push("scrollEnd");function Qs(o,c){OM.set(o,c),Cl(c,[o])}var PM=new WeakMap;function ks(o,c){if(typeof o=="object"&&o!==null){var f=PM.get(o);return f!==void 0?f:(c={value:o,source:c,stack:XR(c)},PM.set(o,c),c)}return{value:o,source:c,stack:XR(c)}}var Rs=[],Pu=0,AA=0;function yy(){for(var o=Pu,c=AA=Pu=0;c<o;){var f=Rs[c];Rs[c++]=null;var g=Rs[c];Rs[c++]=null;var b=Rs[c];Rs[c++]=null;var A=Rs[c];if(Rs[c++]=null,g!==null&&b!==null){var z=g.pending;z===null?b.next=b:(b.next=z.next,z.next=b),g.pending=b}A!==0&&DM(f,b,A)}}function vy(o,c,f,g){Rs[Pu++]=o,Rs[Pu++]=c,Rs[Pu++]=f,Rs[Pu++]=g,AA|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function SA(o,c,f,g){return vy(o,c,f,g),by(o)}function Du(o,c){return vy(o,null,null,c),by(o)}function DM(o,c,f){o.lanes|=f;var g=o.alternate;g!==null&&(g.lanes|=f);for(var b=!1,A=o.return;A!==null;)A.childLanes|=f,g=A.alternate,g!==null&&(g.childLanes|=f),A.tag===22&&(o=A.stateNode,o===null||o._visibility&1||(b=!0)),o=A,A=A.return;return o.tag===3?(A=o.stateNode,b&&c!==null&&(b=31-ne(f),o=A.hiddenUpdates,g=o[b],g===null?o[b]=[c]:g.push(c),c.lane=f|536870912),A):null}function by(o){if(50<Yf)throw Yf=0,RS=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Nu={};function nU(o,c,f,g){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(o,c,f,g){return new nU(o,c,f,g)}function xA(o){return o=o.prototype,!(!o||!o.isReactComponent)}function aa(o,c){var f=o.alternate;return f===null?(f=cs(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&65011712,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f.refCleanup=o.refCleanup,f}function NM(o,c){o.flags&=65011714;var f=o.alternate;return f===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=f.childLanes,o.lanes=f.lanes,o.child=f.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=f.memoizedProps,o.memoizedState=f.memoizedState,o.updateQueue=f.updateQueue,o.type=f.type,c=f.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function wy(o,c,f,g,b,A){var z=0;if(g=o,typeof o=="function")xA(o)&&(z=1);else if(typeof o=="string")z=s8(o,f,st.current)?26:o==="html"||o==="head"||o==="body"?27:5;else t:switch(o){case O:return o=cs(31,f,c,b),o.elementType=O,o.lanes=A,o;case _:return Ll(f.children,b,A,c);case w:z=8,b|=24;break;case S:return o=cs(12,f,c,b|2),o.elementType=S,o.lanes=A,o;case R:return o=cs(13,f,c,b),o.elementType=R,o.lanes=A,o;case D:return o=cs(19,f,c,b),o.elementType=D,o.lanes=A,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case x:case L:z=10;break t;case C:z=9;break t;case j:z=11;break t;case P:z=14;break t;case M:z=16,g=null;break t}z=29,f=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=cs(z,f,c,b),c.elementType=o,c.type=g,c.lanes=A,c}function Ll(o,c,f,g){return o=cs(7,o,g,c),o.lanes=f,o}function EA(o,c,f){return o=cs(6,o,null,c),o.lanes=f,o}function TA(o,c,f){return c=cs(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Iu=[],Fu=0,_y=null,Ay=0,Ms=[],Ls=0,Ol=null,oa=1,la="";function Pl(o,c){Iu[Fu++]=Ay,Iu[Fu++]=_y,_y=o,Ay=c}function IM(o,c,f){Ms[Ls++]=oa,Ms[Ls++]=la,Ms[Ls++]=Ol,Ol=o;var g=oa;o=la;var b=32-ne(g)-1;g&=~(1<<b),f+=1;var A=32-ne(c)+b;if(30<A){var z=b-b%5;A=(g&(1<<z)-1).toString(32),g>>=z,b-=z,oa=1<<32-ne(c)+b|f<<b|g,la=A+o}else oa=1<<A|f<<b|g,la=o}function CA(o){o.return!==null&&(Pl(o,1),IM(o,1,0))}function kA(o){for(;o===_y;)_y=Iu[--Fu],Iu[Fu]=null,Ay=Iu[--Fu],Iu[Fu]=null;for(;o===Ol;)Ol=Ms[--Ls],Ms[Ls]=null,la=Ms[--Ls],Ms[Ls]=null,oa=Ms[--Ls],Ms[Ls]=null}var ki=null,un=null,ke=!1,Dl=null,wr=!1,RA=Error(n(519));function Nl(o){var c=Error(n(418,""));throw Tf(ks(c,o)),RA}function FM(o){var c=o.stateNode,f=o.type,g=o.memoizedProps;switch(c[oi]=o,c[Bi]=g,f){case"dialog":be("cancel",c),be("close",c);break;case"iframe":case"object":case"embed":be("load",c);break;case"video":case"audio":for(f=0;f<Kf.length;f++)be(Kf[f],c);break;case"source":be("error",c);break;case"img":case"image":case"link":be("error",c),be("load",c);break;case"details":be("toggle",c);break;case"input":be("invalid",c),ZR(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),ly(c);break;case"select":be("invalid",c);break;case"textarea":be("invalid",c),tM(c,g.value,g.defaultValue,g.children),ly(c)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||g.suppressHydrationWarning===!0||tP(c.textContent,f)?(g.popover!=null&&(be("beforetoggle",c),be("toggle",c)),g.onScroll!=null&&be("scroll",c),g.onScrollEnd!=null&&be("scrollend",c),g.onClick!=null&&(c.onclick=nv),c=!0):c=!1,c||Nl(o)}function jM(o){for(ki=o.return;ki;)switch(ki.tag){case 5:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:ki=ki.return}}function xf(o){if(o!==ki)return!1;if(!ke)return jM(o),ke=!0,!1;var c=o.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=o.type,f=!(f!=="form"&&f!=="button")||VS(o.type,o.memoizedProps)),f=!f),f&&un&&Nl(o),jM(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));t:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(f=o.data,f==="/$"){if(c===0){un=Js(o.nextSibling);break t}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++;o=o.nextSibling}un=null}}else c===27?(c=un,Ro(o.type)?(o=XS,XS=null,un=o):un=c):un=ki?Js(o.stateNode.nextSibling):null;return!0}function Ef(){un=ki=null,ke=!1}function BM(){var o=Dl;return o!==null&&($i===null?$i=o:$i.push.apply($i,o),Dl=null),o}function Tf(o){Dl===null?Dl=[o]:Dl.push(o)}var MA=W(null),Il=null,ca=null;function po(o,c,f){et(MA,c._currentValue),c._currentValue=f}function ua(o){o._currentValue=MA.current,K(MA)}function LA(o,c,f){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===f)break;o=o.return}}function OA(o,c,f,g){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var A=b.dependencies;if(A!==null){var z=b.child;A=A.firstContext;t:for(;A!==null;){var q=A;A=b;for(var it=0;it<c.length;it++)if(q.context===c[it]){A.lanes|=f,q=A.alternate,q!==null&&(q.lanes|=f),LA(A.return,f,o),g||(z=null);break t}A=q.next}}else if(b.tag===18){if(z=b.return,z===null)throw Error(n(341));z.lanes|=f,A=z.alternate,A!==null&&(A.lanes|=f),LA(z,f,o),z=null}else z=b.child;if(z!==null)z.return=b;else for(z=b;z!==null;){if(z===o){z=null;break}if(b=z.sibling,b!==null){b.return=z.return,z=b;break}z=z.return}b=z}}function Cf(o,c,f,g){o=null;for(var b=c,A=!1;b!==null;){if(!A){if((b.flags&524288)!==0)A=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var z=b.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var q=b.type;ls(b.pendingProps.value,z.value)||(o!==null?o.push(q):o=[q])}}else if(b===ft.current){if(z=b.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(np):o=[np])}b=b.return}o!==null&&OA(c,o,f,g),c.flags|=262144}function Sy(o){for(o=o.firstContext;o!==null;){if(!ls(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Fl(o){Il=o,ca=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function li(o){return zM(Il,o)}function xy(o,c){return Il===null&&Fl(o),zM(o,c)}function zM(o,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},ca===null){if(o===null)throw Error(n(308));ca=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ca=ca.next=c;return f}var iU=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(f,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(f){return f()})}},sU=i.unstable_scheduleCallback,rU=i.unstable_NormalPriority,kn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function PA(){return{controller:new iU,data:new Map,refCount:0}}function kf(o){o.refCount--,o.refCount===0&&sU(rU,function(){o.controller.abort()})}var Rf=null,DA=0,ju=0,Bu=null;function aU(o,c){if(Rf===null){var f=Rf=[];DA=0,ju=IS(),Bu={status:"pending",value:void 0,then:function(g){f.push(g)}}}return DA++,c.then(UM,UM),c}function UM(){if(--DA===0&&Rf!==null){Bu!==null&&(Bu.status="fulfilled");var o=Rf;Rf=null,ju=0,Bu=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function oU(o,c){var f=[],g={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var b=0;b<f.length;b++)(0,f[b])(c)},function(b){for(g.status="rejected",g.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),g}var HM=$.S;$.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&aU(o,c),HM!==null&&HM(o,c)};var jl=W(null);function NA(){var o=jl.current;return o!==null?o:Ye.pooledCache}function Ey(o,c){c===null?et(jl,jl.current):et(jl,c.pool)}function $M(){var o=NA();return o===null?null:{parent:kn._currentValue,pool:o}}var Mf=Error(n(460)),WM=Error(n(474)),Ty=Error(n(542)),IA={then:function(){}};function VM(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Cy(){}function GM(o,c,f){switch(f=o[f],f===void 0?o.push(c):f!==c&&(c.then(Cy,Cy),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,YM(o),o;default:if(typeof c.status=="string")c.then(Cy,Cy);else{if(o=Ye,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=g}},function(g){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,YM(o),o}throw Lf=c,Mf}}var Lf=null;function qM(){if(Lf===null)throw Error(n(459));var o=Lf;return Lf=null,o}function YM(o){if(o===Mf||o===Ty)throw Error(n(483))}var go=!1;function FA(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jA(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function mo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function yo(o,c,f){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Oe&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,c=by(o),DM(o,null,f),c}return vy(o,g,c,f),by(o)}function Of(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,UR(o,f)}}function BA(o,c){var f=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var b=null,A=null;if(f=f.firstBaseUpdate,f!==null){do{var z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};A===null?b=A=z:A=A.next=z,f=f.next}while(f!==null);A===null?b=A=c:A=A.next=c}else b=A=c;f={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:g.shared,callbacks:g.callbacks},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}var zA=!1;function Pf(){if(zA){var o=Bu;if(o!==null)throw o}}function Df(o,c,f,g){zA=!1;var b=o.updateQueue;go=!1;var A=b.firstBaseUpdate,z=b.lastBaseUpdate,q=b.shared.pending;if(q!==null){b.shared.pending=null;var it=q,mt=it.next;it.next=null,z===null?A=mt:z.next=mt,z=it;var xt=o.alternate;xt!==null&&(xt=xt.updateQueue,q=xt.lastBaseUpdate,q!==z&&(q===null?xt.firstBaseUpdate=mt:q.next=mt,xt.lastBaseUpdate=it))}if(A!==null){var kt=b.baseState;z=0,xt=mt=it=null,q=A;do{var yt=q.lane&-536870913,vt=yt!==q.lane;if(vt?(Ae&yt)===yt:(g&yt)===yt){yt!==0&&yt===ju&&(zA=!0),xt!==null&&(xt=xt.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});t:{var ie=o,Zt=q;yt=c;var Ie=f;switch(Zt.tag){case 1:if(ie=Zt.payload,typeof ie=="function"){kt=ie.call(Ie,kt,yt);break t}kt=ie;break t;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=Zt.payload,yt=typeof ie=="function"?ie.call(Ie,kt,yt):ie,yt==null)break t;kt=h({},kt,yt);break t;case 2:go=!0}}yt=q.callback,yt!==null&&(o.flags|=64,vt&&(o.flags|=8192),vt=b.callbacks,vt===null?b.callbacks=[yt]:vt.push(yt))}else vt={lane:yt,tag:q.tag,payload:q.payload,callback:q.callback,next:null},xt===null?(mt=xt=vt,it=kt):xt=xt.next=vt,z|=yt;if(q=q.next,q===null){if(q=b.shared.pending,q===null)break;vt=q,q=vt.next,vt.next=null,b.lastBaseUpdate=vt,b.shared.pending=null}}while(!0);xt===null&&(it=kt),b.baseState=it,b.firstBaseUpdate=mt,b.lastBaseUpdate=xt,A===null&&(b.shared.lanes=0),Eo|=z,o.lanes=z,o.memoizedState=kt}}function XM(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function KM(o,c){var f=o.callbacks;if(f!==null)for(o.callbacks=null,o=0;o<f.length;o++)XM(f[o],c)}var zu=W(null),ky=W(0);function QM(o,c){o=ya,et(ky,o),et(zu,c),ya=o|c.baseLanes}function UA(){et(ky,ya),et(zu,zu.current)}function HA(){ya=ky.current,K(zu),K(ky)}var vo=0,pe=null,De=null,vn=null,Ry=!1,Uu=!1,Bl=!1,My=0,Nf=0,Hu=null,lU=0;function dn(){throw Error(n(321))}function $A(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!ls(o[f],c[f]))return!1;return!0}function WA(o,c,f,g,b,A){return vo=A,pe=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,$.H=o===null||o.memoizedState===null?DL:NL,Bl=!1,A=f(g,b),Bl=!1,Uu&&(A=JM(c,f,g,b)),ZM(o),A}function ZM(o){$.H=Iy;var c=De!==null&&De.next!==null;if(vo=0,vn=De=pe=null,Ry=!1,Nf=0,Hu=null,c)throw Error(n(300));o===null||In||(o=o.dependencies,o!==null&&Sy(o)&&(In=!0))}function JM(o,c,f,g){pe=o;var b=0;do{if(Uu&&(Hu=null),Nf=0,Uu=!1,25<=b)throw Error(n(301));if(b+=1,vn=De=null,o.updateQueue!=null){var A=o.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}$.H=gU,A=c(f,g)}while(Uu);return A}function cU(){var o=$.H,c=o.useState()[0];return c=typeof c.then=="function"?If(c):c,o=o.useState()[0],(De!==null?De.memoizedState:null)!==o&&(pe.flags|=1024),c}function VA(){var o=My!==0;return My=0,o}function GA(o,c,f){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~f}function qA(o){if(Ry){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ry=!1}vo=0,vn=De=pe=null,Uu=!1,Nf=My=0,Hu=null}function Ui(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?pe.memoizedState=vn=o:vn=vn.next=o,vn}function bn(){if(De===null){var o=pe.alternate;o=o!==null?o.memoizedState:null}else o=De.next;var c=vn===null?pe.memoizedState:vn.next;if(c!==null)vn=c,De=o;else{if(o===null)throw pe.alternate===null?Error(n(467)):Error(n(310));De=o,o={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},vn===null?pe.memoizedState=vn=o:vn=vn.next=o}return vn}function YA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function If(o){var c=Nf;return Nf+=1,Hu===null&&(Hu=[]),o=GM(Hu,o,c),c=pe,(vn===null?c.memoizedState:vn.next)===null&&(c=c.alternate,$.H=c===null||c.memoizedState===null?DL:NL),o}function Ly(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return If(o);if(o.$$typeof===L)return li(o)}throw Error(n(438,String(o)))}function XA(o){var c=null,f=pe.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var g=pe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=YA(),pe.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(o),g=0;g<o;g++)f[g]=N;return c.index++,f}function ha(o,c){return typeof c=="function"?c(o):c}function Oy(o){var c=bn();return KA(c,De,o)}function KA(o,c,f){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=f;var b=o.baseQueue,A=g.pending;if(A!==null){if(b!==null){var z=b.next;b.next=A.next,A.next=z}c.baseQueue=b=A,g.pending=null}if(A=o.baseState,b===null)o.memoizedState=A;else{c=b.next;var q=z=null,it=null,mt=c,xt=!1;do{var kt=mt.lane&-536870913;if(kt!==mt.lane?(Ae&kt)===kt:(vo&kt)===kt){var yt=mt.revertLane;if(yt===0)it!==null&&(it=it.next={lane:0,revertLane:0,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),kt===ju&&(xt=!0);else if((vo&yt)===yt){mt=mt.next,yt===ju&&(xt=!0);continue}else kt={lane:0,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},it===null?(q=it=kt,z=A):it=it.next=kt,pe.lanes|=yt,Eo|=yt;kt=mt.action,Bl&&f(A,kt),A=mt.hasEagerState?mt.eagerState:f(A,kt)}else yt={lane:kt,revertLane:mt.revertLane,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},it===null?(q=it=yt,z=A):it=it.next=yt,pe.lanes|=kt,Eo|=kt;mt=mt.next}while(mt!==null&&mt!==c);if(it===null?z=A:it.next=q,!ls(A,o.memoizedState)&&(In=!0,xt&&(f=Bu,f!==null)))throw f;o.memoizedState=A,o.baseState=z,o.baseQueue=it,g.lastRenderedState=A}return b===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function QA(o){var c=bn(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var g=f.dispatch,b=f.pending,A=c.memoizedState;if(b!==null){f.pending=null;var z=b=b.next;do A=o(A,z.action),z=z.next;while(z!==b);ls(A,c.memoizedState)||(In=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),f.lastRenderedState=A}return[A,g]}function tL(o,c,f){var g=pe,b=bn(),A=ke;if(A){if(f===void 0)throw Error(n(407));f=f()}else f=c();var z=!ls((De||b).memoizedState,f);z&&(b.memoizedState=f,In=!0),b=b.queue;var q=iL.bind(null,g,b,o);if(Ff(2048,8,q,[o]),b.getSnapshot!==c||z||vn!==null&&vn.memoizedState.tag&1){if(g.flags|=2048,$u(9,Py(),nL.bind(null,g,b,f,c),null),Ye===null)throw Error(n(349));A||(vo&124)!==0||eL(g,c,f)}return f}function eL(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=pe.updateQueue,c===null?(c=YA(),pe.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function nL(o,c,f,g){c.value=f,c.getSnapshot=g,sL(c)&&rL(o)}function iL(o,c,f){return f(function(){sL(c)&&rL(o)})}function sL(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!ls(o,f)}catch{return!0}}function rL(o){var c=Du(o,2);c!==null&&ps(c,o,2)}function ZA(o){var c=Ui();if(typeof o=="function"){var f=o;if(o=f(),Bl){Ut(!0);try{f()}finally{Ut(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:o},c}function aL(o,c,f,g){return o.baseState=f,KA(o,De,typeof g=="function"?g:ha)}function uU(o,c,f,g,b){if(Ny(o))throw Error(n(485));if(o=c.action,o!==null){var A={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){A.listeners.push(z)}};$.T!==null?f(!0):A.isTransition=!1,g(A),f=c.pending,f===null?(A.next=c.pending=A,oL(c,A)):(A.next=f.next,c.pending=f.next=A)}}function oL(o,c){var f=c.action,g=c.payload,b=o.state;if(c.isTransition){var A=$.T,z={};$.T=z;try{var q=f(b,g),it=$.S;it!==null&&it(z,q),lL(o,c,q)}catch(mt){JA(o,c,mt)}finally{$.T=A}}else try{A=f(b,g),lL(o,c,A)}catch(mt){JA(o,c,mt)}}function lL(o,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){cL(o,c,g)},function(g){return JA(o,c,g)}):cL(o,c,f)}function cL(o,c,f){c.status="fulfilled",c.value=f,uL(c),o.state=f,c=o.pending,c!==null&&(f=c.next,f===c?o.pending=null:(f=f.next,c.next=f,oL(o,f)))}function JA(o,c,f){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=f,uL(c),c=c.next;while(c!==g)}o.action=null}function uL(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function hL(o,c){return c}function dL(o,c){if(ke){var f=Ye.formState;if(f!==null){t:{var g=pe;if(ke){if(un){e:{for(var b=un,A=wr;b.nodeType!==8;){if(!A){b=null;break e}if(b=Js(b.nextSibling),b===null){b=null;break e}}A=b.data,b=A==="F!"||A==="F"?b:null}if(b){un=Js(b.nextSibling),g=b.data==="F!";break t}}Nl(g)}g=!1}g&&(c=f[0])}}return f=Ui(),f.memoizedState=f.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hL,lastRenderedState:c},f.queue=g,f=LL.bind(null,pe,g),g.dispatch=f,g=ZA(!1),A=sS.bind(null,pe,!1,g.queue),g=Ui(),b={state:c,dispatch:null,action:o,pending:null},g.queue=b,f=uU.bind(null,pe,b,A,f),b.dispatch=f,g.memoizedState=o,[c,f,!1]}function fL(o){var c=bn();return pL(c,De,o)}function pL(o,c,f){if(c=KA(o,c,hL)[0],o=Oy(ha)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=If(c)}catch(z){throw z===Mf?Ty:z}else g=c;c=bn();var b=c.queue,A=b.dispatch;return f!==c.memoizedState&&(pe.flags|=2048,$u(9,Py(),hU.bind(null,b,f),null)),[g,A,o]}function hU(o,c){o.action=c}function gL(o){var c=bn(),f=De;if(f!==null)return pL(c,f,o);bn(),c=c.memoizedState,f=bn();var g=f.queue.dispatch;return f.memoizedState=o,[c,g,!1]}function $u(o,c,f,g){return o={tag:o,create:f,deps:g,inst:c,next:null},c=pe.updateQueue,c===null&&(c=YA(),pe.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=o.next=o:(g=f.next,f.next=o,o.next=g,c.lastEffect=o),o}function Py(){return{destroy:void 0,resource:void 0}}function mL(){return bn().memoizedState}function Dy(o,c,f,g){var b=Ui();g=g===void 0?null:g,pe.flags|=o,b.memoizedState=$u(1|c,Py(),f,g)}function Ff(o,c,f,g){var b=bn();g=g===void 0?null:g;var A=b.memoizedState.inst;De!==null&&g!==null&&$A(g,De.memoizedState.deps)?b.memoizedState=$u(c,A,f,g):(pe.flags|=o,b.memoizedState=$u(1|c,A,f,g))}function yL(o,c){Dy(8390656,8,o,c)}function vL(o,c){Ff(2048,8,o,c)}function bL(o,c){return Ff(4,2,o,c)}function wL(o,c){return Ff(4,4,o,c)}function _L(o,c){if(typeof c=="function"){o=o();var f=c(o);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function AL(o,c,f){f=f!=null?f.concat([o]):null,Ff(4,4,_L.bind(null,c,o),f)}function tS(){}function SL(o,c){var f=bn();c=c===void 0?null:c;var g=f.memoizedState;return c!==null&&$A(c,g[1])?g[0]:(f.memoizedState=[o,c],o)}function xL(o,c){var f=bn();c=c===void 0?null:c;var g=f.memoizedState;if(c!==null&&$A(c,g[1]))return g[0];if(g=o(),Bl){Ut(!0);try{o()}finally{Ut(!1)}}return f.memoizedState=[g,c],g}function eS(o,c,f){return f===void 0||(vo&1073741824)!==0?o.memoizedState=c:(o.memoizedState=f,o=CO(),pe.lanes|=o,Eo|=o,f)}function EL(o,c,f,g){return ls(f,c)?f:zu.current!==null?(o=eS(o,f,g),ls(o,c)||(In=!0),o):(vo&42)===0?(In=!0,o.memoizedState=f):(o=CO(),pe.lanes|=o,Eo|=o,c)}function TL(o,c,f,g,b){var A=T.p;T.p=A!==0&&8>A?A:8;var z=$.T,q={};$.T=q,sS(o,!1,c,f);try{var it=b(),mt=$.S;if(mt!==null&&mt(q,it),it!==null&&typeof it=="object"&&typeof it.then=="function"){var xt=oU(it,g);jf(o,c,xt,fs(o))}else jf(o,c,g,fs(o))}catch(kt){jf(o,c,{then:function(){},status:"rejected",reason:kt},fs())}finally{T.p=A,$.T=z}}function dU(){}function nS(o,c,f,g){if(o.tag!==5)throw Error(n(476));var b=CL(o).queue;TL(o,b,c,ct,f===null?dU:function(){return kL(o),f(g)})}function CL(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:ct},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:f},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function kL(o){var c=CL(o).next.queue;jf(o,c,{},fs())}function iS(){return li(np)}function RL(){return bn().memoizedState}function ML(){return bn().memoizedState}function fU(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var f=fs();o=mo(f);var g=yo(c,o,f);g!==null&&(ps(g,c,f),Of(g,c,f)),c={cache:PA()},o.payload=c;return}c=c.return}}function pU(o,c,f){var g=fs();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Ny(o)?OL(c,f):(f=SA(o,c,f,g),f!==null&&(ps(f,o,g),PL(f,c,g)))}function LL(o,c,f){var g=fs();jf(o,c,f,g)}function jf(o,c,f,g){var b={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ny(o))OL(c,b);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var z=c.lastRenderedState,q=A(z,f);if(b.hasEagerState=!0,b.eagerState=q,ls(q,z))return vy(o,c,b,0),Ye===null&&yy(),!1}catch{}finally{}if(f=SA(o,c,b,g),f!==null)return ps(f,o,g),PL(f,c,g),!0}return!1}function sS(o,c,f,g){if(g={lane:2,revertLane:IS(),action:g,hasEagerState:!1,eagerState:null,next:null},Ny(o)){if(c)throw Error(n(479))}else c=SA(o,f,g,2),c!==null&&ps(c,o,2)}function Ny(o){var c=o.alternate;return o===pe||c!==null&&c===pe}function OL(o,c){Uu=Ry=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function PL(o,c,f){if((f&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,f|=g,c.lanes=f,UR(o,f)}}var Iy={readContext:li,use:Ly,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn},DL={readContext:li,use:Ly,useCallback:function(o,c){return Ui().memoizedState=[o,c===void 0?null:c],o},useContext:li,useEffect:yL,useImperativeHandle:function(o,c,f){f=f!=null?f.concat([o]):null,Dy(4194308,4,_L.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Dy(4194308,4,o,c)},useInsertionEffect:function(o,c){Dy(4,2,o,c)},useMemo:function(o,c){var f=Ui();c=c===void 0?null:c;var g=o();if(Bl){Ut(!0);try{o()}finally{Ut(!1)}}return f.memoizedState=[g,c],g},useReducer:function(o,c,f){var g=Ui();if(f!==void 0){var b=f(c);if(Bl){Ut(!0);try{f(c)}finally{Ut(!1)}}}else b=c;return g.memoizedState=g.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},g.queue=o,o=o.dispatch=pU.bind(null,pe,o),[g.memoizedState,o]},useRef:function(o){var c=Ui();return o={current:o},c.memoizedState=o},useState:function(o){o=ZA(o);var c=o.queue,f=LL.bind(null,pe,c);return c.dispatch=f,[o.memoizedState,f]},useDebugValue:tS,useDeferredValue:function(o,c){var f=Ui();return eS(f,o,c)},useTransition:function(){var o=ZA(!1);return o=TL.bind(null,pe,o.queue,!0,!1),Ui().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,f){var g=pe,b=Ui();if(ke){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Ye===null)throw Error(n(349));(Ae&124)!==0||eL(g,c,f)}b.memoizedState=f;var A={value:f,getSnapshot:c};return b.queue=A,yL(iL.bind(null,g,A,o),[o]),g.flags|=2048,$u(9,Py(),nL.bind(null,g,A,f,c),null),f},useId:function(){var o=Ui(),c=Ye.identifierPrefix;if(ke){var f=la,g=oa;f=(g&~(1<<32-ne(g)-1)).toString(32)+f,c=""+c+"R"+f,f=My++,0<f&&(c+="H"+f.toString(32)),c+=""}else f=lU++,c=""+c+"r"+f.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:iS,useFormState:dL,useActionState:dL,useOptimistic:function(o){var c=Ui();c.memoizedState=c.baseState=o;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=sS.bind(null,pe,!0,f),f.dispatch=c,[o,c]},useMemoCache:XA,useCacheRefresh:function(){return Ui().memoizedState=fU.bind(null,pe)}},NL={readContext:li,use:Ly,useCallback:SL,useContext:li,useEffect:vL,useImperativeHandle:AL,useInsertionEffect:bL,useLayoutEffect:wL,useMemo:xL,useReducer:Oy,useRef:mL,useState:function(){return Oy(ha)},useDebugValue:tS,useDeferredValue:function(o,c){var f=bn();return EL(f,De.memoizedState,o,c)},useTransition:function(){var o=Oy(ha)[0],c=bn().memoizedState;return[typeof o=="boolean"?o:If(o),c]},useSyncExternalStore:tL,useId:RL,useHostTransitionStatus:iS,useFormState:fL,useActionState:fL,useOptimistic:function(o,c){var f=bn();return aL(f,De,o,c)},useMemoCache:XA,useCacheRefresh:ML},gU={readContext:li,use:Ly,useCallback:SL,useContext:li,useEffect:vL,useImperativeHandle:AL,useInsertionEffect:bL,useLayoutEffect:wL,useMemo:xL,useReducer:QA,useRef:mL,useState:function(){return QA(ha)},useDebugValue:tS,useDeferredValue:function(o,c){var f=bn();return De===null?eS(f,o,c):EL(f,De.memoizedState,o,c)},useTransition:function(){var o=QA(ha)[0],c=bn().memoizedState;return[typeof o=="boolean"?o:If(o),c]},useSyncExternalStore:tL,useId:RL,useHostTransitionStatus:iS,useFormState:gL,useActionState:gL,useOptimistic:function(o,c){var f=bn();return De!==null?aL(f,De,o,c):(f.baseState=o,[o,f.queue.dispatch])},useMemoCache:XA,useCacheRefresh:ML},Wu=null,Bf=0;function Fy(o){var c=Bf;return Bf+=1,Wu===null&&(Wu=[]),GM(Wu,o,c)}function zf(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function jy(o,c){throw c.$$typeof===p?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function IL(o){var c=o._init;return c(o._payload)}function FL(o){function c(dt,at){if(o){var gt=dt.deletions;gt===null?(dt.deletions=[at],dt.flags|=16):gt.push(at)}}function f(dt,at){if(!o)return null;for(;at!==null;)c(dt,at),at=at.sibling;return null}function g(dt){for(var at=new Map;dt!==null;)dt.key!==null?at.set(dt.key,dt):at.set(dt.index,dt),dt=dt.sibling;return at}function b(dt,at){return dt=aa(dt,at),dt.index=0,dt.sibling=null,dt}function A(dt,at,gt){return dt.index=gt,o?(gt=dt.alternate,gt!==null?(gt=gt.index,gt<at?(dt.flags|=67108866,at):gt):(dt.flags|=67108866,at)):(dt.flags|=1048576,at)}function z(dt){return o&&dt.alternate===null&&(dt.flags|=67108866),dt}function q(dt,at,gt,Tt){return at===null||at.tag!==6?(at=EA(gt,dt.mode,Tt),at.return=dt,at):(at=b(at,gt),at.return=dt,at)}function it(dt,at,gt,Tt){var Wt=gt.type;return Wt===_?xt(dt,at,gt.props.children,Tt,gt.key):at!==null&&(at.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===M&&IL(Wt)===at.type)?(at=b(at,gt.props),zf(at,gt),at.return=dt,at):(at=wy(gt.type,gt.key,gt.props,null,dt.mode,Tt),zf(at,gt),at.return=dt,at)}function mt(dt,at,gt,Tt){return at===null||at.tag!==4||at.stateNode.containerInfo!==gt.containerInfo||at.stateNode.implementation!==gt.implementation?(at=TA(gt,dt.mode,Tt),at.return=dt,at):(at=b(at,gt.children||[]),at.return=dt,at)}function xt(dt,at,gt,Tt,Wt){return at===null||at.tag!==7?(at=Ll(gt,dt.mode,Tt,Wt),at.return=dt,at):(at=b(at,gt),at.return=dt,at)}function kt(dt,at,gt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return at=EA(""+at,dt.mode,gt),at.return=dt,at;if(typeof at=="object"&&at!==null){switch(at.$$typeof){case m:return gt=wy(at.type,at.key,at.props,null,dt.mode,gt),zf(gt,at),gt.return=dt,gt;case v:return at=TA(at,dt.mode,gt),at.return=dt,at;case M:var Tt=at._init;return at=Tt(at._payload),kt(dt,at,gt)}if(nt(at)||Q(at))return at=Ll(at,dt.mode,gt,null),at.return=dt,at;if(typeof at.then=="function")return kt(dt,Fy(at),gt);if(at.$$typeof===L)return kt(dt,xy(dt,at),gt);jy(dt,at)}return null}function yt(dt,at,gt,Tt){var Wt=at!==null?at.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return Wt!==null?null:q(dt,at,""+gt,Tt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case m:return gt.key===Wt?it(dt,at,gt,Tt):null;case v:return gt.key===Wt?mt(dt,at,gt,Tt):null;case M:return Wt=gt._init,gt=Wt(gt._payload),yt(dt,at,gt,Tt)}if(nt(gt)||Q(gt))return Wt!==null?null:xt(dt,at,gt,Tt,null);if(typeof gt.then=="function")return yt(dt,at,Fy(gt),Tt);if(gt.$$typeof===L)return yt(dt,at,xy(dt,gt),Tt);jy(dt,gt)}return null}function vt(dt,at,gt,Tt,Wt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number"||typeof Tt=="bigint")return dt=dt.get(gt)||null,q(at,dt,""+Tt,Wt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case m:return dt=dt.get(Tt.key===null?gt:Tt.key)||null,it(at,dt,Tt,Wt);case v:return dt=dt.get(Tt.key===null?gt:Tt.key)||null,mt(at,dt,Tt,Wt);case M:var ge=Tt._init;return Tt=ge(Tt._payload),vt(dt,at,gt,Tt,Wt)}if(nt(Tt)||Q(Tt))return dt=dt.get(gt)||null,xt(at,dt,Tt,Wt,null);if(typeof Tt.then=="function")return vt(dt,at,gt,Fy(Tt),Wt);if(Tt.$$typeof===L)return vt(dt,at,gt,xy(at,Tt),Wt);jy(at,Tt)}return null}function ie(dt,at,gt,Tt){for(var Wt=null,ge=null,Yt=at,Jt=at=0,jn=null;Yt!==null&&Jt<gt.length;Jt++){Yt.index>Jt?(jn=Yt,Yt=null):jn=Yt.sibling;var Ce=yt(dt,Yt,gt[Jt],Tt);if(Ce===null){Yt===null&&(Yt=jn);break}o&&Yt&&Ce.alternate===null&&c(dt,Yt),at=A(Ce,at,Jt),ge===null?Wt=Ce:ge.sibling=Ce,ge=Ce,Yt=jn}if(Jt===gt.length)return f(dt,Yt),ke&&Pl(dt,Jt),Wt;if(Yt===null){for(;Jt<gt.length;Jt++)Yt=kt(dt,gt[Jt],Tt),Yt!==null&&(at=A(Yt,at,Jt),ge===null?Wt=Yt:ge.sibling=Yt,ge=Yt);return ke&&Pl(dt,Jt),Wt}for(Yt=g(Yt);Jt<gt.length;Jt++)jn=vt(Yt,dt,Jt,gt[Jt],Tt),jn!==null&&(o&&jn.alternate!==null&&Yt.delete(jn.key===null?Jt:jn.key),at=A(jn,at,Jt),ge===null?Wt=jn:ge.sibling=jn,ge=jn);return o&&Yt.forEach(function(Do){return c(dt,Do)}),ke&&Pl(dt,Jt),Wt}function Zt(dt,at,gt,Tt){if(gt==null)throw Error(n(151));for(var Wt=null,ge=null,Yt=at,Jt=at=0,jn=null,Ce=gt.next();Yt!==null&&!Ce.done;Jt++,Ce=gt.next()){Yt.index>Jt?(jn=Yt,Yt=null):jn=Yt.sibling;var Do=yt(dt,Yt,Ce.value,Tt);if(Do===null){Yt===null&&(Yt=jn);break}o&&Yt&&Do.alternate===null&&c(dt,Yt),at=A(Do,at,Jt),ge===null?Wt=Do:ge.sibling=Do,ge=Do,Yt=jn}if(Ce.done)return f(dt,Yt),ke&&Pl(dt,Jt),Wt;if(Yt===null){for(;!Ce.done;Jt++,Ce=gt.next())Ce=kt(dt,Ce.value,Tt),Ce!==null&&(at=A(Ce,at,Jt),ge===null?Wt=Ce:ge.sibling=Ce,ge=Ce);return ke&&Pl(dt,Jt),Wt}for(Yt=g(Yt);!Ce.done;Jt++,Ce=gt.next())Ce=vt(Yt,dt,Jt,Ce.value,Tt),Ce!==null&&(o&&Ce.alternate!==null&&Yt.delete(Ce.key===null?Jt:Ce.key),at=A(Ce,at,Jt),ge===null?Wt=Ce:ge.sibling=Ce,ge=Ce);return o&&Yt.forEach(function(m8){return c(dt,m8)}),ke&&Pl(dt,Jt),Wt}function Ie(dt,at,gt,Tt){if(typeof gt=="object"&&gt!==null&&gt.type===_&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case m:t:{for(var Wt=gt.key;at!==null;){if(at.key===Wt){if(Wt=gt.type,Wt===_){if(at.tag===7){f(dt,at.sibling),Tt=b(at,gt.props.children),Tt.return=dt,dt=Tt;break t}}else if(at.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===M&&IL(Wt)===at.type){f(dt,at.sibling),Tt=b(at,gt.props),zf(Tt,gt),Tt.return=dt,dt=Tt;break t}f(dt,at);break}else c(dt,at);at=at.sibling}gt.type===_?(Tt=Ll(gt.props.children,dt.mode,Tt,gt.key),Tt.return=dt,dt=Tt):(Tt=wy(gt.type,gt.key,gt.props,null,dt.mode,Tt),zf(Tt,gt),Tt.return=dt,dt=Tt)}return z(dt);case v:t:{for(Wt=gt.key;at!==null;){if(at.key===Wt)if(at.tag===4&&at.stateNode.containerInfo===gt.containerInfo&&at.stateNode.implementation===gt.implementation){f(dt,at.sibling),Tt=b(at,gt.children||[]),Tt.return=dt,dt=Tt;break t}else{f(dt,at);break}else c(dt,at);at=at.sibling}Tt=TA(gt,dt.mode,Tt),Tt.return=dt,dt=Tt}return z(dt);case M:return Wt=gt._init,gt=Wt(gt._payload),Ie(dt,at,gt,Tt)}if(nt(gt))return ie(dt,at,gt,Tt);if(Q(gt)){if(Wt=Q(gt),typeof Wt!="function")throw Error(n(150));return gt=Wt.call(gt),Zt(dt,at,gt,Tt)}if(typeof gt.then=="function")return Ie(dt,at,Fy(gt),Tt);if(gt.$$typeof===L)return Ie(dt,at,xy(dt,gt),Tt);jy(dt,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint"?(gt=""+gt,at!==null&&at.tag===6?(f(dt,at.sibling),Tt=b(at,gt),Tt.return=dt,dt=Tt):(f(dt,at),Tt=EA(gt,dt.mode,Tt),Tt.return=dt,dt=Tt),z(dt)):f(dt,at)}return function(dt,at,gt,Tt){try{Bf=0;var Wt=Ie(dt,at,gt,Tt);return Wu=null,Wt}catch(Yt){if(Yt===Mf||Yt===Ty)throw Yt;var ge=cs(29,Yt,null,dt.mode);return ge.lanes=Tt,ge.return=dt,ge}finally{}}}var Vu=FL(!0),jL=FL(!1),Os=W(null),_r=null;function bo(o){var c=o.alternate;et(Rn,Rn.current&1),et(Os,o),_r===null&&(c===null||zu.current!==null||c.memoizedState!==null)&&(_r=o)}function BL(o){if(o.tag===22){if(et(Rn,Rn.current),et(Os,o),_r===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(_r=o)}}else wo()}function wo(){et(Rn,Rn.current),et(Os,Os.current)}function da(o){K(Os),_r===o&&(_r=null),K(Rn)}var Rn=W(0);function By(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||YS(f)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function rS(o,c,f,g){c=o.memoizedState,f=f(g,c),f=f==null?c:h({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var aS={enqueueSetState:function(o,c,f){o=o._reactInternals;var g=fs(),b=mo(g);b.payload=c,f!=null&&(b.callback=f),c=yo(o,b,g),c!==null&&(ps(c,o,g),Of(c,o,g))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var g=fs(),b=mo(g);b.tag=1,b.payload=c,f!=null&&(b.callback=f),c=yo(o,b,g),c!==null&&(ps(c,o,g),Of(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=fs(),g=mo(f);g.tag=2,c!=null&&(g.callback=c),c=yo(o,g,f),c!==null&&(ps(c,o,f),Of(c,o,f))}};function zL(o,c,f,g,b,A,z){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,A,z):c.prototype&&c.prototype.isPureReactComponent?!Af(f,g)||!Af(b,A):!0}function UL(o,c,f,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==o&&aS.enqueueReplaceState(c,c.state,null)}function zl(o,c){var f=c;if("ref"in c){f={};for(var g in c)g!=="ref"&&(f[g]=c[g])}if(o=o.defaultProps){f===c&&(f=h({},f));for(var b in o)f[b]===void 0&&(f[b]=o[b])}return f}var zy=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function HL(o){zy(o)}function $L(o){console.error(o)}function WL(o){zy(o)}function Uy(o,c){try{var f=o.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function VL(o,c,f){try{var g=o.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function oS(o,c,f){return f=mo(f),f.tag=3,f.payload={element:null},f.callback=function(){Uy(o,c)},f}function GL(o){return o=mo(o),o.tag=3,o}function qL(o,c,f,g){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var A=g.value;o.payload=function(){return b(A)},o.callback=function(){VL(c,f,g)}}var z=f.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(o.callback=function(){VL(c,f,g),typeof b!="function"&&(To===null?To=new Set([this]):To.add(this));var q=g.stack;this.componentDidCatch(g.value,{componentStack:q!==null?q:""})})}function mU(o,c,f,g,b){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=f.alternate,c!==null&&Cf(c,f,b,!0),f=Os.current,f!==null){switch(f.tag){case 13:return _r===null?LS():f.alternate===null&&hn===0&&(hn=3),f.flags&=-257,f.flags|=65536,f.lanes=b,g===IA?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([g]):c.add(g),PS(o,g,b)),!1;case 22:return f.flags|=65536,g===IA?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([g]):f.add(g)),PS(o,g,b)),!1}throw Error(n(435,f.tag))}return PS(o,g,b),LS(),!1}if(ke)return c=Os.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,g!==RA&&(o=Error(n(422),{cause:g}),Tf(ks(o,f)))):(g!==RA&&(c=Error(n(423),{cause:g}),Tf(ks(c,f))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,g=ks(g,f),b=oS(o.stateNode,g,b),BA(o,b),hn!==4&&(hn=2)),!1;var A=Error(n(520),{cause:g});if(A=ks(A,f),qf===null?qf=[A]:qf.push(A),hn!==4&&(hn=2),c===null)return!0;g=ks(g,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,o=b&-b,f.lanes|=o,o=oS(f.stateNode,g,o),BA(f,o),!1;case 1:if(c=f.type,A=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(To===null||!To.has(A))))return f.flags|=65536,b&=-b,f.lanes|=b,b=GL(b),qL(b,o,f,g),BA(f,b),!1}f=f.return}while(f!==null);return!1}var YL=Error(n(461)),In=!1;function Xn(o,c,f,g){c.child=o===null?jL(c,null,f,g):Vu(c,o.child,f,g)}function XL(o,c,f,g,b){f=f.render;var A=c.ref;if("ref"in g){var z={};for(var q in g)q!=="ref"&&(z[q]=g[q])}else z=g;return Fl(c),g=WA(o,c,f,z,A,b),q=VA(),o!==null&&!In?(GA(o,c,b),fa(o,c,b)):(ke&&q&&CA(c),c.flags|=1,Xn(o,c,g,b),c.child)}function KL(o,c,f,g,b){if(o===null){var A=f.type;return typeof A=="function"&&!xA(A)&&A.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=A,QL(o,c,A,g,b)):(o=wy(f.type,null,g,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(A=o.child,!gS(o,b)){var z=A.memoizedProps;if(f=f.compare,f=f!==null?f:Af,f(z,g)&&o.ref===c.ref)return fa(o,c,b)}return c.flags|=1,o=aa(A,g),o.ref=c.ref,o.return=c,c.child=o}function QL(o,c,f,g,b){if(o!==null){var A=o.memoizedProps;if(Af(A,g)&&o.ref===c.ref)if(In=!1,c.pendingProps=g=A,gS(o,b))(o.flags&131072)!==0&&(In=!0);else return c.lanes=o.lanes,fa(o,c,b)}return lS(o,c,f,g,b)}function ZL(o,c,f){var g=c.pendingProps,b=g.children,A=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=A!==null?A.baseLanes|f:f,o!==null){for(b=c.child=o.child,A=0;b!==null;)A=A|b.lanes|b.childLanes,b=b.sibling;c.childLanes=A&~g}else c.childLanes=0,c.child=null;return JL(o,c,g,f)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&Ey(c,A!==null?A.cachePool:null),A!==null?QM(c,A):UA(),BL(c);else return c.lanes=c.childLanes=536870912,JL(o,c,A!==null?A.baseLanes|f:f,f)}else A!==null?(Ey(c,A.cachePool),QM(c,A),wo(),c.memoizedState=null):(o!==null&&Ey(c,null),UA(),wo());return Xn(o,c,b,f),c.child}function JL(o,c,f,g){var b=NA();return b=b===null?null:{parent:kn._currentValue,pool:b},c.memoizedState={baseLanes:f,cachePool:b},o!==null&&Ey(c,null),UA(),BL(c),o!==null&&Cf(o,c,g,!0),null}function Hy(o,c){var f=c.ref;if(f===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(o===null||o.ref!==f)&&(c.flags|=4194816)}}function lS(o,c,f,g,b){return Fl(c),f=WA(o,c,f,g,void 0,b),g=VA(),o!==null&&!In?(GA(o,c,b),fa(o,c,b)):(ke&&g&&CA(c),c.flags|=1,Xn(o,c,f,b),c.child)}function tO(o,c,f,g,b,A){return Fl(c),c.updateQueue=null,f=JM(c,g,f,b),ZM(o),g=VA(),o!==null&&!In?(GA(o,c,A),fa(o,c,A)):(ke&&g&&CA(c),c.flags|=1,Xn(o,c,f,A),c.child)}function eO(o,c,f,g,b){if(Fl(c),c.stateNode===null){var A=Nu,z=f.contextType;typeof z=="object"&&z!==null&&(A=li(z)),A=new f(g,A),c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=aS,c.stateNode=A,A._reactInternals=c,A=c.stateNode,A.props=g,A.state=c.memoizedState,A.refs={},FA(c),z=f.contextType,A.context=typeof z=="object"&&z!==null?li(z):Nu,A.state=c.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(rS(c,f,z,g),A.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(z=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),z!==A.state&&aS.enqueueReplaceState(A,A.state,null),Df(c,g,A,b),Pf(),A.state=c.memoizedState),typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){A=c.stateNode;var q=c.memoizedProps,it=zl(f,q);A.props=it;var mt=A.context,xt=f.contextType;z=Nu,typeof xt=="object"&&xt!==null&&(z=li(xt));var kt=f.getDerivedStateFromProps;xt=typeof kt=="function"||typeof A.getSnapshotBeforeUpdate=="function",q=c.pendingProps!==q,xt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(q||mt!==z)&&UL(c,A,g,z),go=!1;var yt=c.memoizedState;A.state=yt,Df(c,g,A,b),Pf(),mt=c.memoizedState,q||yt!==mt||go?(typeof kt=="function"&&(rS(c,f,kt,g),mt=c.memoizedState),(it=go||zL(c,f,it,g,yt,mt,z))?(xt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(c.flags|=4194308)):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=mt),A.props=g,A.state=mt,A.context=z,g=it):(typeof A.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{A=c.stateNode,jA(o,c),z=c.memoizedProps,xt=zl(f,z),A.props=xt,kt=c.pendingProps,yt=A.context,mt=f.contextType,it=Nu,typeof mt=="object"&&mt!==null&&(it=li(mt)),q=f.getDerivedStateFromProps,(mt=typeof q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==kt||yt!==it)&&UL(c,A,g,it),go=!1,yt=c.memoizedState,A.state=yt,Df(c,g,A,b),Pf();var vt=c.memoizedState;z!==kt||yt!==vt||go||o!==null&&o.dependencies!==null&&Sy(o.dependencies)?(typeof q=="function"&&(rS(c,f,q,g),vt=c.memoizedState),(xt=go||zL(c,f,xt,g,yt,vt,it)||o!==null&&o.dependencies!==null&&Sy(o.dependencies))?(mt||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(g,vt,it),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(g,vt,it)),typeof A.componentDidUpdate=="function"&&(c.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof A.componentDidUpdate!="function"||z===o.memoizedProps&&yt===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&yt===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=vt),A.props=g,A.state=vt,A.context=it,g=xt):(typeof A.componentDidUpdate!="function"||z===o.memoizedProps&&yt===o.memoizedState||(c.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&yt===o.memoizedState||(c.flags|=1024),g=!1)}return A=g,Hy(o,c),g=(c.flags&128)!==0,A||g?(A=c.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:A.render(),c.flags|=1,o!==null&&g?(c.child=Vu(c,o.child,null,b),c.child=Vu(c,null,f,b)):Xn(o,c,f,b),c.memoizedState=A.state,o=c.child):o=fa(o,c,b),o}function nO(o,c,f,g){return Ef(),c.flags|=256,Xn(o,c,f,g),c.child}var cS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uS(o){return{baseLanes:o,cachePool:$M()}}function hS(o,c,f){return o=o!==null?o.childLanes&~f:0,c&&(o|=Ps),o}function iO(o,c,f){var g=c.pendingProps,b=!1,A=(c.flags&128)!==0,z;if((z=A)||(z=o!==null&&o.memoizedState===null?!1:(Rn.current&2)!==0),z&&(b=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,o===null){if(ke){if(b?bo(c):wo(),ke){var q=un,it;if(it=q){t:{for(it=q,q=wr;it.nodeType!==8;){if(!q){q=null;break t}if(it=Js(it.nextSibling),it===null){q=null;break t}}q=it}q!==null?(c.memoizedState={dehydrated:q,treeContext:Ol!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},it=cs(18,null,null,0),it.stateNode=q,it.return=c,c.child=it,ki=c,un=null,it=!0):it=!1}it||Nl(c)}if(q=c.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return YS(q)?c.lanes=32:c.lanes=536870912,null;da(c)}return q=g.children,g=g.fallback,b?(wo(),b=c.mode,q=$y({mode:"hidden",children:q},b),g=Ll(g,b,f,null),q.return=c,g.return=c,q.sibling=g,c.child=q,b=c.child,b.memoizedState=uS(f),b.childLanes=hS(o,z,f),c.memoizedState=cS,g):(bo(c),dS(c,q))}if(it=o.memoizedState,it!==null&&(q=it.dehydrated,q!==null)){if(A)c.flags&256?(bo(c),c.flags&=-257,c=fS(o,c,f)):c.memoizedState!==null?(wo(),c.child=o.child,c.flags|=128,c=null):(wo(),b=g.fallback,q=c.mode,g=$y({mode:"visible",children:g.children},q),b=Ll(b,q,f,null),b.flags|=2,g.return=c,b.return=c,g.sibling=b,c.child=g,Vu(c,o.child,null,f),g=c.child,g.memoizedState=uS(f),g.childLanes=hS(o,z,f),c.memoizedState=cS,c=b);else if(bo(c),YS(q)){if(z=q.nextSibling&&q.nextSibling.dataset,z)var mt=z.dgst;z=mt,g=Error(n(419)),g.stack="",g.digest=z,Tf({value:g,source:null,stack:null}),c=fS(o,c,f)}else if(In||Cf(o,c,f,!1),z=(f&o.childLanes)!==0,In||z){if(z=Ye,z!==null&&(g=f&-f,g=(g&42)!==0?1:X_(g),g=(g&(z.suspendedLanes|f))!==0?0:g,g!==0&&g!==it.retryLane))throw it.retryLane=g,Du(o,g),ps(z,o,g),YL;q.data==="$?"||LS(),c=fS(o,c,f)}else q.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=it.treeContext,un=Js(q.nextSibling),ki=c,ke=!0,Dl=null,wr=!1,o!==null&&(Ms[Ls++]=oa,Ms[Ls++]=la,Ms[Ls++]=Ol,oa=o.id,la=o.overflow,Ol=c),c=dS(c,g.children),c.flags|=4096);return c}return b?(wo(),b=g.fallback,q=c.mode,it=o.child,mt=it.sibling,g=aa(it,{mode:"hidden",children:g.children}),g.subtreeFlags=it.subtreeFlags&65011712,mt!==null?b=aa(mt,b):(b=Ll(b,q,f,null),b.flags|=2),b.return=c,g.return=c,g.sibling=b,c.child=g,g=b,b=c.child,q=o.child.memoizedState,q===null?q=uS(f):(it=q.cachePool,it!==null?(mt=kn._currentValue,it=it.parent!==mt?{parent:mt,pool:mt}:it):it=$M(),q={baseLanes:q.baseLanes|f,cachePool:it}),b.memoizedState=q,b.childLanes=hS(o,z,f),c.memoizedState=cS,g):(bo(c),f=o.child,o=f.sibling,f=aa(f,{mode:"visible",children:g.children}),f.return=c,f.sibling=null,o!==null&&(z=c.deletions,z===null?(c.deletions=[o],c.flags|=16):z.push(o)),c.child=f,c.memoizedState=null,f)}function dS(o,c){return c=$y({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function $y(o,c){return o=cs(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function fS(o,c,f){return Vu(c,o.child,null,f),o=dS(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function sO(o,c,f){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),LA(o.return,c,f)}function pS(o,c,f,g,b){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:b}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=f,A.tailMode=b)}function rO(o,c,f){var g=c.pendingProps,b=g.revealOrder,A=g.tail;if(Xn(o,c,g.children,f),g=Rn.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)t:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&sO(o,f,c);else if(o.tag===19)sO(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break t;for(;o.sibling===null;){if(o.return===null||o.return===c)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(et(Rn,g),b){case"forwards":for(f=c.child,b=null;f!==null;)o=f.alternate,o!==null&&By(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),pS(c,!1,b,f,A);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&By(o)===null){c.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}pS(c,!0,f,null,A);break;case"together":pS(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function fa(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),Eo|=c.lanes,(f&c.childLanes)===0)if(o!==null){if(Cf(o,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,f=aa(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=aa(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function gS(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Sy(o)))}function yU(o,c,f){switch(c.tag){case 3:Ct(c,c.stateNode.containerInfo),po(c,kn,o.memoizedState.cache),Ef();break;case 27:case 5:St(c);break;case 4:Ct(c,c.stateNode.containerInfo);break;case 10:po(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(bo(c),c.flags|=128,null):(f&c.child.childLanes)!==0?iO(o,c,f):(bo(c),o=fa(o,c,f),o!==null?o.sibling:null);bo(c);break;case 19:var b=(o.flags&128)!==0;if(g=(f&c.childLanes)!==0,g||(Cf(o,c,f,!1),g=(f&c.childLanes)!==0),b){if(g)return rO(o,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),et(Rn,Rn.current),g)break;return null;case 22:case 23:return c.lanes=0,ZL(o,c,f);case 24:po(c,kn,o.memoizedState.cache)}return fa(o,c,f)}function aO(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps)In=!0;else{if(!gS(o,f)&&(c.flags&128)===0)return In=!1,yU(o,c,f);In=(o.flags&131072)!==0}else In=!1,ke&&(c.flags&1048576)!==0&&IM(c,Ay,c.index);switch(c.lanes=0,c.tag){case 16:t:{o=c.pendingProps;var g=c.elementType,b=g._init;if(g=b(g._payload),c.type=g,typeof g=="function")xA(g)?(o=zl(g,o),c.tag=1,c=eO(null,c,g,o,f)):(c.tag=0,c=lS(null,c,g,o,f));else{if(g!=null){if(b=g.$$typeof,b===j){c.tag=11,c=XL(null,c,g,o,f);break t}else if(b===P){c.tag=14,c=KL(null,c,g,o,f);break t}}throw c=J(g)||g,Error(n(306,c,""))}}return c;case 0:return lS(o,c,c.type,c.pendingProps,f);case 1:return g=c.type,b=zl(g,c.pendingProps),eO(o,c,g,b,f);case 3:t:{if(Ct(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var A=c.memoizedState;b=A.element,jA(o,c),Df(c,g,null,f);var z=c.memoizedState;if(g=z.cache,po(c,kn,g),g!==A.cache&&OA(c,[kn],f,!0),Pf(),g=z.element,A.isDehydrated)if(A={element:g,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){c=nO(o,c,g,f);break t}else if(g!==b){b=ks(Error(n(424)),c),Tf(b),c=nO(o,c,g,f);break t}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(un=Js(o.firstChild),ki=c,ke=!0,Dl=null,wr=!0,f=jL(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Ef(),g===b){c=fa(o,c,f);break t}Xn(o,c,g,f)}c=c.child}return c;case 26:return Hy(o,c),o===null?(f=uP(c.type,null,c.pendingProps,null))?c.memoizedState=f:ke||(f=c.type,o=c.pendingProps,g=iv(lt.current).createElement(f),g[oi]=c,g[Bi]=o,Qn(g,f,o),Nn(g),c.stateNode=g):c.memoizedState=uP(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return St(c),o===null&&ke&&(g=c.stateNode=oP(c.type,c.pendingProps,lt.current),ki=c,wr=!0,b=un,Ro(c.type)?(XS=b,un=Js(g.firstChild)):un=b),Xn(o,c,c.pendingProps.children,f),Hy(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ke&&((b=g=un)&&(g=VU(g,c.type,c.pendingProps,wr),g!==null?(c.stateNode=g,ki=c,un=Js(g.firstChild),wr=!1,b=!0):b=!1),b||Nl(c)),St(c),b=c.type,A=c.pendingProps,z=o!==null?o.memoizedProps:null,g=A.children,VS(b,A)?g=null:z!==null&&VS(b,z)&&(c.flags|=32),c.memoizedState!==null&&(b=WA(o,c,cU,null,null,f),np._currentValue=b),Hy(o,c),Xn(o,c,g,f),c.child;case 6:return o===null&&ke&&((o=f=un)&&(f=GU(f,c.pendingProps,wr),f!==null?(c.stateNode=f,ki=c,un=null,o=!0):o=!1),o||Nl(c)),null;case 13:return iO(o,c,f);case 4:return Ct(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Vu(c,null,g,f):Xn(o,c,g,f),c.child;case 11:return XL(o,c,c.type,c.pendingProps,f);case 7:return Xn(o,c,c.pendingProps,f),c.child;case 8:return Xn(o,c,c.pendingProps.children,f),c.child;case 12:return Xn(o,c,c.pendingProps.children,f),c.child;case 10:return g=c.pendingProps,po(c,c.type,g.value),Xn(o,c,g.children,f),c.child;case 9:return b=c.type._context,g=c.pendingProps.children,Fl(c),b=li(b),g=g(b),c.flags|=1,Xn(o,c,g,f),c.child;case 14:return KL(o,c,c.type,c.pendingProps,f);case 15:return QL(o,c,c.type,c.pendingProps,f);case 19:return rO(o,c,f);case 31:return g=c.pendingProps,f=c.mode,g={mode:g.mode,children:g.children},o===null?(f=$y(g,f),f.ref=c.ref,c.child=f,f.return=c,c=f):(f=aa(o.child,g),f.ref=c.ref,c.child=f,f.return=c,c=f),c;case 22:return ZL(o,c,f);case 24:return Fl(c),g=li(kn),o===null?(b=NA(),b===null&&(b=Ye,A=PA(),b.pooledCache=A,A.refCount++,A!==null&&(b.pooledCacheLanes|=f),b=A),c.memoizedState={parent:g,cache:b},FA(c),po(c,kn,b)):((o.lanes&f)!==0&&(jA(o,c),Df(c,null,null,f),Pf()),b=o.memoizedState,A=c.memoizedState,b.parent!==g?(b={parent:g,cache:g},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),po(c,kn,g)):(g=A.cache,po(c,kn,g),g!==b.cache&&OA(c,[kn],f,!0))),Xn(o,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function pa(o){o.flags|=4}function oO(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!gP(c)){if(c=Os.current,c!==null&&((Ae&4194048)===Ae?_r!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||c!==_r))throw Lf=IA,WM;o.flags|=8192}}function Wy(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Le():536870912,o.lanes|=c,Xu|=c)}function Uf(o,c){if(!ke)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function en(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,g=0;if(c)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=g,o.childLanes=f,c}function vU(o,c,f){var g=c.pendingProps;switch(kA(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(c),null;case 1:return en(c),null;case 3:return f=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),ua(kn),_t(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(o===null||o.child===null)&&(xf(c)?pa(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,BM())),en(c),null;case 26:return f=c.memoizedState,o===null?(pa(c),f!==null?(en(c),oO(c,f)):(en(c),c.flags&=-16777217)):f?f!==o.memoizedState?(pa(c),en(c),oO(c,f)):(en(c),c.flags&=-16777217):(o.memoizedProps!==g&&pa(c),en(c),c.flags&=-16777217),null;case 27:It(c),f=lt.current;var b=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==g&&pa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return en(c),null}o=st.current,xf(c)?FM(c):(o=oP(b,g,f),c.stateNode=o,pa(c))}return en(c),null;case 5:if(It(c),f=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&pa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return en(c),null}if(o=st.current,xf(c))FM(c);else{switch(b=iv(lt.current),o){case 1:o=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:o=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":o=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":o=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?b.createElement("select",{is:g.is}):b.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?b.createElement(f,{is:g.is}):b.createElement(f)}}o[oi]=c,o[Bi]=g;t:for(b=c.child;b!==null;){if(b.tag===5||b.tag===6)o.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break t;for(;b.sibling===null;){if(b.return===null||b.return===c)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}c.stateNode=o;t:switch(Qn(o,f,g),f){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&pa(c)}}return en(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&pa(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=lt.current,xf(c)){if(o=c.stateNode,f=c.memoizedProps,g=null,b=ki,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}o[oi]=c,o=!!(o.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||tP(o.nodeValue,f)),o||Nl(c)}else o=iv(o).createTextNode(g),o[oi]=c,c.stateNode=o}return en(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=xf(c),g!==null&&g.dehydrated!==null){if(o===null){if(!b)throw Error(n(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[oi]=c}else Ef(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;en(c),b=!1}else b=BM(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(da(c),c):(da(c),null)}if(da(c),(c.flags&128)!==0)return c.lanes=f,c;if(f=g!==null,o=o!==null&&o.memoizedState!==null,f){g=c.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool);var A=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(A=g.memoizedState.cachePool.pool),A!==b&&(g.flags|=2048)}return f!==o&&f&&(c.child.flags|=8192),Wy(c,c.updateQueue),en(c),null;case 4:return _t(),o===null&&zS(c.stateNode.containerInfo),en(c),null;case 10:return ua(c.type),en(c),null;case 19:if(K(Rn),b=c.memoizedState,b===null)return en(c),null;if(g=(c.flags&128)!==0,A=b.rendering,A===null)if(g)Uf(b,!1);else{if(hn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(A=By(o),A!==null){for(c.flags|=128,Uf(b,!1),o=A.updateQueue,c.updateQueue=o,Wy(c,o),c.subtreeFlags=0,o=f,f=c.child;f!==null;)NM(f,o),f=f.sibling;return et(Rn,Rn.current&1|2),c.child}o=o.sibling}b.tail!==null&&Nt()>qy&&(c.flags|=128,g=!0,Uf(b,!1),c.lanes=4194304)}else{if(!g)if(o=By(A),o!==null){if(c.flags|=128,g=!0,o=o.updateQueue,c.updateQueue=o,Wy(c,o),Uf(b,!0),b.tail===null&&b.tailMode==="hidden"&&!A.alternate&&!ke)return en(c),null}else 2*Nt()-b.renderingStartTime>qy&&f!==536870912&&(c.flags|=128,g=!0,Uf(b,!1),c.lanes=4194304);b.isBackwards?(A.sibling=c.child,c.child=A):(o=b.last,o!==null?o.sibling=A:c.child=A,b.last=A)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=Nt(),c.sibling=null,o=Rn.current,et(Rn,g?o&1|2:o&1),c):(en(c),null);case 22:case 23:return da(c),HA(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(f&536870912)!==0&&(c.flags&128)===0&&(en(c),c.subtreeFlags&6&&(c.flags|=8192)):en(c),f=c.updateQueue,f!==null&&Wy(c,f.retryQueue),f=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048),o!==null&&K(jl),null;case 24:return f=null,o!==null&&(f=o.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),ua(kn),en(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function bU(o,c){switch(kA(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ua(kn),_t(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return It(c),null;case 13:if(da(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Ef()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return K(Rn),null;case 4:return _t(),null;case 10:return ua(c.type),null;case 22:case 23:return da(c),HA(),o!==null&&K(jl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ua(kn),null;case 25:return null;default:return null}}function lO(o,c){switch(kA(c),c.tag){case 3:ua(kn),_t();break;case 26:case 27:case 5:It(c);break;case 4:_t();break;case 13:da(c);break;case 19:K(Rn);break;case 10:ua(c.type);break;case 22:case 23:da(c),HA(),o!==null&&K(jl);break;case 24:ua(kn)}}function Hf(o,c){try{var f=c.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&o)===o){g=void 0;var A=f.create,z=f.inst;g=A(),z.destroy=g}f=f.next}while(f!==b)}}catch(q){Ue(c,c.return,q)}}function _o(o,c,f){try{var g=c.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var A=b.next;g=A;do{if((g.tag&o)===o){var z=g.inst,q=z.destroy;if(q!==void 0){z.destroy=void 0,b=c;var it=f,mt=q;try{mt()}catch(xt){Ue(b,it,xt)}}}g=g.next}while(g!==A)}}catch(xt){Ue(c,c.return,xt)}}function cO(o){var c=o.updateQueue;if(c!==null){var f=o.stateNode;try{KM(c,f)}catch(g){Ue(o,o.return,g)}}}function uO(o,c,f){f.props=zl(o.type,o.memoizedProps),f.state=o.memoizedState;try{f.componentWillUnmount()}catch(g){Ue(o,c,g)}}function $f(o,c){try{var f=o.ref;if(f!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof f=="function"?o.refCleanup=f(g):f.current=g}}catch(b){Ue(o,c,b)}}function Ar(o,c){var f=o.ref,g=o.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(b){Ue(o,c,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Ue(o,c,b)}else f.current=null}function hO(o){var c=o.type,f=o.memoizedProps,g=o.stateNode;try{t:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break t;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(b){Ue(o,o.return,b)}}function mS(o,c,f){try{var g=o.stateNode;zU(g,o.type,f,c),g[Bi]=c}catch(b){Ue(o,o.return,b)}}function dO(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ro(o.type)||o.tag===4}function yS(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||dO(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ro(o.type)||o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function vS(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(o,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(o),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=nv));else if(g!==4&&(g===27&&Ro(o.type)&&(f=o.stateNode,c=null),o=o.child,o!==null))for(vS(o,c,f),o=o.sibling;o!==null;)vS(o,c,f),o=o.sibling}function Vy(o,c,f){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(g!==4&&(g===27&&Ro(o.type)&&(f=o.stateNode),o=o.child,o!==null))for(Vy(o,c,f),o=o.sibling;o!==null;)Vy(o,c,f),o=o.sibling}function fO(o){var c=o.stateNode,f=o.memoizedProps;try{for(var g=o.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Qn(c,g,f),c[oi]=o,c[Bi]=f}catch(A){Ue(o,o.return,A)}}var ga=!1,fn=!1,bS=!1,pO=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function wU(o,c){if(o=o.containerInfo,$S=cv,o=EM(o),yA(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else t:{f=(f=o.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var b=g.anchorOffset,A=g.focusNode;g=g.focusOffset;try{f.nodeType,A.nodeType}catch{f=null;break t}var z=0,q=-1,it=-1,mt=0,xt=0,kt=o,yt=null;e:for(;;){for(var vt;kt!==f||b!==0&&kt.nodeType!==3||(q=z+b),kt!==A||g!==0&&kt.nodeType!==3||(it=z+g),kt.nodeType===3&&(z+=kt.nodeValue.length),(vt=kt.firstChild)!==null;)yt=kt,kt=vt;for(;;){if(kt===o)break e;if(yt===f&&++mt===b&&(q=z),yt===A&&++xt===g&&(it=z),(vt=kt.nextSibling)!==null)break;kt=yt,yt=kt.parentNode}kt=vt}f=q===-1||it===-1?null:{start:q,end:it}}else f=null}f=f||{start:0,end:0}}else f=null;for(WS={focusedElem:o,selectionRange:f},cv=!1,Fn=c;Fn!==null;)if(c=Fn,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Fn=o;else for(;Fn!==null;){switch(c=Fn,A=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&A!==null){o=void 0,f=c,b=A.memoizedProps,A=A.memoizedState,g=f.stateNode;try{var ie=zl(f.type,b,f.elementType===f.type);o=g.getSnapshotBeforeUpdate(ie,A),g.__reactInternalSnapshotBeforeUpdate=o}catch(Zt){Ue(f,f.return,Zt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,f=o.nodeType,f===9)qS(o);else if(f===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":qS(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Fn=o;break}Fn=c.return}}function gO(o,c,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Ao(o,f),g&4&&Hf(5,f);break;case 1:if(Ao(o,f),g&4)if(o=f.stateNode,c===null)try{o.componentDidMount()}catch(z){Ue(f,f.return,z)}else{var b=zl(f.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(b,c,o.__reactInternalSnapshotBeforeUpdate)}catch(z){Ue(f,f.return,z)}}g&64&&cO(f),g&512&&$f(f,f.return);break;case 3:if(Ao(o,f),g&64&&(o=f.updateQueue,o!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{KM(o,c)}catch(z){Ue(f,f.return,z)}}break;case 27:c===null&&g&4&&fO(f);case 26:case 5:Ao(o,f),c===null&&g&4&&hO(f),g&512&&$f(f,f.return);break;case 12:Ao(o,f);break;case 13:Ao(o,f),g&4&&vO(o,f),g&64&&(o=f.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(f=RU.bind(null,f),qU(o,f))));break;case 22:if(g=f.memoizedState!==null||ga,!g){c=c!==null&&c.memoizedState!==null||fn,b=ga;var A=fn;ga=g,(fn=c)&&!A?So(o,f,(f.subtreeFlags&8772)!==0):Ao(o,f),ga=b,fn=A}break;case 30:break;default:Ao(o,f)}}function mO(o){var c=o.alternate;c!==null&&(o.alternate=null,mO(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Z_(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Qe=null,Hi=!1;function ma(o,c,f){for(f=f.child;f!==null;)yO(o,c,f),f=f.sibling}function yO(o,c,f){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(jt,f)}catch{}switch(f.tag){case 26:fn||Ar(f,c),ma(o,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:fn||Ar(f,c);var g=Qe,b=Hi;Ro(f.type)&&(Qe=f.stateNode,Hi=!1),ma(o,c,f),Zf(f.stateNode),Qe=g,Hi=b;break;case 5:fn||Ar(f,c);case 6:if(g=Qe,b=Hi,Qe=null,ma(o,c,f),Qe=g,Hi=b,Qe!==null)if(Hi)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(f.stateNode)}catch(A){Ue(f,c,A)}else try{Qe.removeChild(f.stateNode)}catch(A){Ue(f,c,A)}break;case 18:Qe!==null&&(Hi?(o=Qe,rP(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,f.stateNode),ap(o)):rP(Qe,f.stateNode));break;case 4:g=Qe,b=Hi,Qe=f.stateNode.containerInfo,Hi=!0,ma(o,c,f),Qe=g,Hi=b;break;case 0:case 11:case 14:case 15:fn||_o(2,f,c),fn||_o(4,f,c),ma(o,c,f);break;case 1:fn||(Ar(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"&&uO(f,c,g)),ma(o,c,f);break;case 21:ma(o,c,f);break;case 22:fn=(g=fn)||f.memoizedState!==null,ma(o,c,f),fn=g;break;default:ma(o,c,f)}}function vO(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ap(o)}catch(f){Ue(c,c.return,f)}}function _U(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new pO),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new pO),c;default:throw Error(n(435,o.tag))}}function wS(o,c){var f=_U(o);c.forEach(function(g){var b=MU.bind(null,o,g);f.has(g)||(f.add(g),g.then(b,b))})}function us(o,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var b=f[g],A=o,z=c,q=z;t:for(;q!==null;){switch(q.tag){case 27:if(Ro(q.type)){Qe=q.stateNode,Hi=!1;break t}break;case 5:Qe=q.stateNode,Hi=!1;break t;case 3:case 4:Qe=q.stateNode.containerInfo,Hi=!0;break t}q=q.return}if(Qe===null)throw Error(n(160));yO(A,z,b),Qe=null,Hi=!1,A=b.alternate,A!==null&&(A.return=null),b.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)bO(c,o),c=c.sibling}var Zs=null;function bO(o,c){var f=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:us(c,o),hs(o),g&4&&(_o(3,o,o.return),Hf(3,o),_o(5,o,o.return));break;case 1:us(c,o),hs(o),g&512&&(fn||f===null||Ar(f,f.return)),g&64&&ga&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(f=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var b=Zs;if(us(c,o),hs(o),g&512&&(fn||f===null||Ar(f,f.return)),g&4){var A=f!==null?f.memoizedState:null;if(g=o.memoizedState,f===null)if(g===null)if(o.stateNode===null){t:{g=o.type,f=o.memoizedProps,b=b.ownerDocument||b;e:switch(g){case"title":A=b.getElementsByTagName("title")[0],(!A||A[ff]||A[oi]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=b.createElement(g),b.head.insertBefore(A,b.querySelector("head > title"))),Qn(A,g,f),A[oi]=o,Nn(A),g=A;break t;case"link":var z=fP("link","href",b).get(g+(f.href||""));if(z){for(var q=0;q<z.length;q++)if(A=z[q],A.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&A.getAttribute("rel")===(f.rel==null?null:f.rel)&&A.getAttribute("title")===(f.title==null?null:f.title)&&A.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){z.splice(q,1);break e}}A=b.createElement(g),Qn(A,g,f),b.head.appendChild(A);break;case"meta":if(z=fP("meta","content",b).get(g+(f.content||""))){for(q=0;q<z.length;q++)if(A=z[q],A.getAttribute("content")===(f.content==null?null:""+f.content)&&A.getAttribute("name")===(f.name==null?null:f.name)&&A.getAttribute("property")===(f.property==null?null:f.property)&&A.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&A.getAttribute("charset")===(f.charSet==null?null:f.charSet)){z.splice(q,1);break e}}A=b.createElement(g),Qn(A,g,f),b.head.appendChild(A);break;default:throw Error(n(468,g))}A[oi]=o,Nn(A),g=A}o.stateNode=g}else pP(b,o.type,o.stateNode);else o.stateNode=dP(b,g,o.memoizedProps);else A!==g?(A===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):A.count--,g===null?pP(b,o.type,o.stateNode):dP(b,g,o.memoizedProps)):g===null&&o.stateNode!==null&&mS(o,o.memoizedProps,f.memoizedProps)}break;case 27:us(c,o),hs(o),g&512&&(fn||f===null||Ar(f,f.return)),f!==null&&g&4&&mS(o,o.memoizedProps,f.memoizedProps);break;case 5:if(us(c,o),hs(o),g&512&&(fn||f===null||Ar(f,f.return)),o.flags&32){b=o.stateNode;try{Cu(b,"")}catch(vt){Ue(o,o.return,vt)}}g&4&&o.stateNode!=null&&(b=o.memoizedProps,mS(o,b,f!==null?f.memoizedProps:b)),g&1024&&(bS=!0);break;case 6:if(us(c,o),hs(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,f=o.stateNode;try{f.nodeValue=g}catch(vt){Ue(o,o.return,vt)}}break;case 3:if(av=null,b=Zs,Zs=sv(c.containerInfo),us(c,o),Zs=b,hs(o),g&4&&f!==null&&f.memoizedState.isDehydrated)try{ap(c.containerInfo)}catch(vt){Ue(o,o.return,vt)}bS&&(bS=!1,wO(o));break;case 4:g=Zs,Zs=sv(o.stateNode.containerInfo),us(c,o),hs(o),Zs=g;break;case 12:us(c,o),hs(o);break;case 13:us(c,o),hs(o),o.child.flags&8192&&o.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(TS=Nt()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,wS(o,g)));break;case 22:b=o.memoizedState!==null;var it=f!==null&&f.memoizedState!==null,mt=ga,xt=fn;if(ga=mt||b,fn=xt||it,us(c,o),fn=xt,ga=mt,hs(o),g&8192)t:for(c=o.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(f===null||it||ga||fn||Ul(o)),f=null,c=o;;){if(c.tag===5||c.tag===26){if(f===null){it=f=c;try{if(A=it.stateNode,b)z=A.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{q=it.stateNode;var kt=it.memoizedProps.style,yt=kt!=null&&kt.hasOwnProperty("display")?kt.display:null;q.style.display=yt==null||typeof yt=="boolean"?"":(""+yt).trim()}}catch(vt){Ue(it,it.return,vt)}}}else if(c.tag===6){if(f===null){it=c;try{it.stateNode.nodeValue=b?"":it.memoizedProps}catch(vt){Ue(it,it.return,vt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break t;for(;c.sibling===null;){if(c.return===null||c.return===o)break t;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,wS(o,f))));break;case 19:us(c,o),hs(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,wS(o,g)));break;case 30:break;case 21:break;default:us(c,o),hs(o)}}function hs(o){var c=o.flags;if(c&2){try{for(var f,g=o.return;g!==null;){if(dO(g)){f=g;break}g=g.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var b=f.stateNode,A=yS(o);Vy(o,A,b);break;case 5:var z=f.stateNode;f.flags&32&&(Cu(z,""),f.flags&=-33);var q=yS(o);Vy(o,q,z);break;case 3:case 4:var it=f.stateNode.containerInfo,mt=yS(o);vS(o,mt,it);break;default:throw Error(n(161))}}catch(xt){Ue(o,o.return,xt)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function wO(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;wO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ao(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)gO(o,c.alternate,c),c=c.sibling}function Ul(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:_o(4,c,c.return),Ul(c);break;case 1:Ar(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&uO(c,c.return,f),Ul(c);break;case 27:Zf(c.stateNode);case 26:case 5:Ar(c,c.return),Ul(c);break;case 22:c.memoizedState===null&&Ul(c);break;case 30:Ul(c);break;default:Ul(c)}o=o.sibling}}function So(o,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,b=o,A=c,z=A.flags;switch(A.tag){case 0:case 11:case 15:So(b,A,f),Hf(4,A);break;case 1:if(So(b,A,f),g=A,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(mt){Ue(g,g.return,mt)}if(g=A,b=g.updateQueue,b!==null){var q=g.stateNode;try{var it=b.shared.hiddenCallbacks;if(it!==null)for(b.shared.hiddenCallbacks=null,b=0;b<it.length;b++)XM(it[b],q)}catch(mt){Ue(g,g.return,mt)}}f&&z&64&&cO(A),$f(A,A.return);break;case 27:fO(A);case 26:case 5:So(b,A,f),f&&g===null&&z&4&&hO(A),$f(A,A.return);break;case 12:So(b,A,f);break;case 13:So(b,A,f),f&&z&4&&vO(b,A);break;case 22:A.memoizedState===null&&So(b,A,f),$f(A,A.return);break;case 30:break;default:So(b,A,f)}c=c.sibling}}function _S(o,c){var f=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==f&&(o!=null&&o.refCount++,f!=null&&kf(f))}function AS(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&kf(o))}function Sr(o,c,f,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)_O(o,c,f,g),c=c.sibling}function _O(o,c,f,g){var b=c.flags;switch(c.tag){case 0:case 11:case 15:Sr(o,c,f,g),b&2048&&Hf(9,c);break;case 1:Sr(o,c,f,g);break;case 3:Sr(o,c,f,g),b&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&kf(o)));break;case 12:if(b&2048){Sr(o,c,f,g),o=c.stateNode;try{var A=c.memoizedProps,z=A.id,q=A.onPostCommit;typeof q=="function"&&q(z,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(it){Ue(c,c.return,it)}}else Sr(o,c,f,g);break;case 13:Sr(o,c,f,g);break;case 23:break;case 22:A=c.stateNode,z=c.alternate,c.memoizedState!==null?A._visibility&2?Sr(o,c,f,g):Wf(o,c):A._visibility&2?Sr(o,c,f,g):(A._visibility|=2,Gu(o,c,f,g,(c.subtreeFlags&10256)!==0)),b&2048&&_S(z,c);break;case 24:Sr(o,c,f,g),b&2048&&AS(c.alternate,c);break;default:Sr(o,c,f,g)}}function Gu(o,c,f,g,b){for(b=b&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var A=o,z=c,q=f,it=g,mt=z.flags;switch(z.tag){case 0:case 11:case 15:Gu(A,z,q,it,b),Hf(8,z);break;case 23:break;case 22:var xt=z.stateNode;z.memoizedState!==null?xt._visibility&2?Gu(A,z,q,it,b):Wf(A,z):(xt._visibility|=2,Gu(A,z,q,it,b)),b&&mt&2048&&_S(z.alternate,z);break;case 24:Gu(A,z,q,it,b),b&&mt&2048&&AS(z.alternate,z);break;default:Gu(A,z,q,it,b)}c=c.sibling}}function Wf(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=o,g=c,b=g.flags;switch(g.tag){case 22:Wf(f,g),b&2048&&_S(g.alternate,g);break;case 24:Wf(f,g),b&2048&&AS(g.alternate,g);break;default:Wf(f,g)}c=c.sibling}}var Vf=8192;function qu(o){if(o.subtreeFlags&Vf)for(o=o.child;o!==null;)AO(o),o=o.sibling}function AO(o){switch(o.tag){case 26:qu(o),o.flags&Vf&&o.memoizedState!==null&&a8(Zs,o.memoizedState,o.memoizedProps);break;case 5:qu(o);break;case 3:case 4:var c=Zs;Zs=sv(o.stateNode.containerInfo),qu(o),Zs=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=Vf,Vf=16777216,qu(o),Vf=c):qu(o));break;default:qu(o)}}function SO(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function Gf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Fn=g,EO(g,o)}SO(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)xO(o),o=o.sibling}function xO(o){switch(o.tag){case 0:case 11:case 15:Gf(o),o.flags&2048&&_o(9,o,o.return);break;case 3:Gf(o);break;case 12:Gf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Gy(o)):Gf(o);break;default:Gf(o)}}function Gy(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];Fn=g,EO(g,o)}SO(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:_o(8,c,c.return),Gy(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,Gy(c));break;default:Gy(c)}o=o.sibling}}function EO(o,c){for(;Fn!==null;){var f=Fn;switch(f.tag){case 0:case 11:case 15:_o(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:kf(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Fn=g;else t:for(f=o;Fn!==null;){g=Fn;var b=g.sibling,A=g.return;if(mO(g),g===f){Fn=null;break t}if(b!==null){b.return=A,Fn=b;break t}Fn=A}}}var AU={getCacheForType:function(o){var c=li(kn),f=c.data.get(o);return f===void 0&&(f=o(),c.data.set(o,f)),f}},SU=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ye=null,ve=null,Ae=0,Pe=0,ds=null,xo=!1,Yu=!1,SS=!1,ya=0,hn=0,Eo=0,Hl=0,xS=0,Ps=0,Xu=0,qf=null,$i=null,ES=!1,TS=0,qy=1/0,Yy=null,To=null,Kn=0,Co=null,Ku=null,Qu=0,CS=0,kS=null,TO=null,Yf=0,RS=null;function fs(){if((Oe&2)!==0&&Ae!==0)return Ae&-Ae;if($.T!==null){var o=ju;return o!==0?o:IS()}return HR()}function CO(){Ps===0&&(Ps=(Ae&536870912)===0||ke?ze():536870912);var o=Os.current;return o!==null&&(o.flags|=32),Ps}function ps(o,c,f){(o===Ye&&(Pe===2||Pe===9)||o.cancelPendingCommit!==null)&&(Zu(o,0),ko(o,Ae,Ps,!1)),df(o,f),((Oe&2)===0||o!==Ye)&&(o===Ye&&((Oe&2)===0&&(Hl|=f),hn===4&&ko(o,Ae,Ps,!1)),xr(o))}function kO(o,c,f){if((Oe&6)!==0)throw Error(n(327));var g=!f&&(c&124)===0&&(c&o.expiredLanes)===0||Ee(o,c),b=g?TU(o,c):OS(o,c,!0),A=g;do{if(b===0){Yu&&!g&&ko(o,c,0,!1);break}else{if(f=o.current.alternate,A&&!xU(f)){b=OS(o,c,!1),A=!1;continue}if(b===2){if(A=c,o.errorRecoveryDisabledLanes&A)var z=0;else z=o.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;t:{var q=o;b=qf;var it=q.current.memoizedState.isDehydrated;if(it&&(Zu(q,z).flags|=256),z=OS(q,z,!1),z!==2){if(SS&&!it){q.errorRecoveryDisabledLanes|=A,Hl|=A,b=4;break t}A=$i,$i=b,A!==null&&($i===null?$i=A:$i.push.apply($i,A))}b=z}if(A=!1,b!==2)continue}}if(b===1){Zu(o,0),ko(o,c,0,!0);break}t:{switch(g=o,A=b,A){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:ko(g,c,Ps,!xo);break t;case 2:$i=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(b=TS+300-Nt(),10<b)){if(ko(g,c,Ps,!xo),Dt(g,0,!0)!==0)break t;g.timeoutHandle=iP(RO.bind(null,g,f,$i,Yy,ES,c,Ps,Hl,Xu,xo,A,2,-0,0),b);break t}RO(g,f,$i,Yy,ES,c,Ps,Hl,Xu,xo,A,0,-0,0)}}break}while(!0);xr(o)}function RO(o,c,f,g,b,A,z,q,it,mt,xt,kt,yt,vt){if(o.timeoutHandle=-1,kt=c.subtreeFlags,(kt&8192||(kt&16785408)===16785408)&&(ep={stylesheets:null,count:0,unsuspend:r8},AO(c),kt=o8(),kt!==null)){o.cancelPendingCommit=kt(IO.bind(null,o,c,A,f,g,b,z,q,it,xt,1,yt,vt)),ko(o,A,z,!mt);return}IO(o,c,A,f,g,b,z,q,it)}function xU(o){for(var c=o;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var b=f[g],A=b.getSnapshot;b=b.value;try{if(!ls(A(),b))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ko(o,c,f,g){c&=~xS,c&=~Hl,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var b=c;0<b;){var A=31-ne(b),z=1<<A;g[A]=-1,b&=~z}f!==0&&zR(o,f,c)}function Xy(){return(Oe&6)===0?(Xf(0),!1):!0}function MS(){if(ve!==null){if(Pe===0)var o=ve.return;else o=ve,ca=Il=null,qA(o),Wu=null,Bf=0,o=ve;for(;o!==null;)lO(o.alternate,o),o=o.return;ve=null}}function Zu(o,c){var f=o.timeoutHandle;f!==-1&&(o.timeoutHandle=-1,HU(f)),f=o.cancelPendingCommit,f!==null&&(o.cancelPendingCommit=null,f()),MS(),Ye=o,ve=f=aa(o.current,null),Ae=c,Pe=0,ds=null,xo=!1,Yu=Ee(o,c),SS=!1,Xu=Ps=xS=Hl=Eo=hn=0,$i=qf=null,ES=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var b=31-ne(g),A=1<<b;c|=o[b],g&=~A}return ya=c,yy(),f}function MO(o,c){pe=null,$.H=Iy,c===Mf||c===Ty?(c=qM(),Pe=3):c===WM?(c=qM(),Pe=4):Pe=c===YL?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ds=c,ve===null&&(hn=1,Uy(o,ks(c,o.current)))}function LO(){var o=$.H;return $.H=Iy,o===null?Iy:o}function OO(){var o=$.A;return $.A=AU,o}function LS(){hn=4,xo||(Ae&4194048)!==Ae&&Os.current!==null||(Yu=!0),(Eo&134217727)===0&&(Hl&134217727)===0||Ye===null||ko(Ye,Ae,Ps,!1)}function OS(o,c,f){var g=Oe;Oe|=2;var b=LO(),A=OO();(Ye!==o||Ae!==c)&&(Yy=null,Zu(o,c)),c=!1;var z=hn;t:do try{if(Pe!==0&&ve!==null){var q=ve,it=ds;switch(Pe){case 8:MS(),z=6;break t;case 3:case 2:case 9:case 6:Os.current===null&&(c=!0);var mt=Pe;if(Pe=0,ds=null,Ju(o,q,it,mt),f&&Yu){z=0;break t}break;default:mt=Pe,Pe=0,ds=null,Ju(o,q,it,mt)}}EU(),z=hn;break}catch(xt){MO(o,xt)}while(!0);return c&&o.shellSuspendCounter++,ca=Il=null,Oe=g,$.H=b,$.A=A,ve===null&&(Ye=null,Ae=0,yy()),z}function EU(){for(;ve!==null;)PO(ve)}function TU(o,c){var f=Oe;Oe|=2;var g=LO(),b=OO();Ye!==o||Ae!==c?(Yy=null,qy=Nt()+500,Zu(o,c)):Yu=Ee(o,c);t:do try{if(Pe!==0&&ve!==null){c=ve;var A=ds;e:switch(Pe){case 1:Pe=0,ds=null,Ju(o,c,A,1);break;case 2:case 9:if(VM(A)){Pe=0,ds=null,DO(c);break}c=function(){Pe!==2&&Pe!==9||Ye!==o||(Pe=7),xr(o)},A.then(c,c);break t;case 3:Pe=7;break t;case 4:Pe=5;break t;case 7:VM(A)?(Pe=0,ds=null,DO(c)):(Pe=0,ds=null,Ju(o,c,A,7));break;case 5:var z=null;switch(ve.tag){case 26:z=ve.memoizedState;case 5:case 27:var q=ve;if(!z||gP(z)){Pe=0,ds=null;var it=q.sibling;if(it!==null)ve=it;else{var mt=q.return;mt!==null?(ve=mt,Ky(mt)):ve=null}break e}}Pe=0,ds=null,Ju(o,c,A,5);break;case 6:Pe=0,ds=null,Ju(o,c,A,6);break;case 8:MS(),hn=6;break t;default:throw Error(n(462))}}CU();break}catch(xt){MO(o,xt)}while(!0);return ca=Il=null,$.H=g,$.A=b,Oe=f,ve!==null?0:(Ye=null,Ae=0,yy(),hn)}function CU(){for(;ve!==null&&!Ot();)PO(ve)}function PO(o){var c=aO(o.alternate,o,ya);o.memoizedProps=o.pendingProps,c===null?Ky(o):ve=c}function DO(o){var c=o,f=c.alternate;switch(c.tag){case 15:case 0:c=tO(f,c,c.pendingProps,c.type,void 0,Ae);break;case 11:c=tO(f,c,c.pendingProps,c.type.render,c.ref,Ae);break;case 5:qA(c);default:lO(f,c),c=ve=NM(c,ya),c=aO(f,c,ya)}o.memoizedProps=o.pendingProps,c===null?Ky(o):ve=c}function Ju(o,c,f,g){ca=Il=null,qA(c),Wu=null,Bf=0;var b=c.return;try{if(mU(o,b,c,f,Ae)){hn=1,Uy(o,ks(f,o.current)),ve=null;return}}catch(A){if(b!==null)throw ve=b,A;hn=1,Uy(o,ks(f,o.current)),ve=null;return}c.flags&32768?(ke||g===1?o=!0:Yu||(Ae&536870912)!==0?o=!1:(xo=o=!0,(g===2||g===9||g===3||g===6)&&(g=Os.current,g!==null&&g.tag===13&&(g.flags|=16384))),NO(c,o)):Ky(c)}function Ky(o){var c=o;do{if((c.flags&32768)!==0){NO(c,xo);return}o=c.return;var f=vU(c.alternate,c,ya);if(f!==null){ve=f;return}if(c=c.sibling,c!==null){ve=c;return}ve=c=o}while(c!==null);hn===0&&(hn=5)}function NO(o,c){do{var f=bU(o.alternate,o);if(f!==null){f.flags&=32767,ve=f;return}if(f=o.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(o=o.sibling,o!==null)){ve=o;return}ve=o=f}while(o!==null);hn=6,ve=null}function IO(o,c,f,g,b,A,z,q,it){o.cancelPendingCommit=null;do Qy();while(Kn!==0);if((Oe&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(A=c.lanes|c.childLanes,A|=AA,rz(o,f,A,z,q,it),o===Ye&&(ve=Ye=null,Ae=0),Ku=c,Co=o,Qu=f,CS=A,kS=b,TO=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,LU(ot,function(){return UO(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=$.T,$.T=null,b=T.p,T.p=2,z=Oe,Oe|=4;try{wU(o,c,f)}finally{Oe=z,T.p=b,$.T=g}}Kn=1,FO(),jO(),BO()}}function FO(){if(Kn===1){Kn=0;var o=Co,c=Ku,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var g=T.p;T.p=2;var b=Oe;Oe|=4;try{bO(c,o);var A=WS,z=EM(o.containerInfo),q=A.focusedElem,it=A.selectionRange;if(z!==q&&q&&q.ownerDocument&&xM(q.ownerDocument.documentElement,q)){if(it!==null&&yA(q)){var mt=it.start,xt=it.end;if(xt===void 0&&(xt=mt),"selectionStart"in q)q.selectionStart=mt,q.selectionEnd=Math.min(xt,q.value.length);else{var kt=q.ownerDocument||document,yt=kt&&kt.defaultView||window;if(yt.getSelection){var vt=yt.getSelection(),ie=q.textContent.length,Zt=Math.min(it.start,ie),Ie=it.end===void 0?Zt:Math.min(it.end,ie);!vt.extend&&Zt>Ie&&(z=Ie,Ie=Zt,Zt=z);var dt=SM(q,Zt),at=SM(q,Ie);if(dt&&at&&(vt.rangeCount!==1||vt.anchorNode!==dt.node||vt.anchorOffset!==dt.offset||vt.focusNode!==at.node||vt.focusOffset!==at.offset)){var gt=kt.createRange();gt.setStart(dt.node,dt.offset),vt.removeAllRanges(),Zt>Ie?(vt.addRange(gt),vt.extend(at.node,at.offset)):(gt.setEnd(at.node,at.offset),vt.addRange(gt))}}}}for(kt=[],vt=q;vt=vt.parentNode;)vt.nodeType===1&&kt.push({element:vt,left:vt.scrollLeft,top:vt.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<kt.length;q++){var Tt=kt[q];Tt.element.scrollLeft=Tt.left,Tt.element.scrollTop=Tt.top}}cv=!!$S,WS=$S=null}finally{Oe=b,T.p=g,$.T=f}}o.current=c,Kn=2}}function jO(){if(Kn===2){Kn=0;var o=Co,c=Ku,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var g=T.p;T.p=2;var b=Oe;Oe|=4;try{gO(o,c.alternate,c)}finally{Oe=b,T.p=g,$.T=f}}Kn=3}}function BO(){if(Kn===4||Kn===3){Kn=0,Rt();var o=Co,c=Ku,f=Qu,g=TO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Kn=5:(Kn=0,Ku=Co=null,zO(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(To=null),K_(f),c=c.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(jt,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=$.T,b=T.p,T.p=2,$.T=null;try{for(var A=o.onRecoverableError,z=0;z<g.length;z++){var q=g[z];A(q.value,{componentStack:q.stack})}}finally{$.T=c,T.p=b}}(Qu&3)!==0&&Qy(),xr(o),b=o.pendingLanes,(f&4194090)!==0&&(b&42)!==0?o===RS?Yf++:(Yf=0,RS=o):Yf=0,Xf(0)}}function zO(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,kf(c)))}function Qy(o){return FO(),jO(),BO(),UO()}function UO(){if(Kn!==5)return!1;var o=Co,c=CS;CS=0;var f=K_(Qu),g=$.T,b=T.p;try{T.p=32>f?32:f,$.T=null,f=kS,kS=null;var A=Co,z=Qu;if(Kn=0,Ku=Co=null,Qu=0,(Oe&6)!==0)throw Error(n(331));var q=Oe;if(Oe|=4,xO(A.current),_O(A,A.current,z,f),Oe=q,Xf(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(jt,A)}catch{}return!0}finally{T.p=b,$.T=g,zO(o,c)}}function HO(o,c,f){c=ks(f,c),c=oS(o.stateNode,c,2),o=yo(o,c,2),o!==null&&(df(o,2),xr(o))}function Ue(o,c,f){if(o.tag===3)HO(o,o,f);else for(;c!==null;){if(c.tag===3){HO(c,o,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(To===null||!To.has(g))){o=ks(f,o),f=GL(2),g=yo(c,f,2),g!==null&&(qL(f,g,c,o),df(g,2),xr(g));break}}c=c.return}}function PS(o,c,f){var g=o.pingCache;if(g===null){g=o.pingCache=new SU;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(f)||(SS=!0,b.add(f),o=kU.bind(null,o,c,f),c.then(o,o))}function kU(o,c,f){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&f,o.warmLanes&=~f,Ye===o&&(Ae&f)===f&&(hn===4||hn===3&&(Ae&62914560)===Ae&&300>Nt()-TS?(Oe&2)===0&&Zu(o,0):xS|=f,Xu===Ae&&(Xu=0)),xr(o)}function $O(o,c){c===0&&(c=Le()),o=Du(o,c),o!==null&&(df(o,c),xr(o))}function RU(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),$O(o,f)}function MU(o,c){var f=0;switch(o.tag){case 13:var g=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),$O(o,f)}function LU(o,c){return Et(o,c)}var Zy=null,th=null,DS=!1,Jy=!1,NS=!1,$l=0;function xr(o){o!==th&&o.next===null&&(th===null?Zy=th=o:th=th.next=o),Jy=!0,DS||(DS=!0,PU())}function Xf(o,c){if(!NS&&Jy){NS=!0;do for(var f=!1,g=Zy;g!==null;){if(o!==0){var b=g.pendingLanes;if(b===0)var A=0;else{var z=g.suspendedLanes,q=g.pingedLanes;A=(1<<31-ne(42|o)+1)-1,A&=b&~(z&~q),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(f=!0,qO(g,A))}else A=Ae,A=Dt(g,g===Ye?A:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(A&3)===0||Ee(g,A)||(f=!0,qO(g,A));g=g.next}while(f);NS=!1}}function OU(){WO()}function WO(){Jy=DS=!1;var o=0;$l!==0&&(UU()&&(o=$l),$l=0);for(var c=Nt(),f=null,g=Zy;g!==null;){var b=g.next,A=VO(g,c);A===0?(g.next=null,f===null?Zy=b:f.next=b,b===null&&(th=f)):(f=g,(o!==0||(A&3)!==0)&&(Jy=!0)),g=b}Xf(o)}function VO(o,c){for(var f=o.suspendedLanes,g=o.pingedLanes,b=o.expirationTimes,A=o.pendingLanes&-62914561;0<A;){var z=31-ne(A),q=1<<z,it=b[z];it===-1?((q&f)===0||(q&g)!==0)&&(b[z]=cn(q,c)):it<=c&&(o.expiredLanes|=q),A&=~q}if(c=Ye,f=Ae,f=Dt(o,o===c?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,f===0||o===c&&(Pe===2||Pe===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&Pt(g),o.callbackNode=null,o.callbackPriority=0;if((f&3)===0||Ee(o,f)){if(c=f&-f,c===o.callbackPriority)return c;switch(g!==null&&Pt(g),K_(f)){case 2:case 8:f=tt;break;case 32:f=ot;break;case 268435456:f=Mt;break;default:f=ot}return g=GO.bind(null,o),f=Et(f,g),o.callbackPriority=c,o.callbackNode=f,c}return g!==null&&g!==null&&Pt(g),o.callbackPriority=2,o.callbackNode=null,2}function GO(o,c){if(Kn!==0&&Kn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var f=o.callbackNode;if(Qy()&&o.callbackNode!==f)return null;var g=Ae;return g=Dt(o,o===Ye?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(kO(o,g,c),VO(o,Nt()),o.callbackNode!=null&&o.callbackNode===f?GO.bind(null,o):null)}function qO(o,c){if(Qy())return null;kO(o,c,!0)}function PU(){$U(function(){(Oe&6)!==0?Et(Qt,OU):WO()})}function IS(){return $l===0&&($l=ze()),$l}function YO(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:uy(""+o)}function XO(o,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,o.id&&f.setAttribute("form",o.id),c.parentNode.insertBefore(f,c),o=new FormData(o),f.parentNode.removeChild(f),o}function DU(o,c,f,g,b){if(c==="submit"&&f&&f.stateNode===b){var A=YO((b[Bi]||null).action),z=g.submitter;z&&(c=(c=z[Bi]||null)?YO(c.formAction):z.getAttribute("formAction"),c!==null&&(A=c,z=null));var q=new py("action","action",null,g,b);o.push({event:q,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if($l!==0){var it=z?XO(b,z):new FormData(b);nS(f,{pending:!0,data:it,method:b.method,action:A},null,it)}}else typeof A=="function"&&(q.preventDefault(),it=z?XO(b,z):new FormData(b),nS(f,{pending:!0,data:it,method:b.method,action:A},A,it))},currentTarget:b}]})}}for(var FS=0;FS<_A.length;FS++){var jS=_A[FS],NU=jS.toLowerCase(),IU=jS[0].toUpperCase()+jS.slice(1);Qs(NU,"on"+IU)}Qs(kM,"onAnimationEnd"),Qs(RM,"onAnimationIteration"),Qs(MM,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(Jz,"onTransitionRun"),Qs(tU,"onTransitionStart"),Qs(eU,"onTransitionCancel"),Qs(LM,"onTransitionEnd"),xu("onMouseEnter",["mouseout","mouseover"]),xu("onMouseLeave",["mouseout","mouseover"]),xu("onPointerEnter",["pointerout","pointerover"]),xu("onPointerLeave",["pointerout","pointerover"]),Cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kf));function KO(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var g=o[f],b=g.event;g=g.listeners;t:{var A=void 0;if(c)for(var z=g.length-1;0<=z;z--){var q=g[z],it=q.instance,mt=q.currentTarget;if(q=q.listener,it!==A&&b.isPropagationStopped())break t;A=q,b.currentTarget=mt;try{A(b)}catch(xt){zy(xt)}b.currentTarget=null,A=it}else for(z=0;z<g.length;z++){if(q=g[z],it=q.instance,mt=q.currentTarget,q=q.listener,it!==A&&b.isPropagationStopped())break t;A=q,b.currentTarget=mt;try{A(b)}catch(xt){zy(xt)}b.currentTarget=null,A=it}}}}function be(o,c){var f=c[Q_];f===void 0&&(f=c[Q_]=new Set);var g=o+"__bubble";f.has(g)||(QO(c,o,2,!1),f.add(g))}function BS(o,c,f){var g=0;c&&(g|=4),QO(f,o,g,c)}var tv="_reactListening"+Math.random().toString(36).slice(2);function zS(o){if(!o[tv]){o[tv]=!0,WR.forEach(function(f){f!=="selectionchange"&&(FU.has(f)||BS(f,!1,o),BS(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[tv]||(c[tv]=!0,BS("selectionchange",!1,c))}}function QO(o,c,f,g){switch(_P(c)){case 2:var b=u8;break;case 8:b=h8;break;default:b=tx}f=b.bind(null,c,f,o),b=void 0,!lA||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?o.addEventListener(c,f,{capture:!0,passive:b}):o.addEventListener(c,f,!0):b!==void 0?o.addEventListener(c,f,{passive:b}):o.addEventListener(c,f,!1)}function US(o,c,f,g,b){var A=g;if((c&1)===0&&(c&2)===0&&g!==null)t:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var q=g.stateNode.containerInfo;if(q===b)break;if(z===4)for(z=g.return;z!==null;){var it=z.tag;if((it===3||it===4)&&z.stateNode.containerInfo===b)return;z=z.return}for(;q!==null;){if(z=_u(q),z===null)return;if(it=z.tag,it===5||it===6||it===26||it===27){g=A=z;continue t}q=q.parentNode}}g=g.return}sM(function(){var mt=A,xt=aA(f),kt=[];t:{var yt=OM.get(o);if(yt!==void 0){var vt=py,ie=o;switch(o){case"keypress":if(dy(f)===0)break t;case"keydown":case"keyup":vt=Lz;break;case"focusin":ie="focus",vt=dA;break;case"focusout":ie="blur",vt=dA;break;case"beforeblur":case"afterblur":vt=dA;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=oM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=bz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Dz;break;case kM:case RM:case MM:vt=Az;break;case LM:vt=Iz;break;case"scroll":case"scrollend":vt=yz;break;case"wheel":vt=jz;break;case"copy":case"cut":case"paste":vt=xz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=cM;break;case"toggle":case"beforetoggle":vt=zz}var Zt=(c&4)!==0,Ie=!Zt&&(o==="scroll"||o==="scrollend"),dt=Zt?yt!==null?yt+"Capture":null:yt;Zt=[];for(var at=mt,gt;at!==null;){var Tt=at;if(gt=Tt.stateNode,Tt=Tt.tag,Tt!==5&&Tt!==26&&Tt!==27||gt===null||dt===null||(Tt=gf(at,dt),Tt!=null&&Zt.push(Qf(at,Tt,gt))),Ie)break;at=at.return}0<Zt.length&&(yt=new vt(yt,ie,null,f,xt),kt.push({event:yt,listeners:Zt}))}}if((c&7)===0){t:{if(yt=o==="mouseover"||o==="pointerover",vt=o==="mouseout"||o==="pointerout",yt&&f!==rA&&(ie=f.relatedTarget||f.fromElement)&&(_u(ie)||ie[wu]))break t;if((vt||yt)&&(yt=xt.window===xt?xt:(yt=xt.ownerDocument)?yt.defaultView||yt.parentWindow:window,vt?(ie=f.relatedTarget||f.toElement,vt=mt,ie=ie?_u(ie):null,ie!==null&&(Ie=r(ie),Zt=ie.tag,ie!==Ie||Zt!==5&&Zt!==27&&Zt!==6)&&(ie=null)):(vt=null,ie=mt),vt!==ie)){if(Zt=oM,Tt="onMouseLeave",dt="onMouseEnter",at="mouse",(o==="pointerout"||o==="pointerover")&&(Zt=cM,Tt="onPointerLeave",dt="onPointerEnter",at="pointer"),Ie=vt==null?yt:pf(vt),gt=ie==null?yt:pf(ie),yt=new Zt(Tt,at+"leave",vt,f,xt),yt.target=Ie,yt.relatedTarget=gt,Tt=null,_u(xt)===mt&&(Zt=new Zt(dt,at+"enter",ie,f,xt),Zt.target=gt,Zt.relatedTarget=Ie,Tt=Zt),Ie=Tt,vt&&ie)e:{for(Zt=vt,dt=ie,at=0,gt=Zt;gt;gt=eh(gt))at++;for(gt=0,Tt=dt;Tt;Tt=eh(Tt))gt++;for(;0<at-gt;)Zt=eh(Zt),at--;for(;0<gt-at;)dt=eh(dt),gt--;for(;at--;){if(Zt===dt||dt!==null&&Zt===dt.alternate)break e;Zt=eh(Zt),dt=eh(dt)}Zt=null}else Zt=null;vt!==null&&ZO(kt,yt,vt,Zt,!1),ie!==null&&Ie!==null&&ZO(kt,Ie,ie,Zt,!0)}}t:{if(yt=mt?pf(mt):window,vt=yt.nodeName&&yt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&yt.type==="file")var Wt=yM;else if(gM(yt))if(vM)Wt=Kz;else{Wt=Yz;var ge=qz}else vt=yt.nodeName,!vt||vt.toLowerCase()!=="input"||yt.type!=="checkbox"&&yt.type!=="radio"?mt&&sA(mt.elementType)&&(Wt=yM):Wt=Xz;if(Wt&&(Wt=Wt(o,mt))){mM(kt,Wt,f,xt);break t}ge&&ge(o,yt,mt),o==="focusout"&&mt&&yt.type==="number"&&mt.memoizedProps.value!=null&&iA(yt,"number",yt.value)}switch(ge=mt?pf(mt):window,o){case"focusin":(gM(ge)||ge.contentEditable==="true")&&(Lu=ge,vA=mt,Sf=null);break;case"focusout":Sf=vA=Lu=null;break;case"mousedown":bA=!0;break;case"contextmenu":case"mouseup":case"dragend":bA=!1,TM(kt,f,xt);break;case"selectionchange":if(Zz)break;case"keydown":case"keyup":TM(kt,f,xt)}var Yt;if(pA)t:{switch(o){case"compositionstart":var Jt="onCompositionStart";break t;case"compositionend":Jt="onCompositionEnd";break t;case"compositionupdate":Jt="onCompositionUpdate";break t}Jt=void 0}else Mu?fM(o,f)&&(Jt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Jt="onCompositionStart");Jt&&(uM&&f.locale!=="ko"&&(Mu||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&Mu&&(Yt=rM()):(fo=xt,cA="value"in fo?fo.value:fo.textContent,Mu=!0)),ge=ev(mt,Jt),0<ge.length&&(Jt=new lM(Jt,o,null,f,xt),kt.push({event:Jt,listeners:ge}),Yt?Jt.data=Yt:(Yt=pM(f),Yt!==null&&(Jt.data=Yt)))),(Yt=Hz?$z(o,f):Wz(o,f))&&(Jt=ev(mt,"onBeforeInput"),0<Jt.length&&(ge=new lM("onBeforeInput","beforeinput",null,f,xt),kt.push({event:ge,listeners:Jt}),ge.data=Yt)),DU(kt,o,mt,f,xt)}KO(kt,c)})}function Qf(o,c,f){return{instance:o,listener:c,currentTarget:f}}function ev(o,c){for(var f=c+"Capture",g=[];o!==null;){var b=o,A=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||A===null||(b=gf(o,f),b!=null&&g.unshift(Qf(o,b,A)),b=gf(o,c),b!=null&&g.push(Qf(o,b,A))),o.tag===3)return g;o=o.return}return[]}function eh(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ZO(o,c,f,g,b){for(var A=c._reactName,z=[];f!==null&&f!==g;){var q=f,it=q.alternate,mt=q.stateNode;if(q=q.tag,it!==null&&it===g)break;q!==5&&q!==26&&q!==27||mt===null||(it=mt,b?(mt=gf(f,A),mt!=null&&z.unshift(Qf(f,mt,it))):b||(mt=gf(f,A),mt!=null&&z.push(Qf(f,mt,it)))),f=f.return}z.length!==0&&o.push({event:c,listeners:z})}var jU=/\r\n?/g,BU=/\u0000|\uFFFD/g;function JO(o){return(typeof o=="string"?o:""+o).replace(jU,`
`).replace(BU,"")}function tP(o,c){return c=JO(c),JO(o)===c}function nv(){}function Ne(o,c,f,g,b,A){switch(f){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||Cu(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&Cu(o,""+g);break;case"className":oy(o,"class",g);break;case"tabIndex":oy(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":oy(o,f,g);break;case"style":nM(o,g,A);break;case"data":if(c!=="object"){oy(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||f!=="href")){o.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=uy(""+g),o.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(f==="formAction"?(c!=="input"&&Ne(o,c,"name",b.name,b,null),Ne(o,c,"formEncType",b.formEncType,b,null),Ne(o,c,"formMethod",b.formMethod,b,null),Ne(o,c,"formTarget",b.formTarget,b,null)):(Ne(o,c,"encType",b.encType,b,null),Ne(o,c,"method",b.method,b,null),Ne(o,c,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(f);break}g=uy(""+g),o.setAttribute(f,g);break;case"onClick":g!=null&&(o.onclick=nv);break;case"onScroll":g!=null&&be("scroll",o);break;case"onScrollEnd":g!=null&&be("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(f=g.__html,f!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}f=uy(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""+g):o.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,""):o.removeAttribute(f);break;case"capture":case"download":g===!0?o.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(f,g):o.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(f,g):o.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(f):o.setAttribute(f,g);break;case"popover":be("beforetoggle",o),be("toggle",o),ay(o,"popover",g);break;case"xlinkActuate":sa(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":sa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":sa(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":sa(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":sa(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":sa(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":sa(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":sa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":sa(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ay(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=gz.get(f)||f,ay(o,f,g))}}function HS(o,c,f,g,b,A){switch(f){case"style":nM(o,g,A);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(f=g.__html,f!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=f}}break;case"children":typeof g=="string"?Cu(o,g):(typeof g=="number"||typeof g=="bigint")&&Cu(o,""+g);break;case"onScroll":g!=null&&be("scroll",o);break;case"onScrollEnd":g!=null&&be("scrollend",o);break;case"onClick":g!=null&&(o.onclick=nv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!VR.hasOwnProperty(f))t:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),c=f.slice(2,b?f.length-7:void 0),A=o[Bi]||null,A=A!=null?A[f]:null,typeof A=="function"&&o.removeEventListener(c,A,b),typeof g=="function")){typeof A!="function"&&A!==null&&(f in o?o[f]=null:o.hasAttribute(f)&&o.removeAttribute(f)),o.addEventListener(c,g,b);break t}f in o?o[f]=g:g===!0?o.setAttribute(f,""):ay(o,f,g)}}}function Qn(o,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",o),be("load",o);var g=!1,b=!1,A;for(A in f)if(f.hasOwnProperty(A)){var z=f[A];if(z!=null)switch(A){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ne(o,c,A,z,f,null)}}b&&Ne(o,c,"srcSet",f.srcSet,f,null),g&&Ne(o,c,"src",f.src,f,null);return;case"input":be("invalid",o);var q=A=z=b=null,it=null,mt=null;for(g in f)if(f.hasOwnProperty(g)){var xt=f[g];if(xt!=null)switch(g){case"name":b=xt;break;case"type":z=xt;break;case"checked":it=xt;break;case"defaultChecked":mt=xt;break;case"value":A=xt;break;case"defaultValue":q=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,c));break;default:Ne(o,c,g,xt,f,null)}}ZR(o,A,q,it,mt,z,b,!1),ly(o);return;case"select":be("invalid",o),g=z=A=null;for(b in f)if(f.hasOwnProperty(b)&&(q=f[b],q!=null))switch(b){case"value":A=q;break;case"defaultValue":z=q;break;case"multiple":g=q;default:Ne(o,c,b,q,f,null)}c=A,f=z,o.multiple=!!g,c!=null?Tu(o,!!g,c,!1):f!=null&&Tu(o,!!g,f,!0);return;case"textarea":be("invalid",o),A=b=g=null;for(z in f)if(f.hasOwnProperty(z)&&(q=f[z],q!=null))switch(z){case"value":g=q;break;case"defaultValue":b=q;break;case"children":A=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(91));break;default:Ne(o,c,z,q,f,null)}tM(o,g,b,A),ly(o);return;case"option":for(it in f)if(f.hasOwnProperty(it)&&(g=f[it],g!=null))switch(it){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ne(o,c,it,g,f,null)}return;case"dialog":be("beforetoggle",o),be("toggle",o),be("cancel",o),be("close",o);break;case"iframe":case"object":be("load",o);break;case"video":case"audio":for(g=0;g<Kf.length;g++)be(Kf[g],o);break;case"image":be("error",o),be("load",o);break;case"details":be("toggle",o);break;case"embed":case"source":case"link":be("error",o),be("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(mt in f)if(f.hasOwnProperty(mt)&&(g=f[mt],g!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ne(o,c,mt,g,f,null)}return;default:if(sA(c)){for(xt in f)f.hasOwnProperty(xt)&&(g=f[xt],g!==void 0&&HS(o,c,xt,g,f,void 0));return}}for(q in f)f.hasOwnProperty(q)&&(g=f[q],g!=null&&Ne(o,c,q,g,f,null))}function zU(o,c,f,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,A=null,z=null,q=null,it=null,mt=null,xt=null;for(vt in f){var kt=f[vt];if(f.hasOwnProperty(vt)&&kt!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":it=kt;default:g.hasOwnProperty(vt)||Ne(o,c,vt,null,g,kt)}}for(var yt in g){var vt=g[yt];if(kt=f[yt],g.hasOwnProperty(yt)&&(vt!=null||kt!=null))switch(yt){case"type":A=vt;break;case"name":b=vt;break;case"checked":mt=vt;break;case"defaultChecked":xt=vt;break;case"value":z=vt;break;case"defaultValue":q=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(n(137,c));break;default:vt!==kt&&Ne(o,c,yt,vt,g,kt)}}nA(o,z,q,it,mt,xt,A,b);return;case"select":vt=z=q=yt=null;for(A in f)if(it=f[A],f.hasOwnProperty(A)&&it!=null)switch(A){case"value":break;case"multiple":vt=it;default:g.hasOwnProperty(A)||Ne(o,c,A,null,g,it)}for(b in g)if(A=g[b],it=f[b],g.hasOwnProperty(b)&&(A!=null||it!=null))switch(b){case"value":yt=A;break;case"defaultValue":q=A;break;case"multiple":z=A;default:A!==it&&Ne(o,c,b,A,g,it)}c=q,f=z,g=vt,yt!=null?Tu(o,!!f,yt,!1):!!g!=!!f&&(c!=null?Tu(o,!!f,c,!0):Tu(o,!!f,f?[]:"",!1));return;case"textarea":vt=yt=null;for(q in f)if(b=f[q],f.hasOwnProperty(q)&&b!=null&&!g.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Ne(o,c,q,null,g,b)}for(z in g)if(b=g[z],A=f[z],g.hasOwnProperty(z)&&(b!=null||A!=null))switch(z){case"value":yt=b;break;case"defaultValue":vt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==A&&Ne(o,c,z,b,g,A)}JR(o,yt,vt);return;case"option":for(var ie in f)if(yt=f[ie],f.hasOwnProperty(ie)&&yt!=null&&!g.hasOwnProperty(ie))switch(ie){case"selected":o.selected=!1;break;default:Ne(o,c,ie,null,g,yt)}for(it in g)if(yt=g[it],vt=f[it],g.hasOwnProperty(it)&&yt!==vt&&(yt!=null||vt!=null))switch(it){case"selected":o.selected=yt&&typeof yt!="function"&&typeof yt!="symbol";break;default:Ne(o,c,it,yt,g,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in f)yt=f[Zt],f.hasOwnProperty(Zt)&&yt!=null&&!g.hasOwnProperty(Zt)&&Ne(o,c,Zt,null,g,yt);for(mt in g)if(yt=g[mt],vt=f[mt],g.hasOwnProperty(mt)&&yt!==vt&&(yt!=null||vt!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(n(137,c));break;default:Ne(o,c,mt,yt,g,vt)}return;default:if(sA(c)){for(var Ie in f)yt=f[Ie],f.hasOwnProperty(Ie)&&yt!==void 0&&!g.hasOwnProperty(Ie)&&HS(o,c,Ie,void 0,g,yt);for(xt in g)yt=g[xt],vt=f[xt],!g.hasOwnProperty(xt)||yt===vt||yt===void 0&&vt===void 0||HS(o,c,xt,yt,g,vt);return}}for(var dt in f)yt=f[dt],f.hasOwnProperty(dt)&&yt!=null&&!g.hasOwnProperty(dt)&&Ne(o,c,dt,null,g,yt);for(kt in g)yt=g[kt],vt=f[kt],!g.hasOwnProperty(kt)||yt===vt||yt==null&&vt==null||Ne(o,c,kt,yt,g,vt)}var $S=null,WS=null;function iv(o){return o.nodeType===9?o:o.ownerDocument}function eP(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nP(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function VS(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var GS=null;function UU(){var o=window.event;return o&&o.type==="popstate"?o===GS?!1:(GS=o,!0):(GS=null,!1)}var iP=typeof setTimeout=="function"?setTimeout:void 0,HU=typeof clearTimeout=="function"?clearTimeout:void 0,sP=typeof Promise=="function"?Promise:void 0,$U=typeof queueMicrotask=="function"?queueMicrotask:typeof sP<"u"?function(o){return sP.resolve(null).then(o).catch(WU)}:iP;function WU(o){setTimeout(function(){throw o})}function Ro(o){return o==="head"}function rP(o,c){var f=c,g=0,b=0;do{var A=f.nextSibling;if(o.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"){if(0<g&&8>g){f=g;var z=o.ownerDocument;if(f&1&&Zf(z.documentElement),f&2&&Zf(z.body),f&4)for(f=z.head,Zf(f),z=f.firstChild;z;){var q=z.nextSibling,it=z.nodeName;z[ff]||it==="SCRIPT"||it==="STYLE"||it==="LINK"&&z.rel.toLowerCase()==="stylesheet"||f.removeChild(z),z=q}}if(b===0){o.removeChild(A),ap(c);return}b--}else f==="$"||f==="$?"||f==="$!"?b++:g=f.charCodeAt(0)-48;else g=0;f=A}while(f);ap(c)}function qS(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":qS(f),Z_(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}o.removeChild(f)}}function VU(o,c,f,g){for(;o.nodeType===1;){var b=f;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[ff])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(A=o.getAttribute("rel"),A==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(A!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(A=o.getAttribute("src"),(A!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&A&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var A=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===A)return o}else return o;if(o=Js(o.nextSibling),o===null)break}return null}function GU(o,c,f){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!f||(o=Js(o.nextSibling),o===null))return null;return o}function YS(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function qU(o,c){var f=o.ownerDocument;if(o.data!=="$?"||f.readyState==="complete")c();else{var g=function(){c(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function Js(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var XS=null;function aP(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}function oP(o,c,f){switch(c=iv(f),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function Zf(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Z_(o)}var Ds=new Map,lP=new Set;function sv(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var va=T.d;T.d={f:YU,r:XU,D:KU,C:QU,L:ZU,m:JU,X:e8,S:t8,M:n8};function YU(){var o=va.f(),c=Xy();return o||c}function XU(o){var c=Au(o);c!==null&&c.tag===5&&c.type==="form"?kL(c):va.r(o)}var nh=typeof document>"u"?null:document;function cP(o,c,f){var g=nh;if(g&&typeof c=="string"&&c){var b=Cs(c);b='link[rel="'+o+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),lP.has(b)||(lP.add(b),o={rel:o,crossOrigin:f,href:c},g.querySelector(b)===null&&(c=g.createElement("link"),Qn(c,"link",o),Nn(c),g.head.appendChild(c)))}}function KU(o){va.D(o),cP("dns-prefetch",o,null)}function QU(o,c){va.C(o,c),cP("preconnect",o,c)}function ZU(o,c,f){va.L(o,c,f);var g=nh;if(g&&o&&c){var b='link[rel="preload"][as="'+Cs(c)+'"]';c==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+Cs(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+Cs(f.imageSizes)+'"]')):b+='[href="'+Cs(o)+'"]';var A=b;switch(c){case"style":A=ih(o);break;case"script":A=sh(o)}Ds.has(A)||(o=h({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:o,as:c},f),Ds.set(A,o),g.querySelector(b)!==null||c==="style"&&g.querySelector(Jf(A))||c==="script"&&g.querySelector(tp(A))||(c=g.createElement("link"),Qn(c,"link",o),Nn(c),g.head.appendChild(c)))}}function JU(o,c){va.m(o,c);var f=nh;if(f&&o){var g=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+Cs(g)+'"][href="'+Cs(o)+'"]',A=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=sh(o)}if(!Ds.has(A)&&(o=h({rel:"modulepreload",href:o},c),Ds.set(A,o),f.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(tp(A)))return}g=f.createElement("link"),Qn(g,"link",o),Nn(g),f.head.appendChild(g)}}}function t8(o,c,f){va.S(o,c,f);var g=nh;if(g&&o){var b=Su(g).hoistableStyles,A=ih(o);c=c||"default";var z=b.get(A);if(!z){var q={loading:0,preload:null};if(z=g.querySelector(Jf(A)))q.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":c},f),(f=Ds.get(A))&&KS(o,f);var it=z=g.createElement("link");Nn(it),Qn(it,"link",o),it._p=new Promise(function(mt,xt){it.onload=mt,it.onerror=xt}),it.addEventListener("load",function(){q.loading|=1}),it.addEventListener("error",function(){q.loading|=2}),q.loading|=4,rv(z,c,g)}z={type:"stylesheet",instance:z,count:1,state:q},b.set(A,z)}}}function e8(o,c){va.X(o,c);var f=nh;if(f&&o){var g=Su(f).hoistableScripts,b=sh(o),A=g.get(b);A||(A=f.querySelector(tp(b)),A||(o=h({src:o,async:!0},c),(c=Ds.get(b))&&QS(o,c),A=f.createElement("script"),Nn(A),Qn(A,"link",o),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(b,A))}}function n8(o,c){va.M(o,c);var f=nh;if(f&&o){var g=Su(f).hoistableScripts,b=sh(o),A=g.get(b);A||(A=f.querySelector(tp(b)),A||(o=h({src:o,async:!0,type:"module"},c),(c=Ds.get(b))&&QS(o,c),A=f.createElement("script"),Nn(A),Qn(A,"link",o),f.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},g.set(b,A))}}function uP(o,c,f,g){var b=(b=lt.current)?sv(b):null;if(!b)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=ih(f.href),f=Su(b).hoistableStyles,g=f.get(c),g||(g={type:"style",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){o=ih(f.href);var A=Su(b).hoistableStyles,z=A.get(o);if(z||(b=b.ownerDocument||b,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(o,z),(A=b.querySelector(Jf(o)))&&!A._p&&(z.instance=A,z.state.loading=5),Ds.has(o)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Ds.set(o,f),A||i8(b,o,f,z.state))),c&&g===null)throw Error(n(528,""));return z}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=sh(f),f=Su(b).hoistableScripts,g=f.get(c),g||(g={type:"script",instance:null,count:0,state:null},f.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function ih(o){return'href="'+Cs(o)+'"'}function Jf(o){return'link[rel="stylesheet"]['+o+"]"}function hP(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function i8(o,c,f,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Qn(c,"link",f),Nn(c),o.head.appendChild(c))}function sh(o){return'[src="'+Cs(o)+'"]'}function tp(o){return"script[async]"+o}function dP(o,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+Cs(f.href)+'"]');if(g)return c.instance=g,Nn(g),g;var b=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Nn(g),Qn(g,"style",b),rv(g,f.precedence,o),c.instance=g;case"stylesheet":b=ih(f.href);var A=o.querySelector(Jf(b));if(A)return c.state.loading|=4,c.instance=A,Nn(A),A;g=hP(f),(b=Ds.get(b))&&KS(g,b),A=(o.ownerDocument||o).createElement("link"),Nn(A);var z=A;return z._p=new Promise(function(q,it){z.onload=q,z.onerror=it}),Qn(A,"link",g),c.state.loading|=4,rv(A,f.precedence,o),c.instance=A;case"script":return A=sh(f.src),(b=o.querySelector(tp(A)))?(c.instance=b,Nn(b),b):(g=f,(b=Ds.get(A))&&(g=h({},f),QS(g,b)),o=o.ownerDocument||o,b=o.createElement("script"),Nn(b),Qn(b,"link",g),o.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,rv(g,f.precedence,o));return c.instance}function rv(o,c,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,A=b,z=0;z<g.length;z++){var q=g[z];if(q.dataset.precedence===c)A=q;else if(A!==b)break}A?A.parentNode.insertBefore(o,A.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(o,c.firstChild))}function KS(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function QS(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var av=null;function fP(o,c,f){if(av===null){var g=new Map,b=av=new Map;b.set(f,g)}else b=av,g=b.get(f),g||(g=new Map,b.set(f,g));if(g.has(o))return g;for(g.set(o,null),f=f.getElementsByTagName(o),b=0;b<f.length;b++){var A=f[b];if(!(A[ff]||A[oi]||o==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var z=A.getAttribute(c)||"";z=o+z;var q=g.get(z);q?q.push(A):g.set(z,[A])}}return g}function pP(o,c,f){o=o.ownerDocument||o,o.head.insertBefore(f,c==="title"?o.querySelector("head > title"):null)}function s8(o,c,f){if(f===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function gP(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var ep=null;function r8(){}function a8(o,c,f){if(ep===null)throw Error(n(475));var g=ep;if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=ih(f.href),A=o.querySelector(Jf(b));if(A){o=A._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=ov.bind(g),o.then(g,g)),c.state.loading|=4,c.instance=A,Nn(A);return}A=o.ownerDocument||o,f=hP(f),(b=Ds.get(b))&&KS(f,b),A=A.createElement("link"),Nn(A);var z=A;z._p=new Promise(function(q,it){z.onload=q,z.onerror=it}),Qn(A,"link",f),c.instance=A}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=ov.bind(g),o.addEventListener("load",c),o.addEventListener("error",c))}}function o8(){if(ep===null)throw Error(n(475));var o=ep;return o.stylesheets&&o.count===0&&ZS(o,o.stylesheets),0<o.count?function(c){var f=setTimeout(function(){if(o.stylesheets&&ZS(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(f)}}:null}function ov(){if(this.count--,this.count===0){if(this.stylesheets)ZS(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var lv=null;function ZS(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,lv=new Map,c.forEach(l8,o),lv=null,ov.call(o))}function l8(o,c){if(!(c.state.loading&4)){var f=lv.get(o);if(f)var g=f.get(null);else{f=new Map,lv.set(o,f);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<b.length;A++){var z=b[A];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(f.set(z.dataset.precedence,z),g=z)}g&&f.set(null,g)}b=c.instance,z=b.getAttribute("data-precedence"),A=f.get(z)||g,A===g&&f.set(null,b),f.set(z,b),this.count++,g=ov.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),A?A.parentNode.insertBefore(b,A.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),c.state.loading|=4}}var np={$$typeof:L,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function c8(o,c,f,g,b,A,z,q){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=A,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function mP(o,c,f,g,b,A,z,q,it,mt,xt,kt){return o=new c8(o,c,f,z,q,it,mt,kt),c=1,A===!0&&(c|=24),A=cs(3,null,null,c),o.current=A,A.stateNode=o,c=PA(),c.refCount++,o.pooledCache=c,c.refCount++,A.memoizedState={element:g,isDehydrated:f,cache:c},FA(A),o}function yP(o){return o?(o=Nu,o):Nu}function vP(o,c,f,g,b,A){b=yP(b),g.context===null?g.context=b:g.pendingContext=b,g=mo(c),g.payload={element:f},A=A===void 0?null:A,A!==null&&(g.callback=A),f=yo(o,g,c),f!==null&&(ps(f,o,c),Of(f,o,c))}function bP(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function JS(o,c){bP(o,c),(o=o.alternate)&&bP(o,c)}function wP(o){if(o.tag===13){var c=Du(o,67108864);c!==null&&ps(c,o,67108864),JS(o,67108864)}}var cv=!0;function u8(o,c,f,g){var b=$.T;$.T=null;var A=T.p;try{T.p=2,tx(o,c,f,g)}finally{T.p=A,$.T=b}}function h8(o,c,f,g){var b=$.T;$.T=null;var A=T.p;try{T.p=8,tx(o,c,f,g)}finally{T.p=A,$.T=b}}function tx(o,c,f,g){if(cv){var b=ex(g);if(b===null)US(o,c,g,uv,f),AP(o,g);else if(f8(b,o,c,f,g))g.stopPropagation();else if(AP(o,g),c&4&&-1<d8.indexOf(o)){for(;b!==null;){var A=Au(b);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var z=At(A.pendingLanes);if(z!==0){var q=A;for(q.pendingLanes|=2,q.entangledLanes|=2;z;){var it=1<<31-ne(z);q.entanglements[1]|=it,z&=~it}xr(A),(Oe&6)===0&&(qy=Nt()+500,Xf(0))}}break;case 13:q=Du(A,2),q!==null&&ps(q,A,2),Xy(),JS(A,2)}if(A=ex(g),A===null&&US(o,c,g,uv,f),A===b)break;b=A}b!==null&&g.stopPropagation()}else US(o,c,g,null,f)}}function ex(o){return o=aA(o),nx(o)}var uv=null;function nx(o){if(uv=null,o=_u(o),o!==null){var c=r(o);if(c===null)o=null;else{var f=c.tag;if(f===13){if(o=a(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return uv=o,null}function _P(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case Qt:return 2;case tt:return 8;case ot:case pt:return 32;case Mt:return 268435456;default:return 32}default:return 32}}var ix=!1,Mo=null,Lo=null,Oo=null,ip=new Map,sp=new Map,Po=[],d8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AP(o,c){switch(o){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":ip.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":sp.delete(c.pointerId)}}function rp(o,c,f,g,b,A){return o===null||o.nativeEvent!==A?(o={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:A,targetContainers:[b]},c!==null&&(c=Au(c),c!==null&&wP(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function f8(o,c,f,g,b){switch(c){case"focusin":return Mo=rp(Mo,o,c,f,g,b),!0;case"dragenter":return Lo=rp(Lo,o,c,f,g,b),!0;case"mouseover":return Oo=rp(Oo,o,c,f,g,b),!0;case"pointerover":var A=b.pointerId;return ip.set(A,rp(ip.get(A)||null,o,c,f,g,b)),!0;case"gotpointercapture":return A=b.pointerId,sp.set(A,rp(sp.get(A)||null,o,c,f,g,b)),!0}return!1}function SP(o){var c=_u(o.target);if(c!==null){var f=r(c);if(f!==null){if(c=f.tag,c===13){if(c=a(f),c!==null){o.blockedOn=c,az(o.priority,function(){if(f.tag===13){var g=fs();g=X_(g);var b=Du(f,g);b!==null&&ps(b,f,g),JS(f,g)}});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function hv(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=ex(o.nativeEvent);if(f===null){f=o.nativeEvent;var g=new f.constructor(f.type,f);rA=g,f.target.dispatchEvent(g),rA=null}else return c=Au(f),c!==null&&wP(c),o.blockedOn=f,!1;c.shift()}return!0}function xP(o,c,f){hv(o)&&f.delete(c)}function p8(){ix=!1,Mo!==null&&hv(Mo)&&(Mo=null),Lo!==null&&hv(Lo)&&(Lo=null),Oo!==null&&hv(Oo)&&(Oo=null),ip.forEach(xP),sp.forEach(xP)}function dv(o,c){o.blockedOn===c&&(o.blockedOn=null,ix||(ix=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,p8)))}var fv=null;function EP(o){fv!==o&&(fv=o,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fv===o&&(fv=null);for(var c=0;c<o.length;c+=3){var f=o[c],g=o[c+1],b=o[c+2];if(typeof g!="function"){if(nx(g||f)===null)continue;break}var A=Au(f);A!==null&&(o.splice(c,3),c-=3,nS(A,{pending:!0,data:b,method:f.method,action:g},g,b))}}))}function ap(o){function c(it){return dv(it,o)}Mo!==null&&dv(Mo,o),Lo!==null&&dv(Lo,o),Oo!==null&&dv(Oo,o),ip.forEach(c),sp.forEach(c);for(var f=0;f<Po.length;f++){var g=Po[f];g.blockedOn===o&&(g.blockedOn=null)}for(;0<Po.length&&(f=Po[0],f.blockedOn===null);)SP(f),f.blockedOn===null&&Po.shift();if(f=(o.ownerDocument||o).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var b=f[g],A=f[g+1],z=b[Bi]||null;if(typeof A=="function")z||EP(f);else if(z){var q=null;if(A&&A.hasAttribute("formAction")){if(b=A,z=A[Bi]||null)q=z.formAction;else if(nx(b)!==null)continue}else q=z.action;typeof q=="function"?f[g+1]=q:(f.splice(g,3),g-=3),EP(f)}}}function sx(o){this._internalRoot=o}pv.prototype.render=sx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,g=fs();vP(f,g,o,c,null,null)},pv.prototype.unmount=sx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;vP(o.current,2,null,o,null,null),Xy(),c[wu]=null}};function pv(o){this._internalRoot=o}pv.prototype.unstable_scheduleHydration=function(o){if(o){var c=HR();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Po.length&&c!==0&&c<Po[f].priority;f++);Po.splice(f,0,o),f===0&&SP(o)}};var TP=t.version;if(TP!=="19.1.1")throw Error(n(527,TP,"19.1.1"));T.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=u(c),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var g8={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{jt=gv.inject(g8),Bt=gv}catch{}}return lp.createRoot=function(o,c){if(!s(o))throw Error(n(299));var f=!1,g="",b=HL,A=$L,z=WL,q=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks)),c=mP(o,1,!1,null,null,f,g,b,A,z,q,null),o[wu]=c.current,zS(o),new sx(c)},lp.hydrateRoot=function(o,c,f){if(!s(o))throw Error(n(299));var g=!1,b="",A=HL,z=$L,q=WL,it=null,mt=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(A=f.onUncaughtError),f.onCaughtError!==void 0&&(z=f.onCaughtError),f.onRecoverableError!==void 0&&(q=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(it=f.unstable_transitionCallbacks),f.formState!==void 0&&(mt=f.formState)),c=mP(o,1,!0,c,f??null,g,b,A,z,q,it,mt),c.context=yP(null),f=c.current,g=fs(),g=X_(g),b=mo(g),b.callback=null,yo(f,b,g),f=g,c.current.lanes=f,df(c,f),xr(c),o[wu]=c.current,zS(o),new pv(c)},lp.version="19.1.1",lp}var jP;function T8(){if(jP)return lx.exports;jP=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),lx.exports=E8(),lx.exports}var C8=T8();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BP="popstate";function k8(i={}){function t(n,s){let{pathname:r,search:a,hash:l}=n.location;return DE("",{pathname:r,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(n,s){return typeof s=="string"?s:vm(s)}return M8(t,e,null,i)}function tn(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function fr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R8(){return Math.random().toString(36).substring(2,10)}function zP(i,t){return{usr:i.state,key:i.key,idx:t}}function DE(i,t,e=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?tf(t):t,state:e,key:t&&t.key||n||R8()}}function vm({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function tf(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let n=i.indexOf("?");n>=0&&(t.search=i.substring(n),i=i.substring(0,n)),i&&(t.pathname=i)}return t}function M8(i,t,e,n={}){let{window:s=document.defaultView,v5Compat:r=!1}=n,a=s.history,l="POP",u=null,d=h();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function h(){return(a.state||{idx:null}).idx}function p(){l="POP";let S=h(),x=S==null?null:S-d;d=S,u&&u({action:l,location:w.location,delta:x})}function m(S,x){l="PUSH";let C=DE(w.location,S,x);d=h()+1;let L=zP(C,d),j=w.createHref(C);try{a.pushState(L,"",j)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(j)}r&&u&&u({action:l,location:w.location,delta:1})}function v(S,x){l="REPLACE";let C=DE(w.location,S,x);d=h();let L=zP(C,d),j=w.createHref(C);a.replaceState(L,"",j),r&&u&&u({action:l,location:w.location,delta:0})}function _(S){return L8(S)}let w={get action(){return l},get location(){return i(s,a)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(BP,p),u=S,()=>{s.removeEventListener(BP,p),u=null}},createHref(S){return t(s,S)},createURL:_,encodeLocation(S){let x=_(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:v,go(S){return a.go(S)}};return w}function L8(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),tn(e,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:vm(i);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function DF(i,t,e="/"){return O8(i,t,e,!1)}function O8(i,t,e,n){let s=typeof t=="string"?tf(t):t,r=no(s.pathname||"/",e);if(r==null)return null;let a=NF(i);P8(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let d=W8(r);l=H8(a[u],d,n)}return l}function NF(i,t=[],e=[],n="",s=!1){let r=(a,l,u=s,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&u)return;tn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let p=Za([n,h.relativePath]),m=e.concat(h);a.children&&a.children.length>0&&(tn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),NF(a.children,t,m,p,u)),!(a.path==null&&!a.index)&&t.push({path:p,score:z8(p,a.index),routesMeta:m})};return i.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))r(a,l);else for(let u of IF(a.path))r(a,l,!0,u)}),t}function IF(i){let t=i.split("/");if(t.length===0)return[];let[e,...n]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let a=IF(n.join("/")),l=[];return l.push(...a.map(u=>u===""?r:[r,u].join("/"))),s&&l.push(...a),l.map(u=>i.startsWith("/")&&u===""?"/":u)}function P8(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:U8(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var D8=/^:[\w-]+$/,N8=3,I8=2,F8=1,j8=10,B8=-2,UP=i=>i==="*";function z8(i,t){let e=i.split("/"),n=e.length;return e.some(UP)&&(n+=B8),t&&(n+=I8),e.filter(s=>!UP(s)).reduce((s,r)=>s+(D8.test(r)?N8:r===""?F8:j8),n)}function U8(i,t){return i.length===t.length&&i.slice(0,-1).every((n,s)=>n===t[s])?i[i.length-1]-t[t.length-1]:0}function H8(i,t,e=!1){let{routesMeta:n}=i,s={},r="/",a=[];for(let l=0;l<n.length;++l){let u=n[l],d=l===n.length-1,h=r==="/"?t:t.slice(r.length)||"/",p=Ew({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),m=u.route;if(!p&&d&&e&&!n[n.length-1].route.index&&(p=Ew({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Za([r,p.pathname]),pathnameBase:Y8(Za([r,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(r=Za([r,p.pathnameBase]))}return a}function Ew(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,n]=$8(i.path,i.caseSensitive,i.end),s=t.match(e);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:p},m)=>{if(h==="*"){let _=l[m]||"";a=r.slice(0,r.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[m];return p&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:a,pattern:i}}function $8(i,t=!1,e=!0){fr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function W8(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function no(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=i.charAt(e);return n&&n!=="/"?null:i.slice(e)||"/"}function V8(i,t="/"){let{pathname:e,search:n="",hash:s=""}=typeof i=="string"?tf(i):i;return{pathname:e?e.startsWith("/")?e:G8(e,t):t,search:X8(n),hash:K8(s)}}function G8(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function dx(i,t,e,n){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q8(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function f2(i){let t=q8(i);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function p2(i,t,e,n=!1){let s;typeof i=="string"?s=tf(i):(s={...i},tn(!s.pathname||!s.pathname.includes("?"),dx("?","pathname","search",s)),tn(!s.pathname||!s.pathname.includes("#"),dx("#","pathname","hash",s)),tn(!s.search||!s.search.includes("#"),dx("#","search","hash",s)));let r=i===""||s.pathname==="",a=r?"/":s.pathname,l;if(a==null)l=e;else{let p=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}l=p>=0?t[p]:"/"}let u=V8(s,l),d=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&e.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var Za=i=>i.join("/").replace(/\/\/+/g,"/"),Y8=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),X8=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,K8=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Q8(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var FF=["POST","PUT","PATCH","DELETE"];new Set(FF);var Z8=["GET",...FF];new Set(Z8);var ef=V.createContext(null);ef.displayName="DataRouter";var V1=V.createContext(null);V1.displayName="DataRouterState";V.createContext(!1);var jF=V.createContext({isTransitioning:!1});jF.displayName="ViewTransition";var J8=V.createContext(new Map);J8.displayName="Fetchers";var tH=V.createContext(null);tH.displayName="Await";var yr=V.createContext(null);yr.displayName="Navigation";var Lm=V.createContext(null);Lm.displayName="Location";var vr=V.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var g2=V.createContext(null);g2.displayName="RouteError";function eH(i,{relative:t}={}){tn(nf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=V.useContext(yr),{hash:s,pathname:r,search:a}=Pm(i,{relative:t}),l=r;return e!=="/"&&(l=r==="/"?e:Za([e,r])),n.createHref({pathname:l,search:a,hash:s})}function nf(){return V.useContext(Lm)!=null}function Al(){return tn(nf(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Lm).location}var BF="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zF(i){V.useContext(yr).static||V.useLayoutEffect(i)}function Om(){let{isDataRoute:i}=V.useContext(vr);return i?gH():nH()}function nH(){tn(nf(),"useNavigate() may be used only in the context of a <Router> component.");let i=V.useContext(ef),{basename:t,navigator:e}=V.useContext(yr),{matches:n}=V.useContext(vr),{pathname:s}=Al(),r=JSON.stringify(f2(n)),a=V.useRef(!1);return zF(()=>{a.current=!0}),V.useCallback((u,d={})=>{if(fr(a.current,BF),!a.current)return;if(typeof u=="number"){e.go(u);return}let h=p2(u,JSON.parse(r),s,d.relative==="path");i==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Za([t,h.pathname])),(d.replace?e.replace:e.push)(h,d.state,d)},[t,e,r,s,i])}V.createContext(null);function iH(){let{matches:i}=V.useContext(vr),t=i[i.length-1];return t?t.params:{}}function Pm(i,{relative:t}={}){let{matches:e}=V.useContext(vr),{pathname:n}=Al(),s=JSON.stringify(f2(e));return V.useMemo(()=>p2(i,JSON.parse(s),n,t==="path"),[i,s,n,t])}function sH(i,t){return UF(i,t)}function UF(i,t,e,n,s){tn(nf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(yr),{matches:a}=V.useContext(vr),l=a[a.length-1],u=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let C=p&&p.path||"";HF(d,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let m=Al(),v;if(t){let C=typeof t=="string"?tf(t):t;tn(h==="/"||C.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),v=C}else v=m;let _=v.pathname||"/",w=_;if(h!=="/"){let C=h.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=DF(i,{pathname:w});fr(p||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),fr(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=cH(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Za([h,r.encodeLocation?r.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:Za([h,r.encodeLocation?r.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),a,e,n,s);return t&&x?V.createElement(Lm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},x):x}function rH(){let i=pH(),t=Q8(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},r={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",i),a=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:r},"ErrorBoundary")," or"," ",V.createElement("code",{style:r},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),e?V.createElement("pre",{style:s},e):null,a)}var aH=V.createElement(rH,null),oH=class extends V.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.unstable_onError?this.props.unstable_onError(i,t):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?V.createElement(vr.Provider,{value:this.props.routeContext},V.createElement(g2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lH({routeContext:i,match:t,children:e}){let n=V.useContext(ef);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(vr.Provider,{value:i},e)}function cH(i,t=[],e=null,n=null,s=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let r=i,a=e?.errors;if(a!=null){let d=r.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);tn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,d+1))}let l=!1,u=-1;if(e)for(let d=0;d<r.length;d++){let h=r[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:m}=e,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((d,h,p)=>{let m,v=!1,_=null,w=null;e&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||aH,l&&(u<0&&p===0?(HF("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):u===p&&(v=!0,w=h.route.hydrateFallbackElement||null)));let S=t.concat(r.slice(0,p+1)),x=()=>{let C;return m?C=_:v?C=w:h.route.Component?C=V.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,V.createElement(lH,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:e!=null},children:C})};return e&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?V.createElement(oH,{location:e.location,revalidation:e.revalidation,component:_,error:m,children:x(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:n}):x()},null)}function m2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uH(i){let t=V.useContext(ef);return tn(t,m2(i)),t}function hH(i){let t=V.useContext(V1);return tn(t,m2(i)),t}function dH(i){let t=V.useContext(vr);return tn(t,m2(i)),t}function y2(i){let t=dH(i),e=t.matches[t.matches.length-1];return tn(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function fH(){return y2("useRouteId")}function pH(){let i=V.useContext(g2),t=hH("useRouteError"),e=y2("useRouteError");return i!==void 0?i:t.errors?.[e]}function gH(){let{router:i}=uH("useNavigate"),t=y2("useNavigate"),e=V.useRef(!1);return zF(()=>{e.current=!0}),V.useCallback(async(s,r={})=>{fr(e.current,BF),e.current&&(typeof s=="number"?i.navigate(s):await i.navigate(s,{fromRouteId:t,...r}))},[i,t])}var HP={};function HF(i,t,e){!t&&!HP[i]&&(HP[i]=!0,fr(!1,e))}V.memo(mH);function mH({routes:i,future:t,state:e,unstable_onError:n}){return UF(i,void 0,e,n,t)}function $F({to:i,replace:t,state:e,relative:n}){tn(nf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=V.useContext(yr);fr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=V.useContext(vr),{pathname:a}=Al(),l=Om(),u=p2(i,f2(r),a,n==="path"),d=JSON.stringify(u);return V.useEffect(()=>{l(JSON.parse(d),{replace:t,state:e,relative:n})},[l,d,n,t,e]),null}function nc(i){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yH({basename:i="/",children:t=null,location:e,navigationType:n="POP",navigator:s,static:r=!1}){tn(!nf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=i.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:a,navigator:s,static:r,future:{}}),[a,s,r]);typeof e=="string"&&(e=tf(e));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=e,v=V.useMemo(()=>{let _=no(u,a);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:n}},[a,u,d,h,p,m,n]);return fr(v!=null,`<Router basename="${a}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:V.createElement(yr.Provider,{value:l},V.createElement(Lm.Provider,{children:t,value:v}))}function vH({children:i,location:t}){return sH(NE(i),t)}function NE(i,t=[]){let e=[];return V.Children.forEach(i,(n,s)=>{if(!V.isValidElement(n))return;let r=[...t,s];if(n.type===V.Fragment){e.push.apply(e,NE(n.props.children,r));return}tn(n.type===nc,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=NE(n.props.children,r)),e.push(a)}),e}var d0="get",f0="application/x-www-form-urlencoded";function G1(i){return i!=null&&typeof i.tagName=="string"}function bH(i){return G1(i)&&i.tagName.toLowerCase()==="button"}function wH(i){return G1(i)&&i.tagName.toLowerCase()==="form"}function _H(i){return G1(i)&&i.tagName.toLowerCase()==="input"}function AH(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function SH(i,t){return i.button===0&&(!t||t==="_self")&&!AH(i)}var yv=null;function xH(){if(yv===null)try{new FormData(document.createElement("form"),0),yv=!1}catch{yv=!0}return yv}var EH=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fx(i){return i!=null&&!EH.has(i)?(fr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${f0}"`),null):i}function TH(i,t){let e,n,s,r,a;if(wH(i)){let l=i.getAttribute("action");n=l?no(l,t):null,e=i.getAttribute("method")||d0,s=fx(i.getAttribute("enctype"))||f0,r=new FormData(i)}else if(bH(i)||_H(i)&&(i.type==="submit"||i.type==="image")){let l=i.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=i.getAttribute("formaction")||l.getAttribute("action");if(n=u?no(u,t):null,e=i.getAttribute("formmethod")||l.getAttribute("method")||d0,s=fx(i.getAttribute("formenctype"))||fx(l.getAttribute("enctype"))||f0,r=new FormData(l,i),!xH()){let{name:d,type:h,value:p}=i;if(h==="image"){let m=d?`${d}.`:"";r.append(`${m}x`,"0"),r.append(`${m}y`,"0")}else d&&r.append(d,p)}}else{if(G1(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=d0,n=null,s=f0,a=i}return r&&s==="text/plain"&&(a=r,r=void 0),{action:n,method:e.toLowerCase(),encType:s,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function v2(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function CH(i,t,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&no(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function kH(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RH(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function MH(i,t,e){let n=await Promise.all(i.map(async s=>{let r=t.routes[s.route.id];if(r){let a=await kH(r,e);return a.links?a.links():[]}return[]}));return DH(n.flat(1).filter(RH).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $P(i,t,e,n,s,r){let a=(u,d)=>e[d]?u.route.id!==e[d].route.id:!0,l=(u,d)=>e[d].pathname!==u.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==u.params["*"];return r==="assets"?t.filter((u,d)=>a(u,d)||l(u,d)):r==="data"?t.filter((u,d)=>{let h=n.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(a(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function LH(i,t,{includeHydrateFallback:e}={}){return OH(i.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function OH(i){return[...new Set(i)]}function PH(i){let t={},e=Object.keys(i).sort();for(let n of e)t[n]=i[n];return t}function DH(i,t){let e=new Set;return new Set(t),i.reduce((n,s)=>{let r=JSON.stringify(PH(s));return e.has(r)||(e.add(r),n.push({key:r,link:s})),n},[])}function WF(){let i=V.useContext(ef);return v2(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function NH(){let i=V.useContext(V1);return v2(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var b2=V.createContext(void 0);b2.displayName="FrameworkContext";function VF(){let i=V.useContext(b2);return v2(i,"You must render this element inside a <HydratedRouter> element"),i}function IH(i,t){let e=V.useContext(b2),[n,s]=V.useState(!1),[r,a]=V.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:p}=t,m=V.useRef(null);V.useEffect(()=>{if(i==="render"&&a(!0),i==="viewport"){let w=x=>{x.forEach(C=>{a(C.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return m.current&&S.observe(m.current),()=>{S.disconnect()}}},[i]),V.useEffect(()=>{if(n){let w=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},_=()=>{s(!1),a(!1)};return e?i!=="intent"?[r,m,{}]:[r,m,{onFocus:cp(l,v),onBlur:cp(u,_),onMouseEnter:cp(d,v),onMouseLeave:cp(h,_),onTouchStart:cp(p,v)}]:[!1,m,{}]}function cp(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function FH({page:i,...t}){let{router:e}=WF(),n=V.useMemo(()=>DF(e.routes,i,e.basename),[e.routes,i,e.basename]);return n?V.createElement(BH,{page:i,matches:n,...t}):null}function jH(i){let{manifest:t,routeModules:e}=VF(),[n,s]=V.useState([]);return V.useEffect(()=>{let r=!1;return MH(i,t,e).then(a=>{r||s(a)}),()=>{r=!0}},[i,t,e]),n}function BH({page:i,matches:t,...e}){let n=Al(),{manifest:s,routeModules:r}=VF(),{basename:a}=WF(),{loaderData:l,matches:u}=NH(),d=V.useMemo(()=>$P(i,t,u,s,n,"data"),[i,t,u,s,n]),h=V.useMemo(()=>$P(i,t,u,s,n,"assets"),[i,t,u,s,n]),p=V.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let _=new Set,w=!1;if(t.forEach(x=>{let C=s.routes[x.route.id];!C||!C.hasLoader||(!d.some(L=>L.route.id===x.route.id)&&x.route.id in l&&r[x.route.id]?.shouldRevalidate||C.hasClientLoader?w=!0:_.add(x.route.id))}),_.size===0)return[];let S=CH(i,a,"data");return w&&_.size>0&&S.searchParams.set("_routes",t.filter(x=>_.has(x.route.id)).map(x=>x.route.id).join(",")),[S.pathname+S.search]},[a,l,n,s,d,t,i,r]),m=V.useMemo(()=>LH(h,s),[h,s]),v=jH(h);return V.createElement(V.Fragment,null,p.map(_=>V.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...e})),m.map(_=>V.createElement("link",{key:_,rel:"modulepreload",href:_,...e})),v.map(({key:_,link:w})=>V.createElement("link",{key:_,nonce:e.nonce,...w})))}function zH(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var GF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GF&&(window.__reactRouterVersion="7.9.3")}catch{}function UH({basename:i,children:t,window:e}){let n=V.useRef();n.current==null&&(n.current=k8({window:e,v5Compat:!0}));let s=n.current,[r,a]=V.useState({action:s.action,location:s.location}),l=V.useCallback(u=>{V.startTransition(()=>a(u))},[a]);return V.useLayoutEffect(()=>s.listen(l),[s,l]),V.createElement(yH,{basename:i,children:t,location:r.location,navigationType:r.action,navigator:s})}var qF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jg=V.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:s,reloadDocument:r,replace:a,state:l,target:u,to:d,preventScrollReset:h,viewTransition:p,...m},v){let{basename:_}=V.useContext(yr),w=typeof d=="string"&&qF.test(d),S,x=!1;if(typeof d=="string"&&w&&(S=d,GF))try{let O=new URL(window.location.href),N=d.startsWith("//")?new URL(O.protocol+d):new URL(d),H=no(N.pathname,_);N.origin===O.origin&&H!=null?d=H+N.search+N.hash:x=!0}catch{fr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=eH(d,{relative:s}),[L,j,R]=IH(n,m),D=VH(d,{replace:a,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});function P(O){t&&t(O),O.defaultPrevented||D(O)}let M=V.createElement("a",{...m,...R,href:S||C,onClick:x||r?t:P,ref:zH(v,j),target:u,"data-discover":!w&&e==="render"?"true":void 0});return L&&!w?V.createElement(V.Fragment,null,M,V.createElement(FH,{page:C})):M});jg.displayName="Link";var HH=V.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:s=!1,style:r,to:a,viewTransition:l,children:u,...d},h){let p=Pm(a,{relative:d.relative}),m=Al(),v=V.useContext(V1),{navigator:_,basename:w}=V.useContext(yr),S=v!=null&&KH(p)&&l===!0,x=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,C=m.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(C=C.toLowerCase(),L=L?L.toLowerCase():null,x=x.toLowerCase()),L&&w&&(L=no(L,w)||L);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let R=C===x||!s&&C.startsWith(x)&&C.charAt(j)==="/",D=L!=null&&(L===x||!s&&L.startsWith(x)&&L.charAt(x.length)==="/"),P={isActive:R,isPending:D,isTransitioning:S},M=R?t:void 0,O;typeof n=="function"?O=n(P):O=[n,R?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N=typeof r=="function"?r(P):r;return V.createElement(jg,{...d,"aria-current":M,className:O,ref:h,style:N,to:a,viewTransition:l},typeof u=="function"?u(P):u)});HH.displayName="NavLink";var $H=V.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:s,state:r,method:a=d0,action:l,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:p,...m},v)=>{let _=YH(),w=XH(l,{relative:d}),S=a.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&qF.test(l),C=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let j=L.nativeEvent.submitter,R=j?.getAttribute("formmethod")||a;_(j||L.currentTarget,{fetcherKey:t,method:R,navigate:e,replace:s,state:r,relative:d,preventScrollReset:h,viewTransition:p})};return V.createElement("form",{ref:v,method:S,action:w,onSubmit:n?u:C,...m,"data-discover":!x&&i==="render"?"true":void 0})});$H.displayName="Form";function WH(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YF(i){let t=V.useContext(ef);return tn(t,WH(i)),t}function VH(i,{target:t,replace:e,state:n,preventScrollReset:s,relative:r,viewTransition:a}={}){let l=Om(),u=Al(),d=Pm(i,{relative:r});return V.useCallback(h=>{if(SH(h,t)){h.preventDefault();let p=e!==void 0?e:vm(u)===vm(d);l(i,{replace:p,state:n,preventScrollReset:s,relative:r,viewTransition:a})}},[u,l,d,e,n,t,i,s,r,a])}var GH=0,qH=()=>`__${String(++GH)}__`;function YH(){let{router:i}=YF("useSubmit"),{basename:t}=V.useContext(yr),e=fH();return V.useCallback(async(n,s={})=>{let{action:r,method:a,encType:l,formData:u,body:d}=TH(n,t);if(s.navigate===!1){let h=s.fetcherKey||qH();await i.fetch(h,e,s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await i.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:d,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,t,e])}function XH(i,{relative:t}={}){let{basename:e}=V.useContext(yr),n=V.useContext(vr);tn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),r={...Pm(i||".",{relative:t})},a=Al();if(i==null){r.search=a.search;let l=new URLSearchParams(r.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();r.search=h?`?${h}`:""}}return(!i||i===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(r.pathname=r.pathname==="/"?e:Za([e,r.pathname])),vm(r)}function KH(i,{relative:t}={}){let e=V.useContext(jF);tn(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=YF("useViewTransitionState"),s=Pm(i,{relative:t});if(!e.isTransitioning)return!1;let r=no(e.currentLocation.pathname,n)||e.currentLocation.pathname,a=no(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Ew(s.pathname,a)!=null||Ew(s.pathname,r)!=null}var px={exports:{}},gx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WP;function QH(){if(WP)return gx;WP=1;var i=mr();function t(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var e=typeof Object.is=="function"?Object.is:t,n=i.useSyncExternalStore,s=i.useRef,r=i.useEffect,a=i.useMemo,l=i.useDebugValue;return gx.useSyncExternalStoreWithSelector=function(u,d,h,p,m){var v=s(null);if(v.current===null){var _={hasValue:!1,value:null};v.current=_}else _=v.current;v=a(function(){function S(R){if(!x){if(x=!0,C=R,R=p(R),m!==void 0&&_.hasValue){var D=_.value;if(m(D,R))return L=D}return L=R}if(D=L,e(C,R))return D;var P=p(R);return m!==void 0&&m(D,P)?(C=R,D):(C=R,L=P)}var x=!1,C,L,j=h===void 0?null:h;return[function(){return S(d())},j===null?void 0:function(){return S(j())}]},[d,h,p,m]);var w=n(u,v[0],v[1]);return r(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},gx}var VP;function ZH(){return VP||(VP=1,px.exports=QH()),px.exports}var JH=ZH();function t$(i){i()}function e$(){let i=null,t=null;return{clear(){i=null,t=null},notify(){t$(()=>{let e=i;for(;e;)e.callback(),e=e.next})},get(){const e=[];let n=i;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let n=!0;const s=t={callback:e,next:null,prev:t};return s.prev?s.prev.next=s:i=s,function(){!n||i===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:i=s.next)}}}}var GP={notify(){},get:()=>[]};function n$(i,t){let e,n=GP,s=0,r=!1;function a(w){h();const S=n.subscribe(w);let x=!1;return()=>{x||(x=!0,S(),p())}}function l(){n.notify()}function u(){_.onStateChange&&_.onStateChange()}function d(){return r}function h(){s++,e||(e=i.subscribe(u),n=e$())}function p(){s--,e&&s===0&&(e(),e=void 0,n.clear(),n=GP)}function m(){r||(r=!0,h())}function v(){r&&(r=!1,p())}const _={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>n};return _}var i$=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s$=i$(),r$=()=>typeof navigator<"u"&&navigator.product==="ReactNative",a$=r$(),o$=()=>s$||a$?V.useLayoutEffect:V.useEffect,l$=o$(),c$=Symbol.for("react-redux-context"),u$=typeof globalThis<"u"?globalThis:{};function h$(){if(!V.createContext)return{};const i=u$[c$]??=new Map;let t=i.get(V.createContext);return t||(t=V.createContext(null),i.set(V.createContext,t)),t}var bl=h$();function d$(i){const{children:t,context:e,serverState:n,store:s}=i,r=V.useMemo(()=>{const u=n$(s);return{store:s,subscription:u,getServerState:n?()=>n:void 0}},[s,n]),a=V.useMemo(()=>s.getState(),[s]);l$(()=>{const{subscription:u}=r;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[r,a]);const l=e||bl;return V.createElement(l.Provider,{value:r},t)}var f$=d$;function w2(i=bl){return function(){return V.useContext(i)}}var XF=w2();function KF(i=bl){const t=i===bl?XF:w2(i),e=()=>{const{store:n}=t();return n};return Object.assign(e,{withTypes:()=>e}),e}var p$=KF();function g$(i=bl){const t=i===bl?p$:KF(i),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var QF=g$(),m$=(i,t)=>i===t;function y$(i=bl){const t=i===bl?XF:w2(i),e=(n,s={})=>{const{equalityFn:r=m$}=typeof s=="function"?{equalityFn:s}:s,a=t(),{store:l,subscription:u,getServerState:d}=a;V.useRef(!0);const h=V.useCallback({[n.name](m){return n(m)}}[n.name],[n]),p=JH.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,d||l.getState,h,r);return V.useDebugValue(p),p};return Object.assign(e,{withTypes:()=>e}),e}var q1=y$();function ri(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var v$=typeof Symbol=="function"&&Symbol.observable||"@@observable",qP=v$,mx=()=>Math.random().toString(36).substring(7).split("").join("."),b$={INIT:`@@redux/INIT${mx()}`,REPLACE:`@@redux/REPLACE${mx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${mx()}`},Tw=b$;function _2(i){if(typeof i!="object"||i===null)return!1;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t||Object.getPrototypeOf(i)===null}function ZF(i,t,e){if(typeof i!="function")throw new Error(ri(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(ri(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(ri(1));return e(ZF)(i,t)}let n=i,s=t,r=new Map,a=r,l=0,u=!1;function d(){a===r&&(a=new Map,r.forEach((S,x)=>{a.set(x,S)}))}function h(){if(u)throw new Error(ri(3));return s}function p(S){if(typeof S!="function")throw new Error(ri(4));if(u)throw new Error(ri(5));let x=!0;d();const C=l++;return a.set(C,S),function(){if(x){if(u)throw new Error(ri(6));x=!1,d(),a.delete(C),r=null}}}function m(S){if(!_2(S))throw new Error(ri(7));if(typeof S.type>"u")throw new Error(ri(8));if(typeof S.type!="string")throw new Error(ri(17));if(u)throw new Error(ri(9));try{u=!0,s=n(s,S)}finally{u=!1}return(r=a).forEach(C=>{C()}),S}function v(S){if(typeof S!="function")throw new Error(ri(10));n=S,m({type:Tw.REPLACE})}function _(){const S=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ri(11));function C(){const j=x;j.next&&j.next(h())}return C(),{unsubscribe:S(C)}},[qP](){return this}}}return m({type:Tw.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:v,[qP]:_}}function w$(i){Object.keys(i).forEach(t=>{const e=i[t];if(typeof e(void 0,{type:Tw.INIT})>"u")throw new Error(ri(12));if(typeof e(void 0,{type:Tw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ri(13))})}function _$(i){const t=Object.keys(i),e={};for(let r=0;r<t.length;r++){const a=t[r];typeof i[a]=="function"&&(e[a]=i[a])}const n=Object.keys(e);let s;try{w$(e)}catch(r){s=r}return function(a={},l){if(s)throw s;let u=!1;const d={};for(let h=0;h<n.length;h++){const p=n[h],m=e[p],v=a[p],_=m(v,l);if(typeof _>"u")throw l&&l.type,new Error(ri(14));d[p]=_,u=u||_!==v}return u=u||n.length!==Object.keys(a).length,u?d:a}}function Cw(...i){return i.length===0?t=>t:i.length===1?i[0]:i.reduce((t,e)=>(...n)=>t(e(...n)))}function A$(...i){return t=>(e,n)=>{const s=t(e,n);let r=()=>{throw new Error(ri(15))};const a={getState:s.getState,dispatch:(u,...d)=>r(u,...d)},l=i.map(u=>u(a));return r=Cw(...l)(s.dispatch),{...s,dispatch:r}}}function S$(i){return _2(i)&&"type"in i&&typeof i.type=="string"}var JF=Symbol.for("immer-nothing"),YP=Symbol.for("immer-draftable"),Ss=Symbol.for("immer-state");function lr(i,...t){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Ud=Object.getPrototypeOf;function Zc(i){return!!i&&!!i[Ss]}function io(i){return i?t3(i)||Array.isArray(i)||!!i[YP]||!!i.constructor?.[YP]||Dm(i)||X1(i):!1}var x$=Object.prototype.constructor.toString();function t3(i){if(!i||typeof i!="object")return!1;const t=Ud(i);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===x$}function kw(i,t){Y1(i)===0?Reflect.ownKeys(i).forEach(e=>{t(e,i[e],i)}):i.forEach((e,n)=>t(n,e,i))}function Y1(i){const t=i[Ss];return t?t.type_:Array.isArray(i)?1:Dm(i)?2:X1(i)?3:0}function IE(i,t){return Y1(i)===2?i.has(t):Object.prototype.hasOwnProperty.call(i,t)}function e3(i,t,e){const n=Y1(i);n===2?i.set(t,e):n===3?i.add(e):i[t]=e}function E$(i,t){return i===t?i!==0||1/i===1/t:i!==i&&t!==t}function Dm(i){return i instanceof Map}function X1(i){return i instanceof Set}function ic(i){return i.copy_||i.base_}function FE(i,t){if(Dm(i))return new Map(i);if(X1(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const e=t3(i);if(t===!0||t==="class_only"&&!e){const n=Object.getOwnPropertyDescriptors(i);delete n[Ss];let s=Reflect.ownKeys(n);for(let r=0;r<s.length;r++){const a=s[r],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:i[a]})}return Object.create(Ud(i),n)}else{const n=Ud(i);if(n!==null&&e)return{...i};const s=Object.create(n);return Object.assign(s,i)}}function A2(i,t=!1){return K1(i)||Zc(i)||!io(i)||(Y1(i)>1&&Object.defineProperties(i,{set:{value:vv},add:{value:vv},clear:{value:vv},delete:{value:vv}}),Object.freeze(i),t&&Object.values(i).forEach(e=>A2(e,!0))),i}function vv(){lr(2)}function K1(i){return Object.isFrozen(i)}var T$={};function Jc(i){const t=T$[i];return t||lr(0,i),t}var bm;function n3(){return bm}function C$(i,t){return{drafts_:[],parent_:i,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XP(i,t){t&&(Jc("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=t)}function jE(i){BE(i),i.drafts_.forEach(k$),i.drafts_=null}function BE(i){i===bm&&(bm=i.parent_)}function KP(i){return bm=C$(bm,i)}function k$(i){const t=i[Ss];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QP(i,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return i!==void 0&&i!==e?(e[Ss].modified_&&(jE(t),lr(4)),io(i)&&(i=Rw(t,i),t.parent_||Mw(t,i)),t.patches_&&Jc("Patches").generateReplacementPatches_(e[Ss].base_,i,t.patches_,t.inversePatches_)):i=Rw(t,e,[]),jE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),i!==JF?i:void 0}function Rw(i,t,e){if(K1(t))return t;const n=t[Ss];if(!n)return kw(t,(s,r)=>ZP(i,n,t,s,r,e)),t;if(n.scope_!==i)return t;if(!n.modified_)return Mw(i,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let r=s,a=!1;n.type_===3&&(r=new Set(s),s.clear(),a=!0),kw(r,(l,u)=>ZP(i,n,s,l,u,e,a)),Mw(i,s,!1),e&&i.patches_&&Jc("Patches").generatePatches_(n,e,i.patches_,i.inversePatches_)}return n.copy_}function ZP(i,t,e,n,s,r,a){if(Zc(s)){const l=r&&t&&t.type_!==3&&!IE(t.assigned_,n)?r.concat(n):void 0,u=Rw(i,s,l);if(e3(e,n,u),Zc(u))i.canAutoFreeze_=!1;else return}else a&&e.add(s);if(io(s)&&!K1(s)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;Rw(i,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Dm(e)?e.has(n):Object.prototype.propertyIsEnumerable.call(e,n))&&Mw(i,s)}}function Mw(i,t,e=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&A2(t,e)}function R$(i,t){const e=Array.isArray(i),n={type_:e?1:0,scope_:t?t.scope_:n3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,r=S2;e&&(s=[n],r=wm);const{revoke:a,proxy:l}=Proxy.revocable(s,r);return n.draft_=l,n.revoke_=a,l}var S2={get(i,t){if(t===Ss)return i;const e=ic(i);if(!IE(e,t))return M$(i,e,t);const n=e[t];return i.finalized_||!io(n)?n:n===yx(i.base_,t)?(vx(i),i.copy_[t]=UE(n,i)):n},has(i,t){return t in ic(i)},ownKeys(i){return Reflect.ownKeys(ic(i))},set(i,t,e){const n=i3(ic(i),t);if(n?.set)return n.set.call(i.draft_,e),!0;if(!i.modified_){const s=yx(ic(i),t),r=s?.[Ss];if(r&&r.base_===e)return i.copy_[t]=e,i.assigned_[t]=!1,!0;if(E$(e,s)&&(e!==void 0||IE(i.base_,t)))return!0;vx(i),zE(i)}return i.copy_[t]===e&&(e!==void 0||t in i.copy_)||Number.isNaN(e)&&Number.isNaN(i.copy_[t])||(i.copy_[t]=e,i.assigned_[t]=!0),!0},deleteProperty(i,t){return yx(i.base_,t)!==void 0||t in i.base_?(i.assigned_[t]=!1,vx(i),zE(i)):delete i.assigned_[t],i.copy_&&delete i.copy_[t],!0},getOwnPropertyDescriptor(i,t){const e=ic(i),n=Reflect.getOwnPropertyDescriptor(e,t);return n&&{writable:!0,configurable:i.type_!==1||t!=="length",enumerable:n.enumerable,value:e[t]}},defineProperty(){lr(11)},getPrototypeOf(i){return Ud(i.base_)},setPrototypeOf(){lr(12)}},wm={};kw(S2,(i,t)=>{wm[i]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wm.deleteProperty=function(i,t){return wm.set.call(this,i,t,void 0)};wm.set=function(i,t,e){return S2.set.call(this,i[0],t,e,i[0])};function yx(i,t){const e=i[Ss];return(e?ic(e):i)[t]}function M$(i,t,e){const n=i3(t,e);return n?"value"in n?n.value:n.get?.call(i.draft_):void 0}function i3(i,t){if(!(t in i))return;let e=Ud(i);for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Ud(e)}}function zE(i){i.modified_||(i.modified_=!0,i.parent_&&zE(i.parent_))}function vx(i){i.copy_||(i.copy_=FE(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var L$=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,n)=>{if(typeof t=="function"&&typeof e!="function"){const r=e;e=t;const a=this;return function(u=r,...d){return a.produce(u,h=>e.call(this,h,...d))}}typeof e!="function"&&lr(6),n!==void 0&&typeof n!="function"&&lr(7);let s;if(io(t)){const r=KP(this),a=UE(t,void 0);let l=!0;try{s=e(a),l=!1}finally{l?jE(r):BE(r)}return XP(r,n),QP(s,r)}else if(!t||typeof t!="object"){if(s=e(t),s===void 0&&(s=t),s===JF&&(s=void 0),this.autoFreeze_&&A2(s,!0),n){const r=[],a=[];Jc("Patches").generateReplacementPatches_(t,s,r,a),n(r,a)}return s}else lr(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,u=>t(u,...l));let n,s;return[this.produce(t,e,(a,l)=>{n=a,s=l}),n,s]},typeof i?.autoFreeze=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof i?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){io(i)||lr(8),Zc(i)&&(i=O$(i));const t=KP(this),e=UE(i,void 0);return e[Ss].isManual_=!0,BE(t),e}finishDraft(i,t){const e=i&&i[Ss];(!e||!e.isManual_)&&lr(9);const{scope_:n}=e;return XP(n,t),QP(void 0,n)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,t){let e;for(e=t.length-1;e>=0;e--){const s=t[e];if(s.path.length===0&&s.op==="replace"){i=s.value;break}}e>-1&&(t=t.slice(e+1));const n=Jc("Patches").applyPatches_;return Zc(i)?n(i,t):this.produce(i,s=>n(s,t))}};function UE(i,t){const e=Dm(i)?Jc("MapSet").proxyMap_(i,t):X1(i)?Jc("MapSet").proxySet_(i,t):R$(i,t);return(t?t.scope_:n3()).drafts_.push(e),e}function O$(i){return Zc(i)||lr(10,i),s3(i)}function s3(i){if(!io(i)||K1(i))return i;const t=i[Ss];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=FE(i,t.scope_.immer_.useStrictShallowCopy_)}else e=FE(i,!0);return kw(e,(n,s)=>{e3(e,n,s3(s))}),t&&(t.finalized_=!1),e}var P$=new L$,r3=P$.produce;function a3(i){return({dispatch:e,getState:n})=>s=>r=>typeof r=="function"?r(e,n,i):s(r)}var D$=a3(),N$=a3,I$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Cw:Cw.apply(null,arguments)},F$=i=>i&&typeof i.match=="function";function Bg(i,t){function e(...n){if(t){let s=t(...n);if(!s)throw new Error(Ja(0));return{type:i,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:i,payload:n[0]}}return e.toString=()=>`${i}`,e.type=i,e.match=n=>S$(n)&&n.type===i,e}var o3=class Ip extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ip.prototype)}static get[Symbol.species](){return Ip}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ip(...t[0].concat(this)):new Ip(...t.concat(this))}};function JP(i){return io(i)?r3(i,()=>{}):i}function bv(i,t,e){return i.has(t)?i.get(t):i.set(t,e(t)).get(t)}function j$(i){return typeof i=="boolean"}var B$=()=>function(t){const{thunk:e=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:r=!0}=t??{};let a=new o3;return e&&(j$(e)?a.push(D$):a.push(N$(e.extraArgument))),a},z$="RTK_autoBatch",tD=i=>t=>{setTimeout(t,i)},U$=(i={type:"raf"})=>t=>(...e)=>{const n=t(...e);let s=!0,r=!1,a=!1;const l=new Set,u=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tD(10):i.type==="callback"?i.queueNotification:tD(i.timeout),d=()=>{a=!1,r&&(r=!1,l.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>s&&h(),m=n.subscribe(p);return l.add(h),()=>{m(),l.delete(h)}},dispatch(h){try{return s=!h?.meta?.[z$],r=!s,r&&(a||(a=!0,u(d))),n.dispatch(h)}finally{s=!0}}})},H$=i=>function(e){const{autoBatch:n=!0}=e??{};let s=new o3(i);return n&&s.push(U$(typeof n=="object"?n:void 0)),s};function $$(i){const t=B$(),{reducer:e=void 0,middleware:n,devTools:s=!0,preloadedState:r=void 0,enhancers:a=void 0}=i||{};let l;if(typeof e=="function")l=e;else if(_2(e))l=_$(e);else throw new Error(Ja(1));let u;typeof n=="function"?u=n(t):u=t();let d=Cw;s&&(d=I$({trace:!1,...typeof s=="object"&&s}));const h=A$(...u),p=H$(h);let m=typeof a=="function"?a(p):p();const v=d(...m);return ZF(l,r,v)}function l3(i){const t={},e=[];let n;const s={addCase(r,a){const l=typeof r=="string"?r:r.type;if(!l)throw new Error(Ja(28));if(l in t)throw new Error(Ja(29));return t[l]=a,s},addAsyncThunk(r,a){return a.pending&&(t[r.pending.type]=a.pending),a.rejected&&(t[r.rejected.type]=a.rejected),a.fulfilled&&(t[r.fulfilled.type]=a.fulfilled),a.settled&&e.push({matcher:r.settled,reducer:a.settled}),s},addMatcher(r,a){return e.push({matcher:r,reducer:a}),s},addDefaultCase(r){return n=r,s}};return i(s),[t,e,n]}function W$(i){return typeof i=="function"}function V$(i,t){let[e,n,s]=l3(t),r;if(W$(i))r=()=>JP(i());else{const l=JP(i);r=()=>l}function a(l=r(),u){let d=[e[u.type],...n.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[s]),d.reduce((h,p)=>{if(p)if(Zc(h)){const v=p(h,u);return v===void 0?h:v}else{if(io(h))return r3(h,m=>p(m,u));{const m=p(h,u);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},l)}return a.getInitialState=r,a}var G$=(i,t)=>F$(i)?i.match(t):i(t);function q$(...i){return t=>i.some(e=>G$(e,t))}var Y$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",X$=(i=21)=>{let t="",e=i;for(;e--;)t+=Y$[Math.random()*64|0];return t},K$=["name","message","stack","code"],bx=class{constructor(i,t){this.payload=i,this.meta=t}_type},eD=class{constructor(i,t){this.payload=i,this.meta=t}_type},Q$=i=>{if(typeof i=="object"&&i!==null){const t={};for(const e of K$)typeof i[e]=="string"&&(t[e]=i[e]);return t}return{message:String(i)}},nD="External signal was aborted",c3=(()=>{function i(t,e,n){const s=Bg(t+"/fulfilled",(u,d,h,p)=>({payload:u,meta:{...p||{},arg:h,requestId:d,requestStatus:"fulfilled"}})),r=Bg(t+"/pending",(u,d,h)=>({payload:void 0,meta:{...h||{},arg:d,requestId:u,requestStatus:"pending"}})),a=Bg(t+"/rejected",(u,d,h,p,m)=>({payload:p,error:(n&&n.serializeError||Q$)(u||"Rejected"),meta:{...m||{},arg:h,requestId:d,rejectedWithValue:!!p,requestStatus:"rejected",aborted:u?.name==="AbortError",condition:u?.name==="ConditionError"}}));function l(u,{signal:d}={}){return(h,p,m)=>{const v=n?.idGenerator?n.idGenerator(u):X$(),_=new AbortController;let w,S;function x(L){S=L,_.abort()}d&&(d.aborted?x(nD):d.addEventListener("abort",()=>x(nD),{once:!0}));const C=(async function(){let L;try{let R=n?.condition?.(u,{getState:p,extra:m});if(J$(R)&&(R=await R),R===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const D=new Promise((P,M)=>{w=()=>{M({name:"AbortError",message:S||"Aborted"})},_.signal.addEventListener("abort",w)});h(r(v,u,n?.getPendingMeta?.({requestId:v,arg:u},{getState:p,extra:m}))),L=await Promise.race([D,Promise.resolve(e(u,{dispatch:h,getState:p,extra:m,requestId:v,signal:_.signal,abort:x,rejectWithValue:(P,M)=>new bx(P,M),fulfillWithValue:(P,M)=>new eD(P,M)})).then(P=>{if(P instanceof bx)throw P;return P instanceof eD?s(P.payload,v,u,P.meta):s(P,v,u)})])}catch(R){L=R instanceof bx?a(null,v,u,R.payload,R.meta):a(R,v,u)}finally{w&&_.signal.removeEventListener("abort",w)}return n&&!n.dispatchConditionRejection&&a.match(L)&&L.meta.condition||h(L),L})();return Object.assign(C,{abort:x,requestId:v,arg:u,unwrap(){return C.then(Z$)}})}}return Object.assign(l,{pending:r,rejected:a,fulfilled:s,settled:q$(a,s),typePrefix:t})}return i.withTypes=()=>i,i})();function Z$(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function J$(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var t7=Symbol.for("rtk-slice-createasyncthunk");function e7(i,t){return`${i}/${t}`}function n7({creators:i}={}){const t=i?.asyncThunk?.[t7];return function(n){const{name:s,reducerPath:r=s}=n;if(!s)throw new Error(Ja(11));const a=(typeof n.reducers=="function"?n.reducers(r7()):n.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(L,j){const R=typeof L=="string"?L:L.type;if(!R)throw new Error(Ja(12));if(R in u.sliceCaseReducersByType)throw new Error(Ja(13));return u.sliceCaseReducersByType[R]=j,d},addMatcher(L,j){return u.sliceMatchers.push({matcher:L,reducer:j}),d},exposeAction(L,j){return u.actionCreators[L]=j,d},exposeCaseReducer(L,j){return u.sliceCaseReducersByName[L]=j,d}};l.forEach(L=>{const j=a[L],R={reducerName:L,type:e7(s,L),createNotation:typeof n.reducers=="function"};o7(j)?c7(R,j,d,t):a7(R,j,d)});function h(){const[L={},j=[],R=void 0]=typeof n.extraReducers=="function"?l3(n.extraReducers):[n.extraReducers],D={...L,...u.sliceCaseReducersByType};return V$(n.initialState,P=>{for(let M in D)P.addCase(M,D[M]);for(let M of u.sliceMatchers)P.addMatcher(M.matcher,M.reducer);for(let M of j)P.addMatcher(M.matcher,M.reducer);R&&P.addDefaultCase(R)})}const p=L=>L,m=new Map,v=new WeakMap;let _;function w(L,j){return _||(_=h()),_(L,j)}function S(){return _||(_=h()),_.getInitialState()}function x(L,j=!1){function R(P){let M=P[L];return typeof M>"u"&&j&&(M=bv(v,R,S)),M}function D(P=p){const M=bv(m,j,()=>new WeakMap);return bv(M,P,()=>{const O={};for(const[N,H]of Object.entries(n.selectors??{}))O[N]=i7(H,P,()=>bv(v,P,S),j);return O})}return{reducerPath:L,getSelectors:D,get selectors(){return D(R)},selectSlice:R}}const C={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...x(r),injectInto(L,{reducerPath:j,...R}={}){const D=j??r;return L.inject({reducerPath:D,reducer:w},R),{...C,...x(D,!0)}}};return C}}function i7(i,t,e,n){function s(r,...a){let l=t(r);return typeof l>"u"&&n&&(l=e()),i(l,...a)}return s.unwrapped=i,s}var s7=n7();function r7(){function i(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return i.withTypes=()=>i,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:i}}function a7({type:i,reducerName:t,createNotation:e},n,s){let r,a;if("reducer"in n){if(e&&!l7(n))throw new Error(Ja(17));r=n.reducer,a=n.prepare}else r=n;s.addCase(i,r).exposeCaseReducer(t,r).exposeAction(t,a?Bg(i,a):Bg(i))}function o7(i){return i._reducerDefinitionType==="asyncThunk"}function l7(i){return i._reducerDefinitionType==="reducerWithPrepare"}function c7({type:i,reducerName:t},e,n,s){if(!s)throw new Error(Ja(18));const{payloadCreator:r,fulfilled:a,pending:l,rejected:u,settled:d,options:h}=e,p=s(i,r,h);n.exposeAction(t,p),a&&n.addCase(p.fulfilled,a),l&&n.addCase(p.pending,l),u&&n.addCase(p.rejected,u),d&&n.addMatcher(p.settled,d),n.exposeCaseReducer(t,{fulfilled:a||wv,pending:l||wv,rejected:u||wv,settled:d||wv})}function wv(){}function Ja(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}function u3(i,t){return function(){return i.apply(t,arguments)}}const{toString:u7}=Object.prototype,{getPrototypeOf:x2}=Object,{iterator:Q1,toStringTag:h3}=Symbol,Z1=(i=>t=>{const e=u7.call(t);return i[e]||(i[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),br=i=>(i=i.toLowerCase(),t=>Z1(t)===i),J1=i=>t=>typeof t===i,{isArray:sf}=Array,Hd=J1("undefined");function Nm(i){return i!==null&&!Hd(i)&&i.constructor!==null&&!Hd(i.constructor)&&ss(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const d3=br("ArrayBuffer");function h7(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&d3(i.buffer),t}const d7=J1("string"),ss=J1("function"),f3=J1("number"),Im=i=>i!==null&&typeof i=="object",f7=i=>i===!0||i===!1,p0=i=>{if(Z1(i)!=="object")return!1;const t=x2(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(h3 in i)&&!(Q1 in i)},p7=i=>{if(!Im(i)||Nm(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},g7=br("Date"),m7=br("File"),y7=br("Blob"),v7=br("FileList"),b7=i=>Im(i)&&ss(i.pipe),w7=i=>{let t;return i&&(typeof FormData=="function"&&i instanceof FormData||ss(i.append)&&((t=Z1(i))==="formdata"||t==="object"&&ss(i.toString)&&i.toString()==="[object FormData]"))},_7=br("URLSearchParams"),[A7,S7,x7,E7]=["ReadableStream","Request","Response","Headers"].map(br),T7=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fm(i,t,{allOwnKeys:e=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),sf(i))for(n=0,s=i.length;n<s;n++)t.call(null,i[n],n,i);else{if(Nm(i))return;const r=e?Object.getOwnPropertyNames(i):Object.keys(i),a=r.length;let l;for(n=0;n<a;n++)l=r[n],t.call(null,i[l],l,i)}}function p3(i,t){if(Nm(i))return null;t=t.toLowerCase();const e=Object.keys(i);let n=e.length,s;for(;n-- >0;)if(s=e[n],t===s.toLowerCase())return s;return null}const Lc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g3=i=>!Hd(i)&&i!==Lc;function HE(){const{caseless:i,skipUndefined:t}=g3(this)&&this||{},e={},n=(s,r)=>{const a=i&&p3(e,r)||r;p0(e[a])&&p0(s)?e[a]=HE(e[a],s):p0(s)?e[a]=HE({},s):sf(s)?e[a]=s.slice():(!t||!Hd(s))&&(e[a]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Fm(arguments[s],n);return e}const C7=(i,t,e,{allOwnKeys:n}={})=>(Fm(t,(s,r)=>{e&&ss(s)?i[r]=u3(s,e):i[r]=s},{allOwnKeys:n}),i),k7=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),R7=(i,t,e,n)=>{i.prototype=Object.create(t.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),e&&Object.assign(i.prototype,e)},M7=(i,t,e,n)=>{let s,r,a;const l={};if(t=t||{},i==null)return t;do{for(s=Object.getOwnPropertyNames(i),r=s.length;r-- >0;)a=s[r],(!n||n(a,i,t))&&!l[a]&&(t[a]=i[a],l[a]=!0);i=e!==!1&&x2(i)}while(i&&(!e||e(i,t))&&i!==Object.prototype);return t},L7=(i,t,e)=>{i=String(i),(e===void 0||e>i.length)&&(e=i.length),e-=t.length;const n=i.indexOf(t,e);return n!==-1&&n===e},O7=i=>{if(!i)return null;if(sf(i))return i;let t=i.length;if(!f3(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=i[t];return e},P7=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&x2(Uint8Array)),D7=(i,t)=>{const n=(i&&i[Q1]).call(i);let s;for(;(s=n.next())&&!s.done;){const r=s.value;t.call(i,r[0],r[1])}},N7=(i,t)=>{let e;const n=[];for(;(e=i.exec(t))!==null;)n.push(e);return n},I7=br("HTMLFormElement"),F7=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,s){return n.toUpperCase()+s}),iD=(({hasOwnProperty:i})=>(t,e)=>i.call(t,e))(Object.prototype),j7=br("RegExp"),m3=(i,t)=>{const e=Object.getOwnPropertyDescriptors(i),n={};Fm(e,(s,r)=>{let a;(a=t(s,r,i))!==!1&&(n[r]=a||s)}),Object.defineProperties(i,n)},B7=i=>{m3(i,(t,e)=>{if(ss(i)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const n=i[e];if(ss(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},z7=(i,t)=>{const e={},n=s=>{s.forEach(r=>{e[r]=!0})};return sf(i)?n(i):n(String(i).split(t)),e},U7=()=>{},H7=(i,t)=>i!=null&&Number.isFinite(i=+i)?i:t;function $7(i){return!!(i&&ss(i.append)&&i[h3]==="FormData"&&i[Q1])}const W7=i=>{const t=new Array(10),e=(n,s)=>{if(Im(n)){if(t.indexOf(n)>=0)return;if(Nm(n))return n;if(!("toJSON"in n)){t[s]=n;const r=sf(n)?[]:{};return Fm(n,(a,l)=>{const u=e(a,s+1);!Hd(u)&&(r[l]=u)}),t[s]=void 0,r}}return n};return e(i,0)},V7=br("AsyncFunction"),G7=i=>i&&(Im(i)||ss(i))&&ss(i.then)&&ss(i.catch),y3=((i,t)=>i?setImmediate:t?((e,n)=>(Lc.addEventListener("message",({source:s,data:r})=>{s===Lc&&r===e&&n.length&&n.shift()()},!1),s=>{n.push(s),Lc.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ss(Lc.postMessage)),q7=typeof queueMicrotask<"u"?queueMicrotask.bind(Lc):typeof process<"u"&&process.nextTick||y3,Y7=i=>i!=null&&ss(i[Q1]),wt={isArray:sf,isArrayBuffer:d3,isBuffer:Nm,isFormData:w7,isArrayBufferView:h7,isString:d7,isNumber:f3,isBoolean:f7,isObject:Im,isPlainObject:p0,isEmptyObject:p7,isReadableStream:A7,isRequest:S7,isResponse:x7,isHeaders:E7,isUndefined:Hd,isDate:g7,isFile:m7,isBlob:y7,isRegExp:j7,isFunction:ss,isStream:b7,isURLSearchParams:_7,isTypedArray:P7,isFileList:v7,forEach:Fm,merge:HE,extend:C7,trim:T7,stripBOM:k7,inherits:R7,toFlatObject:M7,kindOf:Z1,kindOfTest:br,endsWith:L7,toArray:O7,forEachEntry:D7,matchAll:N7,isHTMLForm:I7,hasOwnProperty:iD,hasOwnProp:iD,reduceDescriptors:m3,freezeMethods:B7,toObjectSet:z7,toCamelCase:F7,noop:U7,toFiniteNumber:H7,findKey:p3,global:Lc,isContextDefined:g3,isSpecCompliantForm:$7,toJSONObject:W7,isAsyncFn:V7,isThenable:G7,setImmediate:y3,asap:q7,isIterable:Y7};function ce(i,t,e,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}wt.inherits(ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const v3=ce.prototype,b3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{b3[i]={value:i}});Object.defineProperties(ce,b3);Object.defineProperty(v3,"isAxiosError",{value:!0});ce.from=(i,t,e,n,s,r)=>{const a=Object.create(v3);wt.toFlatObject(i,a,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const l=i&&i.message?i.message:"Error",u=t==null&&i?i.code:t;return ce.call(a,l,u,e,n,s),i&&a.cause==null&&Object.defineProperty(a,"cause",{value:i,configurable:!0}),a.name=i&&i.name||"Error",r&&Object.assign(a,r),a};const X7=null;function $E(i){return wt.isPlainObject(i)||wt.isArray(i)}function w3(i){return wt.endsWith(i,"[]")?i.slice(0,-2):i}function sD(i,t,e){return i?i.concat(t).map(function(s,r){return s=w3(s),!e&&r?"["+s+"]":s}).join(e?".":""):t}function K7(i){return wt.isArray(i)&&!i.some($E)}const Q7=wt.toFlatObject(wt,{},null,function(t){return/^is[A-Z]/.test(t)});function t_(i,t,e){if(!wt.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,e=wt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!wt.isUndefined(S[w])});const n=e.metaTokens,s=e.visitor||h,r=e.dots,a=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(s))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(wt.isDate(_))return _.toISOString();if(wt.isBoolean(_))return _.toString();if(!u&&wt.isBlob(_))throw new ce("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(_)||wt.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function h(_,w,S){let x=_;if(_&&!S&&typeof _=="object"){if(wt.endsWith(w,"{}"))w=n?w:w.slice(0,-2),_=JSON.stringify(_);else if(wt.isArray(_)&&K7(_)||(wt.isFileList(_)||wt.endsWith(w,"[]"))&&(x=wt.toArray(_)))return w=w3(w),x.forEach(function(L,j){!(wt.isUndefined(L)||L===null)&&t.append(a===!0?sD([w],j,r):a===null?w:w+"[]",d(L))}),!1}return $E(_)?!0:(t.append(sD(S,w,r),d(_)),!1)}const p=[],m=Object.assign(Q7,{defaultVisitor:h,convertValue:d,isVisitable:$E});function v(_,w){if(!wt.isUndefined(_)){if(p.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(_),wt.forEach(_,function(x,C){(!(wt.isUndefined(x)||x===null)&&s.call(t,x,wt.isString(C)?C.trim():C,w,m))===!0&&v(x,w?w.concat(C):[C])}),p.pop()}}if(!wt.isObject(i))throw new TypeError("data must be an object");return v(i),t}function rD(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function E2(i,t){this._pairs=[],i&&t_(i,this,t)}const _3=E2.prototype;_3.append=function(t,e){this._pairs.push([t,e])};_3.toString=function(t){const e=t?function(n){return t.call(this,n,rD)}:rD;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function Z7(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function A3(i,t,e){if(!t)return i;const n=e&&e.encode||Z7;wt.isFunction(e)&&(e={serialize:e});const s=e&&e.serialize;let r;if(s?r=s(t,e):r=wt.isURLSearchParams(t)?t.toString():new E2(t,e).toString(n),r){const a=i.indexOf("#");a!==-1&&(i=i.slice(0,a)),i+=(i.indexOf("?")===-1?"?":"&")+r}return i}class aD{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){wt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const S3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J7=typeof URLSearchParams<"u"?URLSearchParams:E2,tW=typeof FormData<"u"?FormData:null,eW=typeof Blob<"u"?Blob:null,nW={isBrowser:!0,classes:{URLSearchParams:J7,FormData:tW,Blob:eW},protocols:["http","https","file","blob","url","data"]},T2=typeof window<"u"&&typeof document<"u",WE=typeof navigator=="object"&&navigator||void 0,iW=T2&&(!WE||["ReactNative","NativeScript","NS"].indexOf(WE.product)<0),sW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rW=T2&&window.location.href||"http://localhost",aW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:T2,hasStandardBrowserEnv:iW,hasStandardBrowserWebWorkerEnv:sW,navigator:WE,origin:rW},Symbol.toStringTag,{value:"Module"})),Si={...aW,...nW};function oW(i,t){return t_(i,new Si.classes.URLSearchParams,{visitor:function(e,n,s,r){return Si.isNode&&wt.isBuffer(e)?(this.append(n,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}function lW(i){return wt.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cW(i){const t={},e=Object.keys(i);let n;const s=e.length;let r;for(n=0;n<s;n++)r=e[n],t[r]=i[r];return t}function x3(i){function t(e,n,s,r){let a=e[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=r>=e.length;return a=!a&&wt.isArray(s)?s.length:a,u?(wt.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!l):((!s[a]||!wt.isObject(s[a]))&&(s[a]=[]),t(e,n,s[a],r)&&wt.isArray(s[a])&&(s[a]=cW(s[a])),!l)}if(wt.isFormData(i)&&wt.isFunction(i.entries)){const e={};return wt.forEachEntry(i,(n,s)=>{t(lW(n),s,e,0)}),e}return null}function uW(i,t,e){if(wt.isString(i))try{return(t||JSON.parse)(i),wt.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(i)}const jm={transitional:S3,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",s=n.indexOf("application/json")>-1,r=wt.isObject(t);if(r&&wt.isHTMLForm(t)&&(t=new FormData(t)),wt.isFormData(t))return s?JSON.stringify(x3(t)):t;if(wt.isArrayBuffer(t)||wt.isBuffer(t)||wt.isStream(t)||wt.isFile(t)||wt.isBlob(t)||wt.isReadableStream(t))return t;if(wt.isArrayBufferView(t))return t.buffer;if(wt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return oW(t,this.formSerializer).toString();if((l=wt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return t_(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return r||s?(e.setContentType("application/json",!1),uW(t)):t}],transformResponse:[function(t){const e=this.transitional||jm.transitional,n=e&&e.forcedJSONParsing,s=this.responseType==="json";if(wt.isResponse(t)||wt.isReadableStream(t))return t;if(t&&wt.isString(t)&&(n&&!this.responseType||s)){const a=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ce.from(l,ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Si.classes.FormData,Blob:Si.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],i=>{jm.headers[i]={}});const hW=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dW=i=>{const t={};let e,n,s;return i&&i.split(`
`).forEach(function(a){s=a.indexOf(":"),e=a.substring(0,s).trim().toLowerCase(),n=a.substring(s+1).trim(),!(!e||t[e]&&hW[e])&&(e==="set-cookie"?t[e]?t[e].push(n):t[e]=[n]:t[e]=t[e]?t[e]+", "+n:n)}),t},oD=Symbol("internals");function up(i){return i&&String(i).trim().toLowerCase()}function g0(i){return i===!1||i==null?i:wt.isArray(i)?i.map(g0):String(i)}function fW(i){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=e.exec(i);)t[n[1]]=n[2];return t}const pW=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function wx(i,t,e,n,s){if(wt.isFunction(n))return n.call(this,t,e);if(s&&(t=e),!!wt.isString(t)){if(wt.isString(n))return t.indexOf(n)!==-1;if(wt.isRegExp(n))return n.test(t)}}function gW(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}function mW(i,t){const e=wt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+e,{value:function(s,r,a){return this[n].call(this,t,s,r,a)},configurable:!0})})}let rs=class{constructor(t){t&&this.set(t)}set(t,e,n){const s=this;function r(l,u,d){const h=up(u);if(!h)throw new Error("header name must be a non-empty string");const p=wt.findKey(s,h);(!p||s[p]===void 0||d===!0||d===void 0&&s[p]!==!1)&&(s[p||u]=g0(l))}const a=(l,u)=>wt.forEach(l,(d,h)=>r(d,h,u));if(wt.isPlainObject(t)||t instanceof this.constructor)a(t,e);else if(wt.isString(t)&&(t=t.trim())&&!pW(t))a(dW(t),e);else if(wt.isObject(t)&&wt.isIterable(t)){let l={},u,d;for(const h of t){if(!wt.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(u=l[d])?wt.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}a(l,e)}else t!=null&&r(e,t,n);return this}get(t,e){if(t=up(t),t){const n=wt.findKey(this,t);if(n){const s=this[n];if(!e)return s;if(e===!0)return fW(s);if(wt.isFunction(e))return e.call(this,s,n);if(wt.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=up(t),t){const n=wt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||wx(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let s=!1;function r(a){if(a=up(a),a){const l=wt.findKey(n,a);l&&(!e||wx(n,n[l],l,e))&&(delete n[l],s=!0)}}return wt.isArray(t)?t.forEach(r):r(t),s}clear(t){const e=Object.keys(this);let n=e.length,s=!1;for(;n--;){const r=e[n];(!t||wx(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){const e=this,n={};return wt.forEach(this,(s,r)=>{const a=wt.findKey(n,r);if(a){e[a]=g0(s),delete e[r];return}const l=t?gW(r):String(r).trim();l!==r&&delete e[r],e[l]=g0(s),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return wt.forEach(this,(n,s)=>{n!=null&&n!==!1&&(e[s]=t&&wt.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[oD]=this[oD]={accessors:{}}).accessors,s=this.prototype;function r(a){const l=up(a);n[l]||(mW(s,a),n[l]=!0)}return wt.isArray(t)?t.forEach(r):r(t),this}};rs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);wt.reduceDescriptors(rs.prototype,({value:i},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(n){this[e]=n}}});wt.freezeMethods(rs);function _x(i,t){const e=this||jm,n=t||e,s=rs.from(n.headers);let r=n.data;return wt.forEach(i,function(l){r=l.call(e,r,s.normalize(),t?t.status:void 0)}),s.normalize(),r}function E3(i){return!!(i&&i.__CANCEL__)}function rf(i,t,e){ce.call(this,i??"canceled",ce.ERR_CANCELED,t,e),this.name="CanceledError"}wt.inherits(rf,ce,{__CANCEL__:!0});function T3(i,t,e){const n=e.config.validateStatus;!e.status||!n||n(e.status)?i(e):t(new ce("Request failed with status code "+e.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function yW(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function vW(i,t){i=i||10;const e=new Array(i),n=new Array(i);let s=0,r=0,a;return t=t!==void 0?t:1e3,function(u){const d=Date.now(),h=n[r];a||(a=d),e[s]=u,n[s]=d;let p=r,m=0;for(;p!==s;)m+=e[p++],p=p%i;if(s=(s+1)%i,s===r&&(r=(r+1)%i),d-a<t)return;const v=h&&d-h;return v?Math.round(m*1e3/v):void 0}}function bW(i,t){let e=0,n=1e3/t,s,r;const a=(d,h=Date.now())=>{e=h,s=null,r&&(clearTimeout(r),r=null),i(...d)};return[(...d)=>{const h=Date.now(),p=h-e;p>=n?a(d,h):(s=d,r||(r=setTimeout(()=>{r=null,a(s)},n-p)))},()=>s&&a(s)]}const Lw=(i,t,e=3)=>{let n=0;const s=vW(50,250);return bW(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,u=a-n,d=s(u),h=a<=l;n=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&h?(l-a)/d:void 0,event:r,lengthComputable:l!=null,[t?"download":"upload"]:!0};i(p)},e)},lD=(i,t)=>{const e=i!=null;return[n=>t[0]({lengthComputable:e,total:i,loaded:n}),t[1]]},cD=i=>(...t)=>wt.asap(()=>i(...t)),wW=Si.hasStandardBrowserEnv?((i,t)=>e=>(e=new URL(e,Si.origin),i.protocol===e.protocol&&i.host===e.host&&(t||i.port===e.port)))(new URL(Si.origin),Si.navigator&&/(msie|trident)/i.test(Si.navigator.userAgent)):()=>!0,_W=Si.hasStandardBrowserEnv?{write(i,t,e,n,s,r){const a=[i+"="+encodeURIComponent(t)];wt.isNumber(e)&&a.push("expires="+new Date(e).toGMTString()),wt.isString(n)&&a.push("path="+n),wt.isString(s)&&a.push("domain="+s),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(i){const t=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AW(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function SW(i,t){return t?i.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):i}function C3(i,t,e){let n=!AW(t);return i&&(n||e==!1)?SW(i,t):t}const uD=i=>i instanceof rs?{...i}:i;function tu(i,t){t=t||{};const e={};function n(d,h,p,m){return wt.isPlainObject(d)&&wt.isPlainObject(h)?wt.merge.call({caseless:m},d,h):wt.isPlainObject(h)?wt.merge({},h):wt.isArray(h)?h.slice():h}function s(d,h,p,m){if(wt.isUndefined(h)){if(!wt.isUndefined(d))return n(void 0,d,p,m)}else return n(d,h,p,m)}function r(d,h){if(!wt.isUndefined(h))return n(void 0,h)}function a(d,h){if(wt.isUndefined(h)){if(!wt.isUndefined(d))return n(void 0,d)}else return n(void 0,h)}function l(d,h,p){if(p in t)return n(d,h);if(p in i)return n(void 0,d)}const u={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(d,h,p)=>s(uD(d),uD(h),p,!0)};return wt.forEach(Object.keys({...i,...t}),function(h){const p=u[h]||s,m=p(i[h],t[h],h);wt.isUndefined(m)&&p!==l||(e[h]=m)}),e}const k3=i=>{const t=tu({},i);let{data:e,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:a,auth:l}=t;if(t.headers=a=rs.from(a),t.url=A3(C3(t.baseURL,t.url,t.allowAbsoluteUrls),i.params,i.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),wt.isFormData(e)){if(Si.hasStandardBrowserEnv||Si.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(wt.isFunction(e.getHeaders)){const u=e.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([h,p])=>{d.includes(h.toLowerCase())&&a.set(h,p)})}}if(Si.hasStandardBrowserEnv&&(n&&wt.isFunction(n)&&(n=n(t)),n||n!==!1&&wW(t.url))){const u=s&&r&&_W.read(r);u&&a.set(s,u)}return t},xW=typeof XMLHttpRequest<"u",EW=xW&&function(i){return new Promise(function(e,n){const s=k3(i);let r=s.data;const a=rs.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=s,h,p,m,v,_;function w(){v&&v(),_&&_(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function x(){if(!S)return;const L=rs.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:L,config:i,request:S};T3(function(P){e(P),w()},function(P){n(P),w()},R),S=null}"onloadend"in S?S.onloadend=x:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(x)},S.onabort=function(){S&&(n(new ce("Request aborted",ce.ECONNABORTED,i,S)),S=null)},S.onerror=function(j){const R=j&&j.message?j.message:"Network Error",D=new ce(R,ce.ERR_NETWORK,i,S);D.event=j||null,n(D),S=null},S.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||S3;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),n(new ce(j,R.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,i,S)),S=null},r===void 0&&a.setContentType(null),"setRequestHeader"in S&&wt.forEach(a.toJSON(),function(j,R){S.setRequestHeader(R,j)}),wt.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),l&&l!=="json"&&(S.responseType=s.responseType),d&&([m,_]=Lw(d,!0),S.addEventListener("progress",m)),u&&S.upload&&([p,v]=Lw(u),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(h=L=>{S&&(n(!L||L.type?new rf(null,i,S):L),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const C=yW(s.url);if(C&&Si.protocols.indexOf(C)===-1){n(new ce("Unsupported protocol "+C+":",ce.ERR_BAD_REQUEST,i));return}S.send(r||null)})},TW=(i,t)=>{const{length:e}=i=i?i.filter(Boolean):[];if(t||e){let n=new AbortController,s;const r=function(d){if(!s){s=!0,l();const h=d instanceof Error?d:this.reason;n.abort(h instanceof ce?h:new rf(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,r(new ce(`timeout ${t} of ms exceeded`,ce.ETIMEDOUT))},t);const l=()=>{i&&(a&&clearTimeout(a),a=null,i.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),i=null)};i.forEach(d=>d.addEventListener("abort",r));const{signal:u}=n;return u.unsubscribe=()=>wt.asap(l),u}},CW=function*(i,t){let e=i.byteLength;if(e<t){yield i;return}let n=0,s;for(;n<e;)s=n+t,yield i.slice(n,s),n=s},kW=async function*(i,t){for await(const e of RW(i))yield*CW(e,t)},RW=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const t=i.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},hD=(i,t,e,n)=>{const s=kW(i,t);let r=0,a,l=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:d,value:h}=await s.next();if(d){l(),u.close();return}let p=h.byteLength;if(e){let m=r+=p;e(m)}u.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},dD=64*1024,{isFunction:_v}=wt,MW=(({Request:i,Response:t})=>({Request:i,Response:t}))(wt.global),{ReadableStream:fD,TextEncoder:pD}=wt.global,gD=(i,...t)=>{try{return!!i(...t)}catch{return!1}},LW=i=>{i=wt.merge.call({skipUndefined:!0},MW,i);const{fetch:t,Request:e,Response:n}=i,s=t?_v(t):typeof fetch=="function",r=_v(e),a=_v(n);if(!s)return!1;const l=s&&_v(fD),u=s&&(typeof pD=="function"?(_=>w=>_.encode(w))(new pD):async _=>new Uint8Array(await new e(_).arrayBuffer())),d=r&&l&&gD(()=>{let _=!1;const w=new e(Si.origin,{body:new fD,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!w}),h=a&&l&&gD(()=>wt.isReadableStream(new n("").body)),p={stream:h&&(_=>_.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!p[_]&&(p[_]=(w,S)=>{let x=w&&w[_];if(x)return x.call(w);throw new ce(`Response type '${_}' is not supported`,ce.ERR_NOT_SUPPORT,S)})});const m=async _=>{if(_==null)return 0;if(wt.isBlob(_))return _.size;if(wt.isSpecCompliantForm(_))return(await new e(Si.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(wt.isArrayBufferView(_)||wt.isArrayBuffer(_))return _.byteLength;if(wt.isURLSearchParams(_)&&(_=_+""),wt.isString(_))return(await u(_)).byteLength},v=async(_,w)=>{const S=wt.toFiniteNumber(_.getContentLength());return S??m(w)};return async _=>{let{url:w,method:S,data:x,signal:C,cancelToken:L,timeout:j,onDownloadProgress:R,onUploadProgress:D,responseType:P,headers:M,withCredentials:O="same-origin",fetchOptions:N}=k3(_),H=t||fetch;P=P?(P+"").toLowerCase():"text";let Q=TW([C,L&&L.toAbortSignal()],j),G=null;const J=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let nt;try{if(D&&d&&S!=="get"&&S!=="head"&&(nt=await v(M,x))!==0){let W=new e(w,{method:"POST",body:x,duplex:"half"}),K;if(wt.isFormData(x)&&(K=W.headers.get("content-type"))&&M.setContentType(K),W.body){const[et,st]=lD(nt,Lw(cD(D)));x=hD(W.body,dD,et,st)}}wt.isString(O)||(O=O?"include":"omit");const $=r&&"credentials"in e.prototype,T={...N,signal:Q,method:S.toUpperCase(),headers:M.normalize().toJSON(),body:x,duplex:"half",credentials:$?O:void 0};G=r&&new e(w,T);let ct=await(r?H(G,N):H(w,T));const Z=h&&(P==="stream"||P==="response");if(h&&(R||Z&&J)){const W={};["status","statusText","headers"].forEach(ut=>{W[ut]=ct[ut]});const K=wt.toFiniteNumber(ct.headers.get("content-length")),[et,st]=R&&lD(K,Lw(cD(R),!0))||[];ct=new n(hD(ct.body,dD,et,()=>{st&&st(),J&&J()}),W)}P=P||"text";let k=await p[wt.findKey(p,P)||"text"](ct,_);return!Z&&J&&J(),await new Promise((W,K)=>{T3(W,K,{data:k,headers:rs.from(ct.headers),status:ct.status,statusText:ct.statusText,config:_,request:G})})}catch($){throw J&&J(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,_,G),{cause:$.cause||$}):ce.from($,$&&$.code,_,G)}}},OW=new Map,R3=i=>{let t=i?i.env:{};const{fetch:e,Request:n,Response:s}=t,r=[n,s,e];let a=r.length,l=a,u,d,h=OW;for(;l--;)u=r[l],d=h.get(u),d===void 0&&h.set(u,d=l?new Map:LW(t)),h=d;return d};R3();const VE={http:X7,xhr:EW,fetch:{get:R3}};wt.forEach(VE,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const mD=i=>`- ${i}`,PW=i=>wt.isFunction(i)||i===null||i===!1,M3={getAdapter:(i,t)=>{i=wt.isArray(i)?i:[i];const{length:e}=i;let n,s;const r={};for(let a=0;a<e;a++){n=i[a];let l;if(s=n,!PW(n)&&(s=VE[(l=String(n)).toLowerCase()],s===void 0))throw new ce(`Unknown adapter '${l}'`);if(s&&(wt.isFunction(s)||(s=s.get(t))))break;r[l||"#"+a]=s}if(!s){const a=Object.entries(r).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(mD).join(`
`):" "+mD(a[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:VE};function Ax(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new rf(null,i)}function yD(i){return Ax(i),i.headers=rs.from(i.headers),i.data=_x.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),M3.getAdapter(i.adapter||jm.adapter,i)(i).then(function(n){return Ax(i),n.data=_x.call(i,i.transformResponse,n),n.headers=rs.from(n.headers),n},function(n){return E3(n)||(Ax(i),n&&n.response&&(n.response.data=_x.call(i,i.transformResponse,n.response),n.response.headers=rs.from(n.response.headers))),Promise.reject(n)})}const L3="1.12.2",e_={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{e_[i]=function(n){return typeof n===i||"a"+(t<1?"n ":" ")+i}});const vD={};e_.transitional=function(t,e,n){function s(r,a){return"[Axios v"+L3+"] Transitional option '"+r+"'"+a+(n?". "+n:"")}return(r,a,l)=>{if(t===!1)throw new ce(s(a," has been removed"+(e?" in "+e:"")),ce.ERR_DEPRECATED);return e&&!vD[a]&&(vD[a]=!0,console.warn(s(a," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(r,a,l):!0}};e_.spelling=function(t){return(e,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function DW(i,t,e){if(typeof i!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const r=n[s],a=t[r];if(a){const l=i[r],u=l===void 0||a(l,r,i);if(u!==!0)throw new ce("option "+r+" must be "+u,ce.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new ce("Unknown option "+r,ce.ERR_BAD_OPTION)}}const m0={assertOptions:DW,validators:e_},Cr=m0.validators;let Yc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new aD,response:new aD}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=tu(this.defaults,e);const{transitional:n,paramsSerializer:s,headers:r}=e;n!==void 0&&m0.assertOptions(n,{silentJSONParsing:Cr.transitional(Cr.boolean),forcedJSONParsing:Cr.transitional(Cr.boolean),clarifyTimeoutError:Cr.transitional(Cr.boolean)},!1),s!=null&&(wt.isFunction(s)?e.paramsSerializer={serialize:s}:m0.assertOptions(s,{encode:Cr.function,serialize:Cr.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),m0.assertOptions(e,{baseUrl:Cr.spelling("baseURL"),withXsrfToken:Cr.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let a=r&&wt.merge(r.common,r[e.method]);r&&wt.forEach(["delete","get","head","post","put","patch","common"],_=>{delete r[_]}),e.headers=rs.concat(a,r);const l=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(e)===!1||(u=u&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let h,p=0,m;if(!u){const _=[yD.bind(this),void 0];for(_.unshift(...l),_.push(...d),m=_.length,h=Promise.resolve(e);p<m;)h=h.then(_[p++],_[p++]);return h}m=l.length;let v=e;for(;p<m;){const _=l[p++],w=l[p++];try{v=_(v)}catch(S){w.call(this,S);break}}try{h=yD.call(this,v)}catch(_){return Promise.reject(_)}for(p=0,m=d.length;p<m;)h=h.then(d[p++],d[p++]);return h}getUri(t){t=tu(this.defaults,t);const e=C3(t.baseURL,t.url,t.allowAbsoluteUrls);return A3(e,t.params,t.paramsSerializer)}};wt.forEach(["delete","get","head","options"],function(t){Yc.prototype[t]=function(e,n){return this.request(tu(n||{},{method:t,url:e,data:(n||{}).data}))}});wt.forEach(["post","put","patch"],function(t){function e(n){return function(r,a,l){return this.request(tu(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Yc.prototype[t]=e(),Yc.prototype[t+"Form"]=e(!0)});let NW=class O3{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(r){e=r});const n=this;this.promise.then(s=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](s);n._listeners=null}),this.promise.then=s=>{let r;const a=new Promise(l=>{n.subscribe(l),r=l}).then(s);return a.cancel=function(){n.unsubscribe(r)},a},t(function(r,a,l){n.reason||(n.reason=new rf(r,a,l),e(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=n=>{t.abort(n)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new O3(function(s){t=s}),cancel:t}}};function IW(i){return function(e){return i.apply(null,e)}}function FW(i){return wt.isObject(i)&&i.isAxiosError===!0}const GE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(GE).forEach(([i,t])=>{GE[t]=i});function P3(i){const t=new Yc(i),e=u3(Yc.prototype.request,t);return wt.extend(e,Yc.prototype,t,{allOwnKeys:!0}),wt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(s){return P3(tu(i,s))},e}const ln=P3(jm);ln.Axios=Yc;ln.CanceledError=rf;ln.CancelToken=NW;ln.isCancel=E3;ln.VERSION=L3;ln.toFormData=t_;ln.AxiosError=ce;ln.Cancel=ln.CanceledError;ln.all=function(t){return Promise.all(t)};ln.spread=IW;ln.isAxiosError=FW;ln.mergeConfig=tu;ln.AxiosHeaders=rs;ln.formToJSON=i=>x3(wt.isHTMLForm(i)?new FormData(i):i);ln.getAdapter=M3.getAdapter;ln.HttpStatusCode=GE;ln.default=ln;const{Axios:Ndt,AxiosError:Idt,CanceledError:Fdt,isCancel:jdt,CancelToken:Bdt,VERSION:zdt,all:Udt,Cancel:Hdt,isAxiosError:$dt,spread:Wdt,toFormData:Vdt,AxiosHeaders:Gdt,HttpStatusCode:qdt,formToJSON:Ydt,getAdapter:Xdt,mergeConfig:Kdt}=ln,zg=c3("auth/login",async(i,{rejectWithValue:t})=>{try{return(await ln.post("https://study-buddy-2o9t.onrender.com/api/auth/signin",i)).data}catch(e){return t(e.response?.data?.message||"Login failed")}}),y0=c3("auth/register",async(i,{rejectWithValue:t})=>{try{return(await ln.post("https://study-buddy-2o9t.onrender.com/api/auth/signup",i)).data}catch(e){return t(e.response?.data?.message||"Registration failed")}}),jW=localStorage.getItem("token"),BW={user:null,token:null,loading:!1,error:null,isLoggedIn:!!jW},D3=s7({name:"auth",initialState:BW,reducers:{logoutUser:i=>{i.user=null,i.token=null,i.isLoggedIn=!1,localStorage.removeItem("token")}},extraReducers:i=>{i.addCase(zg.pending,t=>{t.loading=!0,t.error=null}).addCase(zg.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0,localStorage.setItem("token",e.payload.token)}).addCase(zg.rejected,(t,e)=>{t.isLoggedIn=!1,t.loading=!1,t.error=e.payload}).addCase(y0.pending,t=>{t.loading=!0,t.error=null}).addCase(y0.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!1,localStorage.setItem("token",e.payload.token)}).addCase(y0.rejected,(t,e)=>{t.loading=!1,t.error=e.payload})}}),{logoutUser:zW}=D3.actions,UW=D3.reducer,HW=$$({reducer:{auth:UW}}),$W="_container_w2yxm_1",WW={container:$W},qE=({children:i})=>F.jsx("div",{className:WW.container,children:i}),VW="_header_ccmjv_1",GW="_left_ccmjv_11",qW="_menuBtn_ccmjv_17",YW="_logoSection_ccmjv_27",XW="_logoLink_ccmjv_33",KW="_logo_ccmjv_27",QW="_title_ccmjv_49",ZW="_subtitle_ccmjv_55",JW="_userSection_ccmjv_87",t9="_userMenu_ccmjv_91",e9="_avatar_ccmjv_98",n9="_dropdown_ccmjv_105",i9="_menuItem_ccmjv_118",s9="_divider_ccmjv_130",r9="_logout_ccmjv_136",a9="_authLinks_ccmjv_151",o9="_loginLink_ccmjv_156",Zn={header:VW,left:GW,menuBtn:qW,logoSection:YW,logoLink:XW,logo:KW,title:QW,subtitle:ZW,userSection:JW,userMenu:t9,avatar:e9,dropdown:n9,menuItem:i9,divider:s9,logout:r9,authLinks:a9,loginLink:o9},l9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAzDSURBVHgBpVkLcFzldf7ua+++d7W72pVWlrQSMrYs6xFwauJQIpcMuC0gmzQNcToDlPJoOqlJMsy4k5c80yF0OpNApzNNy2SAZqDQYYKTSUISEiyiEBuwjTBG2JawZFnWcx/a9+O+cv670koryUaOz8zd+/r//3z3nPN/5/z/crhG2bP3kQig9XKAhwNXw54ZMBIAd8EAv/DLwz8YwDUKh6uU3r2Peq3I7uXA9/Eweg1w3o/rYwAD1PZZDfwbBHocVykbBsnA2ZE7QB0e3QiwK8izOrhDVwN2QyD/cu/DB8gS/ZcDVywCyQUONtkCv9tqjprNlxBPFeByG7Db1/ahkHgyD/uhgcNPLuBaQLJ442A8Q41613ufiHHoaWtAd20Gjc4M8rEpqMU8oGvgBBGSw42pjBPvzrtwLq7A5VFXDzFOVt39cVa9LMjPP/ZYjxItvKLrRkRNKuYz0SOZ51JGgxs12P+ZWhQ/+BWKuTQ+TrKGC6/PbELSZYHVzVe940X+vsM//I/nLtdXWO/hX+19sMfRZD8ih+Q6OSBDSakwdAPeLg/EGhlhqx9/180jO3IUhfTHessUC1fCFnccsZIMoz0Ie0gGG5sdFp9lb2vzJ5Jn3n372Hp911iSuZji7whdRtbroOedeKA7hvz0CBSNQ0aVUSMXsBHRDeIEzsCLI81AnWvNe4rTfa8e/p/Dq59XWZLNYAuUo1KNJeL7ZA1KCQV6SYf/0344Ig6oLivuDpagT79vth/P+NBQoxFNKtiIXErbYJc0NDmzGA1FEPiEG7Z6KwpTBVjDVng7vXvCjo6XRs8cr3KPuPLGgfx3iNMiSqKE6GC08jz2Zsw8h2QfbN5hLEESXEHwxhg0bEwaXHmcizmxJZCB7/QY5qdqwS36kgGlw0u3z9Dt7pX9Kpbs/+5/RWZm5l80DAMWvwWebg9sm2yVQ3NacbsnT7nkQqXzPMKoFeM0mdUNgWSA4jkLnBYV9Y4CPgy0wOUToZU01OyoMfVANSKRTd3J0TMnKvFZmWZbOtqf0bSyTUox4rhj8aoje6IIW+pcldLEQh6iLONqpNmbw8WkDW5ZBX96FrmLOegFvaKnMFOgicJ9h4VeFcjpvNGrKmrv0kPJK1EcBuDe6obgEODfFUBrgEcpmzLfk7Exk5YxPl2A6qhfA4SIoPpeX56fsqhTbFrN61oxCx+NzXQtHSw2SVh2e3SpjxmTvK7fl04tc52yoFAcLsfkpdejuK2BLkrl+8mUDSenPei6sQNjmRwacaYKVIxcWusoVe6TRREuspzIl9EzVmDSaM/id69G4fFgPemjo9/Ex344jutLrQApuiS4O1yVgzTSgMsTbjRuR7BlCw7sb4UvFIQjULamsWjBSykrlBXWU4l6RmOOMkB6nlfKUyFgL8GQRYgOsaKLzYeycD1Eh70mHuZq4qeqnKxlVeQnlrlPWBDAybHK/YLuwzc+1wq7VcA+yjrfe6ELylQOsYKENl+WUqEVqsaj1Z81eTGVl/DmhA9jCTvxqgSnVOYHK7leSOWh2iwVfVpxmSs46D10GhApYHppJCoEnMsveWYVA2qaglvm4bHKUEvlQRghO90OROrs+N27CbxzOgGJF3FK68Tn94QwNZ/H7hutsFoEvPjrSVyaLSEUsOL+L4XRcZ0T//vjM+jg36rokgydLCmY+qrcwdzMcb10epLnBa6bPXC7lzOAQOZ3NNshOskVbgm8fbmzqrGsweHP/v4opuYKOPDFiMkt33qgDUdPJzExp+D90Qxe+s0MvnDbJtz92TCe+no7EmkF9x46jUSOq6Q5jYYUbJypa+kQnVIFR2tri4lNJG94mXqPdzl6FSooUuky96nkep14DP6KD+CwC/ja/kZ0bqYK52waP/5DCmNRDtfXWbF/TxhBnwVPPHse74yUcGw4j3Aggdt2BjBCdAM1VwFZUgUoaQ2pD9PLllwhPTu6IqZFjcUcvbV9MwShHNASWS9AdMAOiVU+wTJlaGwyUIezYxncflMtfv77KLaTC69vduGmrhoksxrq/DIECp88xVbndQ50tgews9OLU6Np3HFzLS5NpUxSZxOoxLzis5p63NvccLQ4Ya23VUA2R5oYPUYqadFT40F9uA6TFy9R1aNgfnC+0jg6ryAZlmhgIjCrimI+jzffS+DOW2rx7z8aw9Y6AxPj83hoX0MlzT24rxE/eHkC2yg3v/BqCs2kPOiTMTlDViM6i2UtSBM1pYg0VupaEpvNiq0dm83rqty9c9cOTL50CdYQJfsbvFg4mUBhtojWO2px7Kdz2BpImzOywV3A9//vAl5+ogfffrCt0j+ZUfDTN2YhywJ2dnjw+D9tQYkKFEnikC1o2P+tUwg5ipgngDmioemMjIZba+FvZnFYdndqOIXchRy2d22jfhJ05m56VyHAXbfsNCdFYbaAmVdnTIBmx7fmMVFwIkNfPkUc2OTOYXI2iy9+8xROnElC1fWyNyjob+7xoavNBS9xLbOqxcLh7IUsHnliGCepbYTyf6ooUR8ekzknlOEo6Zo29bGDAWTS+9lbzHO9jRsXdcN4j4AxPoLPV4Obe3fh2NA7cF7nrDK/EXTjxDEFm6iSYdbY4s9Aa3Pj+R/N4pXALD6zy4e2RjtcNgGSwOHCdB4TM3kMvp3AxJk8LgaKVAUVzMzD3Hwu7oR4QxDeiIwUTT7v9vLEzU3kEHbVYdv2LeAMbsh0N30tu7h3CUzf5/4aR3//NuLH41UgWahNGh5kdSeM7DxurEti+KMwuinX7g36MPhGEt8vzRFt2JGlSXOKFN/l9OGhpiAGQ0nMjGTR1kRFBBH7+8UgcqKAcCKPhWTeHH+lvrv/oW9RqWF6WTQ4fYhbUfv6/DX42/378Pxz/4/V0nod+xUwnq1DgSZTk1hAuqBQfOno9JNl2i3Ys6vWbPsy8WTLWZGlXMgCj6JC/JkIgAtYSAfpwfpy62296Ojcal6Tl3/Czry1IA5xK+LSbHh7L7Z1tuNywpiqvaENnw5swsPbwyYIv1VENlrm1gJNlnNj5DYHLbrI9Zs9NvxFQwgt1npcqbILBAO4izy5JLRAGzDPNTXcgg6jaqXGvv7L//wAmpo3rRmIrbE9SghfbQmh1ibhX/5wHu9FM5S3FeTfV/Dir6bxs8FZuC5RvVlQaT0zj8ePTyBsl3GwuwnNST+y2aW5vCwuyngHv/lVynyVuTAetJRj0mS16bzSy0M4shpQLBrH9777n5iamjbvlVIN7v3SXcwNkCUBFqkcJpm8Uiki9cVRWZZgT5bALFXXc/NpKKqG1357DLJtznzmD/hw4LF/RGPTCqMI3H0hC2caz+TJeps0MJfXB4xVmwCs89e/8RU89/TzODX0AVwuF7q6W0wljF4ksVwYKKqOjUrxxBh5Q4VVtpofEKoL4msHv4JgKLCy2XhOwk+w6gNpMaUdWm9QRksHHvsy/uaePszMsJRWtg1LtSVFuyqATJYyUjSaRe+tf45v/+vB1QCZFftbOG5hDUhmTbLKU+sNzPM8ZaNPwUW7EIpy+UWX/fyHqHvlh6h7+Wk4Pzy55r1KH1VcrBeDJR49N9wEu8O2utn4kpvXgGQiF/l+1gjryJFfn8LDnfWYnUut9xpiMg7f4M8h5TOw+T3wHnsN8vSFqjaZTIE8oFMJq+NTXhuGB6uXHYxl2N7Q6rGrQJZnOrd7NSUxWRiZwmay4tRUAuuJLTYN5513QtrcBiEUgusL99Dqcrma1zUd42PlQiKxkDXdXjw5WlWiKYJ+P0uDVwTJxGykq1VA47E0/PE03ppKIpPKYT0puv3IDQyQT1Uo588j+4tfoGRZ3PMjHJMXYygUyouzaDSNuZyCCO2+nT61aG3dONQgi4fXG5tf72HQaRliQLHo+vfeHcfOeg/uaPXDkiut1wWlQB0Sm3tQOD8ONZ5AMtKOXMtWM4Y/Gp2p8kA6XcDBHY3YQgvXDwgkBcD9IYfQj8uIeLkXDCgVnLvZ5lVJUSNeuwRLmkf0/CyGT1+kGUlFqpN2N6yWyrZXunMnMh07iCo0ZBVyxWScwC2Qcas3YrhcgQprO2yiMP7M06/tO/DQ7iFcQcQrvVyMj5YTZ2f7//uFwQOPhBxePZlDPJHF7GySqQOtkWjVaIEo8WXOpDxeLCqEc4nK126BOsntqmZ7ymKV+ofeefzadnpXitf7SOServr+kZzad0vfJ9dsSxtX6kwvk8ks8pSZkqnCwMjxjw4dP/NvA9igXPW/D17vo95wo31v9w2Rvuu3hnstsuRdxFH5qVpTkYbx0dmBI68PH3bX254bGujf2K5r9RDXJnOZUo/B8RFOEJo1TTf/xxEEPqGpWlKAPpR1SOMrs8efIn8E3/dPEyYRPO0AAAAASUVORK5CYII=",c9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAYAAABHomvIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK6SURBVHgB7Zk/aBNRHMe/7y4KQpN2LNSWG1poo2AyWNtC1Iw6tYO41qGTROLmnyFx0E20iJNgq5u00EzaCmq0Uu3UE2wNtOBDE9vNmBYcksvzvSMJsblLLuSS3JBPuNy7e+/Ch9/j3vvxC0EV+oYmfJBlHwFT0AQYCIWmqantNdVsDDG6OeA9G2FgYf4LPWgNlDAS/ZH48Oxwx3+CvcPnFRfJL/GI+dAeaJZlg3uJz7R4oyQo5I5I2kYLo2YGzee0qeK0k5Ic0d7xpgJnQPf/yv40jaclccXlonCOnEBxH9PmRIMUovcdDoQxFpRcJBeGUyGYlAjIKTgVIp2TCEG7lpSaEMYUF7OwrLyYn8X4qN+0fzOxjafPF7EQe6Vfj5/2IXz1StVnVt6sYiZ0GzXoccEiydReSaCc4329XMiP+/duwuPpgsfdhetcLrN/gIWlZSR/7VY8c2nyArrdblihLsEHj+cM+4Tkk0d3EbkR0q83Ezu4PH0NmcyB4fgxHmFivMtWIMEGhHz5dM2EbpnK1YvlCNZCSIrjD59acbYL2wQFP1O7lqfOKrZMcTPpCDZKR7BROoKN0hFsFMcLWt7qvCODel5oxmJsudQW6ZZ3eFBPvYw4MTKErW87sE3wNU8uSeFjhEi3RD5YZGzUV0oejBByK29XYQXSPxJgsAERNXEIRN5oljvWi22Cgq/rL/XzyTMXYRe2pluf1jfQ7bGWyluFDHgDv1n76zFmiNIHo3AsTJXyDO/hUPjL8UXi3zE4FBfLPZSSiY9xvrw5T5JhnvJCpr7VyUdlsYBROAcqI3tHNHRBqsbTMtGm4ARJgrTMy8C0UAYuJQt0a02VmRxEGyV51V+V81k/NapRl9M/HJjmPRG0qurKo8bybJa/D9HKrioo3gmfxmSFVzqbUqIT/5Pwwr0qZs9szD/7WvuMYd6c0AAAAABJRU5ErkJggg==",Ow=({onMenuClick:i,hasSidebar:t=!1})=>{const[e,n]=V.useState(!1),s=V.useRef(),r=QF(),{isLoggedIn:a}=q1(u=>u.auth);V.useEffect(()=>{const u=d=>{s.current&&!s.current.contains(d.target)&&n(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const l=()=>{r(zW()),n(!1)};return F.jsxs("header",{className:Zn.header,children:[F.jsxs("div",{className:Zn.left,children:[t&&F.jsx("button",{className:Zn.menuBtn,onClick:i,children:""}),F.jsx("div",{className:Zn.logoSection,children:F.jsxs(jg,{to:"/",className:Zn.logoLink,children:[F.jsx("img",{src:c9,alt:"Study Buddy Logo",className:Zn.logo}),F.jsxs("div",{children:[F.jsx("h1",{className:Zn.title,children:"Study Buddy"}),F.jsx("p",{className:Zn.subtitle,children:"Your smart learning partner"})]})]})})]}),F.jsx("div",{className:Zn.userSection,ref:s,children:a?F.jsxs(F.Fragment,{children:[F.jsx("div",{className:Zn.userMenu,onClick:()=>n(u=>!u),children:F.jsx("img",{src:l9,alt:"User Avatar",className:Zn.avatar})}),e&&F.jsxs("div",{className:Zn.dropdown,children:[F.jsx(jg,{to:"/account",className:Zn.menuItem,children:"My Account"}),F.jsx("hr",{className:Zn.divider}),F.jsx("button",{onClick:l,className:Zn.logout,children:"Logout"})]})]}):F.jsx("div",{className:Zn.authLinks,children:F.jsx(jg,{to:"/login",className:Zn.loginLink,children:"Sign In"})})})]})},u9="_card_1mln8_1",h9="_title_1mln8_12",d9="_cardTitle_1mln8_19",f9="_date_1mln8_25",p9="_button_1mln8_33",rh={card:u9,title:h9,cardTitle:d9,date:f9,button:p9},bD=({title:i,date:t,id:e})=>{const n=Om(),s=()=>{n(`/modules/${e}`)};return F.jsxs("div",{className:rh.card,children:[F.jsx("div",{className:rh.cardDate,children:F.jsx("p",{className:rh.date,children:t})}),F.jsxs("div",{className:rh.cardTitle,children:[F.jsx("p",{className:rh.title,children:i}),F.jsx("button",{className:rh.button,onClick:s,children:"Keep learning"})]})]})},g9="_container_1syvj_3",m9="_icon_1syvj_18",y9="_title_1syvj_30",v9="_subtitle_1syvj_41",b9="_card_1syvj_49",w9="_actionBtn_1syvj_96",ah={container:g9,icon:m9,title:y9,subtitle:v9,card:b9,actionBtn:w9},_9=({onClick:i})=>F.jsxs("div",{className:ah.container,children:[F.jsx("div",{className:ah.icon,children:""}),F.jsxs("h1",{className:ah.title,children:["Welcome to Study Buddy! ",F.jsx("span",{children:""})]}),F.jsx("p",{className:ah.subtitle,children:"Get started by creating your first study module. You can add notes, videos, slides, or text later to build your personalized learning space."}),F.jsxs("div",{className:ah.card,children:[F.jsx("h3",{children:"How to get started:"}),F.jsxs("ul",{children:[F.jsxs("li",{children:[F.jsx("span",{children:"1"})," Create a Study Module"]}),F.jsxs("li",{children:[F.jsx("span",{children:"2"})," Add notes, slides, or resources"]}),F.jsxs("li",{children:[F.jsx("span",{children:"3"})," Start Learning!"]})]})]}),F.jsx("button",{className:ah.actionBtn,onClick:i,children:"+ Create Your First Module"})]}),A9="_overlay_1tis3_1",S9="_modal_1tis3_14",x9="_closeButton_1tis3_27",E9="_title_1tis3_38",T9="_subtitle_1tis3_44",C9="_formGroup_1tis3_51",k9="_input_1tis3_63",R9="_uploadSection_1tis3_140",M9="_uploadList_1tis3_151",L9="_footer_1tis3_158",O9="_actions_1tis3_169",P9="_cancelButton_1tis3_174",D9="_createButton_1tis3_187",N9="_hiddenFileInput_1tis3_208",I9="_uploadButton_1tis3_212",F9="_uploadedFile_1tis3_235",j9="_fileIcon_1tis3_245",Jn={overlay:A9,modal:S9,closeButton:x9,title:E9,subtitle:T9,formGroup:C9,input:k9,uploadSection:R9,uploadList:M9,footer:L9,actions:O9,cancelButton:P9,createButton:D9,hiddenFileInput:N9,uploadButton:I9,uploadedFile:F9,fileIcon:j9},Bm=ln.create({baseURL:"https://study-buddy-2o9t.onrender.com/api"});Bm.interceptors.request.use(i=>{const t=localStorage.getItem("token");return t&&(i.headers.Authorization=`Bearer ${t}`),i});const N3=({isOpen:i,onClose:t,onCreate:e,moduleId:n,mode:s="create"})=>{const[r,a]=V.useState(""),[l,u]=V.useState([]),[d,h]=V.useState(!1);if(V.useEffect(()=>{s==="upload"&&a("")},[s]),!i)return null;const p=v=>{const _=Array.from(v.target.files);u(w=>[...w,..._])},m=async()=>{if(s==="create"&&!r.trim()){alert("Please enter a module name.");return}if(l.length===0){alert("Please upload at least one file.");return}h(!0);try{const v=new FormData;s==="create"?v.append("moduleName",r):v.append("moduleId",n),l.forEach(w=>v.append("files",w));const _=await Bm.post("/files/upload",v,{headers:{"Content-Type":"multipart/form-data"}});console.log("Upload successful:",_.data),e&&_.data?.module&&e(_.data.module),a(""),u([]),t()}catch(v){console.error("Upload failed:",v),alert("Upload failed")}finally{h(!1)}};return F.jsx("div",{className:Jn.overlay,children:F.jsxs("div",{className:Jn.modal,children:[F.jsx("button",{className:Jn.closeButton,onClick:t,children:""}),F.jsx("h2",{className:Jn.title,children:s==="create"?"Create New Study Module":"Add Files to Module"}),F.jsx("p",{className:Jn.subtitle,children:s==="create"?"Upload your study materials to create a new module.":"Select and upload additional files for this module."}),s==="create"&&F.jsxs("div",{className:Jn.formGroup,children:[F.jsx("label",{htmlFor:"moduleName",children:"Module Name"}),F.jsx("input",{id:"moduleName",type:"text",className:Jn.input,placeholder:"e.g., Calculus I - Chapter 3",value:r,onChange:v=>a(v.target.value),disabled:d})]}),F.jsxs("div",{className:Jn.uploadSection,children:[F.jsx("input",{id:"fileInput",type:"file",multiple:!0,className:Jn.hiddenFileInput,onChange:p,disabled:d}),F.jsx("label",{htmlFor:"fileInput",className:Jn.uploadButton,children:" Upload Files"}),l.length>0&&F.jsx("ul",{className:Jn.uploadList,children:l.map((v,_)=>F.jsxs("li",{className:Jn.uploadedFile,children:[F.jsx("span",{className:Jn.fileIcon,children:""})," ",v.name]},_))})]}),F.jsxs("div",{className:Jn.footer,children:[F.jsxs("span",{children:["Total files: ",l.length]}),F.jsxs("div",{className:Jn.actions,children:[F.jsx("button",{className:Jn.cancelButton,onClick:t,disabled:d,children:"Cancel"}),F.jsx("button",{className:Jn.createButton,onClick:m,disabled:l.length===0||d,children:d?"Uploading...":s==="create"?"Create Module":"Add Files"})]})]})]})})},B9="_homePage_18xey_1",z9="_modulesGrid_18xey_7",U9="_content_18xey_14",H9="_modulesSection_18xey_22",Wl={homePage:B9,modulesGrid:z9,content:U9,modulesSection:H9},$9="_addCard_1pj9l_1",W9={addCard:$9},V9="/Study-Buddy/assets/symbol-defs-CAKCujkI.svg",G9=({onClick:i})=>F.jsx("div",{className:W9.addCard,onClick:i,children:F.jsx("span",{children:F.jsx("svg",{width:"24",height:"24",fill:"#273da4",children:F.jsx("use",{href:`${V9}#icon-plus`})})})});/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y9=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),wD=i=>{const t=Y9(i);return t.charAt(0).toUpperCase()+t.slice(1)},I3=(...i)=>i.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),X9=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=V.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:r,iconNode:a,...l},u)=>V.createElement("svg",{ref:u,...K9,width:t,height:t,stroke:i,strokeWidth:n?Number(e)*24/Number(t):e,className:I3("lucide",s),...!r&&!X9(l)&&{"aria-hidden":"true"},...l},[...a.map(([d,h])=>V.createElement(d,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=(i,t)=>{const e=V.forwardRef(({className:n,...s},r)=>V.createElement(Q9,{ref:r,iconNode:t,className:I3(`lucide-${q9(wD(i))}`,`lucide-${i}`,n),...s}));return e.displayName=wD(i),e};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],J9=af("chevron-down",Z9);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eV=af("chevron-right",tV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iV=af("clock",nV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],rV=af("flame",sV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oV=af("plus",aV);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cV=af("target",lV),uV="_container_sht10_1",hV="_card_sht10_9",dV="_icon_sht10_29",fV="_value_sht10_33",pV="_label_sht10_39",gV="_subtext_sht10_46",oh={container:uV,card:hV,icon:dV,value:fV,label:pV,subtext:gV},mV=[{id:1,icon:F.jsx(iV,{size:32,color:"#2563eb"}),value:24,label:"Study Sessions",subtext:"Last 24 hours",color:"#e0ecff",accent:"#2563eb"},{id:2,icon:F.jsx(cV,{size:32,color:"#16a34a"}),value:"89%",label:"Average Score",subtext:"Last 10 tests",color:"#e6f8ed",accent:"#16a34a"},{id:3,icon:F.jsx(rV,{size:32,color:"#ea580c"}),value:7,label:"Day Streak",subtext:"Keep it up! ",color:"#fff1e6",accent:"#ea580c"}],yV=()=>F.jsx("div",{className:oh.container,children:mV.map(i=>F.jsxs("div",{className:oh.card,style:{backgroundColor:i.color},children:[F.jsx("div",{className:oh.icon,children:i.icon}),F.jsx("h2",{className:oh.value,style:{color:i.accent},children:i.value}),F.jsx("h3",{className:oh.label,children:i.label}),F.jsx("p",{className:oh.subtext,children:i.subtext})]},i.id))}),vV=()=>{const[i,t]=V.useState([]),[e,n]=V.useState(!0),[s,r]=V.useState(!1);V.useEffect(()=>{(async()=>{try{const h=await Bm.get("/files/modules");t(h.data.modules||[])}catch(h){console.error("Failed to fetch modules:",h)}finally{n(!1)}})()},[]);const a=()=>r(!0),l=()=>r(!1),u=d=>{t(h=>[...h,d]),r(!1)};return e?F.jsxs(F.Fragment,{children:[F.jsx(Ow,{}),F.jsx(qE,{children:F.jsx("div",{className:Wl.homePage,children:F.jsx("p",{children:"Loading..."})})})]}):F.jsxs(F.Fragment,{children:[F.jsx(Ow,{}),F.jsxs(qE,{children:[F.jsx("div",{className:Wl.homePage,children:i.length===0?F.jsx(_9,{onClick:a}):F.jsxs("div",{className:Wl.content,children:[F.jsxs("div",{className:Wl.modulesSection,children:[F.jsx("h2",{children:"Your Study Modules"}),F.jsxs("div",{className:Wl.modulesGrid,children:[i.map(d=>F.jsx(bD,{id:d.id,title:d.title,date:new Date(d.createdAt).toLocaleDateString()},d.id)),F.jsx(G9,{onClick:a})]})]}),F.jsxs("div",{className:Wl.modulesSection,children:[F.jsx("h2",{children:"Archived modules"}),F.jsx("div",{className:Wl.modulesGrid,children:F.jsx(bD,{id:"1000",title:"Mats",date:new Date("2025-01-10T10:30:00Z").toLocaleDateString()},"1000")})]}),F.jsx(yV,{})]})}),s&&F.jsx(N3,{isOpen:s,onClose:l,onCreate:u})]})]})},bV="_pageWrapper_gv7w0_1",wV="_card_gv7w0_10",_V="_header_gv7w0_20",AV="_iconCircle_gv7w0_24",SV="_icon_gv7w0_24",xV="_title_gv7w0_40",EV="_subtitle_gv7w0_47",TV="_formContainer_gv7w0_52",CV="_toggleText_gv7w0_56",kV="_toggleButton_gv7w0_62",tr={pageWrapper:bV,card:wV,header:_V,iconCircle:AV,icon:SV,title:xV,subtitle:EV,formContainer:TV,toggleText:CV,toggleButton:kV};var F3={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_D=Kt.createContext&&Kt.createContext(F3),RV=["attr","size","title"];function MV(i,t){if(i==null)return{};var e=LV(i,t),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);for(s=0;s<r.length;s++)n=r[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(i,n)&&(e[n]=i[n])}return e}function LV(i,t){if(i==null)return{};var e={};for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){if(t.indexOf(n)>=0)continue;e[n]=i[n]}return e}function Pw(){return Pw=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])}return i},Pw.apply(this,arguments)}function AD(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),e.push.apply(e,n)}return e}function Dw(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(e),!0).forEach(function(n){OV(i,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):AD(Object(e)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(e,n))})}return i}function OV(i,t,e){return t=PV(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function PV(i){var t=DV(i,"string");return typeof t=="symbol"?t:t+""}function DV(i,t){if(typeof i!="object"||!i)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function j3(i){return i&&i.map((t,e)=>Kt.createElement(t.tag,Dw({key:e},t.attr),j3(t.child)))}function Sl(i){return t=>Kt.createElement(NV,Pw({attr:Dw({},i.attr)},t),j3(i.child))}function NV(i){var t=e=>{var{attr:n,size:s,title:r}=i,a=MV(i,RV),l=s||e.size||"1em",u;return e.className&&(u=e.className),i.className&&(u=(u?u+" ":"")+i.className),Kt.createElement("svg",Pw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,a,{className:u,style:Dw(Dw({color:i.color||e.color},e.style),i.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&Kt.createElement("title",null,r),i.children)};return _D!==void 0?Kt.createElement(_D.Consumer,null,e=>t(e)):t(F3)}function IV(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"},child:[]}]})(i)}function FV(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"},child:[]}]})(i)}function B3(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"},child:[]}]})(i)}function jV(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 21V23H11V21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H9C10.1947 3 11.2671 3.52375 12 4.35418C12.7329 3.52375 13.8053 3 15 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H13ZM20 19V5H15C13.8954 5 13 5.89543 13 7V19H20ZM11 19V7C11 5.89543 10.1046 5 9 5H4V19H11Z"},child:[]}]})(i)}function z3(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.34268 18.7819L7.41083 18.2642L8.1983 15.3254C7.00919 14.8874 5.91661 14.2498 4.96116 13.4534L2.80783 15.6067L1.39362 14.1925L3.54695 12.0392C2.35581 10.6103 1.52014 8.87466 1.17578 6.96818L3.14386 6.61035C3.90289 10.8126 7.57931 14.0001 12.0002 14.0001C16.4211 14.0001 20.0976 10.8126 20.8566 6.61035L22.8247 6.96818C22.4803 8.87466 21.6446 10.6103 20.4535 12.0392L22.6068 14.1925L21.1926 15.6067L19.0393 13.4534C18.0838 14.2498 16.9912 14.8874 15.8021 15.3254L16.5896 18.2642L14.6578 18.7819L13.87 15.8418C13.2623 15.9459 12.6376 16.0001 12.0002 16.0001C11.3629 16.0001 10.7381 15.9459 10.1305 15.8418L9.34268 18.7819Z"},child:[]}]})(i)}function C2(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"},child:[]}]})(i)}function U3(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM5 12V20H19V12H5ZM11 14H13V18H11V14ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17Z"},child:[]}]})(i)}function BV(i){return Sl({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"},child:[]}]})(i)}function H3(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var s=i.length;for(t=0;t<s;t++)i[t]&&(e=H3(i[t]))&&(n&&(n+=" "),n+=e)}else for(e in i)i[e]&&(n&&(n+=" "),n+=e);return n}function hr(){for(var i,t,e=0,n="",s=arguments.length;e<s;e++)(i=arguments[e])&&(t=H3(i))&&(n&&(n+=" "),n+=t);return n}function zV(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}zV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zm=i=>typeof i=="number"&&!isNaN(i),eu=i=>typeof i=="string",so=i=>typeof i=="function",UV=i=>eu(i)||zm(i),YE=i=>eu(i)||so(i)?i:null,HV=(i,t)=>i===!1||zm(i)&&i>0?i:t,XE=i=>V.isValidElement(i)||eu(i)||so(i)||zm(i);function $V(i,t,e=300){let{scrollHeight:n,style:s}=i;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${e}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,e)})})}function WV({enter:i,exit:t,appendPosition:e=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:r,position:a,preventExitTransition:l,done:u,nodeRef:d,isIn:h,playToast:p}){let m=e?`${i}--${a}`:i,v=e?`${t}--${a}`:t,_=V.useRef(0);return V.useLayoutEffect(()=>{let w=d.current,S=m.split(" "),x=C=>{C.target===d.current&&(p(),w.removeEventListener("animationend",x),w.removeEventListener("animationcancel",x),_.current===0&&C.type!=="animationcancel"&&w.classList.remove(...S))};w.classList.add(...S),w.addEventListener("animationend",x),w.addEventListener("animationcancel",x)},[]),V.useEffect(()=>{let w=d.current,S=()=>{w.removeEventListener("animationend",S),n?$V(w,u,s):u()};h||(l?S():(_.current=1,w.className+=` ${v}`,w.addEventListener("animationend",S)))},[h]),Kt.createElement(Kt.Fragment,null,r)}}function SD(i,t){return{content:$3(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function $3(i,t,e=!1){return V.isValidElement(i)&&!eu(i.type)?V.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):so(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):i}function VV({closeToast:i,theme:t,ariaLabel:e="close"}){return Kt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),i(!0)},"aria-label":e},Kt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Kt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function GV({delay:i,isRunning:t,closeToast:e,type:n="default",hide:s,className:r,controlledProgress:a,progress:l,rtl:u,isIn:d,theme:h}){let p=s||a&&l===0,m={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};a&&(m.transform=`scaleX(${l})`);let v=hr("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),_=so(r)?r({rtl:u,type:n,defaultClassName:v}):hr(v,r),w={[a&&l>=1?"onTransitionEnd":"onAnimationEnd"]:a&&l<1?null:()=>{d&&e()}};return Kt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Kt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${n}`}),Kt.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:_,style:m,...w}))}var qV=1,W3=()=>`${qV++}`;function YV(i,t,e){let n=1,s=0,r=[],a=[],l=t,u=new Map,d=new Set,h=C=>(d.add(C),()=>d.delete(C)),p=()=>{a=Array.from(u.values()),d.forEach(C=>C())},m=({containerId:C,toastId:L,updateId:j})=>{let R=C?C!==i:i!==1,D=u.has(L)&&j==null;return R||D},v=(C,L)=>{u.forEach(j=>{var R;(L==null||L===j.props.toastId)&&((R=j.toggle)==null||R.call(j,C))})},_=C=>{var L,j;(j=(L=C.props)==null?void 0:L.onClose)==null||j.call(L,C.removalReason),C.isActive=!1},w=C=>{if(C==null)u.forEach(_);else{let L=u.get(C);L&&_(L)}p()},S=()=>{s-=r.length,r=[]},x=C=>{var L,j;let{toastId:R,updateId:D}=C.props,P=D==null;C.staleId&&u.delete(C.staleId),C.isActive=!0,u.set(R,C),p(),e(SD(C,P?"added":"updated")),P&&((j=(L=C.props).onOpen)==null||j.call(L))};return{id:i,props:l,observe:h,toggle:v,removeToast:w,toasts:u,clearQueue:S,buildToast:(C,L)=>{if(m(L))return;let{toastId:j,updateId:R,data:D,staleId:P,delay:M}=L,O=R==null;O&&s++;let N={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(L).filter(([Q,G])=>G!=null)),toastId:j,updateId:R,data:D,isIn:!1,className:YE(L.className||l.toastClassName),progressClassName:YE(L.progressClassName||l.progressClassName),autoClose:L.isLoading?!1:HV(L.autoClose,l.autoClose),closeToast(Q){u.get(j).removalReason=Q,w(j)},deleteToast(){let Q=u.get(j);if(Q!=null){if(e(SD(Q,"removed")),u.delete(j),s--,s<0&&(s=0),r.length>0){x(r.shift());return}p()}}};N.closeButton=l.closeButton,L.closeButton===!1||XE(L.closeButton)?N.closeButton=L.closeButton:L.closeButton===!0&&(N.closeButton=XE(l.closeButton)?l.closeButton:!0);let H={content:C,props:N,staleId:P};l.limit&&l.limit>0&&s>l.limit&&O?r.push(H):zm(M)?setTimeout(()=>{x(H)},M):x(H)},setProps(C){l=C},setToggle:(C,L)=>{let j=u.get(C);j&&(j.toggle=L)},isToastActive:C=>{var L;return(L=u.get(C))==null?void 0:L.isActive},getSnapshot:()=>a}}var Ii=new Map,_m=[],KE=new Set,XV=i=>KE.forEach(t=>t(i)),V3=()=>Ii.size>0;function KV(){_m.forEach(i=>q3(i.content,i.options)),_m=[]}var QV=(i,{containerId:t})=>{var e;return(e=Ii.get(t||1))==null?void 0:e.toasts.get(i)};function G3(i,t){var e;if(t)return!!((e=Ii.get(t))!=null&&e.isToastActive(i));let n=!1;return Ii.forEach(s=>{s.isToastActive(i)&&(n=!0)}),n}function ZV(i){if(!V3()){_m=_m.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||UV(i))Ii.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=Ii.get(i.containerId);t?t.removeToast(i.id):Ii.forEach(e=>{e.removeToast(i.id)})}}var JV=(i={})=>{Ii.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function q3(i,t){XE(i)&&(V3()||_m.push({content:i,options:t}),Ii.forEach(e=>{e.buildToast(i,t)}))}function tG(i){var t;(t=Ii.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function Y3(i,t){Ii.forEach(e=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===e.id)&&e.toggle(i,t?.id)})}function eG(i){let t=i.containerId||1;return{subscribe(e){let n=YV(t,i,XV);Ii.set(t,n);let s=n.observe(e);return KV(),()=>{s(),Ii.delete(t)}},setProps(e){var n;(n=Ii.get(t))==null||n.setProps(e)},getSnapshot(){var e;return(e=Ii.get(t))==null?void 0:e.getSnapshot()}}}function nG(i){return KE.add(i),()=>{KE.delete(i)}}function iG(i){return i&&(eu(i.toastId)||zm(i.toastId))?i.toastId:W3()}function Um(i,t){return q3(i,t),t.toastId}function n_(i,t){return{...t,type:t&&t.type||i,toastId:iG(t)}}function i_(i){return(t,e)=>Um(t,n_(i,e))}function Re(i,t){return Um(i,n_("default",t))}Re.loading=(i,t)=>Um(i,n_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function sG(i,{pending:t,error:e,success:n},s){let r;t&&(r=eu(t)?Re.loading(t,s):Re.loading(t.render,{...s,...t}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,p)=>{if(h==null){Re.dismiss(r);return}let m={type:d,...a,...s,data:p},v=eu(h)?{render:h}:h;return r?Re.update(r,{...m,...v}):Re(v.render,{...m,...v}),p},u=so(i)?i():i;return u.then(d=>l("success",n,d)).catch(d=>l("error",e,d)),u}Re.promise=sG;Re.success=i_("success");Re.info=i_("info");Re.error=i_("error");Re.warning=i_("warning");Re.warn=Re.warning;Re.dark=(i,t)=>Um(i,n_("default",{theme:"dark",...t}));function rG(i){ZV(i)}Re.dismiss=rG;Re.clearWaitingQueue=JV;Re.isActive=G3;Re.update=(i,t={})=>{let e=QV(i,t);if(e){let{props:n,content:s}=e,r={delay:100,...n,...t,toastId:t.toastId||i,updateId:W3()};r.toastId!==i&&(r.staleId=i);let a=r.render||s;delete r.render,Um(a,r)}};Re.done=i=>{Re.update(i,{progress:1})};Re.onChange=nG;Re.play=i=>Y3(!0,i);Re.pause=i=>Y3(!1,i);function aG(i){var t;let{subscribe:e,getSnapshot:n,setProps:s}=V.useRef(eG(i)).current;s(i);let r=(t=V.useSyncExternalStore(e,n,n))==null?void 0:t.slice();function a(l){if(!r)return[];let u=new Map;return i.newestOnTop&&r.reverse(),r.forEach(d=>{let{position:h}=d.props;u.has(h)||u.set(h,[]),u.get(h).push(d)}),Array.from(u,d=>l(d[0],d[1]))}return{getToastToRender:a,isToastActive:G3,count:r?.length}}function oG(i){let[t,e]=V.useState(!1),[n,s]=V.useState(!1),r=V.useRef(null),a=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:d,onClick:h,closeOnClick:p}=i;tG({id:i.toastId,containerId:i.containerId,fn:e}),V.useEffect(()=>{if(i.pauseOnFocusLoss)return m(),()=>{v()}},[i.pauseOnFocusLoss]);function m(){document.hasFocus()||x(),window.addEventListener("focus",S),window.addEventListener("blur",x)}function v(){window.removeEventListener("focus",S),window.removeEventListener("blur",x)}function _(P){if(i.draggable===!0||i.draggable===P.pointerType){C();let M=r.current;a.canCloseOnClick=!0,a.canDrag=!0,M.style.transition="none",i.draggableDirection==="x"?(a.start=P.clientX,a.removalDistance=M.offsetWidth*(i.draggablePercent/100)):(a.start=P.clientY,a.removalDistance=M.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function w(P){let{top:M,bottom:O,left:N,right:H}=r.current.getBoundingClientRect();P.nativeEvent.type!=="touchend"&&i.pauseOnHover&&P.clientX>=N&&P.clientX<=H&&P.clientY>=M&&P.clientY<=O?x():S()}function S(){e(!0)}function x(){e(!1)}function C(){a.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",R)}function L(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",R)}function j(P){let M=r.current;if(a.canDrag&&M){a.didMove=!0,t&&x(),i.draggableDirection==="x"?a.delta=P.clientX-a.start:a.delta=P.clientY-a.start,a.start!==P.clientX&&(a.canCloseOnClick=!1);let O=i.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`;M.style.transform=`translate3d(${O},0)`,M.style.opacity=`${1-Math.abs(a.delta/a.removalDistance)}`}}function R(){L();let P=r.current;if(a.canDrag&&a.didMove&&P){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),i.closeToast(!0),i.collapseAll();return}P.style.transition="transform 0.2s, opacity 0.2s",P.style.removeProperty("transform"),P.style.removeProperty("opacity")}}let D={onPointerDown:_,onPointerUp:w};return l&&u&&(D.onMouseEnter=x,i.stacked||(D.onMouseLeave=S)),p&&(D.onClick=P=>{h&&h(P),a.canCloseOnClick&&d(!0)}),{playToast:S,pauseToast:x,isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:D}}var lG=typeof window<"u"?V.useLayoutEffect:V.useEffect,s_=({theme:i,type:t,isLoading:e,...n})=>Kt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function cG(i){return Kt.createElement(s_,{...i},Kt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function uG(i){return Kt.createElement(s_,{...i},Kt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function hG(i){return Kt.createElement(s_,{...i},Kt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function dG(i){return Kt.createElement(s_,{...i},Kt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function fG(){return Kt.createElement("div",{className:"Toastify__spinner"})}var QE={info:uG,warning:cG,success:hG,error:dG,spinner:fG},pG=i=>i in QE;function gG({theme:i,type:t,isLoading:e,icon:n}){let s=null,r={theme:i,type:t};return n===!1||(so(n)?s=n({...r,isLoading:e}):V.isValidElement(n)?s=V.cloneElement(n,r):e?s=QE.spinner():pG(t)&&(s=QE[t](r))),s}var mG=i=>{let{isRunning:t,preventExitTransition:e,toastRef:n,eventHandlers:s,playToast:r}=oG(i),{closeButton:a,children:l,autoClose:u,onClick:d,type:h,hideProgressBar:p,closeToast:m,transition:v,position:_,className:w,style:S,progressClassName:x,updateId:C,role:L,progress:j,rtl:R,toastId:D,deleteToast:P,isIn:M,isLoading:O,closeOnClick:N,theme:H,ariaLabel:Q}=i,G=hr("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":N}),J=so(w)?w({rtl:R,position:_,type:h,defaultClassName:G}):hr(G,w),nt=gG(i),$=!!j||!u,T={closeToast:m,type:h,theme:H},ct=null;return a===!1||(so(a)?ct=a(T):V.isValidElement(a)?ct=V.cloneElement(a,T):ct=VV(T)),Kt.createElement(v,{isIn:M,done:P,position:_,preventExitTransition:e,nodeRef:n,playToast:r},Kt.createElement("div",{id:D,tabIndex:0,onClick:d,"data-in":M,className:J,...s,style:S,ref:n,...M&&{role:L,"aria-label":Q}},nt!=null&&Kt.createElement("div",{className:hr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},nt),$3(l,i,!t),ct,!i.customProgressBar&&Kt.createElement(GV,{...C&&!$?{key:`p-${C}`}:{},rtl:R,theme:H,delay:u,isRunning:t,isIn:M,closeToast:m,hide:p,type:h,className:x,controlledProgress:$,progress:j||0})))},yG=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),vG=WV(yG("bounce",!0)),bG={position:"top-right",transition:vG,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function wG(i){let t={...bG,...i},e=i.stacked,[n,s]=V.useState(!0),r=V.useRef(null),{getToastToRender:a,isToastActive:l,count:u}=aG(t),{className:d,style:h,rtl:p,containerId:m,hotKeys:v}=t;function _(S){let x=hr("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":p});return so(d)?d({position:S,rtl:p,defaultClassName:x}):hr(x,YE(d))}function w(){e&&(s(!0),Re.play())}return lG(()=>{var S;if(e){let x=r.current.querySelectorAll('[data-in="true"]'),C=12,L=(S=t.position)==null?void 0:S.includes("top"),j=0,R=0;Array.from(x).reverse().forEach((D,P)=>{let M=D;M.classList.add("Toastify__toast--stacked"),P>0&&(M.dataset.collapsed=`${n}`),M.dataset.pos||(M.dataset.pos=L?"top":"bot");let O=j*(n?.2:1)+(n?0:C*P);M.style.setProperty("--y",`${L?O:O*-1}px`),M.style.setProperty("--g",`${C}`),M.style.setProperty("--s",`${1-(n?R:0)}`),j+=M.offsetHeight,R+=.025})}},[n,u,e]),V.useEffect(()=>{function S(x){var C;let L=r.current;v(x)&&((C=L.querySelector('[tabIndex="0"]'))==null||C.focus(),s(!1),Re.pause()),x.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(s(!0),Re.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[v]),Kt.createElement("section",{ref:r,className:"Toastify",id:m,onMouseEnter:()=>{e&&(s(!1),Re.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},a((S,x)=>{let C=x.length?{...h}:{...h,pointerEvents:"none"};return Kt.createElement("div",{tabIndex:-1,className:_(S),"data-stacked":e,style:C,key:`c-${S}`},x.map(({content:L,props:j})=>Kt.createElement(mG,{...j,stacked:e,collapseAll:w,isIn:l(j.toastId,j.containerId),key:`t-${j.key}`},L)))}))}var Hm=i=>i.type==="checkbox",Oc=i=>i instanceof Date,Pi=i=>i==null;const X3=i=>typeof i=="object";var Cn=i=>!Pi(i)&&!Array.isArray(i)&&X3(i)&&!Oc(i),_G=i=>Cn(i)&&i.target?Hm(i.target)?i.target.checked:i.target.value:i,AG=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,SG=(i,t)=>i.has(AG(t)),xG=i=>{const t=i.constructor&&i.constructor.prototype;return Cn(t)&&t.hasOwnProperty("isPrototypeOf")},k2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zn(i){let t;const e=Array.isArray(i),n=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)t=new Date(i);else if(!(k2&&(i instanceof Blob||n))&&(e||Cn(i)))if(t=e?[]:Object.create(Object.getPrototypeOf(i)),!e&&!xG(i))t=i;else for(const s in i)i.hasOwnProperty(s)&&(t[s]=zn(i[s]));else return i;return t}var r_=i=>/^\w*$/.test(i),En=i=>i===void 0,R2=i=>Array.isArray(i)?i.filter(Boolean):[],M2=i=>R2(i.replace(/["|']|\]/g,"").split(/\.|\[/)),Vt=(i,t,e)=>{if(!t||!Cn(i))return e;const n=(r_(t)?[t]:M2(t)).reduce((s,r)=>Pi(s)?s:s[r],i);return En(n)||n===i?En(i[t])?e:i[t]:n},Ur=i=>typeof i=="boolean",$e=(i,t,e)=>{let n=-1;const s=r_(t)?[t]:M2(t),r=s.length,a=r-1;for(;++n<r;){const l=s[n];let u=e;if(n!==a){const d=i[l];u=Cn(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;i[l]=u,i=i[l]}};const xD={BLUR:"blur",FOCUS_OUT:"focusout"},cr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ba={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},EG=Kt.createContext(null);EG.displayName="HookFormContext";var TG=(i,t,e,n=!0)=>{const s={defaultValues:t._defaultValues};for(const r in i)Object.defineProperty(s,r,{get:()=>{const a=r;return t._proxyFormState[a]!==cr.all&&(t._proxyFormState[a]=!n||cr.all),i[a]}});return s};const CG=typeof window<"u"?Kt.useLayoutEffect:Kt.useEffect;var _s=i=>typeof i=="string",kG=(i,t,e,n,s)=>_s(i)?(n&&t.watch.add(i),Vt(e,i,s)):Array.isArray(i)?i.map(r=>(n&&t.watch.add(r),Vt(e,r))):(n&&(t.watchAll=!0),e),ZE=i=>Pi(i)||!X3(i);function el(i,t,e=new WeakSet){if(ZE(i)||ZE(t))return i===t;if(Oc(i)&&Oc(t))return i.getTime()===t.getTime();const n=Object.keys(i),s=Object.keys(t);if(n.length!==s.length)return!1;if(e.has(i)||e.has(t))return!0;e.add(i),e.add(t);for(const r of n){const a=i[r];if(!s.includes(r))return!1;if(r!=="ref"){const l=t[r];if(Oc(a)&&Oc(l)||Cn(a)&&Cn(l)||Array.isArray(a)&&Array.isArray(l)?!el(a,l,e):a!==l)return!1}}return!0}var K3=(i,t,e,n,s)=>t?{...e[i],types:{...e[i]&&e[i].types?e[i].types:{},[n]:s||!0}}:{},Ug=i=>Array.isArray(i)?i:[i],ED=()=>{let i=[];return{get observers(){return i},next:s=>{for(const r of i)r.next&&r.next(s)},subscribe:s=>(i.push(s),{unsubscribe:()=>{i=i.filter(r=>r!==s)}}),unsubscribe:()=>{i=[]}}};function Q3(i,t){const e={};for(const n in i)if(i.hasOwnProperty(n)){const s=i[n],r=t[n];if(s&&Cn(s)&&r){const a=Q3(s,r);Cn(a)&&(e[n]=a)}else i[n]&&(e[n]=r)}return e}var Qi=i=>Cn(i)&&!Object.keys(i).length,L2=i=>i.type==="file",ur=i=>typeof i=="function",Nw=i=>{if(!k2)return!1;const t=i?i.ownerDocument:0;return i instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Z3=i=>i.type==="select-multiple",O2=i=>i.type==="radio",RG=i=>O2(i)||Hm(i),Sx=i=>Nw(i)&&i.isConnected;function MG(i,t){const e=t.slice(0,-1).length;let n=0;for(;n<e;)i=En(i)?n++:i[t[n++]];return i}function LG(i){for(const t in i)if(i.hasOwnProperty(t)&&!En(i[t]))return!1;return!0}function An(i,t){const e=Array.isArray(t)?t:r_(t)?[t]:M2(t),n=e.length===1?i:MG(i,e),s=e.length-1,r=e[s];return n&&delete n[r],s!==0&&(Cn(n)&&Qi(n)||Array.isArray(n)&&LG(n))&&An(i,e.slice(0,-1)),i}var OG=i=>{for(const t in i)if(ur(i[t]))return!0;return!1};function J3(i){return Array.isArray(i)||Cn(i)&&!OG(i)}function JE(i,t={}){for(const e in i)J3(i[e])?(t[e]=Array.isArray(i[e])?[]:{},JE(i[e],t[e])):Pi(i[e])||(t[e]=!0);return t}function bh(i,t,e){e||(e=JE(t));for(const n in i)J3(i[n])?En(t)||ZE(e[n])?e[n]=JE(i[n],Array.isArray(i[n])?[]:{}):bh(i[n],Pi(t)?{}:t[n],e[n]):e[n]=!el(i[n],t[n]);return e}const TD={value:!1,isValid:!1},CD={value:!0,isValid:!0};var tj=i=>{if(Array.isArray(i)){if(i.length>1){const t=i.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!En(i[0].attributes.value)?En(i[0].value)||i[0].value===""?CD:{value:i[0].value,isValid:!0}:CD:TD}return TD},ej=(i,{valueAsNumber:t,valueAsDate:e,setValueAs:n})=>En(i)?i:t?i===""?NaN:i&&+i:e&&_s(i)?new Date(i):n?n(i):i;const kD={isValid:!1,value:null};var nj=i=>Array.isArray(i)?i.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,kD):kD;function RD(i){const t=i.ref;return L2(t)?t.files:O2(t)?nj(i.refs).value:Z3(t)?[...t.selectedOptions].map(({value:e})=>e):Hm(t)?tj(i.refs).value:ej(En(t.value)?i.ref.value:t.value,i)}var PG=(i,t,e,n)=>{const s={};for(const r of i){const a=Vt(t,r);a&&$e(s,r,a._f)}return{criteriaMode:e,names:[...i],fields:s,shouldUseNativeValidation:n}},Iw=i=>i instanceof RegExp,hp=i=>En(i)?i:Iw(i)?i.source:Cn(i)?Iw(i.value)?i.value.source:i.value:i,MD=i=>({isOnSubmit:!i||i===cr.onSubmit,isOnBlur:i===cr.onBlur,isOnChange:i===cr.onChange,isOnAll:i===cr.all,isOnTouch:i===cr.onTouched});const LD="AsyncFunction";var DG=i=>!!i&&!!i.validate&&!!(ur(i.validate)&&i.validate.constructor.name===LD||Cn(i.validate)&&Object.values(i.validate).find(t=>t.constructor.name===LD)),NG=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),OD=(i,t,e)=>!e&&(t.watchAll||t.watch.has(i)||[...t.watch].some(n=>i.startsWith(n)&&/^\.\w+/.test(i.slice(n.length))));const Hg=(i,t,e,n)=>{for(const s of e||Object.keys(i)){const r=Vt(i,s);if(r){const{_f:a,...l}=r;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Hg(l,t))break}else if(Cn(l)&&Hg(l,t))break}}};function PD(i,t,e){const n=Vt(i,e);if(n||r_(e))return{error:n,name:e};const s=e.split(".");for(;s.length;){const r=s.join("."),a=Vt(t,r),l=Vt(i,r);if(a&&!Array.isArray(a)&&e!==r)return{name:e};if(l&&l.type)return{name:r,error:l};if(l&&l.root&&l.root.type)return{name:`${r}.root`,error:l.root};s.pop()}return{name:e}}var IG=(i,t,e,n)=>{e(i);const{name:s,...r}=i;return Qi(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find(a=>t[a]===(!n||cr.all))},FG=(i,t,e)=>!i||!t||i===t||Ug(i).some(n=>n&&(e?n===t:n.startsWith(t)||t.startsWith(n))),jG=(i,t,e,n,s)=>s.isOnAll?!1:!e&&s.isOnTouch?!(t||i):(e?n.isOnBlur:s.isOnBlur)?!i:(e?n.isOnChange:s.isOnChange)?i:!0,BG=(i,t)=>!R2(Vt(i,t)).length&&An(i,t),zG=(i,t,e)=>{const n=Ug(Vt(i,e));return $e(n,"root",t[e]),$e(i,e,n),i};function DD(i,t,e="validate"){if(_s(i)||Array.isArray(i)&&i.every(_s)||Ur(i)&&!i)return{type:e,message:_s(i)?i:"",ref:t}}var lh=i=>Cn(i)&&!Iw(i)?i:{value:i,message:""},ND=async(i,t,e,n,s,r)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:h,min:p,max:m,pattern:v,validate:_,name:w,valueAsNumber:S,mount:x}=i._f,C=Vt(e,w);if(!x||t.has(w))return{};const L=l?l[0]:a,j=Q=>{s&&L.reportValidity&&(L.setCustomValidity(Ur(Q)?"":Q||""),L.reportValidity())},R={},D=O2(a),P=Hm(a),M=D||P,O=(S||L2(a))&&En(a.value)&&En(C)||Nw(a)&&a.value===""||C===""||Array.isArray(C)&&!C.length,N=K3.bind(null,w,n,R),H=(Q,G,J,nt=ba.maxLength,$=ba.minLength)=>{const T=Q?G:J;R[w]={type:Q?nt:$,message:T,ref:a,...N(Q?nt:$,T)}};if(r?!Array.isArray(C)||!C.length:u&&(!M&&(O||Pi(C))||Ur(C)&&!C||P&&!tj(l).isValid||D&&!nj(l).isValid)){const{value:Q,message:G}=_s(u)?{value:!!u,message:u}:lh(u);if(Q&&(R[w]={type:ba.required,message:G,ref:L,...N(ba.required,G)},!n))return j(G),R}if(!O&&(!Pi(p)||!Pi(m))){let Q,G;const J=lh(m),nt=lh(p);if(!Pi(C)&&!isNaN(C)){const $=a.valueAsNumber||C&&+C;Pi(J.value)||(Q=$>J.value),Pi(nt.value)||(G=$<nt.value)}else{const $=a.valueAsDate||new Date(C),T=k=>new Date(new Date().toDateString()+" "+k),ct=a.type=="time",Z=a.type=="week";_s(J.value)&&C&&(Q=ct?T(C)>T(J.value):Z?C>J.value:$>new Date(J.value)),_s(nt.value)&&C&&(G=ct?T(C)<T(nt.value):Z?C<nt.value:$<new Date(nt.value))}if((Q||G)&&(H(!!Q,J.message,nt.message,ba.max,ba.min),!n))return j(R[w].message),R}if((d||h)&&!O&&(_s(C)||r&&Array.isArray(C))){const Q=lh(d),G=lh(h),J=!Pi(Q.value)&&C.length>+Q.value,nt=!Pi(G.value)&&C.length<+G.value;if((J||nt)&&(H(J,Q.message,G.message),!n))return j(R[w].message),R}if(v&&!O&&_s(C)){const{value:Q,message:G}=lh(v);if(Iw(Q)&&!C.match(Q)&&(R[w]={type:ba.pattern,message:G,ref:a,...N(ba.pattern,G)},!n))return j(G),R}if(_){if(ur(_)){const Q=await _(C,e),G=DD(Q,L);if(G&&(R[w]={...G,...N(ba.validate,G.message)},!n))return j(G.message),R}else if(Cn(_)){let Q={};for(const G in _){if(!Qi(Q)&&!n)break;const J=DD(await _[G](C,e),L,G);J&&(Q={...J,...N(G,J.message)},j(J.message),n&&(R[w]=Q))}if(!Qi(Q)&&(R[w]={ref:L,...Q},!n))return R}}return j(!0),R};const UG={mode:cr.onSubmit,reValidateMode:cr.onChange,shouldFocusError:!0};function HG(i={}){let t={...UG,...i},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:ur(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Cn(t.defaultValues)||Cn(t.values)?zn(t.defaultValues||t.values)||{}:{},r=t.shouldUnregister?{}:zn(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const m={array:ED(),state:ED()},v=t.criteriaMode===cr.all,_=tt=>ot=>{clearTimeout(d),d=setTimeout(tt,ot)},w=async tt=>{if(!t.disabled&&(h.isValid||p.isValid||tt)){const ot=t.resolver?Qi((await P()).errors):await O(n,!0);ot!==e.isValid&&m.state.next({isValid:ot})}},S=(tt,ot)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((tt||Array.from(l.mount)).forEach(pt=>{pt&&(ot?$e(e.validatingFields,pt,ot):An(e.validatingFields,pt))}),m.state.next({validatingFields:e.validatingFields,isValidating:!Qi(e.validatingFields)}))},x=(tt,ot=[],pt,Mt,Lt=!0,bt=!0)=>{if(Mt&&pt&&!t.disabled){if(a.action=!0,bt&&Array.isArray(Vt(n,tt))){const jt=pt(Vt(n,tt),Mt.argA,Mt.argB);Lt&&$e(n,tt,jt)}if(bt&&Array.isArray(Vt(e.errors,tt))){const jt=pt(Vt(e.errors,tt),Mt.argA,Mt.argB);Lt&&$e(e.errors,tt,jt),BG(e.errors,tt)}if((h.touchedFields||p.touchedFields)&&bt&&Array.isArray(Vt(e.touchedFields,tt))){const jt=pt(Vt(e.touchedFields,tt),Mt.argA,Mt.argB);Lt&&$e(e.touchedFields,tt,jt)}(h.dirtyFields||p.dirtyFields)&&(e.dirtyFields=bh(s,r)),m.state.next({name:tt,isDirty:H(tt,ot),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else $e(r,tt,ot)},C=(tt,ot)=>{$e(e.errors,tt,ot),m.state.next({errors:e.errors})},L=tt=>{e.errors=tt,m.state.next({errors:e.errors,isValid:!1})},j=(tt,ot,pt,Mt)=>{const Lt=Vt(n,tt);if(Lt){const bt=Vt(r,tt,En(pt)?Vt(s,tt):pt);En(bt)||Mt&&Mt.defaultChecked||ot?$e(r,tt,ot?bt:RD(Lt._f)):J(tt,bt),a.mount&&w()}},R=(tt,ot,pt,Mt,Lt)=>{let bt=!1,jt=!1;const Bt={name:tt};if(!t.disabled){if(!pt||Mt){(h.isDirty||p.isDirty)&&(jt=e.isDirty,e.isDirty=Bt.isDirty=H(),bt=jt!==Bt.isDirty);const Ut=el(Vt(s,tt),ot);jt=!!Vt(e.dirtyFields,tt),Ut?An(e.dirtyFields,tt):$e(e.dirtyFields,tt,!0),Bt.dirtyFields=e.dirtyFields,bt=bt||(h.dirtyFields||p.dirtyFields)&&jt!==!Ut}if(pt){const Ut=Vt(e.touchedFields,tt);Ut||($e(e.touchedFields,tt,pt),Bt.touchedFields=e.touchedFields,bt=bt||(h.touchedFields||p.touchedFields)&&Ut!==pt)}bt&&Lt&&m.state.next(Bt)}return bt?Bt:{}},D=(tt,ot,pt,Mt)=>{const Lt=Vt(e.errors,tt),bt=(h.isValid||p.isValid)&&Ur(ot)&&e.isValid!==ot;if(t.delayError&&pt?(u=_(()=>C(tt,pt)),u(t.delayError)):(clearTimeout(d),u=null,pt?$e(e.errors,tt,pt):An(e.errors,tt)),(pt?!el(Lt,pt):Lt)||!Qi(Mt)||bt){const jt={...Mt,...bt&&Ur(ot)?{isValid:ot}:{},errors:e.errors,name:tt};e={...e,...jt},m.state.next(jt)}},P=async tt=>{S(tt,!0);const ot=await t.resolver(r,t.context,PG(tt||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return S(tt),ot},M=async tt=>{const{errors:ot}=await P(tt);if(tt)for(const pt of tt){const Mt=Vt(ot,pt);Mt?$e(e.errors,pt,Mt):An(e.errors,pt)}else e.errors=ot;return ot},O=async(tt,ot,pt={valid:!0})=>{for(const Mt in tt){const Lt=tt[Mt];if(Lt){const{_f:bt,...jt}=Lt;if(bt){const Bt=l.array.has(bt.name),Ut=Lt._f&&DG(Lt._f);Ut&&h.validatingFields&&S([bt.name],!0);const ne=await ND(Lt,l.disabled,r,v,t.shouldUseNativeValidation&&!ot,Bt);if(Ut&&h.validatingFields&&S([bt.name]),ne[bt.name]&&(pt.valid=!1,ot))break;!ot&&(Vt(ne,bt.name)?Bt?zG(e.errors,ne,bt.name):$e(e.errors,bt.name,ne[bt.name]):An(e.errors,bt.name))}!Qi(jt)&&await O(jt,ot,pt)}}return pt.valid},N=()=>{for(const tt of l.unMount){const ot=Vt(n,tt);ot&&(ot._f.refs?ot._f.refs.every(pt=>!Sx(pt)):!Sx(ot._f.ref))&&ft(tt)}l.unMount=new Set},H=(tt,ot)=>!t.disabled&&(tt&&ot&&$e(r,tt,ot),!el(k(),s)),Q=(tt,ot,pt)=>kG(tt,l,{...a.mount?r:En(ot)?s:_s(tt)?{[tt]:ot}:ot},pt,ot),G=tt=>R2(Vt(a.mount?r:s,tt,t.shouldUnregister?Vt(s,tt,[]):[])),J=(tt,ot,pt={})=>{const Mt=Vt(n,tt);let Lt=ot;if(Mt){const bt=Mt._f;bt&&(!bt.disabled&&$e(r,tt,ej(ot,bt)),Lt=Nw(bt.ref)&&Pi(ot)?"":ot,Z3(bt.ref)?[...bt.ref.options].forEach(jt=>jt.selected=Lt.includes(jt.value)):bt.refs?Hm(bt.ref)?bt.refs.forEach(jt=>{(!jt.defaultChecked||!jt.disabled)&&(Array.isArray(Lt)?jt.checked=!!Lt.find(Bt=>Bt===jt.value):jt.checked=Lt===jt.value||!!Lt)}):bt.refs.forEach(jt=>jt.checked=jt.value===Lt):L2(bt.ref)?bt.ref.value="":(bt.ref.value=Lt,bt.ref.type||m.state.next({name:tt,values:zn(r)})))}(pt.shouldDirty||pt.shouldTouch)&&R(tt,Lt,pt.shouldTouch,pt.shouldDirty,!0),pt.shouldValidate&&Z(tt)},nt=(tt,ot,pt)=>{for(const Mt in ot){if(!ot.hasOwnProperty(Mt))return;const Lt=ot[Mt],bt=tt+"."+Mt,jt=Vt(n,bt);(l.array.has(tt)||Cn(Lt)||jt&&!jt._f)&&!Oc(Lt)?nt(bt,Lt,pt):J(bt,Lt,pt)}},$=(tt,ot,pt={})=>{const Mt=Vt(n,tt),Lt=l.array.has(tt),bt=zn(ot);$e(r,tt,bt),Lt?(m.array.next({name:tt,values:zn(r)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&pt.shouldDirty&&m.state.next({name:tt,dirtyFields:bh(s,r),isDirty:H(tt,bt)})):Mt&&!Mt._f&&!Pi(bt)?nt(tt,bt,pt):J(tt,bt,pt),OD(tt,l)&&m.state.next({...e,name:tt}),m.state.next({name:a.mount?tt:void 0,values:zn(r)})},T=async tt=>{a.mount=!0;const ot=tt.target;let pt=ot.name,Mt=!0;const Lt=Vt(n,pt),bt=Ut=>{Mt=Number.isNaN(Ut)||Oc(Ut)&&isNaN(Ut.getTime())||el(Ut,Vt(r,pt,Ut))},jt=MD(t.mode),Bt=MD(t.reValidateMode);if(Lt){let Ut,ne;const E=ot.type?RD(Lt._f):_G(tt),I=tt.type===xD.BLUR||tt.type===xD.FOCUS_OUT,U=!NG(Lt._f)&&!t.resolver&&!Vt(e.errors,pt)&&!Lt._f.deps||jG(I,Vt(e.touchedFields,pt),e.isSubmitted,Bt,jt),rt=OD(pt,l,I);$e(r,pt,E),I?(!ot||!ot.readOnly)&&(Lt._f.onBlur&&Lt._f.onBlur(tt),u&&u(0)):Lt._f.onChange&&Lt._f.onChange(tt);const ht=R(pt,E,I),At=!Qi(ht)||rt;if(!I&&m.state.next({name:pt,type:tt.type,values:zn(r)}),U)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?I&&w():I||w()),At&&m.state.next({name:pt,...rt?{}:ht});if(!I&&rt&&m.state.next({...e}),t.resolver){const{errors:Dt}=await P([pt]);if(bt(E),Mt){const Ee=PD(e.errors,n,pt),cn=PD(Dt,n,Ee.name||pt);Ut=cn.error,pt=cn.name,ne=Qi(Dt)}}else S([pt],!0),Ut=(await ND(Lt,l.disabled,r,v,t.shouldUseNativeValidation))[pt],S([pt]),bt(E),Mt&&(Ut?ne=!1:(h.isValid||p.isValid)&&(ne=await O(n,!0)));Mt&&(Lt._f.deps&&(!Array.isArray(Lt._f.deps)||Lt._f.deps.length>0)&&Z(Lt._f.deps),D(pt,ne,Ut,ht))}},ct=(tt,ot)=>{if(Vt(e.errors,ot)&&tt.focus)return tt.focus(),1},Z=async(tt,ot={})=>{let pt,Mt;const Lt=Ug(tt);if(t.resolver){const bt=await M(En(tt)?tt:Lt);pt=Qi(bt),Mt=tt?!Lt.some(jt=>Vt(bt,jt)):pt}else tt?(Mt=(await Promise.all(Lt.map(async bt=>{const jt=Vt(n,bt);return await O(jt&&jt._f?{[bt]:jt}:jt)}))).every(Boolean),!(!Mt&&!e.isValid)&&w()):Mt=pt=await O(n);return m.state.next({...!_s(tt)||(h.isValid||p.isValid)&&pt!==e.isValid?{}:{name:tt},...t.resolver||!tt?{isValid:pt}:{},errors:e.errors}),ot.shouldFocus&&!Mt&&Hg(n,ct,tt?Lt:l.mount),Mt},k=(tt,ot)=>{let pt={...a.mount?r:s};return ot&&(pt=Q3(ot.dirtyFields?e.dirtyFields:e.touchedFields,pt)),En(tt)?pt:_s(tt)?Vt(pt,tt):tt.map(Mt=>Vt(pt,Mt))},W=(tt,ot)=>({invalid:!!Vt((ot||e).errors,tt),isDirty:!!Vt((ot||e).dirtyFields,tt),error:Vt((ot||e).errors,tt),isValidating:!!Vt(e.validatingFields,tt),isTouched:!!Vt((ot||e).touchedFields,tt)}),K=tt=>{tt&&Ug(tt).forEach(ot=>An(e.errors,ot)),m.state.next({errors:tt?e.errors:{}})},et=(tt,ot,pt)=>{const Mt=(Vt(n,tt,{_f:{}})._f||{}).ref,Lt=Vt(e.errors,tt)||{},{ref:bt,message:jt,type:Bt,...Ut}=Lt;$e(e.errors,tt,{...Ut,...ot,ref:Mt}),m.state.next({name:tt,errors:e.errors,isValid:!1}),pt&&pt.shouldFocus&&Mt&&Mt.focus&&Mt.focus()},st=(tt,ot)=>ur(tt)?m.state.subscribe({next:pt=>"values"in pt&&tt(Q(void 0,ot),pt)}):Q(tt,ot,!0),ut=tt=>m.state.subscribe({next:ot=>{FG(tt.name,ot.name,tt.exact)&&IG(ot,tt.formState||h,Nt,tt.reRenderRoot)&&tt.callback({values:{...r},...e,...ot,defaultValues:s})}}).unsubscribe,lt=tt=>(a.mount=!0,p={...p,...tt.formState},ut({...tt,formState:p})),ft=(tt,ot={})=>{for(const pt of tt?Ug(tt):l.mount)l.mount.delete(pt),l.array.delete(pt),ot.keepValue||(An(n,pt),An(r,pt)),!ot.keepError&&An(e.errors,pt),!ot.keepDirty&&An(e.dirtyFields,pt),!ot.keepTouched&&An(e.touchedFields,pt),!ot.keepIsValidating&&An(e.validatingFields,pt),!t.shouldUnregister&&!ot.keepDefaultValue&&An(s,pt);m.state.next({values:zn(r)}),m.state.next({...e,...ot.keepDirty?{isDirty:H()}:{}}),!ot.keepIsValid&&w()},Ct=({disabled:tt,name:ot})=>{(Ur(tt)&&a.mount||tt||l.disabled.has(ot))&&(tt?l.disabled.add(ot):l.disabled.delete(ot))},_t=(tt,ot={})=>{let pt=Vt(n,tt);const Mt=Ur(ot.disabled)||Ur(t.disabled);return $e(n,tt,{...pt||{},_f:{...pt&&pt._f?pt._f:{ref:{name:tt}},name:tt,mount:!0,...ot}}),l.mount.add(tt),pt?Ct({disabled:Ur(ot.disabled)?ot.disabled:t.disabled,name:tt}):j(tt,!0,ot.value),{...Mt?{disabled:ot.disabled||t.disabled}:{},...t.progressive?{required:!!ot.required,min:hp(ot.min),max:hp(ot.max),minLength:hp(ot.minLength),maxLength:hp(ot.maxLength),pattern:hp(ot.pattern)}:{},name:tt,onChange:T,onBlur:T,ref:Lt=>{if(Lt){_t(tt,ot),pt=Vt(n,tt);const bt=En(Lt.value)&&Lt.querySelectorAll&&Lt.querySelectorAll("input,select,textarea")[0]||Lt,jt=RG(bt),Bt=pt._f.refs||[];if(jt?Bt.find(Ut=>Ut===bt):bt===pt._f.ref)return;$e(n,tt,{_f:{...pt._f,...jt?{refs:[...Bt.filter(Sx),bt,...Array.isArray(Vt(s,tt))?[{}]:[]],ref:{type:bt.type,name:tt}}:{ref:bt}}}),j(tt,!1,void 0,bt)}else pt=Vt(n,tt,{}),pt._f&&(pt._f.mount=!1),(t.shouldUnregister||ot.shouldUnregister)&&!(SG(l.array,tt)&&a.action)&&l.unMount.add(tt)}}},St=()=>t.shouldFocusError&&Hg(n,ct,l.mount),It=tt=>{Ur(tt)&&(m.state.next({disabled:tt}),Hg(n,(ot,pt)=>{const Mt=Vt(n,pt);Mt&&(ot.disabled=Mt._f.disabled||tt,Array.isArray(Mt._f.refs)&&Mt._f.refs.forEach(Lt=>{Lt.disabled=Mt._f.disabled||tt}))},0,!1))},Ft=(tt,ot)=>async pt=>{let Mt;pt&&(pt.preventDefault&&pt.preventDefault(),pt.persist&&pt.persist());let Lt=zn(r);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:bt,values:jt}=await P();e.errors=bt,Lt=zn(jt)}else await O(n);if(l.disabled.size)for(const bt of l.disabled)An(Lt,bt);if(An(e.errors,"root"),Qi(e.errors)){m.state.next({errors:{}});try{await tt(Lt,pt)}catch(bt){Mt=bt}}else ot&&await ot({...e.errors},pt),St(),setTimeout(St);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qi(e.errors)&&!Mt,submitCount:e.submitCount+1,errors:e.errors}),Mt)throw Mt},Et=(tt,ot={})=>{Vt(n,tt)&&(En(ot.defaultValue)?$(tt,zn(Vt(s,tt))):($(tt,ot.defaultValue),$e(s,tt,zn(ot.defaultValue))),ot.keepTouched||An(e.touchedFields,tt),ot.keepDirty||(An(e.dirtyFields,tt),e.isDirty=ot.defaultValue?H(tt,zn(Vt(s,tt))):H()),ot.keepError||(An(e.errors,tt),h.isValid&&w()),m.state.next({...e}))},Pt=(tt,ot={})=>{const pt=tt?zn(tt):s,Mt=zn(pt),Lt=Qi(tt),bt=Lt?s:Mt;if(ot.keepDefaultValues||(s=pt),!ot.keepValues){if(ot.keepDirtyValues){const jt=new Set([...l.mount,...Object.keys(bh(s,r))]);for(const Bt of Array.from(jt))Vt(e.dirtyFields,Bt)?$e(bt,Bt,Vt(r,Bt)):$(Bt,Vt(bt,Bt))}else{if(k2&&En(tt))for(const jt of l.mount){const Bt=Vt(n,jt);if(Bt&&Bt._f){const Ut=Array.isArray(Bt._f.refs)?Bt._f.refs[0]:Bt._f.ref;if(Nw(Ut)){const ne=Ut.closest("form");if(ne){ne.reset();break}}}}if(ot.keepFieldsRef)for(const jt of l.mount)$(jt,Vt(bt,jt));else n={}}r=t.shouldUnregister?ot.keepDefaultValues?zn(s):{}:zn(bt),m.array.next({values:{...bt}}),m.state.next({values:{...bt}})}l={mount:ot.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!ot.keepIsValid||!!ot.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:ot.keepSubmitCount?e.submitCount:0,isDirty:Lt?!1:ot.keepDirty?e.isDirty:!!(ot.keepDefaultValues&&!el(tt,s)),isSubmitted:ot.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:Lt?{}:ot.keepDirtyValues?ot.keepDefaultValues&&r?bh(s,r):e.dirtyFields:ot.keepDefaultValues&&tt?bh(s,tt):ot.keepDirty?e.dirtyFields:{},touchedFields:ot.keepTouched?e.touchedFields:{},errors:ot.keepErrors?e.errors:{},isSubmitSuccessful:ot.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Ot=(tt,ot)=>Pt(ur(tt)?tt(r):tt,ot),Rt=(tt,ot={})=>{const pt=Vt(n,tt),Mt=pt&&pt._f;if(Mt){const Lt=Mt.refs?Mt.refs[0]:Mt.ref;Lt.focus&&(Lt.focus(),ot.shouldSelect&&ur(Lt.select)&&Lt.select())}},Nt=tt=>{e={...e,...tt}},Qt={control:{register:_t,unregister:ft,getFieldState:W,handleSubmit:Ft,setError:et,_subscribe:ut,_runSchema:P,_focusError:St,_getWatch:Q,_getDirty:H,_setValid:w,_setFieldArray:x,_setDisabledField:Ct,_setErrors:L,_getFieldArray:G,_reset:Pt,_resetDefaultValues:()=>ur(t.defaultValues)&&t.defaultValues().then(tt=>{Ot(tt,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:It,_subjects:m,_proxyFormState:h,get _fields(){return n},get _formValues(){return r},get _state(){return a},set _state(tt){a=tt},get _defaultValues(){return s},get _names(){return l},set _names(tt){l=tt},get _formState(){return e},get _options(){return t},set _options(tt){t={...t,...tt}}},subscribe:lt,trigger:Z,register:_t,handleSubmit:Ft,watch:st,setValue:$,getValues:k,reset:Ot,resetField:Et,clearErrors:K,unregister:ft,setError:et,setFocus:Rt,getFieldState:W};return{...Qt,formControl:Qt}}function ij(i={}){const t=Kt.useRef(void 0),e=Kt.useRef(void 0),[n,s]=Kt.useState({isDirty:!1,isValidating:!1,isLoading:ur(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,isReady:!1,defaultValues:ur(i.defaultValues)?void 0:i.defaultValues});if(!t.current)if(i.formControl)t.current={...i.formControl,formState:n},i.defaultValues&&!ur(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions);else{const{formControl:a,...l}=HG(i);t.current={...l,formState:n}}const r=t.current.control;return r._options=i,CG(()=>{const a=r._subscribe({formState:r._proxyFormState,callback:()=>s({...r._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),r._formState.isReady=!0,a},[r]),Kt.useEffect(()=>r._disableForm(i.disabled),[r,i.disabled]),Kt.useEffect(()=>{i.mode&&(r._options.mode=i.mode),i.reValidateMode&&(r._options.reValidateMode=i.reValidateMode)},[r,i.mode,i.reValidateMode]),Kt.useEffect(()=>{i.errors&&(r._setErrors(i.errors),r._focusError())},[r,i.errors]),Kt.useEffect(()=>{i.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,i.shouldUnregister]),Kt.useEffect(()=>{if(r._proxyFormState.isDirty){const a=r._getDirty();a!==n.isDirty&&r._subjects.state.next({isDirty:a})}},[r,n.isDirty]),Kt.useEffect(()=>{i.values&&!el(i.values,e.current)?(r._reset(i.values,{keepFieldsRef:!0,...r._options.resetOptions}),e.current=i.values,s(a=>({...a}))):r._resetDefaultValues()},[r,i.values]),Kt.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),t.current.formState=TG(n,r),t.current}var xx,ID;function $G(){if(ID)return xx;ID=1;function i(x){this._maxSize=x,this.clear()}i.prototype.clear=function(){this._size=0,this._values=Object.create(null)},i.prototype.get=function(x){return this._values[x]},i.prototype.set=function(x,C){return this._size>=this._maxSize&&this.clear(),x in this._values||this._size++,this._values[x]=C};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,e=/^\d+$/,n=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,r=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,l=new i(a),u=new i(a),d=new i(a);xx={Cache:i,split:p,normalizePath:h,setter:function(x){var C=h(x);return u.get(x)||u.set(x,function(j,R){for(var D=0,P=C.length,M=j;D<P-1;){var O=C[D];if(O==="__proto__"||O==="constructor"||O==="prototype")return j;M=M[C[D++]]}M[C[D]]=R})},getter:function(x,C){var L=h(x);return d.get(x)||d.set(x,function(R){for(var D=0,P=L.length;D<P;)if(R!=null||!C)R=R[L[D++]];else return;return R})},join:function(x){return x.reduce(function(C,L){return C+(v(L)||e.test(L)?"["+L+"]":(C?".":"")+L)},"")},forEach:function(x,C,L){m(Array.isArray(x)?x:p(x),C,L)}};function h(x){return l.get(x)||l.set(x,p(x).map(function(C){return C.replace(r,"$2")}))}function p(x){return x.match(t)||[""]}function m(x,C,L){var j=x.length,R,D,P,M;for(D=0;D<j;D++)R=x[D],R&&(S(R)&&(R='"'+R+'"'),M=v(R),P=!M&&/^\d+$/.test(R),C.call(L,R,M,P,D,x))}function v(x){return typeof x=="string"&&x&&["'",'"'].indexOf(x.charAt(0))!==-1}function _(x){return x.match(n)&&!x.match(e)}function w(x){return s.test(x)}function S(x){return!v(x)&&(_(x)||w(x))}return xx}var Xc=$G(),Ex,FD;function WG(){if(FD)return Ex;FD=1;const i=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=h=>h.match(i)||[],e=h=>h[0].toUpperCase()+h.slice(1),n=(h,p)=>t(h).join(p).toLowerCase(),s=h=>t(h).reduce((p,m)=>`${p}${p?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return Ex={words:t,upperFirst:e,camelCase:s,pascalCase:h=>e(s(h)),snakeCase:h=>n(h,"_"),kebabCase:h=>n(h,"-"),sentenceCase:h=>e(n(h," ")),titleCase:h=>t(h).map(e).join(" ")},Ex}var Tx=WG(),Av={exports:{}},jD;function VG(){if(jD)return Av.exports;jD=1,Av.exports=function(s){return i(t(s),s)},Av.exports.array=i;function i(s,r){var a=s.length,l=new Array(a),u={},d=a,h=e(r),p=n(s);for(r.forEach(function(v){if(!p.has(v[0])||!p.has(v[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});d--;)u[d]||m(s[d],d,new Set);return l;function m(v,_,w){if(w.has(v)){var S;try{S=", node was:"+JSON.stringify(v)}catch{S=""}throw new Error("Cyclic dependency"+S)}if(!p.has(v))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(v));if(!u[_]){u[_]=!0;var x=h.get(v)||new Set;if(x=Array.from(x),_=x.length){w.add(v);do{var C=x[--_];m(C,p.get(C),w)}while(_);w.delete(v)}l[--a]=v}}}function t(s){for(var r=new Set,a=0,l=s.length;a<l;a++){var u=s[a];r.add(u[0]),r.add(u[1])}return Array.from(r)}function e(s){for(var r=new Map,a=0,l=s.length;a<l;a++){var u=s[a];r.has(u[0])||r.set(u[0],new Set),r.has(u[1])||r.set(u[1],new Set),r.get(u[0]).add(u[1])}return r}function n(s){for(var r=new Map,a=0,l=s.length;a<l;a++)r.set(s[a],a);return r}return Av.exports}var GG=VG();const qG=W1(GG),YG=Object.prototype.toString,XG=Error.prototype.toString,KG=RegExp.prototype.toString,QG=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",ZG=/^Symbol\((.*)\)(.*)$/;function JG(i){return i!=+i?"NaN":i===0&&1/i<0?"-0":""+i}function BD(i,t=!1){if(i==null||i===!0||i===!1)return""+i;const e=typeof i;if(e==="number")return JG(i);if(e==="string")return t?`"${i}"`:i;if(e==="function")return"[Function "+(i.name||"anonymous")+"]";if(e==="symbol")return QG.call(i).replace(ZG,"Symbol($1)");const n=YG.call(i).slice(8,-1);return n==="Date"?isNaN(i.getTime())?""+i:i.toISOString(i):n==="Error"||i instanceof Error?"["+XG.call(i)+"]":n==="RegExp"?KG.call(i):null}function yl(i,t){let e=BD(i,t);return e!==null?e:JSON.stringify(i,function(n,s){let r=BD(this[n],t);return r!==null?r:s},2)}function sj(i){return i==null?[]:[].concat(i)}let rj,aj,oj,tq=/\$\{\s*(\w+)\s*\}/g;rj=Symbol.toStringTag;class zD{constructor(t,e,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[rj]="Error",this.name="ValidationError",this.value=e,this.path=n,this.type=s,this.errors=[],this.inner=[],sj(t).forEach(r=>{if(Di.isError(r)){this.errors.push(...r.errors);const a=r.inner.length?r.inner:[r];this.inner.push(...a)}else this.errors.push(r)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}aj=Symbol.hasInstance;oj=Symbol.toStringTag;class Di extends Error{static formatError(t,e){const n=e.label||e.path||"this";return e=Object.assign({},e,{path:n,originalPath:e.path}),typeof t=="string"?t.replace(tq,(s,r)=>yl(e[r])):typeof t=="function"?t(e):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,e,n,s,r){const a=new zD(t,e,n,s);if(r)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[oj]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Di)}static[aj](t){return zD[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let Hr={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:i,type:t,value:e,originalValue:n})=>{const s=n!=null&&n!==e?` (cast from the value \`${yl(n,!0)}\`).`:".";return t!=="mixed"?`${i} must be a \`${t}\` type, but the final value was: \`${yl(e,!0)}\``+s:`${i} must match the configured type. The validated value was: \`${yl(e,!0)}\``+s}},qi={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},eq={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},tT={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},nq={isValue:"${path} field must be ${value}"},v0={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},iq={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},sq={notType:i=>{const{path:t,value:e,spec:n}=i,s=n.types.length;if(Array.isArray(e)){if(e.length<s)return`${t} tuple value has too few items, expected a length of ${s} but got ${e.length} for value: \`${yl(e,!0)}\``;if(e.length>s)return`${t} tuple value has too many items, expected a length of ${s} but got ${e.length} for value: \`${yl(e,!0)}\``}return Di.formatError(Hr.notType,i)}};Object.assign(Object.create(null),{mixed:Hr,string:qi,number:eq,date:tT,object:v0,array:iq,boolean:nq,tuple:sq});const P2=i=>i&&i.__isYupSchema__;class Fw{static fromOptions(t,e){if(!e.then&&!e.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:r}=e,a=typeof n=="function"?n:(...l)=>l.every(u=>u===n);return new Fw(t,(l,u)=>{var d;let h=a(...l)?s:r;return(d=h?.(u))!=null?d:u})}constructor(t,e){this.fn=void 0,this.refs=t,this.refs=t,this.fn=e}resolve(t,e){let n=this.refs.map(r=>r.getValue(e?.value,e?.parent,e?.context)),s=this.fn(n,t,e);if(s===void 0||s===t)return t;if(!P2(s))throw new TypeError("conditions must return a schema object");return s.resolve(e)}}const Sv={context:"$",value:"."};class hu{constructor(t,e={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Sv.context,this.isValue=this.key[0]===Sv.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Sv.context:this.isValue?Sv.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Xc.getter(this.path,!0),this.map=e.map}getValue(t,e,n){let s=this.isContext?n:this.isValue?t:e;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(t,e){return this.getValue(t,e?.parent,e?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}hu.prototype.__isYupRef=!0;const Pc=i=>i==null;function ch(i){function t({value:e,path:n="",options:s,originalValue:r,schema:a},l,u){const{name:d,test:h,params:p,message:m,skipAbsent:v}=i;let{parent:_,context:w,abortEarly:S=a.spec.abortEarly,disableStackTrace:x=a.spec.disableStackTrace}=s;const C={value:e,parent:_,context:w};function L(H={}){const Q=lj(Object.assign({value:e,originalValue:r,label:a.spec.label,path:H.path||n,spec:a.spec,disableStackTrace:H.disableStackTrace||x},p,H.params),C),G=new Di(Di.formatError(H.message||m,Q),e,Q.path,H.type||d,Q.disableStackTrace);return G.params=Q,G}const j=S?l:u;let R={path:n,parent:_,type:d,from:s.from,createError:L,resolve(H){return cj(H,C)},options:s,originalValue:r,schema:a};const D=H=>{Di.isError(H)?j(H):H?u(null):j(L())},P=H=>{Di.isError(H)?j(H):l(H)};if(v&&Pc(e))return D(!0);let O;try{var N;if(O=h.call(R,e,R),typeof((N=O)==null?void 0:N.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${R.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(O).then(D,P)}}catch(H){P(H);return}D(O)}return t.OPTIONS=i,t}function lj(i,t){if(!i)return i;for(const e of Object.keys(i))i[e]=cj(i[e],t);return i}function cj(i,t){return hu.isRef(i)?i.getValue(t.value,t.parent,t.context):i}function rq(i,t,e,n=e){let s,r,a;return t?(Xc.forEach(t,(l,u,d)=>{let h=u?l.slice(1,l.length-1):l;i=i.resolve({context:n,parent:s,value:e});let p=i.type==="tuple",m=d?parseInt(h,10):0;if(i.innerType||p){if(p&&!d)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(e&&m>=e.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${t}. because there is no value at that index. `);s=e,e=e&&e[m],i=p?i.spec.types[m]:i.innerType}if(!d){if(!i.fields||!i.fields[h])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${i.type}")`);s=e,e=e&&e[h],i=i.fields[h]}r=h,a=u?"["+l+"]":"."+l}),{schema:i,parent:s,parentPath:r}):{parent:s,parentPath:t,schema:i}}class jw extends Set{describe(){const t=[];for(const e of this.values())t.push(hu.isRef(e)?e.describe():e);return t}resolveAll(t){let e=[];for(const n of this.values())e.push(t(n));return e}clone(){return new jw(this.values())}merge(t,e){const n=this.clone();return t.forEach(s=>n.add(s)),e.forEach(s=>n.delete(s)),n}}function nd(i,t=new Map){if(P2(i)||!i||typeof i!="object")return i;if(t.has(i))return t.get(i);let e;if(i instanceof Date)e=new Date(i.getTime()),t.set(i,e);else if(i instanceof RegExp)e=new RegExp(i),t.set(i,e);else if(Array.isArray(i)){e=new Array(i.length),t.set(i,e);for(let n=0;n<i.length;n++)e[n]=nd(i[n],t)}else if(i instanceof Map){e=new Map,t.set(i,e);for(const[n,s]of i.entries())e.set(n,nd(s,t))}else if(i instanceof Set){e=new Set,t.set(i,e);for(const n of i)e.add(nd(n,t))}else if(i instanceof Object){e={},t.set(i,e);for(const[n,s]of Object.entries(i))e[n]=nd(s,t)}else throw Error(`Unable to clone ${i}`);return e}function aq(i){if(!(i!=null&&i.length))return;const t=[];let e="",n=!1,s=!1;for(let r=0;r<i.length;r++){const a=i[r];if(a==="["&&!s){e&&(t.push(...e.split(".").filter(Boolean)),e=""),n=!0;continue}if(a==="]"&&!s){e&&(/^\d+$/.test(e)?t.push(e):t.push(e.replace(/^"|"$/g,"")),e=""),n=!1;continue}if(a==='"'){s=!s;continue}if(a==="."&&!n&&!s){e&&(t.push(e),e="");continue}e+=a}return e&&t.push(...e.split(".").filter(Boolean)),t}function oq(i,t){const e=t?`${t}.${i.path}`:i.path;return i.errors.map(n=>({message:n,path:aq(e)}))}function uj(i,t){var e;if(!((e=i.inner)!=null&&e.length)&&i.errors.length)return oq(i,t);const n=t?`${t}.${i.path}`:i.path;return i.inner.flatMap(s=>uj(s,n))}class pr{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new jw,this._blacklist=new jw,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Hr.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t?.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const e=Object.create(Object.getPrototypeOf(this));return e.type=this.type,e._typeCheck=this._typeCheck,e._whitelist=this._whitelist.clone(),e._blacklist=this._blacklist.clone(),e.internalTests=Object.assign({},this.internalTests),e.exclusiveTests=Object.assign({},this.exclusiveTests),e.deps=[...this.deps],e.conditions=[...this.conditions],e.tests=[...this.tests],e.transforms=[...this.transforms],e.spec=nd(Object.assign({},this.spec,t)),e}label(t){let e=this.clone();return e.spec.label=t,e}meta(...t){if(t.length===0)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},t[0]),e}withMutation(t){let e=this._mutate;this._mutate=!0;let n=t(this);return this._mutate=e,n}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let e=this,n=t.clone();const s=Object.assign({},e.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},e.internalTests,n.internalTests),n._whitelist=e._whitelist.merge(t._whitelist,t._blacklist),n._blacklist=e._blacklist.merge(t._blacklist,t._whitelist),n.tests=e.tests,n.exclusiveTests=e.exclusiveTests,n.withMutation(r=>{t.tests.forEach(a=>{r.test(a.OPTIONS)})}),n.transforms=[...e.transforms,...n.transforms],n}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let e=this;if(e.conditions.length){let n=e.conditions;e=e.clone(),e.conditions=[],e=n.reduce((s,r)=>r.resolve(s,t),e),e=e.resolve(t)}return e}resolveOptions(t){var e,n,s,r;return Object.assign({},t,{from:t.from||[],strict:(e=t.strict)!=null?e:this.spec.strict,abortEarly:(n=t.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=t.recursive)!=null?s:this.spec.recursive,disableStackTrace:(r=t.disableStackTrace)!=null?r:this.spec.disableStackTrace})}cast(t,e={}){let n=this.resolve(Object.assign({},e,{value:t})),s=e.assert==="ignore-optionality",r=n._cast(t,e);if(e.assert!==!1&&!n.isType(r)){if(s&&Pc(r))return r;let a=yl(t),l=yl(r);throw new TypeError(`The value of ${e.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${a} 
`+(l!==a?`result of cast: ${l}`:""))}return r}_cast(t,e){let n=t===void 0?t:this.transforms.reduce((s,r)=>r.call(this,s,t,this,e),t);return n===void 0&&(n=this.getDefault(e)),n}_validate(t,e={},n,s){let{path:r,originalValue:a=t,strict:l=this.spec.strict}=e,u=t;l||(u=this._cast(u,Object.assign({assert:!1},e)));let d=[];for(let h of Object.values(this.internalTests))h&&d.push(h);this.runTests({path:r,value:u,originalValue:a,options:e,tests:d},n,h=>{if(h.length)return s(h,u);this.runTests({path:r,value:u,originalValue:a,options:e,tests:this.tests},n,s)})}runTests(t,e,n){let s=!1,{tests:r,value:a,originalValue:l,path:u,options:d}=t,h=w=>{s||(s=!0,e(w,a))},p=w=>{s||(s=!0,n(w,a))},m=r.length,v=[];if(!m)return p([]);let _={value:a,originalValue:l,path:u,options:d,schema:this};for(let w=0;w<r.length;w++){const S=r[w];S(_,h,function(C){C&&(Array.isArray(C)?v.push(...C):v.push(C)),--m<=0&&p(v)})}}asNestedTest({key:t,index:e,parent:n,parentPath:s,originalParent:r,options:a}){const l=t??e;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof l=="number";let d=n[l];const h=Object.assign({},a,{strict:!0,parent:n,value:d,originalValue:r[l],key:void 0,[u?"index":"key"]:l,path:u||l.includes(".")?`${s||""}[${u?l:`"${l}"`}]`:(s?`${s}.`:"")+t});return(p,m,v)=>this.resolve(h)._validate(d,h,m,v)}validate(t,e){var n;let s=this.resolve(Object.assign({},e,{value:t})),r=(n=e?.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((a,l)=>s._validate(t,e,(u,d)=>{Di.isError(u)&&(u.value=d),l(u)},(u,d)=>{u.length?l(new Di(u,d,void 0,void 0,r)):a(d)}))}validateSync(t,e){var n;let s=this.resolve(Object.assign({},e,{value:t})),r,a=(n=e?.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(t,Object.assign({},e,{sync:!0}),(l,u)=>{throw Di.isError(l)&&(l.value=u),l},(l,u)=>{if(l.length)throw new Di(l,t,void 0,void 0,a);r=u}),r}isValid(t,e){return this.validate(t,e).then(()=>!0,n=>{if(Di.isError(n))return!1;throw n})}isValidSync(t,e){try{return this.validateSync(t,e),!0}catch(n){if(Di.isError(n))return!1;throw n}}_getDefault(t){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this,t):nd(e)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,e){const n=this.clone({nullable:t});return n.internalTests.nullable=ch({message:e,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(t,e){const n=this.clone({optional:t});return n.internalTests.optionality=ch({message:e,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(t=Hr.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=Hr.notNull){return this.nullability(!1,t)}required(t=Hr.required){return this.clone().withMutation(e=>e.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let e=this.clone();return e.transforms.push(t),e}test(...t){let e;if(t.length===1?typeof t[0]=="function"?e={test:t[0]}:e=t[0]:t.length===2?e={name:t[0],test:t[1]}:e={name:t[0],message:t[1],test:t[2]},e.message===void 0&&(e.message=Hr.default),typeof e.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=ch(e),r=e.exclusive||e.name&&n.exclusiveTests[e.name]===!0;if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(n.exclusiveTests[e.name]=!!e.exclusive),n.tests=n.tests.filter(a=>!(a.OPTIONS.name===e.name&&(r||a.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(t,e){!Array.isArray(t)&&typeof t!="string"&&(e=t,t=".");let n=this.clone(),s=sj(t).map(r=>new hu(r));return s.forEach(r=>{r.isSibling&&n.deps.push(r.key)}),n.conditions.push(typeof e=="function"?new Fw(s,e):Fw.fromOptions(s,e)),n}typeError(t){let e=this.clone();return e.internalTests.typeError=ch({message:t,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),e}oneOf(t,e=Hr.oneOf){let n=this.clone();return t.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=ch({message:e,name:"oneOf",skipAbsent:!0,test(s){let r=this.schema._whitelist,a=r.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(r).join(", "),resolved:a}})}}),n}notOneOf(t,e=Hr.notOneOf){let n=this.clone();return t.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=ch({message:e,name:"notOneOf",test(s){let r=this.schema._blacklist,a=r.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(r).join(", "),resolved:a}}):!0}}),n}strip(t=!0){let e=this.clone();return e.spec.strip=t,e}describe(t){const e=(t?this.resolve(t):this).clone(),{label:n,meta:s,optional:r,nullable:a}=e.spec;return{meta:s,label:n,optional:r,nullable:a,default:e.getDefault(t),type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.filter((u,d,h)=>h.findIndex(p=>p.OPTIONS.name===u.OPTIONS.name)===d).map(u=>{const d=u.OPTIONS.params&&t?lj(Object.assign({},u.OPTIONS.params),t):u.OPTIONS.params;return{name:u.OPTIONS.name,params:d}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await t.validate(n,{abortEarly:!1})}}catch(s){if(s instanceof Di)return{issues:uj(s)};throw s}}}}}pr.prototype.__isYupSchema__=!0;for(const i of["validate","validateSync"])pr.prototype[`${i}At`]=function(t,e,n={}){const{parent:s,parentPath:r,schema:a}=rq(this,t,e,n.context);return a[i](s&&s[r],Object.assign({},n,{parent:s,path:t}))};for(const i of["equals","is"])pr.prototype[i]=pr.prototype.oneOf;for(const i of["not","nope"])pr.prototype[i]=pr.prototype.notOneOf;const lq=()=>!0;function hj(i){return new dj(i)}class dj extends pr{constructor(t){super(typeof t=="function"?{type:"mixed",check:t}:Object.assign({type:"mixed",check:lq},t))}}hj.prototype=dj.prototype;const cq=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function uq(i){const t=eT(i);if(!t)return Date.parse?Date.parse(i):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let e=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(e=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(e=0-e)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+e,t.second,t.millisecond)}function eT(i){var t,e;const n=cq.exec(i);return n?{year:wa(n[1]),month:wa(n[2],1)-1,day:wa(n[3],1),hour:wa(n[4]),minute:wa(n[5]),second:wa(n[6]),millisecond:n[7]?wa(n[7].substring(0,3)):0,precision:(t=(e=n[7])==null?void 0:e.length)!=null?t:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:wa(n[10]),minuteOffset:wa(n[11])}:null}function wa(i,t=0){return Number(i)||t}let hq=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dq=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,fq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,pq="^\\d{4}-\\d{2}-\\d{2}",gq="\\d{2}:\\d{2}:\\d{2}",mq="(([+-]\\d{2}(:?\\d{2})?)|Z)",yq=new RegExp(`${pq}T${gq}(\\.\\d+)?${mq}$`),vq=i=>Pc(i)||i===i.trim(),bq={}.toString();function to(){return new fj}class fj extends pr{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,e)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===bq?t:n})})}required(t){return super.required(t).withMutation(e=>e.test({message:t||Hr.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(e=>e.OPTIONS.name!=="required"),t))}length(t,e=qi.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(n){return n.length===this.resolve(t)}})}min(t,e=qi.min){return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(n){return n.length>=this.resolve(t)}})}max(t,e=qi.max){return this.test({name:"max",exclusive:!0,message:e,params:{max:t},skipAbsent:!0,test(n){return n.length<=this.resolve(t)}})}matches(t,e){let n=!1,s,r;return e&&(typeof e=="object"?{excludeEmptyString:n=!1,message:s,name:r}=e:s=e),this.test({name:r||"matches",message:s||qi.matches,params:{regex:t},skipAbsent:!0,test:a=>a===""&&n||a.search(t)!==-1})}email(t=qi.email){return this.matches(hq,{name:"email",message:t,excludeEmptyString:!0})}url(t=qi.url){return this.matches(dq,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=qi.uuid){return this.matches(fq,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let e="",n,s;return t&&(typeof t=="object"?{message:e="",allowOffset:n=!1,precision:s=void 0}=t:e=t),this.matches(yq,{name:"datetime",message:e||qi.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:e||qi.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:r=>{if(!r||n)return!0;const a=eT(r);return a?!!a.z:!1}}).test({name:"datetime_precision",message:e||qi.datetime_precision,params:{precision:s},skipAbsent:!0,test:r=>{if(!r||s==null)return!0;const a=eT(r);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=qi.trim){return this.transform(e=>e!=null?e.trim():e).test({message:t,name:"trim",test:vq})}lowercase(t=qi.lowercase){return this.transform(e=>Pc(e)?e:e.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Pc(e)||e===e.toLowerCase()})}uppercase(t=qi.uppercase){return this.transform(e=>Pc(e)?e:e.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Pc(e)||e===e.toUpperCase()})}}to.prototype=fj.prototype;let wq=new Date(""),_q=i=>Object.prototype.toString.call(i)==="[object Date]";class D2 extends pr{constructor(){super({type:"date",check(t){return _q(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,e)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=uq(t),isNaN(t)?D2.INVALID_DATE:new Date(t)))})}prepareParam(t,e){let n;if(hu.isRef(t))n=t;else{let s=this.cast(t);if(!this._typeCheck(s))throw new TypeError(`\`${e}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(t,e=tT.min){let n=this.prepareParam(t,"min");return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(t,e=tT.max){let n=this.prepareParam(t,"max");return this.test({message:e,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}D2.INVALID_DATE=wq;function Aq(i,t=[]){let e=[],n=new Set,s=new Set(t.map(([a,l])=>`${a}-${l}`));function r(a,l){let u=Xc.split(a)[0];n.add(u),s.has(`${l}-${u}`)||e.push([l,u])}for(const a of Object.keys(i)){let l=i[a];n.add(a),hu.isRef(l)&&l.isSibling?r(l.path,a):P2(l)&&"deps"in l&&l.deps.forEach(u=>r(u,a))}return qG.array(Array.from(n),e).reverse()}function UD(i,t){let e=1/0;return i.some((n,s)=>{var r;if((r=t.path)!=null&&r.includes(n))return e=s,!0}),e}function pj(i){return(t,e)=>UD(i,t)-UD(i,e)}const Sq=(i,t,e)=>{if(typeof i!="string")return i;let n=i;try{n=JSON.parse(i)}catch{}return e.isType(n)?n:i};function b0(i){if("fields"in i){const t={};for(const[e,n]of Object.entries(i.fields))t[e]=b0(n);return i.setFields(t)}if(i.type==="array"){const t=i.optional();return t.innerType&&(t.innerType=b0(t.innerType)),t}return i.type==="tuple"?i.optional().clone({types:i.spec.types.map(b0)}):"optional"in i?i.optional():i}const xq=(i,t)=>{const e=[...Xc.normalizePath(t)];if(e.length===1)return e[0]in i;let n=e.pop(),s=Xc.getter(Xc.join(e),!0)(i);return!!(s&&n in s)};let HD=i=>Object.prototype.toString.call(i)==="[object Object]";function $D(i,t){let e=Object.keys(i.fields);return Object.keys(t).filter(n=>e.indexOf(n)===-1)}const Eq=pj([]);function a_(i){return new gj(i)}class gj extends pr{constructor(t){super({type:"object",check(e){return HD(e)||typeof e=="function"}}),this.fields=Object.create(null),this._sortErrors=Eq,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,e={}){var n;let s=super._cast(t,e);if(s===void 0)return this.getDefault(e);if(!this._typeCheck(s))return s;let r=this.fields,a=(n=e.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(p=>!this._nodes.includes(p))),u={},d=Object.assign({},e,{parent:u,__validating:e.__validating||!1}),h=!1;for(const p of l){let m=r[p],v=p in s,_=s[p];if(m){let w;d.path=(e.path?`${e.path}.`:"")+p,m=m.resolve({value:_,context:e.context,parent:u});let S=m instanceof pr?m.spec:void 0,x=S?.strict;if(S!=null&&S.strip){h=h||p in s;continue}w=!e.__validating||!x?m.cast(_,d):_,w!==void 0&&(u[p]=w)}else v&&!a&&(u[p]=_);(v!==p in u||u[p]!==_)&&(h=!0)}return h?u:s}_validate(t,e={},n,s){let{from:r=[],originalValue:a=t,recursive:l=this.spec.recursive}=e;e.from=[{schema:this,value:a},...r],e.__validating=!0,e.originalValue=a,super._validate(t,e,n,(u,d)=>{if(!l||!HD(d)){s(u,d);return}a=a||d;let h=[];for(let p of this._nodes){let m=this.fields[p];!m||hu.isRef(m)||h.push(m.asNestedTest({options:e,key:p,parent:d,parentPath:e.path,originalParent:a}))}this.runTests({tests:h,value:d,originalValue:a,options:e},n,p=>{s(p.sort(this._sortErrors).concat(u),d)})})}clone(t){const e=super.clone(t);return e.fields=Object.assign({},this.fields),e._nodes=this._nodes,e._excludedEdges=this._excludedEdges,e._sortErrors=this._sortErrors,e}concat(t){let e=super.concat(t),n=e.fields;for(let[s,r]of Object.entries(this.fields)){const a=n[s];n[s]=a===void 0?r:a}return e.withMutation(s=>s.setFields(n,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let e={};return this._nodes.forEach(n=>{var s;const r=this.fields[n];let a=t;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),e[n]=r&&"getDefault"in r?r.getDefault(a):void 0}),e}setFields(t,e){let n=this.clone();return n.fields=t,n._nodes=Aq(t,e),n._sortErrors=pj(Object.keys(t)),e&&(n._excludedEdges=e),n}shape(t,e=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return e.length&&(Array.isArray(e[0])||(e=[e]),s=[...n._excludedEdges,...e]),n.setFields(Object.assign(n.fields,t),s)})}partial(){const t={};for(const[e,n]of Object.entries(this.fields))t[e]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(t)}deepPartial(){return b0(this)}pick(t){const e={};for(const n of t)this.fields[n]&&(e[n]=this.fields[n]);return this.setFields(e,this._excludedEdges.filter(([n,s])=>t.includes(n)&&t.includes(s)))}omit(t){const e=[];for(const n of Object.keys(this.fields))t.includes(n)||e.push(n);return this.pick(e)}from(t,e,n){let s=Xc.getter(t,!0);return this.transform(r=>{if(!r)return r;let a=r;return xq(r,t)&&(a=Object.assign({},r),n||delete a[t],a[e]=s(r)),a})}json(){return this.transform(Sq)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||v0.exact,test(e){if(e==null)return!0;const n=$D(this.schema,e);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,e=v0.noUnknown){typeof t!="boolean"&&(e=t,t=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:e,test(s){if(s==null)return!0;const r=$D(this.schema,s);return!t||r.length===0||this.createError({params:{unknown:r.join(", ")}})}});return n.spec.noUnknown=t,n}unknown(t=!0,e=v0.noUnknown){return this.noUnknown(!t,e)}transformKeys(t){return this.transform(e=>{if(!e)return e;const n={};for(const s of Object.keys(e))n[t(s)]=e[s];return n})}camelCase(){return this.transformKeys(Tx.camelCase)}snakeCase(){return this.transformKeys(Tx.snakeCase)}constantCase(){return this.transformKeys(t=>Tx.snakeCase(t).toUpperCase())}describe(t){const e=(t?this.resolve(t):this).clone(),n=super.describe(t);n.fields={};for(const[r,a]of Object.entries(e.fields)){var s;let l=t;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[r]})),n.fields[r]=a.describe(l)}return n}}a_.prototype=gj.prototype;const Tq=a_().shape({name:to().required("Name is required").matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:to().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',i=>(i.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',i=>{const t=i.indexOf("@");return i.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:to().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format").required("Password is required")}),Cq=a_().shape({email:to().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',i=>(i.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',i=>{const t=i.indexOf("@");return i.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:to().required("Password is required").min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});a_().shape({avatar:hj(),name:to().matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:to().test("has-one-at-symbol",'Email must contain exactly one "@" symbol',i=>(i.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',i=>{const t=i.indexOf("@");return i.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:to().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});const mj={validationLoginSchema:Cq,validationRegistrSchema:Tq},WD=(i,t,e)=>{if(i&&"reportValidity"in i){const n=Vt(e,t);i.setCustomValidity(n&&n.message||""),i.reportValidity()}},yj=(i,t)=>{for(const e in t.fields){const n=t.fields[e];n&&n.ref&&"reportValidity"in n.ref?WD(n.ref,e,i):n&&n.refs&&n.refs.forEach(s=>WD(s,e,i))}},kq=(i,t)=>{t.shouldUseNativeValidation&&yj(i,t);const e={};for(const n in i){const s=Vt(t.fields,n),r=Object.assign(i[n]||{},{ref:s&&s.ref});if(Rq(t.names||Object.keys(i),n)){const a=Object.assign({},Vt(e,n));$e(a,"root",r),$e(e,n,a)}else $e(e,n,r)}return e},Rq=(i,t)=>{const e=VD(t);return i.some(n=>VD(n).match(`^${e}\\.\\d+`))};function VD(i){return i.replace(/\]|\[/g,"")}function vj(i,t,e){return e===void 0&&(e={}),function(n,s,r){try{return Promise.resolve((function(a,l){try{var u=(t?.context,Promise.resolve(i[e.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},t,{context:s}))).then(function(d){return r.shouldUseNativeValidation&&yj({},r),{values:e.raw?Object.assign({},n):d,errors:{}}}))}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u})(0,function(a){if(!a.inner)throw a;return{values:{},errors:kq((l=a,u=!r.shouldUseNativeValidation&&r.criteriaMode==="all",(l.inner||[]).reduce(function(d,h){if(d[h.path]||(d[h.path]={message:h.message,type:h.type}),u){var p=d[h.path].types,m=p&&p[h.type];d[h.path]=K3(h.path,u,d,h.type,m?[].concat(m,h.message):h.message)}return d},{})),r)};var l,u}))}catch(a){return Promise.reject(a)}}}const Mq="_form_1vazc_1",Lq="_inputGroup_1vazc_9",Oq="_label_1vazc_16",Pq="_inputContainer_1vazc_22",Dq="_input_1vazc_9",Nq="_iconLeft_1vazc_46",Iq="_iconRight_1vazc_55",Fq="_icon_1vazc_46",jq="_error_1vazc_73",Bq="_optionsRow_1vazc_79",zq="_remember_1vazc_87",Uq="_link_1vazc_93",Hq="_button_1vazc_102",wn={form:Mq,inputGroup:Lq,label:Oq,inputContainer:Pq,input:Dq,iconLeft:Nq,iconRight:Iq,icon:Fq,error:jq,optionsRow:Bq,remember:zq,link:Uq,button:Hq},$q=({onSubmit:i})=>{const{register:t,handleSubmit:e,formState:{errors:n}}=ij({resolver:vj(mj.validationLoginSchema)}),[s,r]=V.useState(!1),a=()=>r(!s);return F.jsxs("form",{className:wn.form,onSubmit:e(i),noValidate:!0,children:[F.jsxs("div",{className:wn.inputGroup,children:[F.jsx("label",{htmlFor:"email",className:wn.label,children:"Email Address"}),F.jsxs("div",{className:wn.inputContainer,children:[F.jsx(B3,{className:wn.iconLeft}),F.jsx("input",{id:"email",className:wn.input,...t("email"),type:"email",placeholder:"your.email@example.com"})]}),n.email&&F.jsx("p",{className:wn.error,children:n.email.message})]}),F.jsxs("div",{className:wn.inputGroup,children:[F.jsx("label",{htmlFor:"password",className:wn.label,children:"Password"}),F.jsxs("div",{className:wn.inputContainer,children:[F.jsx(U3,{className:wn.iconLeft}),F.jsx("input",{id:"password",className:wn.input,...t("password"),type:s?"text":"password",placeholder:"Enter your password"}),F.jsx("div",{className:wn.iconRight,onClick:a,children:s?F.jsx(C2,{className:wn.icon}):F.jsx(z3,{className:wn.icon})})]}),n.password&&F.jsx("p",{className:wn.error,children:n.password.message})]}),F.jsxs("div",{className:wn.optionsRow,children:[F.jsxs("label",{className:wn.remember,children:[F.jsx("input",{type:"checkbox"})," Remember me"]}),F.jsx("a",{href:"/forgot-password",className:wn.link,children:"Forgot password?"})]}),F.jsx("button",{className:wn.button,type:"submit",children:"Sign In"})]})},Wq="_form_z4fvl_1",Vq="_inputGroup_z4fvl_9",Gq="_label_z4fvl_16",qq="_inputContainer_z4fvl_22",Yq="_input_z4fvl_9",Xq="_iconLeft_z4fvl_46",Kq="_iconRight_z4fvl_55",Qq="_icon_z4fvl_46",Zq="_error_z4fvl_73",Jq="_button_z4fvl_79",nn={form:Wq,inputGroup:Vq,label:Gq,inputContainer:qq,input:Yq,iconLeft:Xq,iconRight:Kq,icon:Qq,error:Zq,button:Jq},tY=({onSubmit:i})=>{const{register:t,handleSubmit:e,formState:{errors:n}}=ij({resolver:vj(mj.validationRegistrSchema)}),[s,r]=V.useState(!1),[a,l]=V.useState(""),u=()=>r(!s),d=h=>l(h.target.value);return F.jsxs("form",{className:nn.form,onSubmit:e(h=>i(h)),noValidate:!0,children:[F.jsxs("div",{className:nn.inputGroup,children:[F.jsx("label",{htmlFor:"name",className:nn.label,children:"Full Name"}),F.jsxs("div",{className:nn.inputContainer,children:[F.jsx(BV,{className:nn.iconLeft}),F.jsx("input",{id:"name",className:nn.input,...t("name",{required:!0}),type:"text",placeholder:"Enter your name"})]}),n.name&&F.jsx("p",{className:nn.error,children:n.name.message})]}),F.jsxs("div",{className:nn.inputGroup,children:[F.jsx("label",{htmlFor:"email",className:nn.label,children:"Email Address"}),F.jsxs("div",{className:nn.inputContainer,children:[F.jsx(B3,{className:nn.iconLeft}),F.jsx("input",{id:"email",className:nn.input,...t("email",{required:!0}),type:"email",placeholder:"your.email@example.com"})]}),n.email&&F.jsx("p",{className:nn.error,children:n.email.message})]}),F.jsxs("div",{className:nn.inputGroup,children:[F.jsx("label",{htmlFor:"password",className:nn.label,children:"Password"}),F.jsxs("div",{className:nn.inputContainer,children:[F.jsx(U3,{className:nn.iconLeft}),F.jsx("input",{id:"password",className:nn.input,...t("password",{required:!0}),value:a,onChange:d,type:s?"text":"password",placeholder:"Create a password"}),F.jsx("div",{className:nn.iconRight,onClick:u,children:s?F.jsx(C2,{className:nn.icon}):F.jsx(z3,{className:nn.icon})})]}),n.password&&F.jsx("p",{className:nn.error,children:n.password.message})]}),F.jsx("button",{className:nn.button,type:"submit",children:"Register Now"})]})},GD=()=>{const i=QF(),t=Om(),{isLoggedIn:e}=q1(l=>l.auth),[n,s]=V.useState(!0),r=async l=>{await i(zg(l));try{i(zg(l)).unwrap(),Re.success(" Login successful!")}catch(u){Re.error(u||" Login failed. Please try again.")}},a=async l=>{try{await i(y0(l)).unwrap(),Re.success(" Registration successful!")}catch(u){Re.error(u||" Registration failed. Please try again.")}};return V.useEffect(()=>{e&&t("/")},[e,t]),F.jsx("div",{className:tr.pageWrapper,children:F.jsxs("div",{className:tr.card,children:[F.jsxs("div",{className:tr.header,children:[F.jsx("div",{className:tr.iconCircle,children:F.jsx(jV,{className:tr.icon})}),F.jsx("h2",{className:tr.title,children:n?"Welcome Back":"Create Account"}),F.jsx("p",{className:tr.subtitle,children:n?"Sign in to continue your learning journey":"Join Study Buddy and start learning today"})]}),F.jsx("div",{className:tr.formContainer,children:n?F.jsx($q,{onSubmit:r}):F.jsx(tY,{onSubmit:a})}),F.jsx("div",{className:tr.toggleText,children:n?F.jsxs("p",{children:["Dont have an account?"," ",F.jsx("button",{onClick:()=>s(!1),className:tr.toggleButton,children:"Register"})]}):F.jsxs("p",{children:["Already have an account?"," ",F.jsx("button",{onClick:()=>s(!0),className:tr.toggleButton,children:"Log In"})]})})]})})},eY="_container_z3xf8_1",nY="_card_z3xf8_9",iY="_header_z3xf8_23",sY="_tag_z3xf8_30",rY="_iconBox_z3xf8_39",aY="_content_z3xf8_47",oY="_question_z3xf8_57",lY="_answer_z3xf8_63",cY="_showBtn_z3xf8_73",uY="_icon_z3xf8_39",hY="_nav_z3xf8_96",dY="_navBtn_z3xf8_102",fY="_next_z3xf8_126",ui={container:eY,card:nY,header:iY,tag:sY,iconBox:rY,content:aY,question:oY,answer:lY,showBtn:cY,icon:uY,nav:hY,navBtn:dY,next:fY},pY=({cards:i=[],onFinish:t})=>{const[e,n]=V.useState(0),[s,r]=V.useState(!1),a=i[e],l=()=>{e<i.length-1?(n(d=>d+1),r(!1)):t?.()},u=()=>{e>0&&(n(d=>d-1),r(!1))};return F.jsxs("div",{className:ui.container,children:[F.jsxs("div",{className:ui.card,children:[F.jsxs("div",{className:ui.header,children:[F.jsx("span",{className:ui.tag,children:a.topic}),F.jsx("span",{className:ui.tag,children:a.difficulty}),F.jsx("div",{className:ui.iconBox,children:""})]}),F.jsxs("div",{className:ui.content,children:[s?F.jsx("p",{className:ui.answer,children:a.answer}):F.jsx("h2",{className:ui.question,children:a.question}),!s&&F.jsxs("button",{className:ui.showBtn,onClick:()=>r(!0),children:[F.jsx(C2,{className:ui.icon}),"Show Answer"]})]})]}),F.jsxs("div",{className:ui.nav,children:[F.jsxs("button",{className:`${ui.navBtn} ${ui.prev}`,onClick:u,disabled:e===0,children:[F.jsx(IV,{}),"Previous"]}),F.jsxs("button",{className:`${ui.navBtn} ${ui.next}`,onClick:l,children:["Next",F.jsx(FV,{})]})]})]})},gY="_sidebar_1k3i8_1",mY="_open_1k3i8_16",yY="_header_1k3i8_20",vY="_title_1k3i8_27",bY="_closeBtn_1k3i8_33",wY="_list_1k3i8_44",_Y="_item_1k3i8_52",AY="_itemHeader_1k3i8_56",SY="_active_1k3i8_72",xY="_features_1k3i8_78",EY="_featureItem_1k3i8_84",TY="_icon_1k3i8_100",CY="_footer_1k3i8_105",kY="_addFileBtn_1k3i8_113",Vi={sidebar:gY,open:mY,header:yY,title:vY,closeBtn:bY,list:wY,item:_Y,itemHeader:AY,active:SY,features:xY,featureItem:EY,icon:TY,footer:CY,addFileBtn:kY},RY=[{name:"Notes",icon:""},{name:"Flashcards",icon:""},{name:"AI Buddy",icon:""},{name:"Quiz",icon:""}],MY=({modules:i,isOpen:t,onClose:e,onFeatureSelect:n,onAddFile:s})=>{const[r,a]=V.useState(null),l=u=>{a(r===u?null:u)};return F.jsxs("div",{className:`${Vi.sidebar} ${t?Vi.open:""}`,children:[F.jsxs("div",{className:Vi.header,children:[F.jsx("h2",{className:Vi.title,children:"Files"}),F.jsx("button",{className:Vi.closeBtn,onClick:e,children:""})]}),F.jsx("ul",{className:Vi.list,children:i.map((u,d)=>F.jsxs("li",{className:Vi.item,children:[F.jsxs("div",{className:`${Vi.itemHeader} ${r===d?Vi.active:""}`,onClick:()=>l(d),children:[F.jsxs("span",{children:[d+1,". ",u.title]}),r===d?F.jsx(J9,{size:18}):F.jsx(eV,{size:18})]}),r===d&&F.jsx("ul",{className:Vi.features,children:RY.map((h,p)=>F.jsxs("li",{className:Vi.featureItem,onClick:()=>n(u,h.name),children:[F.jsx("span",{className:Vi.icon,children:h.icon}),h.name]},p))})]},d))}),F.jsx("div",{className:Vi.footer,children:F.jsxs("button",{className:Vi.addFileBtn,onClick:s,children:[F.jsx(oV,{size:18}),"Add more files"]})})]})},LY="_workspace_17d2c_1",OY="_layoutWrapper_17d2c_8",PY="_main_17d2c_23",DY="_sidebarOpen_17d2c_61",xv={workspace:LY,layoutWrapper:OY,main:PY,sidebarOpen:DY},NY=({children:i,modules:t=[],onFeatureSelect:e,selectedModuleId:n,onFilesAdded:s})=>{const[r,a]=V.useState(!0),[l,u]=V.useState(!1),d=()=>u(!1),h=p=>{s&&s(p),u(!1)};return F.jsxs("div",{className:`${xv.workspace} ${r?xv.sidebarOpen:""}`,children:[F.jsx(Ow,{onMenuClick:()=>a(p=>!p),hasSidebar:!0}),F.jsxs("div",{className:xv.layoutWrapper,children:[F.jsx(MY,{modules:t,isOpen:r,onClose:()=>a(!1),onFeatureSelect:e,onAddFile:()=>u(!0)}),F.jsx("main",{className:xv.main,children:i}),F.jsx(N3,{isOpen:l,onClose:d,moduleId:n,onCreate:h,mode:"upload"})]})]})},IY="_container_15s6i_1",FY="_card_15s6i_6",jY="_header_15s6i_17",BY="_tag_15s6i_23",zY="_mode_15s6i_31",UY="_question_15s6i_38",HY="_options_15s6i_44",$Y="_option_15s6i_44",WY="_selected_15s6i_71",VY="_actions_15s6i_76",GY="_button_15s6i_82",qY="_prev_15s6i_98",Ri={container:IY,card:FY,header:jY,tag:BY,mode:zY,question:UY,options:HY,option:$Y,selected:WY,actions:VY,button:GY,prev:qY},YY=({questions:i=[],onSubmit:t})=>{const[e,n]=V.useState(0),[s,r]=V.useState({}),a=i[e],l=(p,m)=>{r(v=>({...v,[p]:m}))},u=()=>{e<i.length-1&&n(p=>p+1)},d=()=>{e>0&&n(p=>p-1)},h=()=>{t?.(s)};return F.jsx("div",{className:Ri.container,children:F.jsxs("div",{className:Ri.card,children:[F.jsxs("div",{className:Ri.header,children:[F.jsx("span",{className:Ri.tag,children:a.topic}),F.jsx("span",{className:Ri.tag,children:a.difficulty}),F.jsx("span",{className:Ri.mode,children:" MCQ"})]}),F.jsx("h2",{className:Ri.question,children:a.question}),F.jsx("div",{className:Ri.options,children:a.options.map((p,m)=>F.jsxs("label",{className:`${Ri.option} ${s[a.id]===p?Ri.selected:""}`,children:[F.jsx("input",{type:"radio",name:a.id,value:p,checked:s[a.id]===p,onChange:()=>l(a.id,p)}),F.jsx("span",{children:p})]},m))}),F.jsxs("div",{className:Ri.actions,children:[F.jsx("button",{onClick:d,className:`${Ri.button} ${Ri.prev}`,disabled:e===0,children:"Previous"}),e===i.length-1?F.jsx("button",{className:Ri.button,onClick:h,children:"Submit"}):F.jsx("button",{className:Ri.button,onClick:u,children:"Next"})]})]})})},XY="_wrapper_vlw6d_1",KY="_viewerArea_vlw6d_39",QY="_controls_vlw6d_46",ZY="_pageContainer_vlw6d_65",JY="_pageWrapper_vlw6d_73",tX="_page_vlw6d_65",eX="_pageContent_vlw6d_85",Vl={wrapper:XY,viewerArea:KY,controls:QY,pageContainer:ZY,pageWrapper:JY,page:tX,pageContent:eX},nX=async(i,t)=>(await Bm.get(`/files/modules/${i}/files/${t}`)).data.html;function qD({moduleId:i,fileId:t}){const[e,n]=V.useState([]),[s,r]=V.useState(0),a=800,l=1050,u=28;V.useEffect(()=>{if(!t)return;const p=localStorage.getItem("latestFileId"),m=parseInt(localStorage.getItem("latestPageIndex"),10);p===String(t)&&!isNaN(m)?r(m):r(0),d()},[t]),V.useEffect(()=>{localStorage.setItem("latestPageIndex",s)},[s]);const d=async()=>{try{const p=await nX(i,t);h(p),localStorage.setItem("latestFileId",t)}catch(p){console.error(p),alert("Failed to load file")}};async function h(p){const m=document.createElement("div");m.style.width=`${a-u*2}px`,m.style.visibility="hidden",m.style.position="absolute",m.style.left="-9999px",m.innerHTML=p,document.body.appendChild(m);const v=m.querySelectorAll("img");await Promise.all(Array.from(v).map(w=>new Promise(S=>{w.complete?S():w.onload=w.onerror=S})));const _=[];for(;m.childNodes.length>0;){const w=document.createElement("div");for(w.style.boxSizing="border-box",w.style.width=`${a-u*2}px`;m.childNodes.length>0;){const S=m.childNodes[0];w.appendChild(S.cloneNode(!0)),m.removeChild(S),document.body.appendChild(w);const x=w.getBoundingClientRect().height;if(document.body.removeChild(w),x>l-u*2){const C=w.lastChild;w.removeChild(C),m.insertBefore(C,m.firstChild);break}}if(_.push(w.innerHTML),m.childNodes.length===0)break}document.body.removeChild(m),n(_),r(w=>w>=_.length?0:w)}return F.jsx("div",{className:Vl.wrapper,children:e.length>0&&F.jsx("div",{className:Vl.pageContainer,children:F.jsxs("div",{className:Vl.viewerArea,children:[F.jsx("div",{className:Vl.pageWrapper,children:F.jsx("div",{className:Vl.page,style:{width:a,height:l},children:F.jsx("div",{className:Vl.pageContent,dangerouslySetInnerHTML:{__html:e[s]}})})}),F.jsxs("div",{className:Vl.controls,children:[F.jsx("button",{onClick:()=>r(p=>Math.max(0,p-1)),disabled:s===0,children:" Previous"}),F.jsxs("span",{children:["Page ",s+1," / ",e.length]}),F.jsx("button",{onClick:()=>r(p=>Math.min(e.length-1,p+1)),disabled:s===e.length-1,children:"Next "})]})]})})})}const iX="_wrapper_gzxk7_1",sX="_chatContainer_gzxk7_9",rX="_title_gzxk7_20",aX="_chatBox_gzxk7_29",oX="_inputArea_gzxk7_71",lX="_input_gzxk7_71",cX="_sendBtn_gzxk7_86",Gl={wrapper:iX,chatContainer:sX,title:rX,chatBox:aX,inputArea:oX,input:lX,sendBtn:cX},uX="_message_wt4w6_1",hX="_avatar_wt4w6_7",dX="_text_wt4w6_11",dp={message:uX,avatar:hX,text:dX},fX=({sender:i,text:t})=>{const e=i==="user";return F.jsxs("div",{className:`${dp.message} ${e?dp.userMsg:dp.botMsg}`,children:[F.jsx("div",{className:dp.avatar,children:e?"":""}),F.jsx("div",{className:dp.text,children:t})]})},pX=()=>{const[i,t]=V.useState([{sender:"user",text:"Hi, can you explain definition of Integration in a simple way?"},{sender:"bot",text:`Integration is the opposite of differentiation. 
If differentiation breaks something into smaller parts (like finding rate of change), integration puts it back together  like finding total area, distance, or quantity.`}]),[e,n]=V.useState(""),s=r=>{r.preventDefault(),e.trim()&&(t([...i,{sender:"user",text:e}]),n(""))};return F.jsx("div",{className:Gl.wrapper,children:F.jsxs("div",{className:Gl.chatContainer,children:[F.jsx("h2",{className:Gl.title,children:"AI Tutor"}),F.jsx("div",{className:Gl.chatBox,children:i.map((r,a)=>F.jsx(fX,{sender:r.sender,text:r.text},a))}),F.jsxs("form",{onSubmit:s,className:Gl.inputArea,children:[F.jsx("input",{type:"text",placeholder:'Ask about: " f(x) dx = F(x) + C"',value:e,onChange:r=>n(r.target.value),className:Gl.input}),F.jsx("button",{type:"submit",className:Gl.sendBtn,children:""})]})]})})},gX="_studySpaceContainer_bpnll_1",mX={studySpaceContainer:gX},yX="modulepreload",vX=function(i){return"/Study-Buddy/"+i},YD={},Ev=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");s=u(e.map(d=>{if(d=vX(d),d in YD)return;YD[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":yX,h||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((v,_)=>{m.addEventListener("load",v),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})};var bX=Object.defineProperty,wX=(i,t,e)=>t in i?bX(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,ue=(i,t,e)=>(wX(i,typeof t!="symbol"?t+"":t,e),e),N2=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)},y=(i,t,e)=>(N2(i,t,"read from private field"),e?e.call(i):t.get(i)),B=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},X=(i,t,e,n)=>(N2(i,t,"write to private field"),t.set(i,e),e),Xs=(i,t,e,n)=>({set _(s){X(i,t,s)},get _(){return y(i,t,n)}}),Y=(i,t,e)=>(N2(i,t,"access private method"),e),Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bj(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Qdt(i){if(i.__esModule)return i;var t=i.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(e,n,s.get?s:{enumerable:!0,get:function(){return i[n]}})}),e}var fp=function(i){return i&&i.Math===Math&&i},na=fp(typeof globalThis=="object"&&globalThis)||fp(typeof window=="object"&&window)||fp(typeof self=="object"&&self)||fp(typeof Fp=="object"&&Fp)||fp(typeof Fp=="object"&&Fp)||(function(){return this})()||Function("return this")(),I2={},xl=function(i){try{return!!i()}catch{return!0}},_X=xl,du=!_X(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),AX=xl,wj=!AX(function(){var i=(function(){}).bind();return typeof i!="function"||i.hasOwnProperty("prototype")}),SX=wj,Tv=Function.prototype.call,F2=SX?Tv.bind(Tv):function(){return Tv.apply(Tv,arguments)},_j={},Aj={}.propertyIsEnumerable,Sj=Object.getOwnPropertyDescriptor,xX=Sj&&!Aj.call({1:2},1);_j.f=xX?function(i){var t=Sj(this,i);return!!t&&t.enumerable}:Aj;var xj=function(i,t){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:t}},Ej=wj,Tj=Function.prototype,nT=Tj.call,EX=Ej&&Tj.bind.bind(nT,nT),co=Ej?EX:function(i){return function(){return nT.apply(i,arguments)}},Cj=co,TX=Cj({}.toString),CX=Cj("".slice),kX=function(i){return CX(TX(i),8,-1)},RX=co,MX=xl,LX=kX,Cx=Object,OX=RX("".split),PX=MX(function(){return!Cx("z").propertyIsEnumerable(0)})?function(i){return LX(i)==="String"?OX(i,""):Cx(i)}:Cx,kj=function(i){return i==null},DX=kj,NX=TypeError,Rj=function(i){if(DX(i))throw new NX("Can't call method on "+i);return i},IX=PX,FX=Rj,j2=function(i){return IX(FX(i))},kx=typeof document=="object"&&document.all,ia=typeof kx>"u"&&kx!==void 0?function(i){return typeof i=="function"||i===kx}:function(i){return typeof i=="function"},jX=ia,o_=function(i){return typeof i=="object"?i!==null:jX(i)},Rx=na,BX=ia,zX=function(i){return BX(i)?i:void 0},Mj=function(i,t){return arguments.length<2?zX(Rx[i]):Rx[i]&&Rx[i][t]},UX=co,HX=UX({}.isPrototypeOf),$X=typeof navigator<"u"&&String(navigator.userAgent)||"",Lj=na,Mx=$X,XD=Lj.process,KD=Lj.Deno,QD=XD&&XD.versions||KD&&KD.version,ZD=QD&&QD.v8,or,Bw;ZD&&(or=ZD.split("."),Bw=or[0]>0&&or[0]<4?1:+(or[0]+or[1]));!Bw&&Mx&&(or=Mx.match(/Edge\/(\d+)/),(!or||or[1]>=74)&&(or=Mx.match(/Chrome\/(\d+)/),or&&(Bw=+or[1])));var WX=Bw,JD=WX,VX=xl,GX=na,qX=GX.String,Oj=!!Object.getOwnPropertySymbols&&!VX(function(){var i=Symbol("symbol detection");return!qX(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&JD&&JD<41}),YX=Oj,Pj=YX&&!Symbol.sham&&typeof Symbol.iterator=="symbol",XX=Mj,KX=ia,QX=HX,ZX=Pj,JX=Object,Dj=ZX?function(i){return typeof i=="symbol"}:function(i){var t=XX("Symbol");return KX(t)&&QX(t.prototype,JX(i))},tK=String,eK=function(i){try{return tK(i)}catch{return"Object"}},nK=ia,iK=eK,sK=TypeError,Nj=function(i){if(nK(i))return i;throw new sK(iK(i)+" is not a function")},rK=Nj,aK=kj,oK=function(i,t){var e=i[t];return aK(e)?void 0:rK(e)},Lx=F2,Ox=ia,Px=o_,lK=TypeError,cK=function(i,t){var e,n;if(t==="string"&&Ox(e=i.toString)&&!Px(n=Lx(e,i))||Ox(e=i.valueOf)&&!Px(n=Lx(e,i))||t!=="string"&&Ox(e=i.toString)&&!Px(n=Lx(e,i)))return n;throw new lK("Can't convert object to primitive value")},Ij={exports:{}},tN=na,uK=Object.defineProperty,B2=function(i,t){try{uK(tN,i,{value:t,configurable:!0,writable:!0})}catch{tN[i]=t}return t},hK=na,dK=B2,eN="__core-js_shared__",nN=Ij.exports=hK[eN]||dK(eN,{});(nN.versions||(nN.versions=[])).push({version:"3.37.1",mode:"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var z2=Ij.exports,iN=z2,Fj=function(i,t){return iN[i]||(iN[i]=t||{})},fK=Rj,pK=Object,gK=function(i){return pK(fK(i))},mK=co,yK=gK,vK=mK({}.hasOwnProperty),fu=Object.hasOwn||function(i,t){return vK(yK(i),t)},bK=co,wK=0,_K=Math.random(),AK=bK(1 .toString),jj=function(i){return"Symbol("+(i===void 0?"":i)+")_"+AK(++wK+_K,36)},SK=na,xK=Fj,sN=fu,EK=jj,TK=Oj,CK=Pj,id=SK.Symbol,Dx=xK("wks"),kK=CK?id.for||id:id&&id.withoutSetter||EK,RK=function(i){return sN(Dx,i)||(Dx[i]=TK&&sN(id,i)?id[i]:kK("Symbol."+i)),Dx[i]},MK=F2,rN=o_,aN=Dj,LK=oK,OK=cK,PK=RK,DK=TypeError,NK=PK("toPrimitive"),IK=function(i,t){if(!rN(i)||aN(i))return i;var e=LK(i,NK),n;if(e){if(t===void 0&&(t="default"),n=MK(e,i,t),!rN(n)||aN(n))return n;throw new DK("Can't convert object to primitive value")}return t===void 0&&(t="number"),OK(i,t)},FK=IK,jK=Dj,Bj=function(i){var t=FK(i,"string");return jK(t)?t:t+""},BK=na,oN=o_,iT=BK.document,zK=oN(iT)&&oN(iT.createElement),UK=function(i){return zK?iT.createElement(i):{}},HK=du,$K=xl,WK=UK,zj=!HK&&!$K(function(){return Object.defineProperty(WK("div"),"a",{get:function(){return 7}}).a!==7}),VK=du,GK=F2,qK=_j,YK=xj,XK=j2,KK=Bj,QK=fu,ZK=zj,lN=Object.getOwnPropertyDescriptor;I2.f=VK?lN:function(i,t){if(i=XK(i),t=KK(t),ZK)try{return lN(i,t)}catch{}if(QK(i,t))return YK(!GK(qK.f,i,t),i[t])};var l_={},JK=du,tQ=xl,eQ=JK&&tQ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),nQ=o_,iQ=String,sQ=TypeError,Uj=function(i){if(nQ(i))return i;throw new sQ(iQ(i)+" is not an object")},rQ=du,aQ=zj,oQ=eQ,Cv=Uj,cN=Bj,lQ=TypeError,Nx=Object.defineProperty,cQ=Object.getOwnPropertyDescriptor,Ix="enumerable",Fx="configurable",jx="writable";l_.f=rQ?oQ?function(i,t,e){if(Cv(i),t=cN(t),Cv(e),typeof i=="function"&&t==="prototype"&&"value"in e&&jx in e&&!e[jx]){var n=cQ(i,t);n&&n[jx]&&(i[t]=e.value,e={configurable:Fx in e?e[Fx]:n[Fx],enumerable:Ix in e?e[Ix]:n[Ix],writable:!1})}return Nx(i,t,e)}:Nx:function(i,t,e){if(Cv(i),t=cN(t),Cv(e),aQ)try{return Nx(i,t,e)}catch{}if("get"in e||"set"in e)throw new lQ("Accessors not supported");return"value"in e&&(i[t]=e.value),i};var uQ=du,hQ=l_,dQ=xj,Hj=uQ?function(i,t,e){return hQ.f(i,t,dQ(1,e))}:function(i,t,e){return i[t]=e,i},$j={exports:{}},sT=du,fQ=fu,Wj=Function.prototype,pQ=sT&&Object.getOwnPropertyDescriptor,gQ=fQ(Wj,"name"),mQ=gQ&&(!sT||sT&&pQ(Wj,"name").configurable),yQ={CONFIGURABLE:mQ},vQ=co,bQ=ia,rT=z2,wQ=vQ(Function.toString);bQ(rT.inspectSource)||(rT.inspectSource=function(i){return wQ(i)});var _Q=rT.inspectSource,AQ=na,SQ=ia,uN=AQ.WeakMap,xQ=SQ(uN)&&/native code/.test(String(uN)),EQ=Fj,TQ=jj,hN=EQ("keys"),CQ=function(i){return hN[i]||(hN[i]=TQ(i))},Vj={},kQ=xQ,Gj=na,RQ=Hj,Bx=fu,zx=z2,MQ=CQ,LQ=Vj,dN="Object already initialized",fN=Gj.TypeError,OQ=Gj.WeakMap,aT,zw,oT,PQ=function(i){return oT(i)?zw(i):aT(i,{})};if(kQ||zx.state){var kr=zx.state||(zx.state=new OQ);kr.get=kr.get,kr.has=kr.has,kr.set=kr.set,aT=function(i,t){if(kr.has(i))throw new fN(dN);return t.facade=i,kr.set(i,t),t},zw=function(i){return kr.get(i)||{}},oT=function(i){return kr.has(i)}}else{var uh=MQ("state");LQ[uh]=!0,aT=function(i,t){if(Bx(i,uh))throw new fN(dN);return t.facade=i,RQ(i,uh,t),t},zw=function(i){return Bx(i,uh)?i[uh]:{}},oT=function(i){return Bx(i,uh)}}var DQ={get:zw,enforce:PQ},U2=co,NQ=xl,IQ=ia,kv=fu,lT=du,FQ=yQ.CONFIGURABLE,jQ=_Q,qj=DQ,BQ=qj.enforce,zQ=qj.get,pN=String,w0=Object.defineProperty,UQ=U2("".slice),HQ=U2("".replace),$Q=U2([].join),WQ=lT&&!NQ(function(){return w0(function(){},"length",{value:8}).length!==8}),VQ=String(String).split("String"),GQ=$j.exports=function(i,t,e){UQ(pN(t),0,7)==="Symbol("&&(t="["+HQ(pN(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),e&&e.getter&&(t="get "+t),e&&e.setter&&(t="set "+t),(!kv(i,"name")||FQ&&i.name!==t)&&(lT?w0(i,"name",{value:t,configurable:!0}):i.name=t),WQ&&e&&kv(e,"arity")&&i.length!==e.arity&&w0(i,"length",{value:e.arity});try{e&&kv(e,"constructor")&&e.constructor?lT&&w0(i,"prototype",{writable:!1}):i.prototype&&(i.prototype=void 0)}catch{}var n=BQ(i);return kv(n,"source")||(n.source=$Q(VQ,typeof t=="string"?t:"")),i};Function.prototype.toString=GQ(function(){return IQ(this)&&zQ(this).source||jQ(this)},"toString");var qQ=$j.exports,YQ=ia,XQ=l_,KQ=qQ,QQ=B2,ZQ=function(i,t,e,n){n||(n={});var s=n.enumerable,r=n.name!==void 0?n.name:t;if(YQ(e)&&KQ(e,r,n),n.global)s?i[t]=e:QQ(t,e);else{try{n.unsafe?i[t]&&(s=!0):delete i[t]}catch{}s?i[t]=e:XQ.f(i,t,{value:e,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return i},Yj={},JQ=Math.ceil,tZ=Math.floor,eZ=Math.trunc||function(i){var t=+i;return(t>0?tZ:JQ)(t)},nZ=eZ,Xj=function(i){var t=+i;return t!==t||t===0?0:nZ(t)},iZ=Xj,sZ=Math.max,rZ=Math.min,aZ=function(i,t){var e=iZ(i);return e<0?sZ(e+t,0):rZ(e,t)},oZ=Xj,lZ=Math.min,cZ=function(i){var t=oZ(i);return t>0?lZ(t,9007199254740991):0},uZ=cZ,hZ=function(i){return uZ(i.length)},dZ=j2,fZ=aZ,pZ=hZ,gZ=function(i){return function(t,e,n){var s=dZ(t),r=pZ(s);if(r===0)return!i&&-1;var a=fZ(n,r),l;if(i&&e!==e){for(;r>a;)if(l=s[a++],l!==l)return!0}else for(;r>a;a++)if((i||a in s)&&s[a]===e)return i||a||0;return!i&&-1}},mZ={indexOf:gZ(!1)},yZ=co,Ux=fu,vZ=j2,bZ=mZ.indexOf,wZ=Vj,gN=yZ([].push),_Z=function(i,t){var e=vZ(i),n=0,s=[],r;for(r in e)!Ux(wZ,r)&&Ux(e,r)&&gN(s,r);for(;t.length>n;)Ux(e,r=t[n++])&&(~bZ(s,r)||gN(s,r));return s},AZ=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],SZ=_Z,xZ=AZ,EZ=xZ.concat("length","prototype");Yj.f=Object.getOwnPropertyNames||function(i){return SZ(i,EZ)};var Kj={};Kj.f=Object.getOwnPropertySymbols;var TZ=Mj,CZ=co,kZ=Yj,RZ=Kj,MZ=Uj,LZ=CZ([].concat),OZ=TZ("Reflect","ownKeys")||function(i){var t=kZ.f(MZ(i)),e=RZ.f;return e?LZ(t,e(i)):t},mN=fu,PZ=OZ,DZ=I2,NZ=l_,IZ=function(i,t,e){for(var n=PZ(t),s=NZ.f,r=DZ.f,a=0;a<n.length;a++){var l=n[a];!mN(i,l)&&!(e&&mN(e,l))&&s(i,l,r(t,l))}},FZ=xl,jZ=ia,BZ=/#|\.prototype\./,$m=function(i,t){var e=UZ[zZ(i)];return e===$Z?!0:e===HZ?!1:jZ(t)?FZ(t):!!t},zZ=$m.normalize=function(i){return String(i).replace(BZ,".").toLowerCase()},UZ=$m.data={},HZ=$m.NATIVE="N",$Z=$m.POLYFILL="P",WZ=$m,Rv=na,VZ=I2.f,GZ=Hj,qZ=ZQ,YZ=B2,XZ=IZ,KZ=WZ,QZ=function(i,t){var e=i.target,n=i.global,s=i.stat,r,a,l,u,d,h;if(n?a=Rv:s?a=Rv[e]||YZ(e,{}):a=Rv[e]&&Rv[e].prototype,a)for(l in t){if(d=t[l],i.dontCallGetSet?(h=VZ(a,l),u=h&&h.value):u=a[l],r=KZ(n?l:e+(s?".":"#")+l,i.forced),!r&&u!==void 0){if(typeof d==typeof u)continue;XZ(d,u)}(i.sham||u&&u.sham)&&GZ(d,"sham",!0),qZ(a,l,d,i)}},Qj={},yN=Nj,ZZ=TypeError,JZ=function(i){var t,e;this.promise=new i(function(n,s){if(t!==void 0||e!==void 0)throw new ZZ("Bad Promise constructor");t=n,e=s}),this.resolve=yN(t),this.reject=yN(e)};Qj.f=function(i){return new JZ(i)};var tJ=QZ,eJ=Qj;tJ({target:"Promise",stat:!0},{withResolvers:function(){var i=eJ.f(this);return{promise:i.promise,resolve:i.resolve,reject:i.reject}}});function nJ(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Zj={exports:{}},yn=Zj.exports={},$r,Wr;function cT(){throw new Error("setTimeout has not been defined")}function uT(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?$r=setTimeout:$r=cT}catch{$r=cT}try{typeof clearTimeout=="function"?Wr=clearTimeout:Wr=uT}catch{Wr=uT}})();function Jj(i){if($r===setTimeout)return setTimeout(i,0);if(($r===cT||!$r)&&setTimeout)return $r=setTimeout,setTimeout(i,0);try{return $r(i,0)}catch{try{return $r.call(null,i,0)}catch{return $r.call(this,i,0)}}}function iJ(i){if(Wr===clearTimeout)return clearTimeout(i);if((Wr===uT||!Wr)&&clearTimeout)return Wr=clearTimeout,clearTimeout(i);try{return Wr(i)}catch{try{return Wr.call(null,i)}catch{return Wr.call(this,i)}}}var Ka=[],Ad=!1,Dc,_0=-1;function sJ(){!Ad||!Dc||(Ad=!1,Dc.length?Ka=Dc.concat(Ka):_0=-1,Ka.length&&tB())}function tB(){if(!Ad){var i=Jj(sJ);Ad=!0;for(var t=Ka.length;t;){for(Dc=Ka,Ka=[];++_0<t;)Dc&&Dc[_0].run();_0=-1,t=Ka.length}Dc=null,Ad=!1,iJ(i)}}yn.nextTick=function(i){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];Ka.push(new eB(i,t)),Ka.length===1&&!Ad&&Jj(tB)};function eB(i,t){this.fun=i,this.array=t}eB.prototype.run=function(){this.fun.apply(null,this.array)};yn.title="browser";yn.browser=!0;yn.env={};yn.argv=[];yn.version="";yn.versions={};function uo(){}yn.on=uo;yn.addListener=uo;yn.once=uo;yn.off=uo;yn.removeListener=uo;yn.removeAllListeners=uo;yn.emit=uo;yn.prependListener=uo;yn.prependOnceListener=uo;yn.listeners=function(i){return[]};yn.binding=function(i){throw new Error("process.binding is not supported")};yn.cwd=function(){return"/"};yn.chdir=function(i){throw new Error("process.chdir is not supported")};yn.umask=function(){return 0};var rJ=Zj.exports;const oe=nJ(rJ);var Ti=function(){return Ti=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Ti.apply(this,arguments)};function nu(i,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return i.concat(r||Array.prototype.slice.call(t))}function aJ(i){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=i(e)),t[e]}}var oJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lJ=aJ(function(i){return oJ.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),Xe="-ms-",$g="-moz-",Me="-webkit-",nB="comm",c_="rule",H2="decl",cJ="@import",iB="@keyframes",uJ="@layer",sB=Math.abs,$2=String.fromCharCode,hT=Object.assign;function hJ(i,t){return qn(i,0)^45?(((t<<2^qn(i,0))<<2^qn(i,1))<<2^qn(i,2))<<2^qn(i,3):0}function rB(i){return i.trim()}function Fa(i,t){return(i=t.exec(i))?i[0]:i}function fe(i,t,e){return i.replace(t,e)}function A0(i,t,e){return i.indexOf(t,e)}function qn(i,t){return i.charCodeAt(t)|0}function $d(i,t,e){return i.slice(t,e)}function Kr(i){return i.length}function aB(i){return i.length}function jp(i,t){return t.push(i),i}function dJ(i,t){return i.map(t).join("")}function vN(i,t){return i.filter(function(e){return!Fa(e,t)})}var u_=1,Wd=1,oB=0,Ks=0,Tn=0,of="";function h_(i,t,e,n,s,r,a,l){return{value:i,root:t,parent:e,type:n,props:s,children:r,line:u_,column:Wd,length:a,return:"",siblings:l}}function Fo(i,t){return hT(h_("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},t)}function hh(i){for(;i.root;)i=Fo(i.root,{children:[i]});jp(i,i.siblings)}function fJ(){return Tn}function pJ(){return Tn=Ks>0?qn(of,--Ks):0,Wd--,Tn===10&&(Wd=1,u_--),Tn}function dr(){return Tn=Ks<oB?qn(of,Ks++):0,Wd++,Tn===10&&(Wd=1,u_++),Tn}function Kc(){return qn(of,Ks)}function S0(){return Ks}function d_(i,t){return $d(of,i,t)}function dT(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function gJ(i){return u_=Wd=1,oB=Kr(of=i),Ks=0,[]}function mJ(i){return of="",i}function Hx(i){return rB(d_(Ks-1,fT(i===91?i+2:i===40?i+1:i)))}function yJ(i){for(;(Tn=Kc())&&Tn<33;)dr();return dT(i)>2||dT(Tn)>3?"":" "}function vJ(i,t){for(;--t&&dr()&&!(Tn<48||Tn>102||Tn>57&&Tn<65||Tn>70&&Tn<97););return d_(i,S0()+(t<6&&Kc()==32&&dr()==32))}function fT(i){for(;dr();)switch(Tn){case i:return Ks;case 34:case 39:i!==34&&i!==39&&fT(Tn);break;case 40:i===41&&fT(i);break;case 92:dr();break}return Ks}function bJ(i,t){for(;dr()&&i+Tn!==57&&!(i+Tn===84&&Kc()===47););return"/*"+d_(t,Ks-1)+"*"+$2(i===47?i:dr())}function wJ(i){for(;!dT(Kc());)dr();return d_(i,Ks)}function _J(i){return mJ(x0("",null,null,null,[""],i=gJ(i),0,[0],i))}function x0(i,t,e,n,s,r,a,l,u){for(var d=0,h=0,p=a,m=0,v=0,_=0,w=1,S=1,x=1,C=0,L="",j=s,R=r,D=n,P=L;S;)switch(_=C,C=dr()){case 40:if(_!=108&&qn(P,p-1)==58){A0(P+=fe(Hx(C),"&","&\f"),"&\f",sB(d?l[d-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:P+=Hx(C);break;case 9:case 10:case 13:case 32:P+=yJ(_);break;case 92:P+=vJ(S0()-1,7);continue;case 47:switch(Kc()){case 42:case 47:jp(AJ(bJ(dr(),S0()),t,e,u),u);break;default:P+="/"}break;case 123*w:l[d++]=Kr(P)*x;case 125*w:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+h:x==-1&&(P=fe(P,/\f/g,"")),v>0&&Kr(P)-p&&jp(v>32?wN(P+";",n,e,p-1,u):wN(fe(P," ","")+";",n,e,p-2,u),u);break;case 59:P+=";";default:if(jp(D=bN(P,t,e,d,h,s,l,L,j=[],R=[],p,r),r),C===123)if(h===0)x0(P,t,D,D,j,r,p,l,R);else switch(m===99&&qn(P,3)===110?100:m){case 100:case 108:case 109:case 115:x0(i,D,D,n&&jp(bN(i,D,D,0,0,s,l,L,s,j=[],p,R),R),s,R,p,l,n?j:R);break;default:x0(P,D,D,D,[""],R,0,l,R)}}d=h=v=0,w=x=1,L=P="",p=a;break;case 58:p=1+Kr(P),v=_;default:if(w<1){if(C==123)--w;else if(C==125&&w++==0&&pJ()==125)continue}switch(P+=$2(C),C*w){case 38:x=h>0?1:(P+="\f",-1);break;case 44:l[d++]=(Kr(P)-1)*x,x=1;break;case 64:Kc()===45&&(P+=Hx(dr())),m=Kc(),h=p=Kr(L=P+=wJ(S0())),C++;break;case 45:_===45&&Kr(P)==2&&(w=0)}}return r}function bN(i,t,e,n,s,r,a,l,u,d,h,p){for(var m=s-1,v=s===0?r:[""],_=aB(v),w=0,S=0,x=0;w<n;++w)for(var C=0,L=$d(i,m+1,m=sB(S=a[w])),j=i;C<_;++C)(j=rB(S>0?v[C]+" "+L:fe(L,/&\f/g,v[C])))&&(u[x++]=j);return h_(i,t,e,s===0?c_:l,u,d,h,p)}function AJ(i,t,e,n){return h_(i,t,e,nB,$2(fJ()),$d(i,2,-2),0,n)}function wN(i,t,e,n,s){return h_(i,t,e,H2,$d(i,0,n),$d(i,n+1,-1),n,s)}function lB(i,t,e){switch(hJ(i,t)){case 5103:return Me+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+i+i;case 4789:return $g+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+i+$g+i+Xe+i+i;case 5936:switch(qn(i,t+11)){case 114:return Me+i+Xe+fe(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Me+i+Xe+fe(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Me+i+Xe+fe(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return Me+i+Xe+i+i;case 6165:return Me+i+Xe+"flex-"+i+i;case 5187:return Me+i+fe(i,/(\w+).+(:[^]+)/,Me+"box-$1$2"+Xe+"flex-$1$2")+i;case 5443:return Me+i+Xe+"flex-item-"+fe(i,/flex-|-self/g,"")+(Fa(i,/flex-|baseline/)?"":Xe+"grid-row-"+fe(i,/flex-|-self/g,""))+i;case 4675:return Me+i+Xe+"flex-line-pack"+fe(i,/align-content|flex-|-self/g,"")+i;case 5548:return Me+i+Xe+fe(i,"shrink","negative")+i;case 5292:return Me+i+Xe+fe(i,"basis","preferred-size")+i;case 6060:return Me+"box-"+fe(i,"-grow","")+Me+i+Xe+fe(i,"grow","positive")+i;case 4554:return Me+fe(i,/([^-])(transform)/g,"$1"+Me+"$2")+i;case 6187:return fe(fe(fe(i,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),i,"")+i;case 5495:case 3959:return fe(i,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return fe(fe(i,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+Xe+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+i+i;case 4200:if(!Fa(i,/flex-|baseline/))return Xe+"grid-column-align"+$d(i,t)+i;break;case 2592:case 3360:return Xe+fe(i,"template-","")+i;case 4384:case 3616:return e&&e.some(function(n,s){return t=s,Fa(n.props,/grid-\w+-end/)})?~A0(i+(e=e[t].value),"span",0)?i:Xe+fe(i,"-start","")+i+Xe+"grid-row-span:"+(~A0(e,"span",0)?Fa(e,/\d+/):+Fa(e,/\d+/)-+Fa(i,/\d+/))+";":Xe+fe(i,"-start","")+i;case 4896:case 4128:return e&&e.some(function(n){return Fa(n.props,/grid-\w+-start/)})?i:Xe+fe(fe(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return fe(i,/(.+)-inline(.+)/,Me+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kr(i)-1-t>6)switch(qn(i,t+1)){case 109:if(qn(i,t+4)!==45)break;case 102:return fe(i,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+$g+(qn(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~A0(i,"stretch",0)?lB(fe(i,"stretch","fill-available"),t,e)+i:i}break;case 5152:case 5920:return fe(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,r,a,l,u,d){return Xe+s+":"+r+d+(a?Xe+s+"-span:"+(l?u:+u-+r)+d:"")+i});case 4949:if(qn(i,t+6)===121)return fe(i,":",":"+Me)+i;break;case 6444:switch(qn(i,qn(i,14)===45?18:11)){case 120:return fe(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Me+(qn(i,14)===45?"inline-":"")+"box$3$1"+Me+"$2$3$1"+Xe+"$2box$3")+i;case 100:return fe(i,":",":"+Xe)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return fe(i,"scroll-","scroll-snap-")+i}return i}function Uw(i,t){for(var e="",n=0;n<i.length;n++)e+=t(i[n],n,i,t)||"";return e}function SJ(i,t,e,n){switch(i.type){case uJ:if(i.children.length)break;case cJ:case H2:return i.return=i.return||i.value;case nB:return"";case iB:return i.return=i.value+"{"+Uw(i.children,n)+"}";case c_:if(!Kr(i.value=i.props.join(",")))return""}return Kr(e=Uw(i.children,n))?i.return=i.value+"{"+e+"}":""}function xJ(i){var t=aB(i);return function(e,n,s,r){for(var a="",l=0;l<t;l++)a+=i[l](e,n,s,r)||"";return a}}function EJ(i){return function(t){t.root||(t=t.return)&&i(t)}}function TJ(i,t,e,n){if(i.length>-1&&!i.return)switch(i.type){case H2:i.return=lB(i.value,i.length,e);return;case iB:return Uw([Fo(i,{value:fe(i.value,"@","@"+Me)})],n);case c_:if(i.length)return dJ(e=i.props,function(s){switch(Fa(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":hh(Fo(i,{props:[fe(s,/:(read-\w+)/,":"+$g+"$1")]})),hh(Fo(i,{props:[s]})),hT(i,{props:vN(e,n)});break;case"::placeholder":hh(Fo(i,{props:[fe(s,/:(plac\w+)/,":"+Me+"input-$1")]})),hh(Fo(i,{props:[fe(s,/:(plac\w+)/,":"+$g+"$1")]})),hh(Fo(i,{props:[fe(s,/:(plac\w+)/,Xe+"input-$1")]})),hh(Fo(i,{props:[s]})),hT(i,{props:vN(e,n)});break}return""})}}var CJ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iu=typeof oe<"u"&&oe.env!==void 0&&(oe.env.REACT_APP_SC_ATTR||oe.env.SC_ATTR)||"data-styled",cB="active",uB="data-styled-version",f_="6.1.11",W2=`/*!sc*/
`,V2=typeof window<"u"&&"HTMLElement"in window,kJ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof oe<"u"&&oe.env!==void 0&&oe.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&oe.env.REACT_APP_SC_DISABLE_SPEEDY!==""?oe.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&oe.env.REACT_APP_SC_DISABLE_SPEEDY:typeof oe<"u"&&oe.env!==void 0&&oe.env.SC_DISABLE_SPEEDY!==void 0&&oe.env.SC_DISABLE_SPEEDY!==""?oe.env.SC_DISABLE_SPEEDY!=="false"&&oe.env.SC_DISABLE_SPEEDY:oe.env.NODE_ENV!=="production"),_N=/invalid hook call/i,Mv=new Set,RJ=function(i,t){if(oe.env.NODE_ENV!=="production"){var e=t?' with the id of "'.concat(t,'"'):"",n="The component ".concat(i).concat(e,` has been created dynamically.
`)+`You may see this warning because you've called styled inside another component.
To resolve this only create new StyledComponents outside of any render method and function component.`,s=console.error;try{var r=!0;console.error=function(a){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];_N.test(a)?(r=!1,Mv.delete(n)):s.apply(void 0,nu([a],l,!1))},V.useRef(),r&&!Mv.has(n)&&(console.warn(n),Mv.add(n))}catch(a){_N.test(a.message)&&Mv.delete(n)}finally{console.error=s}}},p_=Object.freeze([]),Vd=Object.freeze({});function MJ(i,t,e){return e===void 0&&(e=Vd),i.theme!==e.theme&&i.theme||t||e.theme}var pT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),LJ=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,OJ=/(^-|-$)/g;function AN(i){return i.replace(LJ,"-").replace(OJ,"")}var PJ=/(a)(d)/gi,Lv=52,SN=function(i){return String.fromCharCode(i+(i>25?39:97))};function gT(i){var t,e="";for(t=Math.abs(i);t>Lv;t=t/Lv|0)e=SN(t%Lv)+e;return(SN(t%Lv)+e).replace(PJ,"$1-$2")}var $x,hB=5381,_c=function(i,t){for(var e=t.length;e;)i=33*i^t.charCodeAt(--e);return i},dB=function(i){return _c(hB,i)};function fB(i){return gT(dB(i)>>>0)}function pB(i){return oe.env.NODE_ENV!=="production"&&typeof i=="string"&&i||i.displayName||i.name||"Component"}function Wx(i){return typeof i=="string"&&(oe.env.NODE_ENV==="production"||i.charAt(0)===i.charAt(0).toLowerCase())}var gB=typeof Symbol=="function"&&Symbol.for,mB=gB?Symbol.for("react.memo"):60115,DJ=gB?Symbol.for("react.forward_ref"):60112,NJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},IJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FJ=(($x={})[DJ]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$x[mB]=yB,$x);function xN(i){return("type"in(t=i)&&t.type.$$typeof)===mB?yB:"$$typeof"in i?FJ[i.$$typeof]:NJ;var t}var jJ=Object.defineProperty,BJ=Object.getOwnPropertyNames,EN=Object.getOwnPropertySymbols,zJ=Object.getOwnPropertyDescriptor,UJ=Object.getPrototypeOf,TN=Object.prototype;function vB(i,t,e){if(typeof t!="string"){if(TN){var n=UJ(t);n&&n!==TN&&vB(i,n,e)}var s=BJ(t);EN&&(s=s.concat(EN(t)));for(var r=xN(i),a=xN(t),l=0;l<s.length;++l){var u=s[l];if(!(u in IJ||e&&e[u]||a&&u in a||r&&u in r)){var d=zJ(t,u);try{jJ(i,u,d)}catch{}}}}return i}function su(i){return typeof i=="function"}function G2(i){return typeof i=="object"&&"styledComponentId"in i}function Nc(i,t){return i&&t?"".concat(i," ").concat(t):i||t||""}function mT(i,t){if(i.length===0)return"";for(var e=i[0],n=1;n<i.length;n++)e+=i[n];return e}function Gd(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function yT(i,t,e){if(e===void 0&&(e=!1),!e&&!Gd(i)&&!Array.isArray(i))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)i[n]=yT(i[n],t[n]);else if(Gd(t))for(var n in t)i[n]=yT(i[n],t[n]);return i}function q2(i,t){Object.defineProperty(i,"toString",{value:t})}var HJ=oe.env.NODE_ENV!=="production"?{1:`Cannot create styled-component for component: %s.

`,2:`Can't collect styles once you've consumed a \`ServerStyleSheet\`'s styles! \`ServerStyleSheet\` is a one off instance for each server-side render cycle.

- Are you trying to reuse it across renders?
- Are you accidentally calling collectStyles twice?

`,3:`Streaming SSR is only supported in a Node.js environment; Please do not try to call this method in the browser.

`,4:`The \`StyleSheetManager\` expects a valid target or sheet prop!

- Does this error occur on the client and is your target falsy?
- Does this error occur on the server and is the sheet falsy?

`,5:`The clone method cannot be used on the client!

- Are you running in a client-like environment on the server?
- Are you trying to run SSR on the client?

`,6:`Trying to insert a new style tag, but the given Node is unmounted!

- Are you using a custom target that isn't mounted?
- Does your document not have a valid head element?
- Have you accidentally removed a style tag manually?

`,7:'ThemeProvider: Please return an object from your "theme" prop function, e.g.\n\n```js\ntheme={() => ({})}\n```\n\n',8:`ThemeProvider: Please make your "theme" prop an object.

`,9:"Missing document `<head>`\n\n",10:`Cannot find a StyleSheet instance. Usually this happens if there are multiple copies of styled-components loaded at once. Check out this issue for how to troubleshoot and fix the common cases where this situation can happen: https://github.com/styled-components/styled-components/issues/1941#issuecomment-417862021

`,11:`_This error was replaced with a dev-time warning, it will be deleted for v4 final._ [createGlobalStyle] received children which will not be rendered. Please use the component without passing children elements.

`,12:"It seems you are interpolating a keyframe declaration (%s) into an untagged string. This was supported in styled-components v3, but is not longer supported in v4 as keyframes are now injected on-demand. Please wrap your string in the css\\`\\` helper which ensures the styles are injected correctly. See https://www.styled-components.com/docs/api#css\n\n",13:`%s is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.

`,14:`ThemeProvider: "theme" prop is required.

`,15:"A stylis plugin has been supplied that is not named. We need a name for each plugin to be able to prevent styling collisions between different stylis configurations within the same app. Before you pass your plugin to `<StyleSheetManager stylisPlugins={[]}>`, please make sure each plugin is uniquely-named, e.g.\n\n```js\nObject.defineProperty(importedPlugin, 'name', { value: 'some-unique-name' });\n```\n\n",16:`Reached the limit of how many styled components may be created at group %s.
You may only create up to 1,073,741,824 components. If you're creating components dynamically,
as for instance in your render method then you may be running into this limitation.

`,17:`CSSStyleSheet could not be found on HTMLStyleElement.
Has styled-components' style tag been unmounted or altered by another script?
`,18:"ThemeProvider: Please make sure your useTheme hook is within a `<ThemeProvider>`"}:{};function $J(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=i[0],n=[],s=1,r=i.length;s<r;s+=1)n.push(i[s]);return n.forEach(function(a){e=e.replace(/%[a-z]/,a)}),e}function eo(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return oe.env.NODE_ENV==="production"?new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):"")):new Error($J.apply(void 0,nu([HJ[i]],t,!1)).trim())}var WJ=(function(){function i(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return i.prototype.indexOfGroup=function(t){for(var e=0,n=0;n<t;n++)e+=this.groupSizes[n];return e},i.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,r=s;t>=r;)if((r<<=1)<0)throw eo(16,"".concat(t));this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var a=s;a<r;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),u=(a=0,e.length);a<u;a++)this.tag.insertRule(l,e[a])&&(this.groupSizes[t]++,l++)},i.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],n=this.indexOfGroup(t),s=n+e;this.groupSizes[t]=0;for(var r=n;r<s;r++)this.tag.deleteRule(n)}},i.prototype.getGroup=function(t){var e="";if(t>=this.length||this.groupSizes[t]===0)return e;for(var n=this.groupSizes[t],s=this.indexOfGroup(t),r=s+n,a=s;a<r;a++)e+="".concat(this.tag.getRule(a)).concat(W2);return e},i})(),VJ=1<<30,E0=new Map,Hw=new Map,T0=1,Ov=function(i){if(E0.has(i))return E0.get(i);for(;Hw.has(T0);)T0++;var t=T0++;if(oe.env.NODE_ENV!=="production"&&((0|t)<0||t>VJ))throw eo(16,"".concat(t));return E0.set(i,t),Hw.set(t,i),t},GJ=function(i,t){T0=t+1,E0.set(i,t),Hw.set(t,i)},qJ="style[".concat(iu,"][").concat(uB,'="').concat(f_,'"]'),YJ=new RegExp("^".concat(iu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),XJ=function(i,t,e){for(var n,s=e.split(","),r=0,a=s.length;r<a;r++)(n=s[r])&&i.registerName(t,n)},KJ=function(i,t){for(var e,n=((e=t.textContent)!==null&&e!==void 0?e:"").split(W2),s=[],r=0,a=n.length;r<a;r++){var l=n[r].trim();if(l){var u=l.match(YJ);if(u){var d=0|parseInt(u[1],10),h=u[2];d!==0&&(GJ(h,d),XJ(i,h,u[3]),i.getTag().insertRules(d,s)),s.length=0}else s.push(l)}}};function QJ(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var bB=function(i){var t=document.head,e=i||t,n=document.createElement("style"),s=(function(l){var u=Array.from(l.querySelectorAll("style[".concat(iu,"]")));return u[u.length-1]})(e),r=s!==void 0?s.nextSibling:null;n.setAttribute(iu,cB),n.setAttribute(uB,f_);var a=QJ();return a&&n.setAttribute("nonce",a),e.insertBefore(n,r),n},ZJ=(function(){function i(t){this.element=bB(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(e){if(e.sheet)return e.sheet;for(var n=document.styleSheets,s=0,r=n.length;s<r;s++){var a=n[s];if(a.ownerNode===e)return a}throw eo(17)})(this.element),this.length=0}return i.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},i.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},i})(),JJ=(function(){function i(t){this.element=bB(t),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var n=document.createTextNode(e);return this.element.insertBefore(n,this.nodes[t]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},i.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},i})(),ttt=(function(){function i(t){this.rules=[],this.length=0}return i.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},i.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},i.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},i})(),CN=V2,ett={isServer:!V2,useCSSOMInjection:!kJ},wB=(function(){function i(t,e,n){t===void 0&&(t=Vd),e===void 0&&(e={});var s=this;this.options=Ti(Ti({},ett),t),this.gs=e,this.names=new Map(n),this.server=!!t.isServer,!this.server&&V2&&CN&&(CN=!1,(function(r){for(var a=document.querySelectorAll(qJ),l=0,u=a.length;l<u;l++){var d=a[l];d&&d.getAttribute(iu)!==cB&&(KJ(r,d),d.parentNode&&d.parentNode.removeChild(d))}})(this)),q2(this,function(){return(function(r){for(var a=r.getTag(),l=a.length,u="",d=function(p){var m=(function(x){return Hw.get(x)})(p);if(m===void 0)return"continue";var v=r.names.get(m),_=a.getGroup(p);if(v===void 0||_.length===0)return"continue";var w="".concat(iu,".g").concat(p,'[id="').concat(m,'"]'),S="";v!==void 0&&v.forEach(function(x){x.length>0&&(S+="".concat(x,","))}),u+="".concat(_).concat(w,'{content:"').concat(S,'"}').concat(W2)},h=0;h<l;h++)d(h);return u})(s)})}return i.registerId=function(t){return Ov(t)},i.prototype.reconstructWithOptions=function(t,e){return e===void 0&&(e=!0),new i(Ti(Ti({},this.options),t),this.gs,e&&this.names||void 0)},i.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(e){var n=e.useCSSOMInjection,s=e.target;return e.isServer?new ttt(s):n?new ZJ(s):new JJ(s)})(this.options),new WJ(t)));var t},i.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},i.prototype.registerName=function(t,e){if(Ov(t),this.names.has(t))this.names.get(t).add(e);else{var n=new Set;n.add(e),this.names.set(t,n)}},i.prototype.insertRules=function(t,e,n){this.registerName(t,e),this.getTag().insertRules(Ov(t),n)},i.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},i.prototype.clearRules=function(t){this.getTag().clearGroup(Ov(t)),this.clearNames(t)},i.prototype.clearTag=function(){this.tag=void 0},i})(),ntt=/&/g,itt=/^\s*\/\/.*$/gm;function _B(i,t){return i.map(function(e){return e.type==="rule"&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(n){return"".concat(t," ").concat(n)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=_B(e.children,t)),e})}function stt(i){var t,e,n,s=Vd,r=s.options,a=r===void 0?Vd:r,l=s.plugins,u=l===void 0?p_:l,d=function(m,v,_){return _.startsWith(e)&&_.endsWith(e)&&_.replaceAll(e,"").length>0?".".concat(t):m},h=u.slice();h.push(function(m){m.type===c_&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(ntt,e).replace(n,d))}),a.prefix&&h.push(TJ),h.push(SJ);var p=function(m,v,_,w){v===void 0&&(v=""),_===void 0&&(_=""),w===void 0&&(w="&"),t=w,e=v,n=new RegExp("\\".concat(e,"\\b"),"g");var S=m.replace(itt,""),x=_J(_||v?"".concat(_," ").concat(v," { ").concat(S," }"):S);a.namespace&&(x=_B(x,a.namespace));var C=[];return Uw(x,xJ(h.concat(EJ(function(L){return C.push(L)})))),C};return p.hash=u.length?u.reduce(function(m,v){return v.name||eo(15),_c(m,v.name)},hB).toString():"",p}var rtt=new wB,vT=stt(),AB=Kt.createContext({shouldForwardProp:void 0,styleSheet:rtt,stylis:vT});AB.Consumer;Kt.createContext(void 0);function kN(){return V.useContext(AB)}var bT=(function(){function i(t,e){var n=this;this.inject=function(s,r){r===void 0&&(r=vT);var a=n.name+r.hash;s.hasNameForId(n.id,a)||s.insertRules(n.id,a,r(n.rules,a,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,q2(this,function(){throw eo(12,String(n.name))})}return i.prototype.getName=function(t){return t===void 0&&(t=vT),this.name+t.hash},i})(),att=function(i){return i>="A"&&i<="Z"};function RN(i){for(var t="",e=0;e<i.length;e++){var n=i[e];if(e===1&&n==="-"&&i[0]==="-")return i;att(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var SB=function(i){return i==null||i===!1||i===""},xB=function(i){var t,e,n=[];for(var s in i){var r=i[s];i.hasOwnProperty(s)&&!SB(r)&&(Array.isArray(r)&&r.isCss||su(r)?n.push("".concat(RN(s),":"),r,";"):Gd(r)?n.push.apply(n,nu(nu(["".concat(s," {")],xB(r),!1),["}"],!1)):n.push("".concat(RN(s),": ").concat((t=s,(e=r)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in CJ||t.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return n};function Qc(i,t,e,n){if(SB(i))return[];if(G2(i))return[".".concat(i.styledComponentId)];if(su(i)){if(!su(r=i)||r.prototype&&r.prototype.isReactComponent||!t)return[i];var s=i(t);return oe.env.NODE_ENV==="production"||typeof s!="object"||Array.isArray(s)||s instanceof bT||Gd(s)||s===null||console.error("".concat(pB(i)," is not a styled component and cannot be referred to via component selector. See https://www.styled-components.com/docs/advanced#referring-to-other-components for more details.")),Qc(s,t,e,n)}var r;return i instanceof bT?e?(i.inject(e,n),[i.getName(n)]):[i]:Gd(i)?xB(i):Array.isArray(i)?Array.prototype.concat.apply(p_,i.map(function(a){return Qc(a,t,e,n)})):[i.toString()]}function ott(i){for(var t=0;t<i.length;t+=1){var e=i[t];if(su(e)&&!G2(e))return!1}return!0}var ltt=dB(f_),ctt=(function(){function i(t,e,n){this.rules=t,this.staticRulesId="",this.isStatic=oe.env.NODE_ENV==="production"&&(n===void 0||n.isStatic)&&ott(t),this.componentId=e,this.baseHash=_c(ltt,e),this.baseStyle=n,wB.registerId(e)}return i.prototype.generateAndInjectStyles=function(t,e,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))s=Nc(s,this.staticRulesId);else{var r=mT(Qc(this.rules,t,e,n)),a=gT(_c(this.baseHash,r)>>>0);if(!e.hasNameForId(this.componentId,a)){var l=n(r,".".concat(a),void 0,this.componentId);e.insertRules(this.componentId,a,l)}s=Nc(s,a),this.staticRulesId=a}else{for(var u=_c(this.baseHash,n.hash),d="",h=0;h<this.rules.length;h++){var p=this.rules[h];if(typeof p=="string")d+=p,oe.env.NODE_ENV!=="production"&&(u=_c(u,p));else if(p){var m=mT(Qc(p,t,e,n));u=_c(u,m+h),d+=m}}if(d){var v=gT(u>>>0);e.hasNameForId(this.componentId,v)||e.insertRules(this.componentId,v,n(d,".".concat(v),void 0,this.componentId)),s=Nc(s,v)}}return s},i})(),$w=Kt.createContext(void 0);$w.Consumer;function utt(i){var t=Kt.useContext($w),e=V.useMemo(function(){return(function(n,s){if(!n)throw eo(14);if(su(n)){var r=n(s);if(oe.env.NODE_ENV!=="production"&&(r===null||Array.isArray(r)||typeof r!="object"))throw eo(7);return r}if(Array.isArray(n)||typeof n!="object")throw eo(8);return s?Ti(Ti({},s),n):n})(i.theme,t)},[i.theme,t]);return i.children?Kt.createElement($w.Provider,{value:e},i.children):null}var Vx={},MN=new Set;function htt(i,t,e){var n=G2(i),s=i,r=!Wx(i),a=t.attrs,l=a===void 0?p_:a,u=t.componentId,d=u===void 0?(function(j,R){var D=typeof j!="string"?"sc":AN(j);Vx[D]=(Vx[D]||0)+1;var P="".concat(D,"-").concat(fB(f_+D+Vx[D]));return R?"".concat(R,"-").concat(P):P})(t.displayName,t.parentComponentId):u,h=t.displayName,p=h===void 0?(function(j){return Wx(j)?"styled.".concat(j):"Styled(".concat(pB(j),")")})(i):h,m=t.displayName&&t.componentId?"".concat(AN(t.displayName),"-").concat(t.componentId):t.componentId||d,v=n&&s.attrs?s.attrs.concat(l).filter(Boolean):l,_=t.shouldForwardProp;if(n&&s.shouldForwardProp){var w=s.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;_=function(j,R){return w(j,R)&&S(j,R)}}else _=w}var x=new ctt(e,m,n?s.componentStyle:void 0);function C(j,R){return(function(D,P,M){var O=D.attrs,N=D.componentStyle,H=D.defaultProps,Q=D.foldedComponentIds,G=D.styledComponentId,J=D.target,nt=Kt.useContext($w),$=kN(),T=D.shouldForwardProp||$.shouldForwardProp;oe.env.NODE_ENV!=="production"&&V.useDebugValue(G);var ct=MJ(P,nt,H)||Vd,Z=(function(ut,lt,ft){for(var Ct,_t=Ti(Ti({},lt),{className:void 0,theme:ft}),St=0;St<ut.length;St+=1){var It=su(Ct=ut[St])?Ct(_t):Ct;for(var Ft in It)_t[Ft]=Ft==="className"?Nc(_t[Ft],It[Ft]):Ft==="style"?Ti(Ti({},_t[Ft]),It[Ft]):It[Ft]}return lt.className&&(_t.className=Nc(_t.className,lt.className)),_t})(O,P,ct),k=Z.as||J,W={};for(var K in Z)Z[K]===void 0||K[0]==="$"||K==="as"||K==="theme"&&Z.theme===ct||(K==="forwardedAs"?W.as=Z.forwardedAs:T&&!T(K,k)||(W[K]=Z[K],T||oe.env.NODE_ENV!=="development"||lJ(K)||MN.has(K)||!pT.has(k)||(MN.add(K),console.warn('styled-components: it looks like an unknown prop "'.concat(K,'" is being sent through to the DOM, which will likely trigger a React console error. If you would like automatic filtering of unknown props, you can opt-into that behavior via `<StyleSheetManager shouldForwardProp={...}>` (connect an API like `@emotion/is-prop-valid`) or consider using transient props (`$` prefix for automatic filtering.)')))));var et=(function(ut,lt){var ft=kN(),Ct=ut.generateAndInjectStyles(lt,ft.styleSheet,ft.stylis);return oe.env.NODE_ENV!=="production"&&V.useDebugValue(Ct),Ct})(N,Z);oe.env.NODE_ENV!=="production"&&D.warnTooManyClasses&&D.warnTooManyClasses(et);var st=Nc(Q,G);return et&&(st+=" "+et),Z.className&&(st+=" "+Z.className),W[Wx(k)&&!pT.has(k)?"class":"className"]=st,W.ref=M,V.createElement(k,W)})(L,j,R)}C.displayName=p;var L=Kt.forwardRef(C);return L.attrs=v,L.componentStyle=x,L.displayName=p,L.shouldForwardProp=_,L.foldedComponentIds=n?Nc(s.foldedComponentIds,s.styledComponentId):"",L.styledComponentId=m,L.target=n?s.target:i,Object.defineProperty(L,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=n?(function(R){for(var D=[],P=1;P<arguments.length;P++)D[P-1]=arguments[P];for(var M=0,O=D;M<O.length;M++)yT(R,O[M],!0);return R})({},s.defaultProps,j):j}}),oe.env.NODE_ENV!=="production"&&(RJ(p,m),L.warnTooManyClasses=(function(j,R){var D={},P=!1;return function(M){if(!P&&(D[M]=!0,Object.keys(D).length>=200)){var O=R?' with the id of "'.concat(R,'"'):"";console.warn("Over ".concat(200," classes were generated for component ").concat(j).concat(O,`.
`)+`Consider using the attrs method, together with a style object for frequently changed styles.
Example:
  const Component = styled.div.attrs(props => ({
    style: {
      background: props.background,
    },
  }))\`width: 100%;\`

  <Component />`),P=!0,D={}}}})(p,m)),q2(L,function(){return".".concat(L.styledComponentId)}),r&&vB(L,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),L}function LN(i,t){for(var e=[i[0]],n=0,s=t.length;n<s;n+=1)e.push(t[n],i[n+1]);return e}var ON=function(i){return Object.assign(i,{isCss:!0})};function g_(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(su(i)||Gd(i))return ON(Qc(LN(p_,nu([i],t,!0))));var n=i;return t.length===0&&n.length===1&&typeof n[0]=="string"?Qc(n):ON(Qc(LN(n,t)))}function wT(i,t,e){if(e===void 0&&(e=Vd),!t)throw eo(1,t);var n=function(s){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return i(t,e,g_.apply(void 0,nu([s],r,!1)))};return n.attrs=function(s){return wT(i,t,Ti(Ti({},e),{attrs:Array.prototype.concat(e.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return wT(i,t,Ti(Ti({},e),s))},n}var EB=function(i){return wT(htt,i)},ye=EB;pT.forEach(function(i){ye[i]=EB(i)});function dtt(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];oe.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn("`keyframes` cannot be used on ReactNative, only on the web. To do animation in ReactNative please use Animated.");var n=mT(g_.apply(void 0,nu([i],t,!1))),s=fB(n);return new bT(s,n)}oe.env.NODE_ENV!=="production"&&typeof navigator<"u"&&navigator.product==="ReactNative"&&console.warn(`It looks like you've imported 'styled-components' on React Native.
Perhaps you're looking to import 'styled-components/native'?
Read more about this at https://www.styled-components.com/docs/basics#react-native`);var Pv="__sc-".concat(iu,"__");oe.env.NODE_ENV!=="production"&&oe.env.NODE_ENV!=="test"&&typeof window<"u"&&(window[Pv]||(window[Pv]=0),window[Pv]===1&&console.warn(`It looks like there are several instances of 'styled-components' initialized in this application. This may cause dynamic styles to not render properly, errors during the rehydration process, a missing theme prop, and makes your application bigger without good reason.

See https://s-c.sh/2BAXzed for more info.`),window[Pv]+=1);const ftt="Document {{ currentFileNo }} of {{ allFilesCount }}",ptt="No renderer for file type: {{{ fileType }}}",gtt="Download file",mtt="Your file is broken. Please check it on your machine.",ytt="Recipients",vtt="Sender",btt="Loading...",wtt="Page {{ currentPage }}/{{ allPagesCount }}",_tt={documentNavInfo:ftt,noRendererMessage:ptt,downloadButtonLabel:gtt,brokenFile:mtt,msgPluginRecipients:ytt,msgPluginSender:vtt,pdfPluginLoading:btt,pdfPluginPageNumber:wtt},Att="Dokument {{ currentFileNo }} z {{ allFilesCount }}",Stt="Brak funckji renderujcej dla: {{{ fileType }}}",xtt="Pobierz plik",Ett="Twj plik jest uszkodzony. Sprawd go na swoim komputerze.",Ttt="Odbiorcy",Ctt="Nadawca",ktt="Wczytywanie...",Rtt="Strona {{ currentPage }}/{{ allPagesCount }}",Mtt={documentNavInfo:Att,noRendererMessage:Stt,downloadButtonLabel:xtt,brokenFile:Ett,msgPluginRecipients:Ttt,msgPluginSender:Ctt,pdfPluginLoading:ktt,pdfPluginPageNumber:Rtt},Ltt="Documento {{ currentFileNo }} de {{ allFilesCount }}",Ott="No hay procesador para el tipo de archivo: {{{ fileType }}}",Ptt="Descargar archivo",Dtt="Tu archivo est roto. Comprubalo en tu mquina.",Ntt="Destinatarios",Itt="Remitente",Ftt="Cargando...",jtt="Pgina {{ currentPage }}/{{ allPagesCount }}",Btt={documentNavInfo:Ltt,noRendererMessage:Ott,downloadButtonLabel:Ptt,brokenFile:Dtt,msgPluginRecipients:Ntt,msgPluginSender:Itt,pdfPluginLoading:Ftt,pdfPluginPageNumber:jtt},ztt="Dokument {{ currentFileNo }} von {{ allFilesCount }}",Utt="Kein Renderer fr Dateityp: {{{ fileType }}}",Htt="Datei herunterladen",$tt="Ihre Datei ist defekt. Bitte berprfen Sie sie auf Ihrem Rechner.",Wtt="Empfnger",Vtt="Absender",Gtt="Wird geladen...",qtt="Seite {{ currentPage }}/{{ allPagesCount }}",Ytt={documentNavInfo:ztt,noRendererMessage:Utt,downloadButtonLabel:Htt,brokenFile:$tt,msgPluginRecipients:Wtt,msgPluginSender:Vtt,pdfPluginLoading:Gtt,pdfPluginPageNumber:qtt},Xtt="Documento {{ currentFileNo }} di {{ allFilesCount }}",Ktt="Nessun renderer per il tipo di file: {{{ fileType }}}",Qtt="Scarica file",Ztt="Il tuo file  danneggiato. Controllalo sul tuo computer.",Jtt="Destinatari",tet="Mittente",eet="Caricamento in corso...",net="Pagina {{ currentPage }}/{{ allPagesCount }}",iet={documentNavInfo:Xtt,noRendererMessage:Ktt,downloadButtonLabel:Qtt,brokenFile:Ztt,msgPluginRecipients:Jtt,msgPluginSender:tet,pdfPluginLoading:eet,pdfPluginPageNumber:net},set="Documento {{ currentFileNo }} de {{ allFilesCount }}",ret="Nenhum renderizador para o tipo de arquivo: {{{ fileType }}}",aet="Baixar arquivo",oet="Seu arquivo est quebrado. Por favor, verifique-o em sua mquina.",cet="Destinatrios",uet="Remetente",het="Carregando...",det="Pgina {{ currentPage }}/{{ allPagesCount }}",fet={documentNavInfo:set,noRendererMessage:ret,downloadButtonLabel:aet,brokenFile:oet,msgPluginRecipients:cet,msgPluginSender:uet,pdfPluginLoading:het,pdfPluginPageNumber:det},pet="Document {{ currentFileNo }} de {{ allFilesCount }}",get="Aucun moteur de rendu pour le type de fichier : {{{ fileType }}}",met="Tlcharger le fichier",yet="Votre fichier est cass. Veuillez le vrifier sur votre machine.",vet="Destinataires",bet="Expditeur",wet="Chargement...",_et="Page {{ currentPage }}/{{ allPagesCount }}",Aet={documentNavInfo:pet,noRendererMessage:get,downloadButtonLabel:met,brokenFile:yet,msgPluginRecipients:vet,msgPluginSender:bet,pdfPluginLoading:wet,pdfPluginPageNumber:_et},xet=" {{ currentFileNo }}  {{ allFilesCount }}",Eet="{{{ fileType }}} :       ",Tet=" ",Cet="       .",ket="",Ret="",Met=" ...",Let=" {{ allPagesCount }} \\ {{ currentPage }}  ",Oet={documentNavInfo:xet,noRendererMessage:Eet,downloadButtonLabel:Tet,brokenFile:Cet,msgPluginRecipients:ket,msgPluginSender:Ret,pdfPluginLoading:Met,pdfPluginPageNumber:Let},Pet="Dokument {{ currentFileNo }} od {{ allFilesCount }}",Det="Ne postoji pregleda za tip fajla: {{ fileType }}",Net="Preuzimanje fajla",Iet="Va fajl nije dobar. Molimo Vas da probate da ga otvorite na vaem raunaru.",Fet="Primaoci",jet="Poiljalac",Bet="Uitavanje...",zet="Strana {{ currentPage }}/{{ allPagesCount }}",Uet={documentNavInfo:Pet,noRendererMessage:Det,downloadButtonLabel:Net,brokenFile:Iet,msgPluginRecipients:Fet,msgPluginSender:jet,pdfPluginLoading:Bet,pdfPluginPageNumber:zet},Het=" {{ currentFileNo }} od {{ allFilesCount }}",$et="     : {{ fileType }}",Wet=" ",Vet="   .          .",Get="",qet="",Yet="...",Xet=" {{ currentPage }}/{{ allPagesCount }}",Ket={documentNavInfo:Het,noRendererMessage:$et,downloadButtonLabel:Wet,brokenFile:Vet,msgPluginRecipients:Get,msgPluginSender:qet,pdfPluginLoading:Yet,pdfPluginPageNumber:Xet},Qet=" {{ currentFileNo }} / {{ allFilesCount }}",Zet=": {{ fileType }}",Jet="",tnt="",ent="",nnt="",int="...",snt=" {{ currentPage }}/{{ allPagesCount }}",rnt={documentNavInfo:Qet,noRendererMessage:Zet,downloadButtonLabel:Jet,brokenFile:tnt,msgPluginRecipients:ent,msgPluginSender:nnt,pdfPluginLoading:int,pdfPluginPageNumber:snt},ant=" {{ currentFileNo }}  {{ allFilesCount }}",ont="     : {{{ fileType }}}",lnt=" ",cnt="  . ,     .",unt="",hnt="",dnt="...",fnt=" {{ currentPage }}/{{ allPagesCount }}",pnt={documentNavInfo:ant,noRendererMessage:ont,downloadButtonLabel:lnt,brokenFile:cnt,msgPluginRecipients:unt,msgPluginSender:hnt,pdfPluginLoading:dnt,pdfPluginPageNumber:fnt},gnt="Dokument {{ currentFileNo }} av {{ allFilesCount }}",mnt="Ingen renderare fr filtypen: {{{ fileType }}}",ynt="Ladda ner",vnt="Filen r trasig. Var vnlig kontrollera den p din maskin.",bnt="Mottagare",wnt="Avsndare",_nt="Laddar...",Ant="Sida {{ currentPage }}/{{ allPagesCount }}",Snt={documentNavInfo:gnt,noRendererMessage:mnt,downloadButtonLabel:ynt,brokenFile:vnt,msgPluginRecipients:bnt,msgPluginSender:wnt,pdfPluginLoading:_nt,pdfPluginPageNumber:Ant},xnt="Belge {{ currentFileNo }} / {{ allFilesCount }}",Ent="Dosya tr iin grntleyici bulunamad: {{{ fileType }}}",Tnt="Dosyay indir",Cnt="Dosyanz bozuk. Ltfen kendi cihaznzda kontrol edin.",knt="Alclar",Rnt="Gnderen",Mnt="Ykleniyor...",Lnt="Sayfa {{ currentPage }}/{{ allPagesCount }}",Ont={documentNavInfo:xnt,noRendererMessage:Ent,downloadButtonLabel:Tnt,brokenFile:Cnt,msgPluginRecipients:knt,msgPluginSender:Rnt,pdfPluginLoading:Mnt,pdfPluginPageNumber:Lnt},_T={en:_tt,pl:Mtt,es:Btt,de:Ytt,it:iet,pt:fet,fr:Aet,ar:Oet,sr:Uet,sr_cyr:Ket,ja:rnt,ru:pnt,se:Snt,tr:Ont},Y2="en",TB="SET_ALL_DOCUMENTS",CB="SET_DOCUMENT_LOADING",kB="NEXT_DOCUMENT",RB="PREVIOUS_DOCUMENT",MB="UPDATE_CURRENT_DOCUMENT",LB="SET_RENDERER_RECT",OB="SET_MAIN_CONFIG",Pnt=(i,t)=>({type:TB,documents:i,initialActiveDocument:t}),Gx=i=>({type:CB,value:i}),X2=()=>({type:kB}),K2=()=>({type:RB}),AT=i=>({type:MB,document:i}),Dnt=i=>({type:LB,rect:i}),Nnt=i=>({type:OB,config:i}),Ww={currentFileNo:0,documents:[],documentLoading:!0,currentDocument:void 0,rendererRect:void 0,config:{},pluginRenderers:[],language:Y2},Int=(i=Ww,t)=>{switch(t.type){case TB:{const{documents:e,initialActiveDocument:n}=t;return{...i,documents:e,currentDocument:n||e[0]||null,currentFileNo:n&&e.includes(n)?e.indexOf(n):Ww.currentFileNo}}case CB:{const{value:e}=t;return{...i,documentLoading:e}}case kB:{if(i.currentFileNo>=i.documents.length-1)return i;const e=i.currentFileNo+1;return i.onDocumentChange&&i.onDocumentChange(i.documents[e]),{...i,currentFileNo:e,currentDocument:i.documents[e],documentLoading:!0}}case RB:{if(i.currentFileNo<=0)return i;const e=i.currentFileNo-1;return i.onDocumentChange&&i.onDocumentChange(i.documents[e]),{...i,currentFileNo:i.currentFileNo-1,currentDocument:i.documents[e],documentLoading:!0}}case MB:{const{document:e}=t;return{...i,currentDocument:e,currentFileNo:i.documents.findIndex(n=>n.uri===e.uri)}}case LB:{const{rect:e}=t;return{...i,rendererRect:e}}case OB:{const{config:e}=t;return{...i,config:e}}default:return i}},El=V.createContext({state:Ww,dispatch:()=>null}),Fnt=V.forwardRef((i,t)=>{const{children:e,documents:n,config:s,pluginRenderers:r,prefetchMethod:a,requestHeaders:l,initialActiveDocument:u,language:d,activeDocument:h,onDocumentChange:p}=i,[m,v]=V.useReducer(Int,{...Ww,documents:n||[],currentDocument:n&&n.length?u||n[0]:void 0,config:s,pluginRenderers:r,prefetchMethod:a,requestHeaders:l,currentFileNo:u?n.findIndex(_=>_===u)??0:0,language:d&&_T[d]?d:Y2,activeDocument:h,onDocumentChange:p});return V.useEffect(()=>{v(Pnt(n,u)),s&&v(Nnt(s))},[n,s,u]),V.useEffect(()=>{h&&v(AT(h))},[h]),V.useImperativeHandle(t,()=>({prev(){v(K2())},next(){v(X2())}}),[v]),F.jsx(El.Provider,{value:{state:m,dispatch:v},children:e})}),jnt=g_`
  background-color: ${i=>i.theme.primary};
  color: ${i=>i.theme.textPrimary};
`,Bnt=g_`
  background-color: ${i=>i.theme.secondary};
  color: ${i=>i.theme.textSecondary};
`,m_=ye.button`
  ${jnt}
  display: flex;
  justify-content: center;
  align-items: center;
  width: 35px;
  height: 35px;
  padding: 0;
  margin: 0 0 0 5px;
  text-align: center;
  font-size: 18px;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  opacity: ${i=>i.disabled?.4:1};
  pointer-events: ${i=>i.disabled?"none":"all"};
  box-shadow: 2px 2px 3px #00000033;

  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`,PB=ye.a`
  display: flex;
  justify-content: center;
  align-items: center;
  border: 0;
  outline: none;
  cursor: pointer;
  text-decoration: none;
  border-radius: 35px;
  background-color: ${i=>i.theme.primary};
  color: ${i=>i.theme.textPrimary};
  box-shadow: 2px 2px 3px #00000033;

  width: 35px;
  height: 35px;
  font-size: 18px;
  @media (max-width: 768px) {
    width: 30px;
    height: 30px;
    font-size: 15px;
  }
`;ye(m_)``;const znt=ye(m_)`
  ${Bnt}
`,Unt=i=>F.jsx(DB,{...i}),Hnt=i=>F.jsx(DB,{...i,reverse:!0}),DB=({color:i,size:t,reverse:e})=>F.jsx("svg",{width:t||"100%",height:t||"100%",style:{transform:`${e?"rotate(180deg)":""}`},id:"arrow_left",version:"1.1",viewBox:"0 0 32 32",xmlSpace:"preserve",children:F.jsx("path",{clipRule:"evenodd",d:"M31.106,15H3.278l8.325-8.293  c0.391-0.391,0.391-1.024,0-1.414c-0.391-0.391-1.024-0.391-1.414,0l-9.9,9.899c-0.385,0.385-0.385,1.029,0,1.414l9.9,9.9  c0.391,0.391,1.024,0.391,1.414,0c0.391-0.391,0.391-1.024,0-1.414L3.278,17h27.828c0.552,0,1-0.448,1-1  C32.106,15.448,31.658,15,31.106,15z",fill:i||"#aaa",fillRule:"evenodd",id:"Arrow_Back"})}),$nt=i=>{const{color:t,size:e}=i;return F.jsx("svg",{width:e||"100%",height:e||"100%",version:"1.1",id:"Icons",viewBox:"0 0 32 32",xmlSpace:"preserve",style:{alignSelf:"center",justifySelf:"center"},children:F.jsxs("g",{children:[F.jsx("path",{fill:t||"#aaa",d:"M16,2c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1V3C17,2.4,16.6,2,16,2z"}),F.jsx("path",{fill:t||"#aaa",d:`M7.5,6.1c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.5,6.1
		z`}),F.jsx("path",{fill:t||"#aaa",d:"M9,16c0-0.6-0.4-1-1-1H3c-0.6,0-1,0.4-1,1s0.4,1,1,1h5C8.6,17,9,16.6,9,16z"}),F.jsx("path",{fill:t||"#aaa",d:`M9.6,20.9l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4
		S10,20.6,9.6,20.9z`}),F.jsx("path",{fill:t||"#aaa",d:"M16,23c-0.6,0-1,0.4-1,1v5c0,0.6,0.4,1,1,1s1-0.4,1-1v-5C17,23.4,16.6,23,16,23z"}),F.jsx("path",{fill:t||"#aaa",d:`M22.4,20.9c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l3.5,3.5c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4
		L22.4,20.9z`}),F.jsx("path",{fill:t||"#aaa",d:"M29,15h-5c-0.6,0-1,0.4-1,1s0.4,1,1,1h5c0.6,0,1-0.4,1-1S29.6,15,29,15z"}),F.jsx("path",{fill:t||"#aaa",d:`M21.7,11.3c0.3,0,0.5-0.1,0.7-0.3l3.5-3.5c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-3.5,3.5c-0.4,0.4-0.4,1,0,1.4
		C21.1,11.2,21.4,11.3,21.7,11.3z`})]})})};/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var Wnt=Object.prototype.toString,lf=Array.isArray||function(i){return Wnt.call(i)==="[object Array]"};function Q2(i){return typeof i=="function"}function Vnt(i){return lf(i)?"array":typeof i}function qx(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function PN(i,t){return i!=null&&typeof i=="object"&&t in i}function Gnt(i,t){return i!=null&&typeof i!="object"&&i.hasOwnProperty&&i.hasOwnProperty(t)}var qnt=RegExp.prototype.test;function Ynt(i,t){return qnt.call(i,t)}var Xnt=/\S/;function Knt(i){return!Ynt(Xnt,i)}var Qnt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Znt(i){return String(i).replace(/[&<>"'`=\/]/g,function(t){return Qnt[t]})}var Jnt=/\s*/,tit=/\s+/,DN=/\s*=/,eit=/\s*\}/,nit=/#|\^|\/|>|\{|&|=|!/;function iit(i,t){if(!i)return[];var e=!1,n=[],s=[],r=[],a=!1,l=!1,u="",d=0;function h(){if(a&&!l)for(;r.length;)delete s[r.pop()];else r=[];a=!1,l=!1}var p,m,v;function _(M){if(typeof M=="string"&&(M=M.split(tit,2)),!lf(M)||M.length!==2)throw new Error("Invalid tags: "+M);p=new RegExp(qx(M[0])+"\\s*"),m=new RegExp("\\s*"+qx(M[1])),v=new RegExp("\\s*"+qx("}"+M[1]))}_(t||xs.tags);for(var w=new Wm(i),S,x,C,L,j,R;!w.eos();){if(S=w.pos,C=w.scanUntil(p),C)for(var D=0,P=C.length;D<P;++D)L=C.charAt(D),Knt(L)?(r.push(s.length),u+=L):(l=!0,e=!0,u+=" "),s.push(["text",L,S,S+1]),S+=1,L===`
`&&(h(),u="",d=0,e=!1);if(!w.scan(p))break;if(a=!0,x=w.scan(nit)||"name",w.scan(Jnt),x==="="?(C=w.scanUntil(DN),w.scan(DN),w.scanUntil(m)):x==="{"?(C=w.scanUntil(v),w.scan(eit),w.scanUntil(m),x="&"):C=w.scanUntil(m),!w.scan(m))throw new Error("Unclosed tag at "+w.pos);if(x==">"?j=[x,C,S,w.pos,u,d,e]:j=[x,C,S,w.pos],d++,s.push(j),x==="#"||x==="^")n.push(j);else if(x==="/"){if(R=n.pop(),!R)throw new Error('Unopened section "'+C+'" at '+S);if(R[1]!==C)throw new Error('Unclosed section "'+R[1]+'" at '+S)}else x==="name"||x==="{"||x==="&"?l=!0:x==="="&&_(C)}if(h(),R=n.pop(),R)throw new Error('Unclosed section "'+R[1]+'" at '+w.pos);return rit(sit(s))}function sit(i){for(var t=[],e,n,s=0,r=i.length;s<r;++s)e=i[s],e&&(e[0]==="text"&&n&&n[0]==="text"?(n[1]+=e[1],n[3]=e[3]):(t.push(e),n=e));return t}function rit(i){for(var t=[],e=t,n=[],s,r,a=0,l=i.length;a<l;++a)switch(s=i[a],s[0]){case"#":case"^":e.push(s),n.push(s),e=s[4]=[];break;case"/":r=n.pop(),r[5]=s[2],e=n.length>0?n[n.length-1][4]:t;break;default:e.push(s)}return t}function Wm(i){this.string=i,this.tail=i,this.pos=0}Wm.prototype.eos=function(){return this.tail===""};Wm.prototype.scan=function(i){var t=this.tail.match(i);if(!t||t.index!==0)return"";var e=t[0];return this.tail=this.tail.substring(e.length),this.pos+=e.length,e};Wm.prototype.scanUntil=function(i){var t=this.tail.search(i),e;switch(t){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=e.length,e};function qd(i,t){this.view=i,this.cache={".":this.view},this.parent=t}qd.prototype.push=function(i){return new qd(i,this)};qd.prototype.lookup=function(i){var t=this.cache,e;if(t.hasOwnProperty(i))e=t[i];else{for(var n=this,s,r,a,l=!1;n;){if(i.indexOf(".")>0)for(s=n.view,r=i.split("."),a=0;s!=null&&a<r.length;)a===r.length-1&&(l=PN(s,r[a])||Gnt(s,r[a])),s=s[r[a++]];else s=n.view[i],l=PN(n.view,i);if(l){e=s;break}n=n.parent}t[i]=e}return Q2(e)&&(e=e.call(this.view)),e};function ji(){this.templateCache={_cache:{},set:function(i,t){this._cache[i]=t},get:function(i){return this._cache[i]},clear:function(){this._cache={}}}}ji.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};ji.prototype.parse=function(i,t){var e=this.templateCache,n=i+":"+(t||xs.tags).join(":"),s=typeof e<"u",r=s?e.get(n):void 0;return r==null&&(r=iit(i,t),s&&e.set(n,r)),r};ji.prototype.render=function(i,t,e,n){var s=this.getConfigTags(n),r=this.parse(i,s),a=t instanceof qd?t:new qd(t,void 0);return this.renderTokens(r,a,e,i,n)};ji.prototype.renderTokens=function(i,t,e,n,s){for(var r="",a,l,u,d=0,h=i.length;d<h;++d)u=void 0,a=i[d],l=a[0],l==="#"?u=this.renderSection(a,t,e,n,s):l==="^"?u=this.renderInverted(a,t,e,n,s):l===">"?u=this.renderPartial(a,t,e,s):l==="&"?u=this.unescapedValue(a,t):l==="name"?u=this.escapedValue(a,t,s):l==="text"&&(u=this.rawValue(a)),u!==void 0&&(r+=u);return r};ji.prototype.renderSection=function(i,t,e,n,s){var r=this,a="",l=t.lookup(i[1]);function u(p){return r.render(p,t,e,s)}if(l){if(lf(l))for(var d=0,h=l.length;d<h;++d)a+=this.renderTokens(i[4],t.push(l[d]),e,n,s);else if(typeof l=="object"||typeof l=="string"||typeof l=="number")a+=this.renderTokens(i[4],t.push(l),e,n,s);else if(Q2(l)){if(typeof n!="string")throw new Error("Cannot use higher-order sections without the original template");l=l.call(t.view,n.slice(i[3],i[5]),u),l!=null&&(a+=l)}else a+=this.renderTokens(i[4],t,e,n,s);return a}};ji.prototype.renderInverted=function(i,t,e,n,s){var r=t.lookup(i[1]);if(!r||lf(r)&&r.length===0)return this.renderTokens(i[4],t,e,n,s)};ji.prototype.indentPartial=function(i,t,e){for(var n=t.replace(/[^ \t]/g,""),s=i.split(`
`),r=0;r<s.length;r++)s[r].length&&(r>0||!e)&&(s[r]=n+s[r]);return s.join(`
`)};ji.prototype.renderPartial=function(i,t,e,n){if(e){var s=this.getConfigTags(n),r=Q2(e)?e(i[1]):e[i[1]];if(r!=null){var a=i[6],l=i[5],u=i[4],d=r;l==0&&u&&(d=this.indentPartial(r,u,a));var h=this.parse(d,s);return this.renderTokens(h,t,e,d,n)}}};ji.prototype.unescapedValue=function(i,t){var e=t.lookup(i[1]);if(e!=null)return e};ji.prototype.escapedValue=function(i,t,e){var n=this.getConfigEscape(e)||xs.escape,s=t.lookup(i[1]);if(s!=null)return typeof s=="number"&&n===xs.escape?String(s):n(s)};ji.prototype.rawValue=function(i){return i[1]};ji.prototype.getConfigTags=function(i){return lf(i)?i:i&&typeof i=="object"?i.tags:void 0};ji.prototype.getConfigEscape=function(i){if(i&&typeof i=="object"&&!lf(i))return i.escape};var xs={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(i){Am.templateCache=i},get templateCache(){return Am.templateCache}},Am=new ji;xs.clearCache=function(){return Am.clearCache()};xs.parse=function(i,t){return Am.parse(i,t)};xs.render=function(i,t,e,n){if(typeof i!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+Vnt(i)+'" was given as the first argument for mustache#render(template, view, partials)');return Am.render(i,t,e,n)};xs.escape=Znt;xs.Scanner=Wm;xs.Context=qd;xs.Writer=ji;const pu=()=>{const{state:{language:i}}=V.useContext(El),t=_T[Y2];return{t:V.useCallback((e,n)=>{const s=_T[i];return s[e]?xs.render(s[e],n):t[e]?xs.render(t[e],n):e},[i,t])}},ait=()=>{const{state:{currentDocument:i,currentFileNo:t,documents:e},dispatch:n}=V.useContext(El),{t:s}=pu();if(e.length<=1||!i)return null;let r=i.uri||"";const a=r?.split("/");return a.length&&(r=a[a.length-1]),F.jsxs(oit,{id:"doc-nav",children:[F.jsx("p",{id:"doc-nav-info",children:s("documentNavInfo",{currentFileNo:t+1,allFilesCount:e.length})}),F.jsx(NB,{id:"doc-nav-prev",onClick:()=>n(K2()),disabled:t===0,children:F.jsx(Unt,{color:"#fff",size:"60%"})}),F.jsx(lit,{id:"doc-nav-next",onClick:()=>n(X2()),disabled:t>=e.length-1,children:F.jsx(Hnt,{color:"#fff",size:"60%"})})]})},oit=ye.div`
  min-width: 150px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-end;
  margin: 0 10px;
  color: ${i=>i.theme.textPrimary};
`,NB=ye(znt)`
  width: 30px;
  height: 30px;
  margin: 0 5px 0 10px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,lit=ye(NB)`
  margin: 0 5px;
`,IB=(i,t)=>{var e;if(!i)return"";let n="";if(i.fileName)n=i.fileName;else{n=i.uri||"",n=decodeURI(n),t||(n=(e=n?.split("?"))==null?void 0:e[0]);const s=n?.split("/");s.length&&(n=s[s.length-1])}return n},cit=()=>{var i,t;const{state:{config:e,currentDocument:n}}=V.useContext(El);if(!n||(i=e?.header)!=null&&i.disableFileName)return null;const s=IB(n,((t=e?.header)==null?void 0:t.retainURLParams)||!1);return F.jsx(uit,{id:"file-name","data-testid":"file-name",children:s})},uit=ye.div`
  flex: 1;
  text-align: left;
  color: ${i=>i.theme.textPrimary};
  font-weight: bold;
  margin: 0 10px;
  overflow: hidden;
`,hit=()=>{var i,t,e;const{state:n,dispatch:s}=V.useContext(El),{config:r}=n;return(i=r?.header)!=null&&i.disableHeader?null:((e=(t=r?.header)==null?void 0:t.overrideComponent)==null?void 0:e.call(t,n,()=>s(K2()),()=>s(X2())))||F.jsxs(dit,{id:"header-bar","data-testid":"header-bar",children:[F.jsx(cit,{}),F.jsx(ait,{})]})},dit=ye.div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  z-index: 1;
  padding: 0 10px;
  background-color: ${i=>i.theme.primary};
  font-size: 16px;
  min-height: 50px;

  @media (max-width: 768px) {
    min-height: 30px;
    padding: 5px;
    font-size: 10px;
  }
`,Z2=({documentURI:i,signal:t,fileLoaderComplete:e,readerTypeFunction:n,headers:s})=>fetch(i,{signal:t,headers:s}).then(async r=>{const a=await r.blob(),l=new FileReader;switch(l.addEventListener("loadend",()=>e(l)),n){case"arrayBuffer":l.readAsArrayBuffer(a);break;case"binaryString":l.readAsBinaryString(a);break;case"dataURL":l.readAsDataURL(a);break;case"text":l.readAsText(a);break}}).catch(r=>r),fit=i=>Z2({...i,readerTypeFunction:"arrayBuffer"}),FB=i=>Z2({...i,readerTypeFunction:"dataURL"}),jB=i=>Z2({...i,readerTypeFunction:"text"}),pit=FB,git=()=>{const{state:{currentDocument:i,pluginRenderers:t}}=V.useContext(El),[e,n]=V.useState();return V.useEffect(()=>{if(!i)return;if(!i.fileType){n(void 0);return}const s=[];t?.forEach(a=>{i.fileType!==void 0&&a.fileTypes.indexOf(i.fileType)>=0&&s.push(a)});const[r]=s.sort((a,l)=>l.weight-a.weight);n(r&&r!==void 0?()=>r:null)},[i,t]),{CurrentRenderer:e}},mit=()=>{const{state:i,dispatch:t}=V.useContext(El),{currentFileNo:e,currentDocument:n,prefetchMethod:s}=i,{CurrentRenderer:r}=git(),a=n?.uri||"";return V.useEffect(()=>{if(!n||n.fileType!==void 0)return;const l=new AbortController,{signal:u}=l;return fetch(a,{method:s||a.startsWith("blob:")?"GET":"HEAD",signal:u,headers:i?.requestHeaders}).then(d=>{const h=d.headers.get("content-type"),p=h?.split(";")||[],m=p.length?p[0]:void 0;t(AT({...n,fileType:m||void 0}))}).catch(d=>{if(d?.name!=="AbortError")throw d}),()=>{l.abort()}},[e,a,n]),V.useEffect(()=>{var l;if(!n||r===void 0)return;const u=new AbortController,{signal:d}=u,h={documentURI:a,signal:d,fileLoaderComplete:p=>{if(!n||!p){t(Gx(!1));return}const m={...n};p.result!==null&&(m.fileData=p.result),t(AT(m)),t(Gx(!1))},headers:i?.requestHeaders};return r===null?t(Gx(!1)):r.fileLoader!==void 0?(l=r.fileLoader)==null||l.call(r,h):pit(h),()=>{u.abort()}},[r,e]),{state:i,dispatch:t,CurrentRenderer:r}},yit=()=>{const[i,t]=V.useState({width:void 0,height:void 0});return V.useEffect(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),i},NN=({children:i})=>{var t,e;const{state:n}=V.useContext(El),{config:s}=n,[r,a]=V.useState(((t=s?.loadingRenderer)==null?void 0:t.showLoadingTimeout)===!1);return V.useEffect(()=>{var l;setTimeout(()=>{a(!0)},typeof((l=s?.loadingRenderer)==null?void 0:l.showLoadingTimeout)=="number"?s.loadingRenderer.showLoadingTimeout:500)},[(e=s?.loadingRenderer)==null?void 0:e.showLoadingTimeout]),r?F.jsx(F.Fragment,{children:i}):null},vit=({documents:i,documentLoading:t,config:e,currentDocument:n,fileName:s,CurrentRenderer:r,state:a,t:l})=>{var u,d;if(i.length)if(t){if(e&&(u=e?.loadingRenderer)!=null&&u.overrideComponent){const h=e.loadingRenderer.overrideComponent;return F.jsx(NN,{children:F.jsx(h,{document:n,fileName:s})})}return F.jsx(NN,{children:F.jsx(wit,{id:"loading-renderer","data-testid":"loading-renderer",children:F.jsx(Ait,{children:F.jsx($nt,{color:"#444",size:40})})})})}else{if(r)return F.jsx(r,{mainState:a});if(r===void 0)return null;if(e&&(d=e?.noRenderer)!=null&&d.overrideComponent){const h=e.noRenderer.overrideComponent;return F.jsx(h,{document:n,fileName:s})}return F.jsxs("div",{id:"no-renderer","data-testid":"no-renderer",children:[l("noRendererMessage",{fileType:n?.fileType??""}),F.jsx(Sit,{id:"no-renderer-download",href:n?.uri,download:n?.uri,children:l("downloadButtonLabel")})]})}else return F.jsx("div",{id:"no-documents"})},bit=()=>{var i;const{state:t,dispatch:e,CurrentRenderer:n}=mit(),{documents:s,documentLoading:r,currentDocument:a,config:l}=t,u=yit(),{t:d}=pu(),h=V.useCallback(m=>{m&&e(Dnt(m?.getBoundingClientRect()))},[u,e]),p=IB(a,((i=l?.header)==null?void 0:i.retainURLParams)||!1);return F.jsx("div",{id:"proxy-renderer","data-testid":"proxy-renderer",ref:h,children:F.jsx(vit,{state:t,documents:s,documentLoading:r,config:l,currentDocument:a,fileName:p,CurrentRenderer:n,t:d})})},wit=ye.div`
  display: flex;
  flex: 1;
  height: 75px;
  align-items: center;
  justify-content: center;
`,_it=dtt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ait=ye.div`
  animation-name: ${_it};
  animation-duration: 4s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
`,Sit=ye(PB)`
  width: 130px;
  height: 30px;
  background-color: ${i=>i.theme.primary};
  @media (max-width: 768px) {
    width: 125px;
    height: 25px;
  }
`,IN={primary:"#fff",secondary:"#000",tertiary:"#ffffff99",textPrimary:"#000",textSecondary:"#fff",textTertiary:"#00000044",disableThemeScrollbar:!1},ro=({mainState:{currentDocument:i},children:t,...e})=>i?F.jsx(xit,{id:"image-renderer",...e,children:t||F.jsx(Eit,{id:"image-img",src:i.fileData})}):null;ro.fileTypes=[];ro.weight=0;const xit=ye.div`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background-color: #fff;
`,Eit=ye.img`
  max-width: 95%;
  max-height: 95%;
`,J2=i=>F.jsx(ro,{...i});J2.fileTypes=["bmp","image/bmp"];J2.weight=0;const y_=({mainState:{currentDocument:i}})=>(V.useEffect(()=>{const t=i?.fileData;let e="";const n=t?.replace(/^data:text\/html;(?:charset=([^;]*);)?base64,/,(d,h)=>(e=h||"utf-8",""));let s=window.atob(n);const r=Uint8Array.from(s,d=>d.charCodeAt(0));s=new TextDecoder(e).decode(r);const a=document.getElementById("html-body"),l=a?.contentWindow&&a.contentWindow;if(!l)return;const u=l.document;u.open(),u.write(`${s}`),u.close()},[i]),F.jsx(Tit,{id:"html-renderer",children:F.jsx(Cit,{id:"html-body",sandbox:"allow-same-origin"})}));y_.fileTypes=["htm","html","text/htm","text/html"];y_.weight=0;y_.fileLoader=FB;const Tit=ye.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 0 30px;
`,Cit=ye.iframe`
  height: 100%;
  padding: 15px;
  margin: 20px 0 20px 0;
  border: 1px solid ${i=>i.theme.secondary};
`,tR=i=>F.jsx(ro,{...i});tR.fileTypes=["jpg","jpeg","image/jpg","image/jpeg"];tR.weight=0;const v_=({mainState:{currentDocument:i}})=>i?F.jsx(kit,{id:"msdoc-renderer",children:F.jsx(Rit,{id:"msdoc-iframe",title:"msdoc-iframe",src:`https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(i.uri)}`,frameBorder:"0"})}):null,ql={odt:["odt","application/vnd.oasis.opendocument.text"],doc:["doc","application/msword"],docx:["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/octet-stream"],xls:["xls","application/vnd.ms-excel"],xlsx:["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],ppt:["ppt","application/vnd.ms-powerpoint"],pptx:["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"]};v_.fileTypes=[...ql.odt,...ql.doc,...ql.docx,...ql.xls,...ql.xlsx,...ql.ppt,...ql.pptx];v_.weight=0;v_.fileLoader=({fileLoaderComplete:i})=>i();const kit=ye.div`
  width: 100%;
`,Rit=ye.iframe`
  width: 100%;
  height: 100%;
  border: 0;
`;var Dn={},b_={};b_.byteLength=Oit;b_.toByteArray=Dit;b_.fromByteArray=Fit;var Zr=[],Ws=[],Mit=typeof Uint8Array<"u"?Uint8Array:Array,Yx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var dh=0,Lit=Yx.length;dh<Lit;++dh)Zr[dh]=Yx[dh],Ws[Yx.charCodeAt(dh)]=dh;Ws[45]=62;Ws[95]=63;function BB(i){var t=i.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=i.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function Oit(i){var t=BB(i),e=t[0],n=t[1];return(e+n)*3/4-n}function Pit(i,t,e){return(t+e)*3/4-e}function Dit(i){var t,e=BB(i),n=e[0],s=e[1],r=new Mit(Pit(i,n,s)),a=0,l=s>0?n-4:n,u;for(u=0;u<l;u+=4)t=Ws[i.charCodeAt(u)]<<18|Ws[i.charCodeAt(u+1)]<<12|Ws[i.charCodeAt(u+2)]<<6|Ws[i.charCodeAt(u+3)],r[a++]=t>>16&255,r[a++]=t>>8&255,r[a++]=t&255;return s===2&&(t=Ws[i.charCodeAt(u)]<<2|Ws[i.charCodeAt(u+1)]>>4,r[a++]=t&255),s===1&&(t=Ws[i.charCodeAt(u)]<<10|Ws[i.charCodeAt(u+1)]<<4|Ws[i.charCodeAt(u+2)]>>2,r[a++]=t>>8&255,r[a++]=t&255),r}function Nit(i){return Zr[i>>18&63]+Zr[i>>12&63]+Zr[i>>6&63]+Zr[i&63]}function Iit(i,t,e){for(var n,s=[],r=t;r<e;r+=3)n=(i[r]<<16&16711680)+(i[r+1]<<8&65280)+(i[r+2]&255),s.push(Nit(n));return s.join("")}function Fit(i){for(var t,e=i.length,n=e%3,s=[],r=16383,a=0,l=e-n;a<l;a+=r)s.push(Iit(i,a,a+r>l?l:a+r));return n===1?(t=i[e-1],s.push(Zr[t>>2]+Zr[t<<4&63]+"==")):n===2&&(t=(i[e-2]<<8)+i[e-1],s.push(Zr[t>>10]+Zr[t>>4&63]+Zr[t<<2&63]+"=")),s.join("")}var eR={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */eR.read=function(i,t,e,n,s){var r,a,l=s*8-n-1,u=(1<<l)-1,d=u>>1,h=-7,p=e?s-1:0,m=e?-1:1,v=i[t+p];for(p+=m,r=v&(1<<-h)-1,v>>=-h,h+=l;h>0;r=r*256+i[t+p],p+=m,h-=8);for(a=r&(1<<-h)-1,r>>=-h,h+=n;h>0;a=a*256+i[t+p],p+=m,h-=8);if(r===0)r=1-d;else{if(r===u)return a?NaN:(v?-1:1)*(1/0);a=a+Math.pow(2,n),r=r-d}return(v?-1:1)*a*Math.pow(2,r-n)};eR.write=function(i,t,e,n,s,r){var a,l,u,d=r*8-s-1,h=(1<<d)-1,p=h>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:r-1,_=n?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+p>=1?t+=m/u:t+=m*Math.pow(2,1-p),t*u>=2&&(a++,u/=2),a+p>=h?(l=0,a=h):a+p>=1?(l=(t*u-1)*Math.pow(2,s),a=a+p):(l=t*Math.pow(2,p-1)*Math.pow(2,s),a=0));s>=8;i[e+v]=l&255,v+=_,l/=256,s-=8);for(a=a<<s|l,d+=s;d>0;i[e+v]=a&255,v+=_,a/=256,d-=8);i[e+v-_]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(i){const t=b_,e=eR,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=h,i.SlowBuffer=R,i.INSPECT_MAX_BYTES=50;const s=2147483647;i.kMaxLength=s;const{Uint8Array:r,ArrayBuffer:a,SharedArrayBuffer:l}=globalThis;h.TYPED_ARRAY_SUPPORT=u(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const E=new r(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,r.prototype),Object.setPrototypeOf(E,I),E.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(E){if(E>s)throw new RangeError('The value "'+E+'" is invalid for option "size"');const I=new r(E);return Object.setPrototypeOf(I,h.prototype),I}function h(E,I,U){if(typeof E=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(E)}return p(E,I,U)}h.poolSize=8192;function p(E,I,U){if(typeof E=="string")return w(E,I);if(a.isView(E))return x(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(bt(E,a)||E&&bt(E.buffer,a)||typeof l<"u"&&(bt(E,l)||E&&bt(E.buffer,l)))return C(E,I,U);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const rt=E.valueOf&&E.valueOf();if(rt!=null&&rt!==E)return h.from(rt,I,U);const ht=L(E);if(ht)return ht;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return h.from(E[Symbol.toPrimitive]("string"),I,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}h.from=function(E,I,U){return p(E,I,U)},Object.setPrototypeOf(h.prototype,r.prototype),Object.setPrototypeOf(h,r);function m(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function v(E,I,U){return m(E),E<=0?d(E):I!==void 0?typeof U=="string"?d(E).fill(I,U):d(E).fill(I):d(E)}h.alloc=function(E,I,U){return v(E,I,U)};function _(E){return m(E),d(E<0?0:j(E)|0)}h.allocUnsafe=function(E){return _(E)},h.allocUnsafeSlow=function(E){return _(E)};function w(E,I){if((typeof I!="string"||I==="")&&(I="utf8"),!h.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const U=D(E,I)|0;let rt=d(U);const ht=rt.write(E,I);return ht!==U&&(rt=rt.slice(0,ht)),rt}function S(E){const I=E.length<0?0:j(E.length)|0,U=d(I);for(let rt=0;rt<I;rt+=1)U[rt]=E[rt]&255;return U}function x(E){if(bt(E,r)){const I=new r(E);return C(I.buffer,I.byteOffset,I.byteLength)}return S(E)}function C(E,I,U){if(I<0||E.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<I+(U||0))throw new RangeError('"length" is outside of buffer bounds');let rt;return I===void 0&&U===void 0?rt=new r(E):U===void 0?rt=new r(E,I):rt=new r(E,I,U),Object.setPrototypeOf(rt,h.prototype),rt}function L(E){if(h.isBuffer(E)){const I=j(E.length)|0,U=d(I);return U.length===0||E.copy(U,0,0,I),U}if(E.length!==void 0)return typeof E.length!="number"||jt(E.length)?d(0):S(E);if(E.type==="Buffer"&&Array.isArray(E.data))return S(E.data)}function j(E){if(E>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return E|0}function R(E){return+E!=E&&(E=0),h.alloc(+E)}h.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==h.prototype},h.compare=function(E,I){if(bt(E,r)&&(E=h.from(E,E.offset,E.byteLength)),bt(I,r)&&(I=h.from(I,I.offset,I.byteLength)),!h.isBuffer(E)||!h.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===I)return 0;let U=E.length,rt=I.length;for(let ht=0,At=Math.min(U,rt);ht<At;++ht)if(E[ht]!==I[ht]){U=E[ht],rt=I[ht];break}return U<rt?-1:rt<U?1:0},h.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(E,I){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return h.alloc(0);let U;if(I===void 0)for(I=0,U=0;U<E.length;++U)I+=E[U].length;const rt=h.allocUnsafe(I);let ht=0;for(U=0;U<E.length;++U){let At=E[U];if(bt(At,r))ht+At.length>rt.length?(h.isBuffer(At)||(At=h.from(At)),At.copy(rt,ht)):r.prototype.set.call(rt,At,ht);else if(h.isBuffer(At))At.copy(rt,ht);else throw new TypeError('"list" argument must be an Array of Buffers');ht+=At.length}return rt};function D(E,I){if(h.isBuffer(E))return E.length;if(a.isView(E)||bt(E,a))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);const U=E.length,rt=arguments.length>2&&arguments[2]===!0;if(!rt&&U===0)return 0;let ht=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return tt(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return Mt(E).length;default:if(ht)return rt?-1:tt(E).length;I=(""+I).toLowerCase(),ht=!0}}h.byteLength=D;function P(E,I,U){let rt=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,I>>>=0,U<=I))return"";for(E||(E="utf8");;)switch(E){case"hex":return K(this,I,U);case"utf8":case"utf-8":return T(this,I,U);case"ascii":return k(this,I,U);case"latin1":case"binary":return W(this,I,U);case"base64":return $(this,I,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return et(this,I,U);default:if(rt)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),rt=!0}}h.prototype._isBuffer=!0;function M(E,I,U){const rt=E[I];E[I]=E[U],E[U]=rt}h.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<E;I+=2)M(this,I,I+1);return this},h.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<E;I+=4)M(this,I,I+3),M(this,I+1,I+2);return this},h.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<E;I+=8)M(this,I,I+7),M(this,I+1,I+6),M(this,I+2,I+5),M(this,I+3,I+4);return this},h.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?T(this,0,E):P.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(E){if(!h.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:h.compare(this,E)===0},h.prototype.inspect=function(){let E="";const I=i.INSPECT_MAX_BYTES;return E=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(E+=" ... "),"<Buffer "+E+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(E,I,U,rt,ht){if(bt(E,r)&&(E=h.from(E,E.offset,E.byteLength)),!h.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(I===void 0&&(I=0),U===void 0&&(U=E?E.length:0),rt===void 0&&(rt=0),ht===void 0&&(ht=this.length),I<0||U>E.length||rt<0||ht>this.length)throw new RangeError("out of range index");if(rt>=ht&&I>=U)return 0;if(rt>=ht)return-1;if(I>=U)return 1;if(I>>>=0,U>>>=0,rt>>>=0,ht>>>=0,this===E)return 0;let At=ht-rt,Dt=U-I;const Ee=Math.min(At,Dt),cn=this.slice(rt,ht),ze=E.slice(I,U);for(let Le=0;Le<Ee;++Le)if(cn[Le]!==ze[Le]){At=cn[Le],Dt=ze[Le];break}return At<Dt?-1:Dt<At?1:0};function O(E,I,U,rt,ht){if(E.length===0)return-1;if(typeof U=="string"?(rt=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,jt(U)&&(U=ht?0:E.length-1),U<0&&(U=E.length+U),U>=E.length){if(ht)return-1;U=E.length-1}else if(U<0)if(ht)U=0;else return-1;if(typeof I=="string"&&(I=h.from(I,rt)),h.isBuffer(I))return I.length===0?-1:N(E,I,U,rt,ht);if(typeof I=="number")return I=I&255,typeof r.prototype.indexOf=="function"?ht?r.prototype.indexOf.call(E,I,U):r.prototype.lastIndexOf.call(E,I,U):N(E,[I],U,rt,ht);throw new TypeError("val must be string, number or Buffer")}function N(E,I,U,rt,ht){let At=1,Dt=E.length,Ee=I.length;if(rt!==void 0&&(rt=String(rt).toLowerCase(),rt==="ucs2"||rt==="ucs-2"||rt==="utf16le"||rt==="utf-16le")){if(E.length<2||I.length<2)return-1;At=2,Dt/=2,Ee/=2,U/=2}function cn(Le,Ke){return At===1?Le[Ke]:Le.readUInt16BE(Ke*At)}let ze;if(ht){let Le=-1;for(ze=U;ze<Dt;ze++)if(cn(E,ze)===cn(I,Le===-1?0:ze-Le)){if(Le===-1&&(Le=ze),ze-Le+1===Ee)return Le*At}else Le!==-1&&(ze-=ze-Le),Le=-1}else for(U+Ee>Dt&&(U=Dt-Ee),ze=U;ze>=0;ze--){let Le=!0;for(let Ke=0;Ke<Ee;Ke++)if(cn(E,ze+Ke)!==cn(I,Ke)){Le=!1;break}if(Le)return ze}return-1}h.prototype.includes=function(E,I,U){return this.indexOf(E,I,U)!==-1},h.prototype.indexOf=function(E,I,U){return O(this,E,I,U,!0)},h.prototype.lastIndexOf=function(E,I,U){return O(this,E,I,U,!1)};function H(E,I,U,rt){U=Number(U)||0;const ht=E.length-U;rt?(rt=Number(rt),rt>ht&&(rt=ht)):rt=ht;const At=I.length;rt>At/2&&(rt=At/2);let Dt;for(Dt=0;Dt<rt;++Dt){const Ee=parseInt(I.substr(Dt*2,2),16);if(jt(Ee))return Dt;E[U+Dt]=Ee}return Dt}function Q(E,I,U,rt){return Lt(tt(I,E.length-U),E,U,rt)}function G(E,I,U,rt){return Lt(ot(I),E,U,rt)}function J(E,I,U,rt){return Lt(Mt(I),E,U,rt)}function nt(E,I,U,rt){return Lt(pt(I,E.length-U),E,U,rt)}h.prototype.write=function(E,I,U,rt){if(I===void 0)rt="utf8",U=this.length,I=0;else if(U===void 0&&typeof I=="string")rt=I,U=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(U)?(U=U>>>0,rt===void 0&&(rt="utf8")):(rt=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ht=this.length-I;if((U===void 0||U>ht)&&(U=ht),E.length>0&&(U<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");rt||(rt="utf8");let At=!1;for(;;)switch(rt){case"hex":return H(this,E,I,U);case"utf8":case"utf-8":return Q(this,E,I,U);case"ascii":case"latin1":case"binary":return G(this,E,I,U);case"base64":return J(this,E,I,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nt(this,E,I,U);default:if(At)throw new TypeError("Unknown encoding: "+rt);rt=(""+rt).toLowerCase(),At=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(E,I,U){return I===0&&U===E.length?t.fromByteArray(E):t.fromByteArray(E.slice(I,U))}function T(E,I,U){U=Math.min(E.length,U);const rt=[];let ht=I;for(;ht<U;){const At=E[ht];let Dt=null,Ee=At>239?4:At>223?3:At>191?2:1;if(ht+Ee<=U){let cn,ze,Le,Ke;switch(Ee){case 1:At<128&&(Dt=At);break;case 2:cn=E[ht+1],(cn&192)===128&&(Ke=(At&31)<<6|cn&63,Ke>127&&(Dt=Ke));break;case 3:cn=E[ht+1],ze=E[ht+2],(cn&192)===128&&(ze&192)===128&&(Ke=(At&15)<<12|(cn&63)<<6|ze&63,Ke>2047&&(Ke<55296||Ke>57343)&&(Dt=Ke));break;case 4:cn=E[ht+1],ze=E[ht+2],Le=E[ht+3],(cn&192)===128&&(ze&192)===128&&(Le&192)===128&&(Ke=(At&15)<<18|(cn&63)<<12|(ze&63)<<6|Le&63,Ke>65535&&Ke<1114112&&(Dt=Ke))}}Dt===null?(Dt=65533,Ee=1):Dt>65535&&(Dt-=65536,rt.push(Dt>>>10&1023|55296),Dt=56320|Dt&1023),rt.push(Dt),ht+=Ee}return Z(rt)}const ct=4096;function Z(E){const I=E.length;if(I<=ct)return String.fromCharCode.apply(String,E);let U="",rt=0;for(;rt<I;)U+=String.fromCharCode.apply(String,E.slice(rt,rt+=ct));return U}function k(E,I,U){let rt="";U=Math.min(E.length,U);for(let ht=I;ht<U;++ht)rt+=String.fromCharCode(E[ht]&127);return rt}function W(E,I,U){let rt="";U=Math.min(E.length,U);for(let ht=I;ht<U;++ht)rt+=String.fromCharCode(E[ht]);return rt}function K(E,I,U){const rt=E.length;(!I||I<0)&&(I=0),(!U||U<0||U>rt)&&(U=rt);let ht="";for(let At=I;At<U;++At)ht+=Bt[E[At]];return ht}function et(E,I,U){const rt=E.slice(I,U);let ht="";for(let At=0;At<rt.length-1;At+=2)ht+=String.fromCharCode(rt[At]+rt[At+1]*256);return ht}h.prototype.slice=function(E,I){const U=this.length;E=~~E,I=I===void 0?U:~~I,E<0?(E+=U,E<0&&(E=0)):E>U&&(E=U),I<0?(I+=U,I<0&&(I=0)):I>U&&(I=U),I<E&&(I=E);const rt=this.subarray(E,I);return Object.setPrototypeOf(rt,h.prototype),rt};function st(E,I,U){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+I>U)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(E,I,U){E=E>>>0,I=I>>>0,U||st(E,I,this.length);let rt=this[E],ht=1,At=0;for(;++At<I&&(ht*=256);)rt+=this[E+At]*ht;return rt},h.prototype.readUintBE=h.prototype.readUIntBE=function(E,I,U){E=E>>>0,I=I>>>0,U||st(E,I,this.length);let rt=this[E+--I],ht=1;for(;I>0&&(ht*=256);)rt+=this[E+--I]*ht;return rt},h.prototype.readUint8=h.prototype.readUInt8=function(E,I){return E=E>>>0,I||st(E,1,this.length),this[E]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(E,I){return E=E>>>0,I||st(E,2,this.length),this[E]|this[E+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(E,I){return E=E>>>0,I||st(E,2,this.length),this[E]<<8|this[E+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(E,I){return E=E>>>0,I||st(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(E,I){return E=E>>>0,I||st(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},h.prototype.readBigUInt64LE=Ut(function(E){E=E>>>0,Rt(E,"offset");const I=this[E],U=this[E+7];(I===void 0||U===void 0)&&Nt(E,this.length-8);const rt=I+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,ht=this[++E]+this[++E]*2**8+this[++E]*2**16+U*2**24;return BigInt(rt)+(BigInt(ht)<<BigInt(32))}),h.prototype.readBigUInt64BE=Ut(function(E){E=E>>>0,Rt(E,"offset");const I=this[E],U=this[E+7];(I===void 0||U===void 0)&&Nt(E,this.length-8);const rt=I*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],ht=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+U;return(BigInt(rt)<<BigInt(32))+BigInt(ht)}),h.prototype.readIntLE=function(E,I,U){E=E>>>0,I=I>>>0,U||st(E,I,this.length);let rt=this[E],ht=1,At=0;for(;++At<I&&(ht*=256);)rt+=this[E+At]*ht;return ht*=128,rt>=ht&&(rt-=Math.pow(2,8*I)),rt},h.prototype.readIntBE=function(E,I,U){E=E>>>0,I=I>>>0,U||st(E,I,this.length);let rt=I,ht=1,At=this[E+--rt];for(;rt>0&&(ht*=256);)At+=this[E+--rt]*ht;return ht*=128,At>=ht&&(At-=Math.pow(2,8*I)),At},h.prototype.readInt8=function(E,I){return E=E>>>0,I||st(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},h.prototype.readInt16LE=function(E,I){E=E>>>0,I||st(E,2,this.length);const U=this[E]|this[E+1]<<8;return U&32768?U|4294901760:U},h.prototype.readInt16BE=function(E,I){E=E>>>0,I||st(E,2,this.length);const U=this[E+1]|this[E]<<8;return U&32768?U|4294901760:U},h.prototype.readInt32LE=function(E,I){return E=E>>>0,I||st(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},h.prototype.readInt32BE=function(E,I){return E=E>>>0,I||st(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},h.prototype.readBigInt64LE=Ut(function(E){E=E>>>0,Rt(E,"offset");const I=this[E],U=this[E+7];(I===void 0||U===void 0)&&Nt(E,this.length-8);const rt=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(U<<24);return(BigInt(rt)<<BigInt(32))+BigInt(I+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),h.prototype.readBigInt64BE=Ut(function(E){E=E>>>0,Rt(E,"offset");const I=this[E],U=this[E+7];(I===void 0||U===void 0)&&Nt(E,this.length-8);const rt=(I<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(rt)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+U)}),h.prototype.readFloatLE=function(E,I){return E=E>>>0,I||st(E,4,this.length),e.read(this,E,!0,23,4)},h.prototype.readFloatBE=function(E,I){return E=E>>>0,I||st(E,4,this.length),e.read(this,E,!1,23,4)},h.prototype.readDoubleLE=function(E,I){return E=E>>>0,I||st(E,8,this.length),e.read(this,E,!0,52,8)},h.prototype.readDoubleBE=function(E,I){return E=E>>>0,I||st(E,8,this.length),e.read(this,E,!1,52,8)};function ut(E,I,U,rt,ht,At){if(!h.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ht||I<At)throw new RangeError('"value" argument is out of bounds');if(U+rt>E.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(E,I,U,rt){if(E=+E,I=I>>>0,U=U>>>0,!rt){const Dt=Math.pow(2,8*U)-1;ut(this,E,I,U,Dt,0)}let ht=1,At=0;for(this[I]=E&255;++At<U&&(ht*=256);)this[I+At]=E/ht&255;return I+U},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(E,I,U,rt){if(E=+E,I=I>>>0,U=U>>>0,!rt){const Dt=Math.pow(2,8*U)-1;ut(this,E,I,U,Dt,0)}let ht=U-1,At=1;for(this[I+ht]=E&255;--ht>=0&&(At*=256);)this[I+ht]=E/At&255;return I+U},h.prototype.writeUint8=h.prototype.writeUInt8=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,1,255,0),this[I]=E&255,I+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,2,65535,0),this[I]=E&255,this[I+1]=E>>>8,I+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,2,65535,0),this[I]=E>>>8,this[I+1]=E&255,I+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,4,4294967295,0),this[I+3]=E>>>24,this[I+2]=E>>>16,this[I+1]=E>>>8,this[I]=E&255,I+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,4,4294967295,0),this[I]=E>>>24,this[I+1]=E>>>16,this[I+2]=E>>>8,this[I+3]=E&255,I+4};function lt(E,I,U,rt,ht){Ot(I,rt,ht,E,U,7);let At=Number(I&BigInt(4294967295));E[U++]=At,At=At>>8,E[U++]=At,At=At>>8,E[U++]=At,At=At>>8,E[U++]=At;let Dt=Number(I>>BigInt(32)&BigInt(4294967295));return E[U++]=Dt,Dt=Dt>>8,E[U++]=Dt,Dt=Dt>>8,E[U++]=Dt,Dt=Dt>>8,E[U++]=Dt,U}function ft(E,I,U,rt,ht){Ot(I,rt,ht,E,U,7);let At=Number(I&BigInt(4294967295));E[U+7]=At,At=At>>8,E[U+6]=At,At=At>>8,E[U+5]=At,At=At>>8,E[U+4]=At;let Dt=Number(I>>BigInt(32)&BigInt(4294967295));return E[U+3]=Dt,Dt=Dt>>8,E[U+2]=Dt,Dt=Dt>>8,E[U+1]=Dt,Dt=Dt>>8,E[U]=Dt,U+8}h.prototype.writeBigUInt64LE=Ut(function(E,I=0){return lt(this,E,I,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Ut(function(E,I=0){return ft(this,E,I,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(E,I,U,rt){if(E=+E,I=I>>>0,!rt){const Ee=Math.pow(2,8*U-1);ut(this,E,I,U,Ee-1,-Ee)}let ht=0,At=1,Dt=0;for(this[I]=E&255;++ht<U&&(At*=256);)E<0&&Dt===0&&this[I+ht-1]!==0&&(Dt=1),this[I+ht]=(E/At>>0)-Dt&255;return I+U},h.prototype.writeIntBE=function(E,I,U,rt){if(E=+E,I=I>>>0,!rt){const Ee=Math.pow(2,8*U-1);ut(this,E,I,U,Ee-1,-Ee)}let ht=U-1,At=1,Dt=0;for(this[I+ht]=E&255;--ht>=0&&(At*=256);)E<0&&Dt===0&&this[I+ht+1]!==0&&(Dt=1),this[I+ht]=(E/At>>0)-Dt&255;return I+U},h.prototype.writeInt8=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,1,127,-128),E<0&&(E=255+E+1),this[I]=E&255,I+1},h.prototype.writeInt16LE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,2,32767,-32768),this[I]=E&255,this[I+1]=E>>>8,I+2},h.prototype.writeInt16BE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,2,32767,-32768),this[I]=E>>>8,this[I+1]=E&255,I+2},h.prototype.writeInt32LE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,4,2147483647,-2147483648),this[I]=E&255,this[I+1]=E>>>8,this[I+2]=E>>>16,this[I+3]=E>>>24,I+4},h.prototype.writeInt32BE=function(E,I,U){return E=+E,I=I>>>0,U||ut(this,E,I,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[I]=E>>>24,this[I+1]=E>>>16,this[I+2]=E>>>8,this[I+3]=E&255,I+4},h.prototype.writeBigInt64LE=Ut(function(E,I=0){return lt(this,E,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Ut(function(E,I=0){return ft(this,E,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ct(E,I,U,rt,ht,At){if(U+rt>E.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function _t(E,I,U,rt,ht){return I=+I,U=U>>>0,ht||Ct(E,I,U,4),e.write(E,I,U,rt,23,4),U+4}h.prototype.writeFloatLE=function(E,I,U){return _t(this,E,I,!0,U)},h.prototype.writeFloatBE=function(E,I,U){return _t(this,E,I,!1,U)};function St(E,I,U,rt,ht){return I=+I,U=U>>>0,ht||Ct(E,I,U,8),e.write(E,I,U,rt,52,8),U+8}h.prototype.writeDoubleLE=function(E,I,U){return St(this,E,I,!0,U)},h.prototype.writeDoubleBE=function(E,I,U){return St(this,E,I,!1,U)},h.prototype.copy=function(E,I,U,rt){if(!h.isBuffer(E))throw new TypeError("argument should be a Buffer");if(U||(U=0),!rt&&rt!==0&&(rt=this.length),I>=E.length&&(I=E.length),I||(I=0),rt>0&&rt<U&&(rt=U),rt===U||E.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(rt<0)throw new RangeError("sourceEnd out of bounds");rt>this.length&&(rt=this.length),E.length-I<rt-U&&(rt=E.length-I+U);const ht=rt-U;return this===E&&typeof r.prototype.copyWithin=="function"?this.copyWithin(I,U,rt):r.prototype.set.call(E,this.subarray(U,rt),I),ht},h.prototype.fill=function(E,I,U,rt){if(typeof E=="string"){if(typeof I=="string"?(rt=I,I=0,U=this.length):typeof U=="string"&&(rt=U,U=this.length),rt!==void 0&&typeof rt!="string")throw new TypeError("encoding must be a string");if(typeof rt=="string"&&!h.isEncoding(rt))throw new TypeError("Unknown encoding: "+rt);if(E.length===1){const At=E.charCodeAt(0);(rt==="utf8"&&At<128||rt==="latin1")&&(E=At)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(I<0||this.length<I||this.length<U)throw new RangeError("Out of range index");if(U<=I)return this;I=I>>>0,U=U===void 0?this.length:U>>>0,E||(E=0);let ht;if(typeof E=="number")for(ht=I;ht<U;++ht)this[ht]=E;else{const At=h.isBuffer(E)?E:h.from(E,rt),Dt=At.length;if(Dt===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(ht=0;ht<U-I;++ht)this[ht+I]=At[ht%Dt]}return this};const It={};function Ft(E,I,U){It[E]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(rt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:rt,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}Ft("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ft("ERR_INVALID_ARG_TYPE",function(E,I){return`The "${E}" argument must be of type number. Received type ${typeof I}`},TypeError),Ft("ERR_OUT_OF_RANGE",function(E,I,U){let rt=`The value of "${E}" is out of range.`,ht=U;return Number.isInteger(U)&&Math.abs(U)>2**32?ht=Et(String(U)):typeof U=="bigint"&&(ht=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(ht=Et(ht)),ht+="n"),rt+=` It must be ${I}. Received ${ht}`,rt},RangeError);function Et(E){let I="",U=E.length;const rt=E[0]==="-"?1:0;for(;U>=rt+4;U-=3)I=`_${E.slice(U-3,U)}${I}`;return`${E.slice(0,U)}${I}`}function Pt(E,I,U){Rt(I,"offset"),(E[I]===void 0||E[I+U]===void 0)&&Nt(I,E.length-(U+1))}function Ot(E,I,U,rt,ht,At){if(E>U||E<I){const Dt=typeof I=="bigint"?"n":"";let Ee;throw I===0||I===BigInt(0)?Ee=`>= 0${Dt} and < 2${Dt} ** ${(At+1)*8}${Dt}`:Ee=`>= -(2${Dt} ** ${(At+1)*8-1}${Dt}) and < 2 ** ${(At+1)*8-1}${Dt}`,new It.ERR_OUT_OF_RANGE("value",Ee,E)}Pt(rt,ht,At)}function Rt(E,I){if(typeof E!="number")throw new It.ERR_INVALID_ARG_TYPE(I,"number",E)}function Nt(E,I,U){throw Math.floor(E)!==E?(Rt(E,U),new It.ERR_OUT_OF_RANGE("offset","an integer",E)):I<0?new It.ERR_BUFFER_OUT_OF_BOUNDS:new It.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,E)}const qt=/[^+/0-9A-Za-z-_]/g;function Qt(E){if(E=E.split("=")[0],E=E.trim().replace(qt,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function tt(E,I){I=I||1/0;let U;const rt=E.length;let ht=null;const At=[];for(let Dt=0;Dt<rt;++Dt){if(U=E.charCodeAt(Dt),U>55295&&U<57344){if(!ht){if(U>56319){(I-=3)>-1&&At.push(239,191,189);continue}else if(Dt+1===rt){(I-=3)>-1&&At.push(239,191,189);continue}ht=U;continue}if(U<56320){(I-=3)>-1&&At.push(239,191,189),ht=U;continue}U=(ht-55296<<10|U-56320)+65536}else ht&&(I-=3)>-1&&At.push(239,191,189);if(ht=null,U<128){if((I-=1)<0)break;At.push(U)}else if(U<2048){if((I-=2)<0)break;At.push(U>>6|192,U&63|128)}else if(U<65536){if((I-=3)<0)break;At.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((I-=4)<0)break;At.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return At}function ot(E){const I=[];for(let U=0;U<E.length;++U)I.push(E.charCodeAt(U)&255);return I}function pt(E,I){let U,rt,ht;const At=[];for(let Dt=0;Dt<E.length&&!((I-=2)<0);++Dt)U=E.charCodeAt(Dt),rt=U>>8,ht=U%256,At.push(ht),At.push(rt);return At}function Mt(E){return t.toByteArray(Qt(E))}function Lt(E,I,U,rt){let ht;for(ht=0;ht<rt&&!(ht+U>=I.length||ht>=E.length);++ht)I[ht+U]=E[ht];return ht}function bt(E,I){return E instanceof I||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===I.name}function jt(E){return E!==E}const Bt=(function(){const E="0123456789abcdef",I=new Array(256);for(let U=0;U<16;++U){const rt=U*16;for(let ht=0;ht<16;++ht)I[rt+ht]=E[U]+E[ht]}return I})();function Ut(E){return typeof BigInt>"u"?ne:E}function ne(){throw new Error("BigInt not supported")}})(Dn);const ST=Dn.Buffer,jit=Dn.Blob,Bit=Dn.BlobOptions,zit=Dn.Buffer,Uit=Dn.File,Hit=Dn.FileOptions,$it=Dn.INSPECT_MAX_BYTES,Wit=Dn.SlowBuffer,Vit=Dn.TranscodeEncoding,Git=Dn.atob,qit=Dn.btoa,Yit=Dn.constants,Xit=Dn.isAscii,Kit=Dn.isUtf8,Qit=Dn.kMaxLength,Zit=Dn.kStringMaxLength,Jit=Dn.resolveObjectURL,tst=Dn.transcode,Zdt=Object.freeze(Object.defineProperty({__proto__:null,Blob:jit,BlobOptions:Bit,Buffer:zit,File:Uit,FileOptions:Hit,INSPECT_MAX_BYTES:$it,SlowBuffer:Wit,TranscodeEncoding:Vit,atob:Git,btoa:qit,constants:Yit,default:ST,isAscii:Xit,isUtf8:Kit,kMaxLength:Qit,kStringMaxLength:Zit,resolveObjectURL:Jit,transcode:tst},Symbol.toStringTag,{value:"Module"}));var Wg={};Wg.d=(i,t)=>{for(var e in t)Wg.o(t,e)&&!Wg.o(i,e)&&Object.defineProperty(i,e,{enumerable:!0,get:t[e]})};Wg.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var se=globalThis.pdfjsLib={};Wg.d(se,{AbortException:()=>mu,AnnotationEditorLayer:()=>hat,AnnotationEditorParamsType:()=>re,AnnotationEditorType:()=>xe,AnnotationEditorUIManager:()=>Sm,AnnotationLayer:()=>aat,AnnotationMode:()=>nl,CMapCompressionType:()=>ET,ColorPicker:()=>u5,DOMSVGFactory:()=>sR,DrawLayer:()=>dat,FeatureTest:()=>os,GlobalWorkerOptions:()=>wl,ImageKind:()=>C0,InvalidPDFException:()=>UB,MissingPDFException:()=>gu,OPS:()=>sr,Outliner:()=>nk,PDFDataRangeTransport:()=>N4,PDFDateString:()=>YB,PDFWorker:()=>xb,PasswordResponses:()=>sst,PermissionFlag:()=>ist,PixelsPerInch:()=>Yd,RenderingCancelledException:()=>rR,TextLayer:()=>l1,UnexpectedResponseException:()=>S_,Util:()=>Gt,VerbosityLevel:()=>w_,XfaLayer:()=>j4,build:()=>Brt,createValidAbsoluteUrl:()=>lst,fetchData:()=>R_,getDocument:()=>krt,getFilenameFromUrl:()=>vst,getPdfFilenameFromUrl:()=>bst,getXfaPageViewport:()=>wst,isDataScheme:()=>aR,isPdfFile:()=>oR,noContextMenu:()=>as,normalizeUnicode:()=>pst,renderTextLayer:()=>brt,setLayerDimensions:()=>ru,shadow:()=>Te,updateTextLayer:()=>wrt,version:()=>jrt});const Ci=typeof oe=="object"&&oe+""=="[object process]"&&!oe.versions.nw&&!(oe.versions.electron&&oe.type&&oe.type!=="browser"),zB=[1,0,0,1,0,0],xT=[.001,0,0,.001,0,0],est=1e7,Xx=1.35,Vs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},nl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},nst="pdfjs_internal_editor_",xe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},re={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},ist={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},hi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},C0={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Mn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},pp={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},w_={ERRORS:0,WARNINGS:1,INFOS:5},ET={NONE:0,BINARY:1},sr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},sst={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let __=w_.WARNINGS;function rst(i){Number.isInteger(i)&&(__=i)}function ast(){return __}function A_(i){__>=w_.INFOS&&console.log(`Info: ${i}`)}function me(i){__>=w_.WARNINGS&&console.log(`Warning: ${i}`)}function Be(i){throw new Error(i)}function On(i,t){i||Be(t)}function ost(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lst(i,t=null,e=null){if(!i)return null;try{if(e&&typeof i=="string"){if(e.addDefaultProtocol&&i.startsWith("www.")){const s=i.match(/\./g);s?.length>=2&&(i=`http://${i}`)}if(e.tryConvertEncoding)try{i=fst(i)}catch{}}const n=t?new URL(i,t):new URL(i);if(ost(n))return n}catch{}return null}function Te(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Tl=(function(){function i(t,e){this.constructor===i&&Be("Cannot initialize BaseException."),this.message=t,this.name=e}return i.prototype=new Error,i.constructor=i,i})();class TT extends Tl{constructor(t,e){super(t,"PasswordException"),this.code=e}}class CT extends Tl{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class UB extends Tl{constructor(t){super(t,"InvalidPDFException")}}class gu extends Tl{constructor(t){super(t,"MissingPDFException")}}class S_ extends Tl{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class cst extends Tl{constructor(t){super(t,"FormatError")}}class mu extends Tl{constructor(t){super(t,"AbortException")}}function HB(i){(typeof i!="object"||i?.length===void 0)&&Be("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=i.subarray(s,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function x_(i){typeof i!="string"&&Be("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function ust(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function nR(i){const t=Object.create(null);for(const[e,n]of i)t[e]=n;return t}function hst(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function dst(){try{return new Function(""),!0}catch{return!1}}class os{static get isLittleEndian(){return Te(this,"isLittleEndian",hst())}static get isEvalSupported(){return Te(this,"isEvalSupported",dst())}static get isOffscreenCanvasSupported(){return Te(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Te(this,"platform",{isMac:navigator.platform.includes("Mac")}):Te(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,e;return Te(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Kx=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));var gp,Dv,Vw,kT;class Gt{static makeHexColor(t,e,n){return`#${Kx[t]}${Kx[e]}${Kx[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],s=t[0]*e[1]+t[1]*e[3]+e[5];return[n,s]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],s=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[s,r]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),s=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),a=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],s[0],r[0],a[0]),Math.min(n[1],s[1],r[1],a[1]),Math.max(n[0],s[0],r[0],a[0]),Math.max(n[1],s[1],r[1],a[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],s=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],a=t[2]*e[1]+t[3]*e[3],l=(n+a)/2,u=Math.sqrt((n+a)**2-4*(n*a-r*s))/2,d=l+u||1,h=l-u||1;return[Math.sqrt(d),Math.sqrt(h)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,s,a]}static bezierBoundingBox(t,e,n,s,r,a,l,u,d){return d?(d[0]=Math.min(d[0],t,l),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,l),d[3]=Math.max(d[3],e,u)):d=[Math.min(t,l),Math.min(e,u),Math.max(t,l),Math.max(e,u)],Y(this,Vw,kT).call(this,t,n,r,l,e,s,a,u,3*(-t+3*(n-r)+l),6*(t-2*n+r),3*(n-t),d),Y(this,Vw,kT).call(this,t,n,r,l,e,s,a,u,3*(-e+3*(s-a)+u),6*(e-2*s+a),3*(s-e),d),d}}gp=new WeakSet,Dv=function(i,t,e,n,s,r,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,p=u*u,m=p*u,v=h*(h*(h*i+3*u*t)+3*p*e)+m*n,_=h*(h*(h*s+3*u*r)+3*p*a)+m*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],_),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],_)},Vw=new WeakSet,kT=function(i,t,e,n,s,r,a,l,u,d,h,p){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&Y(this,gp,Dv).call(this,i,t,e,n,s,r,a,l,-h/d,p);return}const m=d**2-4*h*u;if(m<0)return;const v=Math.sqrt(m),_=2*u;Y(this,gp,Dv).call(this,i,t,e,n,s,r,a,l,(-d+v)/_,p),Y(this,gp,Dv).call(this,i,t,e,n,s,r,a,l,(-d-v)/_,p)},B(Gt,gp),B(Gt,Vw);function fst(i){return decodeURIComponent(escape(i))}let Qx=null,FN=null;function pst(i){return Qx||(Qx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,FN=new Map([["","t"]])),i.replaceAll(Qx,(t,e,n)=>e?e.normalize("NFKC"):FN.get(n))}function gst(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const i=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(i);else for(let t=0;t<32;t++)i[t]=Math.floor(Math.random()*255);return HB(i)}const $B="pdfjs_internal_id_",_a={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class E_{constructor(){this.constructor===E_&&Be("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,r){return"none"}destroy(t=!1){}}class T_{constructor(){this.constructor===T_&&Be("Cannot initialize BaseCanvasFactory.")}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Be("Abstract method `_createCanvas` called.")}}class C_{constructor({baseUrl:t=null,isCompressed:e=!0}){this.constructor===C_&&Be("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?ET.BINARY:ET.NONE;return this._fetchData(e,n).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){Be("Abstract method `_fetchData` called.")}}class k_{constructor({baseUrl:t=null}){this.constructor===k_&&Be("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){Be("Abstract method `_fetchData` called.")}}class iR{constructor(){this.constructor===iR&&Be("Cannot initialize BaseSVGFactory.")}create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Be("Abstract method `_createSVG` called.")}}const xa="http://www.w3.org/2000/svg",wh=class{};ue(wh,"CSS",96),ue(wh,"PDF",72),ue(wh,"PDF_TO_CSS_UNITS",wh.CSS/wh.PDF);let Yd=wh;var Ic,Wa,jo,ms,k0,_h,ti,di,sc,Ah,Fc,sd,Bp,R0,RT,WB,M0,MT,rc,Sh,xh,mp,Eh,zp,L0,LT,Th,Up;class mst extends E_{constructor({docId:t,ownerDocument:e=globalThis.document}={}){super(),B(this,ti),B(this,sc),B(this,Fc),B(this,Bp),B(this,RT),B(this,M0),B(this,rc),B(this,xh),B(this,Eh),B(this,L0),B(this,Th),B(this,Ic,void 0),B(this,Wa,void 0),B(this,jo,void 0),B(this,ms,void 0),B(this,k0,void 0),B(this,_h,0),X(this,jo,t),X(this,ms,e)}addFilter(t){if(!t)return"none";let e=y(this,ti,di).get(t);if(e)return e;const[n,s,r]=Y(this,Bp,R0).call(this,t),a=t.length===1?n:`${n}${s}${r}`;if(e=y(this,ti,di).get(a),e)return y(this,ti,di).set(t,e),e;const l=`g_${y(this,jo)}_transfer_map_${Xs(this,_h)._++}`,u=`url(#${l})`;y(this,ti,di).set(t,u),y(this,ti,di).set(a,u);const d=Y(this,rc,Sh).call(this,l);return Y(this,Eh,zp).call(this,n,s,r,d),u}addHCMFilter(t,e){var n;const s=`${t}-${e}`,r="base";let a=y(this,sc,Ah).get(r);if(a?.key===s||(a?((n=a.filter)==null||n.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},y(this,sc,Ah).set(r,a)),!t||!e))return a.url;const l=Y(this,Th,Up).call(this,t);t=Gt.makeHexColor(...l);const u=Y(this,Th,Up).call(this,e);if(e=Gt.makeHexColor(...u),y(this,Fc,sd).style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const d=new Array(256);for(let _=0;_<=255;_++){const w=_/255;d[_]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=d.join(","),p=`g_${y(this,jo)}_hcm_filter`,m=a.filter=Y(this,rc,Sh).call(this,p);Y(this,Eh,zp).call(this,h,h,h,m),Y(this,M0,MT).call(this,m);const v=(_,w)=>{const S=l[_]/255,x=u[_]/255,C=new Array(w+1);for(let L=0;L<=w;L++)C[L]=S+L/w*(x-S);return C.join(",")};return Y(this,Eh,zp).call(this,v(0,5),v(1,5),v(2,5),m),a.url=`url(#${p})`,a.url}addAlphaFilter(t){let e=y(this,ti,di).get(t);if(e)return e;const[n]=Y(this,Bp,R0).call(this,[t]),s=`alpha_${n}`;if(e=y(this,ti,di).get(s),e)return y(this,ti,di).set(t,e),e;const r=`g_${y(this,jo)}_alpha_map_${Xs(this,_h)._++}`,a=`url(#${r})`;y(this,ti,di).set(t,a),y(this,ti,di).set(s,a);const l=Y(this,rc,Sh).call(this,r);return Y(this,L0,LT).call(this,n,l),a}addLuminosityFilter(t){let e=y(this,ti,di).get(t||"luminosity");if(e)return e;let n,s;if(t?([n]=Y(this,Bp,R0).call(this,[t]),s=`luminosity_${n}`):s="luminosity",e=y(this,ti,di).get(s),e)return y(this,ti,di).set(t,e),e;const r=`g_${y(this,jo)}_luminosity_map_${Xs(this,_h)._++}`,a=`url(#${r})`;y(this,ti,di).set(t,a),y(this,ti,di).set(s,a);const l=Y(this,rc,Sh).call(this,r);return Y(this,RT,WB).call(this,l),t&&Y(this,L0,LT).call(this,n,l),a}addHighlightHCMFilter(t,e,n,s,r){var a;const l=`${e}-${n}-${s}-${r}`;let u=y(this,sc,Ah).get(t);if(u?.key===l||(u?((a=u.filter)==null||a.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},y(this,sc,Ah).set(t,u)),!e||!n))return u.url;const[d,h]=[e,n].map(Y(this,Th,Up).bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[v,_]=[s,r].map(Y(this,Th,Up).bind(this));m<p&&([p,m,v,_]=[m,p,_,v]),y(this,Fc,sd).style.color="";const w=(C,L,j)=>{const R=new Array(256),D=(m-p)/j,P=C/255,M=(L-C)/(255*j);let O=0;for(let N=0;N<=j;N++){const H=Math.round(p+N*D),Q=P+N*M;for(let G=O;G<=H;G++)R[G]=Q;O=H+1}for(let N=O;N<256;N++)R[N]=R[O-1];return R.join(",")},S=`g_${y(this,jo)}_hcm_${t}_filter`,x=u.filter=Y(this,rc,Sh).call(this,S);return Y(this,M0,MT).call(this,x),Y(this,Eh,zp).call(this,w(v[0],_[0],5),w(v[1],_[1],5),w(v[2],_[2],5),x),u.url=`url(#${S})`,u.url}destroy(t=!1){t&&y(this,sc,Ah).size!==0||(y(this,Wa)&&(y(this,Wa).parentNode.parentNode.remove(),X(this,Wa,null)),y(this,Ic)&&(y(this,Ic).clear(),X(this,Ic,null)),X(this,_h,0))}}Ic=new WeakMap,Wa=new WeakMap,jo=new WeakMap,ms=new WeakMap,k0=new WeakMap,_h=new WeakMap,ti=new WeakSet,di=function(){return y(this,Ic)||X(this,Ic,new Map)},sc=new WeakSet,Ah=function(){return y(this,k0)||X(this,k0,new Map)},Fc=new WeakSet,sd=function(){if(!y(this,Wa)){const i=y(this,ms).createElement("div"),{style:t}=i;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const e=y(this,ms).createElementNS(xa,"svg");e.setAttribute("width",0),e.setAttribute("height",0),X(this,Wa,y(this,ms).createElementNS(xa,"defs")),i.append(e),e.append(y(this,Wa)),y(this,ms).body.append(i)}return y(this,Wa)},Bp=new WeakSet,R0=function(i){if(i.length===1){const l=i[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=l[h]/255;const d=u.join(",");return[d,d,d]}const[t,e,n]=i,s=new Array(256),r=new Array(256),a=new Array(256);for(let l=0;l<256;l++)s[l]=t[l]/255,r[l]=e[l]/255,a[l]=n[l]/255;return[s.join(","),r.join(","),a.join(",")]},RT=new WeakSet,WB=function(i){const t=y(this,ms).createElementNS(xa,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(t)},M0=new WeakSet,MT=function(i){const t=y(this,ms).createElementNS(xa,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(t)},rc=new WeakSet,Sh=function(i){const t=y(this,ms).createElementNS(xa,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",i),y(this,Fc,sd).append(t),t},xh=new WeakSet,mp=function(i,t,e){const n=y(this,ms).createElementNS(xa,t);n.setAttribute("type","discrete"),n.setAttribute("tableValues",e),i.append(n)},Eh=new WeakSet,zp=function(i,t,e,n){const s=y(this,ms).createElementNS(xa,"feComponentTransfer");n.append(s),Y(this,xh,mp).call(this,s,"feFuncR",i),Y(this,xh,mp).call(this,s,"feFuncG",t),Y(this,xh,mp).call(this,s,"feFuncB",e)},L0=new WeakSet,LT=function(i,t){const e=y(this,ms).createElementNS(xa,"feComponentTransfer");t.append(e),Y(this,xh,mp).call(this,e,"feFuncA",i)},Th=new WeakSet,Up=function(i){return y(this,Fc,sd).style.color=i,lR(getComputedStyle(y(this,Fc,sd)).getPropertyValue("color"))};class yst extends T_{constructor({ownerDocument:t=globalThis.document}={}){super(),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function R_(i,t="text"){if(Hp(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class VB extends C_{_fetchData(t,e){return R_(t,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):x_(n),compressionType:e}))}}class GB extends k_{_fetchData(t){return R_(t,"arraybuffer").then(e=>new Uint8Array(e))}}class sR extends iR{_createSVG(t){return document.createElementNS(xa,t)}}class Vm{constructor({viewBox:t,scale:e,rotation:n,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=s,this.offsetY=r;const l=(t[2]+t[0])/2,u=(t[3]+t[1])/2;let d,h,p,m;switch(n%=360,n<0&&(n+=360),n){case 180:d=-1,h=0,p=0,m=1;break;case 90:d=0,h=1,p=1,m=0;break;case 270:d=0,h=-1,p=-1,m=0;break;case 0:d=1,h=0,p=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(p=-p,m=-m);let v,_,w,S;d===0?(v=Math.abs(u-t[1])*e+s,_=Math.abs(l-t[0])*e+r,w=(t[3]-t[1])*e,S=(t[2]-t[0])*e):(v=Math.abs(l-t[0])*e+s,_=Math.abs(u-t[1])*e+r,w=(t[2]-t[0])*e,S=(t[3]-t[1])*e),this.transform=[d*e,h*e,p*e,m*e,v-d*e*l-p*e*u,_-h*e*l-m*e*u],this.width=w,this.height=S}get rawDims(){const{viewBox:t}=this;return Te(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new Vm({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){return Gt.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=Gt.applyTransform([t[0],t[1]],this.transform),n=Gt.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return Gt.applyInverseTransform([t,e],this.transform)}}class rR extends Tl{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function aR(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function oR(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function vst(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function bst(i,t="document.pdf"){if(typeof i!="string")return t;if(aR(i))return me('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=e.exec(i);let r=n.exec(s[1])||n.exec(s[2])||n.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=n.exec(decodeURIComponent(r))[0]}catch{}return r||t}class jN{constructor(){ue(this,"started",Object.create(null)),ue(this,"times",[])}time(t){t in this.started&&me(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||me(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-s}ms
`);return t.join("")}}function Hp(i,t){try{const{protocol:e}=t?new URL(i,t):new URL(i);return e==="http:"||e==="https:"}catch{return!1}}function as(i){i.preventDefault()}function qB(i){console.log("Deprecated API usage: "+i)}let Zx;class YB{static toDateObject(t){if(!t||typeof t!="string")return null;Zx||(Zx=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=Zx.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(e[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=h,l+=p):d==="+"&&(a-=h,l-=p),new Date(Date.UTC(n,s,r,a,l,u))}}function wst(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,r=[0,0,parseInt(n),parseInt(s)];return new Vm({viewBox:r,scale:t,rotation:e})}function lR(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(me(`Not a valid color format: "${i}"`),[0,0,0])}function _st(i){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,lR(n))}t.remove()}function sn(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform();return[t,e,n,s,r,a]}function Aa(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform().invertSelf();return[t,e,n,s,r,a]}function ru(i,t,e=!1,n=!0){if(t instanceof Vm){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=i,l=os.isCSSRoundSupported,u=`var(--scale-factor) * ${s}px`,d=`var(--scale-factor) * ${r}px`,h=l?`round(${u}, 1px)`:`calc(${u})`,p=l?`round(${d}, 1px)`:`calc(${d})`;!e||t.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}n&&i.setAttribute("data-main-rotation",t.rotation)}var Ch,kh,Va,rd,OT,XB,PT,BN,DT,zN,Vg,Gw,NT,KB,O0,IT;const QB=class ZB{constructor(t){B(this,PT),B(this,DT),B(this,Vg),B(this,NT),B(this,O0),B(this,Ch,null),B(this,kh,null),B(this,Va,void 0),B(this,rd,null),X(this,Va,t)}render(){const t=X(this,Ch,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",as),t.addEventListener("pointerdown",Y(ZB,OT,XB));const e=X(this,rd,document.createElement("div"));e.className="buttons",t.append(e);const n=y(this,Va).toolbarPosition;if(n){const{style:s}=t,r=y(this,Va)._uiManager.direction==="ltr"?1-n[0]:n[0];s.insetInlineEnd=`${100*r}%`,s.top=`calc(${100*n[1]}% + var(--editor-toolbar-vert-offset))`}return Y(this,NT,KB).call(this),t}hide(){var t;y(this,Ch).classList.add("hidden"),(t=y(this,kh))==null||t.hideDropdown()}show(){y(this,Ch).classList.remove("hidden")}addAltTextButton(t){Y(this,Vg,Gw).call(this,t),y(this,rd).prepend(t,y(this,O0,IT))}addColorPicker(t){X(this,kh,t);const e=t.renderButton();Y(this,Vg,Gw).call(this,e),y(this,rd).prepend(e,y(this,O0,IT))}remove(){var t;y(this,Ch).remove(),(t=y(this,kh))==null||t.destroy(),X(this,kh,null)}};Ch=new WeakMap,kh=new WeakMap,Va=new WeakMap,rd=new WeakMap,OT=new WeakSet,XB=function(i){i.stopPropagation()},PT=new WeakSet,BN=function(i){y(this,Va)._focusEventsAllowed=!1,i.preventDefault(),i.stopPropagation()},DT=new WeakSet,zN=function(i){y(this,Va)._focusEventsAllowed=!0,i.preventDefault(),i.stopPropagation()},Vg=new WeakSet,Gw=function(i){i.addEventListener("focusin",Y(this,PT,BN).bind(this),{capture:!0}),i.addEventListener("focusout",Y(this,DT,zN).bind(this),{capture:!0}),i.addEventListener("contextmenu",as)},NT=new WeakSet,KB=function(){const i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",`pdfjs-editor-remove-${y(this,Va).editorType}-button`),Y(this,Vg,Gw).call(this,i),i.addEventListener("click",t=>{y(this,Va)._uiManager.delete()}),y(this,rd).append(i)},O0=new WeakSet,IT=function(){const i=document.createElement("div");return i.className="divider",i},B(QB,OT);let Ast=QB;var P0,Ac,qw,FT,JB,jT,t4,BT,UN;class Sst{constructor(t){B(this,FT),B(this,jT),B(this,BT),B(this,P0,null),B(this,Ac,null),B(this,qw,void 0),X(this,qw,t)}show(t,e,n){const[s,r]=Y(this,jT,t4).call(this,e,n),{style:a}=y(this,Ac)||X(this,Ac,Y(this,FT,JB).call(this));t.append(y(this,Ac)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){y(this,Ac).remove()}}P0=new WeakMap,Ac=new WeakMap,qw=new WeakMap,FT=new WeakSet,JB=function(){const i=X(this,Ac,document.createElement("div"));i.className="editToolbar",i.setAttribute("role","toolbar"),i.addEventListener("contextmenu",as);const t=X(this,P0,document.createElement("div"));return t.className="buttons",i.append(t),Y(this,BT,UN).call(this),i},jT=new WeakSet,t4=function(i,t){let e=0,n=0;for(const s of i){const r=s.y+s.height;if(r<e)continue;const a=s.x+(t?s.width:0);if(r>e){n=a,e=r;continue}t?a>n&&(n=a):a<n&&(n=a)}return[t?1-n:n,e]},BT=new WeakSet,UN=function(){const i=document.createElement("button");i.className="highlightButton",i.tabIndex=0,i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");i.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),i.addEventListener("contextmenu",as),i.addEventListener("click",()=>{y(this,qw).highlightSelection("floating_button")}),y(this,P0).append(i)};function Yw(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}function xst(i){return Math.round(Math.min(255,Math.max(1,255*i))).toString(16).padStart(2,"0")}var zT;class Est{constructor(){B(this,zT,0)}get id(){return`${nst}${Xs(this,zT)._++}`}}zT=new WeakMap;var Xw,UT,ns,D0,HT;const e4=class{constructor(){B(this,D0),B(this,Xw,gst()),B(this,UT,0),B(this,ns,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',e=new OffscreenCanvas(1,3).getContext("2d"),n=new Image;n.src=t;const s=n.decode().then(()=>(e.drawImage(n,0,0,1,1,0,0,1,3),new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]===0));return Te(this,"_isSVGFittingCanvas",s)}async getFromFile(t){const{lastModified:e,name:n,size:s,type:r}=t;return Y(this,D0,HT).call(this,`${e}_${n}_${s}_${r}`,t)}async getFromUrl(t){return Y(this,D0,HT).call(this,t,t)}async getFromId(t){y(this,ns)||X(this,ns,new Map);const e=y(this,ns).get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=y(this,ns).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){y(this,ns)||X(this,ns,new Map);const e=y(this,ns).get(t);e&&(e.refCounter-=1,e.refCounter===0&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${y(this,Xw)}_`)}};Xw=new WeakMap,UT=new WeakMap,ns=new WeakMap,D0=new WeakSet,HT=async function(i,t){y(this,ns)||X(this,ns,new Map);let e=y(this,ns).get(i);if(e===null)return null;if(e!=null&&e.bitmap)return e.refCounter+=1,e;try{e||(e={bitmap:null,id:`image_${y(this,Xw)}_${Xs(this,UT)._++}`,refCounter:0,isSvg:!1});let n;if(typeof t=="string"?(e.url=t,n=await R_(t,"blob")):n=e.file=t,n.type==="image/svg+xml"){const s=e4._isSVGFittingCanvas,r=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{e.bitmap=a,e.isSvg=!0,u()},r.onload=async()=>{const h=e.svgUrl=r.result;a.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=r.onerror=d});r.readAsDataURL(n),await l}else e.bitmap=await createImageBitmap(n);e.refCounter=1}catch(n){console.error(n),e=null}return y(this,ns).set(i,e),e&&y(this,ns).set(e.id,e),e};let Tst=e4;var ei,ac,N0,Ln;class Cst{constructor(t=128){B(this,ei,[]),B(this,ac,!1),B(this,N0,void 0),B(this,Ln,-1),X(this,N0,t)}add({cmd:t,undo:e,post:n,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:l=!1}){if(s&&t(),y(this,ac))return;const u={cmd:t,undo:e,post:n,type:r};if(y(this,Ln)===-1){y(this,ei).length>0&&(y(this,ei).length=0),X(this,Ln,0),y(this,ei).push(u);return}if(a&&y(this,ei)[y(this,Ln)].type===r){l&&(u.undo=y(this,ei)[y(this,Ln)].undo),y(this,ei)[y(this,Ln)]=u;return}const d=y(this,Ln)+1;d===y(this,N0)?y(this,ei).splice(0,1):(X(this,Ln,d),d<y(this,ei).length&&y(this,ei).splice(d)),y(this,ei).push(u)}undo(){if(y(this,Ln)===-1)return;X(this,ac,!0);const{undo:t,post:e}=y(this,ei)[y(this,Ln)];t(),e?.(),X(this,ac,!1),X(this,Ln,y(this,Ln)-1)}redo(){if(y(this,Ln)<y(this,ei).length-1){X(this,Ln,y(this,Ln)+1),X(this,ac,!0);const{cmd:t,post:e}=y(this,ei)[y(this,Ln)];t(),e?.(),X(this,ac,!1)}}hasSomethingToUndo(){return y(this,Ln)!==-1}hasSomethingToRedo(){return y(this,Ln)<y(this,ei).length-1}destroy(){X(this,ei,null)}}ei=new WeakMap,ac=new WeakMap,N0=new WeakMap,Ln=new WeakMap;var $T,n4;class Gm{constructor(t){B(this,$T),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=os.platform;for(const[n,s,r={}]of t)for(const a of n){const l=a.startsWith("mac+");e&&l?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!l&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(Y(this,$T,n4).call(this,e));if(!n)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:l=null}}=n;l&&!l(t,e)||(s.bind(t,...a,e)(),r||(e.stopPropagation(),e.preventDefault()))}}$T=new WeakSet,n4=function(i){i.altKey&&this.buffer.push("alt"),i.ctrlKey&&this.buffer.push("ctrl"),i.metaKey&&this.buffer.push("meta"),i.shiftKey&&this.buffer.push("shift"),this.buffer.push(i.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const i4=class s4{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return _st(t),Te(this,"_colors",t)}convert(t){const e=lR(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((r,a)=>r===e[a]))return s4._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?Gt.makeHexColor(...e):t}};ue(i4,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let kst=i4;var Bs,Wn,mi,$p,Bo,Rh,Or,Wp,Mh,Ea,zo,Lh,Kw,I0,Ta,Vp,Sc,Vr,WT,xc,F0,Oh,j0,Gp,wi,je,Uo,Ph,qp,B0,z0,U0,H0,$0,W0,V0,G0,q0,Y0,X0,K0,Q0,oc,Ca,Ho,Z0,Gg,J0,VT,HN,GT,r4,qg,Qw,qT,a4,YT,o4,XT,l4,tb,KT,eb,QT,nb,ZT,ib,JT,sb,tC,vi,Li,ja,Qo,eC,c4,nC,u4,rb,iC,sC,h4,Dh,Yp,ab,rC;const aC=class oC{constructor(t,e,n,s,r,a,l,u,d){B(this,Gg),B(this,VT),B(this,GT),B(this,qg),B(this,qT),B(this,YT),B(this,XT),B(this,tb),B(this,eb),B(this,nb),B(this,ib),B(this,sb),B(this,vi),B(this,ja),B(this,eC),B(this,nC),B(this,rb),B(this,sC),B(this,Dh),B(this,ab),B(this,Bs,null),B(this,Wn,new Map),B(this,mi,new Map),B(this,$p,null),B(this,Bo,null),B(this,Rh,null),B(this,Or,new Cst),B(this,Wp,0),B(this,Mh,new Set),B(this,Ea,null),B(this,zo,null),B(this,Lh,new Set),B(this,Kw,!1),B(this,I0,null),B(this,Ta,null),B(this,Vp,null),B(this,Sc,!1),B(this,Vr,null),B(this,WT,new Est),B(this,xc,!1),B(this,F0,!1),B(this,Oh,null),B(this,j0,null),B(this,Gp,null),B(this,wi,xe.NONE),B(this,je,new Set),B(this,Uo,null),B(this,Ph,null),B(this,qp,null),B(this,B0,this.blur.bind(this)),B(this,z0,this.focus.bind(this)),B(this,U0,this.copy.bind(this)),B(this,H0,this.cut.bind(this)),B(this,$0,this.paste.bind(this)),B(this,W0,this.keydown.bind(this)),B(this,V0,this.keyup.bind(this)),B(this,G0,this.onEditingAction.bind(this)),B(this,q0,this.onPageChanging.bind(this)),B(this,Y0,this.onScaleChanging.bind(this)),B(this,X0,Y(this,GT,r4).bind(this)),B(this,K0,this.onRotationChanging.bind(this)),B(this,Q0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),B(this,oc,[0,0]),B(this,Ca,null),B(this,Ho,null),B(this,Z0,null),X(this,Ho,t),X(this,Z0,e),X(this,$p,n),this._eventBus=s,this._eventBus._on("editingaction",y(this,G0)),this._eventBus._on("pagechanging",y(this,q0)),this._eventBus._on("scalechanging",y(this,Y0)),this._eventBus._on("rotationchanging",y(this,K0)),Y(this,qT,a4).call(this),Y(this,eb,QT).call(this),X(this,Bo,r.annotationStorage),X(this,I0,r.filterFactory),X(this,Ph,a),X(this,Vp,l||null),X(this,Kw,u),X(this,Gp,d||null),this.viewParameters={realScale:Yd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=oC.prototype,e=a=>y(a,Ho).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Te(this,"_keyboardManager",new Gm([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&y(a,Ho).contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&y(a,Ho).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e;Y(this,nb,ZT).call(this),Y(this,tb,KT).call(this),this._eventBus._off("editingaction",y(this,G0)),this._eventBus._off("pagechanging",y(this,q0)),this._eventBus._off("scalechanging",y(this,Y0)),this._eventBus._off("rotationchanging",y(this,K0));for(const n of y(this,mi).values())n.destroy();y(this,mi).clear(),y(this,Wn).clear(),y(this,Lh).clear(),X(this,Bs,null),y(this,je).clear(),y(this,Or).destroy(),(t=y(this,$p))==null||t.destroy(),(e=y(this,Vr))==null||e.hide(),X(this,Vr,null),y(this,Ta)&&(clearTimeout(y(this,Ta)),X(this,Ta,null)),y(this,Ca)&&(clearTimeout(y(this,Ca)),X(this,Ca,null)),Y(this,YT,o4).call(this)}async mlGuess(t){var e;return((e=y(this,Gp))==null?void 0:e.guess(t))||null}get hasMLManager(){return!!y(this,Gp)}get hcmFilter(){return Te(this,"hcmFilter",y(this,Ph)?y(this,I0).addHCMFilter(y(this,Ph).foreground,y(this,Ph).background):"none")}get direction(){return Te(this,"direction",getComputedStyle(y(this,Ho)).direction)}get highlightColors(){return Te(this,"highlightColors",y(this,Vp)?new Map(y(this,Vp).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Te(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){X(this,j0,t)}editAltText(t){var e;(e=y(this,$p))==null||e.editAltText(this,t)}onPageChanging({pageNumber:t}){X(this,Wp,t-1)}focusMainContainer(){y(this,Ho).focus()}findParent(t,e){for(const n of y(this,mi).values()){const{x:s,y:r,width:a,height:l}=n.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+l)return n}return null}disableUserSelect(t=!1){y(this,Z0).classList.toggle("noUserSelect",t)}addShouldRescale(t){y(this,Lh).add(t)}removeShouldRescale(t){y(this,Lh).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*Yd.PDF_TO_CSS_UNITS;for(const e of y(this,Lh))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a}=e,l=e.toString(),u=Y(this,Gg,J0).call(this,e).closest(".textLayer"),d=this.getSelectionBoxes(u);if(d){e.empty(),y(this,wi)===xe.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:xe.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const h of y(this,mi).values())if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:d,anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a,text:l});break}}}addToAnnotationStorage(t){!t.isEmpty()&&y(this,Bo)&&!y(this,Bo).has(t.id)&&y(this,Bo).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,y(this,Sc)&&(X(this,Sc,!1),Y(this,qg,Qw).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of y(this,je))if(e.div.contains(t)){X(this,Oh,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!y(this,Oh))return;const[t,e]=y(this,Oh);X(this,Oh,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0}),e.focus()}addEditListeners(){Y(this,eb,QT).call(this),Y(this,ib,JT).call(this)}removeEditListeners(){Y(this,nb,ZT).call(this),Y(this,sb,tC).call(this)}copy(t){var e;if(t.preventDefault(),(e=y(this,Bs))==null||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const s of y(this,je)){const r=s.serialize(!0);r&&n.push(r)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of y(this,zo))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){me(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const u of n){const d=s.deserialize(u);if(!d)return;r.push(d)}const a=()=>{for(const u of r)Y(this,rb,iC).call(this,u);Y(this,ab,rC).call(this,r)},l=()=>{for(const u of r)u.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(r){me(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),y(this,wi)!==xe.NONE&&!this.isEditorHandlingKeyboard&&oC._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,y(this,Sc)&&(X(this,Sc,!1),Y(this,qg,Qw).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(Y(this,XT,l4).call(this),Y(this,ib,JT).call(this),Y(this,vi,Li).call(this,{isEditing:y(this,wi)!==xe.NONE,isEmpty:Y(this,Dh,Yp).call(this),hasSomethingToUndo:y(this,Or).hasSomethingToUndo(),hasSomethingToRedo:y(this,Or).hasSomethingToRedo(),hasSelectedEditor:!1})):(Y(this,tb,KT).call(this),Y(this,sb,tC).call(this),Y(this,vi,Li).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!y(this,zo)){X(this,zo,t);for(const e of y(this,zo))Y(this,ja,Qo).call(this,e.defaultPropertiesToUpdate)}}getId(){return y(this,WT).id}get currentLayer(){return y(this,mi).get(y(this,Wp))}getLayer(t){return y(this,mi).get(t)}get currentPageIndex(){return y(this,Wp)}addLayer(t){y(this,mi).set(t.pageIndex,t),y(this,xc)?t.enable():t.disable()}removeLayer(t){y(this,mi).delete(t.pageIndex)}updateMode(t,e=null,n=!1){if(y(this,wi)!==t){if(X(this,wi,t),t===xe.NONE){this.setEditingState(!1),Y(this,nC,u4).call(this);return}this.setEditingState(!0),Y(this,eC,c4).call(this),this.unselectAll();for(const s of y(this,mi).values())s.updateMode(t);if(!e&&n){this.addNewEditorFromKeyboard();return}if(e){for(const s of y(this,Wn).values())if(s.annotationElementId===e){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==y(this,wi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(y(this,zo)){switch(t){case re.CREATE:this.currentLayer.addNewEditor();return;case re.HIGHLIGHT_DEFAULT_COLOR:(n=y(this,j0))==null||n.updateColor(e);break;case re.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(y(this,qp)||X(this,qp,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const s of y(this,je))s.updateParams(t,e);for(const s of y(this,zo))s.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var s;for(const r of y(this,Wn).values())r.editorType===t&&r.show(e);(((s=y(this,qp))==null?void 0:s.get(re.HIGHLIGHT_SHOW_ALL))??!0)!==e&&Y(this,ja,Qo).call(this,[[re.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(y(this,F0)!==t){X(this,F0,t);for(const e of y(this,mi).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of y(this,Wn).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return y(this,Wn).get(t)}addEditor(t){y(this,Wn).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(y(this,Ta)&&clearTimeout(y(this,Ta)),X(this,Ta,setTimeout(()=>{this.focusMainContainer(),X(this,Ta,null)},0))),y(this,Wn).delete(t.id),this.unselect(t),(!t.annotationElementId||!y(this,Mh).has(t.annotationElementId))&&((e=y(this,Bo))==null||e.remove(t.id))}addDeletedAnnotationElement(t){y(this,Mh).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return y(this,Mh).has(t)}removeDeletedAnnotationElement(t){y(this,Mh).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){y(this,Bs)!==t&&(X(this,Bs,t),t&&Y(this,ja,Qo).call(this,t.propertiesToUpdate))}updateUI(t){y(this,sC,h4)===t&&Y(this,ja,Qo).call(this,t.propertiesToUpdate)}toggleSelected(t){if(y(this,je).has(t)){y(this,je).delete(t),t.unselect(),Y(this,vi,Li).call(this,{hasSelectedEditor:this.hasSelection});return}y(this,je).add(t),t.select(),Y(this,ja,Qo).call(this,t.propertiesToUpdate),Y(this,vi,Li).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of y(this,je))e!==t&&e.unselect();y(this,je).clear(),y(this,je).add(t),t.select(),Y(this,ja,Qo).call(this,t.propertiesToUpdate),Y(this,vi,Li).call(this,{hasSelectedEditor:!0})}isSelected(t){return y(this,je).has(t)}get firstSelectedEditor(){return y(this,je).values().next().value}unselect(t){t.unselect(),y(this,je).delete(t),Y(this,vi,Li).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return y(this,je).size!==0}get isEnterHandled(){return y(this,je).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){y(this,Or).undo(),Y(this,vi,Li).call(this,{hasSomethingToUndo:y(this,Or).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Y(this,Dh,Yp).call(this)})}redo(){y(this,Or).redo(),Y(this,vi,Li).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:y(this,Or).hasSomethingToRedo(),isEmpty:Y(this,Dh,Yp).call(this)})}addCommands(t){y(this,Or).add(t),Y(this,vi,Li).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Y(this,Dh,Yp).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...y(this,je)],e=()=>{for(const s of t)s.remove()},n=()=>{for(const s of t)Y(this,rb,iC).call(this,s)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=y(this,Bs))==null||t.commitOrRemove()}hasSomethingToControl(){return y(this,Bs)||this.hasSelection}selectAll(){for(const t of y(this,je))t.commit();Y(this,ab,rC).call(this,y(this,Wn).values())}unselectAll(){if(!(y(this,Bs)&&(y(this,Bs).commitOrRemove(),y(this,wi)!==xe.NONE))&&this.hasSelection){for(const t of y(this,je))t.unselect();y(this,je).clear(),Y(this,vi,Li).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;y(this,oc)[0]+=t,y(this,oc)[1]+=e;const[s,r]=y(this,oc),a=[...y(this,je)];y(this,Ca)&&clearTimeout(y(this,Ca)),X(this,Ca,setTimeout(()=>{X(this,Ca,null),y(this,oc)[0]=y(this,oc)[1]=0,this.addCommands({cmd:()=>{for(const u of a)y(this,Wn).has(u.id)&&u.translateInPage(s,r)},undo:()=>{for(const u of a)y(this,Wn).has(u.id)&&u.translateInPage(-s,-r)},mustExec:!1})},1e3));for(const u of a)u.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),X(this,Ea,new Map);for(const t of y(this,je))y(this,Ea).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!y(this,Ea))return!1;this.disableUserSelect(!1);const t=y(this,Ea);X(this,Ea,null);let e=!1;for(const[{x:s,y:r,pageIndex:a},l]of t)l.newX=s,l.newY=r,l.newPageIndex=a,e||(e=s!==l.savedX||r!==l.savedY||a!==l.savedPageIndex);if(!e)return!1;const n=(s,r,a,l)=>{if(y(this,Wn).has(s.id)){const u=y(this,mi).get(l);u?s._setParentAndPosition(u,r,a):(s.pageIndex=l,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:l}]of t)n(s,r,a,l)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:l}]of t)n(s,r,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(y(this,Ea))for(const n of y(this,Ea).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||y(this,je).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return y(this,Bs)===t}getActive(){return y(this,Bs)}getMode(){return y(this,wi)}get imageManager(){return Te(this,"imageManager",new Tst)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,h=e.rangeCount;d<h;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:r,height:a}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(d,h,p,m)=>({x:(h-s)/a,y:1-(d+p-n)/r,width:m/a,height:p/r});break;case"180":l=(d,h,p,m)=>({x:1-(d+p-n)/r,y:1-(h+m-s)/a,width:p/r,height:m/a});break;case"270":l=(d,h,p,m)=>({x:1-(h+m-s)/a,y:(d-n)/r,width:m/a,height:p/r});break;default:l=(d,h,p,m)=>({x:(d-n)/r,y:(h-s)/a,width:p/r,height:m/a});break}const u=[];for(let d=0,h=e.rangeCount;d<h;d++){const p=e.getRangeAt(d);if(!p.collapsed)for(const{x:m,y:v,width:_,height:w}of p.getClientRects())_===0||w===0||u.push(l(m,v,_,w))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(y(this,Rh)||X(this,Rh,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=y(this,Rh))==null||e.delete(t)}renderAnnotationElement(t){var e;const n=(e=y(this,Rh))==null?void 0:e.get(t.data.id);if(!n)return;const s=y(this,Bo).getRawValue(n);s&&(y(this,wi)===xe.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};Bs=new WeakMap,Wn=new WeakMap,mi=new WeakMap,$p=new WeakMap,Bo=new WeakMap,Rh=new WeakMap,Or=new WeakMap,Wp=new WeakMap,Mh=new WeakMap,Ea=new WeakMap,zo=new WeakMap,Lh=new WeakMap,Kw=new WeakMap,I0=new WeakMap,Ta=new WeakMap,Vp=new WeakMap,Sc=new WeakMap,Vr=new WeakMap,WT=new WeakMap,xc=new WeakMap,F0=new WeakMap,Oh=new WeakMap,j0=new WeakMap,Gp=new WeakMap,wi=new WeakMap,je=new WeakMap,Uo=new WeakMap,Ph=new WeakMap,qp=new WeakMap,B0=new WeakMap,z0=new WeakMap,U0=new WeakMap,H0=new WeakMap,$0=new WeakMap,W0=new WeakMap,V0=new WeakMap,G0=new WeakMap,q0=new WeakMap,Y0=new WeakMap,X0=new WeakMap,K0=new WeakMap,Q0=new WeakMap,oc=new WeakMap,Ca=new WeakMap,Ho=new WeakMap,Z0=new WeakMap,Gg=new WeakSet,J0=function({anchorNode:i}){return i.nodeType===Node.TEXT_NODE?i.parentElement:i},VT=new WeakSet,HN=function(){const i=document.getSelection();if(!i||i.isCollapsed)return;const t=Y(this,Gg,J0).call(this,i).closest(".textLayer"),e=this.getSelectionBoxes(t);e&&(y(this,Vr)||X(this,Vr,new Sst(this)),y(this,Vr).show(t,e,this.direction==="ltr"))},GT=new WeakSet,r4=function(){var i,t,e;const n=document.getSelection();if(!n||n.isCollapsed){y(this,Uo)&&((i=y(this,Vr))==null||i.hide(),X(this,Uo,null),Y(this,vi,Li).call(this,{hasSelectedText:!1}));return}const{anchorNode:s}=n;if(s!==y(this,Uo)){if(!Y(this,Gg,J0).call(this,n).closest(".textLayer")){y(this,Uo)&&((t=y(this,Vr))==null||t.hide(),X(this,Uo,null),Y(this,vi,Li).call(this,{hasSelectedText:!1}));return}if((e=y(this,Vr))==null||e.hide(),X(this,Uo,s),Y(this,vi,Li).call(this,{hasSelectedText:!0}),!(y(this,wi)!==xe.HIGHLIGHT&&y(this,wi)!==xe.NONE)&&(y(this,wi)===xe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),X(this,Sc,this.isShiftKeyDown),!this.isShiftKeyDown)){const r=a=>{a.type==="pointerup"&&a.button!==0||(window.removeEventListener("pointerup",r),window.removeEventListener("blur",r),a.type==="pointerup"&&Y(this,qg,Qw).call(this,"main_toolbar"))};window.addEventListener("pointerup",r),window.addEventListener("blur",r)}}},qg=new WeakSet,Qw=function(i=""){y(this,wi)===xe.HIGHLIGHT?this.highlightSelection(i):y(this,Kw)&&Y(this,VT,HN).call(this)},qT=new WeakSet,a4=function(){document.addEventListener("selectionchange",y(this,X0))},YT=new WeakSet,o4=function(){document.removeEventListener("selectionchange",y(this,X0))},XT=new WeakSet,l4=function(){window.addEventListener("focus",y(this,z0)),window.addEventListener("blur",y(this,B0))},tb=new WeakSet,KT=function(){window.removeEventListener("focus",y(this,z0)),window.removeEventListener("blur",y(this,B0))},eb=new WeakSet,QT=function(){window.addEventListener("keydown",y(this,W0)),window.addEventListener("keyup",y(this,V0))},nb=new WeakSet,ZT=function(){window.removeEventListener("keydown",y(this,W0)),window.removeEventListener("keyup",y(this,V0))},ib=new WeakSet,JT=function(){document.addEventListener("copy",y(this,U0)),document.addEventListener("cut",y(this,H0)),document.addEventListener("paste",y(this,$0))},sb=new WeakSet,tC=function(){document.removeEventListener("copy",y(this,U0)),document.removeEventListener("cut",y(this,H0)),document.removeEventListener("paste",y(this,$0))},vi=new WeakSet,Li=function(i){Object.entries(i).some(([t,e])=>y(this,Q0)[t]!==e)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(y(this,Q0),i)}),y(this,wi)===xe.HIGHLIGHT&&i.hasSelectedEditor===!1&&Y(this,ja,Qo).call(this,[[re.HIGHLIGHT_FREE,!0]]))},ja=new WeakSet,Qo=function(i){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:i})},eC=new WeakSet,c4=function(){if(!y(this,xc)){X(this,xc,!0);for(const i of y(this,mi).values())i.enable();for(const i of y(this,Wn).values())i.enable()}},nC=new WeakSet,u4=function(){if(this.unselectAll(),y(this,xc)){X(this,xc,!1);for(const i of y(this,mi).values())i.disable();for(const i of y(this,Wn).values())i.disable()}},rb=new WeakSet,iC=function(i){const t=y(this,mi).get(i.pageIndex);t?t.addOrRebuild(i):(this.addEditor(i),this.addToAnnotationStorage(i))},sC=new WeakSet,h4=function(){let i=null;for(i of y(this,je));return i},Dh=new WeakSet,Yp=function(){if(y(this,Wn).size===0)return!0;if(y(this,Wn).size===1)for(const i of y(this,Wn).values())return i.isEmpty();return!1},ab=new WeakSet,rC=function(i){for(const t of y(this,je))t.unselect();y(this,je).clear();for(const t of i)t.isEmpty()||(y(this,je).add(t),t.select());Y(this,vi,Li).call(this,{hasSelectedEditor:this.hasSelection})},ue(aC,"TRANSLATE_SMALL",1),ue(aC,"TRANSLATE_BIG",10);let Sm=aC;var il,sl,Nr,Zo,Qr,Xp,pl,ob,lC;const lb=class cb{constructor(t){B(this,ob),B(this,il,""),B(this,sl,!1),B(this,Nr,null),B(this,Zo,null),B(this,Qr,null),B(this,Xp,!1),B(this,pl,null),X(this,pl,t)}static initialize(t){cb._l10nPromise||(cb._l10nPromise=t)}async render(){const t=X(this,Nr,document.createElement("button"));t.className="altText";const e=await cb._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",t.addEventListener("contextmenu",as),t.addEventListener("pointerdown",s=>s.stopPropagation());const n=s=>{s.preventDefault(),y(this,pl)._uiManager.editAltText(y(this,pl))};return t.addEventListener("click",n,{capture:!0}),t.addEventListener("keydown",s=>{s.target===t&&s.key==="Enter"&&(X(this,Xp,!0),n(s))}),await Y(this,ob,lC).call(this),t}finish(){y(this,Nr)&&(y(this,Nr).focus({focusVisible:y(this,Xp)}),X(this,Xp,!1))}isEmpty(){return!y(this,il)&&!y(this,sl)}get data(){return{altText:y(this,il),decorative:y(this,sl)}}set data({altText:t,decorative:e}){y(this,il)===t&&y(this,sl)===e||(X(this,il,t),X(this,sl,e),Y(this,ob,lC).call(this))}toggle(t=!1){y(this,Nr)&&(!t&&y(this,Qr)&&(clearTimeout(y(this,Qr)),X(this,Qr,null)),y(this,Nr).disabled=!t)}destroy(){var t;(t=y(this,Nr))==null||t.remove(),X(this,Nr,null),X(this,Zo,null)}};il=new WeakMap,sl=new WeakMap,Nr=new WeakMap,Zo=new WeakMap,Qr=new WeakMap,Xp=new WeakMap,pl=new WeakMap,ob=new WeakSet,lC=async function(){var i;const t=y(this,Nr);if(!t)return;if(!y(this,il)&&!y(this,sl)){t.classList.remove("done"),(i=y(this,Zo))==null||i.remove();return}t.classList.add("done"),lb._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(s=>{t.setAttribute("aria-label",s)});let e=y(this,Zo);if(!e){X(this,Zo,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip");const s=e.id=`alt-text-tooltip-${y(this,pl).id}`;t.setAttribute("aria-describedby",s);const r=100;t.addEventListener("mouseenter",()=>{X(this,Qr,setTimeout(()=>{X(this,Qr,null),y(this,Zo).classList.add("show"),y(this,pl)._reportTelemetry({action:"alt_text_tooltip"})},r))}),t.addEventListener("mouseleave",()=>{var a;y(this,Qr)&&(clearTimeout(y(this,Qr)),X(this,Qr,null)),(a=y(this,Zo))==null||a.classList.remove("show")})}e.innerText=y(this,sl)?await lb._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):y(this,il),e.parentNode||t.append(e);const n=y(this,pl).getImageForAltText();n?.setAttribute("aria-describedby",e.id)},ue(lb,"_l10nPromise",null);let $N=lb;var Gr,Ki,Kp,Nh,Ai,ad,Qp,Zp,Mi,Zw,od,ka,ub,Ih,gl,Ra,Jp,tg,zs,hb,cC,db,uC,Jw,hC,fb,Jx,dC,d4,fC,WN,pb,tE,t1,pC,e1,gC,mC,f4,yC,p4,vC,g4,bC,m4,n1,wC,ld,Yg;const Ma=class ni{constructor(t){B(this,db),B(this,fb),B(this,dC),B(this,fC),B(this,pb),B(this,t1),B(this,e1),B(this,mC),B(this,yC),B(this,vC),B(this,bC),B(this,n1),B(this,ld),B(this,Gr,null),B(this,Ki,null),B(this,Kp,!1),B(this,Nh,!1),B(this,Ai,null),B(this,ad,null),B(this,Qp,this.focusin.bind(this)),B(this,Zp,this.focusout.bind(this)),B(this,Mi,null),B(this,Zw,""),B(this,od,!1),B(this,ka,null),B(this,ub,!1),B(this,Ih,!1),B(this,gl,!1),B(this,Ra,null),B(this,Jp,0),B(this,tg,0),B(this,zs,null),ue(this,"_initialOptions",Object.create(null)),ue(this,"_isVisible",!0),ue(this,"_uiManager",null),ue(this,"_focusEventsAllowed",!0),ue(this,"_l10nPromise",null),B(this,hb,!1),B(this,cC,ni._zIndex++),this.constructor===ni&&Be("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[r,a];const[l,u]=this.parentDimensions;this.x=t.x/l,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=ni.prototype._resizeWithKeyboard,e=Sm.TRANSLATE_SMALL,n=Sm.TRANSLATE_BIG;return Te(this,"_resizerKeyboardManager",new Gm([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],ni.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Te(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Rst({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,n){if(ni._l10nPromise||(ni._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,t.get(r.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),n!=null&&n.strings)for(const r of n.strings)ni._l10nPromise.set(r,t.get(r));if(ni._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ni._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Be("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return y(this,hb)}set _isDraggable(t){var e;X(this,hb,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=y(this,cC)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):Y(this,ld,Yg).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(y(this,od)?X(this,od,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=t.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(t.preventDefault(),(e=this.parent)!=null&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[r,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/r,this.y=(e+s)/a,this.fixAndSetPosition()}translate(t,e){Y(this,db,uC).call(this,this.parentDimensions,t,e)}translateInPage(t,e){y(this,ka)||X(this,ka,[this.x,this.y]),Y(this,db,uC).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){y(this,ka)||X(this,ka,[this.x,this.y]);const[n,s]=this.parentDimensions;if(this.x+=t/n,this.y+=e/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[l,u]=this.getBaseTranslation();r+=l,a+=u,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!y(this,ka)&&(y(this,ka)[0]!==this.x||y(this,ka)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=ni,s=n/t,r=n/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:s,y:r,width:a,height:l}=this;if(a*=e,l*=n,s*=e,r*=n,this._mustFixPosition)switch(t){case 0:s=Math.max(0,Math.min(e-a,s)),r=Math.max(0,Math.min(n-l,r));break;case 90:s=Math.max(0,Math.min(e-l,s)),r=Math.min(n,Math.max(a,r));break;case 180:s=Math.min(e,Math.max(a,s)),r=Math.min(n,Math.max(l,r));break;case 270:s=Math.min(e,Math.max(l,s)),r=Math.max(0,Math.min(n-a,r));break}this.x=s/=e,this.y=r/=n;const[u,d]=this.getBaseTranslation();s+=u,r+=d;const{style:h}=this.div;h.left=`${(100*s).toFixed(2)}%`,h.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return Y(n=ni,Jw,hC).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return Y(n=ni,Jw,hC).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,s=e*t,r=n*t;return os.isCSSRoundSupported?[Math.round(s),Math.round(r)]:[s,r]}setDims(t,e){const[n,s]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,y(this,Nh)||(this.div.style.height=`${(100*e/s).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,s=n.endsWith("%"),r=!y(this,Nh)&&e.endsWith("%");if(s&&r)return;const[a,l]=this.parentDimensions;s||(t.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!y(this,Nh)&&!r&&(t.height=`${(100*parseFloat(e)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=y(this,Ki))==null||t.finish()}async addEditToolbar(){return y(this,Mi)||y(this,Ih)?y(this,Mi):(X(this,Mi,new Ast(this)),this.div.append(y(this,Mi).render()),y(this,Ki)&&y(this,Mi).addAltTextButton(await y(this,Ki).render()),y(this,Mi))}removeEditToolbar(){var t;y(this,Mi)&&(y(this,Mi).remove(),X(this,Mi,null),(t=y(this,Ki))==null||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){y(this,Ki)||($N.initialize(ni._l10nPromise),X(this,Ki,new $N(this)),await this.addEditToolbar())}get altTextData(){var t;return(t=y(this,Ki))==null?void 0:t.data}set altTextData(t){y(this,Ki)&&(y(this,Ki).data=t)}hasAltText(){var t;return!((t=y(this,Ki))!=null&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=y(this,Kp)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",y(this,Qp)),this.div.addEventListener("focusout",y(this,Zp));const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[n,s]=this.getInitialTranslation();return this.translate(n,s),Yw(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=os.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(X(this,od,!0),this._isDraggable){Y(this,mC,f4).call(this,t);return}Y(this,e1,gC).call(this,t)}moveInDOM(){y(this,Ra)&&clearTimeout(y(this,Ra)),X(this,Ra,setTimeout(()=>{var t;X(this,Ra,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[l,u]=this.pageTranslation,d=t/s,h=e/s,p=this.x*r,m=this.y*a,v=this.width*r,_=this.height*a;switch(n){case 0:return[p+d+l,a-m-h-_+u,p+d+v+l,a-m-h+u];case 90:return[p+h+l,a-m+d+u,p+h+_+l,a-m+d+v+u];case 180:return[p-d-v+l,a-m+h+u,p-d+l,a-m+h+_+u];case 270:return[p-h-_+l,a-m-d-v+u,p-h+l,a-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,r,a]=t,l=r-n,u=a-s;switch(this.rotation){case 0:return[n,e-a,l,u];case 90:return[n,e-s,u,l];case 180:return[r,e-s,l,u];case 270:return[r,e-a,u,l];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){X(this,Ih,!0)}disableEditMode(){X(this,Ih,!1)}isInEditMode(){return y(this,Ih)}shouldGetKeyboardEvents(){return y(this,gl)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,e;(t=this.div)==null||t.addEventListener("focusin",y(this,Qp)),(e=this.div)==null||e.addEventListener("focusout",y(this,Zp))}rotate(t){}serialize(t=!1,e=null){Be("An editor must be serializable")}static deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});s.rotation=t.rotation;const[r,a]=s.pageDimensions,[l,u,d,h]=s.getRectInCurrentCoords(t.rect,a);return s.x=l/r,s.y=u/a,s.width=d/r,s.height=h/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",y(this,Qp)),this.div.removeEventListener("focusout",y(this,Zp)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),y(this,Ra)&&(clearTimeout(y(this,Ra)),X(this,Ra,null)),Y(this,ld,Yg).call(this),this.removeEditToolbar(),y(this,zs)){for(const t of y(this,zs).values())clearTimeout(t);X(this,zs,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Y(this,dC,d4).call(this),y(this,Ai).classList.remove("hidden"),Yw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),X(this,ad,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=y(this,Ai).children;if(!y(this,Gr)){X(this,Gr,Array.from(e));const a=Y(this,yC,p4).bind(this),l=Y(this,vC,g4).bind(this);for(const u of y(this,Gr)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a),u.addEventListener("blur",l),u.addEventListener("focus",Y(this,bC,m4).bind(this,d)),ni._l10nPromise.get(`pdfjs-editor-resizer-label-${d}`).then(h=>u.setAttribute("aria-label",h))}}const n=y(this,Gr)[0];let s=0;for(const a of e){if(a===n)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(y(this,Gr).length/4);if(r!==s){if(r<s)for(let l=0;l<s-r;l++)y(this,Ai).append(y(this,Ai).firstChild);else if(r>s)for(let l=0;l<r-s;l++)y(this,Ai).firstChild.before(y(this,Ai).lastChild);let a=0;for(const l of e){const u=y(this,Gr)[a++].getAttribute("data-resizer-name");ni._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>l.setAttribute("aria-label",d))}}Y(this,n1,wC).call(this,0),X(this,gl,!0),y(this,Ai).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){y(this,gl)&&Y(this,t1,pC).call(this,y(this,Zw),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){Y(this,ld,Yg).call(this),this.div.focus()}select(){var t,e;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!y(this,Mi)){this.addEditToolbar().then(()=>{var n,s;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((s=y(this,Mi))==null||s.show())});return}(e=y(this,Mi))==null||e.show()}unselect(){var t,e,n,s;(t=y(this,Ai))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=y(this,Mi))==null||s.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return y(this,ub)}set isEditing(t){X(this,ub,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){X(this,Nh,!0);const n=t/e,{style:s}=this.div;s.aspectRatio=n,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){y(this,zs)||X(this,zs,new Map);const{action:n}=t;let s=y(this,zs).get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),y(this,zs).delete(n),y(this,zs).size===0&&X(this,zs,null)},ni._telemetryTimeout),y(this,zs).set(n,s);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),X(this,Kp,!1)}disable(){this.div&&(this.div.tabIndex=-1),X(this,Kp,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Gr=new WeakMap,Ki=new WeakMap,Kp=new WeakMap,Nh=new WeakMap,Ai=new WeakMap,ad=new WeakMap,Qp=new WeakMap,Zp=new WeakMap,Mi=new WeakMap,Zw=new WeakMap,od=new WeakMap,ka=new WeakMap,ub=new WeakMap,Ih=new WeakMap,gl=new WeakMap,Ra=new WeakMap,Jp=new WeakMap,tg=new WeakMap,zs=new WeakMap,hb=new WeakMap,cC=new WeakMap,db=new WeakSet,uC=function([i,t],e,n){[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/t,this.fixAndSetPosition()},Jw=new WeakSet,hC=function(i,t,e){switch(e){case 90:return[t,-i];case 180:return[-i,-t];case 270:return[-t,i];default:return[i,t]}},fb=new WeakSet,Jx=function(i){switch(i){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}},dC=new WeakSet,d4=function(){if(y(this,Ai))return;X(this,Ai,document.createElement("div")),y(this,Ai).classList.add("resizers");const i=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const t of i){const e=document.createElement("div");y(this,Ai).append(e),e.classList.add("resizer",t),e.setAttribute("data-resizer-name",t),e.addEventListener("pointerdown",Y(this,fC,WN).bind(this,t)),e.addEventListener("contextmenu",as),e.tabIndex=-1}this.div.prepend(y(this,Ai))},fC=new WeakSet,WN=function(i,t){var e;t.preventDefault();const{isMac:n}=os.platform;if(t.button!==0||t.ctrlKey&&n)return;(e=y(this,Ki))==null||e.toggle(!1);const s=Y(this,t1,pC).bind(this,i),r=this._isDraggable;this._isDraggable=!1;const a={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,a),window.addEventListener("contextmenu",as);const l=this.x,u=this.y,d=this.width,h=this.height,p=this.parent.div.style.cursor,m=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const v=()=>{var _;this.parent.togglePointerEvents(!0),(_=y(this,Ki))==null||_.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),window.removeEventListener("pointermove",s,a),window.removeEventListener("contextmenu",as),this.parent.div.style.cursor=p,this.div.style.cursor=m,Y(this,pb,tE).call(this,l,u,d,h)};window.addEventListener("pointerup",v),window.addEventListener("blur",v)},pb=new WeakSet,tE=function(i,t,e,n){const s=this.x,r=this.y,a=this.width,l=this.height;s===i&&r===t&&a===e&&l===n||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=s,this.y=r;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=e,this.height=n,this.x=i,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*e,d*n),this.fixAndSetPosition()},mustExec:!0})},t1=new WeakSet,pC=function(i,t){const[e,n]=this.parentDimensions,s=this.x,r=this.y,a=this.width,l=this.height,u=Ma.MIN_SIZE/e,d=Ma.MIN_SIZE/n,h=$=>Math.round($*1e4)/1e4,p=Y(this,fb,Jx).call(this,this.rotation),m=($,T)=>[p[0]*$+p[2]*T,p[1]*$+p[3]*T],v=Y(this,fb,Jx).call(this,360-this.rotation),_=($,T)=>[v[0]*$+v[2]*T,v[1]*$+v[3]*T];let w,S,x=!1,C=!1;switch(i){case"topLeft":x=!0,w=($,T)=>[0,0],S=($,T)=>[$,T];break;case"topMiddle":w=($,T)=>[$/2,0],S=($,T)=>[$/2,T];break;case"topRight":x=!0,w=($,T)=>[$,0],S=($,T)=>[0,T];break;case"middleRight":C=!0,w=($,T)=>[$,T/2],S=($,T)=>[0,T/2];break;case"bottomRight":x=!0,w=($,T)=>[$,T],S=($,T)=>[0,0];break;case"bottomMiddle":w=($,T)=>[$/2,T],S=($,T)=>[$/2,0];break;case"bottomLeft":x=!0,w=($,T)=>[0,T],S=($,T)=>[$,0];break;case"middleLeft":C=!0,w=($,T)=>[0,T/2],S=($,T)=>[$,T/2];break}const L=w(a,l),j=S(a,l);let R=m(...j);const D=h(s+R[0]),P=h(r+R[1]);let M=1,O=1,[N,H]=this.screenToPageTranslation(t.movementX,t.movementY);if([N,H]=_(N/e,H/n),x){const $=Math.hypot(a,l);M=O=Math.max(Math.min(Math.hypot(j[0]-L[0]-N,j[1]-L[1]-H)/$,1/a,1/l),u/a,d/l)}else C?M=Math.max(u,Math.min(1,Math.abs(j[0]-L[0]-N)))/a:O=Math.max(d,Math.min(1,Math.abs(j[1]-L[1]-H)))/l;const Q=h(a*M),G=h(l*O);R=m(...S(Q,G));const J=D-R[0],nt=P-R[1];this.width=Q,this.height=G,this.x=J,this.y=nt,this.setDims(e*Q,n*G),this.fixAndSetPosition()},e1=new WeakSet,gC=function(i){const{isMac:t}=os.platform;i.ctrlKey&&!t||i.shiftKey||i.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},mC=new WeakSet,f4=function(i){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let e,n;t&&(this.div.classList.add("moving"),e={passive:!0,capture:!0},X(this,Jp,i.clientX),X(this,tg,i.clientY),n=r=>{const{clientX:a,clientY:l}=r,[u,d]=this.screenToPageTranslation(a-y(this,Jp),l-y(this,tg));X(this,Jp,a),X(this,tg,l),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",n,e));const s=()=>{window.removeEventListener("pointerup",s),window.removeEventListener("blur",s),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",n,e)),X(this,od,!1),this._uiManager.endDragSession()||Y(this,e1,gC).call(this,i)};window.addEventListener("pointerup",s),window.addEventListener("blur",s)},yC=new WeakSet,p4=function(i){Ma._resizerKeyboardManager.exec(this,i)},vC=new WeakSet,g4=function(i){var t;y(this,gl)&&((t=i.relatedTarget)==null?void 0:t.parentNode)!==y(this,Ai)&&Y(this,ld,Yg).call(this)},bC=new WeakSet,m4=function(i){X(this,Zw,y(this,gl)?i:"")},n1=new WeakSet,wC=function(i){if(y(this,Gr))for(const t of y(this,Gr))t.tabIndex=i},ld=new WeakSet,Yg=function(){if(X(this,gl,!1),Y(this,n1,wC).call(this,-1),y(this,ad)){const{savedX:i,savedY:t,savedWidth:e,savedHeight:n}=y(this,ad);Y(this,pb,tE).call(this,i,t,e,n),X(this,ad,null)}},B(Ma,Jw),ue(Ma,"_borderLineWidth",-1),ue(Ma,"_colorManager",new kst),ue(Ma,"_zIndex",1),ue(Ma,"_telemetryTimeout",1e3);let Ge=Ma;class Rst extends Ge{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const VN=3285377520,Ns=4294901760,Rr=65535;class y4{constructor(t){this.h1=t?t&4294967295:VN,this.h2=t?t&4294967295:VN}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let w=0,S=t.length;w<S;w++){const x=t.charCodeAt(w);x<=255?e[n++]=x:(e[n++]=x>>>8,e[n++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,r=n-s*4,a=new Uint32Array(e.buffer,0,s);let l=0,u=0,d=this.h1,h=this.h2;const p=3432918353,m=461845907,v=p&Rr,_=m&Rr;for(let w=0;w<s;w++)w&1?(l=a[w],l=l*p&Ns|l*v&Rr,l=l<<15|l>>>17,l=l*m&Ns|l*_&Rr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=a[w],u=u*p&Ns|u*v&Rr,u=u<<15|u>>>17,u=u*m&Ns|u*_&Rr,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,r){case 3:l^=e[s*4+2]<<16;case 2:l^=e[s*4+1]<<8;case 1:l^=e[s*4],l=l*p&Ns|l*v&Rr,l=l<<15|l>>>17,l=l*m&Ns|l*_&Rr,s&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Ns|t*36045&Rr,e=e*4283543511&Ns|((e<<16|t>>>16)*2950163797&Ns)>>>16,t^=e>>>1,t=t*444984403&Ns|t*60499&Rr,e=e*3301882366&Ns|((e<<16|t>>>16)*3120437893&Ns)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const _C=Object.freeze({map:null,hash:"",transfer:void 0});var Sd,fi,AC,v4;class cR{constructor(){B(this,AC),B(this,Sd,!1),B(this,fi,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=y(this,fi).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return y(this,fi).get(t)}remove(t){if(y(this,fi).delete(t),y(this,fi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of y(this,fi).values())if(e instanceof Ge)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=y(this,fi).get(t);let s=!1;if(n!==void 0)for(const[r,a]of Object.entries(e))n[r]!==a&&(s=!0,n[r]=a);else s=!0,y(this,fi).set(t,e);s&&Y(this,AC,v4).call(this),e instanceof Ge&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return y(this,fi).has(t)}getAll(){return y(this,fi).size>0?nR(y(this,fi)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return y(this,fi).size}resetModified(){y(this,Sd)&&(X(this,Sd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b4(this)}get serializable(){if(y(this,fi).size===0)return _C;const t=new Map,e=new y4,n=[],s=Object.create(null);let r=!1;for(const[a,l]of y(this,fi)){const u=l instanceof Ge?l.serialize(!1,s):l;u&&(t.set(a,u),e.update(`${a}:${JSON.stringify(u)}`),r||(r=!!u.bitmap))}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:_C}get editorStats(){let t=null;const e=new Map;for(const n of y(this,fi).values()){if(!(n instanceof Ge))continue;const s=n.telemetryFinalData;if(!s)continue;const{type:r}=s;e.has(r)||e.set(r,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const a=t[r]||(t[r]=new Map);for(const[l,u]of Object.entries(s)){if(l==="type")continue;let d=a.get(l);d||(d=new Map,a.set(l,d));const h=d.get(u)??0;d.set(u,h+1)}}for(const[n,s]of e)t[n]=s.computeTelemetryFinalData(t[n]);return t}}Sd=new WeakMap,fi=new WeakMap,AC=new WeakSet,v4=function(){y(this,Sd)||(X(this,Sd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var gb;class b4 extends cR{constructor(t){super(),B(this,gb,void 0);const{map:e,hash:n,transfer:s}=t.serializable,r=structuredClone(e,s?{transfer:s}:null);X(this,gb,{map:r,hash:n,transfer:s})}get print(){Be("Should not call PrintAnnotationStorage.print")}get serializable(){return y(this,gb)}}gb=new WeakMap;var eg;class Mst{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){B(this,eg,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),y(this,eg).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||y(this,eg).has(t.loadedName))){if(On(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:s,style:r}=t,a=new FontFace(n,s,r);this.addNativeFontFace(a);try{await a.load(),y(this,eg).add(n),e?.(t)}catch{me(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Be("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw me(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Te(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let t=!1;return(Ci||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Te(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(On(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Te(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(L,j){return L.charCodeAt(j)<<24|L.charCodeAt(j+1)<<16|L.charCodeAt(j+2)<<8|L.charCodeAt(j+3)&255}function s(L,j,R,D){const P=L.substring(0,j),M=L.substring(j+R);return P+D+M}let r,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function h(L,j){if(++d>30){me("Load test font never loaded."),j();return}if(u.font="30px "+L,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){j();return}setTimeout(h.bind(null,L,j))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=s(m,976,p.length,p);const v=16,_=1482184792;let w=n(m,v);for(r=0,a=p.length-3;r<a;r+=4)w=w-_+n(p,r)|0;r<p.length&&(w=w-_+n(p+"XXX",r)|0),m=s(m,v,4,ust(w));const S=`url(data:font/opentype;base64,${btoa(m)});`,x=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(x);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const L of[t.loadedName,p]){const j=this._document.createElement("span");j.textContent="Hi",j.style.fontFamily=L,C.append(j)}this._document.body.append(C),h(p,()=>{C.remove(),e.complete()})}}eg=new WeakMap;class Lst{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e=HB(this.data),n=`url(data:${this.mimetype};base64,${btoa(e)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${n}}`}return(t=this._inspectFont)==null||t.call(this,this,n),s}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(r){me(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(r,a){};const s=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case _a.BEZIER_CURVE_TO:{const[l,u,d,h,p,m]=n.slice(r,r+6);s.push(v=>v.bezierCurveTo(l,u,d,h,p,m)),r+=6}break;case _a.MOVE_TO:{const[l,u]=n.slice(r,r+2);s.push(d=>d.moveTo(l,u)),r+=2}break;case _a.LINE_TO:{const[l,u]=n.slice(r,r+2);s.push(d=>d.lineTo(l,u)),r+=2}break;case _a.QUADRATIC_CURVE_TO:{const[l,u,d,h]=n.slice(r,r+4);s.push(p=>p.quadraticCurveTo(l,u,d,h)),r+=4}break;case _a.RESTORE:s.push(l=>l.restore());break;case _a.SAVE:s.push(l=>l.save());break;case _a.SCALE:On(s.length===2,"Scale command is only valid at the third position.");break;case _a.TRANSFORM:{const[l,u,d,h,p,m]=n.slice(r,r+6);s.push(v=>v.transform(l,u,d,h,p,m)),r+=6}break;case _a.TRANSLATE:{const[l,u]=n.slice(r,r+2);s.push(d=>d.translate(l,u)),r+=2}break}return this.compiledGlyphs[e]=function(r,a){s[0](r),s[1](r),r.scale(a,-a);for(let l=2,u=s.length;l<u;l++)s[l](r)}}}if(Ci){var SC=Promise.withResolvers(),i1=null;(async()=>{const i=await Ev(()=>import("./empty-GlqisfcO-CRMO4_-l.js"),[]),t=await Ev(()=>import("./index-B0Gk_P0t-etAw1oS3.js"),__vite__mapDeps([0,1])).then(a=>a.i),e=await Ev(()=>import("./index-rMqNZYyA--P1EJF-4.js"),__vite__mapDeps([2,0,1])).then(a=>a.i),n=await Ev(()=>import("./url-Bs332b_7-DuGMHjsF.js"),[]).then(a=>a.u);let s,r;return new Map(Object.entries({fs:i,http:t,https:e,url:n,canvas:s,path2d:r}))})().then(i=>{i1=i,SC.resolve()},i=>{me(`loadPackages: ${i}`),i1=new Map,SC.resolve()})}class ea{static get promise(){return SC.promise}static get(t){return i1?.get(t)}}const w4=function(i){return ea.get("fs").promises.readFile(i).then(t=>new Uint8Array(t))};class Ost extends E_{}class Pst extends T_{_createCanvas(t,e){return ea.get("canvas").createCanvas(t,e)}}class Dst extends C_{_fetchData(t,e){return w4(t).then(n=>({cMapData:n,compressionType:e}))}}class Nst extends k_{_fetchData(t){return w4(t)}}const Ni={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function xC(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class qm{constructor(){this.constructor===qm&&Be("Cannot initialize BaseShadingPattern.")}getPattern(){Be("Abstract method `getPattern` called.")}}class Ist extends qm{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let r;if(s===Ni.STROKE||s===Ni.FILL){const a=e.current.getClippedPathBoundingBox(s,sn(t))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,d=e.cachedCanvases.getCanvas("pattern",l,u,!0),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=Gt.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),xC(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),r=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);r.setTransform(p)}else xC(t,this._bbox),r=this._createGradient(t);return r}}function eE(i,t,e,n,s,r,a,l){const u=t.coords,d=t.colors,h=i.data,p=i.width*4;let m;u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=r,r=a,a=m),u[n+1]>u[s+1]&&(m=n,n=s,s=m,m=a,a=l,l=m),u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=r,r=a,a=m);const v=(u[e]+t.offsetX)*t.scaleX,_=(u[e+1]+t.offsetY)*t.scaleY,w=(u[n]+t.offsetX)*t.scaleX,S=(u[n+1]+t.offsetY)*t.scaleY,x=(u[s]+t.offsetX)*t.scaleX,C=(u[s+1]+t.offsetY)*t.scaleY;if(_>=C)return;const L=d[r],j=d[r+1],R=d[r+2],D=d[a],P=d[a+1],M=d[a+2],O=d[l],N=d[l+1],H=d[l+2],Q=Math.round(_),G=Math.round(C);let J,nt,$,T,ct,Z,k,W;for(let K=Q;K<=G;K++){if(K<S){const ft=K<_?0:(_-K)/(_-S);J=v-(v-w)*ft,nt=L-(L-D)*ft,$=j-(j-P)*ft,T=R-(R-M)*ft}else{let ft;K>C?ft=1:S===C?ft=0:ft=(S-K)/(S-C),J=w-(w-x)*ft,nt=D-(D-O)*ft,$=P-(P-N)*ft,T=M-(M-H)*ft}let et;K<_?et=0:K>C?et=1:et=(_-K)/(_-C),ct=v-(v-x)*et,Z=L-(L-O)*et,k=j-(j-N)*et,W=R-(R-H)*et;const st=Math.round(Math.min(J,ct)),ut=Math.round(Math.max(J,ct));let lt=p*K+st*4;for(let ft=st;ft<=ut;ft++)et=(J-ft)/(J-ct),et<0?et=0:et>1&&(et=1),h[lt++]=nt-(nt-Z)*et|0,h[lt++]=$-($-k)*et|0,h[lt++]=T-(T-W)*et|0,h[lt++]=255}}function Fst(i,t,e){const n=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const l=t.verticesPerRow,u=Math.floor(n.length/l)-1,d=l-1;for(r=0;r<u;r++){let h=r*l;for(let p=0;p<d;p++,h++)eE(i,e,n[h],n[h+1],n[h+l],s[h],s[h+1],s[h+l]),eE(i,e,n[h+l+1],n[h+1],n[h+l],s[h+l+1],s[h+1],s[h+l])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)eE(i,e,n[r],n[r+1],n[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class jst extends qm{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const s=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-s,l=Math.ceil(this._bounds[3])-r,u=Math.min(Math.ceil(Math.abs(a*t[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(l*t[1]*1.1)),3e3),h=a/u,p=l/d,m={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-r,scaleX:1/h,scaleY:1/p},v=u+4,_=d+4,w=n.getCanvas("mesh",v,_,!1),S=w.context,x=S.createImageData(u,d);if(e){const C=x.data;for(let L=0,j=C.length;L<j;L+=4)C[L]=e[0],C[L+1]=e[1],C[L+2]=e[2],C[L+3]=255}for(const C of this._figures)Fst(x,C,m);return S.putImageData(x,2,2),{canvas:w.canvas,offsetX:s-2*h,offsetY:r-2*p,scaleX:h,scaleY:p}}getPattern(t,e,n,s){xC(t,this._bbox);let r;if(s===Ni.SHADING)r=Gt.singularValueDecompose2dScale(sn(t));else if(r=Gt.singularValueDecompose2dScale(e.baseTransform),this.matrix){const l=Gt.singularValueDecompose2dScale(this.matrix);r=[r[0]*l[0],r[1]*l[1]]}const a=this._createMeshCanvas(r,s===Ni.SHADING?null:this._background,e.cachedCanvases);return s!==Ni.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class Bst extends qm{getPattern(){return"hotpink"}}function zst(i){switch(i[0]){case"RadialAxial":return new Ist(i);case"Mesh":return new jst(i);case"Dummy":return new Bst}throw new Error(`Unknown IR type: ${i[0]}`)}const GN={COLORED:1,UNCOLORED:2},_4=class A4{constructor(t,e,n,s,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=r}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,s=this.xstep,r=this.ystep,a=this.paintType,l=this.tilingType,u=this.color,d=this.canvasGraphicsFactory;A_("TilingType: "+l);const h=n[0],p=n[1],m=n[2],v=n[3],_=Gt.singularValueDecompose2dScale(this.matrix),w=Gt.singularValueDecompose2dScale(this.baseTransform),S=[_[0]*w[0],_[1]*w[1]],x=this.getSizeAndScale(s,this.ctx.canvas.width,S[0]),C=this.getSizeAndScale(r,this.ctx.canvas.height,S[1]),L=t.cachedCanvases.getCanvas("pattern",x.size,C.size,!0),j=L.context,R=d.createCanvasGraphics(j);R.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(R,a,u);let D=h,P=p,M=m,O=v;return h<0&&(D=0,M+=Math.abs(h)),p<0&&(P=0,O+=Math.abs(p)),j.translate(-(x.scale*D),-(C.scale*P)),R.transform(x.scale,0,0,C.scale,0,0),j.save(),this.clipBbox(R,D,P,M,O),R.baseTransform=sn(R.ctx),R.executeOperatorList(e),R.endDrawing(),{canvas:L.canvas,scaleX:x.scale,scaleY:C.scale,offsetX:D,offsetY:P}}getSizeAndScale(t,e,n){t=Math.abs(t);const s=Math.max(A4.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=s?r=s:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,s,r){const a=s-e,l=r-n;t.ctx.rect(e,n,a,l),t.current.updateRectMinMax(sn(t.ctx),[e,n,s,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,r=t.current;switch(e){case GN.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case GN.UNCOLORED:const l=Gt.makeHexColor(n[0],n[1],n[2]);s.fillStyle=l,s.strokeStyle=l,r.fillColor=l,r.strokeColor=l;break;default:throw new cst(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,s){let r=n;s!==Ni.SHADING&&(r=Gt.transform(r,e.baseTransform),this.matrix&&(r=Gt.transform(r,this.matrix)));const a=this.createPatternCanvas(e);let l=new DOMMatrix(r);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const u=t.createPattern(a.canvas,"repeat");return u.setTransform(l),u}};ue(_4,"MAX_PATTERN_SIZE",3e3);let Ust=_4;function Hst({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const l=os.isLittleEndian?4278190080:255,[u,d]=a?[r,l]:[l,r],h=n>>3,p=n&7,m=i.length;e=new Uint32Array(e.buffer);let v=0;for(let _=0;_<s;_++){for(const S=t+h;t<S;t++){const x=t<m?i[t]:255;e[v++]=x&128?d:u,e[v++]=x&64?d:u,e[v++]=x&32?d:u,e[v++]=x&16?d:u,e[v++]=x&8?d:u,e[v++]=x&4?d:u,e[v++]=x&2?d:u,e[v++]=x&1?d:u}if(p===0)continue;const w=t<m?i[t++]:255;for(let S=0;S<p;S++)e[v++]=w&1<<7-S?d:u}return{srcPos:t,destPos:v}}const qN=16,YN=100,$st=15,XN=10,KN=1e3,Ji=16;function Wst(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,s,r,a,l){t.transform(e,n,s,r,a,l),this.__originalTransform(e,n,s,r,a,l)},i.setTransform=function(e,n,s,r,a,l){t.setTransform(e,n,s,r,a,l),this.__originalSetTransform(e,n,s,r,a,l)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,r,a,l){t.bezierCurveTo(e,n,s,r,a,l),this.__originalBezierCurveTo(e,n,s,r,a,l)},i.rect=function(e,n,s,r){t.rect(e,n,s,r),this.__originalRect(e,n,s,r)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Vst{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Nv(i,t,e,n,s,r,a,l,u,d){const[h,p,m,v,_,w]=sn(i);if(p===0&&m===0){const C=a*h+_,L=Math.round(C),j=l*v+w,R=Math.round(j),D=(a+u)*h+_,P=Math.abs(Math.round(D)-L)||1,M=(l+d)*v+w,O=Math.abs(Math.round(M)-R)||1;return i.setTransform(Math.sign(h),0,0,Math.sign(v),L,R),i.drawImage(t,e,n,s,r,0,0,P,O),i.setTransform(h,p,m,v,_,w),[P,O]}if(h===0&&v===0){const C=l*m+_,L=Math.round(C),j=a*p+w,R=Math.round(j),D=(l+d)*m+_,P=Math.abs(Math.round(D)-L)||1,M=(a+u)*p+w,O=Math.abs(Math.round(M)-R)||1;return i.setTransform(0,Math.sign(p),Math.sign(m),0,L,R),i.drawImage(t,e,n,s,r,0,0,O,P),i.setTransform(h,p,m,v,_,w),[O,P]}i.drawImage(t,e,n,s,r,a,l,u,d);const S=Math.hypot(h,p),x=Math.hypot(m,v);return[S*u,x*d]}function Gst(i){const{width:t,height:e}=i;if(t>KN||e>KN)return null;const n=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let a=new Uint8Array(r*(e+1)),l,u,d;const h=t+7&-8;let p=new Uint8Array(h*e),m=0;for(const S of i.data){let x=128;for(;x>0;)p[m++]=S&x?0:255,x>>=1}let v=0;for(m=0,p[m]!==0&&(a[0]=1,++v),u=1;u<t;u++)p[m]!==p[m+1]&&(a[u]=p[m]?2:1,++v),m++;for(p[m]!==0&&(a[u]=2,++v),l=1;l<e;l++){m=l*h,d=l*r,p[m-h]!==p[m]&&(a[d]=p[m]?1:8,++v);let S=(p[m]?4:0)+(p[m-h]?8:0);for(u=1;u<t;u++)S=(S>>2)+(p[m+1]?4:0)+(p[m-h+1]?8:0),s[S]&&(a[d+u]=s[S],++v),m++;if(p[m-h]!==p[m]&&(a[d+u]=p[m]?2:4,++v),v>n)return null}for(m=h*(e-1),d=l*r,p[m]!==0&&(a[d]=8,++v),u=1;u<t;u++)p[m]!==p[m+1]&&(a[d+u]=p[m]?4:8,++v),m++;if(p[m]!==0&&(a[d+u]=4,++v),v>n)return null;const _=new Int32Array([0,r,-1,0,-r,0,0,0,1]),w=new Path2D;for(l=0;v&&l<=e;l++){let S=l*r;const x=S+t;for(;S<x&&!a[S];)S++;if(S===x)continue;w.moveTo(S%r,l);const C=S;let L=a[S];do{const j=_[L];do S+=j;while(!a[S]);const R=a[S];R!==5&&R!==10?(L=R,a[S]=0):(L=R&51*L>>4,a[S]&=L>>2|L<<2),w.lineTo(S%r,S/r|0),a[S]||--v}while(C!==S);--l}return p=null,a=null,function(S){S.save(),S.scale(1/t,-1/e),S.translate(0,-e),S.fill(w),S.beginPath(),S.restore()}}class QN{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=zB,this.textMatrixScale=1,this.fontMatrix=xT,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=hi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=Gt.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=Gt.applyTransform(e,t),s=Gt.applyTransform(e.slice(2),t),r=Gt.applyTransform([e[0],e[3]],t),a=Gt.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],s[0],r[0],a[0]),this.minY=Math.min(this.minY,n[1],s[1],r[1],a[1]),this.maxX=Math.max(this.maxX,n[0],s[0],r[0],a[0]),this.maxY=Math.max(this.maxY,n[1],s[1],r[1],a[1])}updateScalingPathMinMax(t,e){Gt.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,s,r,a,l,u,d,h){const p=Gt.bezierBoundingBox(e,n,s,r,a,l,u,d,h);h||this.updateRectMinMax(t,p)}getPathBoundingBox(t=Ni.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ni.STROKE){e||Be("Stroke bounding box must include transform.");const s=Gt.singularValueDecompose2dScale(e),r=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;n[0]-=r,n[1]-=a,n[2]+=r,n[3]+=a}return n}updateClipFromPath(){const t=Gt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ni.FILL,e=null){return Gt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function ZN(i,t){if(typeof ImageData<"u"&&t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%Ji,r=(e-s)/Ji,a=s===0?r:r+1,l=i.createImageData(n,Ji);let u=0,d;const h=t.data,p=l.data;let m,v,_,w;if(t.kind===C0.GRAYSCALE_1BPP){const S=h.byteLength,x=new Uint32Array(p.buffer,0,p.byteLength>>2),C=x.length,L=n+7>>3,j=4294967295,R=os.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(_=m<r?Ji:s,d=0,v=0;v<_;v++){const D=S-u;let P=0;const M=D>L?n:D*8-7,O=M&-8;let N=0,H=0;for(;P<O;P+=8)H=h[u++],x[d++]=H&128?j:R,x[d++]=H&64?j:R,x[d++]=H&32?j:R,x[d++]=H&16?j:R,x[d++]=H&8?j:R,x[d++]=H&4?j:R,x[d++]=H&2?j:R,x[d++]=H&1?j:R;for(;P<M;P++)N===0&&(H=h[u++],N=128),x[d++]=H&N?j:R,N>>=1}for(;d<C;)x[d++]=0;i.putImageData(l,0,m*Ji)}}else if(t.kind===C0.RGBA_32BPP){for(v=0,w=n*Ji*4,m=0;m<r;m++)p.set(h.subarray(u,u+w)),u+=w,i.putImageData(l,0,v),v+=Ji;m<a&&(w=n*s*4,p.set(h.subarray(u,u+w)),i.putImageData(l,0,v))}else if(t.kind===C0.RGB_24BPP)for(_=Ji,w=n*_,m=0;m<a;m++){for(m>=r&&(_=s,w=n*_),d=0,v=w;v--;)p[d++]=h[u++],p[d++]=h[u++],p[d++]=h[u++],p[d++]=255;i.putImageData(l,0,m*Ji)}else throw new Error(`bad image kind: ${t.kind}`)}function JN(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%Ji,r=(e-s)/Ji,a=s===0?r:r+1,l=i.createImageData(n,Ji);let u=0;const d=t.data,h=l.data;for(let p=0;p<a;p++){const m=p<r?Ji:s;({srcPos:u}=Hst({src:d,srcPos:u,dest:h,width:n,height:m,nonBlackColor:0})),i.putImageData(l,0,p*Ji)}}function yp(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function Iv(i){if(i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0),!Ci){const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}}function tI(i,t){if(t)return!0;const e=Gt.singularValueDecompose2dScale(i);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*Yd.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const qst=["butt","round","square"],Yst=["miter","round","bevel"],Xst={},eI={};var mb,EC,yb,TC;const Kst=class S4{constructor(t,e,n,s,r,{optionalContentConfig:a,markedContentStack:l=null},u,d){B(this,mb),B(this,yb),this.ctx=t,this.current=new QN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new Vst(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...sn(this.compositeCtx))}this.ctx.save(),Iv(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=sn(this.ctx)}executeOperatorList(t,e,n,s){const r=t.argsArray,a=t.fnArray;let l=e||0;const u=r.length;if(u===l)return l;const d=u-l>XN&&typeof n=="function",h=d?Date.now()+$st:0;let p=0;const m=this.commonObjs,v=this.objs;let _;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,n),l;if(_=a[l],_!==sr.dependency)this[_].apply(this,r[l]);else for(const w of r[l]){const S=w.startsWith("g_")?m:v;if(!S.has(w))return S.get(w,n),l}if(l++,l===u)return l;if(d&&++p>XN){if(Date.now()>h)return n(),l;p=0}}}endDrawing(){Y(this,mb,EC).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),Y(this,yb,TC).call(this)}_scaleImage(t,e){const n=t.width,s=t.height;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),l=n,u=s,d="prescale1",h,p;for(;r>2&&l>1||a>2&&u>1;){let m=l,v=u;r>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),r/=l/m),a>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/v),h=this.cachedCanvases.getCanvas(d,m,v),p=h.context,p.clearRect(0,0,m,v),p.drawImage(t,0,0,l,u,0,0,m,v),t=h.canvas,l=m,u=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:u}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:s}=t,r=this.current.fillColor,a=this.current.patternFill,l=sn(e);let u,d,h,p;if((t.bitmap||t.data)&&t.count>1){const M=t.bitmap||t.data.buffer;d=JSON.stringify(a?l:[l.slice(0,4),r]),u=this._cachedBitmapsMap.get(M),u||(u=new Map,this._cachedBitmapsMap.set(M,u));const O=u.get(d);if(O&&!a){const N=Math.round(Math.min(l[0],l[2])+l[4]),H=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:O,offsetX:N,offsetY:H}}h=O}h||(p=this.cachedCanvases.getCanvas("maskCanvas",n,s),JN(p.context,t));let m=Gt.transform(l,[1/n,0,0,-1/s,0,0]);m=Gt.transform(m,[1,0,0,1,0,-s]);const[v,_,w,S]=Gt.getAxialAlignedBoundingBox([0,0,n,s],m),x=Math.round(w-v)||1,C=Math.round(S-_)||1,L=this.cachedCanvases.getCanvas("fillCanvas",x,C),j=L.context,R=v,D=_;j.translate(-R,-D),j.transform(...m),h||(h=this._scaleImage(p.canvas,Aa(j)),h=h.img,u&&a&&u.set(d,h)),j.imageSmoothingEnabled=tI(sn(j),t.interpolate),Nv(j,h,0,0,h.width,h.height,0,0,n,s),j.globalCompositeOperation="source-in";const P=Gt.transform(Aa(j),[1,0,0,1,-R,-D]);return j.fillStyle=a?r.getPattern(e,this,P,Ni.FILL):r,j.fillRect(0,0,n,s),u&&!a&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,L.canvas)),{canvas:L.canvas,offsetX:Math.round(R),offsetY:Math.round(D)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=qst[t]}setLineJoin(t){this.ctx.lineJoin=Yst[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=s.context;const r=this.ctx;r.setTransform(...sn(this.suspendedCtx)),yp(this.suspendedCtx,r),Wst(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),yp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const r=s[0],a=s[1],l=s[2]-r,u=s[3]-a;l===0||u===0||(this.genericComposeSMask(e.context,n,l,u,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,r,a,l,u,d,h,p){let m=t.canvas,v=u-h,_=d-p;if(a){if(v<0||_<0||v+n>m.width||_+s>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,s),x=S.context;x.drawImage(m,-v,-_),a.some(C=>C!==0)&&(x.globalCompositeOperation="destination-atop",x.fillStyle=Gt.makeHexColor(...a),x.fillRect(0,0,n,s),x.globalCompositeOperation="source-over"),m=S.canvas,v=_=0}else if(a.some(S=>S!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(v,_,n,s),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=Gt.makeHexColor(...a),t.fillRect(v,_,n,s),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&l?e.filter=this.filterFactory.addAlphaFilter(l):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(l));const w=new Path2D;w.rect(u,d,n,s),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(m,v,_,n,s,u,d,n,s),e.restore()}save(){this.inSMaskMode?(yp(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),yp(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,s,r,a){this.ctx.transform(t,e,n,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const s=this.ctx,r=this.current;let a=r.x,l=r.y,u,d;const h=sn(s),p=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,m=p?n.slice(0):null;for(let v=0,_=0,w=t.length;v<w;v++)switch(t[v]|0){case sr.rectangle:a=e[_++],l=e[_++];const S=e[_++],x=e[_++],C=a+S,L=l+x;s.moveTo(a,l),S===0||x===0?s.lineTo(C,L):(s.lineTo(C,l),s.lineTo(C,L),s.lineTo(a,L)),p||r.updateRectMinMax(h,[a,l,C,L]),s.closePath();break;case sr.moveTo:a=e[_++],l=e[_++],s.moveTo(a,l),p||r.updatePathMinMax(h,a,l);break;case sr.lineTo:a=e[_++],l=e[_++],s.lineTo(a,l),p||r.updatePathMinMax(h,a,l);break;case sr.curveTo:u=a,d=l,a=e[_+4],l=e[_+5],s.bezierCurveTo(e[_],e[_+1],e[_+2],e[_+3],a,l),r.updateCurvePathMinMax(h,u,d,e[_],e[_+1],e[_+2],e[_+3],a,l,m),_+=6;break;case sr.curveTo2:u=a,d=l,s.bezierCurveTo(a,l,e[_],e[_+1],e[_+2],e[_+3]),r.updateCurvePathMinMax(h,u,d,a,l,e[_],e[_+1],e[_+2],e[_+3],m),a=e[_+2],l=e[_+3],_+=4;break;case sr.curveTo3:u=a,d=l,a=e[_+2],l=e[_+3],s.bezierCurveTo(e[_],e[_+1],a,l,a,l),r.updateCurvePathMinMax(h,u,d,e[_],e[_+1],a,l,a,l,m),_+=4;break;case sr.closePath:s.closePath();break}p&&r.updateScalingPathMinMax(h,m),r.setCurrentPoint(a,l)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&n!=null&&n.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,Aa(e),Ni.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;let r=!1;s&&(e.save(),e.fillStyle=n.getPattern(e,this,Aa(e),Ni.FILL),r=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Xst}eoClip(){this.pendingClip=eI}beginText(){this.current.textMatrix=zB,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var n;const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||xT,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&me("Invalid font matrix for font "+t),e<0?(e=-e,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const a=s.loadedName||"sans-serif",l=((n=s.systemFontInfo)==null?void 0:n.css)||`"${a}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let h=e;e<qN?h=qN:e>YN&&(h=YN),this.current.fontSizeScale=e/h,this.ctx.font=`${d} ${u} ${h}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,s,r,a){this.current.textMatrix=[t,e,n,s,r,a],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,s){const r=this.ctx,a=this.current,l=a.font,u=a.textRenderingMode,d=a.fontSize/a.fontSizeScale,h=u&hi.FILL_STROKE_MASK,p=!!(u&hi.ADD_TO_PATH_FLAG),m=a.patternFill&&!l.missingFile;let v;(l.disableFontFace||p||m)&&(v=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||m?(r.save(),r.translate(e,n),r.beginPath(),v(r,d),s&&r.setTransform(...s),(h===hi.FILL||h===hi.FILL_STROKE)&&r.fill(),(h===hi.STROKE||h===hi.FILL_STROKE)&&r.stroke(),r.restore()):((h===hi.FILL||h===hi.FILL_STROKE)&&r.fillText(t,e,n),(h===hi.STROKE||h===hi.FILL_STROKE)&&r.strokeText(t,e,n)),p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:sn(r),x:e,y:n,fontSize:d,addToPath:v})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Te(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const s=e.fontSize;if(s===0)return;const r=this.ctx,a=e.fontSizeScale,l=e.charSpacing,u=e.wordSpacing,d=e.fontDirection,h=e.textHScale*d,p=t.length,m=n.vertical,v=m?1:-1,_=n.defaultVMetrics,w=s*e.fontMatrix[0],S=e.textRenderingMode===hi.FILL&&!n.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),d>0?r.scale(h,-1):r.scale(h,1);let x;if(e.patternFill){r.save();const D=e.fillColor.getPattern(r,this,Aa(r),Ni.FILL);x=sn(r),r.restore(),r.fillStyle=D}let C=e.lineWidth;const L=e.textMatrixScale;if(L===0||C===0){const D=e.textRenderingMode&hi.FILL_STROKE_MASK;(D===hi.STROKE||D===hi.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=L;if(a!==1&&(r.scale(a,a),C/=a),r.lineWidth=C,n.isInvalidPDFjsFont){const D=[];let P=0;for(const M of t)D.push(M.unicode),P+=M.width;r.fillText(D.join(""),0,0),e.x+=P*w*h,r.restore(),this.compose();return}let j=0,R;for(R=0;R<p;++R){const D=t[R];if(typeof D=="number"){j+=v*D*s/1e3;continue}let P=!1;const M=(D.isSpace?u:0)+l,O=D.fontChar,N=D.accent;let H,Q,G=D.width;if(m){const nt=D.vmetric||_,$=-(D.vmetric?nt[1]:G*.5)*w,T=nt[2]*w;G=nt?-nt[0]:G,H=$/a,Q=(j+T)/a}else H=j/a,Q=0;if(n.remeasure&&G>0){const nt=r.measureText(O).width*1e3/s*a;if(G<nt&&this.isFontSubpixelAAEnabled){const $=G/nt;P=!0,r.save(),r.scale($,1),H/=$}else G!==nt&&(H+=(G-nt)/2e3*s/a)}if(this.contentVisible&&(D.isInFont||n.missingFile)){if(S&&!N)r.fillText(O,H,Q);else if(this.paintChar(O,H,Q,x),N){const nt=H+s*N.offset.x/a,$=Q-s*N.offset.y/a;this.paintChar(N.fontChar,nt,$,x)}}const J=m?G*w-M*d:G*w+M*d;j+=J,P&&r.restore()}m?e.y-=j:e.x+=j*h,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,s=n.font,r=n.fontSize,a=n.fontDirection,l=s.vertical?1:-1,u=n.charSpacing,d=n.wordSpacing,h=n.textHScale*a,p=n.fontMatrix||xT,m=t.length,v=n.textRenderingMode===hi.INVISIBLE;let _,w,S,x;if(!(v||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(h,a),_=0;_<m;++_){if(w=t[_],typeof w=="number"){x=l*w*r/1e3,this.ctx.translate(x,0),n.x+=x*h;continue}const C=(w.isSpace?d:0)+u,L=s.charProcOperatorList[w.operatorListId];if(!L){me(`Type3 character "${w.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=w,this.save(),e.scale(r,r),e.transform(...p),this.executeOperatorList(L),this.restore()),S=Gt.applyTransform([w.width,0],p)[0]*r+C,e.translate(S,0),n.x+=S*h}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,s,r,a){this.ctx.rect(n,s,r-n,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],s=this.baseTransform||sn(this.ctx),r={createCanvasGraphics:a=>new S4(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Ust(t,n,this.ctx,r,s)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const s=Gt.makeHexColor(t,e,n);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(t,e,n){const s=Gt.makeHexColor(t,e,n);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=zst(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Aa(e),Ni.SHADING);const s=Aa(e);if(s){const{width:r,height:a}=e.canvas,[l,u,d,h]=Gt.getAxialAlignedBoundingBox([0,0,r,a],s);this.ctx.fillRect(l,u,d-l,h-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Be("Should not call beginInlineImage")}beginImageData(){Be("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=sn(this.ctx),e)){const n=e[2]-e[0],s=e[3]-e[1];this.ctx.rect(e[0],e[1],n,s),this.current.updateRectMinMax(sn(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||A_("TODO: Support non-isolated groups."),t.knockout&&me("Knockout groups not supported.");const n=sn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Gt.getAxialAlignedBoundingBox(t.bbox,sn(e));const r=[0,0,e.canvas.width,e.canvas.height];s=Gt.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-a,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(h,u,d),m=p.context;m.translate(-a,-l),m.transform(...n),t.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:a,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(a,l),e.save()),yp(e,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=sn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=Gt.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],s);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,n,s,r){if(Y(this,mb,EC).call(this),Iv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const a=e[2]-e[0],l=e[3]-e[1];if(r&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=a,e[3]=l;const[u,d]=Gt.singularValueDecompose2dScale(sn(this.ctx)),{viewportScale:h}=this,p=Math.ceil(a*this.outputScaleX*h),m=Math.ceil(l*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:v,context:_}=this.annotationCanvas;this.annotationCanvasMap.set(t,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_,this.ctx.save(),this.ctx.setTransform(u,0,0,-d,0,l*d),Iv(this.ctx)}else Iv(this.ctx),this.ctx.rect(e[0],e[1],a,l),this.ctx.clip(),this.endPath()}this.current=new QN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Y(this,yb,TC).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=Gst(t)),s.compiled)){s.compiled(n);return}const r=this._createMaskCanvas(t),a=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,s=0,r,a){if(!this.contentVisible)return;t=this.getObject(t.data,t);const l=this.ctx;l.save();const u=sn(l);l.transform(e,n,s,r,0,0);const d=this._createMaskCanvas(t);l.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]);for(let h=0,p=a.length;h<p;h+=2){const m=Gt.transform(u,[e,n,s,r,a[h],a[h+1]]),[v,_]=Gt.applyTransform([0,0],m);l.drawImage(d.canvas,v,_)}l.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,s=this.current.patternFill;for(const r of t){const{data:a,width:l,height:u,transform:d}=r,h=this.cachedCanvases.getCanvas("maskCanvas",l,u),p=h.context;p.save();const m=this.getObject(a,r);JN(p,m),p.globalCompositeOperation="source-in",p.fillStyle=s?n.getPattern(p,this,Aa(e),Ni.FILL):n,p.fillRect(0,0,l,u),p.restore(),e.save(),e.transform(...d),e.scale(1,-1),Nv(e,h.canvas,0,0,l,u,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){me("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,s){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){me("Dependent image isn't ready yet");return}const a=r.width,l=r.height,u=[];for(let d=0,h=s.length;d<h;d+=2)u.push({transform:[e,0,0,n,s[d],s[d+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(r,u)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,s=this.ctx;if(this.save(),!Ci){const{filter:l}=s;l!=="none"&&l!==""&&(s.filter="none")}s.scale(1/e,-1/n);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const l=this.cachedCanvases.getCanvas("inlineImage",e,n).context;ZN(l,t),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,Aa(s));s.imageSmoothingEnabled=tI(sn(s),t.interpolate),Nv(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const r=t.width,a=t.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;ZN(l,t),s=this.applyTransferMapsToCanvas(l)}for(const r of e)n.save(),n.transform(...r.transform),n.scale(1,-1),Nv(n,s,r.x,r.y,r.w,r.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===eI?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=sn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:r}=this.ctx.getTransform();let a,l;if(n===0&&s===0){const u=Math.abs(e),d=Math.abs(r);if(u===d)if(t===0)a=l=1/u;else{const h=u*t;a=l=h<1?1/h:1}else if(t===0)a=1/u,l=1/d;else{const h=u*t,p=d*t;a=h<1?1/h:1,l=p<1?1/p:1}}else{const u=Math.abs(e*r-n*s),d=Math.hypot(e,n),h=Math.hypot(s,r);if(t===0)a=h/u,l=d/u;else{const p=t*u;a=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[s,r]=this.getScaleForStroking();if(e.lineWidth=n||1,s===1&&r===1){e.stroke();return}const a=e.getLineDash();if(t&&e.save(),e.scale(s,r),a.length>0){const l=Math.max(s,r);e.setLineDash(a.map(u=>u/l)),e.lineDashOffset/=l}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};mb=new WeakSet,EC=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},yb=new WeakSet,TC=function(){if(this.pageColors){const i=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(i!=="none"){const t=this.ctx.filter;this.ctx.filter=i,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let vb=Kst;for(const i in sr)vb.prototype[i]!==void 0&&(vb.prototype[sr[i]]=vb.prototype[i]);var s1,r1;class wl{static get workerPort(){return y(this,s1)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");X(this,s1,t)}static get workerSrc(){return y(this,r1)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");X(this,r1,t)}}s1=new WeakMap,r1=new WeakMap,B(wl,s1,null),B(wl,r1,"");const Fv={DATA:1,ERROR:2},Sn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ys(i){switch(i instanceof Error||typeof i=="object"&&i!==null||Be('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new mu(i.message);case"MissingPDFException":return new gu(i.message);case"PasswordException":return new TT(i.message,i.code);case"UnexpectedResponseException":return new S_(i.message,i.status);case"UnknownErrorException":return new CT(i.message,i.details);default:return new CT(i.message,i.toString())}}var CC,x4,kC,E4,ng,jv;class ig{constructor(t,e,n){B(this,CC),B(this,kC),B(this,ng),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const r=s.data;if(r.targetName!==this.sourceName)return;if(r.stream){Y(this,kC,E4).call(this,r);return}if(r.callback){const l=r.callbackId,u=this.callbackCapabilities[l];if(!u)throw new Error(`Cannot resolve callback ${l}`);if(delete this.callbackCapabilities[l],r.callback===Fv.DATA)u.resolve(r.data);else if(r.callback===Fv.ERROR)u.reject(ys(r.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[r.action];if(!a)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const l=this.sourceName,u=r.sourceName;new Promise(function(d){d(a(r.data))}).then(function(d){n.postMessage({sourceName:l,targetName:u,callback:Fv.DATA,callbackId:r.callbackId,data:d})},function(d){n.postMessage({sourceName:l,targetName:u,callback:Fv.ERROR,callbackId:r.callbackId,reason:ys(d)})});return}if(r.streamId){Y(this,CC,x4).call(this,r);return}a(r.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,s){const r=this.streamId++,a=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:l,action:t,streamId:r,data:e,desiredSize:d.desiredSize},s),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[r].pullCall=h,u.postMessage({sourceName:a,targetName:l,stream:Sn.PULL,streamId:r,desiredSize:d.desiredSize}),h.promise},cancel:d=>{On(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[r].cancelCall=h,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:a,targetName:l,stream:Sn.CANCEL,streamId:r,reason:ys(d)}),h.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}CC=new WeakSet,x4=function(i){const t=i.streamId,e=this.sourceName,n=i.sourceName,s=this.comObj,r=this,a=this.actionHandler[i.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=d,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:e,targetName:n,stream:Sn.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:e,targetName:n,stream:Sn.CLOSE,streamId:t}),delete r.streamSinks[t])},error(u){On(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:e,targetName:n,stream:Sn.ERROR,streamId:t,reason:ys(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:i.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(i.data,l))}).then(function(){s.postMessage({sourceName:e,targetName:n,stream:Sn.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:e,targetName:n,stream:Sn.START_COMPLETE,streamId:t,reason:ys(u)})})},kC=new WeakSet,E4=function(i){const t=i.streamId,e=this.sourceName,n=i.sourceName,s=this.comObj,r=this.streamControllers[t],a=this.streamSinks[t];switch(i.stream){case Sn.START_COMPLETE:i.success?r.startCall.resolve():r.startCall.reject(ys(i.reason));break;case Sn.PULL_COMPLETE:i.success?r.pullCall.resolve():r.pullCall.reject(ys(i.reason));break;case Sn.PULL:if(!a){s.postMessage({sourceName:e,targetName:n,stream:Sn.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&i.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=i.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){s.postMessage({sourceName:e,targetName:n,stream:Sn.PULL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:e,targetName:n,stream:Sn.PULL_COMPLETE,streamId:t,reason:ys(l)})});break;case Sn.ENQUEUE:if(On(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(i.chunk);break;case Sn.CLOSE:if(On(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),Y(this,ng,jv).call(this,r,t);break;case Sn.ERROR:On(r,"error should have stream controller"),r.controller.error(ys(i.reason)),Y(this,ng,jv).call(this,r,t);break;case Sn.CANCEL_COMPLETE:i.success?r.cancelCall.resolve():r.cancelCall.reject(ys(i.reason)),Y(this,ng,jv).call(this,r,t);break;case Sn.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,ys(i.reason)))}).then(function(){s.postMessage({sourceName:e,targetName:n,stream:Sn.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){s.postMessage({sourceName:e,targetName:n,stream:Sn.CANCEL_COMPLETE,streamId:t,reason:ys(l)})}),a.sinkCapability.reject(ys(i.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},ng=new WeakSet,jv=async function(i,t){var e,n,s;await Promise.allSettled([(e=i.startCall)==null?void 0:e.promise,(n=i.pullCall)==null?void 0:n.promise,(s=i.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Fh,bb;class Qst{constructor({parsedData:t,rawData:e}){B(this,Fh,void 0),B(this,bb,void 0),X(this,Fh,t),X(this,bb,e)}getRaw(){return y(this,bb)}get(t){return y(this,Fh).get(t)??null}getAll(){return nR(y(this,Fh))}has(t){return y(this,Fh).has(t)}}Fh=new WeakMap,bb=new WeakMap;const $o=Symbol("INTERNAL");var wb,_b,Ab,sg;class Zst{constructor(t,{name:e,intent:n,usage:s}){B(this,wb,!1),B(this,_b,!1),B(this,Ab,!1),B(this,sg,!0),X(this,wb,!!(t&Vs.DISPLAY)),X(this,_b,!!(t&Vs.PRINT)),this.name=e,this.intent=n,this.usage=s}get visible(){if(y(this,Ab))return y(this,sg);if(!y(this,sg))return!1;const{print:t,view:e}=this.usage;return y(this,wb)?e?.viewState!=="OFF":y(this,_b)?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==$o&&Be("Internal method `_setVisible` called."),X(this,Ab,n),X(this,sg,e)}}wb=new WeakMap,_b=new WeakMap,Ab=new WeakMap,sg=new WeakMap;var lc,He,rg,ag,a1,RC;class Jst{constructor(t,e=Vs.DISPLAY){if(B(this,a1),B(this,lc,null),B(this,He,new Map),B(this,rg,null),B(this,ag,null),this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,X(this,ag,t.order);for(const n of t.groups)y(this,He).set(n.id,new Zst(e,n));if(t.baseState==="OFF")for(const n of y(this,He).values())n._setVisible($o,!1);for(const n of t.on)y(this,He).get(n)._setVisible($o,!0);for(const n of t.off)y(this,He).get(n)._setVisible($o,!1);X(this,rg,this.getHash())}}isVisible(t){if(y(this,He).size===0)return!0;if(!t)return A_("Optional content group not defined."),!0;if(t.type==="OCG")return y(this,He).has(t.id)?y(this,He).get(t.id).visible:(me(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return Y(this,a1,RC).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!y(this,He).has(e))return me(`Optional content group not found: ${e}`),!0;if(y(this,He).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!y(this,He).has(e))return me(`Optional content group not found: ${e}`),!0;if(!y(this,He).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!y(this,He).has(e))return me(`Optional content group not found: ${e}`),!0;if(!y(this,He).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!y(this,He).has(e))return me(`Optional content group not found: ${e}`),!0;if(y(this,He).get(e).visible)return!1}return!0}return me(`Unknown optional content policy ${t.policy}.`),!0}return me(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const n=y(this,He).get(t);if(!n){me(`Optional content group not found: ${t}`);return}n._setVisible($o,!!e,!0),X(this,lc,null)}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const r=y(this,He).get(s);if(r)switch(n){case"ON":r._setVisible($o,!0);break;case"OFF":r._setVisible($o,!1);break;case"Toggle":r._setVisible($o,!r.visible);break}}X(this,lc,null)}get hasInitialVisibility(){return y(this,rg)===null||this.getHash()===y(this,rg)}getOrder(){return y(this,He).size?y(this,ag)?y(this,ag).slice():[...y(this,He).keys()]:null}getGroups(){return y(this,He).size>0?nR(y(this,He)):null}getGroup(t){return y(this,He).get(t)||null}getHash(){if(y(this,lc)!==null)return y(this,lc);const t=new y4;for(const[e,n]of y(this,He))t.update(`${e}:${n.visible}`);return X(this,lc,t.hexdigest())}}lc=new WeakMap,He=new WeakMap,rg=new WeakMap,ag=new WeakMap,a1=new WeakSet,RC=function(i){const t=i.length;if(t<2)return!0;const e=i[0];for(let n=1;n<t;n++){const s=i[n];let r;if(Array.isArray(s))r=Y(this,a1,RC).call(this,s);else if(y(this,He).has(s))r=y(this,He).get(s).visible;else return me(`Optional content group not found: ${s}`),!0;switch(e){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return e==="And"};class trt{constructor(t,{disableRange:e=!1,disableStream:n=!1}){On(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,r?.length>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});On(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,s,r;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){On(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ert(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new nrt(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class ert{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=oR(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class nrt{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function irt(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let h=l(e);return h=unescape(h),h=u(h),h=d(h),r(h)}if(e=a(i),e){const h=d(e);return r(h)}if(e=n("filename","i").exec(i),e){e=e[1];let h=l(e);return h=d(h),r(h)}function n(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(h,{fatal:!0}),v=x_(p);p=m.decode(v),t=!1}catch{}}return p}function r(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function a(h){const p=[];let m;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=v.exec(h))!==null;){let[,w,S,x]=m;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[S,x]}const _=[];for(let w=0;w<p.length&&w in p;++w){let[S,x]=p[w];x=l(x),S&&(x=unescape(x),w===0&&(x=u(x))),_.push(x)}return _.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let m=0;m<p.length;++m){const v=p[m].indexOf('"');v!==-1&&(p[m]=p[m].slice(0,v),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function u(h){const p=h.indexOf("'");if(p===-1)return h;const m=h.slice(0,p),v=h.slice(p+1).replace(/^[^']*'/,"");return s(m,v)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,v,_){if(v==="q"||v==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,S){return String.fromCharCode(parseInt(S,16))}),s(m,_);try{_=atob(_)}catch{}return s(m,_)})}return""}function uR({getResponseHeader:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(i("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||n||!t||i("Accept-Ranges")!=="bytes"||(i("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function hR(i){const t=i("Content-Disposition");if(t){let e=irt(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(oR(e))return e}return null}function M_(i,t){return i===404||i===0&&t.startsWith("file:")?new gu('Missing PDF "'+t+'".'):new S_(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i)}function T4(i){return i===200||i===206}function C4(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function k4(i){const t=new Headers;for(const e in i){const n=i[e];n!==void 0&&t.append(e,n)}return t}function R4(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(me(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class nI{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return On(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new srt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new rrt(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class srt{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=k4(this._stream.httpHeaders);const n=e.url;fetch(n,C4(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!T4(s.status))throw M_(s.status,n);this._reader=s.body.getReader(),this._headersCapability.resolve();const r=u=>s.headers.get(u),{allowRangeRequests:a,suggestedLength:l}=uR({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=hR(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new mu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:R4(e),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class rrt{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=k4(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const r=s.url;fetch(r,C4(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!T4(a.status))throw M_(a.status,r);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded}),{value:R4(e),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const nE=200,iE=206;function art(i){const t=i.response;return typeof t!="string"?t:x_(t).buffer}class ort{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const s={begin:t,end:e};for(const r in n)s[r]=n[r];return this.request(s)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const a=this.httpHeaders[r];a!==void 0&&e.setRequestHeader(r,a)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=iE):s.expectedStatus=nE,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const s=this.pendingRequests[t];s&&((n=s.onProgress)==null||n.call(s,e))}onStateChange(t,e){var n,s,r;const a=this.pendingRequests[t];if(!a)return;const l=a.xhr;if(l.readyState>=2&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),l.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],l.status===0&&this.isHttp){(n=a.onError)==null||n.call(a,l.status);return}const u=l.status||nE;if(!(u===nE&&a.expectedStatus===iE)&&u!==a.expectedStatus){(s=a.onError)==null||s.call(a,l.status);return}const d=art(l);if(u===iE){const h=l.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);a.onDone({begin:parseInt(p[1],10),chunk:d})}else d?a.onDone({begin:0,chunk:d}):(r=a.onError)==null||r.call(a,l.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class lrt{constructor(t){this._source=t,this._manager=new ort(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return On(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new crt(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new urt(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class crt{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=a=>e.getResponseHeader(a),{allowRangeRequests:s,suggestedLength:r}=uR({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=hR(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=M_(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class urt{constructor(t,e,n){this._manager=t;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=M_(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const M4=/^file:\/\/\/[a-zA-Z]:\//;function hrt(i){const t=ea.get("url"),e=t.parse(i);return e.protocol==="file:"||e.host?e:/^[a-z]:[/\\]/i.test(i)?t.parse(`file:///${i}`):(e.host||(e.protocol="file:"),e)}class drt{constructor(t){this.source=t,this.url=hrt(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return On(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new grt(this):new frt(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new mrt(this,t,e):new prt(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class L4{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new mu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class O4{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(t=this.onProgress)==null||t.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o1(i,t){return{protocol:i.protocol,auth:i.auth,host:i.hostname,port:i.port,path:i.path,method:"GET",headers:t}}class frt extends L4{constructor(t){super(t);const e=n=>{if(n.statusCode===404){const l=new gu(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(n);const s=l=>this._readableStream.headers[l.toLowerCase()],{allowRangeRequests:r,suggestedLength:a}=uR({getResponseHeader:s,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=hR(s)};if(this._request=null,this._url.protocol==="http:"){const n=ea.get("http");this._request=n.request(o1(this._url,t.httpHeaders),e)}else{const n=ea.get("https");this._request=n.request(o1(this._url,t.httpHeaders),e)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class prt extends O4{constructor(t,e,n){super(t),this._httpHeaders={};for(const r in t.httpHeaders){const a=t.httpHeaders[r];a!==void 0&&(this._httpHeaders[r]=a)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const s=r=>{if(r.statusCode===404){const a=new gu(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=ea.get("http");this._request=r.request(o1(this._url,this._httpHeaders),s)}else{const r=ea.get("https");this._request=r.request(o1(this._url,this._httpHeaders),s)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class grt extends L4{constructor(t){super(t);let e=decodeURIComponent(this._url.path);M4.test(this._url.href)&&(e=e.replace(/^\//,""));const n=ea.get("fs");n.promises.lstat(e).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(e)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new gu(`Missing PDF "${e}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class mrt extends O4{constructor(t,e,n){super(t);let s=decodeURIComponent(this._url.path);M4.test(this._url.href)&&(s=s.replace(/^\//,""));const r=ea.get("fs");this._setReadableStream(r.createReadStream(s,{start:e,end:n-1}))}}const yrt=1e5,Gi=30,vrt=.8;var iI,Yl,gs,Bv,zv,Xl,No,Uv,Hv,fh,vp,bp,Kl,wp,$v,_p,ph,Wv,Vv,Is,gh,mh,Ap,sE,sI,rE,rI,Gv,aE,Sp,qv,oE,aI;let l1=(Is=class{constructor({textContentSource:i,container:t,viewport:e}){if(B(this,sE),B(this,rE),B(this,Gv),B(this,Yl,Promise.withResolvers()),B(this,gs,null),B(this,Bv,!1),B(this,zv,!!((iI=globalThis.FontInspector)!=null&&iI.enabled)),B(this,Xl,null),B(this,No,null),B(this,Uv,0),B(this,Hv,0),B(this,fh,null),B(this,vp,null),B(this,bp,0),B(this,Kl,0),B(this,wp,Object.create(null)),B(this,$v,[]),B(this,_p,null),B(this,ph,[]),B(this,Wv,new WeakMap),B(this,Vv,null),i instanceof ReadableStream)X(this,_p,i);else if(typeof i=="object")X(this,_p,new ReadableStream({start(l){l.enqueue(i),l.close()}}));else throw new Error('No "textContentSource" parameter specified.');X(this,gs,X(this,vp,t)),X(this,Kl,e.scale*(globalThis.devicePixelRatio||1)),X(this,bp,e.rotation),X(this,No,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:n,pageHeight:s,pageX:r,pageY:a}=e.rawDims;X(this,Vv,[1,0,0,-1,-r,a+s]),X(this,Hv,n),X(this,Uv,s),ru(t,e),y(this,Yl).promise.catch(()=>{}).then(()=>{y(Is,Ap).delete(this),X(this,No,null),X(this,wp,null)})}render(){const i=()=>{y(this,fh).read().then(({value:t,done:e})=>{if(e){y(this,Yl).resolve();return}y(this,Xl)??X(this,Xl,t.lang),Object.assign(y(this,wp),t.styles),Y(this,sE,sI).call(this,t.items),i()},y(this,Yl).reject)};return X(this,fh,y(this,_p).getReader()),y(Is,Ap).add(this),i(),y(this,Yl).promise}update({viewport:i,onBefore:t=null}){var e;const n=i.scale*(globalThis.devicePixelRatio||1),s=i.rotation;if(s!==y(this,bp)&&(t?.(),X(this,bp,s),ru(y(this,vp),{rotation:s})),n!==y(this,Kl)){t?.(),X(this,Kl,n);const r={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Y(e=Is,Sp,qv).call(e,y(this,Xl))};for(const a of y(this,ph))r.properties=y(this,Wv).get(a),r.div=a,Y(this,Gv,aE).call(this,r)}}cancel(){var i;const t=new mu("TextLayer task cancelled.");(i=y(this,fh))==null||i.cancel(t).catch(()=>{}),X(this,fh,null),y(this,Yl).reject(t)}get textDivs(){return y(this,ph)}get textContentItemsStr(){return y(this,$v)}static cleanup(){if(!(y(this,Ap).size>0)){y(this,gh).clear();for(const{canvas:i}of y(this,mh).values())i.remove();y(this,mh).clear()}}},Yl=new WeakMap,gs=new WeakMap,Bv=new WeakMap,zv=new WeakMap,Xl=new WeakMap,No=new WeakMap,Uv=new WeakMap,Hv=new WeakMap,fh=new WeakMap,vp=new WeakMap,bp=new WeakMap,Kl=new WeakMap,wp=new WeakMap,$v=new WeakMap,_p=new WeakMap,ph=new WeakMap,Wv=new WeakMap,Vv=new WeakMap,gh=new WeakMap,mh=new WeakMap,Ap=new WeakMap,sE=new WeakSet,sI=function(i){var t,e;if(y(this,Bv))return;(e=y(this,No)).ctx||(e.ctx=Y(t=Is,Sp,qv).call(t,y(this,Xl)));const n=y(this,ph),s=y(this,$v);for(const r of i){if(n.length>yrt){me("Ignoring additional textDivs for performance reasons."),X(this,Bv,!0);return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=y(this,gs);X(this,gs,document.createElement("span")),y(this,gs).classList.add("markedContent"),r.id!==null&&y(this,gs).setAttribute("id",`${r.id}`),a.append(y(this,gs))}else r.type==="endMarkedContent"&&X(this,gs,y(this,gs).parentNode);continue}s.push(r.str),Y(this,rE,rI).call(this,r)}},rE=new WeakSet,rI=function(i){var t;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:i.str!=="",hasEOL:i.hasEOL,fontSize:0};y(this,ph).push(e);const s=Gt.transform(y(this,Vv),i.transform);let r=Math.atan2(s[1],s[0]);const a=y(this,wp)[i.fontName];a.vertical&&(r+=Math.PI/2);const l=y(this,zv)&&a.fontSubstitution||a.fontFamily,u=Math.hypot(s[2],s[3]),d=u*Y(t=Is,oE,aI).call(t,l,y(this,Xl));let h,p;r===0?(h=s[4],p=s[5]-d):(h=s[4]+d*Math.sin(r),p=s[5]-d*Math.cos(r));const m="calc(var(--scale-factor)*",v=e.style;y(this,gs)===y(this,vp)?(v.left=`${(100*h/y(this,Hv)).toFixed(2)}%`,v.top=`${(100*p/y(this,Uv)).toFixed(2)}%`):(v.left=`${m}${h.toFixed(2)}px)`,v.top=`${m}${p.toFixed(2)}px)`),v.fontSize=`${m}${u.toFixed(2)}px)`,v.fontFamily=l,n.fontSize=u,e.setAttribute("role","presentation"),e.textContent=i.str,e.dir=i.dir,y(this,zv)&&(e.dataset.fontName=a.fontSubstitutionLoadedName||i.fontName),r!==0&&(n.angle=r*(180/Math.PI));let _=!1;if(i.str.length>1)_=!0;else if(i.str!==" "&&i.transform[0]!==i.transform[3]){const w=Math.abs(i.transform[0]),S=Math.abs(i.transform[3]);w!==S&&Math.max(w,S)/Math.min(w,S)>1.5&&(_=!0)}if(_&&(n.canvasWidth=a.vertical?i.height:i.width),y(this,Wv).set(e,n),y(this,No).div=e,y(this,No).properties=n,Y(this,Gv,aE).call(this,y(this,No)),n.hasText&&y(this,gs).append(e),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),y(this,gs).append(w)}},Gv=new WeakSet,aE=function(i){const{div:t,properties:e,ctx:n,prevFontSize:s,prevFontFamily:r}=i,{style:a}=t;let l="";if(e.canvasWidth!==0&&e.hasText){const{fontFamily:u}=a,{canvasWidth:d,fontSize:h}=e;(s!==h||r!==u)&&(n.font=`${h*y(this,Kl)}px ${u}`,i.prevFontSize=h,i.prevFontFamily=u);const{width:p}=n.measureText(t.textContent);p>0&&(l=`scaleX(${d*y(this,Kl)/p})`)}e.angle!==0&&(l=`rotate(${e.angle}deg) ${l}`),l.length>0&&(a.transform=l)},Sp=new WeakSet,qv=function(i=null){let t=y(this,mh).get(i||(i=""));if(!t){const e=document.createElement("canvas");e.className="hiddenCanvasElement",e.lang=i,document.body.append(e),t=e.getContext("2d",{alpha:!1}),y(this,mh).set(i,t)}return t},oE=new WeakSet,aI=function(i,t){const e=y(this,gh).get(i);if(e)return e;const n=Y(this,Sp,qv).call(this,t),s=n.font;n.canvas.width=n.canvas.height=Gi,n.font=`${Gi}px ${i}`;const r=n.measureText("");let a=r.fontBoundingBoxAscent,l=Math.abs(r.fontBoundingBoxDescent);if(a){const h=a/(a+l);return y(this,gh).set(i,h),n.canvas.width=n.canvas.height=0,n.font=s,h}n.strokeStyle="red",n.clearRect(0,0,Gi,Gi),n.strokeText("g",0,0);let u=n.getImageData(0,0,Gi,Gi).data;l=0;for(let h=u.length-1-3;h>=0;h-=4)if(u[h]>0){l=Math.ceil(h/4/Gi);break}n.clearRect(0,0,Gi,Gi),n.strokeText("A",0,Gi),u=n.getImageData(0,0,Gi,Gi).data,a=0;for(let h=0,p=u.length;h<p;h+=4)if(u[h]>0){a=Gi-Math.floor(h/4/Gi);break}n.canvas.width=n.canvas.height=0,n.font=s;const d=a?a/(a+l):vrt;return y(this,gh).set(i,d),d},B(Is,Sp),B(Is,oE),B(Is,gh,new Map),B(Is,mh,new Map),B(Is,Ap,new Set),Is);function brt(){qB("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:i,container:t,viewport:e,...n}=arguments[0],s=Object.keys(n);s.length>0&&me("Ignoring `renderTextLayer` parameters: "+s.join(", "));const r=new l1({textContentSource:i,container:t,viewport:e}),{textDivs:a,textContentItemsStr:l}=r;return{promise:r.render(),textDivs:a,textContentItemsStr:l}}function wrt(){qB("`updateTextLayer`, please use `TextLayer` instead.")}class xm{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(r){var a;if(!r)return;let l=null;const u=r.name;if(u==="#text")l=r.value;else if(xm.shouldBuildText(u))(a=r?.attributes)!=null&&a.textContent?l=r.attributes.textContent:r.value&&(l=r.value);else return;if(l!==null&&e.push({str:l}),!!r.children)for(const d of r.children)s(d)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const _rt=65536,Art=100,Srt=5e3,xrt=Ci?Pst:yst,Ert=Ci?Dst:VB,Trt=Ci?Ost:mst,Crt=Ci?Nst:GB;function krt(i){if(typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i}),typeof i!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!i.url&&!i.data&&!i.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const t=new Lrt,{docId:e}=t,n=i.url?Rrt(i.url):null,s=i.data?Mrt(i.data):null,r=i.httpHeaders||null,a=i.withCredentials===!0,l=i.password??null,u=i.range instanceof N4?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:_rt;let h=i.worker instanceof xb?i.worker:null;const p=i.verbosity,m=typeof i.docBaseUrl=="string"&&!aR(i.docBaseUrl)?i.docBaseUrl:null,v=typeof i.cMapUrl=="string"?i.cMapUrl:null,_=i.cMapPacked!==!1,w=i.CMapReaderFactory||Ert,S=typeof i.standardFontDataUrl=="string"?i.standardFontDataUrl:null,x=i.StandardFontDataFactory||Crt,C=i.stopAtErrors!==!0,L=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,j=i.isEvalSupported!==!1,R=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Ci,D=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,P=typeof i.disableFontFace=="boolean"?i.disableFontFace:Ci,M=i.fontExtraProperties===!0,O=i.enableXfa===!0,N=i.ownerDocument||globalThis.document,H=i.disableRange===!0,Q=i.disableStream===!0,G=i.disableAutoFetch===!0,J=i.pdfBug===!0,nt=u?u.length:i.length??NaN,$=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Ci&&!P,T=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:w===VB&&x===GB&&v&&S&&Hp(v,document.baseURI)&&Hp(S,document.baseURI),ct=i.canvasFactory||new xrt({ownerDocument:N}),Z=i.filterFactory||new Trt({docId:e,ownerDocument:N}),k=null;rst(p);const W={canvasFactory:ct,filterFactory:Z};if(T||(W.cMapReaderFactory=new w({baseUrl:v,isCompressed:_}),W.standardFontDataFactory=new x({baseUrl:S})),!h){const st={verbosity:p,port:wl.workerPort};h=st.port?xb.fromPort(st):new xb(st),t._worker=h}const K={docId:e,apiVersion:"4.3.136",data:s,password:l,disableAutoFetch:G,rangeChunkSize:d,length:nt,docBaseUrl:m,enableXfa:O,evaluatorOptions:{maxImageSize:L,disableFontFace:P,ignoreErrors:C,isEvalSupported:j,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:D,fontExtraProperties:M,useSystemFonts:$,cMapUrl:T?v:null,standardFontDataUrl:T?S:null}},et={disableFontFace:P,fontExtraProperties:M,ownerDocument:N,pdfBug:J,styleElement:k,loadingParams:{disableAutoFetch:G,enableXfa:O}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const st=h.messageHandler.sendWithPromise("GetDocRequest",K,s?[s.buffer]:null);let ut;return u?ut=new trt(u,{disableRange:H,disableStream:Q}):s||(ut=(lt=>Ci?(function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype})()&&Hp(lt.url)?new nI(lt):new drt(lt):Hp(lt.url)?new nI(lt):new lrt(lt))({url:n,length:nt,httpHeaders:r,withCredentials:a,rangeChunkSize:d,disableRange:H,disableStream:Q})),st.then(lt=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ft=new ig(e,lt,h.port),Ct=new Nrt(ft,t,ut,et,W);t._transport=Ct,ft.send("Ready",null)})}).catch(t._capability.reject),t}function Rrt(i){if(i instanceof URL)return i.href;try{return new URL(i,window.location).href}catch{if(Ci&&typeof i=="string")return i}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Mrt(i){if(Ci&&typeof ST<"u"&&i instanceof ST)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return x_(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function oI(i){return typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0}var MC;const P4=class D4{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Xs(D4,MC)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};MC=new WeakMap,B(P4,MC,0);let Lrt=P4,N4=class{constructor(i,t,e=!1,n=null){this.length=i,this.initialData=t,this.progressiveDone=e,this.contentDispositionFilename=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(i){this._rangeListeners.push(i)}addProgressListener(i){this._progressListeners.push(i)}addProgressiveReadListener(i){this._progressiveReadListeners.push(i)}addProgressiveDoneListener(i){this._progressiveDoneListeners.push(i)}onDataRange(i,t){for(const e of this._rangeListeners)e(i,t)}onDataProgress(i,t){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(i,t)})}onDataProgressiveRead(i){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(i)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const i of this._progressiveDoneListeners)i()})}transportReady(){this._readyCapability.resolve()}requestDataRange(i,t){Be("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class Ort{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Te(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var cc,rl,Ec,cd,Xg,c1;class Prt{constructor(t,e,n,s=!1){B(this,Ec),B(this,Xg),B(this,cc,null),B(this,rl,!1),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new jN:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new I4,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:r=!1}={}){return new Vm({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Te(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:s=nl.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null}){var p,m;(p=this._stats)==null||p.time("Overall");const v=this._transport.getRenderingIntent(n,s,h),{renderingIntent:_,cacheKey:w}=v;X(this,rl,!1),Y(this,Xg,c1).call(this),l||(l=this._transport.getOptionalContentConfig(_));let S=this._intentStates.get(w);S||(S=Object.create(null),this._intentStates.set(w,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const x=!!(_&Vs.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(m=this._stats)==null||m.time("Page Request"),this._pumpOperatorList(v));const C=R=>{var D;S.renderTasks.delete(L),(this._maybeCleanupAfterRender||x)&&X(this,rl,!0),Y(this,Ec,cd).call(this,!x),R?(L.capability.reject(R),this._abortOperatorList({intentState:S,reason:R instanceof Error?R:new Error(R)})):L.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},L=new Frt({callback:C,params:{canvasContext:t,viewport:e,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:d});(S.renderTasks||(S.renderTasks=new Set)).add(L);const j=L.task;return Promise.all([S.displayReadyCapability.promise,l]).then(([R,D])=>{var P;if(this.destroyed){C();return}if((P=this._stats)==null||P.time("Rendering"),!(D.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");L.initializeGraphics({transparency:R,optionalContentConfig:D}),L.operatorListChanged()}).catch(C),j}getOperatorList({intent:t="display",annotationMode:e=nl.ENABLE,printAnnotationStorage:n=null}={}){var s;function r(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const a=this._transport.getRenderingIntent(t,e,n,!0);let l=this._intentStates.get(a.cacheKey);l||(l=Object.create(null),this._intentStates.set(a.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(s=this._stats)==null||s.time("Page Request"),this._pumpOperatorList(a)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(n){return n.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>xm.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function r(){a.read().then(function({value:u,done:d}){if(d){n(l);return}l.lang??(l.lang=u.lang),Object.assign(l.styles,u.styles),l.items.push(...u.items),r()},s)}const a=e.getReader(),l={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),X(this,rl,!1),Y(this,Xg,c1).call(this),Promise.all(t)}cleanup(t=!1){X(this,rl,!0);const e=Y(this,Ec,cd).call(this,!1);return t&&e&&this._stats&&(this._stats=new jN),e}_startRenderPage(t,e){var n,s;const r=this._intentStates.get(e);r&&((n=this._stats)==null||n.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&Y(this,Ec,cd).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n}){const{map:s,transfer:r}=n,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:s},r).getReader(),l=this._intentStates.get(e);l.streamReader=a;const u=()=>{a.read().then(({value:d,done:h})=>{if(h){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,l),u())},d=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const h of l.renderTasks)h.operatorListChanged();Y(this,Ec,cd).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(d);else if(l.opListReadCapability)l.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof rR){let s=Art;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new mu(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}cc=new WeakMap,rl=new WeakMap,Ec=new WeakSet,cd=function(i=!1){if(Y(this,Xg,c1).call(this),!y(this,rl)||this.destroyed)return!1;if(i)return X(this,cc,setTimeout(()=>{X(this,cc,null),Y(this,Ec,cd).call(this,!1)},Srt)),!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),X(this,rl,!1),!0},Xg=new WeakSet,c1=function(){y(this,cc)&&(clearTimeout(y(this,cc)),X(this,cc,null))};var jh,LC;class Drt{constructor(){B(this,jh,new Set),B(this,LC,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};y(this,LC).then(()=>{for(const s of y(this,jh))s.call(this,n)})}addEventListener(t,e){y(this,jh).add(e)}removeEventListener(t,e){y(this,jh).delete(e)}terminate(){y(this,jh).clear()}}jh=new WeakMap,LC=new WeakMap;const Ha={isWorkerDisabled:!1,fakeWorkerId:0};Ci&&(Ha.isWorkerDisabled=!0,wl.workerSrc||(wl.workerSrc="./pdf.worker.mjs")),Ha.isSameOrigin=function(i,t){let e;try{if(e=new URL(i),!e.origin||e.origin==="null")return!1}catch{return!1}const n=new URL(t,e);return e.origin===n.origin},Ha.createCDNWrapper=function(i){const t=`await import("${i}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var Tc,Kg,Sb;const OC=class La{constructor({name:t=null,port:e=null,verbosity:n=ast()}={}){var s;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((s=y(La,Tc))!=null&&s.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(y(La,Tc)||X(La,Tc,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Ci?Promise.all([ea.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new ig("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!Ha.isWorkerDisabled&&!y(La,Kg,Sb)){let{workerSrc:t}=La;try{Ha.isSameOrigin(window.location.href,t)||(t=Ha.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new ig("main","worker",e),s=()=>{e.removeEventListener("error",r),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=()=>{this._webWorker||s()};e.addEventListener("error",r),n.on("test",l=>{if(e.removeEventListener("error",r),this.destroyed){s();return}l?(this._messageHandler=n,this._port=e,this._webWorker=e,this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),e.terminate())}),n.on("ready",l=>{if(e.removeEventListener("error",r),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};a();return}catch{A_("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){Ha.isWorkerDisabled||(me("Setting up fake worker."),Ha.isWorkerDisabled=!0),La._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new Drt;this._port=e;const n=`fake${Ha.fakeWorkerId++}`,s=new ig(n+"_worker",n,e);t.setup(s,e);const r=new ig(n,n+"_worker",e);this._messageHandler=r,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=y(La,Tc))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var e;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(e=y(this,Tc))==null?void 0:e.get(t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new La(t)}static get workerSrc(){if(wl.workerSrc)return wl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Te(this,"_setupFakeWorkerGlobal",(async()=>y(this,Kg,Sb)?y(this,Kg,Sb):(await import(this.workerSrc)).WorkerMessageHandler)())}};Tc=new WeakMap,Kg=new WeakSet,Sb=function(){var i;try{return((i=globalThis.pdfjsWorker)==null?void 0:i.WorkerMessageHandler)||null}catch{return null}},B(OC,Kg),B(OC,Tc,void 0);let xb=OC;var al,Oa,og,lg,Pa,Bh,cg;class Nrt{constructor(t,e,n,s,r){B(this,Bh),B(this,al,new Map),B(this,Oa,new Map),B(this,og,new Map),B(this,lg,new Map),B(this,Pa,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new I4,this.fontLoader=new Mst({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Te(this,"annotationStorage",new cR)}getRenderingIntent(t,e=nl.ENABLE,n=null,s=!1){let r=Vs.DISPLAY,a=_C;switch(t){case"any":r=Vs.ANY;break;case"display":break;case"print":r=Vs.PRINT;break;default:me(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case nl.DISABLE:r+=Vs.ANNOTATIONS_DISABLE;break;case nl.ENABLE:break;case nl.ENABLE_FORMS:r+=Vs.ANNOTATIONS_FORMS;break;case nl.ENABLE_STORAGE:r+=Vs.ANNOTATIONS_STORAGE,a=(r&Vs.PRINT&&n instanceof b4?n:this.annotationStorage).serializable;break;default:me(`getRenderingIntent - invalid annotationMode: ${e}`)}return s&&(r+=Vs.OPLIST),{renderingIntent:r,cacheKey:`${r}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(t=y(this,Pa))==null||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of y(this,Oa).values())e.push(s._destroy());y(this,Oa).clear(),y(this,og).clear(),y(this,lg).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),y(this,al).clear(),this.filterFactory.destroy(),l1.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new mu("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{On(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}On(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",n=>{const s=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var a;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((a=e.onProgress)==null||a.call(e,this._lastProgress)),r.onProgress=l=>{var u;(u=e.onProgress)==null||u.call(e,{loaded:l.loaded,total:l.total})}),s.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},s.reject),s.promise}),t.on("GetRangeReader",(n,s)=>{On(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:l}){if(l){s.close();return}On(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Ort(n,this))}),t.on("DocException",function(n){let s;switch(n.name){case"PasswordException":s=new TT(n.message,n.code);break;case"InvalidPDFException":s=new UB(n.message);break;case"MissingPDFException":s=new gu(n.message);break;case"UnexpectedResponseException":s=new S_(n.message,n.status);break;case"UnknownErrorException":s=new CT(n.message,n.details);break;default:Be("DocException - expected a valid Error.")}e._capability.reject(s)}),t.on("PasswordRequest",n=>{if(X(this,Pa,Promise.withResolvers()),e.onPassword){const s=r=>{r instanceof Error?y(this,Pa).reject(r):y(this,Pa).resolve({password:r})};try{e.onPassword(s,n.code)}catch(r){y(this,Pa).reject(r)}}else y(this,Pa).reject(new TT(n.message,n.code));return y(this,Pa).promise}),t.on("DataLoaded",n=>{var s;(s=e.onProgress)==null||s.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{this.destroyed||y(this,Oa).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":const{disableFontFace:l,fontExtraProperties:u,pdfBug:d}=this._params;if("error"in r){const v=r.error;me(`Error during font loading: ${v}`),this.commonObjs.resolve(n,v);break}const h=d&&(a=globalThis.FontInspector)!=null&&a.enabled?(v,_)=>globalThis.FontInspector.fontAdded(v,_):null,p=new Lst(r,{disableFontFace:l,inspectFont:h});this.fontLoader.bind(p).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u&&p.data&&(p.data=null),this.commonObjs.resolve(n,p)});break;case"CopyLocalImage":const{imageRef:m}=r;On(m,"The imageRef must be defined.");for(const v of y(this,Oa).values())for(const[,_]of v.objs)if(_?.ref===m)return _.dataLen?(this.commonObjs.resolve(n,structuredClone(_)),_.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,r,a])=>{var l;if(this.destroyed)return;const u=y(this,Oa).get(s);if(!u.objs.has(n)){if(u._intentStates.size===0){(l=a?.bitmap)==null||l.close();return}switch(r){case"Image":u.objs.resolve(n,a),a?.dataLen>est&&(u._maybeCleanupAfterRender=!0);break;case"Pattern":u.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{var s;this.destroyed||(s=e.onProgress)==null||s.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t;this.annotationStorage.size<=0&&me("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((t=this._fullReader)==null?void 0:t.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=y(this,og).get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&y(this,lg).set(r.refStr,t);const a=new Prt(e,r,this,this._params.pdfBug);return y(this,Oa).set(e,a),a});return y(this,og).set(e,s),s}getPageIndex(t){return oI(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return Y(this,Bh,cg).call(this,"GetFieldObjects")}hasJSActions(){return Y(this,Bh,cg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Y(this,Bh,cg).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return Y(this,Bh,cg).call(this,"GetOptionalContentConfig").then(e=>new Jst(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=y(this,al).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new Qst(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return y(this,al).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of y(this,Oa).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),y(this,al).clear(),this.filterFactory.destroy(!0),l1.cleanup()}}cachedPageNumber(t){if(!oI(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return y(this,lg).get(e)??null}}al=new WeakMap,Oa=new WeakMap,og=new WeakMap,lg=new WeakMap,Pa=new WeakMap,Bh=new WeakSet,cg=function(i,t=null){const e=y(this,al).get(i);if(e)return e;const n=this.messageHandler.sendWithPromise(i,t);return y(this,al).set(i,n),n};const Eb=Symbol("INITIAL_DATA");var Ir,Tb,PC;class I4{constructor(){B(this,Tb),B(this,Ir,Object.create(null))}get(t,e=null){if(e){const s=Y(this,Tb,PC).call(this,t);return s.promise.then(()=>e(s.data)),null}const n=y(this,Ir)[t];if(!n||n.data===Eb)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=y(this,Ir)[t];return!!e&&e.data!==Eb}resolve(t,e=null){const n=Y(this,Tb,PC).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in y(this,Ir)){const{data:n}=y(this,Ir)[e];(t=n?.bitmap)==null||t.close()}X(this,Ir,Object.create(null))}*[Symbol.iterator](){for(const t in y(this,Ir)){const{data:e}=y(this,Ir)[t];e!==Eb&&(yield[t,e])}}}Ir=new WeakMap,Tb=new WeakSet,PC=function(i){var t;return(t=y(this,Ir))[i]||(t[i]={...Promise.withResolvers(),data:Eb})};var uc;class Irt{constructor(t){B(this,uc,null),X(this,uc,t),this.onContinue=null}get promise(){return y(this,uc).capability.promise}cancel(t=0){y(this,uc).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=y(this,uc).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=y(this,uc);return t.form||t.canvas&&e?.size>0}}uc=new WeakMap;var ud;const F4=class ug{constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:m=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Irt(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var n,s;if(this.cancelled)return;if(this._canvas){if(y(ug,ud).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");y(ug,ud).add(this._canvas)}this._pdfBug&&(n=globalThis.StepperManager)!=null&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:a,transform:l,background:u}=this.params;this.gfx=new vb(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:a,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(s=this.graphicsReadyCallback)==null||s.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),y(ug,ud).delete(this._canvas),this.callback(t||new rR(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),y(ug,ud).delete(this._canvas),this.callback())))}};ud=new WeakMap,B(F4,ud,new WeakSet);let Frt=F4;const jrt="4.3.136",Brt="0cec64437";function lI(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function xp(i){return Math.max(0,Math.min(255,255*i))}class cI{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=xp(t),[t,t,t]}static G_HTML([t]){const e=lI(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(xp)}static RGB_HTML(t){return`#${t.map(lI).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[xp(1-Math.min(1,t+s)),xp(1-Math.min(1,n+s)),xp(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,r=1-e,a=1-n,l=Math.min(s,r,a);return["CMYK",s,r,a,l]}}class j4{static setupStorage(t,e,n,s,r){const a=s.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",l=>{s.setValue(e,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",l=>{s.setValue(e,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",l=>{s.setValue(e,{value:l.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const l of n.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:r}){const{attributes:a}=e,l=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[u,d]of Object.entries(a))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}l&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){var e,n;const s=t.annotationStorage,r=t.linkService,a=t.xfaHtml,l=t.intent||"display",u=document.createElement(a.name);a.attributes&&this.setAttributes({html:u,element:a,intent:l,linkService:r});const d=l!=="richText",h=t.div;if(h.append(u),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=v}d&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const v=document.createTextNode(a.value);u.append(v),d&&xm.shouldBuildText(a.name)&&p.push(v)}return{textDivs:p}}const m=[[a,-1,u]];for(;m.length>0;){const[v,_,w]=m.at(-1);if(_+1===v.children.length){m.pop();continue}const S=v.children[++m.at(-1)[1]];if(S===null)continue;const{name:x}=S;if(x==="#text"){const L=document.createTextNode(S.value);p.push(L),w.append(L);continue}const C=(e=S?.attributes)!=null&&e.xmlns?document.createElementNS(S.attributes.xmlns,x):document.createElement(x);if(w.append(C),S.attributes&&this.setAttributes({html:C,element:S,storage:s,intent:l,linkService:r}),((n=S.children)==null?void 0:n.length)>0)m.push([S,-1,C]);else if(S.value){const L=document.createTextNode(S.value);d&&xm.shouldBuildText(x)&&p.push(L),C.append(L)}}for(const v of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Ym=1e3,zrt=9,au=new WeakSet;function ao(i){return{width:i[2]-i[0],height:i[3]-i[1]}}class Urt{static create(t){switch(t.data.annotationType){case Mn.LINK:return new H4(t);case Mn.TEXT:return new $rt(t);case Mn.WIDGET:switch(t.data.fieldType){case"Tx":return new Wrt(t);case"Btn":return t.data.radioButton?new $4(t):t.data.checkBox?new Grt(t):new qrt(t);case"Ch":return new Yrt(t);case"Sig":return new Vrt(t)}return new yu(t);case Mn.POPUP:return new FC(t);case Mn.FREETEXT:return new G4(t);case Mn.LINE:return new Krt(t);case Mn.SQUARE:return new Qrt(t);case Mn.CIRCLE:return new Zrt(t);case Mn.POLYLINE:return new q4(t);case Mn.CARET:return new tat(t);case Mn.INK:return new Y4(t);case Mn.POLYGON:return new Jrt(t);case Mn.HIGHLIGHT:return new eat(t);case Mn.UNDERLINE:return new nat(t);case Mn.SQUIGGLY:return new iat(t);case Mn.STRIKEOUT:return new sat(t);case Mn.STAMP:return new X4(t);case Mn.FILEATTACHMENT:return new rat(t);default:return new Pn(t)}}}var hc,hg,dg,Cb,DC;const Hrt=class B4{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){B(this,Cb),B(this,hc,null),B(this,hg,!1),B(this,dg,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get hasPopupData(){return B4._hasPopupData(this.data)}updateEdited(t){var e;if(!this.container)return;y(this,hc)||X(this,hc,{rect:this.data.rect.slice(0)});const{rect:n}=t;n&&Y(this,Cb,DC).call(this,n),(e=y(this,dg))==null||e.popup.updateEdited(t)}resetEdited(){var t;y(this,hc)&&(Y(this,Cb,DC).call(this,y(this,hc).rect),(t=y(this,dg))==null||t.popup.resetEdited(),X(this,hc,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof yu||(r.tabIndex=Ym);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,e.popupRef&&r.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof FC){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,r),r}const{width:l,height:u}=ao(e.rect);if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(w>0||S>0){const C=`calc(${w}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;a.borderRadius=C}else if(this instanceof $4){const C=`calc(${l}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;a.borderRadius=C}switch(e.borderStyle.style){case pp.SOLID:a.borderStyle="solid";break;case pp.DASHED:a.borderStyle="dashed";break;case pp.BEVELED:me("Unimplemented border style: beveled");break;case pp.INSET:me("Unimplemented border style: inset");break;case pp.UNDERLINE:a.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(X(this,hg,!0),a.borderColor=Gt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const d=Gt.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:p,pageX:m,pageY:v}=s.rawDims;a.left=`${100*(d[0]-m)/h}%`,a.top=`${100*(d[1]-v)/p}%`;const{rotation:_}=e;return e.hasOwnCanvas||_===0?(a.width=`${100*l/h}%`,a.height=`${100*u/p}%`):this.setRotation(_,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims,{width:r,height:a}=ao(this.data.rect);let l,u;t%180===0?(l=100*r/n,u=100*a/s):(l=100*a/n,u=100*r/s),e.style.width=`${l}%`,e.style.height=`${u}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const r=s.detail[e],a=r[0],l=r.slice(1);s.target.style[n]=cI[`${a}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:cI[`${a}_rgb`](l)})};return Te(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail)){const r=t[s]||n[s];r?.(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,r]of Object.entries(e)){const a=n[s];if(a){const l={detail:{[s]:r},target:t};a(l),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,r]=this.data.rect;if(t.length===1){const[,{x:w,y:S},{x,y:C}]=t[0];if(s===w&&r===S&&e===x&&n===C)return}const{style:a}=this.container;let l;if(y(this,hg)){const{borderColor:w,borderWidth:S}=a;a.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const u=s-e,d=r-n,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const m=h.createElement("defs");p.append(m);const v=h.createElement("clipPath"),_=`clippath_${this.data.id}`;v.setAttribute("id",_),v.setAttribute("clipPathUnits","objectBoundingBox"),m.append(v);for(const[,{x:w,y:S},{x,y:C}]of t){const L=h.createElement("rect"),j=(x-e)/u,R=(r-S)/d,D=(w-x)/u,P=(S-C)/d;L.setAttribute("x",j),L.setAttribute("y",R),L.setAttribute("width",D),L.setAttribute("height",P),v.append(L),l?.push(`<rect vector-effect="non-scaling-stroke" x="${j}" y="${R}" width="${D}" height="${P}"/>`)}y(this,hg)&&(l.push("</g></svg>')"),a.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${_})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=X(this,dg,new FC({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Be("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:l}of s){if(r===-1||a===e)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!au.has(d)){me(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:u,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&au.has(s)&&n.push({id:a,exportValue:r,domElement:s})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};hc=new WeakMap,hg=new WeakMap,dg=new WeakMap,Cb=new WeakSet,DC=function(i){const{container:{style:t},data:{rect:e,rotation:n},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:l}}}}=this;e?.splice(0,4,...i);const{width:u,height:d}=ao(i);t.left=`${100*(i[0]-a)/s}%`,t.top=`${100*(r-i[3]+l)/r}%`,n===0?(t.width=`${100*u/s}%`,t.height=`${100*d/r}%`):this.setRotation(n)};let Pn=Hrt;var ol,jc,NC,z4,IC,U4;class H4 extends Pn{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!(e!=null&&e.ignoreBorder),createQuadrilaterals:!0}),B(this,ol),B(this,NC),B(this,IC),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action),s=!0):t.attachment?(Y(this,NC,z4).call(this,n,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(Y(this,IC,U4).call(this,n,t.setOCGState),s=!0):t.dest?(this._bindLink(n,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&Y(this,ol,jc).call(this)}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),Y(this,ol,jc).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const r=n.get(s);r&&(t[r]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),Y(this,ol,jc).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),Y(this,ol,jc).call(this),!this._fieldObjects){me('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{var s;n?.();const{fields:r,refs:a,include:l}=e,u=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const m of r){const v=this._fieldObjects[m]||[];for(const{id:_}of v)p.add(_)}for(const m of Object.values(this._fieldObjects))for(const v of m)p.has(v.id)===l&&u.push(v)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const d=this.annotationStorage,h=[];for(const p of u){const{id:m}=p;switch(h.push(m),p.type){case"text":{const _=p.defaultValue||"";d.setValue(m,{value:_});break}case"checkbox":case"radiobutton":{const _=p.defaultValue===p.exportValues;d.setValue(m,{value:_});break}case"combobox":case"listbox":{const _=p.defaultValue||"";d.setValue(m,{value:_});break}default:continue}const v=document.querySelector(`[data-element-id="${m}"]`);if(v){if(!au.has(v)){me(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((s=this.linkService.eventBus)==null||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}ol=new WeakSet,jc=function(){this.container.setAttribute("data-internal-link","")},NC=new WeakSet,z4=function(i,t,e=null){i.href=this.linkService.getAnchorUrl(""),t.description&&(i.title=t.description),i.onclick=()=>{var n;return(n=this.downloadManager)==null||n.openOrDownloadData(t.content,t.filename,e),!1},Y(this,ol,jc).call(this)},IC=new WeakSet,U4=function(i,t){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(t),!1),Y(this,ol,jc).call(this)};class $rt extends Pn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class yu extends Pn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return os.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,r){n.includes("mouse")?t.addEventListener(n,a=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{var l;if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(t,e,n,s){var r,a,l;for(const[u,d]of n)(d==="Action"||(r=this.data.actions)!=null&&r[d])&&((d==="Focus"||d==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,u,d,s),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(t,e,"blur","Blur",null):d==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Gt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||zrt,r=t.style;let a;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(Xx*s))||1,p=d/h;a=Math.min(s,u(p/Xx))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);a=Math.min(s,u(d/Xx))}r.fontSize=`calc(${a}px * var(--scale-factor))`,r.color=Gt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Wrt extends yu{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[s]:n})}render(){var t,e;const n=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=n.getValue(s,{value:this.data.fieldValue});let l=a.value||"";const u=n.getValue(s,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let d=a.formattedValue||((t=this.data.textContent)==null?void 0:t.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=d??l,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",d??l),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),au.add(r),r.setAttribute("data-element-id",s),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=Ym,this._setRequired(r,this.data.required),u&&(r.maxLength=u),r.addEventListener("input",m=>{n.setValue(s,{value:m.target.value}),this.setPropertyOnSiblings(r,"value",m.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue??"";r.value=h.userValue=v,h.formattedValue=null});let p=m=>{const{formattedValue:v}=h;v!=null&&(m.target.value=v),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{var _;if(h.focused)return;const{target:w}=v;h.userValue&&(w.value=h.userValue),h.lastCommittedValue=w.value,h.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const _={value(w){h.userValue=w.detail.value??"",n.setValue(s,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:S}=w.detail;h.formattedValue=S,S!=null&&w.target!==document.activeElement&&(w.target.value=S),n.setValue(s,{formattedValue:S})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var S;const{charLimit:x}=w.detail,{target:C}=w;if(x===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",x);let L=h.userValue;!L||L.length<=x||(L=L.slice(0,x),C.value=h.userValue=L,n.setValue(s,{value:L}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:L,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(_,v)}),r.addEventListener("keydown",v=>{var _;h.commitKey=1;let w=-1;if(v.key==="Escape"?w=0:v.key==="Enter"&&!this.data.multiLine?w=2:v.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:S}=v.target;h.lastCommittedValue!==S&&(h.lastCommittedValue=S,h.userValue=S,(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:S,willCommit:!0,commitKey:w,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const m=p;p=null,r.addEventListener("blur",v=>{var _,w;if(!h.focused||!v.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(h.focused=!1);const{value:S}=v.target;h.userValue=S,h.lastCommittedValue!==S&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:S,willCommit:!0,commitKey:h.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),m(v)}),(e=this.data.actions)!=null&&e.Keystroke&&r.addEventListener("beforeinput",v=>{var _;h.lastCommittedValue=null;const{data:w,target:S}=v,{value:x,selectionStart:C,selectionEnd:L}=S;let j=C,R=L;switch(v.inputType){case"deleteWordBackward":{const D=x.substring(0,C).match(/\w*[^\w]*$/);D&&(j-=D[0].length);break}case"deleteWordForward":{const D=x.substring(C).match(/^[^\w]*\w*/);D&&(R+=D[0].length);break}case"deleteContentBackward":C===L&&(j-=1);break;case"deleteContentForward":C===L&&(R+=1);break}v.preventDefault(),(_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:x,change:w||"",willCommit:!1,selStart:j,selEnd:R}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/u;r.classList.add("comb"),r.style.letterSpacing=`calc(${m}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Vrt extends yu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Grt extends yu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return au.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=Ym,r.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,n)){const h=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=h),t.setValue(d.id,{value:h})}t.setValue(n,{value:u})}),r.addEventListener("resetform",a=>{const l=e.defaultFieldValue||"Off";a.target.checked=l===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const l={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class $4 extends yu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(au.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=Ym,r.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:u})}),r.addEventListener("resetform",a=>{const l=e.defaultFieldValue;a.target.checked=l!=null&&l===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const h=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const m=h&&p.id===n;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class qrt extends H4{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class Yrt extends yu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");au.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=Ym;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const m of s.options)m.selected=m.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,n.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),r=!1),s.append(p)}let a=null;if(r){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),a=()=>{h.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const l=h=>{const p=h?"value":"textContent",{options:m,multiple:v}=s;return v?Array.prototype.filter.call(m,_=>_.selected).map(_=>_[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const p={value(m){a?.();const v=m.detail.value,_=new Set(Array.isArray(v)?v:[v]);for(const w of s.options)w.selected=_.has(w.value);t.setValue(e,{value:l(!0)}),u=l(!1)},multipleSelection(m){s.multiple=!0},remove(m){const v=s.options,_=m.detail.remove;v[_].selected=!1,s.remove(_),v.length>0&&Array.prototype.findIndex.call(v,w=>w.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:l(!0),items:d(m)}),u=l(!1)},clear(m){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),u=l(!1)},insert(m){const{index:v,displayValue:_,exportValue:w}=m.detail.insert,S=s.children[v],x=document.createElement("option");x.textContent=_,x.value=w,S?S.before(x):s.append(x),t.setValue(e,{value:l(!0),items:d(m)}),u=l(!1)},items(m){const{items:v}=m.detail;for(;s.length!==0;)s.remove(0);for(const _ of v){const{displayValue:w,exportValue:S}=_,x=document.createElement("option");x.textContent=w,x.value=S,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:l(!0),items:d(m)}),u=l(!1)},indices(m){const v=new Set(m.detail.indices);for(const _ of m.target.options)_.selected=v.has(_.index);t.setValue(e,{value:l(!0)}),u=l(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,h)}),s.addEventListener("input",h=>{var p;const m=l(!0),v=l(!1);t.setValue(e,{value:m}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:v,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(e,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class FC extends Pn{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Pn._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Xrt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${$B}${n}`).join(",")),this.container}}var Qg,jC,BC,Zg,zh,mn,Jo,Uh,u1,h1,Jg,Wo,Fr,ll,d1,cl,kb,dc,Hh,tm,Rb,Mb,lE,zC,uI,UC,W4,HC,V4,$C,hI,em,f1,nm,p1,g1,WC;class Xrt{constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:r,contentsObj:a,richText:l,parent:u,rect:d,parentRect:h,open:p}){B(this,tm),B(this,Mb),B(this,zC),B(this,UC),B(this,HC),B(this,$C),B(this,em),B(this,nm),B(this,g1),B(this,Qg,Y(this,HC,V4).bind(this)),B(this,jC,Y(this,g1,WC).bind(this)),B(this,BC,Y(this,nm,p1).bind(this)),B(this,Zg,Y(this,em,f1).bind(this)),B(this,zh,null),B(this,mn,null),B(this,Jo,null),B(this,Uh,null),B(this,u1,null),B(this,h1,null),B(this,Jg,null),B(this,Wo,!1),B(this,Fr,null),B(this,ll,null),B(this,d1,null),B(this,cl,null),B(this,kb,null),B(this,dc,null),B(this,Hh,!1);var m;X(this,mn,t),X(this,kb,s),X(this,Jo,a),X(this,cl,l),X(this,h1,u),X(this,zh,e),X(this,d1,d),X(this,Jg,h),X(this,u1,n),X(this,Uh,YB.toDateObject(r)),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",y(this,Zg)),v.addEventListener("mouseenter",y(this,BC)),v.addEventListener("mouseleave",y(this,jC)),v.classList.add("popupTriggerArea");for(const v of n)(m=v.container)==null||m.addEventListener("keydown",y(this,Qg));y(this,mn).hidden=!0,p&&Y(this,em,f1).call(this)}render(){if(y(this,Fr))return;const t=X(this,Fr,document.createElement("div"));if(t.className="popup",y(this,zh)){const r=t.style.outlineColor=Gt.makeHexColor(...y(this,zh));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=Gt.makeHexColor(...y(this,zh).map(a=>Math.floor(.7*(255-a)+a)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=y(this,kb),t.append(e),y(this,Uh)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:y(this,Uh).toLocaleDateString(),time:y(this,Uh).toLocaleTimeString()})),e.append(r)}const s=y(this,tm,Rb);if(s)j4.render({xfaHtml:s,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(y(this,Jo));t.append(r)}y(this,mn).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const s=t.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const l=s[r];n.append(document.createTextNode(l)),r<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;y(this,dc)||X(this,dc,{contentsObj:y(this,Jo),richText:y(this,cl)}),t&&X(this,ll,null),e&&(X(this,cl,Y(this,UC,W4).call(this,e)),X(this,Jo,null)),(n=y(this,Fr))==null||n.remove(),X(this,Fr,null)}resetEdited(){var t;y(this,dc)&&({contentsObj:Xs(this,Jo)._,richText:Xs(this,cl)._}=y(this,dc),X(this,dc,null),(t=y(this,Fr))==null||t.remove(),X(this,Fr,null),X(this,ll,null))}forceHide(){X(this,Hh,this.isVisible),y(this,Hh)&&(y(this,mn).hidden=!0)}maybeShow(){y(this,Hh)&&(y(this,Fr)||Y(this,nm,p1).call(this),X(this,Hh,!1),y(this,mn).hidden=!1)}get isVisible(){return y(this,mn).hidden===!1}}Qg=new WeakMap,jC=new WeakMap,BC=new WeakMap,Zg=new WeakMap,zh=new WeakMap,mn=new WeakMap,Jo=new WeakMap,Uh=new WeakMap,u1=new WeakMap,h1=new WeakMap,Jg=new WeakMap,Wo=new WeakMap,Fr=new WeakMap,ll=new WeakMap,d1=new WeakMap,cl=new WeakMap,kb=new WeakMap,dc=new WeakMap,Hh=new WeakMap,tm=new WeakSet,Rb=function(){const i=y(this,cl),t=y(this,Jo);return i!=null&&i.str&&(!(t!=null&&t.str)||t.str===i.str)&&y(this,cl).html||null},Mb=new WeakSet,lE=function(){var i,t,e;return((e=(t=(i=y(this,tm,Rb))==null?void 0:i.attributes)==null?void 0:t.style)==null?void 0:e.fontSize)||0},zC=new WeakSet,uI=function(){var i,t,e;return((e=(t=(i=y(this,tm,Rb))==null?void 0:i.attributes)==null?void 0:t.style)==null?void 0:e.color)||null},UC=new WeakSet,W4=function(i){const t=[],e={str:i,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},n={style:{color:y(this,zC,uI),fontSize:y(this,Mb,lE)?`calc(${y(this,Mb,lE)}px * var(--scale-factor))`:""}};for(const s of i.split(`
`))t.push({name:"span",value:s,attributes:n});return e},HC=new WeakSet,V4=function(i){i.altKey||i.shiftKey||i.ctrlKey||i.metaKey||(i.key==="Enter"||i.key==="Escape"&&y(this,Wo))&&Y(this,em,f1).call(this)},$C=new WeakSet,hI=function(){if(y(this,ll)!==null)return;const{page:{view:i},viewport:{rawDims:{pageWidth:t,pageHeight:e,pageX:n,pageY:s}}}=y(this,h1);let r=!!y(this,Jg),a=r?y(this,Jg):y(this,d1);for(const m of y(this,u1))if(!a||Gt.intersect(m.data.rect,a)!==null){a=m.data.rect,r=!0;break}const l=Gt.normalizeRect([a[0],i[3]-a[1]+i[1],a[2],i[3]-a[3]+i[1]]),u=r?a[2]-a[0]+5:0,d=l[0]+u,h=l[1];X(this,ll,[100*(d-n)/t,100*(h-s)/e]);const{style:p}=y(this,mn);p.left=`${y(this,ll)[0]}%`,p.top=`${y(this,ll)[1]}%`},em=new WeakSet,f1=function(){X(this,Wo,!y(this,Wo)),y(this,Wo)?(Y(this,nm,p1).call(this),y(this,mn).addEventListener("click",y(this,Zg)),y(this,mn).addEventListener("keydown",y(this,Qg))):(Y(this,g1,WC).call(this),y(this,mn).removeEventListener("click",y(this,Zg)),y(this,mn).removeEventListener("keydown",y(this,Qg)))},nm=new WeakSet,p1=function(){y(this,Fr)||this.render(),this.isVisible?y(this,Wo)&&y(this,mn).classList.add("focused"):(Y(this,$C,hI).call(this),y(this,mn).hidden=!1,y(this,mn).style.zIndex=parseInt(y(this,mn).style.zIndex)+1e3)},g1=new WeakSet,WC=function(){y(this,mn).classList.remove("focused"),!(y(this,Wo)||!this.isVisible)&&(y(this,mn).hidden=!0,y(this,mn).style.zIndex=parseInt(y(this,mn).style.zIndex)-1e3)};class G4 extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=xe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Lb;class Krt extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),B(this,Lb,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:n}=ao(t.rect),s=this.svgFactory.create(e,n,!0),r=X(this,Lb,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,Lb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lb=new WeakMap;var Ob;class Qrt extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),B(this,Ob,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:n}=ao(t.rect),s=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=X(this,Ob,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",e-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,Ob)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ob=new WeakMap;var Pb;class Zrt extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),B(this,Pb,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:n}=ao(t.rect),s=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=X(this,Pb,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,Pb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Pb=new WeakMap;var Db;class q4 extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),B(this,Db,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=ao(t.rect),s=this.svgFactory.create(e,n,!0);let r=[];for(const l of t.vertices){const u=l.x-t.rect[0],d=t.rect[3]-l.y;r.push(u+","+d)}r=r.join(" ");const a=X(this,Db,this.svgFactory.createElement(this.svgElementName));return a.setAttribute("points",r),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,Db)}addHighlightArea(){this.container.classList.add("highlightArea")}}Db=new WeakMap;class Jrt extends q4{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class tat extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Nb;class Y4 extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),B(this,Nb,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=xe.INK}render(){this.container.classList.add(this.containerClassName);const t=this.data,{width:e,height:n}=ao(t.rect),s=this.svgFactory.create(e,n,!0);for(const r of t.inkLists){let a=[];for(const u of r){const d=u.x-t.rect[0],h=t.rect[3]-u.y;a.push(`${d},${h}`)}a=a.join(" ");const l=this.svgFactory.createElement(this.svgElementName);y(this,Nb).push(l),l.setAttribute("points",a),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),!t.popupRef&&this.hasPopupData&&this._createPopup(),s.append(l)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return y(this,Nb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nb=new WeakMap;class eat extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nat extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class iat extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class sat extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class X4 extends Pn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Ib,Fb,VC;class rat extends Pn{constructor(t){var e;super(t,{isRenderable:!0}),B(this,Fb),B(this,Ib,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(e=this.linkService.eventBus)==null||e.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",Y(this,Fb,VC).bind(this)),X(this,Ib,n);const{isMac:s}=os.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(s?r.metaKey:r.ctrlKey)&&Y(this,Fb,VC).call(this)}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return y(this,Ib)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ib=new WeakMap,Fb=new WeakSet,VC=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var Yv,yh,Ep,cE,dI,Xv,uE,fI;let aat=(fI=class{constructor({div:i,accessibilityManager:t,annotationCanvasMap:e,annotationEditorUIManager:n,page:s,viewport:r}){B(this,cE),B(this,Xv),B(this,Yv,null),B(this,yh,null),B(this,Ep,new Map),this.div=i,X(this,Yv,t),X(this,yh,e),this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=n}async render(i){var t;const{annotations:e}=i,n=this.div;ru(n,this.viewport);const s=new Map,r={data:null,layer:n,linkService:i.linkService,downloadManager:i.downloadManager,imageResourcesPath:i.imageResourcesPath||"",renderForms:i.renderForms!==!1,svgFactory:new sR,annotationStorage:i.annotationStorage||new cR,enableScripting:i.enableScripting===!0,hasJSActions:i.hasJSActions,fieldObjects:i.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const l=a.annotationType===Mn.POPUP;if(l){const h=s.get(a.id);if(!h)continue;r.elements=h}else{const{width:h,height:p}=ao(a.rect);if(h<=0||p<=0)continue}r.data=a;const u=Urt.create(r);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=s.get(a.popupRef);h?h.push(u):s.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),Y(this,cE,dI).call(this,d,a.id),u.annotationEditorType>0&&(y(this,Ep).set(u.data.id,u),(t=this._annotationEditorUIManager)==null||t.renderAnnotationElement(u))}Y(this,Xv,uE).call(this)}update({viewport:i}){const t=this.div;this.viewport=i,ru(t,{rotation:i.rotation}),Y(this,Xv,uE).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(y(this,Ep).values())}getEditableAnnotation(i){return y(this,Ep).get(i)}},Yv=new WeakMap,yh=new WeakMap,Ep=new WeakMap,cE=new WeakSet,dI=function(i,t){var e;const n=i.firstChild||i;n.id=`${$B}${t}`,this.div.append(i),(e=y(this,Yv))==null||e.moveElementInDOM(this.div,i,n,!1)},Xv=new WeakSet,uE=function(){if(!y(this,yh))return;const i=this.div;for(const[t,e]of y(this,yh)){const n=i.querySelector(`[data-annotation-id="${t}"]`);if(!n)continue;e.className="annotationContent";const{firstChild:s}=n;s?s.nodeName==="CANVAS"?s.replaceWith(e):s.classList.contains("annotationContent")?s.after(e):s.before(e):n.append(e)}y(this,yh).clear()},fI);const jb=/\r\n?|\n/g;var Bb,zb,Ub,Hb,$b,qr,Gs,Wb,qs,im,GC,K4,qC,Q4,YC,Z4,sm,m1,rm,y1,fg,Vb,XC,J4,v1,KC,QC,t5;const Pr=class ii extends Ge{constructor(t){super({...t,name:"freeTextEditor"}),B(this,GC),B(this,qC),B(this,YC),B(this,sm),B(this,fg),B(this,XC),B(this,QC),B(this,Bb,this.editorDivBlur.bind(this)),B(this,zb,this.editorDivFocus.bind(this)),B(this,Ub,this.editorDivInput.bind(this)),B(this,Hb,this.editorDivKeydown.bind(this)),B(this,$b,this.editorDivPaste.bind(this)),B(this,qr,void 0),B(this,Gs,""),B(this,Wb,`${this.id}-editor`),B(this,qs,void 0),B(this,im,null),X(this,qr,t.color||ii._defaultColor||Ge._defaultLineColor),X(this,qs,t.fontSize||ii._defaultFontSize)}static get _keyboardManager(){const t=ii.prototype,e=r=>r.isEmpty(),n=Sm.TRANSLATE_SMALL,s=Sm.TRANSLATE_BIG;return Te(this,"_keyboardManager",new Gm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static initialize(t,e){Ge.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case re.FREETEXT_SIZE:ii._defaultFontSize=e;break;case re.FREETEXT_COLOR:ii._defaultColor=e;break}}updateParams(t,e){switch(t){case re.FREETEXT_SIZE:Y(this,GC,K4).call(this,e);break;case re.FREETEXT_COLOR:Y(this,qC,Q4).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[re.FREETEXT_SIZE,ii._defaultFontSize],[re.FREETEXT_COLOR,ii._defaultColor||Ge._defaultLineColor]]}get propertiesToUpdate(){return[[re.FREETEXT_SIZE,y(this,qs)],[re.FREETEXT_COLOR,y(this,qr)]]}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-ii._internalPadding*t,-(ii._internalPadding+y(this,qs))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(xe.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",y(this,Hb)),this.editorDiv.addEventListener("focus",y(this,zb)),this.editorDiv.addEventListener("blur",y(this,Bb)),this.editorDiv.addEventListener("input",y(this,Ub)),this.editorDiv.addEventListener("paste",y(this,$b)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,Wb)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",y(this,Hb)),this.editorDiv.removeEventListener("focus",y(this,zb)),this.editorDiv.removeEventListener("blur",y(this,Bb)),this.editorDiv.removeEventListener("input",y(this,Ub)),this.editorDiv.removeEventListener("paste",y(this,$b)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=y(this,Gs),e=X(this,Gs,Y(this,YC,Z4).call(this).trimEnd());if(t===e)return;const n=s=>{if(X(this,Gs,s),!s){this.remove();return}Y(this,fg,Vb).call(this),this._uiManager.rebuild(this),Y(this,sm,m1).call(this)};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),Y(this,sm,m1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ii._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,Wb)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ge._l10nPromise.get("pdfjs-free-text-default-content").then(s=>{var r;return(r=this.editorDiv)==null?void 0:r.setAttribute("default-content",s)}),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${y(this,qs)}px * var(--scale-factor))`,n.color=y(this,qr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Yw(this,this.div,["dblclick","keydown"]),this.width){const[s,r]=this.parentDimensions;if(this.annotationElementId){const{position:a}=y(this,im);let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[p,m]=this.pageTranslation;let v,_;switch(this.rotation){case 0:v=t+(a[0]-p)/d,_=e+this.height-(a[1]-m)/h;break;case 90:v=t+(a[0]-p)/d,_=e-(a[1]-m)/h,[l,u]=[u,-l];break;case 180:v=t-this.width+(a[0]-p)/d,_=e-(a[1]-m)/h,[l,u]=[-l,-u];break;case 270:v=t+(a[0]-p-this.height*h)/d,_=e+(a[1]-m-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(v*s,_*r,l,u)}else this.setAt(t*s,e*r,this.width*s,this.height*r);Y(this,fg,Vb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var e,n,s;const r=t.clipboardData||window.clipboardData,{types:a}=r;if(a.length===1&&a[0]==="text/plain")return;t.preventDefault();const l=Y(e=ii,v1,KC).call(e,r.getData("text")||"").replaceAll(jb,`
`);if(!l)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!l.includes(`
`)){d.insertNode(document.createTextNode(l)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:h,startOffset:p}=d,m=[],v=[];if(h.nodeType===Node.TEXT_NODE){const S=h.parentElement;if(v.push(h.nodeValue.slice(p).replaceAll(jb,"")),S!==this.editorDiv){let x=m;for(const C of this.editorDiv.childNodes){if(C===S){x=v;continue}x.push(Y(n=ii,rm,y1).call(n,C))}}m.push(h.nodeValue.slice(0,p).replaceAll(jb,""))}else if(h===this.editorDiv){let S=m,x=0;for(const C of this.editorDiv.childNodes)x++===p&&(S=v),S.push(Y(s=ii,rm,y1).call(s,C))}X(this,Gs,`${m.join(`
`)}${l}${v.join(`
`)}`),Y(this,fg,Vb).call(this);const _=new Range;let w=m.reduce((S,x)=>S+x.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const x=S.nodeValue.length;if(w<=x){_.setStart(S,w),_.setEnd(S,w);break}w-=x}u.removeAllRanges(),u.addRange(_)}get contentDiv(){return this.editorDiv}static deserialize(t,e,n){var s;let r=null;if(t instanceof G4){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:p},textContent:m,textPosition:v,parent:{page:{pageNumber:_}}}=t;if(!m||m.length===0)return null;r=t={annotationType:xe.FREETEXT,color:Array.from(u),fontSize:l,value:m.join(`
`),position:v,pageIndex:_-1,rect:d.slice(0),rotation:h,id:p,deleted:!1}}const a=super.deserialize(t,e,n);return X(a,qs,t.fontSize),X(a,qr,Gt.makeHexColor(...t.color)),X(a,Gs,Y(s=ii,v1,KC).call(s,t.value)),a.annotationElementId=t.id||null,X(a,im,r),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=ii._internalPadding*this.parentScale,n=this.getRect(e,e),s=Ge._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:y(this,qr)),r={annotationType:xe.FREETEXT,color:s,fontSize:y(this,qs),value:Y(this,XC,J4).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?r:this.annotationElementId&&!Y(this,QC,t5).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize=`calc(${y(this,qs)}px * var(--scale-factor))`,n.color=y(this,qr),e.replaceChildren();for(const r of y(this,Gs).split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),e.append(a)}const s=ii._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:y(this,Gs)}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Bb=new WeakMap,zb=new WeakMap,Ub=new WeakMap,Hb=new WeakMap,$b=new WeakMap,qr=new WeakMap,Gs=new WeakMap,Wb=new WeakMap,qs=new WeakMap,im=new WeakMap,GC=new WeakSet,K4=function(i){const t=n=>{this.editorDiv.style.fontSize=`calc(${n}px * var(--scale-factor))`,this.translate(0,-(n-y(this,qs))*this.parentScale),X(this,qs,n),Y(this,sm,m1).call(this)},e=y(this,qs);this.addCommands({cmd:t.bind(this,i),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},qC=new WeakSet,Q4=function(i){const t=n=>{X(this,qr,this.editorDiv.style.color=n)},e=y(this,qr);this.addCommands({cmd:t.bind(this,i),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},YC=new WeakSet,Z4=function(){var i;const t=[];this.editorDiv.normalize();for(const e of this.editorDiv.childNodes)t.push(Y(i=Pr,rm,y1).call(i,e));return t.join(`
`)},sm=new WeakSet,m1=function(){const[i,t]=this.parentDimensions;let e;if(this.isAttachedToDOM)e=this.div.getBoundingClientRect();else{const{currentLayer:n,div:s}=this,r=s.style.display,a=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",n.div.append(this.div),e=s.getBoundingClientRect(),s.remove(),s.style.display=r,s.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=e.width/i,this.height=e.height/t):(this.width=e.height/i,this.height=e.width/t),this.fixAndSetPosition()},rm=new WeakSet,y1=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(jb,"")},fg=new WeakSet,Vb=function(){if(this.editorDiv.replaceChildren(),!!y(this,Gs))for(const i of y(this,Gs).split(`
`)){const t=document.createElement("div");t.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(t)}},XC=new WeakSet,J4=function(){return y(this,Gs).replaceAll(""," ")},v1=new WeakSet,KC=function(i){return i.replaceAll(" ","")},QC=new WeakSet,t5=function(i){const{value:t,fontSize:e,color:n,pageIndex:s}=y(this,im);return this._hasBeenMoved||i.value!==t||i.fontSize!==e||i.color.some((r,a)=>r!==n[a])||i.pageIndex!==s},B(Pr,rm),B(Pr,v1),ue(Pr,"_freeTextDefaultContent",""),ue(Pr,"_internalPadding",0),ue(Pr,"_defaultColor",null),ue(Pr,"_defaultFontSize",10),ue(Pr,"_type","freetext"),ue(Pr,"_editorType",xe.FREETEXT);let oat=Pr;var b1,fc,Dr,ZC,e5,pg,Kv,JC,n5,tk,i5,Gb,ek;class nk{constructor(t,e=0,n=0,s=!0){B(this,ZC),B(this,pg),B(this,JC),B(this,tk),B(this,Gb),B(this,b1,void 0),B(this,fc,[]),B(this,Dr,[]);let r=1/0,a=-1/0,l=1/0,u=-1/0;const d=10**-4;for(const{x:S,y:x,width:C,height:L}of t){const j=Math.floor((S-e)/d)*d,R=Math.ceil((S+C+e)/d)*d,D=Math.floor((x-e)/d)*d,P=Math.ceil((x+L+e)/d)*d,M=[j,D,P,!0],O=[R,D,P,!1];y(this,fc).push(M,O),r=Math.min(r,j),a=Math.max(a,R),l=Math.min(l,D),u=Math.max(u,P)}const h=a-r+2*n,p=u-l+2*n,m=r-n,v=l-n,_=y(this,fc).at(s?-1:-2),w=[_[0],_[2]];for(const S of y(this,fc)){const[x,C,L]=S;S[0]=(x-m)/h,S[1]=(C-v)/p,S[2]=(L-v)/p}X(this,b1,{x:m,y:v,width:h,height:p,lastPoint:w})}getOutlines(){y(this,fc).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of y(this,fc))e[3]?(t.push(...Y(this,Gb,ek).call(this,e)),Y(this,JC,n5).call(this,e)):(Y(this,tk,i5).call(this,e),t.push(...Y(this,Gb,ek).call(this,e)));return Y(this,ZC,e5).call(this,t)}}b1=new WeakMap,fc=new WeakMap,Dr=new WeakMap,ZC=new WeakSet,e5=function(i){const t=[],e=new Set;for(const r of i){const[a,l,u]=r;t.push([a,l,r],[a,u,r])}t.sort((r,a)=>r[1]-a[1]||r[0]-a[0]);for(let r=0,a=t.length;r<a;r+=2){const l=t[r][2],u=t[r+1][2];l.push(u),u.push(l),e.add(l),e.add(u)}const n=[];let s;for(;e.size>0;){const r=e.values().next().value;let[a,l,u,d,h]=r;e.delete(r);let p=a,m=l;for(s=[a,u],n.push(s);;){let v;if(e.has(d))v=d;else if(e.has(h))v=h;else break;e.delete(v),[a,l,u,d,h]=v,p!==a&&(s.push(p,m,a,m===l?l:u),p=a),m=m===l?u:l}s.push(p,m)}return new lat(n,y(this,b1))},pg=new WeakSet,Kv=function(i){const t=y(this,Dr);let e=0,n=t.length-1;for(;e<=n;){const s=e+n>>1,r=t[s][0];if(r===i)return s;r<i?e=s+1:n=s-1}return n+1},JC=new WeakSet,n5=function([,i,t]){const e=Y(this,pg,Kv).call(this,i);y(this,Dr).splice(e,0,[i,t])},tk=new WeakSet,i5=function([,i,t]){const e=Y(this,pg,Kv).call(this,i);for(let n=e;n<y(this,Dr).length;n++){const[s,r]=y(this,Dr)[n];if(s!==i)break;if(s===i&&r===t){y(this,Dr).splice(n,1);return}}for(let n=e-1;n>=0;n--){const[s,r]=y(this,Dr)[n];if(s!==i)break;if(s===i&&r===t){y(this,Dr).splice(n,1);return}}},Gb=new WeakSet,ek=function(i){const[t,e,n]=i,s=[[t,e,n]],r=Y(this,pg,Kv).call(this,n);for(let a=0;a<r;a++){const[l,u]=y(this,Dr)[a];for(let d=0,h=s.length;d<h;d++){const[,p,m]=s[d];if(!(u<=p||m<=l)){if(p>=l){if(m>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,m>u&&s.push([t,u,m])}}}return s};class s5{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof ok}}var qb,gg;class lat extends s5{constructor(t,e){super(),B(this,qb,void 0),B(this,gg,void 0),X(this,gg,t),X(this,qb,e)}toSVGPath(){const t=[];for(const e of y(this,gg)){let[n,s]=e;t.push(`M${n} ${s}`);for(let r=2;r<e.length;r+=2){const a=e[r],l=e[r+1];a===n?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),n=a)}t.push("Z")}return t.join(" ")}serialize([t,e,n,s],r){const a=[],l=n-t,u=s-e;for(const d of y(this,gg)){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=t+d[p]*l,h[p+1]=s-d[p+1]*u;a.push(h)}return a}get box(){return y(this,qb)}}qb=new WeakMap,gg=new WeakMap;var Ba,Vo,mg,yg,Da,Se,xd,Ed,Yb,Xb,vg,bg,pc,Kb,hE,ik,Qb,sk;const $h=class rk{constructor({x:t,y:e},n,s,r,a,l=0){B(this,Qb),B(this,Ba,void 0),B(this,Vo,[]),B(this,mg,void 0),B(this,yg,void 0),B(this,Da,[]),B(this,Se,new Float64Array(18)),B(this,xd,void 0),B(this,Ed,void 0),B(this,Yb,void 0),B(this,Xb,void 0),B(this,vg,void 0),B(this,bg,void 0),B(this,pc,[]),X(this,Ba,n),X(this,bg,r*s),X(this,yg,a),y(this,Se).set([NaN,NaN,NaN,NaN,t,e],6),X(this,mg,l),X(this,Xb,y(rk,Kb)*s),X(this,Yb,y(rk,ik)*s),X(this,vg,s),y(this,pc).push(t,e)}get free(){return!0}isEmpty(){return isNaN(y(this,Se)[8])}add({x:t,y:e}){var n;X(this,xd,t),X(this,Ed,e);const[s,r,a,l]=y(this,Ba);let[u,d,h,p]=y(this,Se).subarray(8,12);const m=t-h,v=e-p,_=Math.hypot(m,v);if(_<y(this,Yb))return!1;const w=_-y(this,Xb),S=w/_,x=S*m,C=S*v;let L=u,j=d;u=h,d=p,h+=x,p+=C,(n=y(this,pc))==null||n.push(t,e);const R=-C/w,D=x/w,P=R*y(this,bg),M=D*y(this,bg);return y(this,Se).set(y(this,Se).subarray(2,8),0),y(this,Se).set([h+P,p+M],4),y(this,Se).set(y(this,Se).subarray(14,18),12),y(this,Se).set([h-P,p-M],16),isNaN(y(this,Se)[6])?(y(this,Da).length===0&&(y(this,Se).set([u+P,d+M],2),y(this,Da).push(NaN,NaN,NaN,NaN,(u+P-s)/a,(d+M-r)/l),y(this,Se).set([u-P,d-M],14),y(this,Vo).push(NaN,NaN,NaN,NaN,(u-P-s)/a,(d-M-r)/l)),y(this,Se).set([L,j,u,d,h,p],6),!this.isEmpty()):(y(this,Se).set([L,j,u,d,h,p],6),Math.abs(Math.atan2(j-d,L-u)-Math.atan2(C,x))<Math.PI/2?([u,d,h,p]=y(this,Se).subarray(2,6),y(this,Da).push(NaN,NaN,NaN,NaN,((u+h)/2-s)/a,((d+p)/2-r)/l),[u,d,L,j]=y(this,Se).subarray(14,18),y(this,Vo).push(NaN,NaN,NaN,NaN,((L+u)/2-s)/a,((j+d)/2-r)/l),!0):([L,j,u,d,h,p]=y(this,Se).subarray(0,6),y(this,Da).push(((L+5*u)/6-s)/a,((j+5*d)/6-r)/l,((5*u+h)/6-s)/a,((5*d+p)/6-r)/l,((u+h)/2-s)/a,((d+p)/2-r)/l),[h,p,u,d,L,j]=y(this,Se).subarray(12,18),y(this,Vo).push(((L+5*u)/6-s)/a,((j+5*d)/6-r)/l,((5*u+h)/6-s)/a,((5*d+p)/6-r)/l,((u+h)/2-s)/a,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=y(this,Da),e=y(this,Vo),n=y(this,Se).subarray(4,6),s=y(this,Se).subarray(16,18),[r,a,l,u]=y(this,Ba),[d,h,p,m]=Y(this,Qb,sk).call(this);if(isNaN(y(this,Se)[6])&&!this.isEmpty())return`M${(y(this,Se)[2]-r)/l} ${(y(this,Se)[3]-a)/u} L${(y(this,Se)[4]-r)/l} ${(y(this,Se)[5]-a)/u} L${d} ${h} L${p} ${m} L${(y(this,Se)[16]-r)/l} ${(y(this,Se)[17]-a)/u} L${(y(this,Se)[14]-r)/l} ${(y(this,Se)[15]-a)/u} Z`;const v=[];v.push(`M${t[4]} ${t[5]}`);for(let _=6;_<t.length;_+=6)isNaN(t[_])?v.push(`L${t[_+4]} ${t[_+5]}`):v.push(`C${t[_]} ${t[_+1]} ${t[_+2]} ${t[_+3]} ${t[_+4]} ${t[_+5]}`);v.push(`L${(n[0]-r)/l} ${(n[1]-a)/u} L${d} ${h} L${p} ${m} L${(s[0]-r)/l} ${(s[1]-a)/u}`);for(let _=e.length-6;_>=6;_-=6)isNaN(e[_])?v.push(`L${e[_+4]} ${e[_+5]}`):v.push(`C${e[_]} ${e[_+1]} ${e[_+2]} ${e[_+3]} ${e[_+4]} ${e[_+5]}`);return v.push(`L${e[4]} ${e[5]} Z`),v.join(" ")}getOutlines(){var t;const e=y(this,Da),n=y(this,Vo),s=y(this,Se),r=s.subarray(4,6),a=s.subarray(16,18),[l,u,d,h]=y(this,Ba),p=new Float64Array((((t=y(this,pc))==null?void 0:t.length)??0)+2);for(let C=0,L=p.length-2;C<L;C+=2)p[C]=(y(this,pc)[C]-l)/d,p[C+1]=(y(this,pc)[C+1]-u)/h;p[p.length-2]=(y(this,xd)-l)/d,p[p.length-1]=(y(this,Ed)-u)/h;const[m,v,_,w]=Y(this,Qb,sk).call(this);if(isNaN(s[6])&&!this.isEmpty()){const C=new Float64Array(36);return C.set([NaN,NaN,NaN,NaN,(s[2]-l)/d,(s[3]-u)/h,NaN,NaN,NaN,NaN,(s[4]-l)/d,(s[5]-u)/h,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,_,w,NaN,NaN,NaN,NaN,(s[16]-l)/d,(s[17]-u)/h,NaN,NaN,NaN,NaN,(s[14]-l)/d,(s[15]-u)/h],0),new ok(C,p,y(this,Ba),y(this,vg),y(this,mg),y(this,yg))}const S=new Float64Array(y(this,Da).length+24+y(this,Vo).length);let x=e.length;for(let C=0;C<x;C+=2){if(isNaN(e[C])){S[C]=S[C+1]=NaN;continue}S[C]=e[C],S[C+1]=e[C+1]}S.set([NaN,NaN,NaN,NaN,(r[0]-l)/d,(r[1]-u)/h,NaN,NaN,NaN,NaN,m,v,NaN,NaN,NaN,NaN,_,w,NaN,NaN,NaN,NaN,(a[0]-l)/d,(a[1]-u)/h],x),x+=24;for(let C=n.length-6;C>=6;C-=6)for(let L=0;L<6;L+=2){if(isNaN(n[C+L])){S[x]=S[x+1]=NaN,x+=2;continue}S[x]=n[C+L],S[x+1]=n[C+L+1],x+=2}return S.set([NaN,NaN,NaN,NaN,n[4],n[5]],x),new ok(S,p,y(this,Ba),y(this,vg),y(this,mg),y(this,yg))}};Ba=new WeakMap,Vo=new WeakMap,mg=new WeakMap,yg=new WeakMap,Da=new WeakMap,Se=new WeakMap,xd=new WeakMap,Ed=new WeakMap,Yb=new WeakMap,Xb=new WeakMap,vg=new WeakMap,bg=new WeakMap,pc=new WeakMap,Kb=new WeakMap,hE=new WeakMap,ik=new WeakMap,Qb=new WeakSet,sk=function(){const i=y(this,Se).subarray(4,6),t=y(this,Se).subarray(16,18),[e,n,s,r]=y(this,Ba);return[(y(this,xd)+(i[0]-t[0])/2-e)/s,(y(this,Ed)+(i[1]-t[1])/2-n)/r,(y(this,xd)+(t[0]-i[0])/2-e)/s,(y(this,Ed)+(t[1]-i[1])/2-n)/r]},B($h,Kb,8),B($h,hE,2),B($h,ik,y($h,Kb)+y($h,hE));let r5=$h;var wg,hd,ul,Zb,Us,Jb,xn,Wh,_g,Vh,Ag,ak,a5;class ok extends s5{constructor(t,e,n,s,r,a){super(),B(this,Wh),B(this,Vh),B(this,ak),B(this,wg,void 0),B(this,hd,null),B(this,ul,void 0),B(this,Zb,void 0),B(this,Us,void 0),B(this,Jb,void 0),B(this,xn,void 0),X(this,xn,t),X(this,Us,e),X(this,wg,n),X(this,Jb,s),X(this,ul,r),X(this,Zb,a),Y(this,ak,a5).call(this,a);const{x:l,y:u,width:d,height:h}=y(this,hd);for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/d,t[p+1]=(t[p+1]-u)/h;for(let p=0,m=e.length;p<m;p+=2)e[p]=(e[p]-l)/d,e[p+1]=(e[p+1]-u)/h}toSVGPath(){const t=[`M${y(this,xn)[4]} ${y(this,xn)[5]}`];for(let e=6,n=y(this,xn).length;e<n;e+=6){if(isNaN(y(this,xn)[e])){t.push(`L${y(this,xn)[e+4]} ${y(this,xn)[e+5]}`);continue}t.push(`C${y(this,xn)[e]} ${y(this,xn)[e+1]} ${y(this,xn)[e+2]} ${y(this,xn)[e+3]} ${y(this,xn)[e+4]} ${y(this,xn)[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,s],r){const a=n-t,l=s-e;let u,d;switch(r){case 0:u=Y(this,Wh,_g).call(this,y(this,xn),t,s,a,-l),d=Y(this,Wh,_g).call(this,y(this,Us),t,s,a,-l);break;case 90:u=Y(this,Vh,Ag).call(this,y(this,xn),t,e,a,l),d=Y(this,Vh,Ag).call(this,y(this,Us),t,e,a,l);break;case 180:u=Y(this,Wh,_g).call(this,y(this,xn),n,e,-a,l),d=Y(this,Wh,_g).call(this,y(this,Us),n,e,-a,l);break;case 270:u=Y(this,Vh,Ag).call(this,y(this,xn),n,s,-a,-l),d=Y(this,Vh,Ag).call(this,y(this,Us),n,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return y(this,hd)}getNewOutline(t,e){const{x:n,y:s,width:r,height:a}=y(this,hd),[l,u,d,h]=y(this,wg),p=r*d,m=a*h,v=n*d+l,_=s*h+u,w=new r5({x:y(this,Us)[0]*p+v,y:y(this,Us)[1]*m+_},y(this,wg),y(this,Jb),t,y(this,Zb),e??y(this,ul));for(let S=2;S<y(this,Us).length;S+=2)w.add({x:y(this,Us)[S]*p+v,y:y(this,Us)[S+1]*m+_});return w.getOutlines()}}wg=new WeakMap,hd=new WeakMap,ul=new WeakMap,Zb=new WeakMap,Us=new WeakMap,Jb=new WeakMap,xn=new WeakMap,Wh=new WeakSet,_g=function(i,t,e,n,s){const r=new Float64Array(i.length);for(let a=0,l=i.length;a<l;a+=2)r[a]=t+i[a]*n,r[a+1]=e+i[a+1]*s;return r},Vh=new WeakSet,Ag=function(i,t,e,n,s){const r=new Float64Array(i.length);for(let a=0,l=i.length;a<l;a+=2)r[a]=t+i[a+1]*n,r[a+1]=e+i[a]*s;return r},ak=new WeakSet,a5=function(i){const t=y(this,xn);let e=t[4],n=t[5],s=e,r=n,a=e,l=n,u=e,d=n;const h=i?Math.max:Math.min;for(let w=6,S=t.length;w<S;w+=6){if(isNaN(t[w]))s=Math.min(s,t[w+4]),r=Math.min(r,t[w+5]),a=Math.max(a,t[w+4]),l=Math.max(l,t[w+5]),d<t[w+5]?(u=t[w+4],d=t[w+5]):d===t[w+5]&&(u=h(u,t[w+4]));else{const x=Gt.bezierBoundingBox(e,n,...t.slice(w,w+6));s=Math.min(s,x[0]),r=Math.min(r,x[1]),a=Math.max(a,x[2]),l=Math.max(l,x[3]),d<x[3]?(u=x[2],d=x[3]):d===x[3]&&(u=h(u,x[2]))}e=t[w+4],n=t[w+5]}const p=s-y(this,ul),m=r-y(this,ul),v=a-s+2*y(this,ul),_=l-r+2*y(this,ul);X(this,hd,{x:p,y:m,width:v,height:_,lastPoint:[u,d]})};var w1,_1,jr,Gh,am,Vn,A1,Sg,tw,S1,Cc,om,x1,lk,E1,ck,uk,o5,Go,gc,hk,l5,za,tl;const c5=class mc{constructor({editor:t=null,uiManager:e=null}){B(this,x1),B(this,E1),B(this,uk),B(this,Go),B(this,hk),B(this,za),B(this,w1,Y(this,uk,o5).bind(this)),B(this,_1,Y(this,hk,l5).bind(this)),B(this,jr,null),B(this,Gh,null),B(this,am,void 0),B(this,Vn,null),B(this,A1,!1),B(this,Sg,!1),B(this,tw,null),B(this,S1,void 0),B(this,Cc,null),B(this,om,void 0);var n;t?(X(this,Sg,!1),X(this,om,re.HIGHLIGHT_COLOR),X(this,tw,t)):(X(this,Sg,!0),X(this,om,re.HIGHLIGHT_DEFAULT_COLOR)),X(this,Cc,t?._uiManager||e),X(this,S1,y(this,Cc)._eventBus),X(this,am,t?.color||((n=y(this,Cc))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Te(this,"_keyboardManager",new Gm([[["Escape","mac+Escape"],mc.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mc.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mc.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mc.prototype._moveToPrevious],[["Home","mac+Home"],mc.prototype._moveToBeginning],[["End","mac+End"],mc.prototype._moveToEnd]]))}renderButton(){const t=X(this,jr,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0),t.addEventListener("click",Y(this,Go,gc).bind(this)),t.addEventListener("keydown",y(this,w1));const e=X(this,Gh,document.createElement("span"));return e.className="swatch",e.setAttribute("aria-hidden",!0),e.style.backgroundColor=y(this,am),t.append(e),t}renderMainDropdown(){const t=X(this,Vn,Y(this,x1,lk).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===y(this,jr)){Y(this,Go,gc).call(this,t);return}const e=t.target.getAttribute("data-color");e&&Y(this,E1,ck).call(this,e,t)}_moveToNext(t){var e,n;if(!y(this,za,tl)){Y(this,Go,gc).call(this,t);return}if(t.target===y(this,jr)){(e=y(this,Vn).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=y(this,Vn))==null?void 0:e.firstChild)||t.target===y(this,jr)){y(this,za,tl)&&this._hideDropdownFromKeyboard();return}y(this,za,tl)||Y(this,Go,gc).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!y(this,za,tl)){Y(this,Go,gc).call(this,t);return}(e=y(this,Vn).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!y(this,za,tl)){Y(this,Go,gc).call(this,t);return}(e=y(this,Vn).lastChild)==null||e.focus()}hideDropdown(){var t;(t=y(this,Vn))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",y(this,_1))}_hideDropdownFromKeyboard(){var t;if(!y(this,Sg)){if(!y(this,za,tl)){(t=y(this,tw))==null||t.unselect();return}this.hideDropdown(),y(this,jr).focus({preventScroll:!0,focusVisible:y(this,A1)})}}updateColor(t){if(y(this,Gh)&&(y(this,Gh).style.backgroundColor=t),!y(this,Vn))return;const e=y(this,Cc).highlightColors.values();for(const n of y(this,Vn).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=y(this,jr))==null||t.remove(),X(this,jr,null),X(this,Gh,null),(e=y(this,Vn))==null||e.remove(),X(this,Vn,null)}};w1=new WeakMap,_1=new WeakMap,jr=new WeakMap,Gh=new WeakMap,am=new WeakMap,Vn=new WeakMap,A1=new WeakMap,Sg=new WeakMap,tw=new WeakMap,S1=new WeakMap,Cc=new WeakMap,om=new WeakMap,x1=new WeakSet,lk=function(){const i=document.createElement("div");i.addEventListener("contextmenu",as),i.className="dropdown",i.role="listbox",i.setAttribute("aria-multiselectable",!1),i.setAttribute("aria-orientation","vertical"),i.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[t,e]of y(this,Cc).highlightColors){const n=document.createElement("button");n.tabIndex="0",n.role="option",n.setAttribute("data-color",e),n.title=t,n.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${t}`);const s=document.createElement("span");n.append(s),s.className="swatch",s.style.backgroundColor=e,n.setAttribute("aria-selected",e===y(this,am)),n.addEventListener("click",Y(this,E1,ck).bind(this,e)),i.append(n)}return i.addEventListener("keydown",y(this,w1)),i},E1=new WeakSet,ck=function(i,t){t.stopPropagation(),y(this,S1).dispatch("switchannotationeditorparams",{source:this,type:y(this,om),value:i})},uk=new WeakSet,o5=function(i){c5._keyboardManager.exec(this,i)},Go=new WeakSet,gc=function(i){if(y(this,za,tl)){this.hideDropdown();return}if(X(this,A1,i.detail===0),window.addEventListener("pointerdown",y(this,_1)),y(this,Vn)){y(this,Vn).classList.remove("hidden");return}const t=X(this,Vn,Y(this,x1,lk).call(this));y(this,jr).append(t)},hk=new WeakSet,l5=function(i){var t;(t=y(this,Vn))!=null&&t.contains(i.target)||this.hideDropdown()},za=new WeakSet,tl=function(){return y(this,Vn)&&!y(this,Vn).classList.contains("hidden")};let u5=c5;var lm,T1,Bc,dd,cm,ir,C1,k1,Td,Br,Zi,Ys,dk,um,fd,Gn,xg,Ga,ew,nw,fk,R1,pk,gk,h5,mk,d5,yk,pI,iw,vk,qh,Eg,zc,Cd,bk,f5,Tg,sw,pd,hm,wk,p5,_k,g5,Ak,m5,Sk,y5;const pi=class gi extends Ge{constructor(t){super({...t,name:"highlightEditor"}),B(this,nw),B(this,R1),B(this,gk),B(this,mk),B(this,yk),B(this,iw),B(this,qh),B(this,bk),B(this,Tg),B(this,pd),B(this,wk),B(this,_k),B(this,lm,null),B(this,T1,0),B(this,Bc,void 0),B(this,dd,null),B(this,cm,null),B(this,ir,null),B(this,C1,null),B(this,k1,0),B(this,Td,null),B(this,Br,null),B(this,Zi,null),B(this,Ys,!1),B(this,dk,Y(this,bk,f5).bind(this)),B(this,um,null),B(this,fd,void 0),B(this,Gn,null),B(this,xg,""),B(this,Ga,void 0),B(this,ew,""),this.color=t.color||gi._defaultColor,X(this,Ga,t.thickness||gi._defaultThickness),X(this,fd,t.opacity||gi._defaultOpacity),X(this,Bc,t.boxes||null),X(this,ew,t.methodOfCreation||""),X(this,xg,t.text||""),this._isDraggable=!1,t.highlightId>-1?(X(this,Ys,!0),Y(this,R1,pk).call(this,t),Y(this,qh,Eg).call(this)):(X(this,lm,t.anchorNode),X(this,T1,t.anchorOffset),X(this,C1,t.focusNode),X(this,k1,t.focusOffset),Y(this,nw,fk).call(this),Y(this,qh,Eg).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=gi.prototype;return Te(this,"_keyboardManager",new Gm([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:y(this,Ys)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:y(this,Ga),methodOfCreation:y(this,ew)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;Ge.initialize(t,e),gi._defaultColor||(gi._defaultColor=((n=e.highlightColors)==null?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case re.HIGHLIGHT_DEFAULT_COLOR:gi._defaultColor=e;break;case re.HIGHLIGHT_THICKNESS:gi._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return y(this,um)}updateParams(t,e){switch(t){case re.HIGHLIGHT_COLOR:Y(this,gk,h5).call(this,e);break;case re.HIGHLIGHT_THICKNESS:Y(this,mk,d5).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[re.HIGHLIGHT_DEFAULT_COLOR,gi._defaultColor],[re.HIGHLIGHT_THICKNESS,gi._defaultThickness]]}get propertiesToUpdate(){return[[re.HIGHLIGHT_COLOR,this.color||gi._defaultColor],[re.HIGHLIGHT_THICKNESS,y(this,Ga)||gi._defaultThickness],[re.HIGHLIGHT_FREE,y(this,Ys)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(X(this,cm,new u5({editor:this})),t.addColorPicker(y(this,cm))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Y(this,pd,hm).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,Y(this,pd,hm).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Y(this,iw,vk).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Y(this,qh,Eg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var e;let n=!1;this.parent&&!t?Y(this,iw,vk).call(this):t&&(Y(this,qh,Eg).call(this,t),n=!this.parent&&((e=this.div)==null?void 0:e.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var e,n,s;const{drawLayer:r}=this.parent;let a;y(this,Ys)?(t=(t-this.rotation+360)%360,a=Y(e=gi,zc,Cd).call(e,y(this,Br).box,t)):a=Y(n=gi,zc,Cd).call(n,this,t),r.rotate(y(this,Zi),t),r.rotate(y(this,Gn),t),r.updateBox(y(this,Zi),a),r.updateBox(y(this,Gn),Y(s=gi,zc,Cd).call(s,y(this,ir).box,t))}render(){if(this.div)return this.div;const t=super.render();y(this,xg)&&(t.setAttribute("aria-label",y(this,xg)),t.setAttribute("role","mark")),y(this,Ys)?t.classList.add("free"):this.div.addEventListener("keydown",y(this,dk));const e=X(this,Td,document.createElement("div"));t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=y(this,dd);const[n,s]=this.parentDimensions;return this.setDims(this.width*n,this.height*s),Yw(this,y(this,Td),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(y(this,Gn),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(y(this,Gn),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Y(this,Tg,sw).call(this,!0);break;case 1:case 3:Y(this,Tg,sw).call(this,!1);break}}select(){var t,e;super.select(),y(this,Gn)&&((t=this.parent)==null||t.drawLayer.removeClass(y(this,Gn),"hovered"),(e=this.parent)==null||e.drawLayer.addClass(y(this,Gn),"selected"))}unselect(){var t;super.unselect(),y(this,Gn)&&((t=this.parent)==null||t.drawLayer.removeClass(y(this,Gn),"selected"),y(this,Ys)||Y(this,Tg,sw).call(this,!1))}get _mustFixPosition(){return!y(this,Ys)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(y(this,Zi),t),this.parent.drawLayer.show(y(this,Gn),t))}static startHighlighting(t,e,{target:n,x:s,y:r}){const{x:a,y:l,width:u,height:d}=n.getBoundingClientRect(),h=_=>{Y(this,Ak,m5).call(this,t,_)},p={capture:!0,passive:!1},m=_=>{_.preventDefault(),_.stopPropagation()},v=_=>{n.removeEventListener("pointermove",h),window.removeEventListener("blur",v),window.removeEventListener("pointerup",v),window.removeEventListener("pointerdown",m,p),window.removeEventListener("contextmenu",as),Y(this,Sk,y5).call(this,t,_)};window.addEventListener("blur",v),window.addEventListener("pointerup",v),window.addEventListener("pointerdown",m,p),window.addEventListener("contextmenu",as),n.addEventListener("pointermove",h),this._freeHighlight=new r5({x:s,y:r},[a,l,u,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,e,n){var s;const r=super.deserialize(t,e,n),{rect:[a,l,u,d],color:h,quadPoints:p}=t;r.color=Gt.makeHexColor(...h),X(r,fd,t.opacity);const[m,v]=r.pageDimensions;r.width=(u-a)/m,r.height=(d-l)/v;const _=X(r,Bc,[]);for(let w=0;w<p.length;w+=8)_.push({x:(p[4]-u)/m,y:(d-(1-p[w+5]))/v,width:(p[w+2]-p[w])/m,height:(p[w+5]-p[w+1])/v});return Y(s=r,nw,fk).call(s),r}serialize(t=!1){if(this.isEmpty()||t)return null;const e=this.getRect(0,0),n=Ge._colorManager.convert(this.color);return{annotationType:xe.HIGHLIGHT,color:n,opacity:y(this,fd),thickness:y(this,Ga),quadPoints:Y(this,wk,p5).call(this),outlines:Y(this,_k,g5).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:Y(this,pd,hm).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};lm=new WeakMap,T1=new WeakMap,Bc=new WeakMap,dd=new WeakMap,cm=new WeakMap,ir=new WeakMap,C1=new WeakMap,k1=new WeakMap,Td=new WeakMap,Br=new WeakMap,Zi=new WeakMap,Ys=new WeakMap,dk=new WeakMap,um=new WeakMap,fd=new WeakMap,Gn=new WeakMap,xg=new WeakMap,Ga=new WeakMap,ew=new WeakMap,nw=new WeakSet,fk=function(){const i=new nk(y(this,Bc),.001);X(this,Br,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=y(this,Br).box;const t=new nk(y(this,Bc),.0025,.001,this._uiManager.direction==="ltr");X(this,ir,t.getOutlines());const{lastPoint:e}=y(this,ir).box;X(this,um,[(e[0]-this.x)/this.width,(e[1]-this.y)/this.height])},R1=new WeakSet,pk=function({highlightOutlines:i,highlightId:t,clipPathId:e}){var n,s;if(X(this,Br,i),X(this,ir,i.getNewOutline(y(this,Ga)/2+1.5,.0025)),t>=0)X(this,Zi,t),X(this,dd,e),this.parent.drawLayer.finalizeLine(t,i),X(this,Gn,this.parent.drawLayer.highlightOutline(y(this,ir)));else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(y(this,Zi),i),this.parent.drawLayer.updateBox(y(this,Zi),Y(n=pi,zc,Cd).call(n,y(this,Br).box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(y(this,Gn),y(this,ir)),this.parent.drawLayer.updateBox(y(this,Gn),Y(s=pi,zc,Cd).call(s,y(this,ir).box,h))}const{x:r,y:a,width:l,height:u}=i.box;switch(this.rotation){case 0:this.x=r,this.y=a,this.width=l,this.height=u;break;case 90:{const[h,p]=this.parentDimensions;this.x=a,this.y=1-r,this.width=l*p/h,this.height=u*h/p;break}case 180:this.x=1-r,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[h,p]=this.parentDimensions;this.x=1-a,this.y=r,this.width=l*p/h,this.height=u*h/p;break}}const{lastPoint:d}=y(this,ir).box;X(this,um,[(d[0]-r)/l,(d[1]-a)/u])},gk=new WeakSet,h5=function(i){const t=n=>{var s,r;this.color=n,(s=this.parent)==null||s.drawLayer.changeColor(y(this,Zi),n),(r=y(this,cm))==null||r.updateColor(n)},e=this.color;this.addCommands({cmd:t.bind(this,i),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},mk=new WeakSet,d5=function(i){const t=y(this,Ga),e=n=>{X(this,Ga,n),Y(this,yk,pI).call(this,n)};this.addCommands({cmd:e.bind(this,i),undo:e.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},yk=new WeakSet,pI=function(i){if(!y(this,Ys))return;Y(this,R1,pk).call(this,{highlightOutlines:y(this,Br).getNewOutline(i/2)}),this.fixAndSetPosition();const[t,e]=this.parentDimensions;this.setDims(this.width*t,this.height*e)},iw=new WeakSet,vk=function(){y(this,Zi)===null||!this.parent||(this.parent.drawLayer.remove(y(this,Zi)),X(this,Zi,null),this.parent.drawLayer.remove(y(this,Gn)),X(this,Gn,null))},qh=new WeakSet,Eg=function(i=this.parent){y(this,Zi)===null&&({id:Xs(this,Zi)._,clipPathId:Xs(this,dd)._}=i.drawLayer.highlight(y(this,Br),this.color,y(this,fd)),X(this,Gn,i.drawLayer.highlightOutline(y(this,ir))),y(this,Td)&&(y(this,Td).style.clipPath=y(this,dd)))},zc=new WeakSet,Cd=function({x:i,y:t,width:e,height:n},s){switch(s){case 90:return{x:1-t-n,y:i,width:n,height:e};case 180:return{x:1-i-e,y:1-t-n,width:e,height:n};case 270:return{x:t,y:1-i-e,width:n,height:e}}return{x:i,y:t,width:e,height:n}},bk=new WeakSet,f5=function(i){pi._keyboardManager.exec(this,i)},Tg=new WeakSet,sw=function(i){if(!y(this,lm))return;const t=window.getSelection();i?t.setPosition(y(this,lm),y(this,T1)):t.setPosition(y(this,C1),y(this,k1))},pd=new WeakSet,hm=function(){return y(this,Ys)?this.rotation:0},wk=new WeakSet,p5=function(){if(y(this,Ys))return null;const[i,t]=this.pageDimensions,e=y(this,Bc),n=new Array(e.length*8);let s=0;for(const{x:r,y:a,width:l,height:u}of e){const d=r*i,h=(1-a-u)*t;n[s]=n[s+4]=d,n[s+1]=n[s+3]=h,n[s+2]=n[s+6]=d+l*i,n[s+5]=n[s+7]=h+u*t,s+=8}return n},_k=new WeakSet,g5=function(i){return y(this,Br).serialize(i,Y(this,pd,hm).call(this))},Ak=new WeakSet,m5=function(i,t){this._freeHighlight.add(t)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Sk=new WeakSet,y5=function(i,t){this._freeHighlight.isEmpty()?i.drawLayer.removeFreeHighlight(this._freeHighlightId):i.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},B(pi,zc),B(pi,Ak),B(pi,Sk),ue(pi,"_defaultColor",null),ue(pi,"_defaultOpacity",1),ue(pi,"_defaultThickness",12),ue(pi,"_l10nPromise"),ue(pi,"_type","highlight"),ue(pi,"_editorType",xe.HIGHLIGHT),ue(pi,"_freeHighlightId",-1),ue(pi,"_freeHighlight",null),ue(pi,"_freeHighlightClipId","");let gI=pi;var gd,md,rw,aw,ow,kd,qa,qo,rr,Yh,yd,Rd,vd,bd,yc,xk,v5,Ek,b5,Tk,w5,Ck,_5,lw,dE,kk,A5,M1,Rk,Mk,mI,Lk,yI,Ok,vI,Pk,bI,Dk,wI,hl,kc,cw,Nk,dm,L1,fm,O1,Uc,Md,uw,Ik,Cg,Qv,Fk,S5,Zv,fE,jk,x5,Bk,E5,P1,zk,kg,Jv,Ld,pm;const Yi=class er extends Ge{constructor(t){super({...t,name:"inkEditor"}),B(this,xk),B(this,Ek),B(this,Tk),B(this,Ck),B(this,lw),B(this,kk),B(this,M1),B(this,Mk),B(this,Lk),B(this,Ok),B(this,Pk),B(this,Dk),B(this,hl),B(this,cw),B(this,dm),B(this,fm),B(this,Uc),B(this,uw),B(this,Cg),B(this,Bk),B(this,P1),B(this,kg),B(this,Ld),B(this,gd,0),B(this,md,0),B(this,rw,this.canvasPointermove.bind(this)),B(this,aw,this.canvasPointerleave.bind(this)),B(this,ow,this.canvasPointerup.bind(this)),B(this,kd,this.canvasPointerdown.bind(this)),B(this,qa,null),B(this,qo,new Path2D),B(this,rr,!1),B(this,Yh,!1),B(this,yd,!1),B(this,Rd,null),B(this,vd,0),B(this,bd,0),B(this,yc,null),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){Ge.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case re.INK_THICKNESS:er._defaultThickness=e;break;case re.INK_COLOR:er._defaultColor=e;break;case re.INK_OPACITY:er._defaultOpacity=e/100;break}}updateParams(t,e){switch(t){case re.INK_THICKNESS:Y(this,xk,v5).call(this,e);break;case re.INK_COLOR:Y(this,Ek,b5).call(this,e);break;case re.INK_OPACITY:Y(this,Tk,w5).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[re.INK_THICKNESS,er._defaultThickness],[re.INK_COLOR,er._defaultColor||Ge._defaultLineColor],[re.INK_OPACITY,Math.round(er._defaultOpacity*100)]]}get propertiesToUpdate(){return[[re.INK_THICKNESS,this.thickness||er._defaultThickness],[re.INK_COLOR,this.color||er._defaultColor||Ge._defaultLineColor],[re.INK_OPACITY,Math.round(100*(this.opacity??er._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Y(this,dm,L1).call(this),Y(this,fm,O1).call(this)),this.isAttachedToDOM||(this.parent.add(this),Y(this,Uc,Md).call(this)),Y(this,Ld,pm).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,y(this,qa)&&(clearTimeout(y(this,qa)),X(this,qa,null)),y(this,Rd).disconnect(),X(this,Rd,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,n=this.width*t,s=this.height*e;this.setDimensions(n,s)}enableEditMode(){y(this,rr)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",y(this,kd)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",y(this,kd)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){y(this,rr)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),X(this,rr,!0),this.div.classList.add("disabled"),Y(this,Ld,pm).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||y(this,rr)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Y(this,kk,A5).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),Y(this,M1,Rk).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),Y(this,cw,Nk).call(this,t)}canvasPointerleave(t){Y(this,cw,Nk).call(this,t)}get isResizable(){return!this.isEmpty()&&y(this,rr)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,s,r,a]=Y(this,Ck,_5).call(this);if(this.setAt(n,s,0,0),this.setDims(r,a),Y(this,dm,L1).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,e*u,this.width*l,this.height*u),X(this,yd,!0),Y(this,Uc,Md).call(this),this.setDims(this.width*l,this.height*u),Y(this,hl,kc).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Y(this,fm,O1).call(this),this.div}setDimensions(t,e){const n=Math.round(t),s=Math.round(e);if(y(this,vd)===n&&y(this,bd)===s)return;X(this,vd,n),X(this,bd,s),this.canvas.style.visibility="hidden";const[r,a]=this.parentDimensions;this.width=t/r,this.height=e/a,this.fixAndSetPosition(),y(this,rr)&&Y(this,uw,Ik).call(this,t,e),Y(this,Uc,Md).call(this),Y(this,hl,kc).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,e,n){var s,r,a;if(t instanceof Y4)return null;const l=super.deserialize(t,e,n);l.thickness=t.thickness,l.color=Gt.makeHexColor(...t.color),l.opacity=t.opacity;const[u,d]=l.pageDimensions,h=l.width*u,p=l.height*d,m=l.parentScale,v=t.thickness/2;X(l,rr,!0),X(l,vd,Math.round(h)),X(l,bd,Math.round(p));const{paths:_,rect:w,rotation:S}=t;for(let{bezier:C}of _){C=Y(s=er,jk,x5).call(s,C,w,S);const L=[];l.paths.push(L);let j=m*(C[0]-v),R=m*(C[1]-v);for(let P=2,M=C.length;P<M;P+=6){const O=m*(C[P]-v),N=m*(C[P+1]-v),H=m*(C[P+2]-v),Q=m*(C[P+3]-v),G=m*(C[P+4]-v),J=m*(C[P+5]-v);L.push([[j,R],[O,N],[H,Q],[G,J]]),j=G,R=J}const D=Y(this,Fk,S5).call(this,L);l.bezierPath2D.push(D)}const x=Y(r=l,P1,zk).call(r);return X(l,md,Math.max(Ge.MIN_SIZE,x[2]-x[0])),X(l,gd,Math.max(Ge.MIN_SIZE,x[3]-x[1])),Y(a=l,uw,Ik).call(a,h,p),l}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=Ge._colorManager.convert(this.ctx.strokeStyle);return{annotationType:xe.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:Y(this,Bk,E5).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};gd=new WeakMap,md=new WeakMap,rw=new WeakMap,aw=new WeakMap,ow=new WeakMap,kd=new WeakMap,qa=new WeakMap,qo=new WeakMap,rr=new WeakMap,Yh=new WeakMap,yd=new WeakMap,Rd=new WeakMap,vd=new WeakMap,bd=new WeakMap,yc=new WeakMap,xk=new WeakSet,v5=function(i){const t=n=>{this.thickness=n,Y(this,Ld,pm).call(this)},e=this.thickness;this.addCommands({cmd:t.bind(this,i),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ek=new WeakSet,b5=function(i){const t=n=>{this.color=n,Y(this,hl,kc).call(this)},e=this.color;this.addCommands({cmd:t.bind(this,i),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Tk=new WeakSet,w5=function(i){const t=n=>{this.opacity=n,Y(this,hl,kc).call(this)};i/=100;const e=this.opacity;this.addCommands({cmd:t.bind(this,i),undo:t.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ck=new WeakSet,_5=function(){const{parentRotation:i,parentDimensions:[t,e]}=this;switch(i){case 90:return[0,e,e,t];case 180:return[t,e,t,e];case 270:return[t,0,e,t];default:return[0,0,t,e]}},lw=new WeakSet,dE=function(){const{ctx:i,color:t,opacity:e,thickness:n,parentScale:s,scaleFactor:r}=this;i.lineWidth=n*s/r,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${t}${xst(e)}`},kk=new WeakSet,A5=function(i,t){this.canvas.addEventListener("contextmenu",as),this.canvas.addEventListener("pointerleave",y(this,aw)),this.canvas.addEventListener("pointermove",y(this,rw)),this.canvas.addEventListener("pointerup",y(this,ow)),this.canvas.removeEventListener("pointerdown",y(this,kd)),this.isEditing=!0,y(this,yd)||(X(this,yd,!0),Y(this,Uc,Md).call(this),this.thickness||(this.thickness=Yi._defaultThickness),this.color||(this.color=Yi._defaultColor||Ge._defaultLineColor),this.opacity??(this.opacity=Yi._defaultOpacity)),this.currentPath.push([i,t]),X(this,Yh,!1),Y(this,lw,dE).call(this),X(this,yc,()=>{Y(this,Ok,vI).call(this),y(this,yc)&&window.requestAnimationFrame(y(this,yc))}),window.requestAnimationFrame(y(this,yc))},M1=new WeakSet,Rk=function(i,t){const[e,n]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===e&&t===n)return;const s=this.currentPath;let r=y(this,qo);if(s.push([i,t]),X(this,Yh,!0),s.length<=2){r.moveTo(...s[0]),r.lineTo(i,t);return}s.length===3&&(X(this,qo,r=new Path2D),r.moveTo(...s[0])),Y(this,Pk,bI).call(this,r,...s.at(-3),...s.at(-2),i,t)},Mk=new WeakSet,mI=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);y(this,qo).lineTo(...i)},Lk=new WeakSet,yI=function(i,t){X(this,yc,null),i=Math.min(Math.max(i,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),Y(this,M1,Rk).call(this,i,t),Y(this,Mk,mI).call(this);let e;if(this.currentPath.length!==1)e=Y(this,Dk,wI).call(this);else{const l=[i,t];e=[[l,l.slice(),l.slice(),l]]}const n=y(this,qo),s=this.currentPath;this.currentPath=[],X(this,qo,new Path2D);const r=()=>{this.allRawPaths.push(s),this.paths.push(e),this.bezierPath2D.push(n),this._uiManager.rebuild(this)},a=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Y(this,dm,L1).call(this),Y(this,fm,O1).call(this)),Y(this,Ld,pm).call(this))};this.addCommands({cmd:r,undo:a,mustExec:!0})},Ok=new WeakSet,vI=function(){if(!y(this,Yh))return;X(this,Yh,!1);const i=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),e=t.map(r=>r[0]),n=t.map(r=>r[1]);Math.min(...e)-i,Math.max(...e)+i,Math.min(...n)-i,Math.max(...n)+i;const{ctx:s}=this;s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)s.stroke(r);s.stroke(y(this,qo)),s.restore()},Pk=new WeakSet,bI=function(i,t,e,n,s,r,a){const l=(t+n)/2,u=(e+s)/2,d=(n+r)/2,h=(s+a)/2;i.bezierCurveTo(l+2*(n-l)/3,u+2*(s-u)/3,d+2*(n-d)/3,h+2*(s-h)/3,d,h)},Dk=new WeakSet,wI=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const t=[];let e,[n,s]=i[0];for(e=1;e<i.length-2;e++){const[p,m]=i[e],[v,_]=i[e+1],w=(p+v)/2,S=(m+_)/2,x=[n+2*(p-n)/3,s+2*(m-s)/3],C=[w+2*(p-w)/3,S+2*(m-S)/3];t.push([[n,s],x,C,[w,S]]),[n,s]=[w,S]}const[r,a]=i[e],[l,u]=i[e+1],d=[n+2*(r-n)/3,s+2*(a-s)/3],h=[l+2*(r-l)/3,u+2*(a-u)/3];return t.push([[n,s],d,h,[l,u]]),t},hl=new WeakSet,kc=function(){if(this.isEmpty()){Y(this,Cg,Qv).call(this);return}Y(this,lw,dE).call(this);const{canvas:i,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,i.width,i.height),Y(this,Cg,Qv).call(this);for(const e of this.bezierPath2D)t.stroke(e)},cw=new WeakSet,Nk=function(i){this.canvas.removeEventListener("pointerleave",y(this,aw)),this.canvas.removeEventListener("pointermove",y(this,rw)),this.canvas.removeEventListener("pointerup",y(this,ow)),this.canvas.addEventListener("pointerdown",y(this,kd)),y(this,qa)&&clearTimeout(y(this,qa)),X(this,qa,setTimeout(()=>{X(this,qa,null),this.canvas.removeEventListener("contextmenu",as)},10)),Y(this,Lk,yI).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},dm=new WeakSet,L1=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},fm=new WeakSet,O1=function(){X(this,Rd,new ResizeObserver(i=>{const t=i[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)})),y(this,Rd).observe(this.div)},Uc=new WeakSet,Md=function(){if(!y(this,yd))return;const[i,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*t),Y(this,Cg,Qv).call(this)},uw=new WeakSet,Ik=function(i,t){const e=Y(this,kg,Jv).call(this),n=(i-e)/y(this,md),s=(t-e)/y(this,gd);this.scaleFactor=Math.min(n,s)},Cg=new WeakSet,Qv=function(){const i=Y(this,kg,Jv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},Fk=new WeakSet,S5=function(i){const t=new Path2D;for(let e=0,n=i.length;e<n;e++){const[s,r,a,l]=i[e];e===0&&t.moveTo(...s),t.bezierCurveTo(r[0],r[1],a[0],a[1],l[0],l[1])}return t},Zv=new WeakSet,fE=function(i,t,e){const[n,s,r,a]=t;switch(e){case 0:for(let l=0,u=i.length;l<u;l+=2)i[l]+=n,i[l+1]=a-i[l+1];break;case 90:for(let l=0,u=i.length;l<u;l+=2){const d=i[l];i[l]=i[l+1]+n,i[l+1]=d+s}break;case 180:for(let l=0,u=i.length;l<u;l+=2)i[l]=r-i[l],i[l+1]+=s;break;case 270:for(let l=0,u=i.length;l<u;l+=2){const d=i[l];i[l]=r-i[l+1],i[l+1]=a-d}break;default:throw new Error("Invalid rotation")}return i},jk=new WeakSet,x5=function(i,t,e){const[n,s,r,a]=t;switch(e){case 0:for(let l=0,u=i.length;l<u;l+=2)i[l]-=n,i[l+1]=a-i[l+1];break;case 90:for(let l=0,u=i.length;l<u;l+=2){const d=i[l];i[l]=i[l+1]-s,i[l+1]=d-n}break;case 180:for(let l=0,u=i.length;l<u;l+=2)i[l]=r-i[l],i[l+1]-=s;break;case 270:for(let l=0,u=i.length;l<u;l+=2){const d=i[l];i[l]=a-i[l+1],i[l+1]=r-d}break;default:throw new Error("Invalid rotation")}return i},Bk=new WeakSet,E5=function(i,t,e,n){var s,r;const a=[],l=this.thickness/2,u=i*t+l,d=i*e+l;for(const h of this.paths){const p=[],m=[];for(let v=0,_=h.length;v<_;v++){const[w,S,x,C]=h[v];if(w[0]===C[0]&&w[1]===C[1]&&_===1){const H=i*w[0]+u,Q=i*w[1]+d;p.push(H,Q),m.push(H,Q);break}const L=i*w[0]+u,j=i*w[1]+d,R=i*S[0]+u,D=i*S[1]+d,P=i*x[0]+u,M=i*x[1]+d,O=i*C[0]+u,N=i*C[1]+d;v===0&&(p.push(L,j),m.push(L,j)),p.push(R,D,P,M,O,N),m.push(R,D),v===_-1&&m.push(O,N)}a.push({bezier:Y(s=Yi,Zv,fE).call(s,p,n,this.rotation),points:Y(r=Yi,Zv,fE).call(r,m,n,this.rotation)})}return a},P1=new WeakSet,zk=function(){let i=1/0,t=-1/0,e=1/0,n=-1/0;for(const s of this.paths)for(const[r,a,l,u]of s){const d=Gt.bezierBoundingBox(...r,...a,...l,...u);i=Math.min(i,d[0]),e=Math.min(e,d[1]),t=Math.max(t,d[2]),n=Math.max(n,d[3])}return[i,e,t,n]},kg=new WeakSet,Jv=function(){return y(this,rr)?Math.ceil(this.thickness*this.parentScale):0},Ld=new WeakSet,pm=function(i=!1){if(this.isEmpty())return;if(!y(this,rr)){Y(this,hl,kc).call(this);return}const t=Y(this,P1,zk).call(this),e=Y(this,kg,Jv).call(this);X(this,md,Math.max(Ge.MIN_SIZE,t[2]-t[0])),X(this,gd,Math.max(Ge.MIN_SIZE,t[3]-t[1]));const n=Math.ceil(e+y(this,md)*this.scaleFactor),s=Math.ceil(e+y(this,gd)*this.scaleFactor),[r,a]=this.parentDimensions;this.width=n/r,this.height=s/a,this.setAspectRatio(n,s);const l=this.translationX,u=this.translationY;this.translationX=-t[0],this.translationY=-t[1],Y(this,Uc,Md).call(this),Y(this,hl,kc).call(this),X(this,vd,n),X(this,bd,s),this.setDims(n,s);const d=i?e/this.scaleFactor/2:0;this.translate(l-this.translationX-d,u-this.translationY-d)},B(Yi,Fk),B(Yi,Zv),B(Yi,jk),ue(Yi,"_defaultColor",null),ue(Yi,"_defaultOpacity",1),ue(Yi,"_defaultThickness",1),ue(Yi,"_type","ink"),ue(Yi,"_editorType",xe.INK);let cat=Yi;var yi,bi,Rc,ml,Hc,Rg,Ya,Od,Xa,Jr,hw,Xh,Tp,Kh,Cp,Mg,dw,D1,Uk,Hk,_I,$k,AI,fw,pE,Lg,pw,Wk,SI;const gw=class extends Ge{constructor(t){super({...t,name:"stampEditor"}),B(this,Xh),B(this,Kh),B(this,Mg),B(this,D1),B(this,Hk),B(this,$k),B(this,fw),B(this,Lg),B(this,Wk),B(this,yi,null),B(this,bi,null),B(this,Rc,null),B(this,ml,null),B(this,Hc,null),B(this,Rg,""),B(this,Ya,null),B(this,Od,null),B(this,Xa,null),B(this,Jr,!1),B(this,hw,!1),X(this,ml,t.bitmapUrl),X(this,Hc,t.bitmapFile)}static initialize(t,e){Ge.initialize(t,e)}static get supportedTypes(){return Te(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return Te(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(xe.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,e;y(this,bi)&&(X(this,yi,null),this._uiManager.imageManager.deleteId(y(this,bi)),(t=y(this,Ya))==null||t.remove(),X(this,Ya,null),(e=y(this,Od))==null||e.disconnect(),X(this,Od,null),y(this,Xa)&&(clearTimeout(y(this,Xa)),X(this,Xa,null))),super.remove()}rebuild(){if(!this.parent){y(this,bi)&&Y(this,Mg,dw).call(this);return}super.rebuild(),this.div!==null&&(y(this,bi)&&y(this,Ya)===null&&Y(this,Mg,dw).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(y(this,Rc)||y(this,yi)||y(this,ml)||y(this,Hc)||y(this,bi))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),y(this,yi)?Y(this,D1,Uk).call(this):Y(this,Mg,dw).call(this),this.width){const[n,s]=this.parentDimensions;this.setAt(t*n,e*s,this.width*n,this.height*s)}return this.div}getImageForAltText(){return y(this,Ya)}static deserialize(t,e,n){if(t instanceof X4)return null;const s=super.deserialize(t,e,n),{rect:r,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:d}=t;l&&n.imageManager.isValidId(l)?X(s,bi,l):X(s,ml,a),X(s,Jr,u);const[h,p]=s.pageDimensions;return s.width=(r[2]-r[0])/h,s.height=(r[3]-r[1])/p,d&&(s.altTextData=d),s}serialize(t=!1,e=null){if(this.isEmpty())return null;const n={annotationType:xe.STAMP,bitmapId:y(this,bi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:y(this,Jr),structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=Y(this,Lg,pw).call(this,!0),n.accessibilityData=this.altTextData,n;const{decorative:s,altText:r}=this.altTextData;if(!s&&r&&(n.accessibilityData={type:"Figure",alt:r}),e===null)return n;e.stamps||(e.stamps=new Map);const a=y(this,Jr)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(y(this,bi)))e.stamps.set(y(this,bi),{area:a,serialized:n}),n.bitmap=Y(this,Lg,pw).call(this,!1);else if(y(this,Jr)){const l=e.stamps.get(y(this,bi));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=Y(this,Lg,pw).call(this,!1))}return n}};yi=new WeakMap,bi=new WeakMap,Rc=new WeakMap,ml=new WeakMap,Hc=new WeakMap,Rg=new WeakMap,Ya=new WeakMap,Od=new WeakMap,Xa=new WeakMap,Jr=new WeakMap,hw=new WeakMap,Xh=new WeakSet,Tp=function(i,t=!1){if(!i){this.remove();return}X(this,yi,i.bitmap),t||(X(this,bi,i.id),X(this,Jr,i.isSvg)),i.file&&X(this,Rg,i.file.name),Y(this,D1,Uk).call(this)},Kh=new WeakSet,Cp=function(){X(this,Rc,null),this._uiManager.enableWaiting(!1),y(this,Ya)&&this.div.focus()},Mg=new WeakSet,dw=function(){if(y(this,bi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(y(this,bi)).then(t=>Y(this,Xh,Tp).call(this,t,!0)).finally(()=>Y(this,Kh,Cp).call(this));return}if(y(this,ml)){const t=y(this,ml);X(this,ml,null),this._uiManager.enableWaiting(!0),X(this,Rc,this._uiManager.imageManager.getFromUrl(t).then(e=>Y(this,Xh,Tp).call(this,e)).finally(()=>Y(this,Kh,Cp).call(this)));return}if(y(this,Hc)){const t=y(this,Hc);X(this,Hc,null),this._uiManager.enableWaiting(!0),X(this,Rc,this._uiManager.imageManager.getFromFile(t).then(e=>Y(this,Xh,Tp).call(this,e)).finally(()=>Y(this,Kh,Cp).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=gw.supportedTypesStr,X(this,Rc,new Promise(t=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(i.files[0]);Y(this,Xh,Tp).call(this,e)}t()}),i.addEventListener("cancel",()=>{this.remove(),t()})}).finally(()=>Y(this,Kh,Cp).call(this))),i.click()},D1=new WeakSet,Uk=function(){const{div:i}=this;let{width:t,height:e}=y(this,yi);const[n,s]=this.pageDimensions,r=.75;if(this.width)t=this.width*n,e=this.height*s;else if(t>r*n||e>r*s){const d=Math.min(r*n/t,r*s/e);t*=d,e*=d}const[a,l]=this.parentDimensions;this.setDims(t*a/n,e*l/s),this._uiManager.enableWaiting(!1);const u=X(this,Ya,document.createElement("canvas"));i.append(u),i.hidden=!1,Y(this,fw,pE).call(this,t,e),Y(this,Wk,SI).call(this),y(this,hw)||(this.parent.addUndoableEditor(this),X(this,hw,!0)),this._reportTelemetry({action:"inserted_image"}),y(this,Rg)&&u.setAttribute("aria-label",y(this,Rg))},Hk=new WeakSet,_I=function(i,t){var e;const[n,s]=this.parentDimensions;this.width=i/n,this.height=t/s,this.setDims(i,t),(e=this._initialOptions)!=null&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,y(this,Xa)!==null&&clearTimeout(y(this,Xa)),X(this,Xa,setTimeout(()=>{X(this,Xa,null),Y(this,fw,pE).call(this,i,t)},200))},$k=new WeakSet,AI=function(i,t){const{width:e,height:n}=y(this,yi);let s=e,r=n,a=y(this,yi);for(;s>2*i||r>2*t;){const l=s,u=r;s>2*i&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const d=new OffscreenCanvas(s,r);d.getContext("2d").drawImage(a,0,0,l,u,0,0,s,r),a=d.transferToImageBitmap()}return a},fw=new WeakSet,pE=function(i,t){i=Math.ceil(i),t=Math.ceil(t);const e=y(this,Ya);if(!e||e.width===i&&e.height===t)return;e.width=i,e.height=t;const n=y(this,Jr)?y(this,yi):Y(this,$k,AI).call(this,i,t);if(this._uiManager.hasMLManager&&!this.hasAltText()){const r=new OffscreenCanvas(i,t).getContext("2d");r.drawImage(n,0,0,n.width,n.height,0,0,i,t),this._uiManager.mlGuess({service:"image-to-text",request:{data:r.getImageData(0,0,i,t).data,width:i,height:t,channels:4}}).then(a=>{const l=a?.output||"";this.parent&&l&&!this.hasAltText()&&(this.altTextData={altText:l,decorative:!1})})}const s=e.getContext("2d");s.filter=this._uiManager.hcmFilter,s.drawImage(n,0,0,n.width,n.height,0,0,i,t)},Lg=new WeakSet,pw=function(i){if(i){if(y(this,Jr)){const e=this._uiManager.imageManager.getSvgUrl(y(this,bi));if(e)return e}const t=document.createElement("canvas");return{width:t.width,height:t.height}=y(this,yi),t.getContext("2d").drawImage(y(this,yi),0,0),t.toDataURL()}if(y(this,Jr)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*Yd.PDF_TO_CSS_UNITS),s=Math.round(this.height*e*Yd.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,s);return r.getContext("2d").drawImage(y(this,yi),0,0,y(this,yi).width,y(this,yi).height,0,0,n,s),r.transferToImageBitmap()}return structuredClone(y(this,yi))},Wk=new WeakSet,SI=function(){X(this,Od,new ResizeObserver(i=>{const t=i[0].contentRect;t.width&&t.height&&Y(this,Hk,_I).call(this,t.width,t.height)})),y(this,Od).observe(this.div)},ue(gw,"_type","stamp"),ue(gw,"_editorType",xe.STAMP);let uat=gw;var Qh,Og,Na,Zh,Yo,Xo,Ko,$s,vc,gm,Pg,ts,ee,$c,Vk,T5,N1,Gk,mw,qk,yw,Yk,Dg,vw;const bw=class bc{constructor({uiManager:t,pageIndex:e,div:n,accessibilityManager:s,annotationLayer:r,drawLayer:a,textLayer:l,viewport:u,l10n:d}){B(this,Vk),B(this,N1),B(this,mw),B(this,yw),B(this,Dg),B(this,Qh,void 0),B(this,Og,!1),B(this,Na,null),B(this,Zh,null),B(this,Yo,null),B(this,Xo,null),B(this,Ko,null),B(this,$s,new Map),B(this,vc,!1),B(this,gm,!1),B(this,Pg,!1),B(this,ts,null),B(this,ee,void 0);const h=[...y(bc,$c).values()];if(!bc._initialized){bc._initialized=!0;for(const p of h)p.initialize(d,t)}t.registerEditorTypes(h),X(this,ee,t),this.pageIndex=e,this.div=n,X(this,Qh,s),X(this,Na,r),this.viewport=u,X(this,ts,l),this.drawLayer=a,y(this,ee).addLayer(this)}get isEmpty(){return y(this,$s).size===0}get isInvisible(){return this.isEmpty&&y(this,ee).getMode()===xe.NONE}updateToolbar(t){y(this,ee).updateToolbar(t)}updateMode(t=y(this,ee).getMode()){switch(Y(this,Dg,vw).call(this),t){case xe.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case xe.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case xe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of y(bc,$c).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=y(this,ts))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(y(this,ee).getMode()===xe.INK){if(!t){for(const e of y(this,$s).values())if(e.isEmpty()){e.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}setEditingState(t){y(this,ee).setEditingState(t)}addCommands(t){y(this,ee).addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=y(this,Na))==null||e.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of y(this,$s).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(y(this,ee).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!y(this,Na))return;const e=y(this,Na).getEditableAnnotations();for(const n of e){if(n.hide(),y(this,ee).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var t;X(this,Pg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const r of y(this,$s).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else n.set(r.annotationElementId,r);(t=this.getEditableAnnotation(r.annotationElementId))==null||t.show(),r.remove()}if(y(this,Na)){const r=y(this,Na).getEditableAnnotations();for(const a of r){const{id:l}=a.data;if(y(this,ee).isDeletedAnnotationElement(l))continue;let u=n.get(l);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=e.get(l),u&&(y(this,ee).addChangedExistingAnnotation(u),u.renderAnnotationElement(a),u.show(!1)),a.show()}}Y(this,Dg,vw).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of y(bc,$c).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),X(this,Pg,!1)}getEditableAnnotation(t){var e;return((e=y(this,Na))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){y(this,ee).getActive()!==t&&y(this,ee).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,(t=y(this,ts))!=null&&t.div&&!y(this,Xo)&&(X(this,Xo,Y(this,Vk,T5).bind(this)),y(this,ts).div.addEventListener("pointerdown",y(this,Xo)),y(this,ts).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,(t=y(this,ts))!=null&&t.div&&y(this,Xo)&&(y(this,ts).div.removeEventListener("pointerdown",y(this,Xo)),X(this,Xo,null),y(this,ts).div.classList.remove("highlighting"))}enableClick(){y(this,Yo)||(X(this,Yo,this.pointerdown.bind(this)),X(this,Zh,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",y(this,Yo)),this.div.addEventListener("pointerup",y(this,Zh)))}disableClick(){y(this,Yo)&&(this.div.removeEventListener("pointerdown",y(this,Yo)),this.div.removeEventListener("pointerup",y(this,Zh)),X(this,Yo,null),X(this,Zh,null))}attach(t){y(this,$s).set(t.id,t);const{annotationElementId:e}=t;e&&y(this,ee).isDeletedAnnotationElement(e)&&y(this,ee).removeDeletedAnnotationElement(t)}detach(t){var e;y(this,$s).delete(t.id),(e=y(this,Qh))==null||e.removePointerInTextLayer(t.contentDiv),!y(this,Pg)&&t.annotationElementId&&y(this,ee).addDeletedAnnotationElement(t)}remove(t){this.detach(t),y(this,ee).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,y(this,gm)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(y(this,ee).addDeletedAnnotationElement(t.annotationElementId),Ge.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),y(this,ee).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),y(this,ee).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!y(this,Ko)&&(t._focusEventsAllowed=!1,X(this,Ko,setTimeout(()=>{X(this,Ko,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0}),n.focus())},0))),t._structTreeParentId=(e=y(this,Qh))==null?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return y(this,ee).getId()}canCreateNewEmptyEditor(){var t;return(t=y(this,N1,Gk))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){y(this,ee).updateToolbar(t),y(this,ee).updateMode(t);const{offsetX:n,offsetY:s}=Y(this,yw,Yk).call(this),r=this.getNextId(),a=Y(this,mw,qk).call(this,{parent:this,id:r,x:n,y:s,uiManager:y(this,ee),isCentered:!0,...e});a&&this.add(a)}deserialize(t){var e;return((e=y(bc,$c).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,y(this,ee)))||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),r=Y(this,mw,qk).call(this,{parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:y(this,ee),isCentered:e,...n});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(Y(this,yw,Yk).call(this),!0)}setSelected(t){y(this,ee).setSelected(t)}toggleSelected(t){y(this,ee).toggleSelected(t)}isSelected(t){return y(this,ee).isSelected(t)}unselect(t){y(this,ee).unselect(t)}pointerup(t){const{isMac:e}=os.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&y(this,vc)){if(X(this,vc,!1),!y(this,Og)){X(this,Og,!0);return}if(y(this,ee).getMode()===xe.STAMP){y(this,ee).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(y(this,ee).getMode()===xe.HIGHLIGHT&&this.enableTextSelection(),y(this,vc)){X(this,vc,!1);return}const{isMac:e}=os.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;X(this,vc,!0);const n=y(this,ee).getActive();X(this,Og,!n||n.isEmpty())}findNewParent(t,e,n){const s=y(this,ee).findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}destroy(){var t,e;((t=y(this,ee).getActive())==null?void 0:t.parent)===this&&(y(this,ee).commitOrRemove(),y(this,ee).setActiveEditor(null)),y(this,Ko)&&(clearTimeout(y(this,Ko)),X(this,Ko,null));for(const n of y(this,$s).values())(e=y(this,Qh))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,y(this,$s).clear(),y(this,ee).removeLayer(this)}render({viewport:t}){this.viewport=t,ru(this.div,t);for(const e of y(this,ee).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){y(this,ee).commitOrRemove(),Y(this,Dg,vw).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,ru(this.div,{rotation:n}),e!==n)for(const s of y(this,$s).values())s.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return y(this,ee).viewParameters.realScale}};Qh=new WeakMap,Og=new WeakMap,Na=new WeakMap,Zh=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,Ko=new WeakMap,$s=new WeakMap,vc=new WeakMap,gm=new WeakMap,Pg=new WeakMap,ts=new WeakMap,ee=new WeakMap,$c=new WeakMap,Vk=new WeakSet,T5=function(i){if(y(this,ee).unselectAll(),i.target===y(this,ts).div){const{isMac:t}=os.platform;if(i.button!==0||i.ctrlKey&&t)return;y(this,ee).showAllEditors("highlight",!0,!0),y(this,ts).div.classList.add("free"),gI.startHighlighting(this,y(this,ee).direction==="ltr",i),y(this,ts).div.addEventListener("pointerup",()=>{y(this,ts).div.classList.remove("free")},{once:!0}),i.preventDefault()}},N1=new WeakSet,Gk=function(){return y(bw,$c).get(y(this,ee).getMode())},mw=new WeakSet,qk=function(i){const t=y(this,N1,Gk);return t?new t.prototype.constructor(i):null},yw=new WeakSet,Yk=function(){const{x:i,y:t,width:e,height:n}=this.div.getBoundingClientRect(),s=Math.max(0,i),r=Math.max(0,t),a=Math.min(window.innerWidth,i+e),l=Math.min(window.innerHeight,t+n),u=(s+a)/2-i,d=(r+l)/2-t,[h,p]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:p}},Dg=new WeakSet,vw=function(){X(this,gm,!0);for(const i of y(this,$s).values())i.isEmpty()&&i.remove();X(this,gm,!1)},ue(bw,"_initialized",!1),B(bw,$c,new Map([oat,cat,uat,gI].map(i=>[i._editorType,i])));let hat=bw;var Ua,ww,Un,wc,_w,Xk,Aw,Kk,Qk,C5;const Jh=class nr{constructor({pageIndex:t}){B(this,Aw),B(this,Qk),B(this,Ua,null),B(this,ww,0),B(this,Un,new Map),B(this,wc,new Map),this.pageIndex=t}setParent(t){if(!y(this,Ua)){X(this,Ua,t);return}if(y(this,Ua)!==t){if(y(this,Un).size>0)for(const e of y(this,Un).values())e.remove(),t.append(e);X(this,Ua,t)}}static get _svgFactory(){return Te(this,"_svgFactory",new sR)}highlight(t,e,n,s=!1){const r=Xs(this,ww)._++,a=Y(this,Aw,Kk).call(this,t.box);a.classList.add("highlight"),t.free&&a.classList.add("free");const l=nr._svgFactory.createElement("defs");a.append(l);const u=nr._svgFactory.createElement("path");l.append(u);const d=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",d),u.setAttribute("d",t.toSVGPath()),s&&y(this,wc).set(r,u);const h=Y(this,Qk,C5).call(this,l,d),p=nr._svgFactory.createElement("use");return a.append(p),a.setAttribute("fill",e),a.setAttribute("fill-opacity",n),p.setAttribute("href",`#${d}`),y(this,Un).set(r,a),{id:r,clipPathId:`url(#${h})`}}highlightOutline(t){const e=Xs(this,ww)._++,n=Y(this,Aw,Kk).call(this,t.box);n.classList.add("highlightOutline");const s=nr._svgFactory.createElement("defs");n.append(s);const r=nr._svgFactory.createElement("path");s.append(r);const a=`path_p${this.pageIndex}_${e}`;r.setAttribute("id",a),r.setAttribute("d",t.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let l;if(t.free){n.classList.add("free");const h=nr._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${e}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const p=nr._svgFactory.createElement("rect");h.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const m=nr._svgFactory.createElement("use");h.append(m),m.setAttribute("href",`#${a}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const u=nr._svgFactory.createElement("use");n.append(u),u.setAttribute("href",`#${a}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return n.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),y(this,Un).set(e,n),e}finalizeLine(t,e){const n=y(this,wc).get(t);y(this,wc).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){y(this,Un).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),y(this,wc).delete(t)}updatePath(t,e){y(this,wc).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;Y(n=nr,_w,Xk).call(n,y(this,Un).get(t),e)}show(t,e){y(this,Un).get(t).classList.toggle("hidden",!e)}rotate(t,e){y(this,Un).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){y(this,Un).get(t).setAttribute("fill",e)}changeOpacity(t,e){y(this,Un).get(t).setAttribute("fill-opacity",e)}addClass(t,e){y(this,Un).get(t).classList.add(e)}removeClass(t,e){y(this,Un).get(t).classList.remove(e)}remove(t){y(this,Ua)!==null&&(y(this,Un).get(t).remove(),y(this,Un).delete(t))}destroy(){X(this,Ua,null);for(const t of y(this,Un).values())t.remove();y(this,Un).clear()}};Ua=new WeakMap,ww=new WeakMap,Un=new WeakMap,wc=new WeakMap,_w=new WeakSet,Xk=function(i,{x:t=0,y:e=0,width:n=1,height:s=1}={}){const{style:r}=i;r.top=`${100*e}%`,r.left=`${100*t}%`,r.width=`${100*n}%`,r.height=`${100*s}%`},Aw=new WeakSet,Kk=function(i){var t;const e=Jh._svgFactory.create(1,1,!0);return y(this,Ua).append(e),e.setAttribute("aria-hidden",!0),Y(t=Jh,_w,Xk).call(t,e,i),e},Qk=new WeakSet,C5=function(i,t){const e=Jh._svgFactory.createElement("clipPath");i.append(e);const n=`clip_${t}`;e.setAttribute("id",n),e.setAttribute("clipPathUnits","objectBoundingBox");const s=Jh._svgFactory.createElement("use");return e.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),n},B(Jh,_w);let dat=Jh;var fat=se.AbortException,pat=se.AnnotationEditorLayer,gat=se.AnnotationEditorParamsType,mat=se.AnnotationEditorType,yat=se.AnnotationEditorUIManager,k5=se.AnnotationLayer,R5=se.AnnotationMode,vat=se.CMapCompressionType,bat=se.ColorPicker,wat=se.DOMSVGFactory,_at=se.DrawLayer,Aat=se.FeatureTest,dR=se.GlobalWorkerOptions,Sat=se.ImageKind,xat=se.InvalidPDFException,Eat=se.MissingPDFException,Tat=se.OPS,Cat=se.Outliner,kat=se.PDFDataRangeTransport,Rat=se.PDFDateString,Mat=se.PDFWorker,Lat=se.PasswordResponses,Oat=se.PermissionFlag,Pat=se.PixelsPerInch,Dat=se.RenderingCancelledException,M5=se.TextLayer,Nat=se.UnexpectedResponseException,Iat=se.Util,Fat=se.VerbosityLevel,jat=se.XfaLayer,Bat=se.build,zat=se.createValidAbsoluteUrl,Uat=se.fetchData,L5=se.getDocument,Hat=se.getFilenameFromUrl,$at=se.getPdfFilenameFromUrl,Wat=se.getXfaPageViewport,Vat=se.isDataScheme,Gat=se.isPdfFile,qat=se.noContextMenu,Yat=se.normalizeUnicode,Xat=se.renderTextLayer,Kat=se.setLayerDimensions,Qat=se.shadow,Zat=se.updateTextLayer,O5=se.version;const Jat=Object.freeze(Object.defineProperty({__proto__:null,AbortException:fat,AnnotationEditorLayer:pat,AnnotationEditorParamsType:gat,AnnotationEditorType:mat,AnnotationEditorUIManager:yat,AnnotationLayer:k5,AnnotationMode:R5,CMapCompressionType:vat,ColorPicker:bat,DOMSVGFactory:wat,DrawLayer:_at,FeatureTest:Aat,GlobalWorkerOptions:dR,ImageKind:Sat,InvalidPDFException:xat,MissingPDFException:Eat,OPS:Tat,Outliner:Cat,PDFDataRangeTransport:kat,PDFDateString:Rat,PDFWorker:Mat,PasswordResponses:Lat,PermissionFlag:Oat,PixelsPerInch:Pat,RenderingCancelledException:Dat,TextLayer:M5,UnexpectedResponseException:Nat,Util:Iat,VerbosityLevel:Fat,XfaLayer:jat,build:Bat,createValidAbsoluteUrl:zat,fetchData:Uat,getDocument:L5,getFilenameFromUrl:Hat,getPdfFilenameFromUrl:$at,getXfaPageViewport:Wat,isDataScheme:Vat,isPdfFile:Gat,noContextMenu:qat,normalizeUnicode:Yat,renderTextLayer:Xat,setLayerDimensions:Kat,shadow:Qat,updateTextLayer:Zat,version:O5},Symbol.toStringTag,{value:"Module"}));var Bn=function(i,t,e){for(var n=0,s=t.length,r;n<s;n++)(r||!(n in t))&&(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return i.concat(r||Array.prototype.slice.call(t))},tot=["onCopy","onCut","onPaste"],eot=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],not=["onFocus","onBlur"],iot=["onInput","onInvalid","onReset","onSubmit"],sot=["onLoad","onError"],rot=["onKeyDown","onKeyPress","onKeyUp"],aot=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],oot=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],lot=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],cot=["onSelect"],uot=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],hot=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],dot=["onScroll"],fot=["onWheel"],pot=["onAnimationStart","onAnimationEnd","onAnimationIteration"],got=["onTransitionEnd"],mot=["onToggle"],yot=["onChange"],vot=Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn(Bn([],tot,!0),eot,!0),not,!0),iot,!0),sot,!0),rot,!0),aot,!0),oot,!0),lot,!0),cot,!0),uot,!0),hot,!0),dot,!0),fot,!0),pot,!0),got,!0),yot,!0),mot);function P5(i,t){var e={};return vot.forEach(function(n){var s=i[n];s&&(t?e[n]=function(r){return s(r,t(n))}:e[n]=s)}),e}function Xm(i){var t=!1,e=new Promise(function(n,s){i.then(function(r){return!t&&n(r)}).catch(function(r){return!t&&s(r)})});return{promise:e,cancel:function(){t=!0}}}function D5(i){var t,e,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i))for(t=0;t<i.length;t++)i[t]&&(e=D5(i[t]))&&(n&&(n+=" "),n+=e);else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function L_(){for(var i,t,e=0,n="";e<arguments.length;)(i=arguments[e++])&&(t=D5(i))&&(n&&(n+=" "),n+=t);return n}var bot=oe.env.NODE_ENV==="production",gE="Invariant failed";function We(i,t){if(!i){if(bot)throw new Error(gE);var e=typeof t=="function"?t():t,n=e?"".concat(gE,": ").concat(e):gE;throw new Error(n)}}var wot=oe.env.NODE_ENV!=="production",N5=function(){};if(wot){var _ot=function(i,t){var e=arguments.length;t=new Array(e>1?e-1:0);for(var n=1;n<e;n++)t[n-1]=arguments[n];var s=0,r="Warning: "+i.replace(/%s/g,function(){return t[s++]});typeof console<"u"&&console.error(r);try{throw new Error(r)}catch{}};N5=function(i,t,e){var n=arguments.length;e=new Array(n>2?n-2:0);for(var s=2;s<n;s++)e[s-2]=arguments[s];if(t===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");i||_ot.apply(null,[t].concat(e))}}var Aot=N5;const xi=bj(Aot);var xI=Object.prototype.hasOwnProperty;function EI(i,t,e){for(e of i.keys())if(Pd(e,t))return e}function Pd(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&Pd(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=EI(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=EI(t,s),!s)||!Pd(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(xI.call(i,e)&&++n&&!xI.call(t,e)||!(e in t)||!Pd(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}const I5=V.createContext(null);function Dd({children:i,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const Sot="noopener noreferrer nofollow";class xot{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return We(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(t){We(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{We(this.pdfDocument,"PDF document not loaded."),We(t,"Destination is not specified."),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{We(Array.isArray(e),`"${e}" is not a valid destination array.`);const n=e[0];new Promise(s=>{We(this.pdfDocument,"PDF document not loaded."),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{s(r)}).catch(()=>{We(!1,`"${n}" is not a valid page reference.`)}):typeof n=="number"?s(n):We(!1,`"${n}" is not a valid destination reference.`)}).then(s=>{const r=s+1;We(this.pdfViewer,"PDF viewer is not initialized."),We(r>=1&&r<=this.pagesCount,`"${r}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;We(this.pdfViewer,"PDF viewer is not initialized."),We(t>=1&&t<=this.pagesCount,`"${t}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||Sot,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const TI={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},O_=typeof document<"u",F5=O_&&window.location.protocol==="file:";function Eot(i){return typeof i<"u"}function Ql(i){return Eot(i)&&i!==null}function Tot(i){return typeof i=="string"}function Cot(i){return i instanceof ArrayBuffer}function kot(i){return We(O_,"isBlob can only be used in a browser environment"),i instanceof Blob}function Zk(i){return Tot(i)&&/^data:/.test(i)}function CI(i){We(Zk(i),"Invalid data URI.");const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function Rot(){return O_&&window.devicePixelRatio||1}const j5="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function kI(){xi(!F5,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${j5}`)}function Mot(){xi(!F5,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${j5}`)}function ou(i){i&&i.cancel&&i.cancel()}function Jk(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function Lot(i){return i.name==="RenderingCancelledException"}function Oot(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}function Pot(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Xd(){return V.useReducer(Pot,{value:void 0,error:void 0})}var Dot=function(i,t,e,n){function s(r){return r instanceof e?r:new e(function(a){a(r)})}return new(e||(e=Promise))(function(r,a){function l(h){try{d(n.next(h))}catch(p){a(p)}}function u(h){try{d(n.throw(h))}catch(p){a(p)}}function d(h){h.done?r(h.value):s(h.value).then(l,u)}d((n=n.apply(i,[])).next())})},RI=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const{PDFDataRangeTransport:Not}=Jat,Iot=(i,t)=>{switch(t){case TI.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case TI.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function MI(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const Fot=V.forwardRef(function(i,t){var{children:e,className:n,error:s="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:v,onLoadProgress:_,onLoadSuccess:w,onPassword:S=Iot,onSourceError:x,onSourceSuccess:C,options:L,renderMode:j,rotate:R}=i,D=RI(i,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[P,M]=Xd(),{value:O,error:N}=P,[H,Q]=Xd(),{value:G,error:J}=H,nt=V.useRef(new xot),$=V.useRef([]),T=V.useRef(void 0),ct=V.useRef(void 0);l&&l!==T.current&&MI(l)&&(xi(!Pd(l,T.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),T.current=l),L&&L!==ct.current&&(xi(!Pd(L,ct.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ct.current=L);const Z=V.useRef({scrollPageIntoView:Ot=>{const{dest:Rt,pageNumber:Nt,pageIndex:qt=Nt-1}=Ot;if(m){m({dest:Rt,pageIndex:qt,pageNumber:Nt});return}const Qt=$.current[qt];if(Qt){Qt.scrollIntoView();return}xi(!1,`An internal link leading to page ${Nt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});V.useImperativeHandle(t,()=>({linkService:nt,pages:$,viewer:Z}),[]);function k(){C&&C()}function W(){N&&(xi(!1,N.toString()),x&&x(N))}function K(){M({type:"RESET"})}V.useEffect(K,[l,M]);const et=V.useCallback(()=>Dot(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return Zk(l)?{data:CI(l)}:(kI(),{url:l});if(l instanceof Not)return{range:l};if(Cot(l))return{data:l};if(O_&&kot(l))return{data:yield Oot(l)};if(We(typeof l=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),We(MI(l),"Invalid parameter object: need either .data, .range or .url"),"url"in l&&typeof l.url=="string"){if(Zk(l.url)){const{url:Ot}=l,Rt=RI(l,["url"]),Nt=CI(Ot);return Object.assign({data:Nt},Rt)}kI()}return l}),[l]);V.useEffect(()=>{const Ot=Xm(et());return Ot.promise.then(Rt=>{M({type:"RESOLVE",value:Rt})}).catch(Rt=>{M({type:"REJECT",error:Rt})}),()=>{ou(Ot)}},[et,M]),V.useEffect(()=>{if(!(typeof O>"u")){if(O===!1){W();return}k()}},[O]);function st(){G&&(w&&w(G),$.current=new Array(G.numPages),nt.current.setDocument(G))}function ut(){J&&(xi(!1,J.toString()),v&&v(J))}function lt(){Q({type:"RESET"})}V.useEffect(lt,[Q,O]);function ft(){if(!O)return;const Ot=Object.assign(Object.assign({},O),L),Rt=L5(Ot);_&&(Rt.onProgress=_),S&&(Rt.onPassword=S);const Nt=Rt;return Nt.promise.then(qt=>{Q({type:"RESOLVE",value:qt})}).catch(qt=>{Nt.destroyed||Q({type:"REJECT",error:qt})}),()=>{Nt.destroy()}}V.useEffect(ft,[L,Q,O]),V.useEffect(()=>{if(!(typeof G>"u")){if(G===!1){ut();return}st()}},[G]);function Ct(){nt.current.setViewer(Z.current),nt.current.setExternalLinkRel(r),nt.current.setExternalLinkTarget(a)}V.useEffect(Ct,[r,a]);function _t(Ot,Rt){$.current[Ot]=Rt}function St(Ot){delete $.current[Ot]}const It=V.useMemo(()=>({imageResourcesPath:d,linkService:nt.current,onItemClick:m,pdf:G,registerPage:_t,renderMode:j,rotate:R,unregisterPage:St}),[d,m,G,j,R]),Ft=V.useMemo(()=>P5(D,()=>G),[D,G]);function Et(){return F.jsx(I5.Provider,{value:It,children:e})}function Pt(){return l?G==null?F.jsx(Dd,{type:"loading",children:typeof h=="function"?h():h}):G===!1?F.jsx(Dd,{type:"error",children:typeof s=="function"?s():s}):Et():F.jsx(Dd,{type:"no-data",children:typeof p=="function"?p():p})}return F.jsx("div",Object.assign({className:L_("react-pdf__Document",n),ref:u,style:{"--scale-factor":"1"}},Ft,{children:Pt()}))});function B5(){return V.useContext(I5)}function z5(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(s){e.forEach(function(r){typeof r=="function"?r(s):r&&(r.current=s)})}}const U5=V.createContext(null),H5={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},jot=/^H(\d+)$/;function Bot(i){return i in H5}function P_(i){return"children"in i}function $5(i){return P_(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function zot(i){const t={};if(P_(i)){const{role:e}=i,n=e.match(jot);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(Bot(e)){const s=H5[e];s&&(t.role=s)}}return t}function W5(i){const t={};if(P_(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),$5(i)){const[e]=i.children;if(e){const n=W5(e);return Object.assign(Object.assign({},t),n)}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function Uot(i){return i?Object.assign(Object.assign({},zot(i)),W5(i)):null}function V5({className:i,node:t}){const e=V.useMemo(()=>Uot(t),[t]),n=V.useMemo(()=>!P_(t)||$5(t)?null:t.children.map((s,r)=>F.jsx(V5,{node:s},r)),[t]);return F.jsx("span",Object.assign({className:i},e,{children:n}))}function D_(){return V.useContext(U5)}function Hot(){const i=D_();We(i,"Unable to find Page context.");const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=Xd(),{value:r,error:a}=n,{customTextRenderer:l,page:u}=i;function d(){r&&e&&e(r)}function h(){a&&(xi(!1,a.toString()),t&&t(a))}function p(){s({type:"RESET"})}V.useEffect(p,[s,u]);function m(){if(l||!u)return;const v=Xm(u.getStructTree()),_=v;return v.promise.then(w=>{s({type:"RESOLVE",value:w})}).catch(w=>{s({type:"REJECT",error:w})}),()=>ou(_)}return V.useEffect(m,[l,u,s]),V.useEffect(()=>{if(r!==void 0){if(r===!1){h();return}d()}},[r]),r?F.jsx(V5,{className:"react-pdf__Page__structTree structTree",node:r}):null}const LI=R5;function $ot(i){const t=D_();We(t,"Unable to find Page context.");const e=Object.assign(Object.assign({},t),i),{_className:n,canvasBackground:s,devicePixelRatio:r=Rot(),onRenderError:a,onRenderSuccess:l,page:u,renderForms:d,renderTextLayer:h,rotate:p,scale:m}=e,{canvasRef:v}=i;We(u,"Attempted to render page canvas, but no page was specified.");const _=V.useRef(null);function w(){u&&l&&l(Jk(u,m))}function S(R){Lot(R)||(xi(!1,R.toString()),a&&a(R))}const x=V.useMemo(()=>u.getViewport({scale:m*r,rotation:p}),[r,u,p,m]),C=V.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);function L(){if(!u)return;u.cleanup();const{current:R}=_;if(!R)return;R.width=x.width,R.height=x.height,R.style.width=`${Math.floor(C.width)}px`,R.style.height=`${Math.floor(C.height)}px`,R.style.visibility="hidden";const D={annotationMode:d?LI.ENABLE_FORMS:LI.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:x};s&&(D.background=s);const P=u.render(D),M=P;return P.promise.then(()=>{R.style.visibility="",w()}).catch(S),()=>ou(M)}V.useEffect(L,[s,_,r,u,d,x,C]);const j=V.useCallback(()=>{const{current:R}=_;R&&(R.width=0,R.height=0)},[_]);return V.useEffect(()=>j,[j]),F.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:z5(v,_),style:{display:"block",userSelect:"none"},children:h?F.jsx(Hot,{}):null})}function Wot(i){return"str"in i}function Vot(){const i=D_();We(i,"Unable to find Page context.");const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:l,pageNumber:u,rotate:d,scale:h}=i;We(a,"Attempted to load page text content, but no page was specified.");const[p,m]=Xd(),{value:v,error:_}=p,w=V.useRef(null),S=V.useRef(void 0);xi(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function x(){v&&n&&n(v)}function C(){_&&(xi(!1,_.toString()),e&&e(_))}function L(){m({type:"RESET"})}V.useEffect(L,[a,m]);function j(){if(!a)return;const H=Xm(a.getTextContent()),Q=H;return H.promise.then(G=>{m({type:"RESOLVE",value:G})}).catch(G=>{m({type:"REJECT",error:G})}),()=>ou(Q)}V.useEffect(j,[a,m]),V.useEffect(()=>{if(v!==void 0){if(v===!1){C();return}x()}},[v]);const R=V.useCallback(()=>{r&&r()},[r]),D=V.useCallback(H=>{xi(!1,H.toString()),s&&s(H)},[s]);function P(){const H=S.current;H&&H.classList.add("active")}function M(){const H=S.current;H&&H.classList.remove("active")}const O=V.useMemo(()=>a.getViewport({scale:h,rotation:d}),[a,d,h]);function N(){if(!a||!v)return;const{current:H}=w;if(!H)return;H.innerHTML="";const Q=a.streamTextContent({includeMarkedContent:!0}),G={container:H,textContentSource:Q,viewport:O},J=new M5(G),nt=J;return J.render().then(()=>{const $=document.createElement("div");$.className="endOfContent",H.append($),S.current=$;const T=H.querySelectorAll('[role="presentation"]');if(t){let ct=0;v.items.forEach((Z,k)=>{if(!Wot(Z))return;const W=T[ct];if(!W)return;const K=t(Object.assign({pageIndex:l,pageNumber:u,itemIndex:k},Z));W.innerHTML=K,ct+=Z.str&&Z.hasEOL?2:1})}R()}).catch(D),()=>ou(nt)}return V.useLayoutEffect(N,[t,D,R,a,l,u,v,O]),F.jsx("div",{className:L_("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:P,ref:w})}function Got(){const i=B5(),t=D_();We(t,"Unable to find Page context.");const e=Object.assign(Object.assign({},i),t),{imageResourcesPath:n,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,page:d,pdf:h,renderForms:p,rotate:m,scale:v=1}=e;We(h,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),We(d,"Attempted to load page annotations, but no page was specified."),We(s,"Attempted to load page annotations, but no linkService was specified.");const[_,w]=Xd(),{value:S,error:x}=_,C=V.useRef(null);xi(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){S&&a&&a(S)}function j(){x&&(xi(!1,x.toString()),r&&r(x))}function R(){w({type:"RESET"})}V.useEffect(R,[w,d]);function D(){if(!d)return;const H=Xm(d.getAnnotations()),Q=H;return H.promise.then(G=>{w({type:"RESOLVE",value:G})}).catch(G=>{w({type:"REJECT",error:G})}),()=>{ou(Q)}}V.useEffect(D,[w,d,p]),V.useEffect(()=>{if(S!==void 0){if(S===!1){j();return}L()}},[S]);function P(){u&&u()}function M(H){xi(!1,`${H}`),l&&l(H)}const O=V.useMemo(()=>d.getViewport({scale:v,rotation:m}),[d,m,v]);function N(){if(!h||!d||!s||!S)return;const{current:H}=C;if(!H)return;const Q=O.clone({dontFlip:!0}),G={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:H,l10n:null,page:d,viewport:Q},J={annotations:S,annotationStorage:h.annotationStorage,div:H,imageResourcesPath:n,linkService:s,page:d,renderForms:p,viewport:Q};H.innerHTML="";try{new k5(G).render(J),P()}catch(nt){M(nt)}return()=>{}}return V.useEffect(N,[S,n,s,d,p,O]),F.jsx("div",{className:L_("react-pdf__Page__annotations","annotationLayer"),ref:C})}var qot=function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const OI=1;function Yot(i){const t=B5(),e=Object.assign(Object.assign({},t),i),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:l,className:u,customRenderer:d,customTextRenderer:h,devicePixelRatio:p,error:m="Failed to load the page.",height:v,inputRef:_,loading:w="Loading page",noData:S="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:C,onGetStructTreeError:L,onGetStructTreeSuccess:j,onGetTextError:R,onGetTextSuccess:D,onLoadError:P,onLoadSuccess:M,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:N,onRenderError:H,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:J,pageIndex:nt,pageNumber:$,pdf:T,registerPage:ct,renderAnnotationLayer:Z=!0,renderForms:k=!1,renderMode:W="canvas",renderTextLayer:K=!0,rotate:et,scale:st=OI,unregisterPage:ut,width:lt}=e,ft=qot(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ct,_t]=Xd(),{value:St,error:It}=Ct,Ft=V.useRef(null);We(T,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Et=Ql($)?$-1:nt??null,Pt=$??(Ql(nt)?nt+1:null),Ot=et??(St?St.rotate:null),Rt=V.useMemo(()=>{if(!St)return null;let E=1;const I=st??OI;if(lt||v){const U=St.getViewport({scale:1,rotation:Ot});lt?E=lt/U.width:v&&(E=v/U.height)}return I*E},[v,St,Ot,st,lt]);function Nt(){return()=>{Ql(Et)&&s&&ut&&ut(Et)}}V.useEffect(Nt,[s,T,Et,ut]);function qt(){if(M){if(!St||!Rt)return;M(Jk(St,Rt))}if(s&&ct){if(!Ql(Et)||!Ft.current)return;ct(Et,Ft.current)}}function Qt(){It&&(xi(!1,It.toString()),P&&P(It))}function tt(){_t({type:"RESET"})}V.useEffect(tt,[_t,T,Et]);function ot(){if(!T||!Pt)return;const E=Xm(T.getPage(Pt)),I=E;return E.promise.then(U=>{_t({type:"RESOLVE",value:U})}).catch(U=>{_t({type:"REJECT",error:U})}),()=>ou(I)}V.useEffect(ot,[_t,T,Et,Pt,ct]),V.useEffect(()=>{if(St!==void 0){if(St===!1){Qt();return}qt()}},[St,Rt]);const pt=V.useMemo(()=>St&&Ql(Et)&&Pt&&Ql(Ot)&&Ql(Rt)?{_className:n,canvasBackground:r,customTextRenderer:h,devicePixelRatio:p,onGetAnnotationsError:x,onGetAnnotationsSuccess:C,onGetStructTreeError:L,onGetStructTreeSuccess:j,onGetTextError:R,onGetTextSuccess:D,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:N,onRenderError:H,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:J,page:St,pageIndex:Et,pageNumber:Pt,renderForms:k,renderTextLayer:K,rotate:Ot,scale:Rt}:null,[n,r,h,p,x,C,L,j,R,D,O,N,H,Q,G,J,St,Et,Pt,k,K,Ot,Rt]),Mt=V.useMemo(()=>P5(ft,()=>St&&(Rt?Jk(St,Rt):void 0)),[ft,St,Rt]),Lt=`${Et}@${Rt}/${Ot}`;function bt(){switch(W){case"custom":return We(d,'renderMode was set to "custom", but no customRenderer was passed.'),F.jsx(d,{},`${Lt}_custom`);case"none":return null;case"canvas":default:return F.jsx($ot,{canvasRef:a},`${Lt}_canvas`)}}function jt(){return K?F.jsx(Vot,{},`${Lt}_text`):null}function Bt(){return Z?F.jsx(Got,{},`${Lt}_annotations`):null}function Ut(){return F.jsxs(U5.Provider,{value:pt,children:[bt(),jt(),Bt(),l]})}function ne(){return Pt?T===null||St===void 0||St===null?F.jsx(Dd,{type:"loading",children:typeof w=="function"?w():w}):T===!1||St===!1?F.jsx(Dd,{type:"error",children:typeof m=="function"?m():m}):Ut():F.jsx(Dd,{type:"no-data",children:typeof S=="function"?S():S})}return F.jsx("div",Object.assign({className:L_(n,u),"data-page-number":Pt,ref:z5(_,Ft),style:{"--scale-factor":`${Rt}`,backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Mt,{children:ne()}))}Mot();dR.workerSrc="pdf.worker.mjs";const G5="SET_ZOOM_LEVEL",mE=i=>({type:G5,value:i}),q5="SET_PDF_PAGINATED",Xot=i=>({type:q5,value:i}),Y5="SET_NUM_PAGES",PI=i=>({type:Y5,value:i}),X5="SET_CURRENT_PAGE",K5="SET_CURRENT_MAIN_STATE",DI=i=>({type:X5,value:i}),dl={defaultZoomLevel:1,zoomLevel:1,zoomJump:.1,paginated:!0,numPages:0,currentPage:1},Kot=(i=dl,t)=>{switch(t.type){case G5:{const{value:e}=t;return{...i,zoomLevel:e}}case q5:{const{value:e}=t;return{...i,paginated:e}}case Y5:{const{value:e}=t;return{...i,numPages:e}}case X5:{const{value:e}=t;return{...i,currentPage:e}}case K5:{const{value:e}=t;return{...i,mainState:e}}default:return i}},cf=V.createContext({state:dl,dispatch:()=>null}),Qot=({children:i,mainState:t})=>{var e,n,s,r,a,l,u;const[d,h]=V.useReducer(Kot,{...dl,defaultZoomLevel:((n=(e=t.config)==null?void 0:e.pdfZoom)==null?void 0:n.defaultZoom)??dl.defaultZoomLevel,zoomLevel:((r=(s=t.config)==null?void 0:s.pdfZoom)==null?void 0:r.defaultZoom)??dl.zoomLevel,zoomJump:((l=(a=t.config)==null?void 0:a.pdfZoom)==null?void 0:l.zoomJump)??dl.zoomJump,paginated:(u=t.config)!=null&&u.pdfVerticalScrollByDefault?!1:dl.paginated,mainState:t});return V.useEffect(()=>{h({type:K5,value:t})},[t]),F.jsx(cf.Provider,{value:{state:d,dispatch:h},children:i})},Q5=({pageNum:i})=>{const{state:{mainState:t,paginated:e,zoomLevel:n,numPages:s,currentPage:r}}=V.useContext(cf),{t:a}=pu(),l=t?.rendererRect||null,u=i??r;return F.jsxs(Zot,{id:"pdf-page-wrapper",$lastPage:u>=s,children:[!e&&F.jsx(Jot,{id:"pdf-page-info",children:a("pdfPluginPageNumber",{currentPage:u,allPagesCount:s})}),F.jsx(Yot,{pageNumber:u||r,scale:n,height:(l?.height??100)-100,width:(l?.width??100)-100,loading:a("pdfPluginLoading")})]})},Zot=ye.div`
  margin: ${i=>i.$lastPage?"20px 0":void 0};
`,Jot=ye.div`
  padding: 0 0 10px 10px;
  color: ${i=>i.theme.textTertiary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,tlt=()=>{const{state:{numPages:i}}=V.useContext(cf),t=[];for(let e=0;e<i;e++)t.push(F.jsx(Q5,{pageNum:e+1},e+1));return F.jsx(F.Fragment,{children:t})},elt=()=>{const{state:{mainState:i,paginated:t},dispatch:e}=V.useContext(cf),{t:n}=pu(),s=i?.currentDocument||null;return V.useEffect(()=>{e(PI(dl.numPages))},[s]),!s||s.fileData===void 0?null:F.jsx(nlt,{file:s.fileData,onLoadSuccess:({numPages:r})=>e(PI(r)),loading:F.jsx("span",{children:n("pdfPluginLoading")}),children:t?F.jsx(Q5,{}):F.jsx(tlt,{})})},nlt=ye(Fot)`
  display: flex;
  flex-direction: column;
  margin: 0 auto;
`,ilt=i=>F.jsx(Z5,{...i,reverse:!0}),slt=i=>F.jsx(Z5,{...i}),Z5=i=>{const{color:t,size:e,reverse:n}=i;return F.jsx("svg",{width:e||"100%",height:e||"100%",style:{transform:`${n?"rotate(180deg)":""}`},viewBox:"0 0 12 12",version:"1.1",children:F.jsx("g",{id:"Icons",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:F.jsx("g",{id:"Rounded",transform:"translate(-548.000000, -1000.000000)",children:F.jsx("g",{id:"AV",transform:"translate(100.000000, 852.000000)",children:F.jsx("g",{id:"-Round-/-AV-/-skip_next",transform:"translate(442.000000, 142.000000)",children:F.jsxs("g",{children:[F.jsx("rect",{id:"Rectangle-Copy-52",x:"0",y:"0",width:"24",height:"24"}),F.jsx("path",{d:"M7.58,16.89 L13.35,12.82 C13.91,12.42 13.91,11.58 13.35,11.19 L7.58,7.11 C6.91,6.65 6,7.12 6,7.93 L6,16.07 C6,16.88 6.91,17.35 7.58,16.89 Z M16,7 L16,17 C16,17.55 16.45,18 17,18 C17.55,18 18,17.55 18,17 L18,7 C18,6.45 17.55,6 17,6 C16.45,6 16,6.45 16,7 Z",id:"icon_color",fill:t||"#aaa"})]})})})})})})},rlt=i=>{const{color:t,size:e,reverse:n}=i;return F.jsxs("svg",{width:e||"100%",height:e||"100%",style:{transform:`${n?"rotate(180deg)":""}`},id:"Layer_1",viewBox:"0 0 24 24",children:[F.jsx("path",{d:"M20.57,9.43A8,8,0,0,0,5.26,10,5,5,0,1,0,5,20h5V18H5a3,3,0,0,1,0-6,3.1,3.1,0,0,1,.79.12l1.12.31.14-1.15a6,6,0,0,1,11.74-.82l.15.54.54.16A3.46,3.46,0,0,1,22,14.5,3.5,3.5,0,0,1,18.5,18H16v2h2.5A5.48,5.48,0,0,0,20.57,9.43Z",fill:t||"#aaa"}),F.jsx("polygon",{points:"12 11 12 15.59 10.71 14.29 9.29 15.71 13 19.41 16.71 15.71 15.29 14.29 14 15.59 14 11 12 11",fill:t||"#aaa"})]})},alt=i=>F.jsx(J5,{...i}),olt=i=>F.jsx(J5,{...i,reverse:!0}),J5=i=>{const{color:t,size:e,reverse:n}=i;return F.jsx("svg",{width:e||"100%",height:e||"100%",viewBox:"0 0 32 32",version:"1.1",children:F.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:F.jsx("g",{id:"search-plus-icon",fill:t||"#aaa",children:F.jsx("path",{id:"search-plus",d:n?"M 13 13 L 16 13 L 19 13 L 19 16 L 16 16 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z":"M 13 13 L 13 10 L 16 10 L 16 13 L 19 13 L 19 16 L 16 16 L 16 19 L 13 19 L 13 16 L 10 16 L 10 13 Z M 19.4271 21.4271 C 18.0372 22.4175 16.3367 23 14.5 23 C 9.8056 23 6 19.1944 6 14.5 C 6 9.8056 9.8056 6 14.5 6 C 19.1944 6 23 9.8056 23 14.5 C 23 16.3367 22.4175 18.0372 21.4271 19.4271 L 27.0119 25.0119 C 27.5621 25.5621 27.5575 26.4425 27.0117 26.9883 L 26.9883 27.0117 C 26.4439 27.5561 25.5576 27.5576 25.0119 27.0119 L 19.4271 21.4271 L 19.4271 21.4271 L 19.4271 21.4271 Z M 14.5 21 C 18.0899 21 21 18.0899 21 14.5 C 21 10.9101 18.0899 8 14.5 8 C 10.9101 8 8 10.9101 8 14.5 C 8 18.0899 10.9101 21 14.5 21 L 14.5 21 Z"})})})})},llt=i=>{const{color:t,size:e}=i;return F.jsx("svg",{width:e||"100%",height:e||"100%",viewBox:"0 0 24 24",children:F.jsx("path",{fill:t||"#aaa",d:"M9.29,13.29,4,18.59V17a1,1,0,0,0-2,0v4a1,1,0,0,0,.08.38,1,1,0,0,0,.54.54A1,1,0,0,0,3,22H7a1,1,0,0,0,0-2H5.41l5.3-5.29a1,1,0,0,0-1.42-1.42ZM5.41,4H7A1,1,0,0,0,7,2H3a1,1,0,0,0-.38.08,1,1,0,0,0-.54.54A1,1,0,0,0,2,3V7A1,1,0,0,0,4,7V5.41l5.29,5.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42ZM21,16a1,1,0,0,0-1,1v1.59l-5.29-5.3a1,1,0,0,0-1.42,1.42L18.59,20H17a1,1,0,0,0,0,2h4a1,1,0,0,0,.38-.08,1,1,0,0,0,.54-.54A1,1,0,0,0,22,21V17A1,1,0,0,0,21,16Zm.92-13.38a1,1,0,0,0-.54-.54A1,1,0,0,0,21,2H17a1,1,0,0,0,0,2h1.59l-5.3,5.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L20,5.41V7a1,1,0,0,0,2,0V3A1,1,0,0,0,21.92,2.62Z"})})},clt=i=>{const{color:t,size:e,reverse:n}=i;return F.jsx("svg",{width:e||"100%",height:e||"100%",style:{transform:`${n?"rotate(90deg)":""}`},version:"1.1",id:"Scroll_1",viewBox:"0 0 297 297",xmlSpace:"preserve",children:F.jsx("path",{fill:t||"#aaa",d:`M206.004,200.723h-31.231V96.277h31.231c0.005,0,0.014,0,0.019,0c5.289,0,9.575-4.287,9.575-9.574
  c0-2.342-0.841-4.488-2.236-6.151L156.168,3.851C154.36,1.428,151.515,0,148.492,0c-3.023,0-5.868,1.428-7.675,3.851L83.302,80.98
  c-2.166,2.902-2.507,6.779-0.883,10.017c1.624,3.236,4.936,5.28,8.559,5.28h31.231v104.445H90.978c-3.623,0-6.934,2.044-8.559,5.28
  c-1.624,3.237-1.283,7.114,0.883,10.017l57.513,77.129c1.808,2.424,4.652,3.852,7.675,3.852c3.023,0,5.868-1.428,7.676-3.852
  l57.514-77.129c2.164-2.902,2.507-6.779,0.883-10.017C212.938,202.767,209.627,200.723,206.004,200.723z`})})},ult=()=>{const{state:{currentPage:i,numPages:t},dispatch:e}=V.useContext(cf),{t:n}=pu();return F.jsxs(hlt,{id:"pdf-pagination",children:[F.jsx(t6,{id:"pdf-pagination-prev",onClick:()=>e(DI(i-1)),disabled:i===1,children:F.jsx(ilt,{color:"#000",size:"50%"})}),F.jsx(flt,{id:"pdf-pagination-info",children:n("pdfPluginPageNumber",{currentPage:i,allPagesCount:t})}),F.jsx(dlt,{id:"pdf-pagination-next",onClick:()=>e(DI(i+1)),disabled:i>=t,children:F.jsx(slt,{color:"#000",size:"50%"})})]})},hlt=ye.div`
  display: flex;
  align-items: center;
`,t6=ye(m_)`
  width: 30px;
  height: 30px;
  margin: 0 5px;

  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,dlt=ye(t6)`
  margin: 0 20px 0 5px;
`,flt=ye.div`
  color: ${i=>i.theme.textPrimary};
  font-size: 14px;
  text-align: left;

  @media (max-width: 768px) {
    font-size: 10px;
  }
`,plt=()=>{const{t:i}=pu(),{state:{mainState:t,paginated:e,zoomLevel:n,numPages:s,zoomJump:r,defaultZoomLevel:a},dispatch:l}=V.useContext(cf),u=t?.currentDocument||null;return F.jsxs(glt,{id:"pdf-controls",children:[e&&s>1&&F.jsx(ult,{}),u?.fileData&&F.jsx(mlt,{id:"pdf-download",href:u?.fileData,download:u?.fileName||u?.uri,title:i("downloadButtonLabel"),children:F.jsx(rlt,{color:"#000",size:"75%"})}),F.jsx(t0,{id:"pdf-zoom-out",onMouseDown:()=>l(mE(n-r)),children:F.jsx(olt,{color:"#000",size:"80%"})}),F.jsx(t0,{id:"pdf-zoom-in",onMouseDown:()=>l(mE(n+r)),children:F.jsx(alt,{color:"#000",size:"80%"})}),F.jsx(t0,{id:"pdf-zoom-reset",onMouseDown:()=>l(mE(a)),disabled:n===a,children:F.jsx(llt,{color:"#000",size:"70%"})}),s>1&&F.jsx(t0,{id:"pdf-toggle-pagination",onMouseDown:()=>l(Xot(!e)),children:F.jsx(clt,{color:"#000",size:"70%",reverse:e})})]})},glt=ye.div`
  display: flex;
  position: sticky;
  top: 0;
  left: 0;
  z-index: 1;
  justify-content: flex-end;
  padding: 8px;
  background-color: ${i=>i.theme.tertiary};
  box-shadow: 0px 2px 3px #00000033;

  @media (max-width: 768px) {
    padding: 6px;
  }
`,t0=ye(m_)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`,mlt=ye(PB)`
  width: 30px;
  height: 30px;
  @media (max-width: 768px) {
    width: 25px;
    height: 25px;
  }
`;dR.workerSrc=new URL(`https://unpkg.com/pdfjs-dist@${O5}/build/pdf.worker.min.mjs`).toString();const fR=({mainState:i})=>F.jsx(Qot,{mainState:i,children:F.jsxs(ylt,{id:"pdf-renderer","data-testid":"pdf-renderer",children:[F.jsx(plt,{}),F.jsx(elt,{})]})});fR.fileTypes=["pdf","application/pdf"];fR.weight=0;const ylt=ye.div`
  display: flex;
  flex-direction: column;
  flex: 1;

  /* width */
  &::-webkit-scrollbar {
    ${i=>i.theme.disableThemeScrollbar?"":"width: 10px"};
  }
  /* Track */
  &::-webkit-scrollbar-track {
    /* background: ${i=>i.theme.secondary}; */
  }
  /* Handle */
  &::-webkit-scrollbar-thumb {
    background: ${i=>i.theme.tertiary};
  }
  /* Handle on hover */
  &::-webkit-scrollbar-thumb:hover {
    background: ${i=>i.theme.primary};
  }
`,vlt=ye(ro)`
  display: flex;
  flex: 1;
  align-items: center;
  justify-content: center;
  height: 100%;
  background-color: white;
  background-image: linear-gradient(45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(-45deg, #e0e0e0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #e0e0e0 75%),
    linear-gradient(-45deg, transparent 75%, #e0e0e0 75%);
  background-size: 20px 20px;
  background-position:
    0 0,
    0 10px,
    10px -10px,
    -10px 0px;
`,pR=i=>F.jsx(vlt,{...i});pR.fileTypes=["png","image/png"];pR.weight=0;let Qa,As,I1=[];const blt=()=>{var i=is(2,0);if(i===18761)As=!0;else if(i===19789)As=!1;else throw TypeError("Invalid byte order value.");return As},wlt=()=>{if(is(2,2)!==42)throw RangeError("You forgot your towel!");return!0},_lt=i=>{var t={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop"},e;return i in t?e=t[i]:e="Tag"+i,e},Alt=i=>{var t={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE"},e;return i in t&&(e=t[i]),e},Slt=i=>{var t;return["BYTE","ASCII","SBYTE","UNDEFINED"].indexOf(i)!==-1?t=1:["SHORT","SSHORT"].indexOf(i)!==-1?t=2:["LONG","SLONG","FLOAT"].indexOf(i)!==-1?t=4:["RATIONAL","SRATIONAL","DOUBLE"].indexOf(i)!==-1&&(t=8),t},xlt=(i,t,e)=>{e=e||0;var n=Math.floor(e/8),s=t+n,r=e+i,a=32-i;if(r<=0)throw RangeError("No bits requested");if(r<=8)var l=24+e,u=Qa.getUint8(s,As);else if(r<=16)var l=16+e,u=Qa.getUint16(s,As);else if(r<=32)var l=e,u=Qa.getUint32(s,As);else throw RangeError("Too many bits requested");var d={bits:u<<l>>>a,byteOffset:s+Math.floor(r/8),bitOffset:r%8};return d},is=(i,t)=>{if(i<=0)throw RangeError("No bytes requested");if(i<=1)return Qa.getUint8(t,As);if(i<=2)return Qa.getUint16(t,As);if(i<=3)return Qa.getUint32(t,As)>>>8;if(i<=4)return Qa.getUint32(t,As);throw RangeError("Too many bytes requested")},Elt=(i,t,e,n)=>{var s=[],r=Slt(t),a=r*e;if(a<=4){if(As===!1)var l=n>>>(4-r)*8;else var l=n;s.push(l)}else for(var u=0;u<e;u++){var d=r*u;if(r>=8)if(["RATIONAL","SRATIONAL"].indexOf(t)!==-1)s.push(is(4,n+d)),s.push(is(4,n+d+4));else throw TypeError("Can't handle this field type or size");else s.push(is(r,n+d))}return t==="ASCII"&&s.forEach(function(h,p,m){m[p]=String.fromCharCode(h)}),s},Zl=(i,t)=>{var e=Math.pow(2,8-t);return Math.floor(i*e+(e-1))},NI=(i,t,e,n)=>(typeof n>"u"&&(n=1),"rgba("+i+", "+t+", "+e+", "+n+")"),e6=i=>{for(var t=is(2,i),e=[],n=i+2,s=0;s<t;n+=12,s++){var r=is(2,n),a=is(2,n+2),l=is(4,n+4),u=is(4,n+8),d=_lt(r),h=Alt(a),p=Elt(d,h,l,u);e[d]={type:h,values:p}}I1.push(e);var m=is(4,n);return m===0?I1:e6(m)},Tlt=(i,t)=>{let e=t||document.createElement("canvas");if(i&&(Qa=new DataView(i),As=blt(),!!wlt())){var n=is(4,4);I1=e6(n);var s=I1[0],r=s.ImageWidth.values[0],a=s.ImageLength.values[0];e.width=r,e.height=a;var l=[],u=s.Compression?s.Compression.values[0]:1,d=s.SamplesPerPixel.values[0],h=[],p=0,m=!1;if(s.BitsPerSample.values.forEach(function(Lt,bt,jt){h[bt]={bitsPerSample:Lt,hasBytesPerSample:!1,bytesPerSample:void 0},Lt%8===0&&(h[bt].hasBytesPerSample=!0,h[bt].bytesPerSample=Lt/8),p+=Lt},void 0),p%8===0){m=!0;var v=p/8}var _=s.StripOffsets.values,w=_.length;if(s.StripByteCounts)var S=s.StripByteCounts.values;else if(w===1)var S=[Math.ceil(r*a*p/8)];else throw Error("Cannot recover from missing StripByteCounts");for(var x=0;x<w;x++){var C=_[x];l[x]=[];for(var L=S[x],j=0,R=0,D=1,P=!0,M=[],O=0,N=0,H=0;j<L;j+=D)switch(u){case 1:for(var Q=0,M=[];Q<d;Q++)if(h[Q].hasBytesPerSample){var G=h[Q].bytesPerSample*Q;M.push(is(h[Q].bytesPerSample,C+j+G))}else{var J=xlt(h[Q].bitsPerSample,C+j,R);throw M.push(J.bits),j=J.byteOffset-C,R=J.bitOffset,RangeError("Cannot handle sub-byte bits per sample")}if(l[x].push(M),m)D=v;else throw D=0,RangeError("Cannot handle sub-byte bits per pixel");break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:break;case 7:break;case 32773:if(P){P=!1;var nt=1,$=1,T=Qa.getInt8(C+j,As);T>=0&&T<=127?nt=T+1:T>=-127&&T<=-1?$=-T+1:P=!0}else{for(var ct=is(1,C+j),Q=0;Q<$;Q++){if(h[N].hasBytesPerSample)H=H<<8*O|ct,O++,O===h[N].bytesPerSample&&(M.push(H),H=O=0,N++);else throw RangeError("Cannot handle sub-byte bits per sample");N===d&&(l[x].push(M),M=[],N=0)}nt--,nt===0&&(P=!0)}D=1;break}}if(e.getContext){var Z=e.getContext("2d");if(Z.fillStyle=NI(255,255,255,0),s.RowsPerStrip)var k=s.RowsPerStrip.values[0];else var k=a;var W=l.length,K=a%k,et=K===0?k:K,st=k,ut=0,lt=s.PhotometricInterpretation.values[0],ft=[],Ct=0;if(s.ExtraSamples&&(ft=s.ExtraSamples.values,Ct=ft.length),s.ColorMap)var _t=s.ColorMap.values,St=Math.pow(2,h[0].bitsPerSample);for(var x=0;x<W;x++){x+1===W&&(st=et);for(var It=l[x].length,Ft=ut*x,Et=0,Pt=0;Pt<It;Et++)for(var Ot=0;Ot<r;Ot++,Pt++){var Rt=l[x][Pt],Nt=0,qt=0,Qt=0,tt=1;if(Ct>0){for(var ot=0;ot<Ct;ot++)if(ft[ot]===1||ft[ot]===2){tt=Rt[3+ot]/256;break}}switch(lt){case 0:if(h[0].hasBytesPerSample)var pt=Math.pow(16,h[0].bytesPerSample*2);Rt.forEach(function(bt,jt,Bt){Bt[jt]=pt-bt});case 1:Nt=qt=Qt=Zl(Rt[0],h[0].bitsPerSample);break;case 2:Nt=Zl(Rt[0],h[0].bitsPerSample),qt=Zl(Rt[1],h[1].bitsPerSample),Qt=Zl(Rt[2],h[2].bitsPerSample);break;case 3:if(_t===void 0)throw Error("Palette image missing color map");var Mt=Rt[0];Nt=Zl(_t[Mt],16),qt=Zl(_t[St+Mt],16),Qt=Zl(_t[2*St+Mt],16);break;case 4:throw RangeError("Not Yet Implemented: Transparency mask");case 5:throw RangeError("Not Yet Implemented: CMYK");case 6:throw RangeError("Not Yet Implemented: YCbCr");case 8:throw RangeError("Not Yet Implemented: CIELab");default:throw RangeError("Unknown Photometric Interpretation:",lt)}Z.fillStyle=NI(Nt,qt,Qt,tt),Z.fillRect(Ot,Ft+Et,1,1)}ut=st}}return e}},N_=i=>{const{mainState:{currentDocument:t}}=i,{t:e}=pu(),[n,s]=V.useState(!1),[r,a]=V.useState(!1);return V.useEffect(()=>{if(!t||n)return;const l=document.getElementById("tiff-img");try{l&&Tlt(t.fileData,l),s(!0)}catch{a(!0)}},[t,n]),r?F.jsx(ro,{...i,children:F.jsx("div",{children:e("brokenFile")})}):F.jsx(ro,{...i,children:F.jsx(Clt,{id:"tiff-img"})})};N_.fileTypes=["tif","tiff","image/tif","image/tiff"];N_.weight=0;N_.fileLoader=fit;const Clt=ye.canvas`
  max-width: 95%;
  max-height: 95%;
`,I_=({mainState:{currentDocument:i}})=>F.jsx(klt,{id:"txt-renderer",children:i?.fileData});I_.fileTypes=["txt","text/plain"];I_.weight=0;I_.fileLoader=jB;const klt=ye.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding: 30px;
`;var n6={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(i,t){(function(e,n){i.exports=n()})(Fp,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s=!n.document&&!!n.postMessage,r=n.IS_PAPA_WORKER||!1,a={},l=0,u={parse:function(M,O){var N=(O=O||{}).dynamicTyping||!1;if(P(N)&&(O.dynamicTypingFunction=N,N={}),O.dynamicTyping=N,O.transform=!!P(O.transform)&&O.transform,O.worker&&u.WORKERS_SUPPORTED){var H=(function(){if(!u.WORKERS_SUPPORTED)return!1;var G=(nt=n.URL||n.webkitURL||null,$=e.toString(),u.BLOB_URL||(u.BLOB_URL=nt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))),J=new n.Worker(G),nt,$;return J.onmessage=C,J.id=l++,a[J.id]=J})();return H.userStep=O.step,H.userChunk=O.chunk,H.userComplete=O.complete,H.userError=O.error,O.step=P(O.step),O.chunk=P(O.chunk),O.complete=P(O.complete),O.error=P(O.error),delete O.worker,void H.postMessage({input:M,config:O,workerId:H.id})}var Q=null;return u.NODE_STREAM_INPUT,typeof M=="string"?(M=(function(G){return G.charCodeAt(0)===65279?G.slice(1):G})(M),Q=O.download?new p(O):new v(O)):M.readable===!0&&P(M.read)&&P(M.on)?Q=new _(O):(n.File&&M instanceof File||M instanceof Object)&&(Q=new m(O)),Q.stream(M)},unparse:function(M,O){var N=!1,H=!0,Q=",",G=`\r
`,J='"',nt=J+J,$=!1,T=null,ct=!1;(function(){if(typeof O=="object"){if(typeof O.delimiter!="string"||u.BAD_DELIMITERS.filter(function(K){return O.delimiter.indexOf(K)!==-1}).length||(Q=O.delimiter),(typeof O.quotes=="boolean"||typeof O.quotes=="function"||Array.isArray(O.quotes))&&(N=O.quotes),typeof O.skipEmptyLines!="boolean"&&typeof O.skipEmptyLines!="string"||($=O.skipEmptyLines),typeof O.newline=="string"&&(G=O.newline),typeof O.quoteChar=="string"&&(J=O.quoteChar),typeof O.header=="boolean"&&(H=O.header),Array.isArray(O.columns)){if(O.columns.length===0)throw new Error("Option columns is empty");T=O.columns}O.escapeChar!==void 0&&(nt=O.escapeChar+J),(typeof O.escapeFormulae=="boolean"||O.escapeFormulae instanceof RegExp)&&(ct=O.escapeFormulae instanceof RegExp?O.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Z=new RegExp(S(J),"g");if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return k(null,M,$);if(typeof M[0]=="object")return k(T||Object.keys(M[0]),M,$)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||T),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),k(M.fields||[],M.data||[],$);throw new Error("Unable to serialize unrecognized input");function k(K,et,st){var ut="";typeof K=="string"&&(K=JSON.parse(K)),typeof et=="string"&&(et=JSON.parse(et));var lt=Array.isArray(K)&&0<K.length,ft=!Array.isArray(et[0]);if(lt&&H){for(var Ct=0;Ct<K.length;Ct++)0<Ct&&(ut+=Q),ut+=W(K[Ct],Ct);0<et.length&&(ut+=G)}for(var _t=0;_t<et.length;_t++){var St=lt?K.length:et[_t].length,It=!1,Ft=lt?Object.keys(et[_t]).length===0:et[_t].length===0;if(st&&!lt&&(It=st==="greedy"?et[_t].join("").trim()==="":et[_t].length===1&&et[_t][0].length===0),st==="greedy"&&lt){for(var Et=[],Pt=0;Pt<St;Pt++){var Ot=ft?K[Pt]:Pt;Et.push(et[_t][Ot])}It=Et.join("").trim()===""}if(!It){for(var Rt=0;Rt<St;Rt++){0<Rt&&!Ft&&(ut+=Q);var Nt=lt&&ft?K[Rt]:Rt;ut+=W(et[_t][Nt],Rt)}_t<et.length-1&&(!st||0<St&&!Ft)&&(ut+=G)}}return ut}function W(K,et){if(K==null)return"";if(K.constructor===Date)return JSON.stringify(K).slice(1,25);var st=!1;ct&&typeof K=="string"&&ct.test(K)&&(K="'"+K,st=!0);var ut=K.toString().replace(Z,nt);return(st=st||N===!0||typeof N=="function"&&N(K,et)||Array.isArray(N)&&N[et]||(function(lt,ft){for(var Ct=0;Ct<ft.length;Ct++)if(-1<lt.indexOf(ft[Ct]))return!0;return!1})(ut,u.BAD_DELIMITERS)||-1<ut.indexOf(Q)||ut.charAt(0)===" "||ut.charAt(ut.length-1)===" ")?J+ut+J:ut}}};if(u.RECORD_SEP="",u.UNIT_SEP="",u.BYTE_ORDER_MARK="\uFEFF",u.BAD_DELIMITERS=["\r",`
`,'"',u.BYTE_ORDER_MARK],u.WORKERS_SUPPORTED=!s&&!!n.Worker,u.NODE_STREAM_INPUT=1,u.LocalChunkSize=10485760,u.RemoteChunkSize=5242880,u.DefaultDelimiter=",",u.Parser=x,u.ParserHandle=w,u.NetworkStreamer=p,u.FileStreamer=m,u.StringStreamer=v,u.ReadableStreamStreamer=_,n.jQuery){var d=n.jQuery;d.fn.parse=function(M){var O=M.config||{},N=[];return this.each(function(G){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var J=0;J<this.files.length;J++)N.push({file:this.files[J],inputElem:this,instanceConfig:d.extend({},O)})}),H(),this;function H(){if(N.length!==0){var G,J,nt,$,T=N[0];if(P(M.before)){var ct=M.before(T.file,T.inputElem);if(typeof ct=="object"){if(ct.action==="abort")return G="AbortError",J=T.file,nt=T.inputElem,$=ct.reason,void(P(M.error)&&M.error({name:G},J,nt,$));if(ct.action==="skip")return void Q();typeof ct.config=="object"&&(T.instanceConfig=d.extend(T.instanceConfig,ct.config))}else if(ct==="skip")return void Q()}var Z=T.instanceConfig.complete;T.instanceConfig.complete=function(k){P(Z)&&Z(k,T.file,T.inputElem),Q()},u.parse(T.file,T.instanceConfig)}else P(M.complete)&&M.complete()}function Q(){N.splice(0,1),H()}}}function h(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(O){var N=R(O);N.chunkSize=parseInt(N.chunkSize),O.step||O.chunk||(N.chunkSize=null),this._handle=new w(N),(this._handle.streamer=this)._config=N}).call(this,M),this.parseChunk=function(O,N){if(this.isFirstChunk&&P(this._config.beforeFirstChunk)){var H=this._config.beforeFirstChunk(O);H!==void 0&&(O=H)}this.isFirstChunk=!1,this._halted=!1;var Q=this._partialLine+O;this._partialLine="";var G=this._handle.parse(Q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var J=G.meta.cursor;this._finished||(this._partialLine=Q.substring(J-this._baseIndex),this._baseIndex=J),G&&G.data&&(this._rowCount+=G.data.length);var nt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)n.postMessage({results:G,workerId:u.WORKER_ID,finished:nt});else if(P(this._config.chunk)&&!N){if(this._config.chunk(G,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);G=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(G.data),this._completeResults.errors=this._completeResults.errors.concat(G.errors),this._completeResults.meta=G.meta),this._completed||!nt||!P(this._config.complete)||G&&G.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),nt||G&&G.meta.paused||this._nextChunk(),G}this._halted=!0},this._sendError=function(O){P(this._config.error)?this._config.error(O):r&&this._config.error&&n.postMessage({workerId:u.WORKER_ID,error:O,finished:!1})}}function p(M){var O;(M=M||{}).chunkSize||(M.chunkSize=u.RemoteChunkSize),h.call(this,M),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(O=new XMLHttpRequest,this._config.withCredentials&&(O.withCredentials=this._config.withCredentials),s||(O.onload=D(this._chunkLoaded,this),O.onerror=D(this._chunkError,this)),O.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var H in N)O.setRequestHeader(H,N[H])}if(this._config.chunkSize){var Q=this._start+this._config.chunkSize-1;O.setRequestHeader("Range","bytes="+this._start+"-"+Q)}try{O.send(this._config.downloadRequestBody)}catch(G){this._chunkError(G.message)}s&&O.status===0&&this._chunkError()}},this._chunkLoaded=function(){O.readyState===4&&(O.status<200||400<=O.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:O.responseText.length,this._finished=!this._config.chunkSize||this._start>=(function(N){var H=N.getResponseHeader("Content-Range");return H===null?-1:parseInt(H.substring(H.lastIndexOf("/")+1))})(O),this.parseChunk(O.responseText)))},this._chunkError=function(N){var H=O.statusText||N;this._sendError(new Error(H))}}function m(M){var O,N;(M=M||{}).chunkSize||(M.chunkSize=u.LocalChunkSize),h.call(this,M);var H=typeof FileReader<"u";this.stream=function(Q){this._input=Q,N=Q.slice||Q.webkitSlice||Q.mozSlice,H?((O=new FileReader).onload=D(this._chunkLoaded,this),O.onerror=D(this._chunkError,this)):O=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Q=this._input;if(this._config.chunkSize){var G=Math.min(this._start+this._config.chunkSize,this._input.size);Q=N.call(Q,this._start,G)}var J=O.readAsText(Q,this._config.encoding);H||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(Q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Q.target.result)},this._chunkError=function(){this._sendError(O.error)}}function v(M){var O;h.call(this,M=M||{}),this.stream=function(N){return O=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,H=this._config.chunkSize;return H?(N=O.substring(0,H),O=O.substring(H)):(N=O,O=""),this._finished=!O,this.parseChunk(N)}}}function _(M){h.call(this,M=M||{});var O=[],N=!0,H=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Q){this._input=Q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&O.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),O.length?this.parseChunk(O.shift()):N=!0},this._streamData=D(function(Q){try{O.push(typeof Q=="string"?Q:Q.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(O.shift()))}catch(G){this._streamError(G)}},this),this._streamError=D(function(Q){this._streamCleanUp(),this._sendError(Q)},this),this._streamEnd=D(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(M){var O,N,H,Q=Math.pow(2,53),G=-Q,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,nt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,$=this,T=0,ct=0,Z=!1,k=!1,W=[],K={data:[],errors:[],meta:{}};if(P(M.step)){var et=M.step;M.step=function(_t){if(K=_t,lt())ut();else{if(ut(),K.data.length===0)return;T+=_t.data.length,M.preview&&T>M.preview?N.abort():(K.data=K.data[0],et(K,$))}}}function st(_t){return M.skipEmptyLines==="greedy"?_t.join("").trim()==="":_t.length===1&&_t[0].length===0}function ut(){return K&&H&&(Ct("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+u.DefaultDelimiter+"'"),H=!1),M.skipEmptyLines&&(K.data=K.data.filter(function(_t){return!st(_t)})),lt()&&(function(){if(!K)return;function _t(It,Ft){P(M.transformHeader)&&(It=M.transformHeader(It,Ft)),W.push(It)}if(Array.isArray(K.data[0])){for(var St=0;lt()&&St<K.data.length;St++)K.data[St].forEach(_t);K.data.splice(0,1)}else K.data.forEach(_t)})(),(function(){if(!K||!M.header&&!M.dynamicTyping&&!M.transform)return K;function _t(It,Ft){var Et,Pt=M.header?{}:[];for(Et=0;Et<It.length;Et++){var Ot=Et,Rt=It[Et];M.header&&(Ot=Et>=W.length?"__parsed_extra":W[Et]),M.transform&&(Rt=M.transform(Rt,Ot)),Rt=ft(Ot,Rt),Ot==="__parsed_extra"?(Pt[Ot]=Pt[Ot]||[],Pt[Ot].push(Rt)):Pt[Ot]=Rt}return M.header&&(Et>W.length?Ct("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+Et,ct+Ft):Et<W.length&&Ct("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+Et,ct+Ft)),Pt}var St=1;return!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(_t),St=K.data.length):K.data=_t(K.data,0),M.header&&K.meta&&(K.meta.fields=W),ct+=St,K})()}function lt(){return M.header&&W.length===0}function ft(_t,St){return It=_t,M.dynamicTypingFunction&&M.dynamicTyping[It]===void 0&&(M.dynamicTyping[It]=M.dynamicTypingFunction(It)),(M.dynamicTyping[It]||M.dynamicTyping)===!0?St==="true"||St==="TRUE"||St!=="false"&&St!=="FALSE"&&((function(Ft){if(J.test(Ft)){var Et=parseFloat(Ft);if(G<Et&&Et<Q)return!0}return!1})(St)?parseFloat(St):nt.test(St)?new Date(St):St===""?null:St):St;var It}function Ct(_t,St,It,Ft){var Et={type:_t,code:St,message:It};Ft!==void 0&&(Et.row=Ft),K.errors.push(Et)}this.parse=function(_t,St,It){var Ft=M.quoteChar||'"';if(M.newline||(M.newline=(function(Ot,Rt){Ot=Ot.substring(0,1048576);var Nt=new RegExp(S(Rt)+"([^]*?)"+S(Rt),"gm"),qt=(Ot=Ot.replace(Nt,"")).split("\r"),Qt=Ot.split(`
`),tt=1<Qt.length&&Qt[0].length<qt[0].length;if(qt.length===1||tt)return`
`;for(var ot=0,pt=0;pt<qt.length;pt++)qt[pt][0]===`
`&&ot++;return ot>=qt.length/2?`\r
`:"\r"})(_t,Ft)),H=!1,M.delimiter)P(M.delimiter)&&(M.delimiter=M.delimiter(_t),K.meta.delimiter=M.delimiter);else{var Et=(function(Ot,Rt,Nt,qt,Qt){var tt,ot,pt,Mt;Qt=Qt||[",","	","|",";",u.RECORD_SEP,u.UNIT_SEP];for(var Lt=0;Lt<Qt.length;Lt++){var bt=Qt[Lt],jt=0,Bt=0,Ut=0;pt=void 0;for(var ne=new x({comments:qt,delimiter:bt,newline:Rt,preview:10}).parse(Ot),E=0;E<ne.data.length;E++)if(Nt&&st(ne.data[E]))Ut++;else{var I=ne.data[E].length;Bt+=I,pt!==void 0?0<I&&(jt+=Math.abs(I-pt),pt=I):pt=I}0<ne.data.length&&(Bt/=ne.data.length-Ut),(ot===void 0||jt<=ot)&&(Mt===void 0||Mt<Bt)&&1.99<Bt&&(ot=jt,tt=bt,Mt=Bt)}return{successful:!!(M.delimiter=tt),bestDelimiter:tt}})(_t,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess);Et.successful?M.delimiter=Et.bestDelimiter:(H=!0,M.delimiter=u.DefaultDelimiter),K.meta.delimiter=M.delimiter}var Pt=R(M);return M.preview&&M.header&&Pt.preview++,O=_t,N=new x(Pt),K=N.parse(O,St,It),ut(),Z?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,N.abort(),O=P(M.chunk)?"":O.substring(N.getCharIndex())},this.resume=function(){$.streamer._halted?(Z=!1,$.streamer.parseChunk(O,!0)):setTimeout($.resume,3)},this.aborted=function(){return k},this.abort=function(){k=!0,N.abort(),K.meta.aborted=!0,P(M.complete)&&M.complete(K),O=""}}function S(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(M){var O,N=(M=M||{}).delimiter,H=M.newline,Q=M.comments,G=M.step,J=M.preview,nt=M.fastMode,$=O=M.quoteChar===void 0||M.quoteChar===null?'"':M.quoteChar;if(M.escapeChar!==void 0&&($=M.escapeChar),(typeof N!="string"||-1<u.BAD_DELIMITERS.indexOf(N))&&(N=","),Q===N)throw new Error("Comment character same as delimiter");Q===!0?Q="#":(typeof Q!="string"||-1<u.BAD_DELIMITERS.indexOf(Q))&&(Q=!1),H!==`
`&&H!=="\r"&&H!==`\r
`&&(H=`
`);var T=0,ct=!1;this.parse=function(Z,k,W){if(typeof Z!="string")throw new Error("Input must be a string");var K=Z.length,et=N.length,st=H.length,ut=Q.length,lt=P(G),ft=[],Ct=[],_t=[],St=T=0;if(!Z)return U();if(M.header&&!k){var It=Z.split(H)[0].split(N),Ft=[],Et={},Pt=!1;for(var Ot in It){var Rt=It[Ot];P(M.transformHeader)&&(Rt=M.transformHeader(Rt,Ot));var Nt=Rt,qt=Et[Rt]||0;for(0<qt&&(Pt=!0,Nt=Rt+"_"+qt),Et[Rt]=qt+1;Ft.includes(Nt);)Nt=Nt+"_"+qt;Ft.push(Nt)}if(Pt){var Qt=Z.split(H);Qt[0]=Ft.join(N),Z=Qt.join(H)}}if(nt||nt!==!1&&Z.indexOf(O)===-1){for(var tt=Z.split(H),ot=0;ot<tt.length;ot++){if(_t=tt[ot],T+=_t.length,ot!==tt.length-1)T+=H.length;else if(W)return U();if(!Q||_t.substring(0,ut)!==Q){if(lt){if(ft=[],Ut(_t.split(N)),rt(),ct)return U()}else Ut(_t.split(N));if(J&&J<=ot)return ft=ft.slice(0,J),U(!0)}}return U()}for(var pt=Z.indexOf(N,T),Mt=Z.indexOf(H,T),Lt=new RegExp(S($)+S(O),"g"),bt=Z.indexOf(O,T);;)if(Z[T]!==O)if(Q&&_t.length===0&&Z.substring(T,T+ut)===Q){if(Mt===-1)return U();T=Mt+st,Mt=Z.indexOf(H,T),pt=Z.indexOf(N,T)}else if(pt!==-1&&(pt<Mt||Mt===-1))_t.push(Z.substring(T,pt)),T=pt+et,pt=Z.indexOf(N,T);else{if(Mt===-1)break;if(_t.push(Z.substring(T,Mt)),I(Mt+st),lt&&(rt(),ct))return U();if(J&&ft.length>=J)return U(!0)}else for(bt=T,T++;;){if((bt=Z.indexOf(O,bt+1))===-1)return W||Ct.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ft.length,index:T}),E();if(bt===K-1)return E(Z.substring(T,bt).replace(Lt,O));if(O!==$||Z[bt+1]!==$){if(O===$||bt===0||Z[bt-1]!==$){pt!==-1&&pt<bt+1&&(pt=Z.indexOf(N,bt+1)),Mt!==-1&&Mt<bt+1&&(Mt=Z.indexOf(H,bt+1));var jt=ne(Mt===-1?pt:Math.min(pt,Mt));if(Z.substr(bt+1+jt,et)===N){_t.push(Z.substring(T,bt).replace(Lt,O)),Z[T=bt+1+jt+et]!==O&&(bt=Z.indexOf(O,T)),pt=Z.indexOf(N,T),Mt=Z.indexOf(H,T);break}var Bt=ne(Mt);if(Z.substring(bt+1+Bt,bt+1+Bt+st)===H){if(_t.push(Z.substring(T,bt).replace(Lt,O)),I(bt+1+Bt+st),pt=Z.indexOf(N,T),bt=Z.indexOf(O,T),lt&&(rt(),ct))return U();if(J&&ft.length>=J)return U(!0);break}Ct.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ft.length,index:T}),bt++}}else bt++}return E();function Ut(ht){ft.push(ht),St=T}function ne(ht){var At=0;if(ht!==-1){var Dt=Z.substring(bt+1,ht);Dt&&Dt.trim()===""&&(At=Dt.length)}return At}function E(ht){return W||(ht===void 0&&(ht=Z.substring(T)),_t.push(ht),T=K,Ut(_t),lt&&rt()),U()}function I(ht){T=ht,Ut(_t),_t=[],Mt=Z.indexOf(H,T)}function U(ht){return{data:ft,errors:Ct,meta:{delimiter:N,linebreak:H,aborted:ct,truncated:!!ht,cursor:St+(k||0)}}}function rt(){G(U()),ft=[],Ct=[]}},this.abort=function(){ct=!0},this.getCharIndex=function(){return T}}function C(M){var O=M.data,N=a[O.workerId],H=!1;if(O.error)N.userError(O.error,O.file);else if(O.results&&O.results.data){var Q={abort:function(){H=!0,L(O.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:j,resume:j};if(P(N.userStep)){for(var G=0;G<O.results.data.length&&(N.userStep({data:O.results.data[G],errors:O.results.errors,meta:O.results.meta},Q),!H);G++);delete O.results}else P(N.userChunk)&&(N.userChunk(O.results,Q,O.file),delete O.results)}O.finished&&!H&&L(O.workerId,O.results)}function L(M,O){var N=a[M];P(N.userComplete)&&N.userComplete(O),N.terminate(),delete a[M]}function j(){throw new Error("Not implemented.")}function R(M){if(typeof M!="object"||M===null)return M;var O=Array.isArray(M)?[]:{};for(var N in M)O[N]=R(M[N]);return O}function D(M,O){return function(){M.apply(O,arguments)}}function P(M){return typeof M=="function"}return r&&(n.onmessage=function(M){var O=M.data;if(u.WORKER_ID===void 0&&O&&(u.WORKER_ID=O.workerId),typeof O.input=="string")n.postMessage({workerId:u.WORKER_ID,results:u.parse(O.input,O.config),finished:!0});else if(n.File&&O.input instanceof File||O.input instanceof Object){var N=u.parse(O.input,O.config);N&&n.postMessage({workerId:u.WORKER_ID,results:N,finished:!0})}}),(p.prototype=Object.create(h.prototype)).constructor=p,(m.prototype=Object.create(h.prototype)).constructor=m,(v.prototype=Object.create(v.prototype)).constructor=v,(_.prototype=Object.create(h.prototype)).constructor=_,u})})(n6);var Rlt=n6.exports;const Mlt=bj(Rlt),F_=({mainState:{currentDocument:i,config:t}})=>{const[e,n]=V.useState([]);return V.useEffect(()=>{var s;if(i!=null&&i.fileData){const r=Mlt.parse(i.fileData,{delimiter:t?.csvDelimiter??","});!((s=r.errors)!=null&&s.length)&&r.data&&n(r.data)}},[i,t?.csvDelimiter]),e.length?F.jsx(Llt,{children:F.jsxs(Olt,{children:[F.jsx("thead",{children:F.jsx("tr",{children:e[0].map(s=>F.jsx("th",{children:s},s))})}),F.jsx("tbody",{children:e.slice(1,e.length).map(s=>F.jsx("tr",{children:s.map(r=>F.jsx("td",{children:r},r))},s.join("")))})]})}):null};F_.fileTypes=["csv","text/csv"];F_.weight=0;F_.fileLoader=jB;const Llt=ye.div`
  width: 100%;
`,Olt=ye.table`
  width: 100%;
  text-align: left;

  th,
  td {
    padding: 5px 10px;

    &:empty {
      display: none;
    }
  }
`,gR=i=>F.jsx(ro,{...i});gR.fileTypes=["gif","image/gif"];gR.weight=0;const mR=({mainState:{currentDocument:i}})=>i?F.jsx(Plt,{id:"video-renderer",children:F.jsx(Dlt,{controls:!0,src:i.uri})}):null;mR.fileTypes=["video/mp4","video/quicktime","video/x-msvideo"];mR.weight=0;const Plt=ye.div`
  width: 100%;
`,Dlt=ye.video`
  width: 100%;
  height: 100%;
  border: 0;
`,yR=i=>F.jsx(ro,{...i});yR.fileTypes=["webp","image/webp"];yR.weight=0;const i6=[J2,y_,tR,v_,fR,pR,N_,I_,F_,gR,mR,yR],Nlt=V.forwardRef((i,t)=>{const{documents:e,theme:n}=i;if(!e)throw new Error("Please provide an array of documents to DocViewer!");return F.jsx(Fnt,{ref:t,pluginRenderers:i6,...i,children:F.jsx(utt,{theme:n?{...IN,...n}:IN,children:F.jsxs(Flt,{id:"react-doc-viewer","data-testid":"react-doc-viewer",className:i.className,style:i.style,children:[F.jsx(hit,{}),F.jsx(bit,{})]})})})}),Ilt=V.memo(Nlt),Flt=ye.div`
  display: flex;
  flex-direction: column;
  background: #ffffff;
  width: 100%;
  height: 100%;
`;function jlt(){const i=V.useRef(null),t=V.useMemo(()=>[{uri:"/asd.pdf",fileType:"pdf",fileName:"sample.pdf"}],[]);return F.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"40vh",width:"50%"},children:[F.jsx("div",{style:{flex:1,width:"80%"},children:F.jsx(Ilt,{ref:i,documents:t,pluginRenderers:i6,style:{width:"100%",height:"100%"},config:{header:{disableHeader:!0}}})}),F.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1rem",padding:"1rem",background:"#f3f3f3",width:"80%",borderTop:"1px solid #ccc"},children:[F.jsx("button",{onClick:()=>i.current?.prevPage?.(),className:"custom-btn",children:" Previous"}),F.jsx("button",{onClick:()=>i.current?.nextPage?.(),className:"custom-btn",children:"Next "})]})]})}const Blt=[{id:1,topic:"Integration",difficulty:"Hard",question:"State the Fundamental Theorem of Calculus",answer:"It links the concept of differentiation and integration, stating that the derivative of the integral of a function is the function itself."},{id:2,topic:"Limits",difficulty:"Medium",question:"What is the limit of sin(x)/x as x approaches 0?",answer:"The limit is 1."}],zlt=[{id:"q1",topic:"Derivatives",difficulty:"Medium",question:"What is the derivative of f(x) = x + 2x - 5x + 1?",options:["3x + 4x - 5","3x + 2x - 5","x + 2x - 5x + x","3x + 4x + 5"],correctAnswer:"3x + 2x - 5"}],Ult=()=>{const{moduleId:i}=iH(),[t,e]=V.useState(null),[n,s]=V.useState(null),[r,a]=V.useState([]),[l,u]=V.useState(!0);V.useMemo(()=>[{uri:"/asd.pdf",fileType:"pdf",fileName:"sample.pdf"}],[]),Kt.memo(()=>F.jsx(jlt,{}));const d=async()=>{try{const w=((await Bm.get(`/files/modules/${i}/files`)).data.files||[]).map((S,x)=>({title:`File ${x+1}. ${S.filename}`,id:S.id}));a(w),!n&&w.length>0&&(s(w[0]),e("Notes"))}catch(v){console.error("Failed to fetch files:",v)}finally{u(!1)}};V.useEffect(()=>{d()},[i]);const h=(v,_)=>{e(_),s(v),console.log(`Selected ${_} for ${v.title}`)},p=v=>{console.log("Submitted answers:",v)},m=()=>{switch(t){case"Flashcards":return F.jsx(pY,{cards:Blt});case"Quiz":return F.jsx(YY,{questions:zlt,onSubmit:p});case"AI Buddy":return F.jsxs("div",{className:mX.studySpaceContainer,children:[F.jsx(qD,{fileId:n?.id,moduleId:i}),F.jsx(pX,{})]});default:return F.jsx(qD,{fileId:n?.id,moduleId:i})}};return l?F.jsx("p",{children:"Loading files..."}):F.jsx(NY,{modules:r,onFeatureSelect:h,selectedModuleId:i,onFilesAdded:d,hasSidebar:!0,children:m()})};var yE={},vE={},kp={},bE={},II;function Hlt(){return II||(II=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};i.default=t})(bE)),bE}var wE,FI;function $lt(){if(FI)return wE;FI=1;var i="Expected a function",t=NaN,e="[object Symbol]",n=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,u=typeof mv=="object"&&mv&&mv.Object===Object&&mv,d=typeof self=="object"&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=Object.prototype,m=p.toString,v=Math.max,_=Math.min,w=function(){return h.Date.now()};function S(R,D,P){var M,O,N,H,Q,G,J=0,nt=!1,$=!1,T=!0;if(typeof R!="function")throw new TypeError(i);D=j(D)||0,x(P)&&(nt=!!P.leading,$="maxWait"in P,N=$?v(j(P.maxWait)||0,D):N,T="trailing"in P?!!P.trailing:T);function ct(ft){var Ct=M,_t=O;return M=O=void 0,J=ft,H=R.apply(_t,Ct),H}function Z(ft){return J=ft,Q=setTimeout(K,D),nt?ct(ft):H}function k(ft){var Ct=ft-G,_t=ft-J,St=D-Ct;return $?_(St,N-_t):St}function W(ft){var Ct=ft-G,_t=ft-J;return G===void 0||Ct>=D||Ct<0||$&&_t>=N}function K(){var ft=w();if(W(ft))return et(ft);Q=setTimeout(K,k(ft))}function et(ft){return Q=void 0,T&&M?ct(ft):(M=O=void 0,H)}function st(){Q!==void 0&&clearTimeout(Q),J=0,M=G=O=Q=void 0}function ut(){return Q===void 0?H:et(w())}function lt(){var ft=w(),Ct=W(ft);if(M=arguments,O=this,G=ft,Ct){if(Q===void 0)return Z(G);if($)return Q=setTimeout(K,D),ct(G)}return Q===void 0&&(Q=setTimeout(K,D)),H}return lt.cancel=st,lt.flush=ut,lt}function x(R){var D=typeof R;return!!R&&(D=="object"||D=="function")}function C(R){return!!R&&typeof R=="object"}function L(R){return typeof R=="symbol"||C(R)&&m.call(R)==e}function j(R){if(typeof R=="number")return R;if(L(R))return t;if(x(R)){var D=typeof R.valueOf=="function"?R.valueOf():R;R=x(D)?D+"":D}if(typeof R!="string")return R===0?R:+R;R=R.replace(n,"");var P=r.test(R);return P||a.test(R)?l(R.slice(2),P?2:8):s.test(R)?t:+R}return wE=S,wE}var _E={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var jI;function j_(){return jI||(jI=1,(function(i){(function(){var t={}.hasOwnProperty;function e(){for(var r="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(r=s(r,n(l)))}return r}function n(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return e.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var a="";for(var l in r)t.call(r,l)&&r[l]&&(a=s(a,l));return a}function s(r,a){return a?r?r+" "+a:r+a:r}i.exports?(e.default=e,i.exports=e):window.classNames=e})()})(_E)),_E.exports}var zt={},AE={},BI;function s6(){return BI||(BI=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(mr());function e(s){return s&&s.__esModule?s:{default:s}}var n={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(r){return t.default.createElement("ul",{style:{display:"block"}},r)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(r){return t.default.createElement("button",null,r+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};i.default=n})(AE)),AE}var zI;function Km(){if(zI)return zt;zI=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.checkSpecKeys=zt.checkNavigable=zt.changeSlide=zt.canUseDOM=zt.canGoNext=void 0,zt.clamp=d,zt.extractObject=void 0,zt.filterSettings=ct,zt.validSettings=zt.swipeStart=zt.swipeMove=zt.swipeEnd=zt.slidesOnRight=zt.slidesOnLeft=zt.slideHandler=zt.siblingDirection=zt.safePreventDefault=zt.lazyStartIndex=zt.lazySlidesOnRight=zt.lazySlidesOnLeft=zt.lazyEndIndex=zt.keyHandler=zt.initializedState=zt.getWidth=zt.getTrackLeft=zt.getTrackCSS=zt.getTrackAnimateCSS=zt.getTotalSlides=zt.getSwipeDirection=zt.getSlideCount=zt.getRequiredLazySlides=zt.getPreClones=zt.getPostClones=zt.getOnDemandLazySlides=zt.getNavigableIndexes=zt.getHeight=void 0;var i=e(mr()),t=e(s6());function e(Z){return Z&&Z.__esModule?Z:{default:Z}}function n(Z){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},n(Z)}function s(Z,k){var W=Object.keys(Z);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(Z);k&&(K=K.filter(function(et){return Object.getOwnPropertyDescriptor(Z,et).enumerable})),W.push.apply(W,K)}return W}function r(Z){for(var k=1;k<arguments.length;k++){var W=arguments[k]!=null?arguments[k]:{};k%2?s(Object(W),!0).forEach(function(K){a(Z,K,W[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(W)):s(Object(W)).forEach(function(K){Object.defineProperty(Z,K,Object.getOwnPropertyDescriptor(W,K))})}return Z}function a(Z,k,W){return(k=l(k))in Z?Object.defineProperty(Z,k,{value:W,enumerable:!0,configurable:!0,writable:!0}):Z[k]=W,Z}function l(Z){var k=u(Z,"string");return n(k)=="symbol"?k:k+""}function u(Z,k){if(n(Z)!="object"||!Z)return Z;var W=Z[Symbol.toPrimitive];if(W!==void 0){var K=W.call(Z,k);if(n(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(Z)}function d(Z,k,W){return Math.max(k,Math.min(Z,W))}var h=zt.safePreventDefault=function(k){var W=["onTouchStart","onTouchMove","onWheel"];W.includes(k._reactName)||k.preventDefault()},p=zt.getOnDemandLazySlides=function(k){for(var W=[],K=m(k),et=v(k),st=K;st<et;st++)k.lazyLoadedList.indexOf(st)<0&&W.push(st);return W};zt.getRequiredLazySlides=function(k){for(var W=[],K=m(k),et=v(k),st=K;st<et;st++)W.push(st);return W};var m=zt.lazyStartIndex=function(k){return k.currentSlide-_(k)},v=zt.lazyEndIndex=function(k){return k.currentSlide+w(k)},_=zt.lazySlidesOnLeft=function(k){return k.centerMode?Math.floor(k.slidesToShow/2)+(parseInt(k.centerPadding)>0?1:0):0},w=zt.lazySlidesOnRight=function(k){return k.centerMode?Math.floor((k.slidesToShow-1)/2)+1+(parseInt(k.centerPadding)>0?1:0):k.slidesToShow},S=zt.getWidth=function(k){return k&&k.offsetWidth||0},x=zt.getHeight=function(k){return k&&k.offsetHeight||0},C=zt.getSwipeDirection=function(k){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K,et,st,ut;return K=k.startX-k.curX,et=k.startY-k.curY,st=Math.atan2(et,K),ut=Math.round(st*180/Math.PI),ut<0&&(ut=360-Math.abs(ut)),ut<=45&&ut>=0||ut<=360&&ut>=315?"left":ut>=135&&ut<=225?"right":W===!0?ut>=35&&ut<=135?"up":"down":"vertical"},L=zt.canGoNext=function(k){var W=!0;return k.infinite||(k.centerMode&&k.currentSlide>=k.slideCount-1||k.slideCount<=k.slidesToShow||k.currentSlide>=k.slideCount-k.slidesToShow)&&(W=!1),W};zt.extractObject=function(k,W){var K={};return W.forEach(function(et){return K[et]=k[et]}),K},zt.initializedState=function(k){var W=i.default.Children.count(k.children),K=k.listRef,et=Math.ceil(S(K)),st=k.trackRef&&k.trackRef.node,ut=Math.ceil(S(st)),lt;if(k.vertical)lt=et;else{var ft=k.centerMode&&parseInt(k.centerPadding)*2;typeof k.centerPadding=="string"&&k.centerPadding.slice(-1)==="%"&&(ft*=et/100),lt=Math.ceil((et-ft)/k.slidesToShow)}var Ct=K&&x(K.querySelector('[data-index="0"]')),_t=Ct*k.slidesToShow,St=k.currentSlide===void 0?k.initialSlide:k.currentSlide;k.rtl&&k.currentSlide===void 0&&(St=W-1-k.initialSlide);var It=k.lazyLoadedList||[],Ft=p(r(r({},k),{},{currentSlide:St,lazyLoadedList:It}));It=It.concat(Ft);var Et={slideCount:W,slideWidth:lt,listWidth:et,trackWidth:ut,currentSlide:St,slideHeight:Ct,listHeight:_t,lazyLoadedList:It};return k.autoplaying===null&&k.autoplay&&(Et.autoplaying="playing"),Et},zt.slideHandler=function(k){var W=k.waitForAnimate,K=k.animating,et=k.fade,st=k.infinite,ut=k.index,lt=k.slideCount,ft=k.lazyLoad,Ct=k.currentSlide,_t=k.centerMode,St=k.slidesToScroll,It=k.slidesToShow,Ft=k.useCSS,Et=k.lazyLoadedList;if(W&&K)return{};var Pt=ut,Ot,Rt,Nt,qt={},Qt={},tt=st?ut:d(ut,0,lt-1);if(et){if(!st&&(ut<0||ut>=lt))return{};ut<0?Pt=ut+lt:ut>=lt&&(Pt=ut-lt),ft&&Et.indexOf(Pt)<0&&(Et=Et.concat(Pt)),qt={animating:!0,currentSlide:Pt,lazyLoadedList:Et,targetSlide:Pt},Qt={animating:!1,targetSlide:Pt}}else Ot=Pt,Pt<0?(Ot=Pt+lt,st?lt%St!==0&&(Ot=lt-lt%St):Ot=0):!L(k)&&Pt>Ct?Pt=Ot=Ct:_t&&Pt>=lt?(Pt=st?lt:lt-1,Ot=st?0:lt-1):Pt>=lt&&(Ot=Pt-lt,st?lt%St!==0&&(Ot=0):Ot=lt-It),!st&&Pt+It>=lt&&(Ot=lt-It),Rt=N(r(r({},k),{},{slideIndex:Pt})),Nt=N(r(r({},k),{},{slideIndex:Ot})),st||(Rt===Nt&&(Pt=Ot),Rt=Nt),ft&&(Et=Et.concat(p(r(r({},k),{},{currentSlide:Pt})))),Ft?(qt={animating:!0,currentSlide:Ot,trackStyle:O(r(r({},k),{},{left:Rt})),lazyLoadedList:Et,targetSlide:tt},Qt={animating:!1,currentSlide:Ot,trackStyle:M(r(r({},k),{},{left:Nt})),swipeLeft:null,targetSlide:tt}):qt={currentSlide:Ot,trackStyle:M(r(r({},k),{},{left:Nt})),lazyLoadedList:Et,targetSlide:tt};return{state:qt,nextState:Qt}},zt.changeSlide=function(k,W){var K,et,st,ut,lt,ft=k.slidesToScroll,Ct=k.slidesToShow,_t=k.slideCount,St=k.currentSlide,It=k.targetSlide,Ft=k.lazyLoad,Et=k.infinite;if(ut=_t%ft!==0,K=ut?0:(_t-St)%ft,W.message==="previous")st=K===0?ft:Ct-K,lt=St-st,Ft&&!Et&&(et=St-st,lt=et===-1?_t-1:et),Et||(lt=It-ft);else if(W.message==="next")st=K===0?ft:K,lt=St+st,Ft&&!Et&&(lt=(St+ft)%_t+K),Et||(lt=It+ft);else if(W.message==="dots")lt=W.index*W.slidesToScroll;else if(W.message==="children"){if(lt=W.index,Et){var Pt=J(r(r({},k),{},{targetSlide:lt}));lt>W.currentSlide&&Pt==="left"?lt=lt-_t:lt<W.currentSlide&&Pt==="right"&&(lt=lt+_t)}}else W.message==="index"&&(lt=Number(W.index));return lt},zt.keyHandler=function(k,W,K){return k.target.tagName.match("TEXTAREA|INPUT|SELECT")||!W?"":k.keyCode===37?K?"next":"previous":k.keyCode===39?K?"previous":"next":""},zt.swipeStart=function(k,W,K){return k.target.tagName==="IMG"&&h(k),!W||!K&&k.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:k.touches?k.touches[0].pageX:k.clientX,startY:k.touches?k.touches[0].pageY:k.clientY,curX:k.touches?k.touches[0].pageX:k.clientX,curY:k.touches?k.touches[0].pageY:k.clientY}}},zt.swipeMove=function(k,W){var K=W.scrolling,et=W.animating,st=W.vertical,ut=W.swipeToSlide,lt=W.verticalSwiping,ft=W.rtl,Ct=W.currentSlide,_t=W.edgeFriction,St=W.edgeDragged,It=W.onEdge,Ft=W.swiped,Et=W.swiping,Pt=W.slideCount,Ot=W.slidesToScroll,Rt=W.infinite,Nt=W.touchObject,qt=W.swipeEvent,Qt=W.listHeight,tt=W.listWidth;if(!K){if(et)return h(k);st&&ut&&lt&&h(k);var ot,pt={},Mt=N(W);Nt.curX=k.touches?k.touches[0].pageX:k.clientX,Nt.curY=k.touches?k.touches[0].pageY:k.clientY,Nt.swipeLength=Math.round(Math.sqrt(Math.pow(Nt.curX-Nt.startX,2)));var Lt=Math.round(Math.sqrt(Math.pow(Nt.curY-Nt.startY,2)));if(!lt&&!Et&&Lt>10)return{scrolling:!0};lt&&(Nt.swipeLength=Lt);var bt=(ft?-1:1)*(Nt.curX>Nt.startX?1:-1);lt&&(bt=Nt.curY>Nt.startY?1:-1);var jt=Math.ceil(Pt/Ot),Bt=C(W.touchObject,lt),Ut=Nt.swipeLength;return Rt||(Ct===0&&(Bt==="right"||Bt==="down")||Ct+1>=jt&&(Bt==="left"||Bt==="up")||!L(W)&&(Bt==="left"||Bt==="up"))&&(Ut=Nt.swipeLength*_t,St===!1&&It&&(It(Bt),pt.edgeDragged=!0)),!Ft&&qt&&(qt(Bt),pt.swiped=!0),st?ot=Mt+Ut*(Qt/tt)*bt:ft?ot=Mt-Ut*bt:ot=Mt+Ut*bt,lt&&(ot=Mt+Ut*bt),pt=r(r({},pt),{},{touchObject:Nt,swipeLeft:ot,trackStyle:M(r(r({},W),{},{left:ot}))}),Math.abs(Nt.curX-Nt.startX)<Math.abs(Nt.curY-Nt.startY)*.8||Nt.swipeLength>10&&(pt.swiping=!0,h(k)),pt}},zt.swipeEnd=function(k,W){var K=W.dragging,et=W.swipe,st=W.touchObject,ut=W.listWidth,lt=W.touchThreshold,ft=W.verticalSwiping,Ct=W.listHeight,_t=W.swipeToSlide,St=W.scrolling,It=W.onSwipe,Ft=W.targetSlide,Et=W.currentSlide,Pt=W.infinite;if(!K)return et&&h(k),{};var Ot=ft?Ct/lt:ut/lt,Rt=C(st,ft),Nt={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(St||!st.swipeLength)return Nt;if(st.swipeLength>Ot){h(k),It&&It(Rt);var qt,Qt,tt=Pt?Et:Ft;switch(Rt){case"left":case"up":Qt=tt+D(W),qt=_t?R(W,Qt):Qt,Nt.currentDirection=0;break;case"right":case"down":Qt=tt-D(W),qt=_t?R(W,Qt):Qt,Nt.currentDirection=1;break;default:qt=tt}Nt.triggerSlideHandler=qt}else{var ot=N(W);Nt.trackStyle=O(r(r({},W),{},{left:ot}))}return Nt};var j=zt.getNavigableIndexes=function(k){for(var W=k.infinite?k.slideCount*2:k.slideCount,K=k.infinite?k.slidesToShow*-1:0,et=k.infinite?k.slidesToShow*-1:0,st=[];K<W;)st.push(K),K=et+k.slidesToScroll,et+=Math.min(k.slidesToScroll,k.slidesToShow);return st},R=zt.checkNavigable=function(k,W){var K=j(k),et=0;if(W>K[K.length-1])W=K[K.length-1];else for(var st in K){if(W<K[st]){W=et;break}et=K[st]}return W},D=zt.getSlideCount=function(k){var W=k.centerMode?k.slideWidth*Math.floor(k.slidesToShow/2):0;if(k.swipeToSlide){var K,et=k.listRef,st=et.querySelectorAll&&et.querySelectorAll(".slick-slide")||[];if(Array.from(st).every(function(ft){if(k.vertical){if(ft.offsetTop+x(ft)/2>k.swipeLeft*-1)return K=ft,!1}else if(ft.offsetLeft-W+S(ft)/2>k.swipeLeft*-1)return K=ft,!1;return!0}),!K)return 0;var ut=k.rtl===!0?k.slideCount-k.currentSlide:k.currentSlide,lt=Math.abs(K.dataset.index-ut)||1;return lt}else return k.slidesToScroll},P=zt.checkSpecKeys=function(k,W){return W.reduce(function(K,et){return K&&k.hasOwnProperty(et)},!0)?null:console.error("Keys Missing:",k)},M=zt.getTrackCSS=function(k){P(k,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var W,K;if(!k.vertical)W=G(k)*k.slideWidth;else{var et=k.unslick?k.slideCount:k.slideCount+2*k.slidesToShow;K=et*k.slideHeight}var st={opacity:1,transition:"",WebkitTransition:""};if(k.useTransform){var ut=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",lt=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",ft=k.vertical?"translateY("+k.left+"px)":"translateX("+k.left+"px)";st=r(r({},st),{},{WebkitTransform:ut,transform:lt,msTransform:ft})}else k.vertical?st.top=k.left:st.left=k.left;return k.fade&&(st={opacity:1}),W&&(st.width=W),K&&(st.height=K),window&&!window.addEventListener&&window.attachEvent&&(k.vertical?st.marginTop=k.left+"px":st.marginLeft=k.left+"px"),st},O=zt.getTrackAnimateCSS=function(k){P(k,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var W=M(k);return k.useTransform?(W.WebkitTransition="-webkit-transform "+k.speed+"ms "+k.cssEase,W.transition="transform "+k.speed+"ms "+k.cssEase):k.vertical?W.transition="top "+k.speed+"ms "+k.cssEase:W.transition="left "+k.speed+"ms "+k.cssEase,W},N=zt.getTrackLeft=function(k){if(k.unslick)return 0;P(k,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var W=k.slideIndex,K=k.trackRef,et=k.infinite,st=k.centerMode,ut=k.slideCount,lt=k.slidesToShow,ft=k.slidesToScroll,Ct=k.slideWidth,_t=k.listWidth,St=k.variableWidth,It=k.slideHeight,Ft=k.fade,Et=k.vertical,Pt=0,Ot,Rt,Nt=0;if(Ft||k.slideCount===1)return 0;var qt=0;if(et?(qt=-H(k),ut%ft!==0&&W+ft>ut&&(qt=-(W>ut?lt-(W-ut):ut%ft)),st&&(qt+=parseInt(lt/2))):(ut%ft!==0&&W+ft>ut&&(qt=lt-ut%ft),st&&(qt=parseInt(lt/2))),Pt=qt*Ct,Nt=qt*It,Et?Ot=W*It*-1+Nt:Ot=W*Ct*-1+Pt,St===!0){var Qt,tt=K&&K.node;if(Qt=W+H(k),Rt=tt&&tt.childNodes[Qt],Ot=Rt?Rt.offsetLeft*-1:0,st===!0){Qt=et?W+H(k):W,Rt=tt&&tt.children[Qt],Ot=0;for(var ot=0;ot<Qt;ot++)Ot-=tt&&tt.children[ot]&&tt.children[ot].offsetWidth;Ot-=parseInt(k.centerPadding),Ot+=Rt&&(_t-Rt.offsetWidth)/2}}return Ot},H=zt.getPreClones=function(k){return k.unslick||!k.infinite?0:k.variableWidth?k.slideCount:k.slidesToShow+(k.centerMode?1:0)},Q=zt.getPostClones=function(k){return k.unslick||!k.infinite?0:k.variableWidth?k.slideCount:k.slidesToShow+(k.centerMode?1:0)},G=zt.getTotalSlides=function(k){return k.slideCount===1?1:H(k)+k.slideCount+Q(k)},J=zt.siblingDirection=function(k){return k.targetSlide>k.currentSlide?k.targetSlide>k.currentSlide+nt(k)?"left":"right":k.targetSlide<k.currentSlide-$(k)?"right":"left"},nt=zt.slidesOnRight=function(k){var W=k.slidesToShow,K=k.centerMode,et=k.rtl,st=k.centerPadding;if(K){var ut=(W-1)/2+1;return parseInt(st)>0&&(ut+=1),et&&W%2===0&&(ut+=1),ut}return et?0:W-1},$=zt.slidesOnLeft=function(k){var W=k.slidesToShow,K=k.centerMode,et=k.rtl,st=k.centerPadding;if(K){var ut=(W-1)/2+1;return parseInt(st)>0&&(ut+=1),!et&&W%2===0&&(ut+=1),ut}return et?W-1:0};zt.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=zt.validSettings=Object.keys(t.default);function ct(Z){return T.reduce(function(k,W){return Z.hasOwnProperty(W)&&(k[W]=Z[W]),k},{})}return zt}var Rp={},UI;function Wlt(){if(UI)return Rp;UI=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.Track=void 0;var i=n(mr()),t=n(j_()),e=Km();function n(O){return O&&O.__esModule?O:{default:O}}function s(O){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},s(O)}function r(){return r=Object.assign?Object.assign.bind():function(O){for(var N=1;N<arguments.length;N++){var H=arguments[N];for(var Q in H)({}).hasOwnProperty.call(H,Q)&&(O[Q]=H[Q])}return O},r.apply(null,arguments)}function a(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function l(O,N){for(var H=0;H<N.length;H++){var Q=N[H];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(O,L(Q.key),Q)}}function u(O,N,H){return N&&l(O.prototype,N),Object.defineProperty(O,"prototype",{writable:!1}),O}function d(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),N&&h(O,N)}function h(O,N){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,Q){return H.__proto__=Q,H},h(O,N)}function p(O){var N=_();return function(){var H,Q=w(O);if(N){var G=w(this).constructor;H=Reflect.construct(Q,arguments,G)}else H=Q.apply(this,arguments);return m(this,H)}}function m(O,N){if(N&&(s(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(O)}function v(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function _(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!O})()}function w(O){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},w(O)}function S(O,N){var H=Object.keys(O);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(O);N&&(Q=Q.filter(function(G){return Object.getOwnPropertyDescriptor(O,G).enumerable})),H.push.apply(H,Q)}return H}function x(O){for(var N=1;N<arguments.length;N++){var H=arguments[N]!=null?arguments[N]:{};N%2?S(Object(H),!0).forEach(function(Q){C(O,Q,H[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(H)):S(Object(H)).forEach(function(Q){Object.defineProperty(O,Q,Object.getOwnPropertyDescriptor(H,Q))})}return O}function C(O,N,H){return(N=L(N))in O?Object.defineProperty(O,N,{value:H,enumerable:!0,configurable:!0,writable:!0}):O[N]=H,O}function L(O){var N=j(O,"string");return s(N)=="symbol"?N:N+""}function j(O,N){if(s(O)!="object"||!O)return O;var H=O[Symbol.toPrimitive];if(H!==void 0){var Q=H.call(O,N);if(s(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(O)}var R=function(N){var H,Q,G,J,nt;N.rtl?nt=N.slideCount-1-N.index:nt=N.index,G=nt<0||nt>=N.slideCount,N.centerMode?(J=Math.floor(N.slidesToShow/2),Q=(nt-N.currentSlide)%N.slideCount===0,nt>N.currentSlide-J-1&&nt<=N.currentSlide+J&&(H=!0)):H=N.currentSlide<=nt&&nt<N.currentSlide+N.slidesToShow;var $;N.targetSlide<0?$=N.targetSlide+N.slideCount:N.targetSlide>=N.slideCount?$=N.targetSlide-N.slideCount:$=N.targetSlide;var T=nt===$;return{"slick-slide":!0,"slick-active":H,"slick-center":Q,"slick-cloned":G,"slick-current":T}},D=function(N){var H={};return(N.variableWidth===void 0||N.variableWidth===!1)&&(H.width=N.slideWidth),N.fade&&(H.position="relative",N.vertical?H.top=-N.index*parseInt(N.slideHeight):H.left=-N.index*parseInt(N.slideWidth),H.opacity=N.currentSlide===N.index?1:0,H.zIndex=N.currentSlide===N.index?999:998,N.useCSS&&(H.transition="opacity "+N.speed+"ms "+N.cssEase+", visibility "+N.speed+"ms "+N.cssEase)),H},P=function(N,H){return N.key||H},M=function(N){var H,Q=[],G=[],J=[],nt=i.default.Children.count(N.children),$=(0,e.lazyStartIndex)(N),T=(0,e.lazyEndIndex)(N);return i.default.Children.forEach(N.children,function(ct,Z){var k,W={message:"children",index:Z,slidesToScroll:N.slidesToScroll,currentSlide:N.currentSlide};!N.lazyLoad||N.lazyLoad&&N.lazyLoadedList.indexOf(Z)>=0?k=ct:k=i.default.createElement("div",null);var K=D(x(x({},N),{},{index:Z})),et=k.props.className||"",st=R(x(x({},N),{},{index:Z}));if(Q.push(i.default.cloneElement(k,{key:"original"+P(k,Z),"data-index":Z,className:(0,t.default)(st,et),tabIndex:"-1","aria-hidden":!st["slick-active"],style:x(x({outline:"none"},k.props.style||{}),K),onClick:function(ft){k.props&&k.props.onClick&&k.props.onClick(ft),N.focusOnSelect&&N.focusOnSelect(W)}})),N.infinite&&nt>1&&N.fade===!1&&!N.unslick){var ut=nt-Z;ut<=(0,e.getPreClones)(N)&&(H=-ut,H>=$&&(k=ct),st=R(x(x({},N),{},{index:H})),G.push(i.default.cloneElement(k,{key:"precloned"+P(k,H),"data-index":H,tabIndex:"-1",className:(0,t.default)(st,et),"aria-hidden":!st["slick-active"],style:x(x({},k.props.style||{}),K),onClick:function(ft){k.props&&k.props.onClick&&k.props.onClick(ft),N.focusOnSelect&&N.focusOnSelect(W)}}))),Z<(0,e.getPostClones)(N)&&(H=nt+Z,H<T&&(k=ct),st=R(x(x({},N),{},{index:H})),J.push(i.default.cloneElement(k,{key:"postcloned"+P(k,H),"data-index":H,tabIndex:"-1",className:(0,t.default)(st,et),"aria-hidden":!st["slick-active"],style:x(x({},k.props.style||{}),K),onClick:function(ft){k.props&&k.props.onClick&&k.props.onClick(ft),N.focusOnSelect&&N.focusOnSelect(W)}})))}}),N.rtl?G.concat(Q,J).reverse():G.concat(Q,J)};return Rp.Track=(function(O){d(H,O);var N=p(H);function H(){var Q;a(this,H);for(var G=arguments.length,J=new Array(G),nt=0;nt<G;nt++)J[nt]=arguments[nt];return Q=N.call.apply(N,[this].concat(J)),C(v(Q),"node",null),C(v(Q),"handleRef",function($){Q.node=$}),Q}return u(H,[{key:"render",value:function(){var G=M(this.props),J=this.props,nt=J.onMouseEnter,$=J.onMouseOver,T=J.onMouseLeave,ct={onMouseEnter:nt,onMouseOver:$,onMouseLeave:T};return i.default.createElement("div",r({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ct),G)}}]),H})(i.default.PureComponent),Rp}var Mp={},HI;function Vlt(){if(HI)return Mp;HI=1;function i(R){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},i(R)}Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.Dots=void 0;var t=s(mr()),e=s(j_()),n=Km();function s(R){return R&&R.__esModule?R:{default:R}}function r(R,D){var P=Object.keys(R);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(R);D&&(M=M.filter(function(O){return Object.getOwnPropertyDescriptor(R,O).enumerable})),P.push.apply(P,M)}return P}function a(R){for(var D=1;D<arguments.length;D++){var P=arguments[D]!=null?arguments[D]:{};D%2?r(Object(P),!0).forEach(function(M){l(R,M,P[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(P)):r(Object(P)).forEach(function(M){Object.defineProperty(R,M,Object.getOwnPropertyDescriptor(P,M))})}return R}function l(R,D,P){return(D=p(D))in R?Object.defineProperty(R,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):R[D]=P,R}function u(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function d(R,D){for(var P=0;P<D.length;P++){var M=D[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,p(M.key),M)}}function h(R,D,P){return D&&d(R.prototype,D),Object.defineProperty(R,"prototype",{writable:!1}),R}function p(R){var D=m(R,"string");return i(D)=="symbol"?D:D+""}function m(R,D){if(i(R)!="object"||!R)return R;var P=R[Symbol.toPrimitive];if(P!==void 0){var M=P.call(R,D);if(i(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}function v(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&_(R,D)}function _(R,D){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,M){return P.__proto__=M,P},_(R,D)}function w(R){var D=C();return function(){var P,M=L(R);if(D){var O=L(this).constructor;P=Reflect.construct(M,arguments,O)}else P=M.apply(this,arguments);return S(this,P)}}function S(R,D){if(D&&(i(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(R)}function x(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function C(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!R})()}function L(R){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},L(R)}var j=function(D){var P;return D.infinite?P=Math.ceil(D.slideCount/D.slidesToScroll):P=Math.ceil((D.slideCount-D.slidesToShow)/D.slidesToScroll)+1,P};return Mp.Dots=(function(R){v(P,R);var D=w(P);function P(){return u(this,P),D.apply(this,arguments)}return h(P,[{key:"clickHandler",value:function(O,N){N.preventDefault(),this.props.clickHandler(O)}},{key:"render",value:function(){for(var O=this.props,N=O.onMouseEnter,H=O.onMouseOver,Q=O.onMouseLeave,G=O.infinite,J=O.slidesToScroll,nt=O.slidesToShow,$=O.slideCount,T=O.currentSlide,ct=j({slideCount:$,slidesToScroll:J,slidesToShow:nt,infinite:G}),Z={onMouseEnter:N,onMouseOver:H,onMouseLeave:Q},k=[],W=0;W<ct;W++){var K=(W+1)*J-1,et=G?K:(0,n.clamp)(K,0,$-1),st=et-(J-1),ut=G?st:(0,n.clamp)(st,0,$-1),lt=(0,e.default)({"slick-active":G?T>=ut&&T<=et:T===ut}),ft={message:"dots",index:W,slidesToScroll:J,currentSlide:T},Ct=this.clickHandler.bind(this,ft);k=k.concat(t.default.createElement("li",{key:W,className:lt},t.default.cloneElement(this.props.customPaging(W),{onClick:Ct})))}return t.default.cloneElement(this.props.appendDots(k),a({className:this.props.dotsClass},Z))}}]),P})(t.default.PureComponent),Mp}var Jl={},$I;function Glt(){if($I)return Jl;$I=1;function i(R){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},i(R)}Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.PrevArrow=Jl.NextArrow=void 0;var t=s(mr()),e=s(j_()),n=Km();function s(R){return R&&R.__esModule?R:{default:R}}function r(){return r=Object.assign?Object.assign.bind():function(R){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var M in P)({}).hasOwnProperty.call(P,M)&&(R[M]=P[M])}return R},r.apply(null,arguments)}function a(R,D){var P=Object.keys(R);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(R);D&&(M=M.filter(function(O){return Object.getOwnPropertyDescriptor(R,O).enumerable})),P.push.apply(P,M)}return P}function l(R){for(var D=1;D<arguments.length;D++){var P=arguments[D]!=null?arguments[D]:{};D%2?a(Object(P),!0).forEach(function(M){u(R,M,P[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(P)):a(Object(P)).forEach(function(M){Object.defineProperty(R,M,Object.getOwnPropertyDescriptor(P,M))})}return R}function u(R,D,P){return(D=m(D))in R?Object.defineProperty(R,D,{value:P,enumerable:!0,configurable:!0,writable:!0}):R[D]=P,R}function d(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function h(R,D){for(var P=0;P<D.length;P++){var M=D[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,m(M.key),M)}}function p(R,D,P){return D&&h(R.prototype,D),Object.defineProperty(R,"prototype",{writable:!1}),R}function m(R){var D=v(R,"string");return i(D)=="symbol"?D:D+""}function v(R,D){if(i(R)!="object"||!R)return R;var P=R[Symbol.toPrimitive];if(P!==void 0){var M=P.call(R,D);if(i(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}function _(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),D&&w(R,D)}function w(R,D){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,M){return P.__proto__=M,P},w(R,D)}function S(R){var D=L();return function(){var P,M=j(R);if(D){var O=j(this).constructor;P=Reflect.construct(M,arguments,O)}else P=M.apply(this,arguments);return x(this,P)}}function x(R,D){if(D&&(i(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(R)}function C(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function L(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L=function(){return!!R})()}function j(R){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},j(R)}return Jl.PrevArrow=(function(R){_(P,R);var D=S(P);function P(){return d(this,P),D.apply(this,arguments)}return p(P,[{key:"clickHandler",value:function(O,N){N&&N.preventDefault(),this.props.clickHandler(O,N)}},{key:"render",value:function(){var O={"slick-arrow":!0,"slick-prev":!0},N=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(O["slick-disabled"]=!0,N=null);var H={key:"0","data-role":"none",className:(0,e.default)(O),style:{display:"block"},onClick:N},Q={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},G;return this.props.prevArrow?G=t.default.cloneElement(this.props.prevArrow,l(l({},H),Q)):G=t.default.createElement("button",r({key:"0",type:"button"},H)," ","Previous"),G}}]),P})(t.default.PureComponent),Jl.NextArrow=(function(R){_(P,R);var D=S(P);function P(){return d(this,P),D.apply(this,arguments)}return p(P,[{key:"clickHandler",value:function(O,N){N&&N.preventDefault(),this.props.clickHandler(O,N)}},{key:"render",value:function(){var O={"slick-arrow":!0,"slick-next":!0},N=this.clickHandler.bind(this,{message:"next"});(0,n.canGoNext)(this.props)||(O["slick-disabled"]=!0,N=null);var H={key:"1","data-role":"none",className:(0,e.default)(O),style:{display:"block"},onClick:N},Q={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},G;return this.props.nextArrow?G=t.default.cloneElement(this.props.nextArrow,l(l({},H),Q)):G=t.default.createElement("button",r({key:"1",type:"button"},H)," ","Next"),G}}]),P})(t.default.PureComponent),Jl}var r6=(function(){if(typeof Map<"u")return Map;function i(t,e){var n=-1;return t.some(function(s,r){return s[0]===e?(n=r,!0):!1}),n}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var n=i(this.__entries__,e),s=this.__entries__[n];return s&&s[1]},t.prototype.set=function(e,n){var s=i(this.__entries__,e);~s?this.__entries__[s][1]=n:this.__entries__.push([e,n])},t.prototype.delete=function(e){var n=this.__entries__,s=i(n,e);~s&&n.splice(s,1)},t.prototype.has=function(e){return!!~i(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,n){n===void 0&&(n=null);for(var s=0,r=this.__entries__;s<r.length;s++){var a=r[s];e.call(n,a[1],a[0])}},t})()})(),t2=typeof window<"u"&&typeof document<"u"&&window.document===document,F1=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),qlt=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(F1):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}})(),Ylt=2;function Xlt(i,t){var e=!1,n=!1,s=0;function r(){e&&(e=!1,i()),n&&l()}function a(){qlt(r)}function l(){var u=Date.now();if(e){if(u-s<Ylt)return;n=!0}else e=!0,n=!1,setTimeout(a,t);s=u}return l}var Klt=20,Qlt=["top","right","bottom","left","width","height","size","weight"],Zlt=typeof MutationObserver<"u",Jlt=(function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Xlt(this.refresh.bind(this),Klt)}return i.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},i.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},i.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},i.prototype.connect_=function(){!t2||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Zlt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!t2||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=e===void 0?"":e,s=Qlt.some(function(r){return!!~n.indexOf(r)});s&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i})(),a6=(function(i,t){for(var e=0,n=Object.keys(t);e<n.length;e++){var s=n[e];Object.defineProperty(i,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return i}),Kd=(function(i){var t=i&&i.ownerDocument&&i.ownerDocument.defaultView;return t||F1}),o6=B_(0,0,0,0);function j1(i){return parseFloat(i)||0}function WI(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(n,s){var r=i["border-"+s+"-width"];return n+j1(r)},0)}function tct(i){for(var t=["top","right","bottom","left"],e={},n=0,s=t;n<s.length;n++){var r=s[n],a=i["padding-"+r];e[r]=j1(a)}return e}function ect(i){var t=i.getBBox();return B_(0,0,t.width,t.height)}function nct(i){var t=i.clientWidth,e=i.clientHeight;if(!t&&!e)return o6;var n=Kd(i).getComputedStyle(i),s=tct(n),r=s.left+s.right,a=s.top+s.bottom,l=j1(n.width),u=j1(n.height);if(n.boxSizing==="border-box"&&(Math.round(l+r)!==t&&(l-=WI(n,"left","right")+r),Math.round(u+a)!==e&&(u-=WI(n,"top","bottom")+a)),!sct(i)){var d=Math.round(l+r)-t,h=Math.round(u+a)-e;Math.abs(d)!==1&&(l-=d),Math.abs(h)!==1&&(u-=h)}return B_(s.left,s.top,l,u)}var ict=(function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof Kd(i).SVGGraphicsElement}:function(i){return i instanceof Kd(i).SVGElement&&typeof i.getBBox=="function"}})();function sct(i){return i===Kd(i).document.documentElement}function rct(i){return t2?ict(i)?ect(i):nct(i):o6}function act(i){var t=i.x,e=i.y,n=i.width,s=i.height,r=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(r.prototype);return a6(a,{x:t,y:e,width:n,height:s,top:e,right:t+n,bottom:s+e,left:t}),a}function B_(i,t,e,n){return{x:i,y:t,width:e,height:n}}var oct=(function(){function i(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=B_(0,0,0,0),this.target=t}return i.prototype.isActive=function(){var t=rct(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},i})(),lct=(function(){function i(t,e){var n=act(e);a6(this,{target:t,contentRect:n})}return i})(),cct=(function(){function i(t,e,n){if(this.activeObservations_=[],this.observations_=new r6,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return i.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Kd(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new oct(t)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Kd(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(n){return new lct(n.target,n.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i})(),l6=typeof WeakMap<"u"?new WeakMap:new r6,c6=(function(){function i(t){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=Jlt.getInstance(),n=new cct(t,e,this);l6.set(this,n)}return i})();["observe","unobserve","disconnect"].forEach(function(i){c6.prototype[i]=function(){var t;return(t=l6.get(this))[i].apply(t,arguments)}});var uct=(function(){return typeof F1.ResizeObserver<"u"?F1.ResizeObserver:c6})();const hct=Object.freeze(Object.defineProperty({__proto__:null,default:uct},Symbol.toStringTag,{value:"Module"})),dct=y8(hct);var VI;function fct(){if(VI)return kp;VI=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.InnerSlider=void 0;var i=d(mr()),t=d(Hlt()),e=d($lt()),n=d(j_()),s=Km(),r=Wlt(),a=Vlt(),l=Glt(),u=d(dct);function d(G){return G&&G.__esModule?G:{default:G}}function h(G){"@babel/helpers - typeof";return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},h(G)}function p(){return p=Object.assign?Object.assign.bind():function(G){for(var J=1;J<arguments.length;J++){var nt=arguments[J];for(var $ in nt)({}).hasOwnProperty.call(nt,$)&&(G[$]=nt[$])}return G},p.apply(null,arguments)}function m(G,J){if(G==null)return{};var nt,$,T=v(G,J);if(Object.getOwnPropertySymbols){var ct=Object.getOwnPropertySymbols(G);for($=0;$<ct.length;$++)nt=ct[$],J.includes(nt)||{}.propertyIsEnumerable.call(G,nt)&&(T[nt]=G[nt])}return T}function v(G,J){if(G==null)return{};var nt={};for(var $ in G)if({}.hasOwnProperty.call(G,$)){if(J.includes($))continue;nt[$]=G[$]}return nt}function _(G,J){var nt=Object.keys(G);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(G);J&&($=$.filter(function(T){return Object.getOwnPropertyDescriptor(G,T).enumerable})),nt.push.apply(nt,$)}return nt}function w(G){for(var J=1;J<arguments.length;J++){var nt=arguments[J]!=null?arguments[J]:{};J%2?_(Object(nt),!0).forEach(function($){N(G,$,nt[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(nt)):_(Object(nt)).forEach(function($){Object.defineProperty(G,$,Object.getOwnPropertyDescriptor(nt,$))})}return G}function S(G,J){if(!(G instanceof J))throw new TypeError("Cannot call a class as a function")}function x(G,J){for(var nt=0;nt<J.length;nt++){var $=J[nt];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(G,H($.key),$)}}function C(G,J,nt){return J&&x(G.prototype,J),Object.defineProperty(G,"prototype",{writable:!1}),G}function L(G,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(J&&J.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),Object.defineProperty(G,"prototype",{writable:!1}),J&&j(G,J)}function j(G,J){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,$){return nt.__proto__=$,nt},j(G,J)}function R(G){var J=M();return function(){var nt,$=O(G);if(J){var T=O(this).constructor;nt=Reflect.construct($,arguments,T)}else nt=$.apply(this,arguments);return D(this,nt)}}function D(G,J){if(J&&(h(J)=="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(G)}function P(G){if(G===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G}function M(){try{var G=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!G})()}function O(G){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},O(G)}function N(G,J,nt){return(J=H(J))in G?Object.defineProperty(G,J,{value:nt,enumerable:!0,configurable:!0,writable:!0}):G[J]=nt,G}function H(G){var J=Q(G,"string");return h(J)=="symbol"?J:J+""}function Q(G,J){if(h(G)!="object"||!G)return G;var nt=G[Symbol.toPrimitive];if(nt!==void 0){var $=nt.call(G,J);if(h($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(J==="string"?String:Number)(G)}return kp.InnerSlider=(function(G){L(nt,G);var J=R(nt);function nt($){var T;S(this,nt),T=J.call(this,$),N(P(T),"listRefHandler",function(Z){return T.list=Z}),N(P(T),"trackRefHandler",function(Z){return T.track=Z}),N(P(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var Z=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,s.getHeight)(Z)+"px"}}),N(P(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var Z=(0,s.getOnDemandLazySlides)(w(w({},T.props),T.state));Z.length>0&&(T.setState(function(W){return{lazyLoadedList:W.lazyLoadedList.concat(Z)}}),T.props.onLazyLoad&&T.props.onLazyLoad(Z))}var k=w({listRef:T.list,trackRef:T.track},T.props);T.updateState(k,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new u.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(W){W.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,W.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),N(P(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(Z){return clearTimeout(Z)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),N(P(T),"componentDidUpdate",function(Z){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var k=(0,s.getOnDemandLazySlides)(w(w({},T.props),T.state));k.length>0&&(T.setState(function(et){return{lazyLoadedList:et.lazyLoadedList.concat(k)}}),T.props.onLazyLoad&&T.props.onLazyLoad(k))}T.adaptHeight();var W=w(w({listRef:T.list,trackRef:T.track},T.props),T.state),K=T.didPropsChange(Z);K&&T.updateState(W,K,function(){T.state.currentSlide>=i.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:i.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),N(P(T),"onWindowResized",function(Z){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,e.default)(function(){return T.resizeWindow(Z)},50),T.debouncedResize()}),N(P(T),"resizeWindow",function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,k=!!(T.track&&T.track.node);if(k){var W=w(w({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(W,Z,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),N(P(T),"updateState",function(Z,k,W){var K=(0,s.initializedState)(Z);Z=w(w(w({},Z),K),{},{slideIndex:K.currentSlide});var et=(0,s.getTrackLeft)(Z);Z=w(w({},Z),{},{left:et});var st=(0,s.getTrackCSS)(Z);(k||i.default.Children.count(T.props.children)!==i.default.Children.count(Z.children))&&(K.trackStyle=st),T.setState(K,W)}),N(P(T),"ssrInit",function(){if(T.props.variableWidth){var Z=0,k=0,W=[],K=(0,s.getPreClones)(w(w(w({},T.props),T.state),{},{slideCount:T.props.children.length})),et=(0,s.getPostClones)(w(w(w({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function(Rt){W.push(Rt.props.style.width),Z+=Rt.props.style.width});for(var st=0;st<K;st++)k+=W[W.length-1-st],Z+=W[W.length-1-st];for(var ut=0;ut<et;ut++)Z+=W[ut];for(var lt=0;lt<T.state.currentSlide;lt++)k+=W[lt];var ft={width:Z+"px",left:-k+"px"};if(T.props.centerMode){var Ct="".concat(W[T.state.currentSlide],"px");ft.left="calc(".concat(ft.left," + (100% - ").concat(Ct,") / 2 ) ")}return{trackStyle:ft}}var _t=i.default.Children.count(T.props.children),St=w(w(w({},T.props),T.state),{},{slideCount:_t}),It=(0,s.getPreClones)(St)+(0,s.getPostClones)(St)+_t,Ft=100/T.props.slidesToShow*It,Et=100/It,Pt=-Et*((0,s.getPreClones)(St)+T.state.currentSlide)*Ft/100;T.props.centerMode&&(Pt+=(100-Et*Ft/100)/2);var Ot={width:Ft+"%",left:Pt+"%"};return{slideWidth:Et+"%",trackStyle:Ot}}),N(P(T),"checkImagesLoad",function(){var Z=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],k=Z.length,W=0;Array.prototype.forEach.call(Z,function(K){var et=function(){return++W&&W>=k&&T.onWindowResized()};if(!K.onclick)K.onclick=function(){return K.parentNode.focus()};else{var st=K.onclick;K.onclick=function(ut){st(ut),K.parentNode.focus()}}K.onload||(T.props.lazyLoad?K.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(K.onload=et,K.onerror=function(){et(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),N(P(T),"progressiveLazyLoad",function(){for(var Z=[],k=w(w({},T.props),T.state),W=T.state.currentSlide;W<T.state.slideCount+(0,s.getPostClones)(k);W++)if(T.state.lazyLoadedList.indexOf(W)<0){Z.push(W);break}for(var K=T.state.currentSlide-1;K>=-(0,s.getPreClones)(k);K--)if(T.state.lazyLoadedList.indexOf(K)<0){Z.push(K);break}Z.length>0?(T.setState(function(et){return{lazyLoadedList:et.lazyLoadedList.concat(Z)}}),T.props.onLazyLoad&&T.props.onLazyLoad(Z)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),N(P(T),"slideHandler",function(Z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W=T.props,K=W.asNavFor,et=W.beforeChange,st=W.onLazyLoad,ut=W.speed,lt=W.afterChange,ft=T.state.currentSlide,Ct=(0,s.slideHandler)(w(w(w({index:Z},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!k})),_t=Ct.state,St=Ct.nextState;if(_t){et&&et(ft,_t.currentSlide);var It=_t.lazyLoadedList.filter(function(Ft){return T.state.lazyLoadedList.indexOf(Ft)<0});st&&It.length>0&&st(It),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),lt&&lt(ft),delete T.animationEndCallback),T.setState(_t,function(){K&&T.asNavForIndex!==Z&&(T.asNavForIndex=Z,K.innerSlider.slideHandler(Z)),St&&(T.animationEndCallback=setTimeout(function(){var Ft=St.animating,Et=m(St,["animating"]);T.setState(Et,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:Ft})},10)),lt&&lt(_t.currentSlide),delete T.animationEndCallback})},ut))})}}),N(P(T),"changeSlide",function(Z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W=w(w({},T.props),T.state),K=(0,s.changeSlide)(W,Z);if(!(K!==0&&!K)&&(k===!0?T.slideHandler(K,k):T.slideHandler(K),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var et=T.list.querySelectorAll(".slick-current");et[0]&&et[0].focus()}}),N(P(T),"clickHandler",function(Z){T.clickable===!1&&(Z.stopPropagation(),Z.preventDefault()),T.clickable=!0}),N(P(T),"keyHandler",function(Z){var k=(0,s.keyHandler)(Z,T.props.accessibility,T.props.rtl);k!==""&&T.changeSlide({message:k})}),N(P(T),"selectHandler",function(Z){T.changeSlide(Z)}),N(P(T),"disableBodyScroll",function(){var Z=function(W){W=W||window.event,W.preventDefault&&W.preventDefault(),W.returnValue=!1};window.ontouchmove=Z}),N(P(T),"enableBodyScroll",function(){window.ontouchmove=null}),N(P(T),"swipeStart",function(Z){T.props.verticalSwiping&&T.disableBodyScroll();var k=(0,s.swipeStart)(Z,T.props.swipe,T.props.draggable);k!==""&&T.setState(k)}),N(P(T),"swipeMove",function(Z){var k=(0,s.swipeMove)(Z,w(w(w({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));k&&(k.swiping&&(T.clickable=!1),T.setState(k))}),N(P(T),"swipeEnd",function(Z){var k=(0,s.swipeEnd)(Z,w(w(w({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(k){var W=k.triggerSlideHandler;delete k.triggerSlideHandler,T.setState(k),W!==void 0&&(T.slideHandler(W),T.props.verticalSwiping&&T.enableBodyScroll())}}),N(P(T),"touchEnd",function(Z){T.swipeEnd(Z),T.clickable=!0}),N(P(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),N(P(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),N(P(T),"slickGoTo",function(Z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Z=Number(Z),isNaN(Z))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:Z,currentSlide:T.state.currentSlide},k)},0))}),N(P(T),"play",function(){var Z;if(T.props.rtl)Z=T.state.currentSlide-T.props.slidesToScroll;else if((0,s.canGoNext)(w(w({},T.props),T.state)))Z=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(Z)}),N(P(T),"autoPlay",function(Z){T.autoplayTimer&&clearInterval(T.autoplayTimer);var k=T.state.autoplaying;if(Z==="update"){if(k==="hovered"||k==="focused"||k==="paused")return}else if(Z==="leave"){if(k==="paused"||k==="focused")return}else if(Z==="blur"&&(k==="paused"||k==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),N(P(T),"pause",function(Z){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var k=T.state.autoplaying;Z==="paused"?T.setState({autoplaying:"paused"}):Z==="focused"?(k==="hovered"||k==="playing")&&T.setState({autoplaying:"focused"}):k==="playing"&&T.setState({autoplaying:"hovered"})}),N(P(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),N(P(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),N(P(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),N(P(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),N(P(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),N(P(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),N(P(T),"render",function(){var Z=(0,n.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),k=w(w({},T.props),T.state),W=(0,s.extractObject)(k,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),K=T.props.pauseOnHover;W=w(w({},W),{},{onMouseEnter:K?T.onTrackOver:null,onMouseLeave:K?T.onTrackLeave:null,onMouseOver:K?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var et;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var st=(0,s.extractObject)(k,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ut=T.props.pauseOnDotsHover;st=w(w({},st),{},{clickHandler:T.changeSlide,onMouseEnter:ut?T.onDotsLeave:null,onMouseOver:ut?T.onDotsOver:null,onMouseLeave:ut?T.onDotsLeave:null}),et=i.default.createElement(a.Dots,st)}var lt,ft,Ct=(0,s.extractObject)(k,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Ct.clickHandler=T.changeSlide,T.props.arrows&&(lt=i.default.createElement(l.PrevArrow,Ct),ft=i.default.createElement(l.NextArrow,Ct));var _t=null;T.props.vertical&&(_t={height:T.state.listHeight});var St=null;T.props.vertical===!1?T.props.centerMode===!0&&(St={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(St={padding:T.props.centerPadding+" 0px"});var It=w(w({},_t),St),Ft=T.props.touchMove,Et={className:"slick-list",style:It,onClick:T.clickHandler,onMouseDown:Ft?T.swipeStart:null,onMouseMove:T.state.dragging&&Ft?T.swipeMove:null,onMouseUp:Ft?T.swipeEnd:null,onMouseLeave:T.state.dragging&&Ft?T.swipeEnd:null,onTouchStart:Ft?T.swipeStart:null,onTouchMove:T.state.dragging&&Ft?T.swipeMove:null,onTouchEnd:Ft?T.touchEnd:null,onTouchCancel:T.state.dragging&&Ft?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},Pt={className:Z,dir:"ltr",style:T.props.style};return T.props.unslick&&(Et={className:"slick-list"},Pt={className:Z,style:T.props.style}),i.default.createElement("div",Pt,T.props.unslick?"":lt,i.default.createElement("div",p({ref:T.listRefHandler},Et),i.default.createElement(r.Track,p({ref:T.trackRefHandler},W),T.props.children)),T.props.unslick?"":ft,T.props.unslick?"":et)}),T.list=null,T.track=null,T.state=w(w({},t.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:i.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var ct=T.ssrInit();return T.state=w(w({},T.state),ct),T}return C(nt,[{key:"didPropsChange",value:function(T){for(var ct=!1,Z=0,k=Object.keys(this.props);Z<k.length;Z++){var W=k[Z];if(!T.hasOwnProperty(W)){ct=!0;break}if(!(h(T[W])==="object"||typeof T[W]=="function"||isNaN(T[W]))&&T[W]!==this.props[W]){ct=!0;break}}return ct||i.default.Children.count(this.props.children)!==i.default.Children.count(T.children)}}]),nt})(i.default.Component),kp}var SE,GI;function pct(){if(GI)return SE;GI=1;var i=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()};return SE=i,SE}var xE,qI;function gct(){if(qI)return xE;qI=1;var i=pct(),t=function(s){var r=/[height|width]$/;return r.test(s)},e=function(s){var r="",a=Object.keys(s);return a.forEach(function(l,u){var d=s[l];l=i(l),t(l)&&typeof d=="number"&&(d=d+"px"),d===!0?r+=l:d===!1?r+="not "+l:r+="("+l+": "+d+")",u<a.length-1&&(r+=" and ")}),r},n=function(s){var r="";return typeof s=="string"?s:s instanceof Array?(s.forEach(function(a,l){r+=e(a),l<s.length-1&&(r+=", ")}),r):e(s)};return xE=n,xE}var YI;function mct(){return YI||(YI=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=a(mr()),e=fct(),n=a(gct()),s=a(s6()),r=Km();function a(M){return M&&M.__esModule?M:{default:M}}function l(M){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},l(M)}function u(){return u=Object.assign?Object.assign.bind():function(M){for(var O=1;O<arguments.length;O++){var N=arguments[O];for(var H in N)({}).hasOwnProperty.call(N,H)&&(M[H]=N[H])}return M},u.apply(null,arguments)}function d(M,O){var N=Object.keys(M);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(M);O&&(H=H.filter(function(Q){return Object.getOwnPropertyDescriptor(M,Q).enumerable})),N.push.apply(N,H)}return N}function h(M){for(var O=1;O<arguments.length;O++){var N=arguments[O]!=null?arguments[O]:{};O%2?d(Object(N),!0).forEach(function(H){R(M,H,N[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(N)):d(Object(N)).forEach(function(H){Object.defineProperty(M,H,Object.getOwnPropertyDescriptor(N,H))})}return M}function p(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function m(M,O){for(var N=0;N<O.length;N++){var H=O[N];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(M,D(H.key),H)}}function v(M,O,N){return O&&m(M.prototype,O),Object.defineProperty(M,"prototype",{writable:!1}),M}function _(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),O&&w(M,O)}function w(M,O){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,H){return N.__proto__=H,N},w(M,O)}function S(M){var O=L();return function(){var N,H=j(M);if(O){var Q=j(this).constructor;N=Reflect.construct(H,arguments,Q)}else N=H.apply(this,arguments);return x(this,N)}}function x(M,O){if(O&&(l(O)=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(M)}function C(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function L(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L=function(){return!!M})()}function j(M){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},j(M)}function R(M,O,N){return(O=D(O))in M?Object.defineProperty(M,O,{value:N,enumerable:!0,configurable:!0,writable:!0}):M[O]=N,M}function D(M){var O=P(M,"string");return l(O)=="symbol"?O:O+""}function P(M,O){if(l(M)!="object"||!M)return M;var N=M[Symbol.toPrimitive];if(N!==void 0){var H=N.call(M,O);if(l(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(M)}i.default=(function(M){_(N,M);var O=S(N);function N(H){var Q;return p(this,N),Q=O.call(this,H),R(C(Q),"innerSliderRefHandler",function(G){return Q.innerSlider=G}),R(C(Q),"slickPrev",function(){return Q.innerSlider.slickPrev()}),R(C(Q),"slickNext",function(){return Q.innerSlider.slickNext()}),R(C(Q),"slickGoTo",function(G){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Q.innerSlider.slickGoTo(G,J)}),R(C(Q),"slickPause",function(){return Q.innerSlider.pause("paused")}),R(C(Q),"slickPlay",function(){return Q.innerSlider.autoPlay("play")}),Q.state={breakpoint:null},Q._responsiveMediaHandlers=[],Q}return v(N,[{key:"media",value:function(Q,G){var J=window.matchMedia(Q),nt=function(T){var ct=T.matches;ct&&G()};J.addListener(nt),this._responsiveMediaHandlers.push({mql:J,query:Q,listener:nt})}},{key:"componentDidMount",value:function(){var Q=this;if(this.props.responsive){var G=this.props.responsive.map(function(nt){return nt.breakpoint});G.sort(function(nt,$){return nt-$}),G.forEach(function(nt,$){var T;$===0?T=(0,n.default)({minWidth:0,maxWidth:nt}):T=(0,n.default)({minWidth:G[$-1]+1,maxWidth:nt}),(0,r.canUseDOM)()&&Q.media(T,function(){Q.setState({breakpoint:nt})})});var J=(0,n.default)({minWidth:G.slice(-1)[0]});(0,r.canUseDOM)()&&this.media(J,function(){Q.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(Q){Q.mql.removeListener(Q.listener)})}},{key:"render",value:function(){var Q=this,G,J;this.state.breakpoint?(J=this.props.responsive.filter(function(st){return st.breakpoint===Q.state.breakpoint}),G=J[0].settings==="unslick"?"unslick":h(h(h({},s.default),this.props),J[0].settings)):G=h(h({},s.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var nt=t.default.Children.toArray(this.props.children);nt=nt.filter(function(st){return typeof st=="string"?!!st.trim():!!st}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var $=[],T=null,ct=0;ct<nt.length;ct+=G.rows*G.slidesPerRow){for(var Z=[],k=ct;k<ct+G.rows*G.slidesPerRow;k+=G.slidesPerRow){for(var W=[],K=k;K<k+G.slidesPerRow&&(G.variableWidth&&nt[K].props.style&&(T=nt[K].props.style.width),!(K>=nt.length));K+=1)W.push(t.default.cloneElement(nt[K],{key:100*ct+10*k+K,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));Z.push(t.default.createElement("div",{key:10*ct+k},W))}G.variableWidth?$.push(t.default.createElement("div",{key:ct,style:{width:T}},Z)):$.push(t.default.createElement("div",{key:ct},Z))}if(G==="unslick"){var et="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:et},nt)}else $.length<=G.slidesToShow&&(G.unslick=!0);return t.default.createElement(e.InnerSlider,u({style:this.props.style,ref:this.innerSliderRefHandler},(0,r.filterSettings)(G)),$)}}]),N})(t.default.Component)})(vE)),vE}var XI;function yct(){return XI||(XI=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var t=e(mct());function e(n){return n&&n.__esModule?n:{default:n}}i.default=t.default})(yE)),yE}var vct=yct();const bct=W1(vct),wct="_container_166ef_1",_ct="_title_166ef_7",Act="_subtitle_166ef_13",Sct="_button_166ef_19",xct="_head_166ef_49",tc={container:wct,title:_ct,subtitle:Act,button:Sct,head:xct},Ect="_card_1ys2y_1",Tct="_title_1ys2y_19",Cct="_content_1ys2y_25",kct="_image_1ys2y_31",Rct="_text_1ys2y_38",Lp={card:Ect,title:Tct,content:Cct,image:kct,text:Rct},Mct=({title:i,color:t,image:e,text:n})=>F.jsxs("div",{className:Lp.card,style:{backgroundColor:t},children:[F.jsx("h3",{className:Lp.title,children:i}),F.jsxs("div",{className:Lp.content,children:[F.jsx("img",{src:e,alt:i,className:Lp.image}),F.jsx("p",{className:Lp.text,children:n})]})]}),Lct=()=>{const i=[{title:"Matching",color:"#FFDAD6",image:"https://cdn-icons-png.flaticon.com/512/616/616408.png"},{title:"Expert Solutions",color:"#C6F7E2",image:"https://cdn-icons-png.flaticon.com/512/2920/2920214.png"},{title:"Memorization",color:"#C7E9FB",image:"https://cdn-icons-png.flaticon.com/512/2830/2830308.png"},{title:"Flashcards",color:"#5A4FF3",image:"https://cdn-icons-png.flaticon.com/512/821/821484.png"},{title:"Definitions",color:"#FFF0C9",image:"https://cdn-icons-png.flaticon.com/512/2721/2721298.png"},{title:"Practice Tests",color:"#E9D8FD",image:"https://cdn-icons-png.flaticon.com/512/2593/2593448.png"},{title:"Diagrams",color:"#FEE2E2",image:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png"},{title:"Games",color:"#DCFCE7",image:"https://cdn-icons-png.flaticon.com/512/2784/2784463.png"},{title:"Study Plan",color:"#FEF9C3",image:"https://cdn-icons-png.flaticon.com/512/3707/3707225.png"},{title:"Notes",color:"#FDE68A",image:"https://cdn-icons-png.flaticon.com/512/1828/1828911.png"}],t={dots:!0,infinite:!0,speed:400,slidesToShow:5,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},e=Om();return F.jsxs("div",{className:tc.container,children:[F.jsxs("div",{className:tc.head,children:[F.jsx("h1",{className:tc.title,children:"How do you want to study?"}),F.jsx("p",{className:tc.subtitle,children:"Master any material using interactive Study Buddy."}),F.jsxs("button",{className:tc.button,onClick:()=>e("/register"),children:["Sign up"," "]})]}),F.jsx("div",{className:tc.sliderContainer,children:F.jsx(bct,{...t,children:i.map((n,s)=>F.jsx("div",{className:tc.slide,children:F.jsx(Mct,{...n})},s))})})]})},Oct="_section_1ts4w_1",Pct="_reverse_1ts4w_10",Dct="_imageWrapper_1ts4w_14",Nct="_image_1ts4w_14",Ict="_textContent_1ts4w_27",Fct="_title_1ts4w_32",jct="_description_1ts4w_39",Bct="_button_1ts4w_46",Io={section:Oct,reverse:Pct,imageWrapper:Dct,image:Nct,textContent:Ict,title:Fct,description:jct,button:Bct},zct=({title:i,description:t,buttonText:e,image:n,reverse:s=!1,bgColor:r="#f5f7fb"})=>F.jsxs("section",{className:`${Io.section} ${s?Io.reverse:""}`,style:{backgroundColor:r},children:[F.jsx("div",{className:Io.imageWrapper,children:F.jsx("img",{src:n,alt:i,className:Io.image})}),F.jsxs("div",{className:Io.textContent,children:[F.jsx("h2",{className:Io.title,children:i}),F.jsx("p",{className:Io.description,children:t}),F.jsx("button",{className:Io.button,children:e})]})]}),Uct="/Study-Buddy/assets/introImg1-DudReclK.png",KI="/Study-Buddy/assets/introImg2-BAv0_6N1.png",Hct=()=>{const i=[{title:"Choose how you want to study",description:"Turn flashcards into multiple-choice questions and more using Study Mode. Strengthen your knowledge with fun learning games like Matching.",buttonText:"Start",image:KI,bgColor:"#f9faff",reverse:!1},{title:"Master concepts efficiently",description:"Practice smarter, not harder. Get instant feedback and detailed explanations as you learn key terms.",buttonText:"Try Now",image:Uct,bgColor:"#f5f7fb",reverse:!0},{title:"Track your progress",description:"Stay motivated with visual progress charts and personalized study recommendations based on your performance.",buttonText:"View Progress",image:KI,bgColor:"#f9f9ff",reverse:!1}];return F.jsxs(F.Fragment,{children:[F.jsx(Ow,{}),F.jsxs(qE,{children:[F.jsx(Lct,{}),i.map((t,e)=>F.jsx(zct,{title:t.title,description:t.description,buttonText:t.buttonText,image:t.image,bgColor:t.bgColor,reverse:t.reverse},e))]})]})},Oi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),e2=[.001,0,0,.001,0,0],EE=1.35,vs={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ta={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Em="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},we={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},u6={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},si={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},mm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},pn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},td={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Qm={ERRORS:0,WARNINGS:1,INFOS:5},Qd={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},e0={moveTo:0,lineTo:1,curveTo:2,closePath:3},h6={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let z_=Qm.WARNINGS;function $ct(i){Number.isInteger(i)&&(z_=i)}function Wct(){return z_}function U_(i){z_>=Qm.INFOS&&console.info(`Info: ${i}`)}function le(i){z_>=Qm.WARNINGS&&console.warn(`Warning: ${i}`)}function qe(i){throw new Error(i)}function _e(i,t){i||qe(t)}function Vct(i){switch(i?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function vR(i,t=null,e=null){if(!i)return null;if(e&&typeof i=="string"&&(e.addDefaultProtocol&&i.startsWith("www.")&&i.match(/\./g)?.length>=2&&(i=`http://${i}`),e.tryConvertEncoding))try{i=Kct(i)}catch{}const n=t?URL.parse(i,t):URL.parse(i);return Vct(n)?n:null}function bR(i,t,e=!1){const n=URL.parse(i);return n?(n.hash=t,n.href):e&&vR(i,"http://example.com")?i.split("#",1)[0]+`${t?`#${t}`:""}`:""}function de(i,t,e,n=!1){return Object.defineProperty(i,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const vu=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class QI extends vu{constructor(t,e){super(t,"PasswordException"),this.code=e}}class TE extends vu{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class B1 extends vu{constructor(t){super(t,"InvalidPDFException")}}class Tm extends vu{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class Gct extends vu{constructor(t){super(t,"FormatError")}}class oo extends vu{constructor(t){super(t,"AbortException")}}function d6(i){(typeof i!="object"||i?.length===void 0)&&qe("Invalid argument for bytesToString");const t=i.length,e=8192;if(t<e)return String.fromCharCode.apply(null,i);const n=[];for(let s=0;s<t;s+=e){const r=Math.min(s+e,t),a=i.subarray(s,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function Zm(i){typeof i!="string"&&qe("Invalid argument for stringToBytes");const t=i.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=i.charCodeAt(n)&255;return e}function qct(i){return String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255)}function Yct(){const i=new Uint8Array(4);return i[0]=1,new Uint32Array(i.buffer,0,1)[0]===1}function Xct(){try{return new Function(""),!0}catch{return!1}}class Yn{static get isLittleEndian(){return de(this,"isLittleEndian",Yct())}static get isEvalSupported(){return de(this,"isEvalSupported",Xct())}static get isOffscreenCanvasSupported(){return de(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return de(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return de(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return de(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const CE=Array.from(Array(256).keys(),i=>i.toString(16).padStart(2,"0"));class $t{static makeHexColor(t,e,n){return`#${CE[t]}${CE[e]}${CE[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const s=t[n],r=t[n+1];t[n]=s*e[0]+r*e[2]+e[4],t[n+1]=s*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const s=e[0],r=e[1],a=e[2],l=e[3],u=e[4],d=e[5];for(let h=0;h<6;h+=2){const p=t[n+h],m=t[n+h+1];t[n+h]=p*s+m*a+u,t[n+h+1]=p*r+m*l+d}}static applyInverseTransform(t,e){const n=t[0],s=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-n*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,n){const s=e[0],r=e[1],a=e[2],l=e[3],u=e[4],d=e[5],h=t[0],p=t[1],m=t[2],v=t[3];let _=s*h+u,w=_,S=s*m+u,x=S,C=l*p+d,L=C,j=l*v+d,R=j;if(r!==0||a!==0){const D=r*h,P=r*m,M=a*p,O=a*v;_+=M,x+=M,S+=O,w+=O,C+=D,R+=D,j+=P,L+=P}n[0]=Math.min(n[0],_,S,w,x),n[1]=Math.min(n[1],C,j,L,R),n[2]=Math.max(n[2],_,S,w,x),n[3]=Math.max(n[3],C,j,L,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],s=t[1],r=t[2],a=t[3],l=n**2+s**2,u=n*r+s*a,d=r**2+a**2,h=(l+d)/2,p=Math.sqrt(h**2-(l*d-u**2));e[0]=Math.sqrt(h+p||1),e[1]=Math.sqrt(h-p||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),a=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>a?null:[n,r,s,a]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,s,r){r[0]=Math.min(r[0],t,n),r[1]=Math.min(r[1],e,s),r[2]=Math.max(r[2],t,n),r[3]=Math.max(r[3],e,s)}static#t(t,e,n,s,r,a,l,u,d,h){if(d<=0||d>=1)return;const p=1-d,m=d*d,v=m*d,_=p*(p*(p*t+3*d*e)+3*m*n)+v*s,w=p*(p*(p*r+3*d*a)+3*m*l)+v*u;h[0]=Math.min(h[0],_),h[1]=Math.min(h[1],w),h[2]=Math.max(h[2],_),h[3]=Math.max(h[3],w)}static#e(t,e,n,s,r,a,l,u,d,h,p,m){if(Math.abs(d)<1e-12){Math.abs(h)>=1e-12&&this.#t(t,e,n,s,r,a,l,u,-p/h,m);return}const v=h**2-4*p*d;if(v<0)return;const _=Math.sqrt(v),w=2*d;this.#t(t,e,n,s,r,a,l,u,(-h+_)/w,m),this.#t(t,e,n,s,r,a,l,u,(-h-_)/w,m)}static bezierBoundingBox(t,e,n,s,r,a,l,u,d){d[0]=Math.min(d[0],t,l),d[1]=Math.min(d[1],e,u),d[2]=Math.max(d[2],t,l),d[3]=Math.max(d[3],e,u),this.#e(t,n,r,l,e,s,a,u,3*(-t+3*(n-r)+l),6*(t-2*n+r),3*(n-t),d),this.#e(t,n,r,l,e,s,a,u,3*(-e+3*(s-a)+u),6*(e-2*s+a),3*(s-e),d)}}function Kct(i){return decodeURIComponent(escape(i))}let kE=null,ZI=null;function f6(i){return kE||(kE=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ZI=new Map([["","t"]])),i.replaceAll(kE,(t,e,n)=>e?e.normalize("NFKC"):ZI.get(n))}function wR(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const i=new Uint8Array(32);return crypto.getRandomValues(i),d6(i)}const _R="pdfjs_internal_id_";function Qct(i,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,s,...r]=e;if(!i(n)&&!Number.isInteger(n)||!t(s))return!1;const a=r.length;let l=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;l=!1;break;default:return!1}for(const u of r)if(!(typeof u=="number"||l&&u===null))return!1;return!0}function _i(i,t,e){return Math.min(Math.max(i,t),e)}function p6(i){return Uint8Array.prototype.toBase64?i.toBase64():btoa(d6(i))}function Zct(i){return Uint8Array.fromBase64?Uint8Array.fromBase64(i):Zm(atob(i))}typeof Promise.try!="function"&&(Promise.try=function(i,...t){return new Promise(e=>{e(i(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(i){return i.reduce((t,e)=>t+e,0)});class Cm{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(r){if(!r)return;let a=null;const l=r.name;if(l==="#text")a=r.value;else if(Cm.shouldBuildText(l))r?.attributes?.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&e.push({str:a}),!!r.children)for(const u of r.children)s(u)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class AR{static setupStorage(t,e,n,s,r){const a=s.getValue(e,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(t.textContent=a.value),r==="print")break;t.addEventListener("input",l=>{s.setValue(e,{value:l.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?t.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",l=>{s.setValue(e,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&t.setAttribute("value",a.value),r==="print")break;t.addEventListener("input",l=>{s.setValue(e,{value:l.target.value})})}break;case"select":if(a.value!==null){t.setAttribute("value",a.value);for(const l of n.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}t.addEventListener("input",l=>{const u=l.target.options,d=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:r}){const{attributes:a}=e,l=t instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[u,d]of Object.entries(a))if(d!=null)switch(u){case"class":d.length&&t.setAttribute(u,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!l||u!=="href"&&u!=="newWindow")&&t.setAttribute(u,d)}l&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,r=t.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:n});const l=r!=="richText",u=t.div;if(u.append(a),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;u.style.transform=p}l&&u.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);a.append(p),l&&Cm.shouldBuildText(s.name)&&d.push(p)}return{textDivs:d}}const h=[[s,-1,a]];for(;h.length>0;){const[p,m,v]=h.at(-1);if(m+1===p.children.length){h.pop();continue}const _=p.children[++h.at(-1)[1]];if(_===null)continue;const{name:w}=_;if(w==="#text"){const x=document.createTextNode(_.value);d.push(x),v.append(x);continue}const S=_?.attributes?.xmlns?document.createElementNS(_.attributes.xmlns,w):document.createElement(w);if(v.append(S),_.attributes&&this.setAttributes({html:S,element:_,storage:e,intent:r,linkService:n}),_.children?.length>0)h.push([_,-1,S]);else if(_.value){const x=document.createTextNode(_.value);l&&Cm.shouldBuildText(w)&&d.push(x),S.append(x)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Ia="http://www.w3.org/2000/svg";class lu{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function uf(i,t="text"){if(Ng(i,document.baseURI)){const e=await fetch(i);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",i,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class Jm{constructor({viewBox:t,userUnit:e,scale:n,rotation:s,offsetX:r=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=s,this.offsetX=r,this.offsetY=a,n*=e;const u=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let h,p,m,v;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,p=0,m=0,v=1;break;case 90:h=0,p=1,m=1,v=0;break;case 270:h=0,p=-1,m=-1,v=0;break;case 0:h=1,p=0,m=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(m=-m,v=-v);let _,w,S,x;h===0?(_=Math.abs(d-t[1])*n+r,w=Math.abs(u-t[0])*n+a,S=(t[3]-t[1])*n,x=(t[2]-t[0])*n):(_=Math.abs(u-t[0])*n+r,w=Math.abs(d-t[1])*n+a,S=(t[2]-t[0])*n,x=(t[3]-t[1])*n),this.transform=[h*n,p*n,m*n,v*n,_-h*n*u-m*n*d,w-p*n*u-v*n*d],this.width=S,this.height=x}get rawDims(){const t=this.viewBox;return de(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new Jm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}convertToViewportPoint(t,e){const n=[t,e];return $t.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];$t.applyTransform(e,this.transform);const n=[t[2],t[3]];return $t.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return $t.applyInverseTransform(n,this.transform),n}}class H_ extends vu{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function ty(i){const t=i.length;let e=0;for(;e<t&&i[e].trim()==="";)e++;return i.substring(e,e+5).toLowerCase()==="data:"}function $_(i){return typeof i=="string"&&/\.pdf$/i.test(i)}function g6(i){return[i]=i.split(/[#?]/,1),i.substring(i.lastIndexOf("/")+1)}function m6(i,t="document.pdf"){if(typeof i!="string")return t;if(ty(i))return le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(i);if(!n)return t;const s=l=>{try{let u=decodeURIComponent(l);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:l):u}catch{return l}},r=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(r.test(a))return s(a);if(n.searchParams.size>0){const l=Array.from(n.searchParams.values()).reverse();for(const d of l)if(r.test(d))return s(d);const u=Array.from(n.searchParams.keys()).reverse();for(const d of u)if(r.test(d))return s(d)}if(n.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(u)return s(u[0])}return t}class JI{started=Object.create(null);times=[];time(t){t in this.started&&le(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||le(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:r}of this.times)t.push(`${n.padEnd(e)} ${r-s}ms
`);return t.join("")}}function Ng(i,t){const e=t?URL.parse(i,t):URL.parse(i);return e?.protocol==="http:"||e?.protocol==="https:"}function Es(i){i.preventDefault()}function an(i){i.preventDefault(),i.stopPropagation()}function Jct(i){console.log("Deprecated API usage: "+i)}class z1{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(e[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(e[5],10);l=l>=0&&l<=59?l:0;let u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;const d=e[7]||"Z";let h=parseInt(e[8],10);h=h>=0&&h<=23?h:0;let p=parseInt(e[9],10)||0;return p=p>=0&&p<=59?p:0,d==="-"?(a+=h,l+=p):d==="+"&&(a-=h,l-=p),new Date(Date.UTC(n,s,r,a,l,u))}}function y6(i,{scale:t=1,rotation:e=0}){const{width:n,height:s}=i.attributes.style,r=[0,0,parseInt(n),parseInt(s)];return new Jm({viewBox:r,userUnit:1,scale:t,rotation:e})}function hf(i){if(i.startsWith("#")){const t=parseInt(i.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return i.startsWith("rgb(")?i.slice(4,-1).split(",").map(t=>parseInt(t)):i.startsWith("rgba(")?i.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(le(`Not a valid color format: "${i}"`),[0,0,0])}function tut(i){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of i.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;i.set(e,hf(n))}t.remove()}function rn(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform();return[t,e,n,s,r,a]}function Mr(i){const{a:t,b:e,c:n,d:s,e:r,f:a}=i.getTransform().invertSelf();return[t,e,n,s,r,a]}function _l(i,t,e=!1,n=!0){if(t instanceof Jm){const{pageWidth:s,pageHeight:r}=t.rawDims,{style:a}=i,l=Yn.isCSSRoundSupported,u=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${r}px`,h=l?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=l?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(a.width=h,a.height=p):(a.width=p,a.height=h)}n&&i.setAttribute("data-main-rotation",t.rotation)}class gr{constructor(){const{pixelRatio:t}=gr;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,s,r=-1){let a=1/0,l=1/0,u=1/0;n=gr.capPixels(n,r),n>0&&(a=Math.sqrt(n/(t*e))),s!==-1&&(l=s/t,u=s/e);const d=Math.min(a,l,u);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const U1=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class eut{static get isDarkMode(){return de(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class v6{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),de(this,"commentForegroundColor",hf(n))}}function b6(i,t,e,n){n=Math.min(Math.max(n??1,0),1);const s=255*(1-n);return i=Math.round(i*n+s),t=Math.round(t*n+s),e=Math.round(e*n+s),[i,t,e]}function tF(i,t){const e=i[0]/255,n=i[1]/255,s=i[2]/255,r=Math.max(e,n,s),a=Math.min(e,n,s),l=(r+a)/2;if(r===a)t[0]=t[1]=0;else{const u=r-a;switch(t[1]=l<.5?u/(r+a):u/(2-r-a),r){case e:t[0]=((n-s)/u+(n<s?6:0))*60;break;case n:t[0]=((s-e)/u+2)*60;break;case s:t[0]=((e-n)/u+4)*60;break}}t[2]=l}function n2(i,t){const e=i[0],n=i[1],s=i[2],r=(1-Math.abs(2*s-1))*n,a=r*(1-Math.abs(e/60%2-1)),l=s-r/2;switch(Math.floor(e/60)){case 0:t[0]=r+l,t[1]=a+l,t[2]=l;break;case 1:t[0]=a+l,t[1]=r+l,t[2]=l;break;case 2:t[0]=l,t[1]=r+l,t[2]=a+l;break;case 3:t[0]=l,t[1]=a+l,t[2]=r+l;break;case 4:t[0]=a+l,t[1]=l,t[2]=r+l;break;case 5:case 6:t[0]=r+l,t[1]=l,t[2]=a+l;break}}function eF(i){return i<=.03928?i/12.92:((i+.055)/1.055)**2.4}function nF(i,t,e){n2(i,e),e.map(eF);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];n2(t,e),e.map(eF);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)}const iF=new Map;function w6(i,t){const e=i[0]+i[1]*256+i[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=iF.get(e);if(n)return n;const s=new Float32Array(9),r=s.subarray(0,3),a=s.subarray(3,6);tF(i,a);const l=s.subarray(6,9);tF(t,l);const u=l[2]<.5,d=u?12:4.5;if(a[2]=u?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),nF(a,l,r)<d){let h,p;u?(h=a[2],p=1):(h=0,p=a[2]);const m=.005;for(;p-h>m;){const v=a[2]=(h+p)/2;u===nF(a,l,r)<d?h=v:p=v}a[2]=u?p:h}return n2(a,r),n=$t.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),iF.set(e,n),n}function SR({html:i,dir:t,className:e},n){const s=document.createDocumentFragment();if(typeof i=="string"){const r=document.createElement("p");r.dir=t||"auto";const a=i.split(/(?:\r\n?|\n)/);for(let l=0,u=a.length;l<u;++l){const d=a[l];r.append(document.createTextNode(d)),l<u-1&&r.append(document.createElement("br"))}s.append(r)}else AR.render({xfaHtml:i,div:s,intent:"richText"});s.firstChild.classList.add("richText",e),n.append(s)}class ym{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,ym.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Es,{signal:e}),t.addEventListener("pointerdown",ym.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const s=this.#i.toolbarPosition;if(s){const{style:r}=t,a=this.#i._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,an(t)}#h(t){this.#i._focusEventsAllowed=!0,an(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Es,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",ym.#c[t]),this.#f(n)&&n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#m),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const s=this.#r=this.#m;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(s,e)):this.#n.append(n,s),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#m)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const s=this.#n.querySelector(n);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class nut{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Es,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,s=0;for(const r of t){const a=r.y+r.height;if(a<n)continue;const l=r.x+(e?r.width:0);if(a>n){s=l,n=a;continue}e?l>s&&(s=l):l<s&&(s=l)}return[e?1-s:s,n]}show(t,e,n){const[s,r]=this.#a(e,n),{style:a}=this.#e||=this.#n();t.append(this.#e),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,s){const r=document.createElement("button");r.classList.add("basic",t),r.tabIndex=0,r.setAttribute("data-l10n-id",e);const a=document.createElement("span");r.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const l=this.#i._signal;l instanceof AbortSignal&&!l.aborted&&(r.addEventListener("contextmenu",Es,{signal:l}),r.addEventListener("click",s,{signal:l})),this.#t.append(r)}}function _6(i,t,e){for(const n of e)t.addEventListener(n,i[n].bind(i))}class iut{#t=0;get id(){return`${Em}${this.#t++}`}}class xR{#t=wR();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const r=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return de(this,"_isSVGFittingCanvas",r)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let s;if(typeof e=="string"?(n.url=e,s=await uf(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const r=xR._isSVGFittingCanvas,a=new FileReader,l=new Image,u=new Promise((d,h)=>{l.onload=()=>{n.bitmap=l,n.isSvg=!0,d()},a.onload=async()=>{const p=n.svgUrl=a.result;l.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=a.onerror=h});a.readAsDataURL(s),await u}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){le(s),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:s,type:r}=t;return this.#n(`${e}_${n}_${s}_${r}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=s.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class sut{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:l=!1}){if(s&&t(),this.#e)return;const u={cmd:t,undo:e,post:n,type:r};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(u);return}if(a&&this.#t[this.#n].type===r){l&&(u.undo=this.#t[this.#n].undo),this.#t[this.#n]=u;return}const d=this.#n+1;d===this.#i?this.#t.splice(0,1):(this.#n=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(u)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class ey{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Yn.platform;for(const[n,s,r={}]of t)for(const a of n){const l=a.startsWith("mac+");e&&l?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!e&&!l&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:l=null}}=n;l&&!l(t,e)||(s.bind(t,...a,e)(),r||an(e))}}class ER{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return tut(t),de(this,"_colors",t)}convert(t){const e=hf(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((r,a)=>r===e[a]))return ER._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?$t.makeHexColor(...e):t}}class lo{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new sut;#l=null;#d=null;#h=null;#f=0;#m=new Set;#p=null;#u=null;#g=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#E=null;#S=null;#w=null;#C=null;#A=!1;#x=null;#M=new iut;#k=!1;#R=!1;#F=!1;#O=null;#D=null;#j=null;#N=null;#W=null;#T=ae.NONE;#_=new Set;#P=null;#B=null;#U=null;#q=null;#G=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#I=null;#V=null;#Z=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=lo.prototype,e=a=>a.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:u}=l;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return de(this,"_keyboardManager",new ey([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#V.contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&a.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}constructor(t,e,n,s,r,a,l,u,d,h,p,m,v,_,w,S){const x=this._signal=this.#t.signal;this.#V=t,this.#Z=e,this.#J=n,this.#s=s,this.#l=r,this.#B=a,this.#G=u,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:x}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),l._on("setpreference",this.onSetPreference.bind(this),{signal:x}),l._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:x}),window.addEventListener("pointerdown",()=>{this.#R=!0},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{this.#R=!1},{capture:!0,signal:x}),this.#lt(),this.#dt(),this.#et(),this.#r=u.annotationStorage,this.#E=u.filterFactory,this.#U=d,this.#C=h||null,this.#y=p,this.#b=m,this.#v=v,this.#W=_||null,this.viewParameters={realScale:lu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=S!==!1,r?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#g.clear(),this.#N?.clear(),this.#e=null,this.#_.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#x?.hide(),this.#x=null,this.#j?.destroy(),this.#j=null,this.#i=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#W}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return de(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return de(this,"direction",getComputedStyle(this.#V).direction)}get _highlightColors(){return de(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return de(this,"highlightColors",null);const e=new Map,n=!!this.#U;for(const[s,r]of t){const a=s.endsWith("_HCM");if(n&&a){e.set(s.replace("_HCM",""),r);continue}!n&&!a&&e.set(s,r)}return de(this,"highlightColors",e)}get highlightColorNames(){return de(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#j=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,s){this.#l?.showDialog(this,t,e,n,s)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),s=r=>{r.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await n}getSignature(t){this.#B?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#B}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#V.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:s,y:r,width:a,height:l}=n.div.getBoundingClientRect();if(t>=s&&t<=s+a&&e>=r&&e<=r+l)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*lu.PDF_TO_CSS_UNITS;for(const e of this.#g)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:l}=n,u=n.toString(),h=this.#Q(n).closest(".textLayer"),p=this.getSelectionBoxes(h);if(!p)return;n.empty();const m=this.#tt(h),v=this.#T===ae.NONE,_=()=>{const w=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:p,anchorNode:s,anchorOffset:r,focusNode:a,focusOffset:l,text:u});v&&this.showAllEditors("highlight",!0,!0),e&&w?.editComment()};if(v){this.switchToMode(ae.HIGHLIGHT,_);return}_()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#x||=new nut(this),this.#x.show(n,s,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${Em}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#P&&(this.#x?.hide(),this.#P=null,this.#L({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#P)return;const s=this.#Q(t).closest(".textLayer");if(!s){this.#P&&(this.#x?.hide(),this.#P=null,this.#L({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#P=e,this.#L({hasSelectedText:!0}),!(this.#T!==ae.HIGHLIGHT&&this.#T!==ae.NONE)&&(this.#T===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#A=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#T===ae.HIGHLIGHT?this.#tt(s):null;if(r?.toggleDrawing(),this.#R){const a=new AbortController,l=this.combinedSignal(a),u=d=>{d.type==="pointerup"&&d.button!==0||(a.abort(),r?.toggleDrawing(!0),d.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",u,{signal:l}),window.addEventListener("blur",u,{signal:l})}else r?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(t=""){this.#T===ae.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#w)return;this.#w=new AbortController;const t=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#_)if(e.div.contains(t)){this.#D=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,e]=this.#D;this.#D=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#O)return;this.#O=new AbortController;const t=this.combinedSignal(this.#O);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#O?.abort(),this.#O=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#_){const s=n.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){le(`paste: "${r.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const u of n){const d=await s.deserialize(u);if(!d)return;r.push(d)}const a=()=>{for(const u of r)this.#st(u);this.#rt(r)},l=()=>{for(const u of r)u.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(r){le(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==ae.NONE&&!this.isEditorHandlingKeyboard&&lo._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#A&&(this.#A=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#L(t){Object.entries(t).some(([n,s])=>this.#Y[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#T===ae.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#$([[we.HIGHLIGHT_FREE,!0]]))}#$(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#L({isEditing:this.#T!==ae.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#L({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#$(e.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#k?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,s=!1,r=!1){if(this.#T!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#T===ae.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=t,t===ae.NONE){this.setEditingState(!1),this.#pt();for(const a of this.#n.values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const a of this.#n.values())a.addStandaloneCommentButton();t===ae.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const a of this.#a.values())a.updateMode(t);if(t===ae.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(u=>u._editorType)));const a=new Set,l=[];for(const u of this.#n.values()){const{annotationElementId:d,hasComment:h,deleted:p}=u;d&&a.add(d),h&&!p&&l.push(u.getData())}for(const u of this.#i){const{id:d,popupRef:h,contentsObj:p}=u;h&&p?.str&&!a.has(d)&&!this.#m.has(d)&&l.push(u)}this.#l?.showSidebar(l)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const a of this.#n.values())a.uid===e?(this.setSelected(a),r?a.editComment():s?a.enterInEditMode():a.focus()):a.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case we.CREATE:this.currentLayer.addNewEditor(e);return;case we.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#_)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const r of this.#n.values())r.editorType===t&&r.show(e);(this.#q?.get(we.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#$([[we.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#F!==t){this.#F=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#k){this.#k=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#k){this.#k=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#$(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#_);return t}updateUI(t){this.#gt===t&&this.#$(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#$(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#_.has(t)){this.#_.delete(t),t.unselect(),this.#L({hasSelectedEditor:this.hasSelection});return}this.#_.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#_)e!==t&&e.unselect();this.#_.clear(),this.#_.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#L({hasSelectedEditor:!0})}isSelected(t){return this.#_.has(t)}get firstSelectedEditor(){return this.#_.values().next().value}unselect(t){t.unselect(),this.#_.delete(t),this.#L({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#_.size!==0}get isEnterHandled(){return this.#_.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#L({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#L({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#_],n=()=>{this._editorUndoBar?.show(s,e.length===1?e[0].editorType:e.length);for(const r of e)r.remove()},s=()=>{for(const r of e)this.#st(r)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#_)e.unselect();this.#_.clear();for(const e of t)e.isEmpty()||(this.#_.add(e),e.select());this.#L({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#_)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#T!==ae.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#_)t.unselect();this.#_.clear(),this.#L({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[s,r]=this.#H,a=[...this.#_],l=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const u of a)this.#n.has(u.id)&&(u.translateInPage(s,r),u.translationDone())},undo:()=>{for(const u of a)this.#n.has(u.id)&&(u.translateInPage(-s,-r),u.translationDone())},mustExec:!1})},l);for(const u of a)u.translateInPage(t,e),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#_)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:s,y:r,pageIndex:a},l]of t)l.newX=s,l.newY=r,l.newPageIndex=a,e||=s!==l.savedX||r!==l.savedY||a!==l.savedPageIndex;if(!e)return!1;const n=(s,r,a,l)=>{if(this.#n.has(s.id)){const u=this.#a.get(l);u?s._setParentAndPosition(u,r,a):(s.pageIndex=l,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:l}]of t)n(s,r,a,l)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:l}]of t)n(s,r,a,l)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#_.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#T}isEditingMode(){return this.#T!==ae.NONE}get imageManager(){return de(this,"imageManager",new xR)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,h=e.rangeCount;d<h;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:r,height:a}=t.getBoundingClientRect();let l;switch(t.getAttribute("data-main-rotation")){case"90":l=(d,h,p,m)=>({x:(h-s)/a,y:1-(d+p-n)/r,width:m/a,height:p/r});break;case"180":l=(d,h,p,m)=>({x:1-(d+p-n)/r,y:1-(h+m-s)/a,width:p/r,height:m/a});break;case"270":l=(d,h,p,m)=>({x:1-(h+m-s)/a,y:(d-n)/r,width:m/a,height:p/r});break;default:l=(d,h,p,m)=>({x:(d-n)/r,y:(h-s)/a,width:p/r,height:m/a});break}const u=[];for(let d=0,h=e.rangeCount;d<h;d++){const p=e.getRangeAt(d);if(!p.collapsed)for(const{x:m,y:v,width:_,height:w}of p.getClientRects())_===0||w===0||u.push(l(m,v,_,w))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#T===ae.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const s=this.#N?.get(t);s&&(s.setCanvas(e,n),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class Yr{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Yr.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Yr._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Yr.#f.missing),e.setAttribute("data-l10n-id",Yr.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",Es,{signal:n}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const s=r=>{r.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(this.#r=!0,s(r))},{signal:n}),await this.#p(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Yr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:r=!1}){n&&(this.#l=n,this.#d=s),!(this.#t===t&&this.#e===e)&&(r||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Yr.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Yr.#f[`${this.#m}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const s=100,r=this.#c._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:r}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:r})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class n0{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=this.#n.commentButtonColor;s&&(n.backgroundColor=s)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:s,y:r,width:a,height:l}=this.#n.parent.boundingClientRect;return[(t-s)/a,(e+n-r)/l]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",Es,{signal:n}),e&&(t.addEventListener("focusin",r=>{this.#n._focusEventsAllowed=!1,an(r)},{capture:!0,signal:n}),t.addEventListener("focusout",r=>{this.#n._focusEventsAllowed=!0,an(r)},{capture:!0,signal:n})),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:n});const s=r=>{r.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(this.#i=!0,s(r))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,s;if(e)[n,s]=e;else{[n,s]=this.#n.commentButtonPosition;const{width:h,height:p,x:m,y:v}=this.#n;n=m+n*h,s=v+s*p}const r=this.#n.parent.boundingClientRect,{x:a,y:l,width:u,height:d}=r;this.#n._uiManager.editComment(this.#n,a+n*u,l+s*d,{...t,parentDimensions:r})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class ny{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:a=null,signal:l}){this.#t=t,this.#i=n,this.#n=e,this.#a=s,this.#s=r,this.#r=a,this.#d=new AbortController,this.#c=AbortSignal.any([l,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/gr.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const s=this.#o=new AbortController,r=AbortSignal.any([this.#c,s.signal]),a=this.#t,l={capture:!0,signal:r,passive:!1},u=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(an(d),u(d))},l),a.addEventListener("pointerup",u,l),a.addEventListener("pointercancel",u,l);return}if(!this.#h){this.#h=new AbortController;const s=AbortSignal.any([this.#c,this.#h.signal]),r=this.#t,a={signal:s,capture:!1,passive:!1};r.addEventListener("touchmove",this.#m.bind(this),a);const l=this.#p.bind(this);r.addEventListener("touchend",l,a),r.addEventListener("touchcancel",l,a),a.capture=!0,r.addEventListener("pointerdown",an,a),r.addEventListener("pointermove",an,a),r.addEventListener("pointercancel",an,a),r.addEventListener("pointerup",an,a),this.#a?.()}if(an(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;an(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:s,screenY:r}=e,{screenX:a,screenY:l}=n,u=this.#l,{touch0X:d,touch0Y:h,touch1X:p,touch1Y:m}=u,v=p-d,_=m-h,w=a-s,S=l-r,x=Math.hypot(w,S)||1,C=Math.hypot(v,_)||1;if(!this.#e&&Math.abs(C-x)<=ny.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=s,u.touch0Y=r,u.touch1X=a,u.touch1Y=l,!this.#e){this.#e=!0;return}const L=[(s+a)/2,(r+l)/2];this.#s?.(L,C,x)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(an(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class Xt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#m="";#p=!1;#u=null;#g=!1;#y=!1;#b=!1;#v=null;#E=0;#S=0;#w=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#A=!1;#x=Xt._zIndex++;static _borderLineWidth=-1;static _colorManager=new ER;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Xt.prototype._resizeWithKeyboard,e=lo.TRANSLATE_SMALL,n=lo.TRANSLATE_BIG;return de(this,"_resizerKeyboardManager",new ey([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Xt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[r,a];const[l,u]=this.parentDimensions;this.x=t.x/l,this.y=t.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return de(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new rut({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Xt._l10n??=t,Xt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Xt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Xt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){qe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#A}set _isDraggable(t){this.#A=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#x}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#I(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[r,a]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/r,this.y=(e+s)/a,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,s]=this.parentDimensions;this.setAt(t*n,e*s,this.width*n,this.height*s),this._onTranslated()}#M([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#M(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[s,r]}=this;if(this.x+=t/s,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[u,d]=this.getBaseTranslation();a+=u,l+=d;const{style:h}=n;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*l).toFixed(2)}%`,this._onTranslating(a,l),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Xt,s=n/t,r=n/e;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,s]}=this;let{x:r,y:a,width:l,height:u}=this;if(l*=n,u*=s,r*=n,a*=s,this._mustFixPosition)switch(t){case 0:r=_i(r,0,n-l),a=_i(a,0,s-u);break;case 90:r=_i(r,0,n-u),a=_i(a,l,s);break;case 180:r=_i(r,l,n),a=_i(a,u,s);break;case 270:r=_i(r,u,n),a=_i(a,0,s-l);break}this.x=r/=n,this.y=a/=s;const[d,h]=this.getBaseTranslation();r+=d,a+=h,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#k(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Xt.#k(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Xt.#k(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#F(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");this.#c.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#O.bind(this,n),{signal:e}),s.addEventListener("contextmenu",Es,{signal:e}),s.tabIndex=-1}this.div.prepend(this.#c)}#O(t,e){e.preventDefault();const{isMac:n}=Yn.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#N.bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",an,{passive:!1,signal:a}),window.addEventListener("contextmenu",Es,{signal:a}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const l=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=l,this.div.style.cursor=u,this.#j()};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}#D(t,e,n,s){this.width=n,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#j(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=this.#d;this.#d=null;const r=this.x,a=this.y,l=this.width,u=this.height;r===t&&a===e&&l===n&&u===s||this.addCommands({cmd:this.#D.bind(this,r,a,l,u),undo:this.#D.bind(this,t,e,n,s),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#N(t,e){const[n,s]=this.parentDimensions,r=this.x,a=this.y,l=this.width,u=this.height,d=Xt.MIN_SIZE/n,h=Xt.MIN_SIZE/s,p=this.#R(this.rotation),m=($,T)=>[p[0]*$+p[2]*T,p[1]*$+p[3]*T],v=this.#R(360-this.rotation),_=($,T)=>[v[0]*$+v[2]*T,v[1]*$+v[3]*T];let w,S,x=!1,C=!1;switch(t){case"topLeft":x=!0,w=($,T)=>[0,0],S=($,T)=>[$,T];break;case"topMiddle":w=($,T)=>[$/2,0],S=($,T)=>[$/2,T];break;case"topRight":x=!0,w=($,T)=>[$,0],S=($,T)=>[0,T];break;case"middleRight":C=!0,w=($,T)=>[$,T/2],S=($,T)=>[0,T/2];break;case"bottomRight":x=!0,w=($,T)=>[$,T],S=($,T)=>[0,0];break;case"bottomMiddle":w=($,T)=>[$/2,T],S=($,T)=>[$/2,0];break;case"bottomLeft":x=!0,w=($,T)=>[0,T],S=($,T)=>[$,0];break;case"middleLeft":C=!0,w=($,T)=>[0,T/2],S=($,T)=>[$,T/2];break}const L=w(l,u),j=S(l,u);let R=m(...j);const D=Xt._round(r+R[0]),P=Xt._round(a+R[1]);let M=1,O=1,N,H;if(e.fromKeyboard)({deltaX:N,deltaY:H}=e);else{const{screenX:$,screenY:T}=e,[ct,Z]=this.#l;[N,H]=this.screenToPageTranslation($-ct,T-Z),this.#l[0]=$,this.#l[1]=T}if([N,H]=_(N/n,H/s),x){const $=Math.hypot(l,u);M=O=Math.max(Math.min(Math.hypot(j[0]-L[0]-N,j[1]-L[1]-H)/$,1/l,1/u),d/l,h/u)}else C?M=_i(Math.abs(j[0]-L[0]-N),d,1)/l:O=_i(Math.abs(j[1]-L[1]-H),h,1)/u;const Q=Xt._round(l*M),G=Xt._round(u*O);R=m(...S(Q,G));const J=D-R[0],nt=P-R[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=Q,this.height=G,this.x=J,this.y=nt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new ym(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Yr.initialize(Xt._l10n),this.#i=new Yr(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new n0(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:s}}=this.#n;return{text:e,richText:t,date:n,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new n0(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new n0(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new n0(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[r]=this.pageDimensions,[a]=this.pageTranslation,l=a+r+1,u=s-100,d=l+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[l,u,d,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),_6(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new ny({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#W.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#_.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#W(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(t,e,n){let r=.7*(n/e)+1-.7;if(r===1)return;const a=this.#R(this.rotation),l=(D,P)=>[a[0]*D+a[2]*P,a[1]*D+a[3]*P],[u,d]=this.parentDimensions,h=this.x,p=this.y,m=this.width,v=this.height,_=Xt.MIN_SIZE/u,w=Xt.MIN_SIZE/d;r=Math.max(Math.min(r,1/m,1/v),_/m,w/v);const S=Xt._round(m*r),x=Xt._round(v*r);if(S===m&&x===v)return;this.#u||=[h,p,m,v];const C=l(m/2,v/2),L=Xt._round(h+C[0]),j=Xt._round(p+C[1]),R=l(S/2,x/2);this.x=L-R[0],this.y=j-R[1],this.width=S,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#_(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#j()}pointerdown(t){const{isMac:e}=Yn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#B(t);return}this.#P(t)}#P(t){const{isMac:e}=Yn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:r},l=d=>{s.abort(),this.#r=null,this.#p=!1,this._uiManager.endDragSession()||this.#P(d),n&&this._onStopDragging()};e&&(this.#E=t.clientX,this.#S=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:p,pointerId:m}=d;if(m!==this.#r){an(d);return}const[v,_]=this.screenToPageTranslation(h-this.#E,p-this.#S);this.#E=h,this.#S=p,this._uiManager.dragSelectedEditors(v,_)},a),window.addEventListener("touchmove",an,a),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#C||d.isPrimary)&&l(d),an(d)},a));const u=d=>{if(!this.#r||this.#r===d.pointerId){l(d);return}an(d)};window.addEventListener("pointerup",u,{signal:r}),window.addEventListener("blur",u,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[l,u]=this.pageTranslation,d=t/s,h=e/s,p=this.x*r,m=this.y*a,v=this.width*r,_=this.height*a;switch(n){case 0:return[p+d+l,a-m-h-_+u,p+d+v+l,a-m-h+u];case 90:return[p+h+l,a-m+d+u,p+h+_+l,a-m+d+v+u];case 180:return[p-d-v+l,a-m+h+u,p-d+l,a-m+h+_+u];case 270:return[p-h-_+l,a-m-d-v+u,p-h+l,a-m-d+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,r,a]=t,l=r-n,u=a-s;switch(this.rotation){case 0:return[n,e-a,l,u];case 90:return[n,e-s,u,l];case 180:return[r,e-s,l,u];case 270:return[r,e-a,u,l];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Xt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:s,deleted:r,richText:a},uid:l,pageIndex:u,creationDate:d,modificationDate:h}=this;return{id:l,pageIndex:u,rect:this.getPDFRect(),richText:a,contentsObj:{str:t},creationDate:d,modificationDate:n||h,popupRef:!r,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return e<a&&s>0&&t<r&&n>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,s.#t=t.accessibilityData,s._isCopy=t.isCopy||!1;const[r,a]=s.pageDimensions,[l,u,d,h]=s.getRectInCurrentCoords(t.rect,a);return s.x=l/r,s.y=u/a,s.width=d/r,s.height=h/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#I(),this.removeEditToolbar(),this.#w){for(const t of this.#w.values())clearTimeout(t);this.#w=null}this.parent=null,this.#C?.destroy(),this.#C=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#F(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,s,r,a]=this.getPDFRect();return[Xt._round(n+(r-n)*t),Xt._round(s+(a-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const a=this.#q.bind(this),l=this.#G.bind(this),u=this._uiManager._signal;for(const d of this.#e){const h=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:u}),d.addEventListener("blur",l,{signal:u}),d.addEventListener("focus",this.#Y.bind(this,h),{signal:u}),d.setAttribute("data-l10n-id",Xt._l10nResizer[h])}}const n=this.#e[0];let s=0;for(const a of e){if(a===n)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(r!==s){if(r<s)for(let l=0;l<s-r;l++)this.#c.append(this.#c.firstChild);else if(r>s)for(let l=0;l<r-s;l++)this.#c.firstChild.before(this.#c.lastChild);let a=0;for(const l of e){const d=this.#e[a++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",Xt._l10nResizer[d])}}this.#H(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){Xt._resizerKeyboardManager.exec(this,t)}#G(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#I()}#Y(t){this.#m=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#N(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#I(){this.#b=!1,this.#H(-1),this.#j()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#w||=new Map;const{action:n}=t;let s=this.#w.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),this.#w.delete(n),this.#w.size===0&&(this.#w=null)},Xt._telemetryTimeout),this.#w.set(n,s);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class rut extends Xt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const sF=3285377520,Fs=4294901760,Lr=65535;class A6{constructor(t){this.h1=t?t&4294967295:sF,this.h2=t?t&4294967295:sF}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let w=0,S=t.length;w<S;w++){const x=t.charCodeAt(w);x<=255?e[n++]=x:(e[n++]=x>>>8,e[n++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,r=n-s*4,a=new Uint32Array(e.buffer,0,s);let l=0,u=0,d=this.h1,h=this.h2;const p=3432918353,m=461845907,v=p&Lr,_=m&Lr;for(let w=0;w<s;w++)w&1?(l=a[w],l=l*p&Fs|l*v&Lr,l=l<<15|l>>>17,l=l*m&Fs|l*_&Lr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196):(u=a[w],u=u*p&Fs|u*v&Lr,u=u<<15|u>>>17,u=u*m&Fs|u*_&Lr,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(l=0,r){case 3:l^=e[s*4+2]<<16;case 2:l^=e[s*4+1]<<8;case 1:l^=e[s*4],l=l*p&Fs|l*v&Lr,l=l<<15|l>>>17,l=l*m&Fs|l*_&Lr,s&1?d^=l:h^=l}this.h1=d,this.h2=h}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Fs|t*36045&Lr,e=e*4283543511&Fs|((e<<16|t>>>16)*2950163797&Fs)>>>16,t^=e>>>1,t=t*444984403&Fs|t*60499&Lr,e=e*3301882366&Fs|((e<<16|t>>>16)*3120437893&Fs)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const i2=Object.freeze({map:null,hash:"",transfer:void 0});class TR{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof Xt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof Xt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let s=!1;if(n!==void 0)for(const[r,a]of Object.entries(e))n[r]!==a&&(s=!0,n[r]=a);else s=!0,this.#n.set(t,e);s&&this.#a(),e instanceof Xt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new S6(this)}get serializable(){if(this.#n.size===0)return i2;const t=new Map,e=new A6,n=[],s=Object.create(null);let r=!1;for(const[a,l]of this.#n){const u=l instanceof Xt?l.serialize(!1,s):l;u&&(t.set(a,u),e.update(`${a}:${JSON.stringify(u)}`),r||=!!u.bitmap)}if(r)for(const a of t.values())a.bitmap&&n.push(a.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:i2}get editorStats(){let t=null;const e=new Map;let n=0,s=0;for(const r of this.#n.values()){if(!(r instanceof Xt)){r.popup&&(r.popup.deleted?s+=1:n+=1);continue}r.isCommentDeleted?s+=1:r.hasEditedComment&&(n+=1);const a=r.telemetryFinalData;if(!a)continue;const{type:l}=a;e.has(l)||e.set(l,Object.getPrototypeOf(r).constructor),t||=Object.create(null);const u=t[l]||=new Map;for(const[d,h]of Object.entries(a)){if(d==="type")continue;let p=u.get(d);p||(p=new Map,u.set(d,p));const m=p.get(h)??0;p.set(h,m+1)}}if((s>0||n>0)&&(t||=Object.create(null),t.comments={deleted:s,edited:n}),!t)return null;for(const[r,a]of e)t[r]=a.computeTelemetryFinalData(t[r]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class S6 extends TR{#t;constructor(t){super();const{map:e,hash:n,transfer:s}=t.serializable,r=structuredClone(e,s?{transfer:s}:null);this.#t={map:r,hash:n,transfer:s}}get print(){qe("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return de(this,"modifiedIds",{ids:new Set,hash:""})}}class aut{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(_e(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:a}=t,l=new FontFace(s,r,a);this.addNativeFontFace(l);try{await l.load(),this.#t.add(s),n?.(t)}catch{le(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}qe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw le(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return de(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return de(this,"isSyncFontLoadingSupported",Oi||Yn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(_e(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const r=n.shift();setTimeout(r.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return de(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(j,R){return j.charCodeAt(R)<<24|j.charCodeAt(R+1)<<16|j.charCodeAt(R+2)<<8|j.charCodeAt(R+3)&255}function s(j,R,D,P){const M=j.substring(0,R),O=j.substring(R+D);return M+P+O}let r,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const u=l.getContext("2d");let d=0;function h(j,R){if(++d>30){le("Load test font never loaded."),R();return}if(u.font="30px "+j,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(h.bind(null,j,R))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=s(m,976,p.length,p);const _=16,w=1482184792;let S=n(m,_);for(r=0,a=p.length-3;r<a;r+=4)S=S-w+n(p,r)|0;r<p.length&&(S=S-w+n(p+"XXX",r)|0),m=s(m,_,4,qct(S));const x=`url(data:font/opentype;base64,${btoa(m)});`,C=`@font-face {font-family:"${p}";src:${x}}`;this.insertRule(C);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const j of[t.loadedName,p]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=j,L.append(R)}this._document.body.append(L),h(p,()=>{L.remove(),e.complete()})}}class out{#t;constructor(t,e=null,n,s){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),s&&(this.charProcOperatorList=s)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${p6(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let s;try{s=t.get(n)}catch(a){le(`getPathGenerator - ignoring character: "${a}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=r}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function lut(i){if(i instanceof URL)return i.href;if(typeof i=="string"){if(Oi)return i;const t=URL.parse(i,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function cut(i){if(Oi&&typeof Buffer<"u"&&i instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength)return i;if(typeof i=="string")return Zm(i);if(i instanceof ArrayBuffer||ArrayBuffer.isView(i)||typeof i=="object"&&!isNaN(i?.length))return new Uint8Array(i);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function i0(i){if(typeof i!="string")return null;if(i.endsWith("/"))return i;throw new Error(`Invalid factory url: "${i}" must include trailing slash.`)}const s2=i=>typeof i=="object"&&Number.isInteger(i?.num)&&i.num>=0&&Number.isInteger(i?.gen)&&i.gen>=0,uut=i=>typeof i=="object"&&typeof i?.name=="string",x6=Qct.bind(null,s2,uut);class hut{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[s]of this.#t)s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:r}=n;if(r.aborted){le("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(t,e);s=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}this.#t.set(e,s)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const s0={DATA:1,ERROR:2},_n={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rF(){}function Xi(i){if(i instanceof oo||i instanceof B1||i instanceof QI||i instanceof Tm||i instanceof TE)return i;switch(i instanceof Error||typeof i=="object"&&i!==null||qe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),i.name){case"AbortException":return new oo(i.message);case"InvalidPDFException":return new B1(i.message);case"PasswordException":return new QI(i.message,i.code);case"ResponseException":return new Tm(i.message,i.status,i.missing);case"UnknownErrorException":return new TE(i.message,i.details)}return new TE(i.message,i.toString())}class Ig{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===s0.DATA)s.resolve(t.data);else if(t.callback===s0.ERROR)s.reject(Xi(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(a){r.postMessage({sourceName:n,targetName:s,callback:s0.DATA,callbackId:t.callbackId,data:a})},function(a){r.postMessage({sourceName:n,targetName:s,callback:s0.ERROR,callbackId:t.callbackId,reason:Xi(a)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(t,e,n,s){const r=this.streamId++,a=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:d=>{const h=Promise.withResolvers();return this.streamControllers[r]={controller:d,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:a,targetName:l,action:t,streamId:r,data:e,desiredSize:d.desiredSize},s),h.promise},pull:d=>{const h=Promise.withResolvers();return this.streamControllers[r].pullCall=h,u.postMessage({sourceName:a,targetName:l,stream:_n.PULL,streamId:r,desiredSize:d.desiredSize}),h.promise},cancel:d=>{_e(d instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[r].cancelCall=h,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:a,targetName:l,stream:_n.CANCEL,streamId:r,reason:Xi(d)}),h.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this,l=this.actionHandler[t.action],u={enqueue(d,h=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:s,stream:_n.ENQUEUE,streamId:e,chunk:d},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:_n.CLOSE,streamId:e}),delete a.streamSinks[e])},error(d){_e(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:s,stream:_n.ERROR,streamId:e,reason:Xi(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[e]=u,Promise.try(l,t.data,u).then(function(){r.postMessage({sourceName:n,targetName:s,stream:_n.START_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:n,targetName:s,stream:_n.START_COMPLETE,streamId:e,reason:Xi(d)})})}#n(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,r=this.comObj,a=this.streamControllers[e],l=this.streamSinks[e];switch(t.stream){case _n.START_COMPLETE:t.success?a.startCall.resolve():a.startCall.reject(Xi(t.reason));break;case _n.PULL_COMPLETE:t.success?a.pullCall.resolve():a.pullCall.reject(Xi(t.reason));break;case _n.PULL:if(!l){r.postMessage({sourceName:n,targetName:s,stream:_n.PULL_COMPLETE,streamId:e,success:!0});break}l.desiredSize<=0&&t.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=t.desiredSize,Promise.try(l.onPull||rF).then(function(){r.postMessage({sourceName:n,targetName:s,stream:_n.PULL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:n,targetName:s,stream:_n.PULL_COMPLETE,streamId:e,reason:Xi(d)})});break;case _n.ENQUEUE:if(_e(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case _n.CLOSE:if(_e(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#a(a,e);break;case _n.ERROR:_e(a,"error should have stream controller"),a.controller.error(Xi(t.reason)),this.#a(a,e);break;case _n.CANCEL_COMPLETE:t.success?a.cancelCall.resolve():a.cancelCall.reject(Xi(t.reason)),this.#a(a,e);break;case _n.CANCEL:if(!l)break;const u=Xi(t.reason);Promise.try(l.onCancel||rF,u).then(function(){r.postMessage({sourceName:n,targetName:s,stream:_n.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){r.postMessage({sourceName:n,targetName:s,stream:_n.CANCEL_COMPLETE,streamId:e,reason:Xi(d)})}),l.sinkCapability.reject(u),l.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class E6{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){qe("Abstract method `_createCanvas` called.")}}class dut extends E6{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class T6{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){qe("Abstract method `_fetch` called.")}}class aF extends T6{async _fetch(t){const e=await uf(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):Zm(e)}}class C6{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,r){return"none"}destroy(t=!1){}}class fut extends C6{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(Ia,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(Ia,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const u=t[0],d=new Array(256);for(let p=0;p<256;p++)d[p]=u[p]/255;const h=d.join(",");return[h,h,h]}const[e,n,s]=t,r=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)r[u]=e[u]/255,a[u]=n[u]/255,l[u]=s[u]/255;return[r.join(","),a.join(","),l.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(ty(e)?le('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=bR(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,s,r]=this.#d(t),a=t.length===1?n:`${n}${s}${r}`;if(e=this.#o.get(a),e)return this.#o.set(t,e),e;const l=`g_${this.#n}_transfer_map_${this.#r++}`,u=this.#h(l);this.#o.set(t,u),this.#o.set(a,u);const d=this.#p(l);return this.#g(n,s,r,d),u}addHCMFilter(t,e){const n=`${t}-${e}`,s="base";let r=this.#c.get(s);if(r?.key===n||(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#c.set(s,r)),!t||!e))return r.url;const a=this.#b(t);t=$t.makeHexColor(...a);const l=this.#b(e);if(e=$t.makeHexColor(...l),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return r.url;const u=new Array(256);for(let v=0;v<=255;v++){const _=v/255;u[v]=_<=.03928?_/12.92:((_+.055)/1.055)**2.4}const d=u.join(","),h=`g_${this.#n}_hcm_filter`,p=r.filter=this.#p(h);this.#g(d,d,d,p),this.#m(p);const m=(v,_)=>{const w=a[v]/255,S=l[v]/255,x=new Array(_+1);for(let C=0;C<=_;C++)x[C]=w+C/_*(S-w);return x.join(",")};return this.#g(m(0,5),m(1,5),m(2,5),p),r.url=this.#h(h),r.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),s=`alpha_${n}`;if(e=this.#o.get(s),e)return this.#o.set(t,e),e;const r=`g_${this.#n}_alpha_map_${this.#r++}`,a=this.#h(r);this.#o.set(t,a),this.#o.set(s,a);const l=this.#p(r);return this.#y(n,l),a}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,s;if(t?([n]=this.#d([t]),s=`luminosity_${n}`):s="luminosity",e=this.#o.get(s),e)return this.#o.set(t,e),e;const r=`g_${this.#n}_luminosity_map_${this.#r++}`,a=this.#h(r);this.#o.set(t,a),this.#o.set(s,a);const l=this.#p(r);return this.#f(l),t&&this.#y(n,l),a}addHighlightHCMFilter(t,e,n,s,r){const a=`${e}-${n}-${s}-${r}`;let l=this.#c.get(t);if(l?.key===a||(l?(l.filter?.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},this.#c.set(t,l)),!e||!n))return l.url;const[u,d]=[e,n].map(this.#b.bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,v]=[s,r].map(this.#b.bind(this));p<h&&([h,p,m,v]=[p,h,v,m]),this.#l.style.color="";const _=(x,C,L)=>{const j=new Array(256),R=(p-h)/L,D=x/255,P=(C-x)/(255*L);let M=0;for(let O=0;O<=L;O++){const N=Math.round(h+O*R),H=D+O*P;for(let Q=M;Q<=N;Q++)j[Q]=H;M=N+1}for(let O=M;O<256;O++)j[O]=j[M-1];return j.join(",")},w=`g_${this.#n}_hcm_${t}_filter`,S=l.filter=this.#p(w);return this.#m(S),this.#g(_(m[0],v[0],5),_(m[1],v[1],5),_(m[2],v[2],5),S),l.url=this.#h(w),l.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(Ia,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(Ia,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(Ia,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const s=this.#a.createElementNS(Ia,e);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),t.append(s)}#g(t,e,n,s){const r=this.#a.createElementNS(Ia,"feComponentTransfer");s.append(r),this.#u(r,"feFuncR",t),this.#u(r,"feFuncG",e),this.#u(r,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(Ia,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#b(t){return this.#l.style.color=t,hf(getComputedStyle(this.#l).getPropertyValue("color"))}}class k6{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){qe("Abstract method `_fetch` called.")}}class oF extends k6{async _fetch(t){const e=await uf(t,"arraybuffer");return new Uint8Array(e)}}class R6{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){qe("Abstract method `_fetch` called.")}}class lF extends R6{async _fetch(t){const e=await uf(t,"arraybuffer");return new Uint8Array(e)}}Oi&&le("Please use the `legacy` build in Node.js environments.");async function CR(i){const e=await process.getBuiltinModule("fs").promises.readFile(i);return new Uint8Array(e)}class put extends C6{}class gut extends E6{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class mut extends T6{async _fetch(t){return CR(t)}}class yut extends k6{async _fetch(t){return CR(t)}}class vut extends R6{async _fetch(t){return CR(t)}}const vh="__forcedDependency",{floor:cF,ceil:uF}=Math;function r0(i,t,e,n,s,r){i[t*4+0]=Math.min(i[t*4+0],e),i[t*4+1]=Math.min(i[t*4+1],n),i[t*4+2]=Math.max(i[t*4+2],s),i[t*4+3]=Math.max(i[t*4+3],r)}const r2=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class but{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===r2}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const a0=(i,t)=>{if(!i)return;let e=i.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},i.set(t,e)),e};class wut{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[vh]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#m;#p;#u;#g;constructor(t,e,n=!1){this.#f=t.width,this.#m=t.height,this.#y(e),n&&(this.#g=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(r2,e.length)):this.#u.fill(r2)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[vh]:{__proto__:this.#e[vh]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(a0(this.#g,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(a0(this.#g,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(a0(this.#g,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push($t.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(vh,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(vh,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,s,r,a){const l=$t.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),u=[1/0,1/0,-1/0,-1/0];$t.axialAlignedBoundingBox([n,r,s,a],l,u);const d=$t.intersect(this.#r,u);return d?(this.#r[0]=d[0],this.#r[1]=d[1],this.#r[2]=d[2],this.#r[3]=d[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,s,r,a){const l=this.#r;if(l[0]===1/0)return this;const u=$t.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(l[0]===-1/0)return $t.axialAlignedBoundingBox([n,r,s,a],u,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return $t.axialAlignedBoundingBox([n,r,s,a],u,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],l[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],l[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],l[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],l[3])),this}recordCharacterBBox(t,e,n,s=1,r=0,a=0,l){const u=n.bbox;let d,h;if(u&&(d=u[2]!==u[0]&&u[3]!==u[1]&&this.#h.get(n),d!==!1&&(h=[0,0,0,0],$t.axialAlignedBoundingBox(u,n.fontMatrix,h),(s!==1||r!==0||a!==0)&&$t.scaleMinMax([s,0,0,-s,r,a],h),d)))return this.recordBBox(t,e,h[0],h[2],h[1],h[3]);if(!l)return this.recordFullPageBBox(t);const p=l();return u&&h&&d===void 0&&(d=h[0]<=r-p.actualBoundingBoxLeft&&h[2]>=r+p.actualBoundingBoxRight&&h[1]<=a-p.actualBoundingBoxAscent&&h[3]>=a+p.actualBoundingBoxDescent,this.#h.set(n,d),d)?this.recordBBox(t,e,h[0],h[2],h[1],h[3]):this.recordBBox(t,e,r-p.actualBoundingBoxLeft,r+p.actualBoundingBoxRight,a-p.actualBoundingBoxAscent,a+p.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,s=this.#t,r=this.#e;for(const a of e)a in this.#t?n.add(s[a]):a in r&&r[a].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[vh]),this.#g){const n=a0(this.#g,t),{dependencies:s}=n;this.#l.forEach(s.add,s),this.#n.forEach(s.add,s),this.#a.forEach(s.add,s),s.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=cF(this.#o[0]*256/this.#f),s=cF(this.#o[1]*256/this.#m),r=uF(this.#o[2]*256/this.#f),a=uF(this.#o[3]*256/this.#m);r0(this.#p,t,n,s,r,a);for(const l of this.#l)l!==t&&r0(this.#p,l,n,s,r,a);for(const l of this.#n)l!==t&&r0(this.#p,l,n,s,r,a);for(const l of this.#a)l!==t&&r0(this.#p,l,n,s,r,a);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of n)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new but(this.#u,this.#p)}takeDebugMetadata(){return this.#g}}class H1{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof H1&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,s,r,a){return this.#i||this.#t.recordClipBox(this.#e,e,n,s,r,a),this}recordBBox(t,e,n,s,r,a){return this.#i||this.#t.recordBBox(this.#e,e,n,s,r,a),this}recordCharacterBBox(t,e,n,s,r,a,l){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,s,r,a,l),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const js={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ai={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a2(i,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),i.clip(s)}class kR{isModifyingCurrentTransform(){return!1}getPattern(){qe("Abstract method `getPattern` called.")}}class _ut extends kR{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let r;if(s===ai.STROKE||s===ai.FILL){const a=e.current.getClippedPathBoundingBox(s,rn(t))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,u=Math.ceil(a[3]-a[1])||1,d=e.cachedCanvases.getCanvas("pattern",l,u),h=d.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=$t.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...e.baseTransform),this.matrix&&h.transform(...this.matrix),a2(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),r=t.createPattern(d.canvas,"no-repeat");const p=new DOMMatrix(n);r.setTransform(p)}else a2(t,this._bbox),r=this._createGradient(t);return r}}function RE(i,t,e,n,s,r,a,l){const u=t.coords,d=t.colors,h=i.data,p=i.width*4;let m;u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=r,r=a,a=m),u[n+1]>u[s+1]&&(m=n,n=s,s=m,m=a,a=l,l=m),u[e+1]>u[n+1]&&(m=e,e=n,n=m,m=r,r=a,a=m);const v=(u[e]+t.offsetX)*t.scaleX,_=(u[e+1]+t.offsetY)*t.scaleY,w=(u[n]+t.offsetX)*t.scaleX,S=(u[n+1]+t.offsetY)*t.scaleY,x=(u[s]+t.offsetX)*t.scaleX,C=(u[s+1]+t.offsetY)*t.scaleY;if(_>=C)return;const L=d[r],j=d[r+1],R=d[r+2],D=d[a],P=d[a+1],M=d[a+2],O=d[l],N=d[l+1],H=d[l+2],Q=Math.round(_),G=Math.round(C);let J,nt,$,T,ct,Z,k,W;for(let K=Q;K<=G;K++){if(K<S){const ft=K<_?0:(_-K)/(_-S);J=v-(v-w)*ft,nt=L-(L-D)*ft,$=j-(j-P)*ft,T=R-(R-M)*ft}else{let ft;K>C?ft=1:S===C?ft=0:ft=(S-K)/(S-C),J=w-(w-x)*ft,nt=D-(D-O)*ft,$=P-(P-N)*ft,T=M-(M-H)*ft}let et;K<_?et=0:K>C?et=1:et=(_-K)/(_-C),ct=v-(v-x)*et,Z=L-(L-O)*et,k=j-(j-N)*et,W=R-(R-H)*et;const st=Math.round(Math.min(J,ct)),ut=Math.round(Math.max(J,ct));let lt=p*K+st*4;for(let ft=st;ft<=ut;ft++)et=(J-ft)/(J-ct),et<0?et=0:et>1&&(et=1),h[lt++]=nt-(nt-Z)*et|0,h[lt++]=$-($-k)*et|0,h[lt++]=T-(T-W)*et|0,h[lt++]=255}}function Aut(i,t,e){const n=t.coords,s=t.colors;let r,a;switch(t.type){case"lattice":const l=t.verticesPerRow,u=Math.floor(n.length/l)-1,d=l-1;for(r=0;r<u;r++){let h=r*l;for(let p=0;p<d;p++,h++)RE(i,e,n[h],n[h+1],n[h+l],s[h],s[h+1],s[h+l]),RE(i,e,n[h+l+1],n[h+1],n[h+l],s[h+l+1],s[h+1],s[h+l])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)RE(i,e,n[r],n[r+1],n[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class Sut extends kR{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const l=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-l,h=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*t[1]*1.1)),3e3),v=d/p,_=h/m,w={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-u,scaleX:1/v,scaleY:1/_},S=p+4,x=m+4,C=n.getCanvas("mesh",S,x),L=C.context,j=L.createImageData(p,m);if(e){const D=j.data;for(let P=0,M=D.length;P<M;P+=4)D[P]=e[0],D[P+1]=e[1],D[P+2]=e[2],D[P+3]=255}for(const D of this._figures)Aut(j,D,w);return L.putImageData(j,2,2),{canvas:C.canvas,offsetX:l-2*v,offsetY:u-2*_,scaleX:v,scaleY:_}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,s){a2(t,this._bbox);const r=new Float32Array(2);if(s===ai.SHADING)$t.singularValueDecompose2dScale(rn(t),r);else if(this.matrix){$t.singularValueDecompose2dScale(this.matrix,r);const[l,u]=r;$t.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=l,r[1]*=u}else $t.singularValueDecompose2dScale(e.baseTransform,r);const a=this._createMeshCanvas(r,s===ai.SHADING?null:this._background,e.cachedCanvases);return s!==ai.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}class xut extends kR{getPattern(){return"hotpink"}}function Eut(i){switch(i[0]){case"RadialAxial":return new _ut(i);case"Mesh":return new Sut(i);case"Dummy":return new xut}throw new Error(`Unknown IR type: ${i[0]}`)}const hF={COLORED:1,UNCOLORED:2};class RR{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(t,e){const{bbox:n,operatorList:s,paintType:r,tilingType:a,color:l,canvasGraphicsFactory:u}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),U_("TilingType: "+a);const p=n[0],m=n[1],v=n[2],_=n[3],w=v-p,S=_-m,x=new Float32Array(2);$t.singularValueDecompose2dScale(this.matrix,x);const[C,L]=x;$t.singularValueDecompose2dScale(this.baseTransform,x);const j=C*x[0],R=L*x[1];let D=w,P=S,M=!1,O=!1;const N=Math.ceil(d*j),H=Math.ceil(h*R),Q=Math.ceil(w*j),G=Math.ceil(S*R);N>=Q?D=d:M=!0,H>=G?P=h:O=!0;const J=this.getSizeAndScale(D,this.ctx.canvas.width,j),nt=this.getSizeAndScale(P,this.ctx.canvas.height,R),$=t.cachedCanvases.getCanvas("pattern",J.size,nt.size),T=$.context,ct=u.createCanvasGraphics(T,e);if(ct.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(ct,r,l),T.translate(-J.scale*p,-nt.scale*m),ct.transform(0,J.scale,0,0,nt.scale,0,0),T.save(),ct.dependencyTracker?.save(),this.clipBbox(ct,p,m,v,_),ct.baseTransform=rn(ct.ctx),ct.executeOperatorList(s),ct.endDrawing(),ct.dependencyTracker?.restore(),T.restore(),M||O){const Z=$.canvas;M&&(D=d),O&&(P=h);const k=this.getSizeAndScale(D,this.ctx.canvas.width,j),W=this.getSizeAndScale(P,this.ctx.canvas.height,R),K=k.size,et=W.size,st=t.cachedCanvases.getCanvas("pattern-workaround",K,et),ut=st.context,lt=M?Math.floor(w/d):0,ft=O?Math.floor(S/h):0;for(let Ct=0;Ct<=lt;Ct++)for(let _t=0;_t<=ft;_t++)ut.drawImage(Z,K*Ct,et*_t,K,et,0,0,K,et);return{canvas:st.canvas,scaleX:k.scale,scaleY:W.scale,offsetX:p,offsetY:m}}return{canvas:$.canvas,scaleX:J.scale,scaleY:nt.scale,offsetX:p,offsetY:m}}getSizeAndScale(t,e,n){const s=Math.max(RR.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*n);return r>=s?r=s:n=r/t,{scale:n,size:r}}clipBbox(t,e,n,s,r){const a=s-e,l=r-n;t.ctx.rect(e,n,a,l),$t.axialAlignedBoundingBox([e,n,s,r],rn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,r=t.current;switch(e){case hF.COLORED:const{fillStyle:a,strokeStyle:l}=this.ctx;s.fillStyle=r.fillColor=a,s.strokeStyle=r.strokeColor=l;break;case hF.UNCOLORED:s.fillStyle=s.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new Gct(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,s,r){let a=n;s!==ai.SHADING&&(a=$t.transform(a,e.baseTransform),this.matrix&&(a=$t.transform(a,this.matrix)));const l=this.createPatternCanvas(e,r);let u=new DOMMatrix(a);u=u.translate(l.offsetX,l.offsetY),u=u.scale(1/l.scaleX,1/l.scaleY);const d=t.createPattern(l.canvas,"repeat");return d.setTransform(u),d}}function Tut({src:i,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const l=Yn.isLittleEndian?4278190080:255,[u,d]=a?[r,l]:[l,r],h=n>>3,p=n&7,m=i.length;e=new Uint32Array(e.buffer);let v=0;for(let _=0;_<s;_++){for(const S=t+h;t<S;t++){const x=t<m?i[t]:255;e[v++]=x&128?d:u,e[v++]=x&64?d:u,e[v++]=x&32?d:u,e[v++]=x&16?d:u,e[v++]=x&8?d:u,e[v++]=x&4?d:u,e[v++]=x&2?d:u,e[v++]=x&1?d:u}if(p===0)continue;const w=t<m?i[t++]:255;for(let S=0;S<p;S++)e[v++]=w&1<<7-S?d:u}return{srcPos:t,destPos:v}}const dF=16,fF=100,Cut=15,pF=10,es=16,ME=new DOMMatrix,ws=new Float32Array(2),wd=new Float32Array([1/0,1/0,-1/0,-1/0]);function kut(i,t){if(i._removeMirroring)throw new Error("Context is already forwarding operations.");i.__originalSave=i.save,i.__originalRestore=i.restore,i.__originalRotate=i.rotate,i.__originalScale=i.scale,i.__originalTranslate=i.translate,i.__originalTransform=i.transform,i.__originalSetTransform=i.setTransform,i.__originalResetTransform=i.resetTransform,i.__originalClip=i.clip,i.__originalMoveTo=i.moveTo,i.__originalLineTo=i.lineTo,i.__originalBezierCurveTo=i.bezierCurveTo,i.__originalRect=i.rect,i.__originalClosePath=i.closePath,i.__originalBeginPath=i.beginPath,i._removeMirroring=()=>{i.save=i.__originalSave,i.restore=i.__originalRestore,i.rotate=i.__originalRotate,i.scale=i.__originalScale,i.translate=i.__originalTranslate,i.transform=i.__originalTransform,i.setTransform=i.__originalSetTransform,i.resetTransform=i.__originalResetTransform,i.clip=i.__originalClip,i.moveTo=i.__originalMoveTo,i.lineTo=i.__originalLineTo,i.bezierCurveTo=i.__originalBezierCurveTo,i.rect=i.__originalRect,i.closePath=i.__originalClosePath,i.beginPath=i.__originalBeginPath,delete i._removeMirroring},i.save=function(){t.save(),this.__originalSave()},i.restore=function(){t.restore(),this.__originalRestore()},i.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},i.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},i.transform=function(e,n,s,r,a,l){t.transform(e,n,s,r,a,l),this.__originalTransform(e,n,s,r,a,l)},i.setTransform=function(e,n,s,r,a,l){t.setTransform(e,n,s,r,a,l),this.__originalSetTransform(e,n,s,r,a,l)},i.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},i.rotate=function(e){t.rotate(e),this.__originalRotate(e)},i.clip=function(e){t.clip(e),this.__originalClip(e)},i.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},i.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},i.bezierCurveTo=function(e,n,s,r,a,l){t.bezierCurveTo(e,n,s,r,a,l),this.__originalBezierCurveTo(e,n,s,r,a,l)},i.rect=function(e,n,s,r){t.rect(e,n,s,r),this.__originalRect(e,n,s,r)},i.closePath=function(){t.closePath(),this.__originalClosePath()},i.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Rut{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function o0(i,t,e,n,s,r,a,l,u,d){const[h,p,m,v,_,w]=rn(i);if(p===0&&m===0){const C=a*h+_,L=Math.round(C),j=l*v+w,R=Math.round(j),D=(a+u)*h+_,P=Math.abs(Math.round(D)-L)||1,M=(l+d)*v+w,O=Math.abs(Math.round(M)-R)||1;return i.setTransform(Math.sign(h),0,0,Math.sign(v),L,R),i.drawImage(t,e,n,s,r,0,0,P,O),i.setTransform(h,p,m,v,_,w),[P,O]}if(h===0&&v===0){const C=l*m+_,L=Math.round(C),j=a*p+w,R=Math.round(j),D=(l+d)*m+_,P=Math.abs(Math.round(D)-L)||1,M=(a+u)*p+w,O=Math.abs(Math.round(M)-R)||1;return i.setTransform(0,Math.sign(p),Math.sign(m),0,L,R),i.drawImage(t,e,n,s,r,0,0,O,P),i.setTransform(h,p,m,v,_,w),[O,P]}i.drawImage(t,e,n,s,r,a,l,u,d);const S=Math.hypot(h,p),x=Math.hypot(m,v);return[S*u,x*d]}class gF{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=e2;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=si.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=wd.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=ai.FILL,e=null){const n=this.minMax.slice();if(t===ai.STROKE){e||qe("Stroke bounding box must include transform."),$t.singularValueDecompose2dScale(e,ws);const s=ws[0]*this.lineWidth/2,r=ws[1]*this.lineWidth/2;n[0]-=s,n[1]-=r,n[2]+=s,n[3]+=r}return n}updateClipFromPath(){const t=$t.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(wd,0)}getClippedPathBoundingBox(t=ai.FILL,e=null){return $t.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function mF(i,t){if(t instanceof ImageData){i.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%es,r=(e-s)/es,a=s===0?r:r+1,l=i.createImageData(n,es);let u=0,d;const h=t.data,p=l.data;let m,v,_,w;if(t.kind===mm.GRAYSCALE_1BPP){const S=h.byteLength,x=new Uint32Array(p.buffer,0,p.byteLength>>2),C=x.length,L=n+7>>3,j=4294967295,R=Yn.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(_=m<r?es:s,d=0,v=0;v<_;v++){const D=S-u;let P=0;const M=D>L?n:D*8-7,O=M&-8;let N=0,H=0;for(;P<O;P+=8)H=h[u++],x[d++]=H&128?j:R,x[d++]=H&64?j:R,x[d++]=H&32?j:R,x[d++]=H&16?j:R,x[d++]=H&8?j:R,x[d++]=H&4?j:R,x[d++]=H&2?j:R,x[d++]=H&1?j:R;for(;P<M;P++)N===0&&(H=h[u++],N=128),x[d++]=H&N?j:R,N>>=1}for(;d<C;)x[d++]=0;i.putImageData(l,0,m*es)}}else if(t.kind===mm.RGBA_32BPP){for(v=0,w=n*es*4,m=0;m<r;m++)p.set(h.subarray(u,u+w)),u+=w,i.putImageData(l,0,v),v+=es;m<a&&(w=n*s*4,p.set(h.subarray(u,u+w)),i.putImageData(l,0,v))}else if(t.kind===mm.RGB_24BPP)for(_=es,w=n*_,m=0;m<a;m++){for(m>=r&&(_=s,w=n*_),d=0,v=w;v--;)p[d++]=h[u++],p[d++]=h[u++],p[d++]=h[u++],p[d++]=255;i.putImageData(l,0,m*es)}else throw new Error(`bad image kind: ${t.kind}`)}function yF(i,t){if(t.bitmap){i.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%es,r=(e-s)/es,a=s===0?r:r+1,l=i.createImageData(n,es);let u=0;const d=t.data,h=l.data;for(let p=0;p<a;p++){const m=p<r?es:s;({srcPos:u}=Tut({src:d,srcPos:u,dest:h,width:n,height:m,nonBlackColor:0})),i.putImageData(l,0,p*es)}}function Op(i,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)i[n]!==void 0&&(t[n]=i[n]);i.setLineDash!==void 0&&(t.setLineDash(i.getLineDash()),t.lineDashOffset=i.lineDashOffset)}function l0(i){i.strokeStyle=i.fillStyle="#000000",i.fillRule="nonzero",i.globalAlpha=1,i.lineWidth=1,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=10,i.globalCompositeOperation="source-over",i.font="10px sans-serif",i.setLineDash!==void 0&&(i.setLineDash([]),i.lineDashOffset=0);const{filter:t}=i;t!=="none"&&t!==""&&(i.filter="none")}function vF(i,t){if(t)return!0;$t.singularValueDecompose2dScale(i,ws);const e=Math.fround(gr.pixelRatio*lu.PDF_TO_CSS_UNITS);return ws[0]<=e&&ws[1]<=e}const Mut=["butt","round","square"],Lut=["miter","round","bevel"],Out={},bF={};class Nd{constructor(t,e,n,s,r,{optionalContentConfig:a,markedContentStack:l=null},u,d,h){this.ctx=t,this.current=new gF(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new Rut(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=l,n){const u=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...rn(this.compositeCtx))}this.ctx.save(),l0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=rn(this.ctx)}executeOperatorList(t,e,n,s,r){const a=t.argsArray,l=t.fnArray;let u=e||0;const d=a.length;if(d===u)return u;const h=d-u>pF&&typeof n=="function",p=h?Date.now()+Cut:0;let m=0;const v=this.commonObjs,_=this.objs;let w,S;for(;;){if(s!==void 0&&u===s.nextBreakPoint)return s.breakIt(u,n),u;if(!r||r(u))if(w=l[u],S=a[u]??null,w!==Qd.dependency)S===null?this[w](u):this[w](u,...S);else for(const x of S){this.dependencyTracker?.recordNamedData(x,u);const C=x.startsWith("g_")?v:_;if(!C.has(x))return C.get(x,n),u}if(u++,u===d)return u;if(h&&++m>pF){if(Date.now()>p)return n(),u;m=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),l=n,u=s,d="prescale1",h,p;for(;r>2&&l>1||a>2&&u>1;){let m=l,v=u;r>2&&l>1&&(m=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),r/=l/m),a>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,a/=u/v),h=this.cachedCanvases.getCanvas(d,m,v),p=h.context,p.clearRect(0,0,m,v),p.drawImage(t,0,0,l,u,0,0,m,v),t=h.canvas,l=m,u=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:l,paintHeight:u}}_createMaskCanvas(t,e){const n=this.ctx,{width:s,height:r}=e,a=this.current.fillColor,l=this.current.patternFill,u=rn(n);let d,h,p,m;if((e.bitmap||e.data)&&e.count>1){const N=e.bitmap||e.data.buffer;h=JSON.stringify(l?u:[u.slice(0,4),a]),d=this._cachedBitmapsMap.get(N),d||(d=new Map,this._cachedBitmapsMap.set(N,d));const H=d.get(h);if(H&&!l){const Q=Math.round(Math.min(u[0],u[2])+u[4]),G=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(t,js.transformAndFill),{canvas:H,offsetX:Q,offsetY:G}}p=H}p||(m=this.cachedCanvases.getCanvas("maskCanvas",s,r),yF(m.context,e));let v=$t.transform(u,[1/s,0,0,-1/r,0,0]);v=$t.transform(v,[1,0,0,1,0,-r]);const _=wd.slice();$t.axialAlignedBoundingBox([0,0,s,r],v,_);const[w,S,x,C]=_,L=Math.round(x-w)||1,j=Math.round(C-S)||1,R=this.cachedCanvases.getCanvas("fillCanvas",L,j),D=R.context,P=w,M=S;D.translate(-P,-M),D.transform(...v),p||(p=this._scaleImage(m.canvas,Mr(D)),p=p.img,d&&l&&d.set(h,p)),D.imageSmoothingEnabled=vF(rn(D),e.interpolate),o0(D,p,0,0,p.width,p.height,0,0,s,r),D.globalCompositeOperation="source-in";const O=$t.transform(Mr(D),[1,0,0,1,-P,-M]);return D.fillStyle=l?a.getPattern(n,this,O,ai.FILL,t):a,D.fillRect(0,0,s,r),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(h,R.canvas)),this.dependencyTracker?.recordDependencies(t,js.transformAndFill),{canvas:R.canvas,offsetX:Math.round(P),offsetY:Math.round(M)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=Mut[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=Lut[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,s]of e)switch(n){case"LW":this.setLineWidth(t,s);break;case"LC":this.setLineCap(t,s);break;case"LJ":this.setLineJoin(t,s);break;case"ML":this.setMiterLimit(t,s);break;case"D":this.setDash(t,s[0],s[1]);break;case"RI":this.setRenderingIntent(t,s);break;case"FL":this.setFlatness(t,s);break;case"Font":this.setFont(t,s[0],s[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=s;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=s;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,e,n);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),Op(this.suspendedCtx,a),kut(a,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Op(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const r=s[0],a=s[1],l=s[2]-r,u=s[3]-a;l===0||u===0||(this.genericComposeSMask(e.context,n,l,u,e.subtype,e.backdrop,e.transferMap,r,a,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,r,a,l,u,d,h,p){let m=t.canvas,v=u-h,_=d-p;if(a)if(v<0||_<0||v+n>m.width||_+s>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,s),x=S.context;x.drawImage(m,-v,-_),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,n,s),x.globalCompositeOperation="source-over",m=S.canvas,v=_=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(v,_,n,s),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(v,_,n,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&l?e.filter=this.filterFactory.addAlphaFilter(l):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(l));const w=new Path2D;w.rect(u,d,n,s),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(m,v,_,n,s,u,d,n,s),e.restore()}save(t){this.inSMaskMode&&Op(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Op(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,s,r,a,l){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,s,r,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,s){let[r]=n;if(!s){r||=n[0]=new Path2D,this[e](t,r);return}if(this.dependencyTracker!==null){const a=e===Qd.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-a,s[2]+a,s[1]-a,s[3]+a).recordDependencies(t,["transform"])}if(!(r instanceof Path2D)){const a=n[0]=new Path2D;for(let l=0,u=r.length;l<u;)switch(r[l++]){case e0.moveTo:a.moveTo(r[l++],r[l++]);break;case e0.lineTo:a.lineTo(r[l++],r[l++]);break;case e0.curveTo:a.bezierCurveTo(r[l++],r[l++],r[l++],r[l++],r[l++],r[l++]);break;case e0.closePath:a.closePath();break;default:le(`Unrecognized drawing path operator: ${r[l-1]}`);break}r=a}$t.axialAlignedBoundingBox(s,rn(this.ctx),this.current.minMax),this[e](t,r),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const s=this.ctx,r=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const a=r.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=r.getPattern(s,this,Mr(s),ai.STROKE,t),a){const l=new Path2D;l.addPath(e,s.getTransform().invertSelf().multiplySelf(a)),e=l}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,js.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(ai.STROKE,rn(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const s=this.ctx,r=this.current.fillColor,a=this.current.patternFill;let l=!1;if(a){const d=r.isModifyingCurrentTransform()?s.getTransform():null;if(this.dependencyTracker?.save(t),s.save(),s.fillStyle=r.getPattern(s,this,Mr(s),ai.FILL,t),d){const h=new Path2D;h.addPath(e,s.getTransform().invertSelf().multiplySelf(d)),e=h}l=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),this.dependencyTracker?.recordDependencies(t,js.fill),l&&(s.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,u)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,js.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Out}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=bF}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,r=n.getTransform().invertSelf();for(const{transform:a,x:l,y:u,fontSize:d,path:h}of e)h&&s.addPath(h,new DOMMatrix(a).preMultiplySelf(r).translate(l,u).scale(d,-d));n.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),r=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(r.fontMatrix=s.fontMatrix||e2,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&le("Invalid font matrix for font "+e),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const a=s.loadedName||"sans-serif",l=s.systemFontInfo?.css||`"${a}", ${s.fallbackName}`;let u="normal";s.black?u="900":s.bold&&(u="bold");const d=s.italic?"italic":"normal";let h=n;n<dF?h=dF:n>fF&&(h=fF),this.current.fontSizeScale=n/h,this.ctx.font=`${d} ${u} ${h}px ${l}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const s=new Path2D;return s.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),s}paintChar(t,e,n,s,r,a){const l=this.ctx,u=this.current,d=u.font,h=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,m=h&si.FILL_STROKE_MASK,v=!!(h&si.ADD_TO_PATH_FLAG),_=u.patternFill&&!d.missingFile,w=u.patternStroke&&!d.missingFile;let S;if((d.disableFontFace||v||_||w)&&!d.missingFile&&(S=d.getPathGenerator(this.commonObjs,e)),S&&(d.disableFontFace||_||w)){l.save(),l.translate(n,s),l.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(t,l,d);let x;if(m===si.FILL||m===si.FILL_STROKE)if(r){x=l.getTransform(),l.setTransform(...r);const C=this.#i(S,x,r);l.fill(C)}else l.fill(S);if(m===si.STROKE||m===si.FILL_STROKE)if(a){x||=l.getTransform(),l.setTransform(...a);const{a:C,b:L,c:j,d:R}=x,D=$t.inverseTransform(a),P=$t.transform([C,L,j,R,0,0],D);$t.singularValueDecompose2dScale(P,ws),l.lineWidth*=Math.max(ws[0],ws[1])/p,l.stroke(this.#i(S,x,a))}else l.lineWidth/=p,l.stroke(S);l.restore()}else(m===si.FILL||m===si.FILL_STROKE)&&(l.fillText(e,n,s),this.dependencyTracker?.recordCharacterBBox(t,l,d,p,n,s,()=>l.measureText(e))),(m===si.STROKE||m===si.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,l,d,p,n,s,()=>l.measureText(e)).recordDependencies(t,js.stroke),l.strokeText(e,n,s));v&&((this.pendingTextPaths||=[]).push({transform:rn(l),x:n,y:s,fontSize:p,path:S}),this.dependencyTracker?.recordCharacterBBox(t,l,d,p,n,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return de(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,js.showText).resetBBox(t),this.current.textRenderingMode&si.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,s=n.font;if(s.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const r=n.fontSize;if(r===0){this.dependencyTracker?.recordOperation(t);return}const a=this.ctx,l=n.fontSizeScale,u=n.charSpacing,d=n.wordSpacing,h=n.fontDirection,p=n.textHScale*h,m=e.length,v=s.vertical,_=v?1:-1,w=s.defaultVMetrics,S=r*n.fontMatrix[0],x=n.textRenderingMode===si.FILL&&!s.disableFontFace&&!n.patternFill;a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),h>0?a.scale(p,-1):a.scale(p,1);let C,L;if(n.patternFill){a.save();const M=n.fillColor.getPattern(a,this,Mr(a),ai.FILL,t);C=rn(a),a.restore(),a.fillStyle=M}if(n.patternStroke){a.save();const M=n.strokeColor.getPattern(a,this,Mr(a),ai.STROKE,t);L=rn(a),a.restore(),a.strokeStyle=M}let j=n.lineWidth;const R=n.textMatrixScale;if(R===0||j===0){const M=n.textRenderingMode&si.FILL_STROKE_MASK;(M===si.STROKE||M===si.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=R;if(l!==1&&(a.scale(l,l),j/=l),a.lineWidth=j,s.isInvalidPDFjsFont){const M=[];let O=0;for(const H of e)M.push(H.unicode),O+=H.width;const N=M.join("");if(a.fillText(N,0,0),this.dependencyTracker!==null){const H=a.measureText(N);this.dependencyTracker.recordBBox(t,this.ctx,-H.actualBoundingBoxLeft,H.actualBoundingBoxRight,-H.actualBoundingBoxAscent,H.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=O*S*p,a.restore(),this.compose();return}let D=0,P;for(P=0;P<m;++P){const M=e[P];if(typeof M=="number"){D+=_*M*r/1e3;continue}let O=!1;const N=(M.isSpace?d:0)+u,H=M.fontChar,Q=M.accent;let G,J,nt=M.width;if(v){const ct=M.vmetric||w,Z=-(M.vmetric?ct[1]:nt*.5)*S,k=ct[2]*S;nt=ct?-ct[0]:nt,G=Z/l,J=(D+k)/l}else G=D/l,J=0;let $;if(s.remeasure&&nt>0){$=a.measureText(H);const ct=$.width*1e3/r*l;if(nt<ct&&this.isFontSubpixelAAEnabled){const Z=nt/ct;O=!0,a.save(),a.scale(Z,1),G/=Z}else nt!==ct&&(G+=(nt-ct)/2e3*r/l)}if(this.contentVisible&&(M.isInFont||s.missingFile)){if(x&&!Q)a.fillText(H,G,J),this.dependencyTracker?.recordCharacterBBox(t,a,$?{bbox:null}:s,r/l,G,J,()=>$??a.measureText(H));else if(this.paintChar(t,H,G,J,C,L),Q){const ct=G+r*Q.offset.x/l,Z=J-r*Q.offset.y/l;this.paintChar(t,Q.fontChar,ct,Z,C,L)}}const T=v?nt*S-N*h:nt*S+N*h;D+=T,O&&a.restore()}v?n.y-=D:n.x+=D*p,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,s=this.current,r=s.font,a=s.fontSize,l=s.fontDirection,u=r.vertical?1:-1,d=s.charSpacing,h=s.wordSpacing,p=s.textHScale*l,m=s.fontMatrix||e2,v=e.length,_=s.textRenderingMode===si.INVISIBLE;let w,S,x,C;if(_||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),s.textMatrix&&n.transform(...s.textMatrix),n.translate(s.x,s.y+s.textRise),n.scale(p,l);const L=this.dependencyTracker;for(this.dependencyTracker=L?new H1(L,t):null,w=0;w<v;++w){if(S=e[w],typeof S=="number"){C=u*S*a/1e3,this.ctx.translate(C,0),s.x+=C*p;continue}const j=(S.isSpace?h:0)+d,R=r.charProcOperatorList[S.operatorListId];R?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...m),this.executeOperatorList(R),this.restore()):le(`Type3 character "${S.operatorListId}" is not available.`);const D=[S.width,0];$t.applyTransform(D,m),x=D[0]*a+j,n.translate(x,0),s.x+=x*p}n.restore(),L&&(this.dependencyTracker=L)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,s,r,a,l){const u=new Path2D;u.rect(s,r,a-s,l-r),this.ctx.clip(u),this.dependencyTracker?.recordBBox(t,this.ctx,s,a,r,l).recordClipBox(t,this.ctx,s,a,r,l),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const s=this.baseTransform||rn(this.ctx),r={createCanvasGraphics:(a,l)=>new Nd(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new H1(this.dependencyTracker,l,!0):null)};n=new RR(e,this.ctx,r,s)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=Eut(this.getObject(t,e)),this.cachedPatterns.set(e,s)),n&&(s.matrix=n),s}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const s=this._getPattern(t,e);n.fillStyle=s.getPattern(n,this,Mr(n),ai.SHADING,t);const r=Mr(n);if(r){const{width:a,height:l}=n.canvas,u=wd.slice();$t.axialAlignedBoundingBox([0,0,a,l],r,u);const[d,h,p,m]=u;this.ctx.fillRect(d,h,p-d,m-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,js.transform).recordDependencies(t,js.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){qe("Should not call beginInlineImage")}beginImageData(){qe("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=rn(this.ctx),n)){$t.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,r,a,l]=n,u=new Path2D;u.rect(s,r,a-s,l-r),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(t,this.ctx,s,a,r,l),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||U_("TODO: Support non-isolated groups."),e.knockout&&le("Knockout groups not supported.");const s=rn(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=wd.slice();$t.axialAlignedBoundingBox(e.bbox,rn(n),r);const a=[0,0,n.canvas.width,n.canvas.height];r=$t.intersect(r,a)||[0,0,0,0];const l=Math.floor(r[0]),u=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-l,1),h=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,d,h]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(p,d,h),v=m.context;v.translate(-l,-u),v.transform(...s);let _=new Path2D;const[w,S,x,C]=e.bbox;if(_.rect(w,S,x-w,C-S),e.matrix){const L=new Path2D;L.addPath(_,new DOMMatrix(e.matrix)),_=L}v.clip(_),e.smask&&this.smaskStack.push({canvas:m.canvas,context:v,offsetX:l,offsetY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(l,u),n.save()),Op(n,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const r=rn(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...r);const a=wd.slice();$t.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r,a),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,s,r,a){if(this.#t(),l0(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const l=n[2]-n[0],u=n[3]-n[1];if(a&&this.annotationCanvasMap){s=s.slice(),s[4]-=n[0],s[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=l,n[3]=u,$t.singularValueDecompose2dScale(rn(this.ctx),ws);const{viewportScale:d}=this,h=Math.ceil(l*this.outputScaleX*d),p=Math.ceil(u*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,p);const{canvas:m,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ws[0],0,0,-ws[1],0,u*ws[1]),l0(this.ctx)}else{l0(this.ctx),this.endPath(t);const d=new Path2D;d.rect(n[0],n[1],l,u),this.ctx.clip(d)}}this.current=new gF(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...r)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const s=this.ctx,r=this._createMaskCanvas(t,e),a=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(a,r.offsetX,r.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,r.offsetX,r.offsetX+a.width,r.offsetY,r.offsetY+a.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,s=0,r=0,a,l){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const u=this.ctx;u.save();const d=rn(u);u.transform(n,s,r,a,0,0);const h=this._createMaskCanvas(t,e);u.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),this.dependencyTracker?.resetBBox(t);for(let p=0,m=l.length;p<m;p+=2){const v=$t.transform(d,[n,s,r,a,l[p],l[p+1]]);u.drawImage(h.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+h.canvas.width,v[5],v[5]+h.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,s=this.current.fillColor,r=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,js.transformAndFill);for(const a of e){const{data:l,width:u,height:d,transform:h}=a,p=this.cachedCanvases.getCanvas("maskCanvas",u,d),m=p.context;m.save();const v=this.getObject(t,l,a);yF(m,v),m.globalCompositeOperation="source-in",m.fillStyle=r?s.getPattern(m,this,Mr(n),ai.FILL,t):s,m.fillRect(0,0,u,d),m.restore(),n.save(),n.transform(...h),n.scale(1,-1),o0(n,p.canvas,0,0,u,d,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,u,0,d),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,s,r){if(!this.contentVisible)return;const a=this.getObject(t,e);if(!a){le("Dependent image isn't ready yet");return}const l=a.width,u=a.height,d=[];for(let h=0,p=r.length;h<p;h+=2)d.push({transform:[n,0,0,s,r[h],r[h+1]],x:0,y:0,w:l,h:u});this.paintInlineImageXObjectGroup(t,a,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,r=this.cachedCanvases.getCanvas("inlineImage",n,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(e,0,0),a.filter="none",r.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,s=e.height,r=this.ctx;this.save(t);const{filter:a}=r;a!=="none"&&a!==""&&(r.filter="none"),r.scale(1/n,-1/s);let l;if(e.bitmap)l=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)l=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",n,s).context;mF(h,e),l=this.applyTransferMapsToCanvas(h)}const u=this._scaleImage(l,Mr(r));r.imageSmoothingEnabled=vF(rn(r),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,r,0,n,-s,0).recordDependencies(t,js.imageXObject).recordOperation(t),o0(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,n,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const s=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const a=e.width,l=e.height,d=this.cachedCanvases.getCanvas("inlineImage",a,l).context;mF(d,e),r=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(t);for(const a of n)s.save(),s.transform(...a.transform),s.scale(1,-1),o0(s,r,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,s,0,1,-1,0),s.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,js.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;this.pendingClip?(s||(this.pendingClip===bF?r.clip(e,"evenodd"):r.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=rn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:r}=this.ctx.getTransform();let a,l;if(n===0&&s===0){const u=Math.abs(e),d=Math.abs(r);if(u===d)if(t===0)a=l=1/u;else{const h=u*t;a=l=h<1?1/h:1}else if(t===0)a=1/u,l=1/d;else{const h=u*t,p=d*t;a=h<1?1/h:1,l=p<1?1/p:1}}else{const u=Math.abs(e*r-n*s),d=Math.hypot(e,n),h=Math.hypot(s,r);if(t===0)a=h/u,l=d/u;else{const p=t*u;a=h>p?h/p:1,l=d>p?d/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:s}}=this,[r,a]=this.getScaleForStroking();if(r===a){n.lineWidth=(s||1)*r,n.stroke(t);return}const l=n.getLineDash();e&&n.save(),n.scale(r,a),ME.a=1/r,ME.d=1/a;const u=new Path2D;if(u.addPath(t,ME),l.length>0){const d=Math.max(r,a);n.setLineDash(l.map(h=>h/d)),n.lineDashOffset/=d}n.lineWidth=s||1,n.stroke(u),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const i in Qd)Nd.prototype[i]!==void 0&&(Nd.prototype[Qd[i]]=Nd.prototype[i]);class Id{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let s=0;for(const d of Id.strings){const h=e.encode(t[d]);n[d]=h,s+=4+h.length}const r=new ArrayBuffer(s),a=new Uint8Array(r),l=new DataView(r);let u=0;for(const d of Id.strings){const h=n[d],p=h.length;l.setUint32(u,p),a.set(h,u+4),u+=4+p}return _e(u===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){_e(t<Id.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Fd{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let s=0;for(const m of Fd.strings){const v=e.encode(t[m]);n[m]=v,s+=4+v.length}s+=4;let r,a,l=1+s;t.style&&(r=e.encode(t.style.style),a=e.encode(t.style.weight),l+=4+r.length+4+a.length);const u=new ArrayBuffer(l),d=new Uint8Array(u),h=new DataView(u);let p=0;h.setUint8(p++,t.guessFallback?1:0),h.setUint32(p,0),p+=4,s=0;for(const m of Fd.strings){const v=n[m],_=v.length;s+=4+_,h.setUint32(p,_),d.set(v,p+4),p+=4+_}return h.setUint32(p-s-4,s),t.style&&(h.setUint32(p,r.length),d.set(r,p+4),p+=4+r.length,h.setUint32(p,a.length),d.set(a,p+4),p+=4+a.length),_e(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){_e(t<Fd.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const s=this.#e.getUint32(t),r=this.#i.decode(new Uint8Array(this.#t,t+4,s));return{style:n,weight:r}}}class Fe{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){_e(t<Fe.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,s=this.#o.getUint8(e)>>n&3;return s===0?void 0:s===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return _e(t<Fe.numbers.length,"Invalid number index"),this.#o.getFloat64(Fe.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Fe.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<4;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=Fe.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<6;s++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=Fe.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<3;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){_e(t<Fe.strings.length,"Invalid string index");let e=Fe.#a+4;for(let r=0;r<t;r++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),s=new Uint8Array(n);return s.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(s)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Fe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const r=this.#o.getUint32(t);if(r!==0)return new Uint8Array(this.#s,t+4,r)}clearData(){let t=Fe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const r=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,r).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Fe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);if(s===0)return null;const r=new Uint8Array(s);return r.set(new Uint8Array(this.#s,t+4,s)),new Id(r.buffer)}get systemFontInfo(){let t=Fe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const s=new Uint8Array(n);return s.set(new Uint8Array(this.#s,t+4,n)),new Fd(s.buffer)}static write(t){const e=t.systemFontInfo?Fd.write(t.systemFontInfo):null,n=t.cssFontInfo?Id.write(t.cssFontInfo):null,s=new TextEncoder,r={};let a=0;for(const w of Fe.strings)r[w]=s.encode(t[w]),a+=4+r[w].length;const l=Fe.#a+4+a+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),u=new ArrayBuffer(l),d=new Uint8Array(u),h=new DataView(u);let p=0;const m=Fe.bools.length;let v=0,_=0;for(let w=0;w<m;w++){const S=t[Fe.bools[w]];v|=(S===void 0?0:S?2:1)<<_,_+=2,(_===8||w===m-1)&&(h.setUint8(p++,v),v=0,_=0)}_e(p===Fe.#t,"FontInfo.write: Boolean properties offset mismatch");for(const w of Fe.numbers)h.setFloat64(p,t[w]),p+=8;if(_e(p===Fe.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){h.setUint8(p++,4);for(const w of t.bbox)h.setInt16(p,w,!0),p+=2}else h.setUint8(p++,0),p+=8;if(_e(p===Fe.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){h.setUint8(p++,6);for(const w of t.fontMatrix)h.setFloat64(p,w,!0),p+=8}else h.setUint8(p++,0),p+=48;if(_e(p===Fe.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){h.setUint8(p++,1);for(const w of t.defaultVMetrics)h.setInt16(p,w,!0),p+=2}else h.setUint8(p++,0),p+=6;_e(p===Fe.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(Fe.#a,0),p+=4;for(const w of Fe.strings){const S=r[w],x=S.length;h.setUint32(p,x),d.set(S,p+4),p+=4+x}if(h.setUint32(Fe.#a,p-Fe.#a-4),!e)h.setUint32(p,0),p+=4;else{const w=e.byteLength;h.setUint32(p,w),_e(p+4+w<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),p+4),p+=4+w}if(!n)h.setUint32(p,0),p+=4;else{const w=n.byteLength;h.setUint32(p,w),_e(p+4+w<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(n),p+4),p+=4+w}return t.data===void 0?(h.setUint32(p,0),p+=4):(h.setUint32(p,t.data.length),d.set(t.data,p+4),p+=4+t.data.length),_e(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}}class vl{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class Put{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const ed=Symbol("INTERNAL");class Dut{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:s,rbGroups:r}){this.#t=!!(t&vs.DISPLAY),this.#e=!!(t&vs.PRINT),this.name=e,this.intent=n,this.usage=s,this.rbGroups=r}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==ed&&qe("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class Nut{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=vs.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new Dut(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(ed,!1);for(const n of t.on)this.#e.get(n)._setVisible(ed,!0);for(const n of t.off)this.#e.get(n)._setVisible(ed,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const r=t[s];let a;if(Array.isArray(r))a=this.#a(r);else if(this.#e.has(r))a=this.#e.get(r).visible;else return le(`Optional content group not found: ${r}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return U_("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(le(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return le(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return le(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return le(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return le(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return le(`Unknown optional content policy ${t.policy}.`),!0}return le(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const s=this.#e.get(t);if(!s){le(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const r of s.rbGroups)for(const a of r)a!==t&&this.#e.get(a)?._setVisible(ed,!1,!0);s._setVisible(ed,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const r=this.#e.get(s);if(r)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!r.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new A6;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class Iut{constructor(t,{disableRange:e=!1,disableStream:n=!1}){_e(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:l}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,r?.length>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((u,d)=>{this._onReceiveData({begin:u,chunk:d})}),t.addProgressListener((u,d)=>{this._onProgress({loaded:u,total:d})}),t.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(n),!0)});_e(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){_e(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new Fut(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new jut(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class Fut{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=$_(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class jut{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function But(i){let t=!0,e=n("filename\\*","i").exec(i);if(e){e=e[1];let h=l(e);return h=unescape(h),h=u(h),h=d(h),r(h)}if(e=a(i),e){const h=d(e);return r(h)}if(e=n("filename","i").exec(i),e){e=e[1];let h=l(e);return h=d(h),r(h)}function n(h,p){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(h,p){if(h){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(h,{fatal:!0}),v=Zm(p);p=m.decode(v),t=!1}catch{}}return p}function r(h){return t&&/[\x80-\xff]/.test(h)&&(h=s("utf-8",h),t&&(h=s("iso-8859-1",h))),h}function a(h){const p=[];let m;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=v.exec(h))!==null;){let[,w,S,x]=m;if(w=parseInt(w,10),w in p){if(w===0)break;continue}p[w]=[S,x]}const _=[];for(let w=0;w<p.length&&w in p;++w){let[S,x]=p[w];x=l(x),S&&(x=unescape(x),w===0&&(x=u(x))),_.push(x)}return _.join("")}function l(h){if(h.startsWith('"')){const p=h.slice(1).split('\\"');for(let m=0;m<p.length;++m){const v=p[m].indexOf('"');v!==-1&&(p[m]=p[m].slice(0,v),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}h=p.join('"')}return h}function u(h){const p=h.indexOf("'");if(p===-1)return h;const m=h.slice(0,p),_=h.slice(p+1).replace(/^[^']*'/,"");return s(m,_)}function d(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,v,_){if(v==="q"||v==="Q")return _=_.replaceAll("_"," "),_=_.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,S){return String.fromCharCode(parseInt(S,16))}),s(m,_);try{_=atob(_)}catch{}return s(m,_)})}return""}function M6(i,t){const e=new Headers;if(!i||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function W_(i){return URL.parse(i)?.origin??null}function L6({responseHeaders:i,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(i.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*e)||n||!t||i.get("Accept-Ranges")!=="bytes"||(i.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function O6(i){const t=i.get("Content-Disposition");if(t){let e=But(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if($_(e))return e}return null}function iy(i,t){return new Tm(`Unexpected server response (${i}) while retrieving PDF "${t}".`,i,i===404||i===0&&t.startsWith("file:"))}function P6(i){return i===200||i===206}function D6(i,t,e){return{method:"GET",headers:i,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function N6(i){return i instanceof Uint8Array?i.buffer:i instanceof ArrayBuffer?i:(le(`getArrayBuffer - unexpected data format: ${i}`),new Uint8Array(i).buffer)}class zut{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=M6(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return _e(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Uut(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Hut(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Uut{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,D6(n,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=W_(r.url),!P6(r.status))throw iy(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:l,suggestedLength:u}=L6({responseHeaders:a,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=u||this._contentLength,this._filename=O6(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new oo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:N6(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class Hut{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${n-1}`);const a=s.url;fetch(a,D6(r,this._withCredentials,this._abortController)).then(l=>{const u=W_(l.url);if(u!==t._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${t._responseOrigin}".`);if(!P6(l.status))throw iy(l.status,a);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:N6(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const LE=200,OE=206;function $ut(i){const t=i.response;return typeof t!="string"?t:Zm(t).buffer}class Wut{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=M6(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,a]of this.headers)e.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=OE):s.expectedStatus=LE,e.responseType="arraybuffer",_e(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){n.onError(s.status);return}const r=s.status||LE;if(!(r===LE&&n.expectedStatus===OE)&&r!==n.expectedStatus){n.onError(s.status);return}const l=$ut(s);if(r===OE){const u=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);d?n.onDone({begin:parseInt(d[1],10),chunk:l}):(le('Missing or invalid "Content-Range" header.'),n.onError(0))}else l?n.onDone({begin:0,chunk:l}):n.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Vut{constructor(t){this._source=t,this._manager=new Wut(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return _e(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Gut(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new qut(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Gut{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=W_(e.responseURL);const n=e.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[u,...d]=l.split(": ");return[u,d.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=L6({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=O6(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=iy(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qut{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=W_(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=iy(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Yut=/^[a-z][a-z0-9\-+.]+:/i;function Xut(i){if(Yut.test(i))return new URL(i);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(i))}class Kut{constructor(t){this.source=t,this.url=Xut(t.url),_e(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return _e(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Qut(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new Zut(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class Qut{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=iy(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new oo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Zut{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Pp=Symbol("INITIAL_DATA");class I6{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Pp}}get(t,e=null){if(e){const s=this.#e(t);return s.promise.then(()=>e(s.data)),null}const n=this.#t[t];if(!n||n.data===Pp)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Pp}delete(t){const e=this.#t[t];return!e||e.data===Pp?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Pp&&(yield[t,e])}}}const Jut=1e5,wF=30;let km=class Hs{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#m=[];#p=null;#u=[];#g=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#E=new WeakMap;static#S=null;static#w=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(u){u.enqueue(t),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*gr.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:r,pageX:a,pageY:l}=n.rawDims;this.#y=[1,0,0,-1,-a,l+r],this.#o=s,this.#r=r,Hs.#R(),_l(e,n),this.#t.promise.finally(()=>{Hs.#w.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Yn.platform;return de(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),Hs.#w.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*gr.pixelRatio,s=t.rotation;if(s!==this.#d&&(e?.(),this.#d=s,_l(this.#l,{rotation:s})),n!==this.#h){e?.(),this.#h=n;const r={div:null,properties:null,ctx:Hs.#M(this.#a)};for(const a of this.#u)r.properties=this.#g.get(a),r.div=a,this.#x(r)}}cancel(){const t=new oo("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#C(t){if(this.#i)return;this.#s.ctx??=Hs.#M(this.#a);const e=this.#u,n=this.#m;for(const s of t){if(e.length>Jut){le("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const r=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),s.id&&this.#e.setAttribute("id",`${s.id}`),r.append(this.#e)}else s.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(s.str),this.#A(s)}}#A(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const s=$t.transform(this.#y,t.transform);let r=Math.atan2(s[1],s[0]);const a=this.#f[t.fontName];a.vertical&&(r+=Math.PI/2);let l=this.#n&&a.fontSubstitution||a.fontFamily;l=Hs.fontFamilyMap.get(l)||l;const u=Math.hypot(s[2],s[3]),d=u*Hs.#F(l,a,this.#a);let h,p;r===0?(h=s[4],p=s[5]-d):(h=s[4]+d*Math.sin(r),p=s[5]-d*Math.cos(r));const m="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*h/this.#o).toFixed(2)}%`,v.top=`${(100*p/this.#r).toFixed(2)}%`):(v.left=`${m}${h.toFixed(2)}px)`,v.top=`${m}${p.toFixed(2)}px)`),v.fontSize=`${m}${(Hs.#S*u).toFixed(2)}px)`,v.fontFamily=l,n.fontSize=u,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=a.fontSubstitutionLoadedName||t.fontName),r!==0&&(n.angle=r*(180/Math.PI));let _=!1;if(t.str.length>1)_=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);w!==S&&Math.max(w,S)/Math.min(w,S)>1.5&&(_=!0)}if(_&&(n.canvasWidth=a.vertical?t.height:t.width),this.#g.set(e,n),this.#s.div=e,this.#s.properties=n,this.#x(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#e.append(w)}}#x(t){const{div:e,properties:n,ctx:s}=t,{style:r}=e;let a="";if(Hs.#S>1&&(a=`scale(${1/Hs.#S})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=r,{canvasWidth:u,fontSize:d}=n;Hs.#k(s,d*this.#h,l);const{width:h}=s.measureText(e.textContent);h>0&&(a=`scaleX(${u*this.#h/h}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(r.transform=a)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#M(t=null){let e=this.#v.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#E.set(e,{size:0,family:""})}return e}static#k(t,e,n){const s=this.#E.get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)}static#R(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#F(t,e,n){const s=this.#b.get(t);if(s)return s;const r=this.#M(n);r.canvas.width=r.canvas.height=wF,this.#k(r,wF,t);const a=r.measureText(""),l=a.fontBoundingBoxAscent,u=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let d=.8;return l?d=l/(l+u):(Yn.platform.isFirefox&&le("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#b.set(t,d),d}};const tht=100;function MR(i={}){typeof i=="string"||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const t=new LR,{docId:e}=t,n=i.url?lut(i.url):null,s=i.data?cut(i.data):null,r=i.httpHeaders||null,a=i.withCredentials===!0,l=i.password??null,u=i.range instanceof OR?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:2**16;let h=i.worker instanceof Zd?i.worker:null;const p=i.verbosity,m=typeof i.docBaseUrl=="string"&&!ty(i.docBaseUrl)?i.docBaseUrl:null,v=i0(i.cMapUrl),_=i.cMapPacked!==!1,w=i.CMapReaderFactory||(Oi?mut:aF),S=i0(i.iccUrl),x=i0(i.standardFontDataUrl),C=i.StandardFontDataFactory||(Oi?yut:oF),L=i0(i.wasmUrl),j=i.WasmFactory||(Oi?vut:lF),R=i.stopAtErrors!==!0,D=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,P=i.isEvalSupported!==!1,M=typeof i.isOffscreenCanvasSupported=="boolean"?i.isOffscreenCanvasSupported:!Oi,O=typeof i.isImageDecoderSupported=="boolean"?i.isImageDecoderSupported:!Oi&&(Yn.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,H=typeof i.disableFontFace=="boolean"?i.disableFontFace:Oi,Q=i.fontExtraProperties===!0,G=i.enableXfa===!0,J=i.ownerDocument||globalThis.document,nt=i.disableRange===!0,$=i.disableStream===!0,T=i.disableAutoFetch===!0,ct=i.pdfBug===!0,Z=i.CanvasFactory||(Oi?gut:dut),k=i.FilterFactory||(Oi?put:fut),W=i.enableHWA===!0,K=i.useWasm!==!1,et=u?u.length:i.length??NaN,st=typeof i.useSystemFonts=="boolean"?i.useSystemFonts:!Oi&&!H,ut=typeof i.useWorkerFetch=="boolean"?i.useWorkerFetch:!!(w===aF&&C===oF&&j===lF&&v&&x&&L&&Ng(v,document.baseURI)&&Ng(x,document.baseURI)&&Ng(L,document.baseURI)),lt=null;$ct(p);const ft={canvasFactory:new Z({ownerDocument:J,enableHWA:W}),filterFactory:new k({docId:e,ownerDocument:J}),cMapReaderFactory:ut?null:new w({baseUrl:v,isCompressed:_}),standardFontDataFactory:ut?null:new C({baseUrl:x}),wasmFactory:ut?null:new j({baseUrl:L})};h||(h=Zd.create({verbosity:p,port:vl.workerPort}),t._worker=h);const Ct={docId:e,apiVersion:"5.4.296",data:s,password:l,disableAutoFetch:T,rangeChunkSize:d,length:et,docBaseUrl:m,enableXfa:G,evaluatorOptions:{maxImageSize:D,disableFontFace:H,ignoreErrors:R,isEvalSupported:P,isOffscreenCanvasSupported:M,isImageDecoderSupported:O,canvasMaxAreaInBytes:N,fontExtraProperties:Q,useSystemFonts:st,useWasm:K,useWorkerFetch:ut,cMapUrl:v,iccUrl:S,standardFontDataUrl:x,wasmUrl:L}},_t={ownerDocument:J,pdfBug:ct,styleElement:lt,loadingParams:{disableAutoFetch:T,enableXfa:G}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const St=h.messageHandler.sendWithPromise("GetDocRequest",Ct,s?[s.buffer]:null);let It;if(u)It=new Iut(u,{disableRange:nt,disableStream:$});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const Ft=Ng(n)?zut:Oi?Kut:Vut;It=new Ft({url:n,length:et,httpHeaders:r,withCredentials:a,rangeChunkSize:d,disableRange:nt,disableStream:$})}return St.then(Ft=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Et=new Ig(e,Ft,h.port),Pt=new iht(Et,t,It,_t,ft,W);t._transport=Pt,Et.send("Ready",null)})}).catch(t._capability.reject),t}class LR{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${LR.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let OR=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){qe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class eht{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class nht{#t=!1;constructor(t,e,n,s=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new JI:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new I6,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:r=!1}={}){return new Jm({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return de(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:s="display",annotationMode:r=ta.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:u=null,annotationCanvasMap:d=null,pageColors:h=null,printAnnotationStorage:p=null,isEditing:m=!1,recordOperations:v=!1,operationsFilter:_=null}){this._stats?.time("Overall");const w=this._transport.getRenderingIntent(s,r,p,m),{renderingIntent:S,cacheKey:x}=w;this.#t=!1,u||=this._transport.getOptionalContentConfig(S);let C=this._intentStates.get(x);C||(C=Object.create(null),this._intentStates.set(x,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const L=!!(S&vs.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(w));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),R=!this.recordedBBoxes&&(v||j),D=O=>{if(C.renderTasks.delete(P),R){const N=P.gfx?.dependencyTracker.take();N&&(P.stepper&&P.stepper.setOperatorBBoxes(N,P.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=N))}L&&(this.#t=!0),this.#e(),O?(P.capability.reject(O),this._abortOperatorList({intentState:C,reason:O instanceof Error?O:new Error(O)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new _d({callback:D,params:{canvas:e,canvasContext:t,dependencyTracker:R?new wut(e,C.operatorList.length,j):null,viewport:n,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!L,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:_});(C.renderTasks||=new Set).add(P);const M=P.task;return Promise.all([C.displayReadyCapability.promise,u]).then(([O,N])=>{if(this.destroyed){D();return}if(this._stats?.time("Rendering"),!(N.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:O,optionalContentConfig:N}),P.operatorListChanged()}).catch(D),M}getOperatorList({intent:t="display",annotationMode:e=ta.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function r(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(u))}const a=this._transport.getRenderingIntent(t,e,n,s,!0);let l=this._intentStates.get(a.cacheKey);l||(l=Object.create(null),this._intentStates.set(a.cacheKey,l));let u;return l.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||=new Set).add(u),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Cm.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function r(){a.read().then(function({value:u,done:d}){if(d){n(l);return}l.lang??=u.lang,Object.assign(l.styles,u.styles),l.items.push(...u.items),r()},s)}const a=e.getReader(),l={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new JI),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:r,transfer:a}=n,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:s},a).getReader(),d=this._intentStates.get(e);d.streamReader=u;const h=()=>{u.read().then(({value:p,done:m})=>{if(m){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,d),h())},p=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const m of d.renderTasks)m.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(p);else if(d.opListReadCapability)d.opListReadCapability.reject(p);else throw p}})};h()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof H_){let s=tht;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new oo(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var fl,ar,$a,Vc,$1,Gc,qc,Fi,Sw,F6,j6,Fg,zd,xw;const Je=class Je{constructor({name:t=null,port:e=null,verbosity:n=Wct()}={}){Er(this,Fi);Er(this,fl,Promise.withResolvers());Er(this,ar,null);Er(this,$a,null);Er(this,Vc,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(Ze(Je,qc).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Ze(Je,qc).set(e,this),Tr(this,Fi,F6).call(this,e)}else Tr(this,Fi,j6).call(this)}get promise(){return Ze(this,fl).promise}get port(){return Ze(this,$a)}get messageHandler(){return Ze(this,ar)}destroy(){this.destroyed=!0,Ze(this,Vc)?.terminate(),Wi(this,Vc,null),Ze(Je,qc).delete(Ze(this,$a)),Wi(this,$a,null),Ze(this,ar)?.destroy(),Wi(this,ar,null)}static create(t){const e=Ze(this,qc).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Je(t)}static get workerSrc(){if(vl.workerSrc)return vl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return de(this,"_setupFakeWorkerGlobal",(async()=>Ze(this,zd,xw)?Ze(this,zd,xw):(await import(this.workerSrc)).WorkerMessageHandler)())}};fl=new WeakMap,ar=new WeakMap,$a=new WeakMap,Vc=new WeakMap,$1=new WeakMap,Gc=new WeakMap,qc=new WeakMap,Fi=new WeakSet,Sw=function(){Ze(this,fl).resolve(),Ze(this,ar).send("configure",{verbosity:this.verbosity})},F6=function(t){Wi(this,$a,t),Wi(this,ar,new Ig("main","worker",t)),Ze(this,ar).on("ready",()=>{}),Tr(this,Fi,Sw).call(this)},j6=function(){if(Ze(Je,Gc)||Ze(Je,zd,xw)){Tr(this,Fi,Fg).call(this);return}let{workerSrc:t}=Je;try{Je._isSameOrigin(window.location,t)||(t=Je._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Ig("main","worker",e),s=()=>{r.abort(),n.destroy(),e.terminate(),this.destroyed?Ze(this,fl).reject(new Error("Worker was destroyed")):Tr(this,Fi,Fg).call(this)},r=new AbortController;e.addEventListener("error",()=>{Ze(this,Vc)||s()},{signal:r.signal}),n.on("test",l=>{if(r.abort(),this.destroyed||!l){s();return}Wi(this,ar,n),Wi(this,$a,e),Wi(this,Vc,e),Tr(this,Fi,Sw).call(this)}),n.on("ready",l=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{Tr(this,Fi,Fg).call(this)}});const a=()=>{const l=new Uint8Array;n.send("test",l,[l.buffer])};a();return}catch{U_("The worker has been disabled.")}Tr(this,Fi,Fg).call(this)},Fg=function(){Ze(Je,Gc)||(le("Setting up fake worker."),Wi(Je,Gc,!0)),Je._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Ze(this,fl).reject(new Error("Worker was destroyed"));return}const e=new hut;Wi(this,$a,e);const n=`fake${kP(Je,$1)._++}`,s=new Ig(n+"_worker",n,e);t.setup(s,e),Wi(this,ar,new Ig(n,n+"_worker",e)),Tr(this,Fi,Sw).call(this)}).catch(t=>{Ze(this,fl).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},zd=new WeakSet,xw=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Er(Je,zd),Er(Je,$1,0),Er(Je,Gc,!1),Er(Je,qc,new WeakMap),Oi&&(Wi(Je,Gc,!0),vl.workerSrc||="./pdf.worker.mjs"),Je._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const s=new URL(e,n);return n.origin===s.origin},Je._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Je.fromPort=t=>{if(Jct("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Je.create(t)};let Zd=Je;class iht{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,s,r,a){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new I6,this.fontLoader=new aut({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,s),s}get annotationStorage(){return de(this,"annotationStorage",new TR)}getRenderingIntent(t,e=ta.ENABLE,n=null,s=!1,r=!1){let a=vs.DISPLAY,l=i2;switch(t){case"any":a=vs.ANY;break;case"display":break;case"print":a=vs.PRINT;break;default:le(`getRenderingIntent - invalid intent: ${t}`)}const u=a&vs.PRINT&&n instanceof S6?n:this.annotationStorage;switch(e){case ta.DISABLE:a+=vs.ANNOTATIONS_DISABLE;break;case ta.ENABLE:break;case ta.ENABLE_FORMS:a+=vs.ANNOTATIONS_FORMS;break;case ta.ENABLE_STORAGE:a+=vs.ANNOTATIONS_STORAGE,l=u.serializable;break;default:le(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(a+=vs.IS_EDITING),r&&(a+=vs.OPLIST);const{ids:d,hash:h}=u.modifiedIds,p=[a,l.hash,h];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),km.cleanup(),this._networkStream?.cancelAllRequests(new oo("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{_e(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}_e(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:a}=this._fullReader;return(!s||!r)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=l=>{e.onProgress?.({loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:a}}),t.on("GetRangeReader",(n,s)=>{_e(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(n.begin,n.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:l}){if(l){s.close();return}_e(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new eht(n,this))}),t.on("DocException",n=>{e._capability.reject(Xi(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw Xi(n);const s=r=>{r instanceof Error?this.#a.reject(r):this.#a.resolve({password:r})};e.onPassword(s,n.code)}catch(s){this.#a.reject(s)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,r])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in r){const h=r.error;le(`Error during font loading: ${h}`),this.commonObjs.resolve(n,h);break}const a=new Fe(r),l=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,p)=>globalThis.FontInspector.fontAdded(h,p):null,u=new out(a,l,r.extra,r.charProcOperatorList);this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:d}=r;_e(d,"The imageRef must be defined.");for(const h of this.#e.values())for(const[,p]of h.objs)if(p?.ref===d)return p.dataLen?(this.commonObjs.resolve(n,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,r,a])=>{if(this.destroyed)return;const l=this.#e.get(s);if(!l.objs.has(n)){if(l._intentStates.size===0){a?.bitmap?.close();return}switch(r){case"Image":case"Pattern":l.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#n.set(r.refStr,t);const a=new nht(e,r,this,this._params.pdfBug);return this.#e.set(e,a),a});return this.#i.set(e,s),s}getPageIndex(t){return s2(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new Nut(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>({info:s[0],metadata:s[1]?new Put(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),km.cleanup()}}cachedPageNumber(t){if(!s2(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class sht{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class _d{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:l,canvasFactory:u,filterFactory:d,useRequestAnimationFrame:h=!1,pdfBug:p=!1,pageColors:m=null,enableHWA:v=!1,operationsFilter:_=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=u,this.filterFactory=d,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new sht(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=_}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(_d.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_d.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:s,background:r,dependencyTracker:a}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Nd(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:s,viewport:n,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),_d.#e.delete(this._canvas),t||=new H_(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_d.#e.delete(this._canvas),this.callback())))}}const PR="5.4.296",B6="f56dc8601";class bs{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return de(this,"_keyboardManager",new ey([[["Escape","mac+Escape"],bs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],bs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],bs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],bs.prototype._moveToPrevious],[["Home","mac+Home"],bs.prototype._moveToBeginning],[["End","mac+End"],bs.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",bs.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Es,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,s]of this.#l.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=n,r.setAttribute("data-l10n-id",bs.#d[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.ariaSelected=s===this.#i,r.addEventListener("click",this.#f.bind(this,s),{signal:e}),t.append(r)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:we.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#g){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#p(t);return}this.#n.lastChild?.focus()}#m(t){bs._keyboardManager.exec(this,t)}#p(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#g){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Rm{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Rm.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,s=this.#t=document.createElement("input");return s.type="color",s.value=n||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",Rm.#n[t]),s.addEventListener("input",()=>{this.#i.updateParams(e,s.value)},{signal:this.#i._signal}),s}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function _F(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}function Dp(i){return Math.max(0,Math.min(255,255*i))}class AF{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Dp(t),[t,t,t]}static G_HTML([t]){const e=_F(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Dp)}static RGB_HTML(t){return`#${t.map(_F).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[Dp(1-Math.min(1,t+s)),Dp(1-Math.min(1,n+s)),Dp(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,r=1-e,a=1-n,l=Math.min(s,r,a);return["CMYK",s,r,a,l]}}class rht{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){qe("Abstract method `_createSVG` called.")}}class Mm extends rht{_createSVG(t){return document.createElementNS(Ia,t)}}const aht=9,cu=new WeakSet,oht=new Date().getTimezoneOffset()*60*1e3;class SF{static create(t){switch(t.data.annotationType){case pn.LINK:return new DR(t);case pn.TEXT:return new cht(t);case pn.WIDGET:switch(t.data.fieldType){case"Tx":return new uht(t);case"Btn":return t.data.radioButton?new z6(t):t.data.checkBox?new dht(t):new fht(t);case"Ch":return new pht(t);case"Sig":return new hht(t)}return new bu(t);case pn.POPUP:return new o2(t);case pn.FREETEXT:return new U6(t);case pn.LINE:return new mht(t);case pn.SQUARE:return new yht(t);case pn.CIRCLE:return new vht(t);case pn.POLYLINE:return new H6(t);case pn.CARET:return new wht(t);case pn.INK:return new NR(t);case pn.POLYGON:return new bht(t);case pn.HIGHLIGHT:return new $6(t);case pn.UNDERLINE:return new _ht(t);case pn.SQUIGGLY:return new Aht(t);case pn.STRIKEOUT:return new Sht(t);case pn.STAMP:return new W6(t);case pn.FILEATTACHMENT:return new xht(t);default:return new on(t)}}}class on{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return on._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:s}=this.data;let r=-1/0,a=-1/0;if(e?.length>=8){for(let l=0;l<e.length;l+=8)e[l+1]>a?(a=e[l+1],r=e[l+2]):e[l+1]===a&&(r=Math.max(r,e[l+2]));return[r,a]}if(n?.length>=1){for(const l of n)for(let u=0,d=l.length;u<d;u+=2)l[u+1]>a?(a=l[u+1],r=l[u]):l[u+1]===a&&(r=Math.max(r,l[u]));if(r!==1/0)return[r,a]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:a}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-r)/n,t[1]=100*(t[1]-a)/s,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Em}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Em}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let s=this.#i?.popup||this.popup;!s&&n?.text&&(this._createPopup(n),s=this.#i.popup),s&&(s.updateEdited(t),n?.deleted&&(s.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:l,pageY:u}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-l)/r}%`,e.top=`${100*(a-t[3]+u)/a}%`,s===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/a}%`):this.setRotation(s)}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof bu)&&!(this instanceof DR)&&(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof o2){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,r),r}const{width:l,height:u}=this;if(!t&&e.borderStyle.width>0){a.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(w>0||S>0){const C=`calc(${w}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;a.borderRadius=C}else if(this instanceof z6){const C=`calc(${l}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;a.borderRadius=C}switch(e.borderStyle.style){case td.SOLID:a.borderStyle="solid";break;case td.DASHED:a.borderStyle="dashed";break;case td.BEVELED:le("Unimplemented border style: beveled");break;case td.INSET:le("Unimplemented border style: inset");break;case td.UNDERLINE:a.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(this.#e=!0,a.borderColor=$t.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const d=$t.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:p,pageX:m,pageY:v}=s.rawDims;a.left=`${100*(d[0]-m)/h}%`,a.top=`${100*(d[1]-v)/p}%`;const{rotation:_}=e;return e.hasOwnCanvas||_===0?(a.width=`${100*l/h}%`,a.height=`${100*u/p}%`):this.setRotation(_,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:a}=this;t%180!==0&&([r,a]=[a,r]),e.style.width=`${100*r/n}%`,e.style.height=`${100*a/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const r=s.detail[e],a=r[0],l=r.slice(1);s.target.style[n]=AF[`${a}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[n]:AF[`${a}_rgb`](l)})};return de(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail))(t[s]||n[s])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,r]of Object.entries(e)){const a=n[s];if(a){const l={detail:{[s]:r},target:t};a(l),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,r]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,S,x,C]=t.subarray(2,6);if(s===w&&r===S&&e===x&&n===C)return}const{style:a}=this.container;let l;if(this.#e){const{borderColor:w,borderWidth:S}=a;a.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const u=s-e,d=r-n,{svgFactory:h}=this,p=h.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const m=h.createElement("defs");p.append(m);const v=h.createElement("clipPath"),_=`clippath_${this.data.id}`;v.setAttribute("id",_),v.setAttribute("clipPathUnits","objectBoundingBox"),m.append(v);for(let w=2,S=t.length;w<S;w+=8){const x=t[w],C=t[w+1],L=t[w+2],j=t[w+3],R=h.createElement("rect"),D=(L-e)/u,P=(r-C)/d,M=(x-L)/u,O=(C-j)/d;R.setAttribute("x",D),R.setAttribute("y",P),R.setAttribute("width",M),R.setAttribute("height",O),v.append(R),l?.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${P}" width="${M}" height="${O}"/>`)}this.#e&&(l.push("</g></svg>')"),a.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${_})`}_createPopup(t=null){const{data:e}=this;let n,s;t?(n={str:t.text},s=t.date):(n=e.contentsObj,s=e.modificationDate);const r=this.#i=new o2({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){qe("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:r,id:a,exportValues:l}of s){if(r===-1||a===e)continue;const u=typeof l=="string"?l:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!cu.has(d)){le(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:u,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==e&&cu.has(s)&&n.push({id:a,exportValue:r,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class lht extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class DR extends on{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),s=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",s=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,s),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const r=n.get(s);r&&(t[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:s,refs:r,include:a}=e,l=[];if(s.length!==0||r.length!==0){const h=new Set(r);for(const p of s){const m=this._fieldObjects[p]||[];for(const{id:v}of m)h.add(v)}for(const p of Object.values(this._fieldObjects))for(const m of p)h.has(m.id)===a&&l.push(m)}else for(const h of Object.values(this._fieldObjects))l.push(...h);const u=this.annotationStorage,d=[];for(const h of l){const{id:p}=h;switch(d.push(p),h.type){case"text":{const v=h.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=h.defaultValue===h.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=h.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!cu.has(m)){le(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class cht extends on{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class bu extends on{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Yn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,r){n.includes("mouse")?t.addEventListener(n,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):t.addEventListener(n,a=>{if(n==="blur"){if(!e.focused||!a.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}})})}_setEventListeners(t,e,n,s){for(const[r,a]of n)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,r,a,s),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":$t.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||aht,r=t.style;let a;const l=2,u=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l),h=Math.round(d/(EE*s))||1,p=d/h;a=Math.min(s,u(p/EE))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-l);a=Math.min(s,u(d/EE))}r.fontSize=`calc(${a}px * var(--total-scale-factor))`,r.color=$t.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class uht extends bu{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const r=this.annotationStorage;for(const a of this._getElementsByName(t.name,t.id))a.domElement&&(a.domElement[e]=n),r.setValue(a.id,{[s]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=t.getValue(e,{value:this.data.fieldValue});let r=s.value||"";const a=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;a&&r.length>a&&(r=r.slice(0,a));let l=s.formattedValue||this.data.textContent?.join(`
`)||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const u={userValue:r,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=l??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",l??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),cu.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:p}=this.data,m=!!h&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",_=>{t.setValue(e,{value:_.target.value}),this.setPropertyOnSiblings(n,"value",_.target.value,"value"),u.formattedValue=null}),n.addEventListener("resetform",_=>{const w=this.data.defaultFieldValue??"";n.value=u.userValue=w,u.formattedValue=null});let v=_=>{const{formattedValue:w}=u;w!=null&&(_.target.value=w),_.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{if(u.focused)return;const{target:S}=w;if(m&&(S.type=h,p&&(S.step=p)),u.userValue){const x=u.userValue;if(m)if(h==="time"){const C=new Date(x),L=[C.getHours(),C.getMinutes(),C.getSeconds()];S.value=L.map(j=>j.toString().padStart(2,"0")).join(":")}else S.value=new Date(x-oht).toISOString().split(h==="date"?"T":".",1)[0];else S.value=x}u.lastCommittedValue=S.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const S={value(x){u.userValue=x.detail.value??"",m||t.setValue(e,{value:u.userValue.toString()}),x.target.value=u.userValue},formattedValue(x){const{formattedValue:C}=x.detail;u.formattedValue=C,C!=null&&x.target!==document.activeElement&&(x.target.value=C);const L={formattedValue:C};m&&(L.value=C),t.setValue(e,L)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:C}=x.detail,{target:L}=x;if(C===0){L.removeAttribute("maxLength");return}L.setAttribute("maxLength",C);let j=u.userValue;!j||j.length<=C||(j=j.slice(0,C),L.value=u.userValue=j,t.setValue(e,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:L.selectionStart,selEnd:L.selectionEnd}}))}};this._dispatchEventFromSandbox(S,w)}),n.addEventListener("keydown",w=>{u.commitKey=1;let S=-1;if(w.key==="Escape"?S=0:w.key==="Enter"&&!this.data.multiLine?S=2:w.key==="Tab"&&(u.commitKey=3),S===-1)return;const{value:x}=w.target;u.lastCommittedValue!==x&&(u.lastCommittedValue=x,u.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:S,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const _=v;v=null,n.addEventListener("blur",w=>{if(!u.focused||!w.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{target:S}=w;let{value:x}=S;if(m){if(x&&h==="time"){const C=x.split(":").map(L=>parseInt(L,10));x=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),S.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();S.type="text"}u.userValue=x,u.lastCommittedValue!==x&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:u.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}),_(w)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",w=>{u.lastCommittedValue=null;const{data:S,target:x}=w,{value:C,selectionStart:L,selectionEnd:j}=x;let R=L,D=j;switch(w.inputType){case"deleteWordBackward":{const P=C.substring(0,L).match(/\w*[^\w]*$/);P&&(R-=P[0].length);break}case"deleteWordForward":{const P=C.substring(L).match(/^[^\w]*\w*/);P&&(D+=P[0].length);break}case"deleteContentBackward":L===j&&(R-=1);break;case"deleteContentForward":L===j&&(D+=1);break}w.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:S||"",willCommit:!1,selStart:R,selEnd:D}})}),this._setEventListeners(n,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class hht extends bu{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class dht extends bu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return cu.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,n)){const h=u&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=h),t.setValue(d.id,{value:h})}t.setValue(n,{value:u})}),r.addEventListener("resetform",a=>{const l=e.defaultFieldValue||"Off";a.target.checked=l===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const l={value(u){u.target.checked=u.detail.value!=="Off",t.setValue(n,{value:u.target.checked})}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class z6 extends bu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const a of this._getElementsByName(e.fieldName,n))t.setValue(a.id,{value:!1});const r=document.createElement("input");if(cu.add(r),r.setAttribute("data-element-id",n),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",a=>{const{name:l,checked:u}=a.target;for(const d of this._getElementsByName(l,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:u})}),r.addEventListener("resetform",a=>{const l=e.defaultFieldValue;a.target.checked=l!=null&&l===e.buttonValue}),this.enableScripting&&this.hasJSActions){const a=e.buttonValue;r.addEventListener("updatefromsandbox",l=>{const u={value:d=>{const h=a===d.detail.value;for(const p of this._getElementsByName(d.target.name)){const m=h&&p.id===n;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(u,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class fht extends DR{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class pht extends bu{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");cu.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",h=>{const p=this.data.defaultFieldValue;for(const m of s.options)m.selected=m.value===p});for(const h of this.data.options){const p=document.createElement("option");p.textContent=h.displayValue,p.value=h.exportValue,n.value.includes(h.exportValue)&&(p.setAttribute("selected",!0),r=!1),s.append(p)}let a=null;if(r){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),s.prepend(h),a=()=>{h.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const l=h=>{const p=h?"value":"textContent",{options:m,multiple:v}=s;return v?Array.prototype.filter.call(m,_=>_.selected).map(_=>_[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let u=l(!1);const d=h=>{const p=h.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",h=>{const p={value(m){a?.();const v=m.detail.value,_=new Set(Array.isArray(v)?v:[v]);for(const w of s.options)w.selected=_.has(w.value);t.setValue(e,{value:l(!0)}),u=l(!1)},multipleSelection(m){s.multiple=!0},remove(m){const v=s.options,_=m.detail.remove;v[_].selected=!1,s.remove(_),v.length>0&&Array.prototype.findIndex.call(v,S=>S.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:l(!0),items:d(m)}),u=l(!1)},clear(m){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),u=l(!1)},insert(m){const{index:v,displayValue:_,exportValue:w}=m.detail.insert,S=s.children[v],x=document.createElement("option");x.textContent=_,x.value=w,S?S.before(x):s.append(x),t.setValue(e,{value:l(!0),items:d(m)}),u=l(!1)},items(m){const{items:v}=m.detail;for(;s.length!==0;)s.remove(0);for(const _ of v){const{displayValue:w,exportValue:S}=_,x=document.createElement("option");x.textContent=w,x.value=S,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:l(!0),items:d(m)}),u=l(!1)},indices(m){const v=new Set(m.detail.indices);for(const _ of m.target.options)_.selected=v.has(_.index);t.setValue(e,{value:l(!0)}),u=l(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,h)}),s.addEventListener("input",h=>{const p=l(!0),m=l(!1);t.setValue(e,{value:p}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:u,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):s.addEventListener("input",function(h){t.setValue(e,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class o2 extends on{constructor(t){const{data:e,elements:n,parent:s}=t,r=!!s._commentManager;if(super(t,{isRenderable:!r&&on._hasPopupData(e)}),this.elements=n,r&&on._hasPopupData(e)){const a=this.popup=this.#t();for(const l of n)l.popup=a}else this.popup=null}#t(){return new ght({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${_R}${s}`).join(",")),this.container}}class ght{#t=null;#e=this.#W.bind(this);#i=this.#B.bind(this);#n=this.#P.bind(this);#a=this.#_.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#m=null;#p=null;#u=null;#g=null;#y=null;#b=null;#v=null;#E=null;#S=null;#w=null;#C=!1;#A=null;#x=null;constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:r,contentsObj:a,richText:l,parent:u,rect:d,parentRect:h,open:p,commentManager:m=null}){this.#r=t,this.#S=s,this.#o=a,this.#E=l,this.#d=u,this.#s=e,this.#v=d,this.#h=h,this.#l=n,this.#t=m,this.#A=n[0],this.#c=z1.toDateObject(r),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup()),m?this.renderCommentButton():(this.#M(),this.#r.hidden=!0,p&&this.#_())}#M(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#k(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#g||(this.#y||this.#k(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#A.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},s=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#g=this.#A.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#e,{signal:t}),a.addEventListener("click",n,{signal:t}),a.addEventListener("pointerenter",s,{signal:t}),a.addEventListener("pointerleave",r,{signal:t}),a.classList.add("popupTriggerArea")}else{const a=this.#g=document.createElement("button");a.className="annotationCommentButton";const l=this.#A.container;a.style.zIndex=l.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#F(),this.#R(),a.addEventListener("keydown",this.#e,{signal:t}),a.addEventListener("click",n,{signal:t}),a.addEventListener("pointerenter",s,{signal:t}),a.addEventListener("pointerleave",r,{signal:t}),l.after(a)}}#R(){if(this.#A.extraPopupElement&&!this.#A.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#g;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#F(){this.#A.extraPopupElement||(this.renderCommentButton(),this.#g.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#A.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#g?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:s,modificationDate:r}=this.#A.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:s,modificationDate:r}}get elementBeforePopup(){return this.#g}get comment(){return this.#x||=this.#A.commentText,this.#x}set comment(t){t!==this.comment&&(this.#A.commentText=this.#x=t)}get parentBoundingClientRect(){return this.#A.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#g&&(this.#g.classList.toggle("selected",t),this.#g.ariaExpanded=e)}setSelectedCommentButton(t){this.#g.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:n}=this.#g.getBoundingClientRect(),{x:s,y:r,width:a,height:l}=this.#A.layer.getBoundingClientRect();return[(t-s)/a,(e+n-r)/l]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#g.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#b||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:r,y:a,width:l,height:u}=s;this.#t.showDialog(null,this,r+e*l,a+n*u,{...t,parentDimensions:s})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=$t.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#S?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#S}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}SR({html:this.#O||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#O(){const t=this.#E,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#E.html||null}get#D(){return this.#O?.attributes?.style?.fontSize||0}get#j(){return this.#O?.attributes?.style?.color||null}#N(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:this.#j,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:s});return n}#W(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#_()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#x=null):e&&(e.deleted?this.remove():(this.#F(),this.#x=e.text)),t&&(this.#y=null,this.#k(),this.#R());return}if(n||e?.deleted){this.remove();return}this.#M(),this.#w||={contentsObj:this.#o,richText:this.#E},t&&(this.#u=null),e&&e.text&&(this.#E=this.#N(e.text),this.#c=z1.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#E}=this.#w,this.#w=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#C=!1,this.#f=!1,this.#g?.remove(),this.#g=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:r}}}=this.#d;let a=!!this.#h,l=a?this.#h:this.#v;for(const _ of this.#l)if(!l||$t.intersect(_.data.rect,l)!==null){l=_.data.rect,a=!0;break}const u=$t.normalizeRect([l[0],t[3]-l[1]+t[1],l[2],t[3]-l[3]+t[1]]),h=a?l[2]-l[0]+5:0,p=u[0]+h,m=u[1];this.#u=[100*(p-s)/e,100*(m-r)/n];const{style:v}=this.#r;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#_(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#P(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#B(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#P(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#B(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#M(),this.#C&&(this.#m||this.#P(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class U6 extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class mht extends on{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),r=this.#t=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),r.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),r.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),r.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class yht extends on{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=this.#t=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",e-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class vht extends on{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),r=t.borderStyle.width,a=this.#t=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",e/2),a.setAttribute("cy",n/2),a.setAttribute("rx",e/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class H6 extends on{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:s},width:r,height:a}=this;if(!e)return this.container;const l=this.svgFactory.create(r,a,!0);let u=[];for(let h=0,p=e.length;h<p;h+=2){const m=e[h]-t[0],v=t[3]-e[h+1];u.push(`${m},${v}`)}u=u.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",u),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class bht extends H6{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class wht extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class NR extends on{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ae.HIGHLIGHT:ae.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:s,popupRef:r}}=this,{transform:a,width:l,height:u}=this.#i(e,t),d=this.svgFactory.create(l,u,!0),h=this.#t=this.svgFactory.createElement("svg:g");d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let p=0,m=n.length;p<m;p++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[p].join(",")),h.append(v)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:s}=t,r=this.#t;if(e>=0&&r.setAttribute("stroke-width",e||1),n)for(let a=0,l=this.#e.length;a<l;a++)this.#e[a].setAttribute("points",n[a].join(","));if(s){const{transform:a,width:l,height:u}=this.#i(this.data.rotation,s);r.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),r.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $6 extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ae.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class _ht extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Aht extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class Sht extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class W6 extends on{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class xht extends on{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:s}=Yn.platform;return t.addEventListener("keydown",r=>{r.key==="Enter"&&(s?r.metaKey:r.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let IR=class V6{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:l,commentManager:u,linkService:d,annotationStorage:h}){this.div=t,this.#t=e,this.#e=n,this.#a=l||null,this.#s=d||null,this.#i=h||new TR,this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=u||null}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const s=t.firstChild||t,r=s.id=`${_R}${e}`,a=await this.#a?.getAriaAttributes(r);if(a)for(const[l,u]of a)s.setAttribute(l,u);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1))}async render(t){const{annotations:e}=t,n=this.div;_l(n,this.viewport);const s=new Map,r={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Mm,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const l=a.annotationType===pn.POPUP;if(l){const h=s.get(a.id);if(!h)continue;r.elements=h}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;r.data=a;const u=SF.create(r);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=s.get(a.popupRef);h?h.push(u):s.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),await this.#r(d,a.id,r.elements),u.extraPopupElement?.popup?.renderCommentButton(),u._isEditable&&(this.#n.set(u.data.id,u),this._annotationEditorUIManager?.renderAnnotationElement(u))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new Mm,parent:this};for(const n of t){n.borderStyle||=V6._defaultBorderStyle,e.data=n;const s=SF.create(e);if(!s.isRenderable)continue;const r=s.render();await this.#r(r,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,_l(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:r}=s;r?r.nodeName==="CANVAS"?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):s.append(n);const a=this.#n.get(e);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,s.id,n),a._hasNoCanvas=!1):a.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:s}=t,r=new lht({data:{id:n,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),a=r.render();return e.append(a),this.#t?.moveElementInDOM(e,a,a,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return de(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:td.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const c0=/\r\n?|\n/g;class Hn extends Xt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Hn.prototype,e=r=>r.isEmpty(),n=lo.TRANSLATE_SMALL,s=lo.TRANSLATE_BIG;return de(this,"_keyboardManager",new ey([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static _type="freetext";static _editorType=ae.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Hn._defaultColor||Xt._defaultLineColor,this.#n=t.fontSize||Hn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Xt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case we.FREETEXT_SIZE:Hn._defaultFontSize=e;break;case we.FREETEXT_COLOR:Hn._defaultColor=e;break}}updateParams(t,e){switch(t){case we.FREETEXT_SIZE:this.#a(e);break;case we.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[we.FREETEXT_SIZE,Hn._defaultFontSize],[we.FREETEXT_COLOR,Hn._defaultColor||Xt._defaultLineColor]]}get propertiesToUpdate(){return[[we.FREETEXT_SIZE,this.#n],[we.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Rm(this),[["colorPicker",this._colorPicker]]}get colorType(){return we.FREETEXT_COLOR}#a(t){const e=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#n)*this.parentScale),this.#n=s,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=s=>{this.color=s,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Hn._internalPadding*t,-(Hn._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(Hn.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:r}=this,a=r.style.display,l=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",s.div.append(this.div),n=r.getBoundingClientRect(),r.remove(),r.style.display=a,r.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=s=>{if(this.#t=s,!s){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Hn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,r]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[p,m]=this.pageTranslation;let v,_;switch(this.rotation){case 0:v=t+(a[0]-p)/d,_=e+this.height-(a[1]-m)/h;break;case 90:v=t+(a[0]-p)/d,_=e-(a[1]-m)/h,[l,u]=[u,-l];break;case 180:v=t-this.width+(a[0]-p)/d,_=e-(a[1]-m)/h,[l,u]=[-l,-u];break;case 270:v=t+(a[0]-p-this.height*h)/d,_=e+(a[1]-m-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(v*s,_*r,l,u)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(c0,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const s=Hn.#h(e.getData("text")||"").replaceAll(c0,`
`);if(!s)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const a=r.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(c0,"")),v!==this.editorDiv){let _=d;for(const w of this.editorDiv.childNodes){if(w===v){_=h;continue}_.push(Hn.#c(w))}}d.push(l.nodeValue.slice(0,u).replaceAll(c0,""))}else if(l===this.editorDiv){let v=d,_=0;for(const w of this.editorDiv.childNodes)_++===u&&(v=h),v.push(Hn.#c(w))}this.#t=`${d.join(`
`)}${s}${h.join(`
`)}`,this.#l();const p=new Range;let m=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const _=v.nodeValue.length;if(m<=_){p.setStart(v,m),p.setEnd(v,m);break}m-=_}r.removeAllRanges(),r.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Hn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let s=null;if(t instanceof U6){const{data:{defaultAppearanceData:{fontSize:a,fontColor:l},rect:u,rotation:d,id:h,popupRef:p,richText:m,contentsObj:v,creationDate:_,modificationDate:w},textContent:S,textPosition:x,parent:{page:{pageNumber:C}}}=t;if(!S||S.length===0)return null;s=t={annotationType:ae.FREETEXT,color:Array.from(l),fontSize:a,value:S.join(`
`),position:x,pageIndex:C-1,rect:u.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:p,comment:v?.str||null,richText:m,creationDate:_,modificationDate:w}}const r=await super.deserialize(t,e,n);return r.#n=t.fontSize,r.color=$t.makeHexColor(...t.color),r.#t=Hn.#h(t.value),r._initialData=s,t.comment&&r.setCommentData(t),r}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Xt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:s,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((a,l)=>a!==s[l])||t.pageIndex!==r}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const s of this.#t.split(`
`)){const r=document.createElement("div");r.append(s?document.createTextNode(s):document.createElement("br")),e.append(r)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Ht{static PRECISION=1e-4;toSVGPath(){qe("Abstract method `toSVGPath` must be implemented.")}get box(){qe("Abstract getter `box` must be implemented.")}serialize(t,e){qe("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,s,r,a){a||=new Float32Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=e+t[l]*s,a[l+1]=n+t[l+1]*r;return a}static _rescaleAndSwap(t,e,n,s,r,a){a||=new Float32Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=e+t[l+1]*s,a[l+1]=n+t[l]*r;return a}static _translate(t,e,n,s){s||=new Float32Array(t.length);for(let r=0,a=t.length;r<a;r+=2)s[r]=e+t[r],s[r+1]=n+t[r+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,s,r){switch(r){case 90:return[1-e/n,t/s];case 180:return[1-t/n,1-e/s];case 270:return[e/n,1-t/s];default:return[t/n,e/s]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,s,r,a){return[(t+5*n)/6,(e+5*s)/6,(5*n+r)/6,(5*s+a)/6,(n+r)/2,(s+a)/2]}}class Wc{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#d;#h;#f=[];static#m=8;static#p=2;static#u=Wc.#m+Wc.#p;constructor({x:t,y:e},n,s,r,a,l=0){this.#t=n,this.#h=r*s,this.#n=a,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=l,this.#l=Wc.#m*s,this.#c=Wc.#u*s,this.#d=s,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,s,r,a]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/r,(this.#o+(t[1]-e[1])/2-s)/a,(this.#r+(e[0]-t[0])/2-n)/r,(this.#o+(e[1]-t[1])/2-s)/a]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,s,r,a]=this.#t;let[l,u,d,h]=this.#s.subarray(8,12);const p=t-d,m=e-h,v=Math.hypot(p,m);if(v<this.#c)return!1;const _=v-this.#l,w=_/v,S=w*p,x=w*m;let C=l,L=u;l=d,u=h,d+=S,h+=x,this.#f?.push(t,e);const j=-x/_,R=S/_,D=j*this.#h,P=R*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([d+D,h+P],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([d-D,h-P],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([l+D,u+P],2),this.#a.push(NaN,NaN,NaN,NaN,(l+D-n)/r,(u+P-s)/a),this.#s.set([l-D,u-P],14),this.#e.push(NaN,NaN,NaN,NaN,(l-D-n)/r,(u-P-s)/a)),this.#s.set([C,L,l,u,d,h],6),!this.isEmpty()):(this.#s.set([C,L,l,u,d,h],6),Math.abs(Math.atan2(L-u,C-l)-Math.atan2(x,S))<Math.PI/2?([l,u,d,h]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((l+d)/2-n)/r,((u+h)/2-s)/a),[l,u,C,L]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+l)/2-n)/r,((L+u)/2-s)/a),!0):([C,L,l,u,d,h]=this.#s.subarray(0,6),this.#a.push(((C+5*l)/6-n)/r,((L+5*u)/6-s)/a,((5*l+d)/6-n)/r,((5*u+h)/6-s)/a,((l+d)/2-n)/r,((u+h)/2-s)/a),[d,h,l,u,C,L]=this.#s.subarray(12,18),this.#e.push(((C+5*l)/6-n)/r,((L+5*u)/6-s)/a,((5*l+d)/6-n)/r,((5*u+h)/6-s)/a,((l+d)/2-n)/r,((u+h)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);this.#v(n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return this.#b(n),n.join(" ")}#y(){const[t,e,n,s]=this.#t,[r,a,l,u]=this.#g();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/s} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/s} L${r} ${a} L${l} ${u} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/s} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/s} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,n,s,r]=this.#t,a=this.#s.subarray(4,6),l=this.#s.subarray(16,18),[u,d,h,p]=this.#g();t.push(`L${(a[0]-e)/s} ${(a[1]-n)/r} L${u} ${d} L${h} ${p} L${(l[0]-e)/s} ${(l[1]-n)/r}`)}newFreeDrawOutline(t,e,n,s,r,a){return new G6(t,e,n,s,r,a)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[s,r,a,l]=this.#t,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,m=u.length-2;p<m;p+=2)u[p]=(this.#f[p]-s)/a,u[p+1]=(this.#f[p+1]-r)/l;if(u[u.length-2]=(this.#r-s)/a,u[u.length-1]=(this.#o-r)/l,isNaN(n[6])&&!this.isEmpty())return this.#E(u);const d=new Float32Array(this.#a.length+24+this.#e.length);let h=t.length;for(let p=0;p<h;p+=2){if(isNaN(t[p])){d[p]=d[p+1]=NaN;continue}d[p]=t[p],d[p+1]=t[p+1]}h=this.#w(d,h);for(let p=e.length-6;p>=6;p-=6)for(let m=0;m<6;m+=2){if(isNaN(e[p+m])){d[h]=d[h+1]=NaN,h+=2;continue}d[h]=e[p+m],d[h+1]=e[p+m+1],h+=2}return this.#S(d,h),this.newFreeDrawOutline(d,u,this.#t,this.#d,this.#i,this.#n)}#E(t){const e=this.#s,[n,s,r,a]=this.#t,[l,u,d,h]=this.#g(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(e[2]-n)/r,(e[3]-s)/a,NaN,NaN,NaN,NaN,(e[4]-n)/r,(e[5]-s)/a,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(e[16]-n)/r,(e[17]-s)/a,NaN,NaN,NaN,NaN,(e[14]-n)/r,(e[15]-s)/a],0),this.newFreeDrawOutline(p,t,this.#t,this.#d,this.#i,this.#n)}#S(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#w(t,e){const n=this.#s.subarray(4,6),s=this.#s.subarray(16,18),[r,a,l,u]=this.#t,[d,h,p,m]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-r)/l,(n[1]-a)/u,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[0]-r)/l,(s[1]-a)/u],e),e+=24}}class G6 extends Ht{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,s,r,a){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=s,this.#i=r,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[l,u,d,h]=this.#e;for(let p=0,m=t.length;p<m;p+=2)t[p]=(t[p]-l)/d,t[p+1]=(t[p+1]-u)/h;for(let p=0,m=e.length;p<m;p+=2)e[p]=(e[p]-l)/d,e[p+1]=(e[p+1]-u)/h}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,s],r){const a=n-t,l=s-e;let u,d;switch(r){case 0:u=Ht._rescale(this.#r,t,s,a,-l),d=Ht._rescale(this.#a,t,s,a,-l);break;case 90:u=Ht._rescaleAndSwap(this.#r,t,e,a,l),d=Ht._rescaleAndSwap(this.#a,t,e,a,l);break;case 180:u=Ht._rescale(this.#r,n,e,-a,l),d=Ht._rescale(this.#a,n,e,-a,l);break;case 270:u=Ht._rescaleAndSwap(this.#r,n,s,-a,-l),d=Ht._rescaleAndSwap(this.#a,n,s,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}#o(t){const e=this.#r;let n=e[4],s=e[5];const r=[n,s,n,s];let a=n,l=s,u=n,d=s;const h=t?Math.max:Math.min,p=new Float32Array(4);for(let v=6,_=e.length;v<_;v+=6){const w=e[v+4],S=e[v+5];isNaN(e[v])?($t.pointBoundingBox(w,S,r),l>S?(a=w,l=S):l===S&&(a=h(a,w)),d<S?(u=w,d=S):d===S&&(u=h(u,w))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,$t.bezierBoundingBox(n,s,...e.slice(v,v+6),p),$t.rectBoundingBox(p[0],p[1],p[2],p[3],r),l>p[1]?(a=p[0],l=p[1]):l===p[1]&&(a=h(a,p[0])),d<p[3]?(u=p[2],d=p[3]):d===p[3]&&(u=h(u,p[2]))),n=w,s=S}const m=this.#e;m[0]=r[0]-this.#i,m[1]=r[1]-this.#i,m[2]=r[2]-r[0]+2*this.#i,m[3]=r[3]-r[1]+2*this.#i,this.firstPoint=[a,l],this.lastPoint=[u,d]}get box(){return this.#e}newOutliner(t,e,n,s,r,a=0){return new Wc(t,e,n,s,r,a)}getNewOutline(t,e){const[n,s,r,a]=this.#e,[l,u,d,h]=this.#t,p=r*d,m=a*h,v=n*d+l,_=s*h+u,w=this.newOutliner({x:this.#a[0]*p+v,y:this.#a[1]*m+_},this.#t,this.#s,t,this.#n,e??this.#i);for(let S=2;S<this.#a.length;S+=2)w.add({x:this.#a[S]*p+v,y:this.#a[S+1]*m+_});return w.getOutlines()}}class l2{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,s=!0){const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:w,y:S,width:x,height:C}of t){const L=Math.floor((w-e)/a)*a,j=Math.ceil((w+x+e)/a)*a,R=Math.floor((S-e)/a)*a,D=Math.ceil((S+C+e)/a)*a,P=[L,R,D,!0],M=[j,R,D,!1];this.#n.push(P,M),$t.rectBoundingBox(L,R,j,D,r)}const l=r[2]-r[0]+2*n,u=r[3]-r[1]+2*n,d=r[0]-n,h=r[1]-n;let p=s?-1/0:1/0,m=1/0;const v=this.#n.at(s?-1:-2),_=[v[0],v[2]];for(const w of this.#n){const[S,x,C,L]=w;!L&&s?x<m?(m=x,p=S):x===m&&(p=Math.max(p,S)):L&&!s&&(x<m?(m=x,p=S):x===m&&(p=Math.min(p,S))),w[0]=(S-d)/l,w[1]=(x-h)/u,w[2]=(C-h)/u}this.#t=new Float32Array([d,h,l,u]),this.#e=[p,m],this.#i=_}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const a of t){const[l,u,d]=a;e.push([l,u,a],[l,d,a])}e.sort((a,l)=>a[1]-l[1]||a[0]-l[0]);for(let a=0,l=e.length;a<l;a+=2){const u=e[a][2],d=e[a+1][2];u.push(d),d.push(u),n.add(u),n.add(d)}const s=[];let r;for(;n.size>0;){const a=n.values().next().value;let[l,u,d,h,p]=a;n.delete(a);let m=l,v=u;for(r=[l,d],s.push(r);;){let _;if(n.has(h))_=h;else if(n.has(p))_=p;else break;n.delete(_),[l,u,d,h,p]=_,m!==l&&(r.push(m,v,l,v===u?u:d),m=l),v=v===u?d:u}r.push(m,v)}return new Eht(s,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,s=e.length-1;for(;n<=s;){const r=n+s>>1,a=e[r][0];if(a===t)return r;a<t?n=r+1:s=r-1}return s+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#c([,t,e]){const n=this.#r(t);for(let s=n;s<this.#a.length;s++){const[r,a]=this.#a[s];if(r!==t)break;if(r===t&&a===e){this.#a.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[r,a]=this.#a[s];if(r!==t)break;if(r===t&&a===e){this.#a.splice(s,1);return}}}#l(t){const[e,n,s]=t,r=[[e,n,s]],a=this.#r(s);for(let l=0;l<a;l++){const[u,d]=this.#a[l];for(let h=0,p=r.length;h<p;h++){const[,m,v]=r[h];if(!(d<=m||v<=u)){if(m>=u){if(v>d)r[h][1]=d;else{if(p===1)return[];r.splice(h,1),h--,p--}continue}r[h][2]=u,v>d&&r.push([e,d,v])}}}return r}}class Eht extends Ht{#t;#e;constructor(t,e,n,s){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[n,s]=e;t.push(`M${n} ${s}`);for(let r=2;r<e.length;r+=2){const a=e[r],l=e[r+1];a===n?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${a}`),n=a)}t.push("Z")}return t.join(" ")}serialize([t,e,n,s],r){const a=[],l=n-t,u=s-e;for(const d of this.#e){const h=new Array(d.length);for(let p=0;p<d.length;p+=2)h[p]=t+d[p]*l,h[p+1]=s-d[p+1]*u;a.push(h)}return a}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class c2 extends Wc{newFreeDrawOutline(t,e,n,s,r,a){return new Tht(t,e,n,s,r,a)}}class Tht extends G6{newOutliner(t,e,n,s,r,a=0){return new c2(t,e,n,s,r,a)}}class gn extends Xt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#m=null;#p=null;#u="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=ae.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=gn.prototype;return de(this,"_keyboardManager",new ey([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||gn._defaultColor,this.#g=t.thickness||gn._defaultThickness,this.opacity=t.opacity||gn._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#v(t),this.#A()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#A(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new l2(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new l2(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:s}=this.#s;this.#m=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const s=1.5;if(this.#s=t.getNewOutline(this.#g/2+s,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:gn.#x(this.#l.box,(p-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:gn.#x(this.#s.box,p),path:{d:this.#s.toSVGPath()}})}const[r,a,l,u]=t.box;switch(this.rotation){case 0:this.x=r,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-r,this.width=l*m/p,this.height=u*p/m;break}case 180:this.x=1-r,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=r,this.width=l*m/p,this.height=u*p/m;break}}const{firstPoint:d}=t;this.#f=[(d[0]-r)/l,(d[1]-a)/u];const{lastPoint:h}=this.#s;this.#m=[(h[0]-r)/l,(h[1]-a)/u]}static initialize(t,e){Xt.initialize(t,e),gn._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case we.HIGHLIGHT_COLOR:gn._defaultColor=e;break;case we.HIGHLIGHT_THICKNESS:gn._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case we.HIGHLIGHT_COLOR:this.#E(e);break;case we.HIGHLIGHT_THICKNESS:this.#S(e);break}}static get defaultPropertiesToUpdate(){return[[we.HIGHLIGHT_COLOR,gn._defaultColor],[we.HIGHLIGHT_THICKNESS,gn._defaultThickness]]}get propertiesToUpdate(){return[[we.HIGHLIGHT_COLOR,this.color||gn._defaultColor],[we.HIGHLIGHT_THICKNESS,this.#g||gn._defaultThickness],[we.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(t){const e=(r,a)=>{this.color=r,this.opacity=a,this.onUpdatedColor()},n=this.color,s=this.opacity;this.addCommands({cmd:e.bind(this,t,gn._defaultOpacity),undo:e.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#S(t){const e=this.#g,n=s=>{this.#g=s,this.#w(s)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:we.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new bs({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#R())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#R())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#A(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#A(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#w(t){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#A(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#x([t,e,n,s],r){switch(r){case 90:return[1-e-s,t,s,n];case 180:return[1-t-n,1-e-s,n,s];case 270:return[e,1-t-n,s,n]}return[t,e,n,s]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=gn.#x(this.#l.box,t)):n=gn.#x([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:gn.#x(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),_6(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#M(t){gn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#k(!0);break;case 1:case 3:this.#k(!1);break}}#k(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#k(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#R(){return this.#h?this.rotation:0}#F(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,s]=this.pageTranslation,r=this.#i,a=new Float32Array(r.length*8);let l=0;for(const{x:u,y:d,width:h,height:p}of r){const m=u*t+n,v=(1-d)*e+s;a[l]=a[l+4]=m,a[l+1]=a[l+3]=v,a[l+2]=a[l+6]=m+h*t,a[l+5]=a[l+7]=v-p*e,l+=8}return a}#O(t){return this.#l.serialize(t,this.#R())}static startHighlighting(t,e,{target:n,x:s,y:r}){const{x:a,y:l,width:u,height:d}=n.getBoundingClientRect(),h=new AbortController,p=t.combinedSignal(h),m=v=>{h.abort(),this.#j(t,v)};window.addEventListener("blur",m,{signal:p}),window.addEventListener("pointerup",m,{signal:p}),window.addEventListener("pointerdown",an,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Es,{signal:p}),n.addEventListener("pointermove",this.#D.bind(this,t),{signal:p}),this._freeHighlight=new c2({x:s,y:r},[a,l,u,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#j(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let s=null;if(t instanceof $6){const{data:{quadPoints:_,rect:w,rotation:S,id:x,color:C,opacity:L,popupRef:j,richText:R,contentsObj:D,creationDate:P,modificationDate:M},parent:{page:{pageNumber:O}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(C),opacity:L,quadPoints:_,boxes:null,pageIndex:O-1,rect:w.slice(0),rotation:S,annotationElementId:x,id:x,deleted:!1,popupRef:j,richText:R,comment:D?.str||null,creationDate:P,modificationDate:M}}else if(t instanceof NR){const{data:{inkLists:_,rect:w,rotation:S,id:x,color:C,borderStyle:{rawWidth:L},popupRef:j,richText:R,contentsObj:D,creationDate:P,modificationDate:M},parent:{page:{pageNumber:O}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(C),thickness:L,inkLists:_,boxes:null,pageIndex:O-1,rect:w.slice(0),rotation:S,annotationElementId:x,id:x,deleted:!1,popupRef:j,richText:R,comment:D?.str||null,creationDate:P,modificationDate:M}}const{color:r,quadPoints:a,inkLists:l,opacity:u}=t,d=await super.deserialize(t,e,n);d.color=$t.makeHexColor(...r),d.opacity=u||1,l&&(d.#g=t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[h,p]=d.pageDimensions,[m,v]=d.pageTranslation;if(a){const _=d.#i=[];for(let w=0;w<a.length;w+=8)_.push({x:(a[w]-m)/h,y:1-(a[w+1]-v)/p,width:(a[w+2]-a[w])/h,height:(a[w+1]-a[w+5])/p});d.#b(),d.#A(),d.rotate(d.rotation)}else if(l){d.#h=!0;const _=l[0],w={x:_[0]-m,y:p-(_[1]-v)},S=new c2(w,[0,0,h,p],1,d.#g/2,!0,.001);for(let L=0,j=_.length;L<j;L+=2)w.x=_[L]-m,w.y=p-(_[L+1]-v),S.add(w);const{id:x,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);d.#v({highlightOutlines:S.getOutlines(),highlightId:x,clipPathId:C}),d.#A(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Xt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#g,quadPoints:this.#F(),outlines:this.#O(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#N(n)?null:(n.id=this.annotationElementId,n)}#N(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,s)=>n!==e[s])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class q6{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){qe("Not implemented")}}class te extends Xt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#r=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(te._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[s,r]of Object.entries(e))n.has(s)?Object.assign(t[s],r):t[s]=r;return t}static getDefaultDrawingOptions(t){qe("Not implemented")}static get typesMap(){qe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(te.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)t.push([n,e[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,s]of this.constructor.typesMap)t.push([n,e[s]]);return t}_updateProperty(t,e,n){const s=this._drawingOptions,r=s[e],a=l=>{s.updateProperty(e,l);const u=this.#t.updateProperty(e,l);u&&this.#u(u),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#m([t,e,n,s]){const{parentDimensions:[r,a],rotation:l}=this;switch(l){case 90:return[e,1-t,n*(a/r),s*(r/a)];case 180:return[1-t,1-e,n,s];case 270:return[1-e,t,n*(a/r),s*(r/a)];default:return[t,e,n,s]}}#p(){const{x:t,y:e,width:n,height:s,parentDimensions:[r,a],rotation:l}=this;switch(l){case 90:return[1-e,t,n*(r/a),s*(a/r)];case 180:return[1-t,1-e,n,s];case 270:return[e,1-t,n*(r/a),s*(a/r)];default:return[t,e,n,s]}}#u(t){[this.x,this.y,this.width,this.height]=this.#m(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#g(){const{x:t,y:e,width:n,height:s,rotation:r,parentRotation:a,parentDimensions:[l,u]}=this;switch((r*4+a)/90){case 1:return[1-e-s,t,s,n];case 2:return[1-t-n,1-e-s,n,s];case 3:return[e,1-t-n,s,n];case 4:return[t,e-n*(l/u),s*(u/l),n*(l/u)];case 5:return[1-e,t,n*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-e,s*(u/l),n*(l/u)];case 7:return[e-n*(l/u),1-t-s*(u/l),n*(l/u),s*(u/l)];case 8:return[t-n,e-s,n,s];case 9:return[1-e,t-n,s,n];case 10:return[1-t,1-e,n,s];case 11:return[e-s,1-t,s,n];case 12:return[t-s*(u/l),e,s*(u/l),n*(l/u)];case 13:return[1-e-n*(l/u),t-s*(u/l),n*(l/u),s*(u/l)];case 14:return[1-t,1-e-n*(l/u),s*(u/l),n*(l/u)];case 15:return[e,1-t,n*(l/u),s*(u/l)];default:return[t,e,n,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,te._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");return n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,s,r){qe("Not implemented")}static startDrawing(t,e,n,s){const{target:r,offsetX:a,offsetY:l,pointerId:u,pointerType:d}=s;if(te.#r&&te.#r!==d)return;const{viewport:{rotation:h}}=t,{width:p,height:m}=r.getBoundingClientRect(),v=te.#n=new AbortController,_=t.combinedSignal(v);if(te.#s||=u,te.#r??=d,window.addEventListener("pointerup",w=>{te.#s===w.pointerId?this._endDraw(w):te.#o?.delete(w.pointerId)},{signal:_}),window.addEventListener("pointercancel",w=>{te.#s===w.pointerId?this._currentParent.endDrawingSession():te.#o?.delete(w.pointerId)},{signal:_}),window.addEventListener("pointerdown",w=>{te.#r===w.pointerType&&((te.#o||=new Set).add(w.pointerId),te.#i.isCancellable()&&(te.#i.removeLastElement(),te.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:_}),window.addEventListener("contextmenu",Es,{signal:_}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:_}),r.addEventListener("touchmove",w=>{w.timeStamp===te.#c&&an(w)},{signal:_}),t.toggleDrawing(),e._editorUndoBar?.hide(),te.#i){t.drawLayer.updateProperties(this._currentDrawId,te.#i.startNew(a,l,p,m,h));return}e.updateUIForDefaultProperties(this),te.#i=this.createDrawerInstance(a,l,p,m,h),te.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(te.#a.toSVGProperties(),te.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(te.#c=-1,!te.#i)return;const{offsetX:e,offsetY:n,pointerId:s}=t;if(te.#s===s){if(te.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,te.#i.add(e,n)),te.#c=t.timeStamp,an(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,te.#i=null,te.#a=null,te.#r=null,te.#c=NaN),te.#n&&(te.#n.abort(),te.#n=null,te.#s=NaN,te.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,te.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=te.#i,s=this._currentDrawId,r=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(s,n.setLastElement(r))},undo:()=>{e.drawLayer.updateProperties(s,n.removeLastElement())},mustExec:!1,type:we.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(we.DRAW_STEP),!te.#i.isEmpty()){const{pageDimensions:[n,s],scale:r}=e,a=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:te.#i.getOutlines(n*r,s*r,r,this._INNER_MARGIN),drawingOptions:te.#a,mustBeCommitted:!t});return this._cleanup(!0),a}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,s,r,a){qe("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:l}}=e.viewport,u=this.deserializeDraw(a,l,s,r,this._INNER_MARGIN,t),d=await super.deserialize(t,e,n);return d.createDrawingOptions(t),d.#l({drawOutlines:u}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,n]=this.pageTranslation,[s,r]=this.pageDimensions;return this.#t.serialize([e,n,s,r],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Cht{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new sy;#l;#d;constructor(t,e,n,s,r,a){this.#l=n,this.#d=s,this.#n=r,this.#a=a,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:l,points:this.#s}],this.#t.set(l,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return Ht._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,s,r,a]=this.#t.subarray(2,6),l=t-r,u=e-a;return Math.hypot(this.#l*l,this.#d*u)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([r,a,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,s,r,a,t,e],0),this.#e.push(...Ht.createBezierPoints(n,s,r,a,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,s,r){this.#l=n,this.#d=s,this.#n=r,[t,e]=this.#h(t,e);const a=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const l=this.#i.at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),this.#i.push({line:a,points:this.#s}),this.#t.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:s}=this.#i[t];this.#e=n,this.#s=s,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=Ht.svgRound(this.#e[4]),e=Ht.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const s=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,s)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const s=Ht.svgRound(this.#e[10]),r=Ht.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${s} ${r}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let s=this.#o,r=this.#e.length;s<r;s+=6){const[a,l,u,d,h,p]=this.#e.slice(s,s+6).map(Ht.svgRound);n.push(`C${a} ${l} ${u} ${d} ${h} ${p}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,s){const r=this.#i.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#c.build(this.#i,t,e,n,this.#n,this.#a,s),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class sy extends Ht{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,e,n,s,r,a,l){this.#a=e,this.#s=n,this.#r=s,this.#o=r,this.#c=a,this.#i=l??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${Ht.svgRound(e[4])} ${Ht.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${Ht.svgRound(e[10])} ${Ht.svgRound(e[11])}`);continue}for(let n=6,s=e.length;n<s;n+=6){const[r,a,l,u,d,h]=e.subarray(n,n+6).map(Ht.svgRound);t.push(`C${r} ${a} ${l} ${u} ${d} ${h}`)}}return t.join("")}serialize([t,e,n,s],r){const a=[],l=[],[u,d,h,p]=this.#d();let m,v,_,w,S,x,C,L,j;switch(this.#o){case 0:j=Ht._rescale,m=t,v=e+s,_=n,w=-s,S=t+u*n,x=e+(1-d-p)*s,C=t+(u+h)*n,L=e+(1-d)*s;break;case 90:j=Ht._rescaleAndSwap,m=t,v=e,_=n,w=s,S=t+d*n,x=e+u*s,C=t+(d+p)*n,L=e+(u+h)*s;break;case 180:j=Ht._rescale,m=t+n,v=e,_=-n,w=s,S=t+(1-u-h)*n,x=e+d*s,C=t+(1-u)*n,L=e+(d+p)*s;break;case 270:j=Ht._rescaleAndSwap,m=t+n,v=e+s,_=-n,w=-s,S=t+(1-d-p)*n,x=e+(1-u-h)*s,C=t+(1-d)*n,L=e+(1-u)*s;break}for(const{line:R,points:D}of this.#n)a.push(j(R,m,v,_,w,r?new Array(R.length):null)),l.push(j(D,m,v,_,w,r?new Array(D.length):null));return{lines:a,points:l,rect:[S,x,C,L]}}static deserialize(t,e,n,s,r,{paths:{lines:a,points:l},rotation:u,thickness:d}){const h=[];let p,m,v,_,w;switch(u){case 0:w=Ht._rescale,p=-t/n,m=e/s+1,v=1/n,_=-1/s;break;case 90:w=Ht._rescaleAndSwap,p=-e/s,m=-t/n,v=1/s,_=1/n;break;case 180:w=Ht._rescale,p=t/n+1,m=-e/s,v=-1/n,_=1/s;break;case 270:w=Ht._rescaleAndSwap,p=e/s+1,m=t/n+1,v=-1/s,_=-1/n;break}if(!a){a=[];for(const x of l){const C=x.length;if(C===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(C===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const L=new Float32Array(3*(C-2));a.push(L);let[j,R,D,P]=x.subarray(0,4);L.set([NaN,NaN,NaN,NaN,j,R],0);for(let M=4;M<C;M+=2){const O=x[M],N=x[M+1];L.set(Ht.createBezierPoints(j,R,D,P,O,N),(M-2)*3),[j,R,D,P]=[D,P,O,N]}}}for(let x=0,C=a.length;x<C;x++)h.push({line:w(a[x].map(L=>L??NaN),p,m,v,_),points:w(l[x].map(L=>L??NaN),p,m,v,_)});const S=new this.prototype.constructor;return S.build(h,n,s,1,u,d,r),S}#l(t=this.#c){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,n,s]=this.#t,[r,a]=this.#l(0);return[t+r,e+a,n-2*r,s-2*a]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#n){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)$t.pointBoundingBox(s[l],s[l+1],t);continue}let r=s[4],a=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,p,m,v,_]=s.subarray(l,l+6);$t.bezierBoundingBox(r,a,d,h,p,m,v,_,t),r=v,a=_}}const[e,n]=this.#l();t[0]=_i(t[0]-e,0,1),t[1]=_i(t[1]-n,0,1),t[2]=_i(t[2]+e,0,1),t[3]=_i(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[s,r]=this.#l(),[a,l]=[s-e,r-n],u=this.#t;return u[0]-=a,u[1]-=l,u[2]+=2*a,u[3]+=2*l,u}updateParentDimensions([t,e],n){const[s,r]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[a,l]=this.#l(),u=a-s,d=l-r,h=this.#t;return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Ht.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,s=0,r=0,a=0,l=0,u=0;switch(this.#e){case 90:s=e/t,r=-t/e,l=t;break;case 180:n=-1,a=-1,l=t,u=e;break;case 270:s=-e/t,r=t/e,u=e;break;default:return""}return`matrix(${n} ${s} ${r} ${a} ${Ht.svgRound(l)} ${Ht.svgRound(u)})`}getPathResizingSVGProperties([t,e,n,s]){const[r,a]=this.#l(),[l,u,d,h]=this.#t;if(Math.abs(d-r)<=Ht.PRECISION||Math.abs(h-a)<=Ht.PRECISION){const w=t+n/2-(l+d/2),S=e+s/2-(u+h/2);return{path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(e)}`,transform:`${this.rotationTransform} translate(${w} ${S})`}}}const p=(n-2*r)/(d-2*r),m=(s-2*a)/(h-2*a),v=d/n,_=h/s;return{path:{"transform-origin":`${Ht.svgRound(l)} ${Ht.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${_}) translate(${Ht.svgRound(r)} ${Ht.svgRound(a)}) scale(${p} ${m}) translate(${Ht.svgRound(-r)} ${Ht.svgRound(-a)})`}}}getPathResizedSVGProperties([t,e,n,s]){const[r,a]=this.#l(),l=this.#t,[u,d,h,p]=l;if(l[0]=t,l[1]=e,l[2]=n,l[3]=s,Math.abs(h-r)<=Ht.PRECISION||Math.abs(p-a)<=Ht.PRECISION){const S=t+n/2-(u+h/2),x=e+s/2-(d+p/2);for(const{line:C,points:L}of this.#n)Ht._translate(C,S,x,C),Ht._translate(L,S,x,L);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(n-2*r)/(h-2*r),v=(s-2*a)/(p-2*a),_=-m*(u+r)+t+r,w=-v*(d+a)+e+a;if(m!==1||v!==1||_!==0||w!==0)for(const{line:S,points:x}of this.#n)Ht._rescale(S,_,w,m,v,S),Ht._rescale(x,_,w,m,v,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[s,r]=n,a=this.#t,l=t-a[0],u=e-a[1];if(this.#a===s&&this.#s===r)for(const{line:d,points:h}of this.#n)Ht._translate(d,l,u,d),Ht._translate(h,l,u,h);else{const d=this.#a/s,h=this.#s/r;this.#a=s,this.#s=r;for(const{line:p,points:m}of this.#n)Ht._rescale(p,l,u,d,h,p),Ht._rescale(m,l,u,d,h,m);a[2]*=d,a[3]*=h}return a[0]=t,a[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ht.svgRound(t)} ${Ht.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ht.svgRound(t[0])} ${Ht.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class V_ extends q6{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Xt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new V_(this._viewParameters);return t.updateAll(this),t}}class FR extends te{static _type="ink";static _editorType=ae.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Xt.initialize(t,e),this._defaultDrawingOptions=new V_(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return de(this,"typesMap",new Map([[we.INK_THICKNESS,"stroke-width"],[we.INK_COLOR,"stroke"],[we.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,s,r){return new Cht(t,e,n,s,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,s,r,a){return sy.deserialize(t,e,n,s,r,a)}static async deserialize(t,e,n){let s=null;if(t instanceof NR){const{data:{inkLists:a,rect:l,rotation:u,id:d,color:h,opacity:p,borderStyle:{rawWidth:m},popupRef:v,richText:_,contentsObj:w,creationDate:S,modificationDate:x},parent:{page:{pageNumber:C}}}=t;s=t={annotationType:ae.INK,color:Array.from(h),thickness:m,opacity:p,paths:{points:a},boxes:null,pageIndex:C-1,rect:l.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:v,richText:_,comment:w?.str||null,creationDate:S,modificationDate:x}}const r=await super.deserialize(t,e,n);return r._initialData=s,t.comment&&r.setCommentData(t),r}get toolbarButtons(){return this._colorPicker||=new Rm(this),[["colorPicker",this._colorPicker]]}get colorType(){return we.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=FR.getDefaultDrawingOptions({stroke:$t.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":r,"stroke-width":a}}=this,l=Object.assign(super.serialize(t),{color:Xt._colorManager.convert(s),opacity:r,thickness:a,paths:{lines:e,points:n}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!this.#t(l)?null:(l.id=this.annotationElementId,l)}#t(t){const{color:e,thickness:n,opacity:s,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,l)=>a!==e[l])||t.thickness!==n||t.opacity!==s||t.pageIndex!==r}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class u2 extends sy{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const u0=8,Np=3;class Mc{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,s){return n-=t,s-=e,n===0?s>0?0:4:n===1?s+6:2-s}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,s,r,a,l){const u=this.#e(n,s,r,a);for(let d=0;d<8;d++){const h=(-d+u-l+16)%8,p=this.#i[2*h],m=this.#i[2*h+1];if(t[(n+p)*e+(s+m)]!==0)return h}return-1}static#a(t,e,n,s,r,a,l){const u=this.#e(n,s,r,a);for(let d=0;d<8;d++){const h=(d+u+l+16)%8,p=this.#i[2*h],m=this.#i[2*h+1];if(t[(n+p)*e+(s+m)]!==0)return h}return-1}static#s(t,e,n,s){const r=t.length,a=new Int32Array(r);for(let h=0;h<r;h++)a[h]=t[h]<=s?1:0;for(let h=1;h<n-1;h++)a[h*e]=a[h*e+e-1]=0;for(let h=0;h<e;h++)a[h]=a[e*n-1-h]=0;let l=1,u;const d=[];for(let h=1;h<n-1;h++){u=1;for(let p=1;p<e-1;p++){const m=h*e+p,v=a[m];if(v===0)continue;let _=h,w=p;if(v===1&&a[m-1]===0)l+=1,w-=1;else if(v>=1&&a[m+1]===0)l+=1,w+=1,v>1&&(u=v);else{v!==1&&(u=Math.abs(v));continue}const S=[p,h],x=w===p+1,C={isHole:x,points:S,id:l,parent:0};d.push(C);let L;for(const H of d)if(H.id===u){L=H;break}L?L.isHole?C.parent=x?L.parent:u:C.parent=x?u:L.parent:C.parent=x?u:0;const j=this.#n(a,e,h,p,_,w,0);if(j===-1){a[m]=-l,a[m]!==1&&(u=Math.abs(a[m]));continue}let R=this.#i[2*j],D=this.#i[2*j+1];const P=h+R,M=p+D;_=P,w=M;let O=h,N=p;for(;;){const H=this.#a(a,e,O,N,_,w,1);R=this.#i[2*H],D=this.#i[2*H+1];const Q=O+R,G=N+D;S.push(G,Q);const J=O*e+N;if(a[J+1]===0?a[J]=-l:a[J]===1&&(a[J]=l),Q===h&&G===p&&O===P&&N===M){a[m]!==1&&(u=Math.abs(a[m]));break}else _=O,w=N,O=Q,N=G}}}return d}static#r(t,e,n,s){if(n-e<=4){for(let P=e;P<n-2;P+=2)s.push(t[P],t[P+1]);return}const r=t[e],a=t[e+1],l=t[n-4]-r,u=t[n-3]-a,d=Math.hypot(l,u),h=l/d,p=u/d,m=h*a-p*r,v=u/l,_=1/d,w=Math.atan(v),S=Math.cos(w),x=Math.sin(w),C=_*(Math.abs(S)+Math.abs(x)),L=_*(1-C+C**2),j=Math.max(Math.atan(Math.abs(x+S)*L),Math.atan(Math.abs(x-S)*L));let R=0,D=e;for(let P=e+2;P<n-2;P+=2){const M=Math.abs(m-h*t[P+1]+p*t[P]);M>R&&(D=P,R=M)}R>(d*j)**2?(this.#r(t,e,D+2,s),this.#r(t,D,n,s)):s.push(r,a)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,s,r,a){const l=new Float32Array(a**2),u=-2*s**2,d=a>>1;for(let w=0;w<a;w++){const S=(w-d)**2;for(let x=0;x<a;x++)l[w*a+x]=Math.exp((S+(x-d)**2)/u)}const h=new Float32Array(256),p=-2*r**2;for(let w=0;w<256;w++)h[w]=Math.exp(w**2/p);const m=t.length,v=new Uint8Array(m),_=new Uint32Array(256);for(let w=0;w<n;w++)for(let S=0;S<e;S++){const x=w*e+S,C=t[x];let L=0,j=0;for(let D=0;D<a;D++){const P=w+D-d;if(!(P<0||P>=n))for(let M=0;M<a;M++){const O=S+M-d;if(O<0||O>=e)continue;const N=t[P*e+O],H=l[D*a+M]*h[Math.abs(N-C)];L+=N*H,j+=H}}const R=v[x]=Math.round(L/j);_[R]++}return[v,_]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let s=-1/0,r=1/0;for(let l=0,u=n.length;l<u;l++){const d=n[l]=t[l<<2];s=Math.max(s,d),r=Math.min(r,d)}const a=255/(s-r);for(let l=0,u=n.length;l<u;l++)n[l]=(n[l]-r)*a;return n}static#h(t){let e,n=-1/0,s=-1/0;const r=t.findIndex(u=>u!==0);let a=r,l=r;for(e=r;e<256;e++){const u=t[e];u>n&&(e-a>s&&(s=e-a,l=e-1),n=u,a=e)}for(e=l-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:s}=t,{maxDim:r}=this.#t;let a=n,l=s;if(n>r||s>r){let m=n,v=s,_=Math.log2(Math.max(n,s)/r);const w=Math.floor(_);_=_===w?w-1:w;for(let x=0;x<_;x++){a=Math.ceil(m/2),l=Math.ceil(v/2);const C=new OffscreenCanvas(a,l);C.getContext("2d").drawImage(t,0,0,m,v,0,0,a,l),m=a,v=l,t!==e&&t.close(),t=C.transferToImageBitmap()}const S=Math.min(r/a,r/l);a=Math.round(a*S),l=Math.round(l*S)}const d=new OffscreenCanvas(a,l).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,l),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,a,l);const h=d.getImageData(0,0,a,l).data;return[this.#d(h),a,l]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:s},r,a,l,u){let d=new OffscreenCanvas(1,1),h=d.getContext("2d",{alpha:!1});const p=200,m=h.font=`${n} ${s} ${p}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:_,actualBoundingBoxAscent:w,actualBoundingBoxDescent:S,fontBoundingBoxAscent:x,fontBoundingBoxDescent:C,width:L}=h.measureText(t),j=1.5,R=Math.ceil(Math.max(Math.abs(v)+Math.abs(_)||0,L)*j),D=Math.ceil(Math.max(Math.abs(w)+Math.abs(S)||p,Math.abs(x)+Math.abs(C)||p)*j);d=new OffscreenCanvas(R,D),h=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,R,D),h.fillStyle="black",h.fillText(t,R*(j-1)/2,D*(3-j)/2);const P=this.#d(h.getImageData(0,0,R,D).data),M=this.#l(P),O=this.#h(M),N=this.#s(P,R,D,O);return this.processDrawnLines({lines:{curves:N,width:R,height:D},pageWidth:r,pageHeight:a,rotation:l,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(t,e,n,s,r){const[a,l,u]=this.#f(t),[d,h]=this.#c(a,l,u,Math.hypot(l,u)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),p=this.#h(h),m=this.#s(d,l,u,p);return this.processDrawnLines({lines:{curves:m,width:l,height:u},pageWidth:e,pageHeight:n,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:r,mustSmooth:a,areContours:l}){s%180!==0&&([e,n]=[n,e]);const{curves:u,width:d,height:h}=t,p=t.thickness??0,m=[],v=Math.min(e/d,n/h),_=v/e,w=v/n,S=[];for(const{points:C}of u){const L=a?this.#o(C):C;if(!L)continue;S.push(L);const j=L.length,R=new Float32Array(j),D=new Float32Array(3*(j===2?2:j-2));if(m.push({line:D,points:R}),j===2){R[0]=L[0]*_,R[1]=L[1]*w,D.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[P,M,O,N]=L;P*=_,M*=w,O*=_,N*=w,R.set([P,M,O,N],0),D.set([NaN,NaN,NaN,NaN,P,M],0);for(let H=4;H<j;H+=2){const Q=R[H]=L[H]*_,G=R[H+1]=L[H+1]*w;D.set(Ht.createBezierPoints(P,M,O,N,Q,G),(H-2)*3),[P,M,O,N]=[O,N,Q,G]}}if(m.length===0)return null;const x=l?new u2:new sy;return x.build(m,e,n,1,s,l?0:p,r),{outline:x,newCurves:S,areContours:l,thickness:p,width:d,height:h}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:s,height:r}){let a=1/0,l=-1/0,u=0;for(const L of t){u+=L.length;for(let j=2,R=L.length;j<R;j++){const D=L[j]-L[j-2];a=Math.min(a,D),l=Math.max(l,D)}}let d;a>=-128&&l<=127?d=Int8Array:a>=-32768&&l<=32767?d=Int16Array:d=Int32Array;const h=t.length,p=u0+Np*h,m=new Uint32Array(p);let v=0;m[v++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*h)*d.BYTES_PER_ELEMENT,m[v++]=0,m[v++]=s,m[v++]=r,m[v++]=e?0:1,m[v++]=Math.max(0,Math.floor(n??0)),m[v++]=h,m[v++]=d.BYTES_PER_ELEMENT;for(const L of t)m[v++]=L.length-2,m[v++]=L[0],m[v++]=L[1];const _=new CompressionStream("deflate-raw"),w=_.writable.getWriter();await w.ready,w.write(m);const S=d.prototype.constructor;for(const L of t){const j=new S(L.length-2);for(let R=2,D=L.length;R<D;R++)j[R-2]=L[R]-L[R-2];w.write(j)}w.close();const x=await new Response(_.readable).arrayBuffer(),C=new Uint8Array(x);return p6(C)}static async decompressSignature(t){try{const e=Zct(t),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let a=null,l=0;for await(const L of n)a||=new Uint8Array(new Uint32Array(L.buffer,0,4)[0]),a.set(L,l),l+=L.length;const u=new Uint32Array(a.buffer,0,a.length>>2),d=u[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const h=u[2],p=u[3],m=u[4]===0,v=u[5],_=u[6],w=u[7],S=[],x=(u0+Np*_)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(w){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(a.buffer,x);break}l=0;for(let L=0;L<_;L++){const j=u[Np*L+u0],R=new Float32Array(j+2);S.push(R);for(let D=0;D<Np-1;D++)R[D]=u[Np*L+u0+D+1];for(let D=0;D<j;D++)R[D+2]=R[D]+C[l++]}return{areContours:m,thickness:v,outlines:S,width:h,height:p}}catch(e){return le(`decompressSignature: ${e}`),null}}}class jR extends q6{constructor(){super(),super.updateProperties({fill:Xt._defaultLineColor,"stroke-width":0})}clone(){const t=new jR;return t.updateAll(this),t}}class BR extends V_{constructor(t){super(t),super.updateProperties({stroke:Xt._defaultLineColor,"stroke-width":1})}clone(){const t=new BR(this._viewParameters);return t.updateAll(this),t}}class zr extends te{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=ae.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Xt.initialize(t,e),this._defaultDrawingOptions=new jR,this._defaultDrawnSignatureOptions=new BR(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return de(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:s,mustSmooth:r,areContours:a,description:l,uuid:u,heightInPage:d}=this.#i,{rawDims:{pageWidth:h,pageHeight:p},rotation:m}=this.parent.viewport,v=Mc.processDrawnLines({lines:s,pageWidth:h,pageHeight:p,rotation:m,innerMargin:zr._INNER_MARGIN,mustSmooth:r,areContours:a});this.addSignature(v,d,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:s,height:r}=this.#i,a=Math.max(s,r),l=Mc.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:n,width:s,height:r},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,s){const{x:r,y:a}=this,{outline:l}=this.#i=t;this.#t=l instanceof u2,this.description=n;let u;this.#t?u=zr.getDefaultDrawingOptions():(u=zr._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,d]=this.pageDimensions;let h=e/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=r,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Mc.process(t,e,n,s,zr._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:s},rotation:r}=this.parent.viewport;return Mc.extractContoursFromText(t,e,n,s,r,zr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Mc.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:zr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=zr.getDefaultDrawingOptions():(this._drawingOptions=zr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,r=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s});return this.addComment(r),t?(r.paths={lines:e,points:n},r.uuid=this.#n,r.isCopy=!0):r.lines=e,this.#e&&(r.accessibilityData={type:"Figure",alt:this.#e}),r}static deserializeDraw(t,e,n,s,r,a){return a.areContours?u2.deserialize(t,e,n,s,r,a):sy.deserialize(t,e,n,s,r,a)}static async deserialize(t,e,n){const s=await super.deserialize(t,e,n);return s.#t=t.areContours,s.description=t.accessibilityData?.alt||"",s.#n=t.uuid,s}}class kht extends Xt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=ae.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Xt.initialize(t,e)}static isHandlingMimeForPasting(t){return U1.includes(t)}static paste(t,e){e.pasteEditor({mode:ae.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:r,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await n.guess({name:"altText",request:{data:s,width:r,height:a,channels:s.length/(r*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),e&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#h(s)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(s=>this.#h(s)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=U1.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(s)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,s&&(this.#t=s),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[s,r]=this.pageDimensions,a=.75;if(this.width)e=this.width*s,n=this.height*r;else if(e>a*s||n>a*r){const u=Math.min(a*s/e,a*r/n);e*=u,n*=u}this._uiManager.enableWaiting(!1);const l=this.#r=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),this.width=e/s,this.height=n/r,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:s,height:r}=this.#t,a=new gr;let l=this.#t,u=s,d=r,h=null;if(e){if(s>e||r>e){const D=Math.min(e/s,e/r);u=Math.floor(s*D),d=Math.floor(r*D)}h=document.createElement("canvas");const m=h.width=Math.ceil(u*a.sx),v=h.height=Math.ceil(d*a.sy);this.#l||(l=this.#u(m,v));const _=h.getContext("2d");_.filter=this._uiManager.hcmFilter;let w="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":eut.isDarkMode&&(w="#8f8f9d",S="#42414d");const x=15,C=x*a.sx,L=x*a.sy,j=new OffscreenCanvas(C*2,L*2),R=j.getContext("2d");R.fillStyle=w,R.fillRect(0,0,C*2,L*2),R.fillStyle=S,R.fillRect(0,0,C,L),R.fillRect(C,L,C,L),_.fillStyle=_.createPattern(j,"repeat"),_.fillRect(0,0,m,v),_.drawImage(l,0,0,l.width,l.height,0,0,m,v)}let p=null;if(n){let m,v;if(a.symmetric&&l.width<t&&l.height<t)m=l.width,v=l.height;else if(l=this.#t,s>t||r>t){const S=Math.min(t/s,t/r);m=Math.floor(s*S),v=Math.floor(r*S),this.#l||(l=this.#u(m,v))}const w=new OffscreenCanvas(m,v).getContext("2d",{willReadFrequently:!0});w.drawImage(l,0,0,l.width,l.height,0,0,m,v),p={width:m,height:v,data:w.getImageData(0,0,m,v).data}}return{canvas:h,width:u,height:d,imageData:p}}#u(t,e){const{width:n,height:s}=this.#t;let r=n,a=s,l=this.#t;for(;r>2*t||a>2*e;){const u=r,d=a;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(r,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,r,a),l=h.transferToImageBitmap()}return l}#g(){const[t,e]=this.parentDimensions,{width:n,height:s}=this,r=new gr,a=Math.ceil(n*t*r.sx),l=Math.ceil(s*e*r.sy),u=this.#r;if(!u||u.width===a&&u.height===l)return;u.width=a,u.height=l;const d=this.#l?this.#t:this.#u(a,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,a,l)}#y(t){if(t){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#e);if(s)return s}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,s=Math.round(this.width*e*lu.PDF_TO_CSS_UNITS),r=Math.round(this.height*n*lu.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,r);return a.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,s,r),a.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let s=null,r=!1;if(t instanceof W6){const{data:{rect:w,rotation:S,id:x,structParent:C,popupRef:L,richText:j,contentsObj:R,creationDate:D,modificationDate:P},container:M,parent:{page:{pageNumber:O}},canvas:N}=t;let H,Q;N?(delete t.canvas,{id:H,bitmap:Q}=n.imageManager.getFromCanvas(M.id,N),N.remove()):(r=!0,t._hasNoCanvas=!0);const G=(await e._structTree.getAriaAttributes(`${_R}${x}`))?.get("aria-label")||"";s=t={annotationType:ae.STAMP,bitmapId:H,bitmap:Q,pageIndex:O-1,rect:w.slice(0),rotation:S,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:C,popupRef:L,richText:j,comment:R?.str||null,creationDate:D,modificationDate:P}}const a=await super.deserialize(t,e,n),{rect:l,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:p,accessibilityData:m}=t;r?(n.addMissingCanvas(t.id,a),a.#o=!0):h&&n.imageManager.isValidId(h)?(a.#e=h,u&&(a.#t=u)):a.#n=d,a.#l=p;const[v,_]=a.pageDimensions;return a.width=(l[2]-l[0])/v,a.height=(l[3]-l[1])/_,m&&(a.altTextData=m),a._initialData=s,t.comment&&a.setCommentData(t),a.#d=!!s,a}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:r}=this.serializeAltText(!1);if(!s&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const l=this.#b(n);return l.isSame?null:(l.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const a=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:a,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const l=e.stamps.get(this.#e);a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=this.#y(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,s=t.pageIndex===e,r=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&r,isSameAltText:r}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Xr{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#m=null;#p=-1;#u;static _initialized=!1;static#g=new Map([Hn,FR,kht,gn,zr].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:l,textLayer:u,viewport:d,l10n:h}){const p=[...Xr.#g.values()];if(!Xr._initialized){Xr._initialized=!0;for(const m of p)m.initialize(h,t)}t.registerEditorTypes(p),this.#u=t,this.pageIndex=e,this.div=n,this.#t=r,this.#i=a,this.viewport=d,this.#h=u,this.drawLayer=l,this._structTree=s,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===ae.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#w(),t){case ae.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===ae.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of Xr.#g.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const n=this.#u.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:a,clientY:l,timeStamp:u}=s,d=this.#p;if(u-d>500){this.#p=u;return}this.#p=-1;const{classList:h}=this.div;h.toggle("getElements",!0);const p=document.elementsFromPoint(a,l);if(h.toggle("getElements",!1),!this.div.contains(p[0]))return;let m;const v=new RegExp(`^${Em}[0-9]+$`);for(const w of p)if(v.test(w.id)){m=w.id;break}if(!m)return;const _=this.#s.get(m);_?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),_.dblclick(s))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,s=new Map;for(const a of this.#y){if(a.disableEditing(),!a.annotationElementId){a.updateFakeAnnotationElement(t);continue}if(a.serialize()!==null){n.set(a.annotationElementId,a);continue}else s.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}const r=t.getEditableAnnotations();for(const a of r){const{id:l}=a.data;if(this.#u.isDeletedAnnotationElement(l)){a.updateEdited({deleted:!0});continue}let u=s.get(l);if(u){u.resetAnnotationElement(a),u.show(!1),a.show();continue}u=n.get(l),u&&(this.#u.addChangedExistingAnnotation(u),u.renderAnnotationElement(a)&&u.show(!1)),a.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of Xr.#g.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=Yn.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),gn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),Xt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return Xr.#g.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#E(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:s}=this.#S(),r=this.getNextId(),a=this.#E({parent:this,id:r,x:n,y:s,uiManager:this.#u,isCentered:!0,...e});a&&this.add(a)}async deserialize(t){return await Xr.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),r=this.#E({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}#S(){const{x:t,y:e,width:n,height:s}=this.boundingClientRect,r=Math.max(0,t),a=Math.max(0,e),l=Math.min(window.innerWidth,t+n),u=Math.min(window.innerHeight,e+s),d=(r+l)/2-t,h=(a+u)/2-e,[p,m]=this.viewport.rotation%180===0?[d,h]:[h,d];return{offsetX:p,offsetY:m}}addNewEditor(t={}){this.createAndAddNewEditor(this.#S(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Yn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===ae.STAMP||n===ae.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=Yn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const s=this.#u.findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#w(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,_l(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#w();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,_l(this.div,{rotation:n}),e!==n)for(const s of this.#s.values())s.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class $n{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return de(this,"_svgFactory",new Mm)}static#a(t,[e,n,s,r]){const{style:a}=t;a.top=`${100*n}%`,a.left=`${100*e}%`,a.width=`${100*s}%`,a.height=`${100*r}%`}#s(){const t=$n._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=$n._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const r=$n._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),s}#o(t,e){for(const[n,s]of Object.entries(e))s===null?t.removeAttribute(n):t.setAttribute(n,s)}draw(t,e=!1,n=!1){const s=$n.#n++,r=this.#s(),a=$n._svgFactory.createElement("defs");r.append(a);const l=$n._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",u),l.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(s,l);const d=n?this.#r(a,u):null,h=$n._svgFactory.createElement("use");return r.append(h),h.setAttribute("href",`#${u}`),this.updateProperties(r,t),this.#e.set(s,r),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const n=$n.#n++,s=this.#s(),r=$n._svgFactory.createElement("defs");s.append(r);const a=$n._svgFactory.createElement("path");r.append(a);const l=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke");let u;if(e){const p=$n._svgFactory.createElement("mask");r.append(p),u=`mask_p${this.pageIndex}_${n}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const m=$n._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const v=$n._svgFactory.createElement("use");p.append(v),v.setAttribute("href",`#${l}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=$n._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${l}`),u&&d.setAttribute("mask",`url(#${u})`);const h=d.cloneNode();return s.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,t),this.#e.set(n,s),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:s,rootClass:r,path:a}=e,l=typeof t=="number"?this.#e.get(t):t;if(l){if(n&&this.#o(l,n),s&&$n.#a(l,s),r){const{classList:u}=l;for(const[d,h]of Object.entries(r))u.toggle(d,h)}if(a){const d=l.firstChild.firstChild;this.#o(d,a)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:l2};globalThis.pdfjsLib={AbortException:oo,AnnotationEditorLayer:Xr,AnnotationEditorParamsType:we,AnnotationEditorType:ae,AnnotationEditorUIManager:lo,AnnotationLayer:IR,AnnotationMode:ta,AnnotationType:pn,applyOpacity:b6,build:B6,ColorPicker:bs,createValidAbsoluteUrl:vR,CSSConstants:v6,DOMSVGFactory:Mm,DrawLayer:$n,FeatureTest:Yn,fetchData:uf,findContrastColor:w6,getDocument:MR,getFilenameFromUrl:g6,getPdfFilenameFromUrl:m6,getRGB:hf,getUuid:wR,getXfaPageViewport:y6,GlobalWorkerOptions:vl,ImageKind:mm,InvalidPDFException:B1,isDataScheme:ty,isPdfFile:$_,isValidExplicitDest:x6,MathClamp:_i,noContextMenu:Es,normalizeUnicode:f6,OPS:Qd,OutputScale:gr,PasswordResponses:h6,PDFDataRangeTransport:OR,PDFDateString:z1,PDFWorker:Zd,PermissionFlag:u6,PixelsPerInch:lu,RenderingCancelledException:H_,renderRichText:SR,ResponseException:Tm,setLayerDimensions:_l,shadow:de,SignatureExtractor:Mc,stopEvent:an,SupportedImageMimeTypes:U1,TextLayer:km,TouchManager:ny,updateUrlHash:bR,Util:$t,VerbosityLevel:Qm,version:PR,XfaLayer:AR};const Rht=Object.freeze(Object.defineProperty({__proto__:null,AbortException:oo,AnnotationEditorLayer:Xr,AnnotationEditorParamsType:we,AnnotationEditorType:ae,AnnotationEditorUIManager:lo,AnnotationLayer:IR,AnnotationMode:ta,AnnotationType:pn,CSSConstants:v6,ColorPicker:bs,DOMSVGFactory:Mm,DrawLayer:$n,FeatureTest:Yn,GlobalWorkerOptions:vl,ImageKind:mm,InvalidPDFException:B1,MathClamp:_i,OPS:Qd,OutputScale:gr,PDFDataRangeTransport:OR,PDFDateString:z1,PDFWorker:Zd,PasswordResponses:h6,PermissionFlag:u6,PixelsPerInch:lu,RenderingCancelledException:H_,ResponseException:Tm,SignatureExtractor:Mc,SupportedImageMimeTypes:U1,TextLayer:km,TouchManager:ny,Util:$t,VerbosityLevel:Qm,XfaLayer:AR,applyOpacity:b6,build:B6,createValidAbsoluteUrl:vR,fetchData:uf,findContrastColor:w6,getDocument:MR,getFilenameFromUrl:g6,getPdfFilenameFromUrl:m6,getRGB:hf,getUuid:wR,getXfaPageViewport:y6,isDataScheme:ty,isPdfFile:$_,isValidExplicitDest:x6,noContextMenu:Es,normalizeUnicode:f6,renderRichText:SR,setLayerDimensions:_l,shadow:de,stopEvent:an,updateUrlHash:bR,version:PR},Symbol.toStringTag,{value:"Module"}));var xF=Object.prototype.hasOwnProperty;function EF(i,t,e){for(e of i.keys())if(jd(e,t))return e}function jd(i,t){var e,n,s;if(i===t)return!0;if(i&&t&&(e=i.constructor)===t.constructor){if(e===Date)return i.getTime()===t.getTime();if(e===RegExp)return i.toString()===t.toString();if(e===Array){if((n=i.length)===t.length)for(;n--&&jd(i[n],t[n]););return n===-1}if(e===Set){if(i.size!==t.size)return!1;for(n of i)if(s=n,s&&typeof s=="object"&&(s=EF(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(i.size!==t.size)return!1;for(n of i)if(s=n[0],s&&typeof s=="object"&&(s=EF(t,s),!s)||!jd(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)i=new Uint8Array(i),t=new Uint8Array(t);else if(e===DataView){if((n=i.byteLength)===t.byteLength)for(;n--&&i.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(i)){if((n=i.byteLength)===t.byteLength)for(;n--&&i[n]===t[n];);return n===-1}if(!e||typeof i=="object"){n=0;for(e in i)if(xF.call(i,e)&&++n&&!xF.call(t,e)||!(e in t)||!jd(i[e],t[e]))return!1;return Object.keys(t).length===n}}return i!==i&&t!==t}function ry(i){let t=!1;return{promise:new Promise((n,s)=>{i.then(r=>!t&&n(r)).catch(r=>!t&&s(r))}),cancel(){t=!0}}}const Mht=["onCopy","onCut","onPaste"],Lht=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Oht=["onFocus","onBlur"],Pht=["onInput","onInvalid","onReset","onSubmit"],Dht=["onLoad","onError"],Nht=["onKeyDown","onKeyPress","onKeyUp"],Iht=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Fht=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],jht=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Bht=["onSelect"],zht=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Uht=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Hht=["onScroll"],$ht=["onWheel"],Wht=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Vht=["onTransitionEnd"],Ght=["onToggle"],qht=["onChange"],Yht=[...Mht,...Lht,...Oht,...Pht,...Dht,...Nht,...Iht,...Fht,...jht,...Bht,...zht,...Uht,...Hht,...$ht,...Wht,...Vht,...qht,...Ght];function Y6(i,t){const e={};for(const n of Yht){const s=i[n];s&&(t?e[n]=(r=>s(r,t(n))):e[n]=s)}return e}var Xht="Invariant failed";function Ve(i,t){if(!i)throw new Error(Xht)}var PE,TF;function Kht(){if(TF)return PE;TF=1;var i=function(){};return PE=i,PE}var Qht=Kht();const Ei=W1(Qht),X6=V.createContext(null),Zht="noopener noreferrer nofollow";class Jht{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ve(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Ve(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||Zht,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{Ve(this.pdfDocument),Ve(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Ve(Array.isArray(e));const n=e[0];new Promise(s=>{Ve(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(r=>{s(r)}).catch(()=>{Ve(!1)}):typeof n=="number"?s(n):Ve(!1)}).then(s=>{const r=s+1;Ve(this.pdfViewer),Ve(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:r})})})}goToPage(t){const e=t-1;Ve(this.pdfViewer),Ve(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Bd({children:i,type:t}){return F.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:i})}const CF={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function tdt(i,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return i}}function Jd(){return V.useReducer(tdt,{value:void 0,error:void 0})}const G_=typeof window<"u",K6=G_&&window.location.protocol==="file:";function edt(i){return typeof i<"u"}function ec(i){return edt(i)&&i!==null}function ndt(i){return typeof i=="string"}function idt(i){return i instanceof ArrayBuffer}function sdt(i){return Ve(G_),i instanceof Blob}function h2(i){return ndt(i)&&/^data:/.test(i)}function kF(i){Ve(h2(i));const[t="",e=""]=i.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function rdt(){return G_&&window.devicePixelRatio||1}const Q6="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function RF(){Ei(!K6,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Q6}`)}function adt(){Ei(!K6,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Q6}`)}function uu(i){i?.cancel&&i.cancel()}function d2(i,t){return Object.defineProperty(i,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(i,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(i,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(i,"originalHeight",{get(){return this.view[3]},configurable:!0}),i}function odt(i){return i.name==="RenderingCancelledException"}function ldt(i){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:r}=s.target;if(!r)return e(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(i)})}const{PDFDataRangeTransport:cdt}=Rht,udt=(i,t)=>{switch(t){case CF.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");i(e);break}case CF.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");i(e);break}}};function MF(i){return typeof i=="object"&&i!==null&&("data"in i||"range"in i||"url"in i)}const hdt=V.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:r,file:a,inputRef:l,imageResourcesPath:u,loading:d="Loading PDF",noData:h="No PDF file specified.",onItemClick:p,onLoadError:m,onLoadProgress:v,onLoadSuccess:_,onPassword:w=udt,onSourceError:S,onSourceSuccess:x,options:C,renderMode:L,rotate:j,scale:R,...D},P){const[M,O]=Jd(),{value:N,error:H}=M,[Q,G]=Jd(),{value:J,error:nt}=Q,$=V.useRef(new Jht),T=V.useRef([]),ct=V.useRef(void 0),Z=V.useRef(void 0);a&&a!==ct.current&&MF(a)&&(Ei(!jd(a,ct.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ct.current=a),C&&C!==Z.current&&(Ei(!jd(C,Z.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Z.current=C);const k=V.useRef({scrollPageIntoView:Et=>{const{dest:Pt,pageNumber:Ot,pageIndex:Rt=Ot-1}=Et;if(p){p({dest:Pt,pageIndex:Rt,pageNumber:Ot});return}const Nt=T.current[Rt];if(Nt){Nt.scrollIntoView();return}Ei(!1,`An internal link leading to page ${Ot} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});V.useImperativeHandle(P,()=>({linkService:$,pages:T,viewer:k}),[]);function W(){x&&x()}function K(){H&&(Ei(!1,H.toString()),S&&S(H))}function et(){O({type:"RESET"})}V.useEffect(et,[a,O]);const st=V.useCallback(async()=>{if(!a)return null;if(typeof a=="string")return h2(a)?{data:kF(a)}:(RF(),{url:a});if(a instanceof cdt)return{range:a};if(idt(a))return{data:a};if(G_&&sdt(a))return{data:await ldt(a)};if(Ve(typeof a=="object"),Ve(MF(a)),"url"in a&&typeof a.url=="string"){if(h2(a.url)){const{url:Et,...Pt}=a;return{data:kF(Et),...Pt}}RF()}return a},[a]);V.useEffect(()=>{const Et=ry(st());return Et.promise.then(Pt=>{O({type:"RESOLVE",value:Pt})}).catch(Pt=>{O({type:"REJECT",error:Pt})}),()=>{uu(Et)}},[st,O]),V.useEffect(()=>{if(!(typeof N>"u")){if(N===!1){K();return}W()}},[N]);function ut(){J&&(_&&_(J),T.current=new Array(J.numPages),$.current.setDocument(J))}function lt(){nt&&(Ei(!1,nt.toString()),m&&m(nt))}V.useEffect(function(){G({type:"RESET"})},[G,N]),V.useEffect(function(){if(!N)return;const Pt=C?{...N,...C}:N,Ot=MR(Pt);v&&(Ot.onProgress=v),w&&(Ot.onPassword=w);const Rt=Ot,Nt=Rt.promise.then(qt=>{G({type:"RESOLVE",value:qt})}).catch(qt=>{Rt.destroyed||G({type:"REJECT",error:qt})});return()=>{Nt.finally(()=>Rt.destroy())}},[C,G,N]),V.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){lt();return}ut()}},[J]),V.useEffect(function(){$.current.setViewer(k.current),$.current.setExternalLinkRel(s),$.current.setExternalLinkTarget(r)},[s,r]);const ft=V.useCallback((Et,Pt)=>{T.current[Et]=Pt},[]),Ct=V.useCallback(Et=>{delete T.current[Et]},[]),_t=V.useMemo(()=>({imageResourcesPath:u,linkService:$.current,onItemClick:p,pdf:J,registerPage:ft,renderMode:L,rotate:j,scale:R,unregisterPage:Ct}),[u,p,J,ft,L,j,R,Ct]),St=V.useMemo(()=>Y6(D,()=>J),[D,J]);function It(){function Et(Ot){return!!Ot?.pdf}if(!Et(_t))throw new Error("pdf is undefined");const Pt=typeof t=="function"?t(_t):t;return F.jsx(X6.Provider,{value:_t,children:Pt})}function Ft(){return a?J==null?F.jsx(Bd,{type:"loading",children:typeof d=="function"?d():d}):J===!1?F.jsx(Bd,{type:"error",children:typeof n=="function"?n():n}):It():F.jsx(Bd,{type:"no-data",children:typeof h=="function"?h():h})}return F.jsx("div",{className:hr("react-pdf__Document",e),ref:l,...St,children:Ft()})});function Z6(){return V.useContext(X6)}function J6(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=i.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(r){for(var a=0,l=e;a<l.length;a++){var u=l[a];typeof u=="function"?u(r):u&&(u.current=r)}}}const tz=V.createContext(null);function q_(){return V.useContext(tz)}function ddt(){const i=Z6(),t=q_();Ve(t);const e={...i,...t},{imageResourcesPath:n,linkService:s,onGetAnnotationsError:r,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:u,page:d,pdf:h,renderForms:p,rotate:m,scale:v=1}=e;Ve(h),Ve(d),Ve(s);const[_,w]=Jd(),{value:S,error:x}=_,C=V.useRef(null);Ei(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function L(){S&&a&&a(S)}function j(){x&&(Ei(!1,x.toString()),r&&r(x))}V.useEffect(function(){w({type:"RESET"})},[w,d]),V.useEffect(function(){if(!d)return;const O=ry(d.getAnnotations()),N=O;return O.promise.then(H=>{w({type:"RESOLVE",value:H})}).catch(H=>{w({type:"REJECT",error:H})}),()=>{uu(N)}},[w,d]),V.useEffect(()=>{if(S!==void 0){if(S===!1){j();return}L()}},[S]);function R(){u&&u()}function D(M){Ei(!1,`${M}`),l&&l(M)}const P=V.useMemo(()=>d.getViewport({scale:v,rotation:m}),[d,m,v]);return V.useEffect(function(){if(!h||!d||!s||!S)return;const{current:O}=C;if(!O)return;const N=P.clone({dontFlip:!0}),H={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:h.annotationStorage,commentManager:null,div:O,l10n:null,linkService:s,page:d,structTreeLayer:null,viewport:N},Q={annotations:S,annotationStorage:h.annotationStorage,div:O,imageResourcesPath:n,linkService:s,page:d,renderForms:p,viewport:N};O.innerHTML="";try{new IR(H).render(Q),R()}catch(G){D(G)}return()=>{}},[S,n,s,d,h,p,P]),F.jsx("div",{className:hr("react-pdf__Page__annotations","annotationLayer"),ref:C})}const ez={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},fdt=/^H(\d+)$/;function pdt(i){return i in ez}function Y_(i){return"children"in i}function nz(i){return Y_(i)?i.children.length===1&&0 in i.children&&"id"in i.children[0]:!1}function gdt(i){const t={};if(Y_(i)){const{role:e}=i,n=e.match(fdt);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(pdt(e)){const s=ez[e];s&&(t.role=s)}}return t}function iz(i){const t={};if(Y_(i)){if(i.alt!==void 0&&(t["aria-label"]=i.alt),i.lang!==void 0&&(t.lang=i.lang),nz(i)){const[e]=i.children;if(e){const n=iz(e);return{...t,...n}}}}else"id"in i&&(t["aria-owns"]=i.id);return t}function mdt(i){return i?{...gdt(i),...iz(i)}:null}function sz({className:i,node:t}){const e=V.useMemo(()=>mdt(t),[t]),n=V.useMemo(()=>!Y_(t)||nz(t)?null:t.children.map((s,r)=>F.jsx(sz,{node:s},r)),[t]);return F.jsx("span",{className:i,...e,children:n})}function ydt(){const i=q_();Ve(i);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=i,[n,s]=Jd(),{value:r,error:a}=n,{customTextRenderer:l,page:u}=i;function d(){r&&e&&e(r)}function h(){a&&(Ei(!1,a.toString()),t&&t(a))}return V.useEffect(function(){s({type:"RESET"})},[s,u]),V.useEffect(function(){if(l||!u)return;const m=ry(u.getStructTree()),v=m;return m.promise.then(_=>{s({type:"RESOLVE",value:_})}).catch(_=>{s({type:"REJECT",error:_})}),()=>uu(v)},[l,u,s]),V.useEffect(()=>{if(r!==void 0){if(r===!1){h();return}d()}},[r]),r?F.jsx(sz,{className:"react-pdf__Page__structTree structTree",node:r}):null}const LF=ta;function vdt(i){const t=q_();Ve(t);const e={...t,...i},{_className:n,canvasBackground:s,devicePixelRatio:r=rdt(),onRenderError:a,onRenderSuccess:l,page:u,renderForms:d,renderTextLayer:h,rotate:p,scale:m}=e,{canvasRef:v}=i;Ve(u);const _=V.useRef(null);function w(){u&&l&&l(d2(u,m))}function S(j){odt(j)||(Ei(!1,j.toString()),a&&a(j))}const x=V.useMemo(()=>u.getViewport({scale:m*r,rotation:p}),[r,u,p,m]),C=V.useMemo(()=>u.getViewport({scale:m,rotation:p}),[u,p,m]);V.useEffect(function(){if(!u)return;u.cleanup();const{current:R}=_;if(!R)return;R.width=x.width,R.height=x.height,R.style.width=`${Math.floor(C.width)}px`,R.style.height=`${Math.floor(C.height)}px`,R.style.visibility="hidden";const D={annotationMode:d?LF.ENABLE_FORMS:LF.ENABLE,canvas:R,canvasContext:R.getContext("2d",{alpha:!1}),viewport:x};s&&(D.background=s);const P=u.render(D),M=P;return P.promise.then(()=>{R.style.visibility="",w()}).catch(S),()=>uu(M)},[s,u,d,x,C]);const L=V.useCallback(()=>{const{current:j}=_;j&&(j.width=0,j.height=0)},[]);return V.useEffect(()=>L,[L]),F.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:J6(v,_),style:{display:"block",userSelect:"none"},children:h?F.jsx(ydt,{}):null})}function bdt(i){return"str"in i}function wdt(){const i=q_();Ve(i);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:r,page:a,pageIndex:l,pageNumber:u,rotate:d,scale:h}=i;Ve(a);const[p,m]=Jd(),{value:v,error:_}=p,w=V.useRef(null);Ei(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){v&&n&&n(v)}function x(){_&&(Ei(!1,_.toString()),e&&e(_))}V.useEffect(function(){m({type:"RESET"})},[a,m]),V.useEffect(function(){if(!a)return;const M=ry(a.getTextContent()),O=M;return M.promise.then(N=>{m({type:"RESOLVE",value:N})}).catch(N=>{m({type:"REJECT",error:N})}),()=>uu(O)},[a,m]),V.useEffect(()=>{if(v!==void 0){if(v===!1){x();return}S()}},[v]);const C=V.useCallback(()=>{r&&r()},[r]),L=V.useCallback(P=>{Ei(!1,P.toString()),s&&s(P)},[s]);function j(){const P=w.current;P&&P.classList.add("selecting")}function R(){const P=w.current;P&&P.classList.remove("selecting")}const D=V.useMemo(()=>a.getViewport({scale:h,rotation:d}),[a,d,h]);return V.useLayoutEffect(function(){if(!a||!v)return;const{current:M}=w;if(!M)return;M.innerHTML="";const O=a.streamTextContent({includeMarkedContent:!0}),N={container:M,textContentSource:O,viewport:D},H=new km(N),Q=H;return H.render().then(()=>{const G=document.createElement("div");G.className="endOfContent",M.append(G);const J=M.querySelectorAll('[role="presentation"]');if(t){let nt=0;v.items.forEach(($,T)=>{if(!bdt($))return;const ct=J[nt];if(!ct)return;const Z=t({pageIndex:l,pageNumber:u,itemIndex:T,...$});ct.innerHTML=Z,nt+=$.str&&$.hasEOL?2:1})}C()}).catch(L),()=>uu(Q)},[t,L,C,a,l,u,v,D]),F.jsx("div",{className:hr("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:j,ref:w})}const OF=1;function _dt(i){const e={...Z6(),...i},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:r,canvasRef:a,children:l,className:u,customRenderer:d,customTextRenderer:h,devicePixelRatio:p,error:m="Failed to load the page.",height:v,inputRef:_,loading:w="Loading page",noData:S="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:C,onGetStructTreeError:L,onGetStructTreeSuccess:j,onGetTextError:R,onGetTextSuccess:D,onLoadError:P,onLoadSuccess:M,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:N,onRenderError:H,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:J,pageIndex:nt,pageNumber:$,pdf:T,registerPage:ct,renderAnnotationLayer:Z=!0,renderForms:k=!1,renderMode:W="canvas",renderTextLayer:K=!0,rotate:et,scale:st=OF,unregisterPage:ut,width:lt,...ft}=e,[Ct,_t]=Jd(),{value:St,error:It}=Ct,Ft=V.useRef(null);Ve(T);const Et=ec($)?$-1:nt??null,Pt=$??(ec(nt)?nt+1:null),Ot=et??(St?St.rotate:null),Rt=V.useMemo(()=>{if(!St)return null;let Bt=1;const Ut=st??OF;if(lt||v){const ne=St.getViewport({scale:1,rotation:Ot});lt?Bt=lt/ne.width:v&&(Bt=v/ne.height)}return Ut*Bt},[v,St,Ot,st,lt]);V.useEffect(function(){return()=>{ec(Et)&&s&&ut&&ut(Et)}},[s,T,Et,ut]);function Nt(){if(M){if(!St||!Rt)return;M(d2(St,Rt))}if(s&&ct){if(!ec(Et)||!Ft.current)return;ct(Et,Ft.current)}}function qt(){It&&(Ei(!1,It.toString()),P&&P(It))}V.useEffect(function(){_t({type:"RESET"})},[_t,T,Et]),V.useEffect(function(){if(!T||!Pt)return;const Ut=ry(T.getPage(Pt)),ne=Ut;return Ut.promise.then(E=>{_t({type:"RESOLVE",value:E})}).catch(E=>{_t({type:"REJECT",error:E})}),()=>uu(ne)},[_t,T,Pt]),V.useEffect(()=>{if(St!==void 0){if(St===!1){qt();return}Nt()}},[St,Rt]);const Qt=V.useMemo(()=>ec(Et)&&Pt&&ec(Ot)&&ec(Rt)?{_className:n,canvasBackground:r,customTextRenderer:h,devicePixelRatio:p,onGetAnnotationsError:x,onGetAnnotationsSuccess:C,onGetStructTreeError:L,onGetStructTreeSuccess:j,onGetTextError:R,onGetTextSuccess:D,onRenderAnnotationLayerError:O,onRenderAnnotationLayerSuccess:N,onRenderError:H,onRenderSuccess:Q,onRenderTextLayerError:G,onRenderTextLayerSuccess:J,page:St,pageIndex:Et,pageNumber:Pt,renderForms:k,renderTextLayer:K,rotate:Ot,scale:Rt}:null,[n,r,h,p,x,C,L,j,R,D,O,N,H,Q,G,J,St,Et,Pt,k,K,Ot,Rt]),tt=V.useMemo(()=>Y6(ft,()=>St&&(Rt?d2(St,Rt):void 0)),[ft,St,Rt]),ot=`${Et}@${Rt}/${Ot}`;function pt(){switch(W){case"custom":return Ve(d),F.jsx(d,{},`${ot}_custom`);case"none":return null;case"canvas":default:return F.jsx(vdt,{canvasRef:a},`${ot}_canvas`)}}function Mt(){return K?F.jsx(wdt,{},`${ot}_text`):null}function Lt(){return Z?F.jsx(ddt,{},`${ot}_annotations`):null}function bt(){function Bt(ne){return!!ne?.page}if(!Bt(Qt))throw new Error("page is undefined");const Ut=typeof l=="function"?l(Qt):l;return F.jsxs(tz.Provider,{value:Qt,children:[pt(),Mt(),Lt(),Ut]})}function jt(){return Pt?T===null||St===void 0||St===null?F.jsx(Bd,{type:"loading",children:typeof w=="function"?w():w}):T===!1||St===!1?F.jsx(Bd,{type:"error",children:typeof m=="function"?m():m}):bt():F.jsx(Bd,{type:"no-data",children:typeof S=="function"?S():S})}return F.jsx("div",{className:hr(n,u),"data-page-number":Pt,ref:J6(_,Ft),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Rt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...tt,children:jt()})}adt();vl.workerSrc="pdf.worker.mjs";const Adt="_viewerWrapper_nt9zz_1",Sdt="_pdfContainer_nt9zz_10",xdt="_pdfDocument_nt9zz_22",Edt="_navigation_nt9zz_31",Tdt="_navButton_nt9zz_40",Cdt="_disabled_nt9zz_56",kdt="_pageIndicator_nt9zz_61",Sa={viewerWrapper:Adt,pdfContainer:Sdt,pdfDocument:xdt,navigation:Edt,navButton:Tdt,disabled:Cdt,pageIndicator:kdt};vl.workerSrc=`//unpkg.com/pdfjs-dist@${PR}/build/pdf.worker.min.mjs`;function Rdt({fileUrl:i="/docs/sample.pdf"}){const[t,e]=V.useState(null),[n,s]=V.useState(1),[r,a]=V.useState(1.6),l=V.useRef();V.useEffect(()=>{const d=()=>{if(l.current){const h=l.current.offsetWidth;a(Math.min(h/600,2))}};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const u=({numPages:d})=>e(d);return F.jsx("div",{className:Sa.viewerWrapper,children:F.jsxs("div",{className:Sa.pdfContainer,ref:l,children:[F.jsx("div",{className:Sa.pdfDocument,children:F.jsx(hdt,{file:i,onLoadSuccess:u,children:F.jsx(_dt,{pageNumber:n,scale:r})})}),F.jsxs("div",{className:Sa.navigation,children:[F.jsx("button",{onClick:()=>s(d=>Math.max(d-1,1)),disabled:n<=1,className:`${Sa.navButton} ${n<=1?Sa.disabled:""}`,children:" Previous"}),F.jsxs("span",{className:Sa.pageIndicator,children:["Page ",n," / ",t||"--"]}),F.jsx("button",{onClick:()=>s(d=>Math.min(d+1,t)),disabled:n>=t,className:`${Sa.navButton} ${n>=t?Sa.disabled:""}`,children:"Next "})]})]})})}function Mdt(){return F.jsx("div",{className:"h-screen",children:F.jsx(Rdt,{fileUrl:"/asd.pdf"})})}const PF=({children:i})=>{const{isLoggedIn:t}=q1(e=>e.auth);return t?i:F.jsx($F,{to:"/login",replace:!0})},h0=({children:i})=>{const{isLoggedIn:t}=q1(e=>e.auth);return t?F.jsx($F,{to:"/",replace:!0}):i};function Ldt(){return F.jsxs("div",{className:"h-screen flex items-center justify-center",children:[F.jsxs(vH,{children:[F.jsx(nc,{path:"/welcome",element:F.jsx(h0,{children:F.jsx(Hct,{})})}),F.jsx(nc,{path:"/login",element:F.jsx(h0,{children:F.jsx(GD,{})})}),F.jsx(nc,{path:"/register",element:F.jsx(h0,{children:F.jsx(GD,{isRegister:!0})})}),F.jsx(nc,{path:"/test",element:F.jsx(h0,{children:F.jsx(Mdt,{})})}),F.jsx(nc,{path:"/",element:F.jsx(PF,{children:F.jsx(vV,{})})}),F.jsx(nc,{path:"/modules/:moduleId",element:F.jsx(PF,{children:F.jsx(Ult,{})})})]}),F.jsx(wG,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}C8.createRoot(document.getElementById("root")).render(F.jsx(V.StrictMode,{children:F.jsx(UH,{basename:"/Study-Buddy",children:F.jsx(f$,{store:HW,children:F.jsx(Ldt,{})})})}));export{ST as A,bj as J,Qdt as a,oe as c,Zdt as n,Fp as r};
