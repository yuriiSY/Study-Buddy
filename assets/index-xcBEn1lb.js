var R_=n=>{throw TypeError(n)};var xm=(n,e,t)=>e.has(n)||R_("Cannot "+t);var Ut=(n,e,t)=>(xm(n,e,"read from private field"),t?t.call(n):e.get(n)),fr=(n,e,t)=>e.has(n)?R_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ii=(n,e,t,i)=>(xm(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),pr=(n,e,t)=>(xm(n,e,"access private method"),t);var N_=(n,e,t,i)=>({set _(r){ii(n,e,r,t)},get _(){return Ut(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Go(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jk(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var Sm={exports:{}},Xl={};var O_;function Pk(){if(O_)return Xl;O_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var M_;function Bk(){return M_||(M_=1,Sm.exports=Pk()),Sm.exports}var v=Bk(),wm={exports:{}},Ke={};var D_;function Fk(){if(D_)return Ke;D_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function b(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function A(D,q,j){this.props=D,this.context=q,this.refs=E,this.updater=j||S}A.prototype.isReactComponent={},A.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},A.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=A.prototype;function R(D,q,j){this.props=D,this.context=q,this.refs=E,this.updater=j||S}var B=R.prototype=new T;B.constructor=R,x(B,A.prototype),B.isPureReactComponent=!0;var k=Array.isArray;function N(){}var M={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function F(D,q,j){var K=j.ref;return{$$typeof:n,type:D,key:q,ref:K!==void 0?K:null,props:j}}function L(D,q){return F(D.type,q,D.props)}function H(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function X(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(j){return q[j]})}var V=/\/+/g;function Y(D,q){return typeof D=="object"&&D!==null&&D.key!=null?X(""+D.key):q.toString(36)}function I(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,q,j,K,ee){var re=typeof D;(re==="undefined"||re==="boolean")&&(D=null);var se=!1;if(D===null)se=!0;else switch(re){case"bigint":case"string":case"number":se=!0;break;case"object":switch(D.$$typeof){case n:case e:se=!0;break;case f:return se=D._init,U(se(D._payload),q,j,K,ee)}}if(se)return ee=ee(D),se=K===""?"."+Y(D,0):K,k(ee)?(j="",se!=null&&(j=se.replace(V,"$&/")+"/"),U(ee,q,j,"",function(we){return we})):ee!=null&&(H(ee)&&(ee=L(ee,j+(ee.key==null||D&&D.key===ee.key?"":(""+ee.key).replace(V,"$&/")+"/")+se)),q.push(ee)),1;se=0;var Se=K===""?".":K+":";if(k(D))for(var ve=0;ve<D.length;ve++)K=D[ve],re=Se+Y(K,ve),se+=U(K,q,j,re,ee);else if(ve=b(D),typeof ve=="function")for(D=ve.call(D),ve=0;!(K=D.next()).done;)K=K.value,re=Se+Y(K,ve++),se+=U(K,q,j,re,ee);else if(re==="object"){if(typeof D.then=="function")return U(I(D),q,j,K,ee);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return se}function C(D,q,j){if(D==null)return D;var K=[],ee=0;return U(D,K,"","",function(re){return q.call(j,re,ee++)}),K}function ne(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(j){(D._status===0||D._status===-1)&&(D._status=1,D._result=j)},function(j){(D._status===0||D._status===-1)&&(D._status=2,D._result=j)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var G=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},w={map:C,forEach:function(D,q,j){C(D,function(){q.apply(this,arguments)},j)},count:function(D){var q=0;return C(D,function(){q++}),q},toArray:function(D){return C(D,function(q){return q})||[]},only:function(D){if(!H(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ke.Activity=m,Ke.Children=w,Ke.Component=A,Ke.Fragment=t,Ke.Profiler=r,Ke.PureComponent=R,Ke.StrictMode=i,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},Ke.cache=function(D){return function(){return D.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(D,q,j){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var K=x({},D.props),ee=D.key;if(q!=null)for(re in q.key!==void 0&&(ee=""+q.key),q)!P.call(q,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&q.ref===void 0||(K[re]=q[re]);var re=arguments.length-2;if(re===1)K.children=j;else if(1<re){for(var se=Array(re),Se=0;Se<re;Se++)se[Se]=arguments[Se+2];K.children=se}return F(D.type,ee,K)},Ke.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},Ke.createElement=function(D,q,j){var K,ee={},re=null;if(q!=null)for(K in q.key!==void 0&&(re=""+q.key),q)P.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=q[K]);var se=arguments.length-2;if(se===1)ee.children=j;else if(1<se){for(var Se=Array(se),ve=0;ve<se;ve++)Se[ve]=arguments[ve+2];ee.children=Se}if(D&&D.defaultProps)for(K in se=D.defaultProps,se)ee[K]===void 0&&(ee[K]=se[K]);return F(D,re,ee)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(D){return{$$typeof:c,render:D}},Ke.isValidElement=H,Ke.lazy=function(D){return{$$typeof:f,_payload:{_status:-1,_result:D},_init:ne}},Ke.memo=function(D,q){return{$$typeof:h,type:D,compare:q===void 0?null:q}},Ke.startTransition=function(D){var q=M.T,j={};M.T=j;try{var K=D(),ee=M.S;ee!==null&&ee(j,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(N,G)}catch(re){G(re)}finally{q!==null&&j.types!==null&&(q.types=j.types),M.T=q}},Ke.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ke.use=function(D){return M.H.use(D)},Ke.useActionState=function(D,q,j){return M.H.useActionState(D,q,j)},Ke.useCallback=function(D,q){return M.H.useCallback(D,q)},Ke.useContext=function(D){return M.H.useContext(D)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(D,q){return M.H.useDeferredValue(D,q)},Ke.useEffect=function(D,q){return M.H.useEffect(D,q)},Ke.useEffectEvent=function(D){return M.H.useEffectEvent(D)},Ke.useId=function(){return M.H.useId()},Ke.useImperativeHandle=function(D,q,j){return M.H.useImperativeHandle(D,q,j)},Ke.useInsertionEffect=function(D,q){return M.H.useInsertionEffect(D,q)},Ke.useLayoutEffect=function(D,q){return M.H.useLayoutEffect(D,q)},Ke.useMemo=function(D,q){return M.H.useMemo(D,q)},Ke.useOptimistic=function(D,q){return M.H.useOptimistic(D,q)},Ke.useReducer=function(D,q,j){return M.H.useReducer(D,q,j)},Ke.useRef=function(D){return M.H.useRef(D)},Ke.useState=function(D){return M.H.useState(D)},Ke.useSyncExternalStore=function(D,q,j){return M.H.useSyncExternalStore(D,q,j)},Ke.useTransition=function(){return M.H.useTransition()},Ke.version="19.2.0",Ke}var L_;function rr(){return L_||(L_=1,wm.exports=Fk()),wm.exports}var z=rr();const We=Go(z);var Am={exports:{}},Yl={},Em={exports:{}},Cm={};var j_;function Ik(){return j_||(j_=1,(function(n){function e(U,C){var ne=U.length;U.push(C);e:for(;0<ne;){var G=ne-1>>>1,w=U[G];if(0<r(w,C))U[G]=C,U[ne]=w,ne=G;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var C=U[0],ne=U.pop();if(ne!==C){U[0]=ne;e:for(var G=0,w=U.length,D=w>>>1;G<D;){var q=2*(G+1)-1,j=U[q],K=q+1,ee=U[K];if(0>r(j,ne))K<w&&0>r(ee,j)?(U[G]=ee,U[K]=ne,G=K):(U[G]=j,U[q]=ne,G=q);else if(K<w&&0>r(ee,ne))U[G]=ee,U[K]=ne,G=K;else break e}}return C}function r(U,C){var ne=U.sortIndex-C.sortIndex;return ne!==0?ne:U.id-C.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],f=1,m=null,g=3,b=!1,S=!1,x=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function B(U){for(var C=t(h);C!==null;){if(C.callback===null)i(h);else if(C.startTime<=U)i(h),C.sortIndex=C.expirationTime,e(d,C);else break;C=t(h)}}function k(U){if(x=!1,B(U),!S)if(t(d)!==null)S=!0,N||(N=!0,X());else{var C=t(h);C!==null&&I(k,C.startTime-U)}}var N=!1,M=-1,P=5,F=-1;function L(){return E?!0:!(n.unstable_now()-F<P)}function H(){if(E=!1,N){var U=n.unstable_now();F=U;var C=!0;try{e:{S=!1,x&&(x=!1,T(M),M=-1),b=!0;var ne=g;try{t:{for(B(U),m=t(d);m!==null&&!(m.expirationTime>U&&L());){var G=m.callback;if(typeof G=="function"){m.callback=null,g=m.priorityLevel;var w=G(m.expirationTime<=U);if(U=n.unstable_now(),typeof w=="function"){m.callback=w,B(U),C=!0;break t}m===t(d)&&i(d),B(U)}else i(d);m=t(d)}if(m!==null)C=!0;else{var D=t(h);D!==null&&I(k,D.startTime-U),C=!1}}break e}finally{m=null,g=ne,b=!1}C=void 0}}finally{C?X():N=!1}}}var X;if(typeof R=="function")X=function(){R(H)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Y=V.port2;V.port1.onmessage=H,X=function(){Y.postMessage(null)}}else X=function(){A(H,0)};function I(U,C){M=A(function(){U(n.unstable_now())},C)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(U){switch(g){case 1:case 2:case 3:var C=3;break;default:C=g}var ne=g;g=C;try{return U()}finally{g=ne}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(U,C){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=g;g=U;try{return C()}finally{g=ne}},n.unstable_scheduleCallback=function(U,C,ne){var G=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?G+ne:G):ne=G,U){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=ne+w,U={id:f++,callback:C,priorityLevel:U,startTime:ne,expirationTime:w,sortIndex:-1},ne>G?(U.sortIndex=ne,e(h,U),t(d)===null&&U===t(h)&&(x?(T(M),M=-1):x=!0,I(k,ne-G))):(U.sortIndex=w,e(d,U),S||b||(S=!0,N||(N=!0,X()))),U},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(U){var C=g;return function(){var ne=g;g=C;try{return U.apply(this,arguments)}finally{g=ne}}}})(Cm)),Cm}var P_;function zk(){return P_||(P_=1,Em.exports=Ik()),Em.exports}var Tm={exports:{}},Pn={};var B_;function Uk(){if(B_)return Pn;B_=1;var n=rr();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(d,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:h,implementation:f}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Pn.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,f)},Pn.flushSync=function(d){var h=l.T,f=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=f,i.d.f()}},Pn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Pn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Pn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:b}):f==="script"&&i.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Pn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Pn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin);i.d.L(d,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Pn.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Pn.requestFormReset=function(d){i.d.r(d)},Pn.unstable_batchedUpdates=function(d,h){return d(h)},Pn.useFormState=function(d,h,f){return l.H.useFormState(d,h,f)},Pn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Pn.version="19.2.0",Pn}var F_;function Hk(){if(F_)return Tm.exports;F_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tm.exports=Uk(),Tm.exports}var I_;function $k(){if(I_)return Yl;I_=1;var n=zk(),e=rr(),t=Hk();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var u=s,p=o;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return d(y),s;if(_===p)return d(y),o;_=_.sibling}throw Error(i(188))}if(u.return!==p.return)u=y,p=_;else{for(var O=!1,$=y.child;$;){if($===u){O=!0,u=y,p=_;break}if($===p){O=!0,p=y,u=_;break}$=$.sibling}if(!O){for($=_.child;$;){if($===u){O=!0,u=_,p=y;break}if($===p){O=!0,p=_,u=y;break}$=$.sibling}if(!O)throw Error(i(189))}}if(u.alternate!==p)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:o}function f(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=f(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function Y(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case N:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case R:return s.displayName||"Context";case T:return(s._context.displayName||"Context")+".Consumer";case B:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return o=s.displayName||null,o!==null?o:Y(s.type)||"Memo";case P:o=s._payload,s=s._init;try{return Y(s(o))}catch{}}return null}var I=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},G=[],w=-1;function D(s){return{current:s}}function q(s){0>w||(s.current=G[w],G[w]=null,w--)}function j(s,o){w++,G[w]=s.current,s.current=o}var K=D(null),ee=D(null),re=D(null),se=D(null);function Se(s,o){switch(j(re,o),j(ee,s),j(K,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?Q1(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=Q1(o),s=J1(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}q(K),j(K,s)}function ve(){q(K),q(ee),q(re)}function we(s){s.memoizedState!==null&&j(se,s);var o=K.current,u=J1(o,s.type);o!==u&&(j(ee,s),j(K,u))}function Ie(s){ee.current===s&&(q(K),q(ee)),se.current===s&&(q(se),$l._currentValue=ne)}var qe,Ce;function Ee(s){if(qe===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);qe=o&&o[1]||"",Ce=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+s+Ce}var De=!1;function Ge(s,o){if(!s||De)return"";De=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(de){var le=de}Reflect.construct(s,[],me)}else{try{me.call()}catch(de){le=de}s.call(me.prototype)}}else{try{throw Error()}catch(de){le=de}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(de){if(de&&le&&typeof de.stack=="string")return[de.stack,le.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),O=_[0],$=_[1];if(O&&$){var Z=O.split(`
`),oe=$.split(`
`);for(y=p=0;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;for(;y<oe.length&&!oe[y].includes("DetermineComponentFrameRoot");)y++;if(p===Z.length||y===oe.length)for(p=Z.length-1,y=oe.length-1;1<=p&&0<=y&&Z[p]!==oe[y];)y--;for(;1<=p&&0<=y;p--,y--)if(Z[p]!==oe[y]){if(p!==1||y!==1)do if(p--,y--,0>y||Z[p]!==oe[y]){var fe=`
`+Z[p].replace(" at new "," at ");return s.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",s.displayName)),fe}while(1<=p&&0<=y);break}}}finally{De=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Ee(u):""}function ze(s,o){switch(s.tag){case 26:case 27:case 5:return Ee(s.type);case 16:return Ee("Lazy");case 13:return s.child!==o&&o!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Ge(s.type,!1);case 11:return Ge(s.type.render,!1);case 1:return Ge(s.type,!0);case 31:return Ee("Activity");default:return""}}function ft(s){try{var o="",u=null;do o+=ze(s,u),u=s,s=s.return;while(s);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ae=Object.prototype.hasOwnProperty,W=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,ce=n.unstable_shouldYield,xe=n.unstable_requestPaint,ge=n.unstable_now,ye=n.unstable_getCurrentPriorityLevel,te=n.unstable_ImmediatePriority,he=n.unstable_UserBlockingPriority,_e=n.unstable_NormalPriority,je=n.unstable_LowPriority,rt=n.unstable_IdlePriority,Zt=n.log,Vi=n.unstable_setDisableYieldValue,bn=null,Gt=null;function jn(s){if(typeof Zt=="function"&&Vi(s),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(bn,s)}catch{}}var vt=Math.clz32?Math.clz32:xT,lr=Math.log,Wn=Math.LN2;function xT(s){return s>>>=0,s===0?32:31-(lr(s)/Wn|0)|0}var su=256,au=262144,ou=4194304;function qs(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function lu(s,o,u){var p=s.pendingLanes;if(p===0)return 0;var y=0,_=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var $=p&134217727;return $!==0?(p=$&~_,p!==0?y=qs(p):(O&=$,O!==0?y=qs(O):u||(u=$&~s,u!==0&&(y=qs(u))))):($=p&~_,$!==0?y=qs($):O!==0?y=qs(O):u||(u=p&~s,u!==0&&(y=qs(u)))),y===0?0:o!==0&&o!==y&&(o&_)===0&&(_=y&-y,u=o&-o,_>=u||_===32&&(u&4194048)!==0)?o:y}function nl(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ST(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Db(){var s=ou;return ou<<=1,(ou&62914560)===0&&(ou=4194304),s}function cf(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function il(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function wT(s,o,u,p,y,_){var O=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var $=s.entanglements,Z=s.expirationTimes,oe=s.hiddenUpdates;for(u=O&~u;0<u;){var fe=31-vt(u),me=1<<fe;$[fe]=0,Z[fe]=-1;var le=oe[fe];if(le!==null)for(oe[fe]=null,fe=0;fe<le.length;fe++){var de=le[fe];de!==null&&(de.lane&=-536870913)}u&=~me}p!==0&&Lb(s,p,0),_!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=_&~(O&~o))}function Lb(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var p=31-vt(o);s.entangledLanes|=o,s.entanglements[p]=s.entanglements[p]|1073741824|u&261930}function jb(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-vt(u),y=1<<p;y&o|s[p]&o&&(s[p]|=o),u&=~y}}function Pb(s,o){var u=o&-o;return u=(u&42)!==0?1:uf(u),(u&(s.suspendedLanes|o))!==0?0:u}function uf(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function df(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Bb(){var s=C.p;return s!==0?s:(s=window.event,s===void 0?32:S_(s.type))}function Fb(s,o){var u=C.p;try{return C.p=s,o()}finally{C.p=u}}var ls=Math.random().toString(36).slice(2),Tn="__reactFiber$"+ls,Kn="__reactProps$"+ls,Da="__reactContainer$"+ls,hf="__reactEvents$"+ls,AT="__reactListeners$"+ls,ET="__reactHandles$"+ls,Ib="__reactResources$"+ls,rl="__reactMarker$"+ls;function ff(s){delete s[Tn],delete s[Kn],delete s[hf],delete s[AT],delete s[ET]}function La(s){var o=s[Tn];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Da]||u[Tn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=a_(s);s!==null;){if(u=s[Tn])return u;s=a_(s)}return o}s=u,u=s.parentNode}return null}function ja(s){if(s=s[Tn]||s[Da]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function sl(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Pa(s){var o=s[Ib];return o||(o=s[Ib]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function _n(s){s[rl]=!0}var zb=new Set,Ub={};function Vs(s,o){Ba(s,o),Ba(s+"Capture",o)}function Ba(s,o){for(Ub[s]=o,s=0;s<o.length;s++)zb.add(o[s])}var CT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hb={},$b={};function TT(s){return Ae.call($b,s)?!0:Ae.call(Hb,s)?!1:CT.test(s)?$b[s]=!0:(Hb[s]=!0,!1)}function cu(s,o,u){if(TT(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function uu(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Nr(s,o,u,p){if(p===null)s.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+p)}}function ki(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qb(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function kT(s,o,u){var p=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var y=p.get,_=p.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(O){u=""+O,_.call(this,O)}}),Object.defineProperty(s,o,{enumerable:p.enumerable}),{getValue:function(){return u},setValue:function(O){u=""+O},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function pf(s){if(!s._valueTracker){var o=qb(s)?"checked":"value";s._valueTracker=kT(s,o,""+s[o])}}function Vb(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=qb(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function du(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var RT=/[\n"\\]/g;function Ri(s){return s.replace(RT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mf(s,o,u,p,y,_,O,$){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),o!=null?O==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+ki(o)):s.value!==""+ki(o)&&(s.value=""+ki(o)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),o!=null?gf(s,O,ki(o)):u!=null?gf(s,O,ki(u)):p!=null&&s.removeAttribute("value"),y==null&&_!=null&&(s.defaultChecked=!!_),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?s.name=""+ki($):s.removeAttribute("name")}function Gb(s,o,u,p,y,_,O,$){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.type=_),o!=null||u!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){pf(s);return}u=u!=null?""+ki(u):"",o=o!=null?""+ki(o):u,$||o===s.value||(s.value=o),s.defaultValue=o}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,s.checked=$?s.checked:!!p,s.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),pf(s)}function gf(s,o,u){o==="number"&&du(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Fa(s,o,u,p){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&p&&(s[u].defaultSelected=!0)}else{for(u=""+ki(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Xb(s,o,u){if(o!=null&&(o=""+ki(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+ki(u):""}function Yb(s,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(i(92));if(I(p)){if(1<p.length)throw Error(i(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=ki(o),s.defaultValue=u,p=s.textContent,p===u&&p!==""&&p!==null&&(s.value=p),pf(s)}function Ia(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var NT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wb(s,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":p?s.setProperty(o,u):typeof u!="number"||u===0||NT.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Kb(s,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?s.setProperty(p,""):p==="float"?s.cssFloat="":s[p]="");for(var y in o)p=o[y],o.hasOwnProperty(y)&&u[y]!==p&&Wb(s,y,p)}else for(var _ in o)o.hasOwnProperty(_)&&Wb(s,_,o[_])}function yf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hu(s){return MT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Or(){}var bf=null;function vf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var za=null,Ua=null;function Zb(s){var o=ja(s);if(o&&(s=o.stateNode)){var u=s[Kn]||null;e:switch(s=o.stateNode,o.type){case"input":if(mf(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ri(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var y=p[Kn]||null;if(!y)throw Error(i(90));mf(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===s.form&&Vb(p)}break e;case"textarea":Xb(s,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Fa(s,!!u.multiple,o,!1)}}}var _f=!1;function Qb(s,o,u){if(_f)return s(o,u);_f=!0;try{var p=s(o);return p}finally{if(_f=!1,(za!==null||Ua!==null)&&(Ju(),za&&(o=za,s=Ua,Ua=za=null,Zb(o),s)))for(o=0;o<s.length;o++)Zb(s[o])}}function al(s,o){var u=s.stateNode;if(u===null)return null;var p=u[Kn]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xf=!1;if(Mr)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){xf=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{xf=!1}var cs=null,Sf=null,fu=null;function Jb(){if(fu)return fu;var s,o=Sf,u=o.length,p,y="value"in cs?cs.value:cs.textContent,_=y.length;for(s=0;s<u&&o[s]===y[s];s++);var O=u-s;for(p=1;p<=O&&o[u-p]===y[_-p];p++);return fu=y.slice(s,1<p?1-p:void 0)}function pu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function mu(){return!0}function ev(){return!1}function Zn(s){function o(u,p,y,_,O){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(u=s[$],this[$]=u?u(_):_[$]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?mu:ev,this.isPropagationStopped=ev,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),o}var Gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gu=Zn(Gs),ll=m({},Gs,{view:0,detail:0}),DT=Zn(ll),wf,Af,cl,yu=m({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cl&&(cl&&s.type==="mousemove"?(wf=s.screenX-cl.screenX,Af=s.screenY-cl.screenY):Af=wf=0,cl=s),wf)},movementY:function(s){return"movementY"in s?s.movementY:Af}}),tv=Zn(yu),LT=m({},yu,{dataTransfer:0}),jT=Zn(LT),PT=m({},ll,{relatedTarget:0}),Ef=Zn(PT),BT=m({},Gs,{animationName:0,elapsedTime:0,pseudoElement:0}),FT=Zn(BT),IT=m({},Gs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zT=Zn(IT),UT=m({},Gs,{data:0}),nv=Zn(UT),HT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$T={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VT(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=qT[s])?!!o[s]:!1}function Cf(){return VT}var GT=m({},ll,{key:function(s){if(s.key){var o=HT[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=pu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$T[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cf,charCode:function(s){return s.type==="keypress"?pu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),XT=Zn(GT),YT=m({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=Zn(YT),WT=m({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cf}),KT=Zn(WT),ZT=m({},Gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),QT=Zn(ZT),JT=m({},yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),e2=Zn(JT),t2=m({},Gs,{newState:0,oldState:0}),n2=Zn(t2),i2=[9,13,27,32],Tf=Mr&&"CompositionEvent"in window,ul=null;Mr&&"documentMode"in document&&(ul=document.documentMode);var r2=Mr&&"TextEvent"in window&&!ul,rv=Mr&&(!Tf||ul&&8<ul&&11>=ul),sv=" ",av=!1;function ov(s,o){switch(s){case"keyup":return i2.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ha=!1;function s2(s,o){switch(s){case"compositionend":return lv(o);case"keypress":return o.which!==32?null:(av=!0,sv);case"textInput":return s=o.data,s===sv&&av?null:s;default:return null}}function a2(s,o){if(Ha)return s==="compositionend"||!Tf&&ov(s,o)?(s=Jb(),fu=Sf=cs=null,Ha=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return rv&&o.locale!=="ko"?null:o.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!o2[s.type]:o==="textarea"}function uv(s,o,u,p){za?Ua?Ua.push(p):Ua=[p]:za=p,o=ad(o,"onChange"),0<o.length&&(u=new gu("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var dl=null,hl=null;function l2(s){G1(s,0)}function bu(s){var o=sl(s);if(Vb(o))return s}function dv(s,o){if(s==="change")return o}var hv=!1;if(Mr){var kf;if(Mr){var Rf="oninput"in document;if(!Rf){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Rf=typeof fv.oninput=="function"}kf=Rf}else kf=!1;hv=kf&&(!document.documentMode||9<document.documentMode)}function pv(){dl&&(dl.detachEvent("onpropertychange",mv),hl=dl=null)}function mv(s){if(s.propertyName==="value"&&bu(hl)){var o=[];uv(o,hl,s,vf(s)),Qb(l2,o)}}function c2(s,o,u){s==="focusin"?(pv(),dl=o,hl=u,dl.attachEvent("onpropertychange",mv)):s==="focusout"&&pv()}function u2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bu(hl)}function d2(s,o){if(s==="click")return bu(o)}function h2(s,o){if(s==="input"||s==="change")return bu(o)}function f2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var fi=typeof Object.is=="function"?Object.is:f2;function fl(s,o){if(fi(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!Ae.call(o,y)||!fi(s[y],o[y]))return!1}return!0}function gv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yv(s,o){var u=gv(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gv(u)}}function bv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?bv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function vv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=du(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=du(s.document)}return o}function Nf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var p2=Mr&&"documentMode"in document&&11>=document.documentMode,$a=null,Of=null,pl=null,Mf=!1;function _v(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Mf||$a==null||$a!==du(p)||(p=$a,"selectionStart"in p&&Nf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),pl&&fl(pl,p)||(pl=p,p=ad(Of,"onSelect"),0<p.length&&(o=new gu("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=$a)))}function Xs(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var qa={animationend:Xs("Animation","AnimationEnd"),animationiteration:Xs("Animation","AnimationIteration"),animationstart:Xs("Animation","AnimationStart"),transitionrun:Xs("Transition","TransitionRun"),transitionstart:Xs("Transition","TransitionStart"),transitioncancel:Xs("Transition","TransitionCancel"),transitionend:Xs("Transition","TransitionEnd")},Df={},xv={};Mr&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ys(s){if(Df[s])return Df[s];if(!qa[s])return s;var o=qa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in xv)return Df[s]=o[u];return s}var Sv=Ys("animationend"),wv=Ys("animationiteration"),Av=Ys("animationstart"),m2=Ys("transitionrun"),g2=Ys("transitionstart"),y2=Ys("transitioncancel"),Ev=Ys("transitionend"),Cv=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function Gi(s,o){Cv.set(s,o),Vs(o,[s])}var vu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ni=[],Va=0,jf=0;function _u(){for(var s=Va,o=jf=Va=0;o<s;){var u=Ni[o];Ni[o++]=null;var p=Ni[o];Ni[o++]=null;var y=Ni[o];Ni[o++]=null;var _=Ni[o];if(Ni[o++]=null,p!==null&&y!==null){var O=p.pending;O===null?y.next=y:(y.next=O.next,O.next=y),p.pending=y}_!==0&&Tv(u,y,_)}}function xu(s,o,u,p){Ni[Va++]=s,Ni[Va++]=o,Ni[Va++]=u,Ni[Va++]=p,jf|=p,s.lanes|=p,s=s.alternate,s!==null&&(s.lanes|=p)}function Pf(s,o,u,p){return xu(s,o,u,p),Su(s)}function Ws(s,o){return xu(s,null,null,o),Su(s)}function Tv(s,o,u){s.lanes|=u;var p=s.alternate;p!==null&&(p.lanes|=u);for(var y=!1,_=s.return;_!==null;)_.childLanes|=u,p=_.alternate,p!==null&&(p.childLanes|=u),_.tag===22&&(s=_.stateNode,s===null||s._visibility&1||(y=!0)),s=_,_=_.return;return s.tag===3?(_=s.stateNode,y&&o!==null&&(y=31-vt(u),s=_.hiddenUpdates,p=s[y],p===null?s[y]=[o]:p.push(o),o.lane=u|536870912),_):null}function Su(s){if(50<Pl)throw Pl=0,Vp=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var Ga={};function b2(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(s,o,u,p){return new b2(s,o,u,p)}function Bf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Dr(s,o){var u=s.alternate;return u===null?(u=pi(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function kv(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function wu(s,o,u,p,y,_){var O=0;if(p=s,typeof s=="function")Bf(s)&&(O=1);else if(typeof s=="string")O=wk(s,u,K.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case F:return s=pi(31,u,o,y),s.elementType=F,s.lanes=_,s;case x:return Ks(u.children,y,_,o);case E:O=8,y|=24;break;case A:return s=pi(12,u,o,y|2),s.elementType=A,s.lanes=_,s;case k:return s=pi(13,u,o,y),s.elementType=k,s.lanes=_,s;case N:return s=pi(19,u,o,y),s.elementType=N,s.lanes=_,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:O=10;break e;case T:O=9;break e;case B:O=11;break e;case M:O=14;break e;case P:O=16,p=null;break e}O=29,u=Error(i(130,s===null?"null":typeof s,"")),p=null}return o=pi(O,u,o,y),o.elementType=s,o.type=p,o.lanes=_,o}function Ks(s,o,u,p){return s=pi(7,s,p,o),s.lanes=u,s}function Ff(s,o,u){return s=pi(6,s,null,o),s.lanes=u,s}function Rv(s){var o=pi(18,null,null,0);return o.stateNode=s,o}function If(s,o,u){return o=pi(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Nv=new WeakMap;function Oi(s,o){if(typeof s=="object"&&s!==null){var u=Nv.get(s);return u!==void 0?u:(o={value:s,source:o,stack:ft(o)},Nv.set(s,o),o)}return{value:s,source:o,stack:ft(o)}}var Xa=[],Ya=0,Au=null,ml=0,Mi=[],Di=0,us=null,cr=1,ur="";function Lr(s,o){Xa[Ya++]=ml,Xa[Ya++]=Au,Au=s,ml=o}function Ov(s,o,u){Mi[Di++]=cr,Mi[Di++]=ur,Mi[Di++]=us,us=s;var p=cr;s=ur;var y=32-vt(p)-1;p&=~(1<<y),u+=1;var _=32-vt(o)+y;if(30<_){var O=y-y%5;_=(p&(1<<O)-1).toString(32),p>>=O,y-=O,cr=1<<32-vt(o)+y|u<<y|p,ur=_+s}else cr=1<<_|u<<y|p,ur=s}function zf(s){s.return!==null&&(Lr(s,1),Ov(s,1,0))}function Uf(s){for(;s===Au;)Au=Xa[--Ya],Xa[Ya]=null,ml=Xa[--Ya],Xa[Ya]=null;for(;s===us;)us=Mi[--Di],Mi[Di]=null,ur=Mi[--Di],Mi[Di]=null,cr=Mi[--Di],Mi[Di]=null}function Mv(s,o){Mi[Di++]=cr,Mi[Di++]=ur,Mi[Di++]=us,cr=o.id,ur=o.overflow,us=s}var kn=null,Bt=null,dt=!1,ds=null,Li=!1,Hf=Error(i(519));function hs(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gl(Oi(o,s)),Hf}function Dv(s){var o=s.stateNode,u=s.type,p=s.memoizedProps;switch(o[Tn]=s,o[Kn]=p,u){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(u=0;u<Fl.length;u++)ot(Fl[u],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":ot("invalid",o),Gb(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":ot("invalid",o);break;case"textarea":ot("invalid",o),Yb(o,p.value,p.defaultValue,p.children)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||K1(o.textContent,u)?(p.popover!=null&&(ot("beforetoggle",o),ot("toggle",o)),p.onScroll!=null&&ot("scroll",o),p.onScrollEnd!=null&&ot("scrollend",o),p.onClick!=null&&(o.onclick=Or),o=!0):o=!1,o||hs(s,!0)}function Lv(s){for(kn=s.return;kn;)switch(kn.tag){case 5:case 31:case 13:Li=!1;return;case 27:case 3:Li=!0;return;default:kn=kn.return}}function Wa(s){if(s!==kn)return!1;if(!dt)return Lv(s),dt=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||am(s.type,s.memoizedProps)),u=!u),u&&Bt&&hs(s),Lv(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Bt=s_(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));Bt=s_(s)}else o===27?(o=Bt,Cs(s.type)?(s=dm,dm=null,Bt=s):Bt=o):Bt=kn?Pi(s.stateNode.nextSibling):null;return!0}function Zs(){Bt=kn=null,dt=!1}function $f(){var s=ds;return s!==null&&(ti===null?ti=s:ti.push.apply(ti,s),ds=null),s}function gl(s){ds===null?ds=[s]:ds.push(s)}var qf=D(null),Qs=null,jr=null;function fs(s,o,u){j(qf,o._currentValue),o._currentValue=u}function Pr(s){s._currentValue=qf.current,q(qf)}function Vf(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function Gf(s,o,u,p){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var _=y.dependencies;if(_!==null){var O=y.child;_=_.firstContext;e:for(;_!==null;){var $=_;_=y;for(var Z=0;Z<o.length;Z++)if($.context===o[Z]){_.lanes|=u,$=_.alternate,$!==null&&($.lanes|=u),Vf(_.return,u,s),p||(O=null);break e}_=$.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(i(341));O.lanes|=u,_=O.alternate,_!==null&&(_.lanes|=u),Vf(O,u,s),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===s){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function Ka(s,o,u,p){s=null;for(var y=o,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var $=y.type;fi(y.pendingProps.value,O.value)||(s!==null?s.push($):s=[$])}}else if(y===se.current){if(O=y.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push($l):s=[$l])}y=y.return}s!==null&&Gf(o,s,u,p),o.flags|=262144}function Eu(s){for(s=s.firstContext;s!==null;){if(!fi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Js(s){Qs=s,jr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Rn(s){return jv(Qs,s)}function Cu(s,o){return Qs===null&&Js(s),jv(s,o)}function jv(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},jr===null){if(s===null)throw Error(i(308));jr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else jr=jr.next=o;return u}var v2=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,p){s.push(p)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},_2=n.unstable_scheduleCallback,x2=n.unstable_NormalPriority,cn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new v2,data:new Map,refCount:0}}function yl(s){s.refCount--,s.refCount===0&&_2(x2,function(){s.controller.abort()})}var bl=null,Yf=0,Za=0,Qa=null;function S2(s,o){if(bl===null){var u=bl=[];Yf=0,Za=Zp(),Qa={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Yf++,o.then(Pv,Pv),o}function Pv(){if(--Yf===0&&bl!==null){Qa!==null&&(Qa.status="fulfilled");var s=bl;bl=null,Za=0,Qa=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function w2(s,o){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){p.status="fulfilled",p.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var Bv=U.S;U.S=function(s,o){_1=ge(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&S2(s,o),Bv!==null&&Bv(s,o)};var ea=D(null);function Wf(){var s=ea.current;return s!==null?s:kt.pooledCache}function Tu(s,o){o===null?j(ea,ea.current):j(ea,o.pool)}function Fv(){var s=Wf();return s===null?null:{parent:cn._currentValue,pool:s}}var Ja=Error(i(460)),Kf=Error(i(474)),ku=Error(i(542)),Ru={then:function(){}};function Iv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zv(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(Or,Or),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Hv(s),s;default:if(typeof o.status=="string")o.then(Or,Or);else{if(s=kt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(p){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=p}},function(p){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Hv(s),s}throw na=o,Ja}}function ta(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(na=u,Ja):u}}var na=null;function Uv(){if(na===null)throw Error(i(459));var s=na;return na=null,s}function Hv(s){if(s===Ja||s===ku)throw Error(i(483))}var eo=null,vl=0;function Nu(s){var o=vl;return vl+=1,eo===null&&(eo=[]),zv(eo,s,o)}function _l(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Ou(s,o){throw o.$$typeof===g?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function $v(s){function o(ie,Q){if(s){var ae=ie.deletions;ae===null?(ie.deletions=[Q],ie.flags|=16):ae.push(Q)}}function u(ie,Q){if(!s)return null;for(;Q!==null;)o(ie,Q),Q=Q.sibling;return null}function p(ie){for(var Q=new Map;ie!==null;)ie.key!==null?Q.set(ie.key,ie):Q.set(ie.index,ie),ie=ie.sibling;return Q}function y(ie,Q){return ie=Dr(ie,Q),ie.index=0,ie.sibling=null,ie}function _(ie,Q,ae){return ie.index=ae,s?(ae=ie.alternate,ae!==null?(ae=ae.index,ae<Q?(ie.flags|=67108866,Q):ae):(ie.flags|=67108866,Q)):(ie.flags|=1048576,Q)}function O(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function $(ie,Q,ae,pe){return Q===null||Q.tag!==6?(Q=Ff(ae,ie.mode,pe),Q.return=ie,Q):(Q=y(Q,ae),Q.return=ie,Q)}function Z(ie,Q,ae,pe){var Be=ae.type;return Be===x?fe(ie,Q,ae.props.children,pe,ae.key):Q!==null&&(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===P&&ta(Be)===Q.type)?(Q=y(Q,ae.props),_l(Q,ae),Q.return=ie,Q):(Q=wu(ae.type,ae.key,ae.props,null,ie.mode,pe),_l(Q,ae),Q.return=ie,Q)}function oe(ie,Q,ae,pe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=If(ae,ie.mode,pe),Q.return=ie,Q):(Q=y(Q,ae.children||[]),Q.return=ie,Q)}function fe(ie,Q,ae,pe,Be){return Q===null||Q.tag!==7?(Q=Ks(ae,ie.mode,pe,Be),Q.return=ie,Q):(Q=y(Q,ae),Q.return=ie,Q)}function me(ie,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Ff(""+Q,ie.mode,ae),Q.return=ie,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return ae=wu(Q.type,Q.key,Q.props,null,ie.mode,ae),_l(ae,Q),ae.return=ie,ae;case S:return Q=If(Q,ie.mode,ae),Q.return=ie,Q;case P:return Q=ta(Q),me(ie,Q,ae)}if(I(Q)||X(Q))return Q=Ks(Q,ie.mode,ae,null),Q.return=ie,Q;if(typeof Q.then=="function")return me(ie,Nu(Q),ae);if(Q.$$typeof===R)return me(ie,Cu(ie,Q),ae);Ou(ie,Q)}return null}function le(ie,Q,ae,pe){var Be=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Be!==null?null:$(ie,Q,""+ae,pe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return ae.key===Be?Z(ie,Q,ae,pe):null;case S:return ae.key===Be?oe(ie,Q,ae,pe):null;case P:return ae=ta(ae),le(ie,Q,ae,pe)}if(I(ae)||X(ae))return Be!==null?null:fe(ie,Q,ae,pe,null);if(typeof ae.then=="function")return le(ie,Q,Nu(ae),pe);if(ae.$$typeof===R)return le(ie,Q,Cu(ie,ae),pe);Ou(ie,ae)}return null}function de(ie,Q,ae,pe,Be){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ie=ie.get(ae)||null,$(Q,ie,""+pe,Be);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return ie=ie.get(pe.key===null?ae:pe.key)||null,Z(Q,ie,pe,Be);case S:return ie=ie.get(pe.key===null?ae:pe.key)||null,oe(Q,ie,pe,Be);case P:return pe=ta(pe),de(ie,Q,ae,pe,Be)}if(I(pe)||X(pe))return ie=ie.get(ae)||null,fe(Q,ie,pe,Be,null);if(typeof pe.then=="function")return de(ie,Q,ae,Nu(pe),Be);if(pe.$$typeof===R)return de(ie,Q,ae,Cu(Q,pe),Be);Ou(Q,pe)}return null}function Ne(ie,Q,ae,pe){for(var Be=null,mt=null,Le=Q,tt=Q=0,ct=null;Le!==null&&tt<ae.length;tt++){Le.index>tt?(ct=Le,Le=null):ct=Le.sibling;var gt=le(ie,Le,ae[tt],pe);if(gt===null){Le===null&&(Le=ct);break}s&&Le&&gt.alternate===null&&o(ie,Le),Q=_(gt,Q,tt),mt===null?Be=gt:mt.sibling=gt,mt=gt,Le=ct}if(tt===ae.length)return u(ie,Le),dt&&Lr(ie,tt),Be;if(Le===null){for(;tt<ae.length;tt++)Le=me(ie,ae[tt],pe),Le!==null&&(Q=_(Le,Q,tt),mt===null?Be=Le:mt.sibling=Le,mt=Le);return dt&&Lr(ie,tt),Be}for(Le=p(Le);tt<ae.length;tt++)ct=de(Le,ie,tt,ae[tt],pe),ct!==null&&(s&&ct.alternate!==null&&Le.delete(ct.key===null?tt:ct.key),Q=_(ct,Q,tt),mt===null?Be=ct:mt.sibling=ct,mt=ct);return s&&Le.forEach(function(Os){return o(ie,Os)}),dt&&Lr(ie,tt),Be}function He(ie,Q,ae,pe){if(ae==null)throw Error(i(151));for(var Be=null,mt=null,Le=Q,tt=Q=0,ct=null,gt=ae.next();Le!==null&&!gt.done;tt++,gt=ae.next()){Le.index>tt?(ct=Le,Le=null):ct=Le.sibling;var Os=le(ie,Le,gt.value,pe);if(Os===null){Le===null&&(Le=ct);break}s&&Le&&Os.alternate===null&&o(ie,Le),Q=_(Os,Q,tt),mt===null?Be=Os:mt.sibling=Os,mt=Os,Le=ct}if(gt.done)return u(ie,Le),dt&&Lr(ie,tt),Be;if(Le===null){for(;!gt.done;tt++,gt=ae.next())gt=me(ie,gt.value,pe),gt!==null&&(Q=_(gt,Q,tt),mt===null?Be=gt:mt.sibling=gt,mt=gt);return dt&&Lr(ie,tt),Be}for(Le=p(Le);!gt.done;tt++,gt=ae.next())gt=de(Le,ie,tt,gt.value,pe),gt!==null&&(s&&gt.alternate!==null&&Le.delete(gt.key===null?tt:gt.key),Q=_(gt,Q,tt),mt===null?Be=gt:mt.sibling=gt,mt=gt);return s&&Le.forEach(function(Lk){return o(ie,Lk)}),dt&&Lr(ie,tt),Be}function Ct(ie,Q,ae,pe){if(typeof ae=="object"&&ae!==null&&ae.type===x&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:e:{for(var Be=ae.key;Q!==null;){if(Q.key===Be){if(Be=ae.type,Be===x){if(Q.tag===7){u(ie,Q.sibling),pe=y(Q,ae.props.children),pe.return=ie,ie=pe;break e}}else if(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===P&&ta(Be)===Q.type){u(ie,Q.sibling),pe=y(Q,ae.props),_l(pe,ae),pe.return=ie,ie=pe;break e}u(ie,Q);break}else o(ie,Q);Q=Q.sibling}ae.type===x?(pe=Ks(ae.props.children,ie.mode,pe,ae.key),pe.return=ie,ie=pe):(pe=wu(ae.type,ae.key,ae.props,null,ie.mode,pe),_l(pe,ae),pe.return=ie,ie=pe)}return O(ie);case S:e:{for(Be=ae.key;Q!==null;){if(Q.key===Be)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){u(ie,Q.sibling),pe=y(Q,ae.children||[]),pe.return=ie,ie=pe;break e}else{u(ie,Q);break}else o(ie,Q);Q=Q.sibling}pe=If(ae,ie.mode,pe),pe.return=ie,ie=pe}return O(ie);case P:return ae=ta(ae),Ct(ie,Q,ae,pe)}if(I(ae))return Ne(ie,Q,ae,pe);if(X(ae)){if(Be=X(ae),typeof Be!="function")throw Error(i(150));return ae=Be.call(ae),He(ie,Q,ae,pe)}if(typeof ae.then=="function")return Ct(ie,Q,Nu(ae),pe);if(ae.$$typeof===R)return Ct(ie,Q,Cu(ie,ae),pe);Ou(ie,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Q!==null&&Q.tag===6?(u(ie,Q.sibling),pe=y(Q,ae),pe.return=ie,ie=pe):(u(ie,Q),pe=Ff(ae,ie.mode,pe),pe.return=ie,ie=pe),O(ie)):u(ie,Q)}return function(ie,Q,ae,pe){try{vl=0;var Be=Ct(ie,Q,ae,pe);return eo=null,Be}catch(Le){if(Le===Ja||Le===ku)throw Le;var mt=pi(29,Le,null,ie.mode);return mt.lanes=pe,mt.return=ie,mt}finally{}}}var ia=$v(!0),qv=$v(!1),ps=!1;function Zf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ms(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function gs(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(yt&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,o=Su(s),Tv(s,null,u),o}return xu(s,p,o,u),Su(s)}function xl(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,jb(s,u)}}function Jf(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};_===null?y=_=O:_=_.next=O,u=u.next}while(u!==null);_===null?y=_=o:_=_.next=o}else y=_=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var ep=!1;function Sl(){if(ep){var s=Qa;if(s!==null)throw s}}function wl(s,o,u,p){ep=!1;var y=s.updateQueue;ps=!1;var _=y.firstBaseUpdate,O=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var Z=$,oe=Z.next;Z.next=null,O===null?_=oe:O.next=oe,O=Z;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,$=fe.lastBaseUpdate,$!==O&&($===null?fe.firstBaseUpdate=oe:$.next=oe,fe.lastBaseUpdate=Z))}if(_!==null){var me=y.baseState;O=0,fe=oe=Z=null,$=_;do{var le=$.lane&-536870913,de=le!==$.lane;if(de?(lt&le)===le:(p&le)===le){le!==0&&le===Za&&(ep=!0),fe!==null&&(fe=fe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Ne=s,He=$;le=o;var Ct=u;switch(He.tag){case 1:if(Ne=He.payload,typeof Ne=="function"){me=Ne.call(Ct,me,le);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=He.payload,le=typeof Ne=="function"?Ne.call(Ct,me,le):Ne,le==null)break e;me=m({},me,le);break e;case 2:ps=!0}}le=$.callback,le!==null&&(s.flags|=64,de&&(s.flags|=8192),de=y.callbacks,de===null?y.callbacks=[le]:de.push(le))}else de={lane:le,tag:$.tag,payload:$.payload,callback:$.callback,next:null},fe===null?(oe=fe=de,Z=me):fe=fe.next=de,O|=le;if($=$.next,$===null){if($=y.shared.pending,$===null)break;de=$,$=de.next,de.next=null,y.lastBaseUpdate=de,y.shared.pending=null}}while(!0);fe===null&&(Z=me),y.baseState=Z,y.firstBaseUpdate=oe,y.lastBaseUpdate=fe,_===null&&(y.shared.lanes=0),xs|=O,s.lanes=O,s.memoizedState=me}}function Vv(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Gv(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)Vv(u[s],o)}var to=D(null),Mu=D(0);function Xv(s,o){s=Vr,j(Mu,s),j(to,o),Vr=s|o.baseLanes}function tp(){j(Mu,Vr),j(to,to.current)}function np(){Vr=Mu.current,q(to),q(Mu)}var mi=D(null),ji=null;function ys(s){var o=s.alternate;j(tn,tn.current&1),j(mi,s),ji===null&&(o===null||to.current!==null||o.memoizedState!==null)&&(ji=s)}function ip(s){j(tn,tn.current),j(mi,s),ji===null&&(ji=s)}function Yv(s){s.tag===22?(j(tn,tn.current),j(mi,s),ji===null&&(ji=s)):bs()}function bs(){j(tn,tn.current),j(mi,mi.current)}function gi(s){q(mi),ji===s&&(ji=null),q(tn)}var tn=D(0);function Du(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||cm(u)||um(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Br=0,Je=null,At=null,un=null,Lu=!1,no=!1,ra=!1,ju=0,Al=0,io=null,A2=0;function Qt(){throw Error(i(321))}function rp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!fi(s[u],o[u]))return!1;return!0}function sp(s,o,u,p,y,_){return Br=_,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=s===null||s.memoizedState===null?O0:_p,ra=!1,_=u(p,y),ra=!1,no&&(_=Kv(o,u,p,y)),Wv(s),_}function Wv(s){U.H=Tl;var o=At!==null&&At.next!==null;if(Br=0,un=At=Je=null,Lu=!1,Al=0,io=null,o)throw Error(i(300));s===null||dn||(s=s.dependencies,s!==null&&Eu(s)&&(dn=!0))}function Kv(s,o,u,p){Je=s;var y=0;do{if(no&&(io=null),Al=0,no=!1,25<=y)throw Error(i(301));if(y+=1,un=At=null,s.updateQueue!=null){var _=s.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}U.H=M0,_=o(u,p)}while(no);return _}function E2(){var s=U.H,o=s.useState()[0];return o=typeof o.then=="function"?El(o):o,s=s.useState()[0],(At!==null?At.memoizedState:null)!==s&&(Je.flags|=1024),o}function ap(){var s=ju!==0;return ju=0,s}function op(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function lp(s){if(Lu){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Lu=!1}Br=0,un=At=Je=null,no=!1,Al=ju=0,io=null}function Hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Je.memoizedState=un=s:un=un.next=s,un}function nn(){if(At===null){var s=Je.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var o=un===null?Je.memoizedState:un.next;if(o!==null)un=o,At=s;else{if(s===null)throw Je.alternate===null?Error(i(467)):Error(i(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},un===null?Je.memoizedState=un=s:un=un.next=s}return un}function Pu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(s){var o=Al;return Al+=1,io===null&&(io=[]),s=zv(io,s,o),o=Je,(un===null?o.memoizedState:un.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?O0:_p),s}function Bu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return El(s);if(s.$$typeof===R)return Rn(s)}throw Error(i(438,String(s)))}function cp(s){var o=null,u=Je.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=Je.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Pu(),Je.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),p=0;p<s;p++)u[p]=L;return o.index++,u}function Fr(s,o){return typeof o=="function"?o(s):o}function Fu(s){var o=nn();return up(o,At,s)}function up(s,o,u){var p=s.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=u;var y=s.baseQueue,_=p.pending;if(_!==null){if(y!==null){var O=y.next;y.next=_.next,_.next=O}o.baseQueue=y=_,p.pending=null}if(_=s.baseState,y===null)s.memoizedState=_;else{o=y.next;var $=O=null,Z=null,oe=o,fe=!1;do{var me=oe.lane&-536870913;if(me!==oe.lane?(lt&me)===me:(Br&me)===me){var le=oe.revertLane;if(le===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),me===Za&&(fe=!0);else if((Br&le)===le){oe=oe.next,le===Za&&(fe=!0);continue}else me={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Z===null?($=Z=me,O=_):Z=Z.next=me,Je.lanes|=le,xs|=le;me=oe.action,ra&&u(_,me),_=oe.hasEagerState?oe.eagerState:u(_,me)}else le={lane:me,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Z===null?($=Z=le,O=_):Z=Z.next=le,Je.lanes|=me,xs|=me;oe=oe.next}while(oe!==null&&oe!==o);if(Z===null?O=_:Z.next=$,!fi(_,s.memoizedState)&&(dn=!0,fe&&(u=Qa,u!==null)))throw u;s.memoizedState=_,s.baseState=O,s.baseQueue=Z,p.lastRenderedState=_}return y===null&&(p.lanes=0),[s.memoizedState,p.dispatch]}function dp(s){var o=nn(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var p=u.dispatch,y=u.pending,_=o.memoizedState;if(y!==null){u.pending=null;var O=y=y.next;do _=s(_,O.action),O=O.next;while(O!==y);fi(_,o.memoizedState)||(dn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,p]}function Zv(s,o,u){var p=Je,y=nn(),_=dt;if(_){if(u===void 0)throw Error(i(407));u=u()}else u=o();var O=!fi((At||y).memoizedState,u);if(O&&(y.memoizedState=u,dn=!0),y=y.queue,pp(e0.bind(null,p,y,s),[s]),y.getSnapshot!==o||O||un!==null&&un.memoizedState.tag&1){if(p.flags|=2048,ro(9,{destroy:void 0},Jv.bind(null,p,y,u,o),null),kt===null)throw Error(i(349));_||(Br&127)!==0||Qv(p,o,u)}return u}function Qv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Je.updateQueue,o===null?(o=Pu(),Je.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Jv(s,o,u,p){o.value=u,o.getSnapshot=p,t0(o)&&n0(s)}function e0(s,o,u){return u(function(){t0(o)&&n0(s)})}function t0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!fi(s,u)}catch{return!0}}function n0(s){var o=Ws(s,2);o!==null&&ni(o,s,2)}function hp(s){var o=Hn();if(typeof s=="function"){var u=s;if(s=u(),ra){jn(!0);try{u()}finally{jn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:s},o}function i0(s,o,u,p){return s.baseState=u,up(s,At,typeof p=="function"?p:Fr)}function C2(s,o,u,p,y){if(Uu(s))throw Error(i(485));if(s=o.action,s!==null){var _={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};U.T!==null?u(!0):_.isTransition=!1,p(_),u=o.pending,u===null?(_.next=o.pending=_,r0(o,_)):(_.next=u.next,o.pending=u.next=_)}}function r0(s,o){var u=o.action,p=o.payload,y=s.state;if(o.isTransition){var _=U.T,O={};U.T=O;try{var $=u(y,p),Z=U.S;Z!==null&&Z(O,$),s0(s,o,$)}catch(oe){fp(s,o,oe)}finally{_!==null&&O.types!==null&&(_.types=O.types),U.T=_}}else try{_=u(y,p),s0(s,o,_)}catch(oe){fp(s,o,oe)}}function s0(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){a0(s,o,p)},function(p){return fp(s,o,p)}):a0(s,o,u)}function a0(s,o,u){o.status="fulfilled",o.value=u,o0(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,r0(s,u)))}function fp(s,o,u){var p=s.pending;if(s.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,o0(o),o=o.next;while(o!==p)}s.action=null}function o0(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function l0(s,o){return o}function c0(s,o){if(dt){var u=kt.formState;if(u!==null){e:{var p=Je;if(dt){if(Bt){t:{for(var y=Bt,_=Li;y.nodeType!==8;){if(!_){y=null;break t}if(y=Pi(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Bt=Pi(y.nextSibling),p=y.data==="F!";break e}}hs(p)}p=!1}p&&(o=u[0])}}return u=Hn(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:o},u.queue=p,u=k0.bind(null,Je,p),p.dispatch=u,p=hp(!1),_=vp.bind(null,Je,!1,p.queue),p=Hn(),y={state:o,dispatch:null,action:s,pending:null},p.queue=y,u=C2.bind(null,Je,y,_,u),y.dispatch=u,p.memoizedState=s,[o,u,!1]}function u0(s){var o=nn();return d0(o,At,s)}function d0(s,o,u){if(o=up(s,o,l0)[0],s=Fu(Fr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=El(o)}catch(O){throw O===Ja?ku:O}else p=o;o=nn();var y=o.queue,_=y.dispatch;return u!==o.memoizedState&&(Je.flags|=2048,ro(9,{destroy:void 0},T2.bind(null,y,u),null)),[p,_,s]}function T2(s,o){s.action=o}function h0(s){var o=nn(),u=At;if(u!==null)return d0(o,u,s);nn(),o=o.memoizedState,u=nn();var p=u.queue.dispatch;return u.memoizedState=s,[o,p,!1]}function ro(s,o,u,p){return s={tag:s,create:u,deps:p,inst:o,next:null},o=Je.updateQueue,o===null&&(o=Pu(),Je.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s),s}function f0(){return nn().memoizedState}function Iu(s,o,u,p){var y=Hn();Je.flags|=s,y.memoizedState=ro(1|o,{destroy:void 0},u,p===void 0?null:p)}function zu(s,o,u,p){var y=nn();p=p===void 0?null:p;var _=y.memoizedState.inst;At!==null&&p!==null&&rp(p,At.memoizedState.deps)?y.memoizedState=ro(o,_,u,p):(Je.flags|=s,y.memoizedState=ro(1|o,_,u,p))}function p0(s,o){Iu(8390656,8,s,o)}function pp(s,o){zu(2048,8,s,o)}function k2(s){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=Pu(),Je.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function m0(s){var o=nn().memoizedState;return k2({ref:o,nextImpl:s}),function(){if((yt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function g0(s,o){return zu(4,2,s,o)}function y0(s,o){return zu(4,4,s,o)}function b0(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function v0(s,o,u){u=u!=null?u.concat([s]):null,zu(4,4,b0.bind(null,o,s),u)}function mp(){}function _0(s,o){var u=nn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&rp(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function x0(s,o){var u=nn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&rp(o,p[1]))return p[0];if(p=s(),ra){jn(!0);try{s()}finally{jn(!1)}}return u.memoizedState=[p,o],p}function gp(s,o,u){return u===void 0||(Br&1073741824)!==0&&(lt&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=S1(),Je.lanes|=s,xs|=s,u)}function S0(s,o,u,p){return fi(u,o)?u:to.current!==null?(s=gp(s,u,p),fi(s,o)||(dn=!0),s):(Br&42)===0||(Br&1073741824)!==0&&(lt&261930)===0?(dn=!0,s.memoizedState=u):(s=S1(),Je.lanes|=s,xs|=s,o)}function w0(s,o,u,p,y){var _=C.p;C.p=_!==0&&8>_?_:8;var O=U.T,$={};U.T=$,vp(s,!1,o,u);try{var Z=y(),oe=U.S;if(oe!==null&&oe($,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=w2(Z,p);Cl(s,o,fe,vi(s))}else Cl(s,o,p,vi(s))}catch(me){Cl(s,o,{then:function(){},status:"rejected",reason:me},vi())}finally{C.p=_,O!==null&&$.types!==null&&(O.types=$.types),U.T=O}}function R2(){}function yp(s,o,u,p){if(s.tag!==5)throw Error(i(476));var y=A0(s).queue;w0(s,y,o,ne,u===null?R2:function(){return E0(s),u(p)})}function A0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:ne},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function E0(s){var o=A0(s);o.next===null&&(o=s.alternate.memoizedState),Cl(s,o.next.queue,{},vi())}function bp(){return Rn($l)}function C0(){return nn().memoizedState}function T0(){return nn().memoizedState}function N2(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=vi();s=ms(u);var p=gs(o,s,u);p!==null&&(ni(p,o,u),xl(p,o,u)),o={cache:Xf()},s.payload=o;return}o=o.return}}function O2(s,o,u){var p=vi();u={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Uu(s)?R0(o,u):(u=Pf(s,o,u,p),u!==null&&(ni(u,s,p),N0(u,o,p)))}function k0(s,o,u){var p=vi();Cl(s,o,u,p)}function Cl(s,o,u,p){var y={lane:p,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Uu(s))R0(o,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var O=o.lastRenderedState,$=_(O,u);if(y.hasEagerState=!0,y.eagerState=$,fi($,O))return xu(s,o,y,0),kt===null&&_u(),!1}catch{}finally{}if(u=Pf(s,o,y,p),u!==null)return ni(u,s,p),N0(u,o,p),!0}return!1}function vp(s,o,u,p){if(p={lane:2,revertLane:Zp(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Uu(s)){if(o)throw Error(i(479))}else o=Pf(s,u,p,2),o!==null&&ni(o,s,2)}function Uu(s){var o=s.alternate;return s===Je||o!==null&&o===Je}function R0(s,o){no=Lu=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function N0(s,o,u){if((u&4194048)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,jb(s,u)}}var Tl={readContext:Rn,use:Bu,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Tl.useEffectEvent=Qt;var O0={readContext:Rn,use:Bu,useCallback:function(s,o){return Hn().memoizedState=[s,o===void 0?null:o],s},useContext:Rn,useEffect:p0,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Iu(4194308,4,b0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Iu(4194308,4,s,o)},useInsertionEffect:function(s,o){Iu(4,2,s,o)},useMemo:function(s,o){var u=Hn();o=o===void 0?null:o;var p=s();if(ra){jn(!0);try{s()}finally{jn(!1)}}return u.memoizedState=[p,o],p},useReducer:function(s,o,u){var p=Hn();if(u!==void 0){var y=u(o);if(ra){jn(!0);try{u(o)}finally{jn(!1)}}}else y=o;return p.memoizedState=p.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},p.queue=s,s=s.dispatch=O2.bind(null,Je,s),[p.memoizedState,s]},useRef:function(s){var o=Hn();return s={current:s},o.memoizedState=s},useState:function(s){s=hp(s);var o=s.queue,u=k0.bind(null,Je,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:mp,useDeferredValue:function(s,o){var u=Hn();return gp(u,s,o)},useTransition:function(){var s=hp(!1);return s=w0.bind(null,Je,s.queue,!0,!1),Hn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var p=Je,y=Hn();if(dt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),kt===null)throw Error(i(349));(lt&127)!==0||Qv(p,o,u)}y.memoizedState=u;var _={value:u,getSnapshot:o};return y.queue=_,p0(e0.bind(null,p,_,s),[s]),p.flags|=2048,ro(9,{destroy:void 0},Jv.bind(null,p,_,u,o),null),u},useId:function(){var s=Hn(),o=kt.identifierPrefix;if(dt){var u=ur,p=cr;u=(p&~(1<<32-vt(p)-1)).toString(32)+u,o="_"+o+"R_"+u,u=ju++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=A2++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:bp,useFormState:c0,useActionState:c0,useOptimistic:function(s){var o=Hn();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=vp.bind(null,Je,!0,u),u.dispatch=o,[s,o]},useMemoCache:cp,useCacheRefresh:function(){return Hn().memoizedState=N2.bind(null,Je)},useEffectEvent:function(s){var o=Hn(),u={impl:s};return o.memoizedState=u,function(){if((yt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},_p={readContext:Rn,use:Bu,useCallback:_0,useContext:Rn,useEffect:pp,useImperativeHandle:v0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:x0,useReducer:Fu,useRef:f0,useState:function(){return Fu(Fr)},useDebugValue:mp,useDeferredValue:function(s,o){var u=nn();return S0(u,At.memoizedState,s,o)},useTransition:function(){var s=Fu(Fr)[0],o=nn().memoizedState;return[typeof s=="boolean"?s:El(s),o]},useSyncExternalStore:Zv,useId:C0,useHostTransitionStatus:bp,useFormState:u0,useActionState:u0,useOptimistic:function(s,o){var u=nn();return i0(u,At,s,o)},useMemoCache:cp,useCacheRefresh:T0};_p.useEffectEvent=m0;var M0={readContext:Rn,use:Bu,useCallback:_0,useContext:Rn,useEffect:pp,useImperativeHandle:v0,useInsertionEffect:g0,useLayoutEffect:y0,useMemo:x0,useReducer:dp,useRef:f0,useState:function(){return dp(Fr)},useDebugValue:mp,useDeferredValue:function(s,o){var u=nn();return At===null?gp(u,s,o):S0(u,At.memoizedState,s,o)},useTransition:function(){var s=dp(Fr)[0],o=nn().memoizedState;return[typeof s=="boolean"?s:El(s),o]},useSyncExternalStore:Zv,useId:C0,useHostTransitionStatus:bp,useFormState:h0,useActionState:h0,useOptimistic:function(s,o){var u=nn();return At!==null?i0(u,At,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:cp,useCacheRefresh:T0};M0.useEffectEvent=m0;function xp(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:m({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Sp={enqueueSetState:function(s,o,u){s=s._reactInternals;var p=vi(),y=ms(p);y.payload=o,u!=null&&(y.callback=u),o=gs(s,y,p),o!==null&&(ni(o,s,p),xl(o,s,p))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=vi(),y=ms(p);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=gs(s,y,p),o!==null&&(ni(o,s,p),xl(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=vi(),p=ms(u);p.tag=2,o!=null&&(p.callback=o),o=gs(s,p,u),o!==null&&(ni(o,s,u),xl(o,s,u))}};function D0(s,o,u,p,y,_,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,O):o.prototype&&o.prototype.isPureReactComponent?!fl(u,p)||!fl(y,_):!0}function L0(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&Sp.enqueueReplaceState(o,o.state,null)}function sa(s,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(s=s.defaultProps){u===o&&(u=m({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}function j0(s){vu(s)}function P0(s){console.error(s)}function B0(s){vu(s)}function Hu(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function F0(s,o,u){try{var p=s.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function wp(s,o,u){return u=ms(u),u.tag=3,u.payload={element:null},u.callback=function(){Hu(s,o)},u}function I0(s){return s=ms(s),s.tag=3,s}function z0(s,o,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var _=p.value;s.payload=function(){return y(_)},s.callback=function(){F0(o,u,p)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){F0(o,u,p),typeof y!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var $=p.stack;this.componentDidCatch(p.value,{componentStack:$!==null?$:""})})}function M2(s,o,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Ka(o,u,y,!0),u=mi.current,u!==null){switch(u.tag){case 31:case 13:return ji===null?ed():u.alternate===null&&Jt===0&&(Jt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===Ru?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),Yp(s,p,y)),!1;case 22:return u.flags|=65536,p===Ru?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),Yp(s,p,y)),!1}throw Error(i(435,u.tag))}return Yp(s,p,y),ed(),!1}if(dt)return o=mi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,p!==Hf&&(s=Error(i(422),{cause:p}),gl(Oi(s,u)))):(p!==Hf&&(o=Error(i(423),{cause:p}),gl(Oi(o,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,p=Oi(p,u),y=wp(s.stateNode,p,y),Jf(s,y),Jt!==4&&(Jt=2)),!1;var _=Error(i(520),{cause:p});if(_=Oi(_,u),jl===null?jl=[_]:jl.push(_),Jt!==4&&(Jt=2),o===null)return!0;p=Oi(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=wp(u.stateNode,p,s),Jf(u,s),!1;case 1:if(o=u.type,_=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ss===null||!Ss.has(_))))return u.flags|=65536,y&=-y,u.lanes|=y,y=I0(y),z0(y,s,u,p),Jf(u,y),!1}u=u.return}while(u!==null);return!1}var Ap=Error(i(461)),dn=!1;function Nn(s,o,u,p){o.child=s===null?qv(o,null,u,p):ia(o,s.child,u,p)}function U0(s,o,u,p,y){u=u.render;var _=o.ref;if("ref"in p){var O={};for(var $ in p)$!=="ref"&&(O[$]=p[$])}else O=p;return Js(o),p=sp(s,o,u,O,_,y),$=ap(),s!==null&&!dn?(op(s,o,y),Ir(s,o,y)):(dt&&$&&zf(o),o.flags|=1,Nn(s,o,p,y),o.child)}function H0(s,o,u,p,y){if(s===null){var _=u.type;return typeof _=="function"&&!Bf(_)&&_.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=_,$0(s,o,_,p,y)):(s=wu(u.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,!Mp(s,y)){var O=_.memoizedProps;if(u=u.compare,u=u!==null?u:fl,u(O,p)&&s.ref===o.ref)return Ir(s,o,y)}return o.flags|=1,s=Dr(_,p),s.ref=o.ref,s.return=o,o.child=s}function $0(s,o,u,p,y){if(s!==null){var _=s.memoizedProps;if(fl(_,p)&&s.ref===o.ref)if(dn=!1,o.pendingProps=p=_,Mp(s,y))(s.flags&131072)!==0&&(dn=!0);else return o.lanes=s.lanes,Ir(s,o,y)}return Ep(s,o,u,p,y)}function q0(s,o,u,p){var y=p.children,_=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|u:u,s!==null){for(p=o.child=s.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;p=y&~_}else p=0,o.child=null;return V0(s,o,_,u,p)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Tu(o,_!==null?_.cachePool:null),_!==null?Xv(o,_):tp(),Yv(o);else return p=o.lanes=536870912,V0(s,o,_!==null?_.baseLanes|u:u,u,p)}else _!==null?(Tu(o,_.cachePool),Xv(o,_),bs(),o.memoizedState=null):(s!==null&&Tu(o,null),tp(),bs());return Nn(s,o,y,u),o.child}function kl(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function V0(s,o,u,p,y){var _=Wf();return _=_===null?null:{parent:cn._currentValue,pool:_},o.memoizedState={baseLanes:u,cachePool:_},s!==null&&Tu(o,null),tp(),Yv(o),s!==null&&Ka(s,o,p,!0),o.childLanes=y,null}function $u(s,o){return o=Vu({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function G0(s,o,u){return ia(o,s.child,null,u),s=$u(o,o.pendingProps),s.flags|=2,gi(o),o.memoizedState=null,s}function D2(s,o,u){var p=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(dt){if(p.mode==="hidden")return s=$u(o,p),o.lanes=536870912,kl(null,s);if(ip(o),(s=Bt)?(s=r_(s,Li),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:us!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},u=Rv(s),u.return=o,o.child=u,kn=o,Bt=null)):s=null,s===null)throw hs(o);return o.lanes=536870912,null}return $u(o,p)}var _=s.memoizedState;if(_!==null){var O=_.dehydrated;if(ip(o),y)if(o.flags&256)o.flags&=-257,o=G0(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(dn||Ka(s,o,u,!1),y=(u&s.childLanes)!==0,dn||y){if(p=kt,p!==null&&(O=Pb(p,u),O!==0&&O!==_.retryLane))throw _.retryLane=O,Ws(s,O),ni(p,s,O),Ap;ed(),o=G0(s,o,u)}else s=_.treeContext,Bt=Pi(O.nextSibling),kn=o,dt=!0,ds=null,Li=!1,s!==null&&Mv(o,s),o=$u(o,p),o.flags|=4096;return o}return s=Dr(s.child,{mode:p.mode,children:p.children}),s.ref=o.ref,o.child=s,s.return=o,s}function qu(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function Ep(s,o,u,p,y){return Js(o),u=sp(s,o,u,p,void 0,y),p=ap(),s!==null&&!dn?(op(s,o,y),Ir(s,o,y)):(dt&&p&&zf(o),o.flags|=1,Nn(s,o,u,y),o.child)}function X0(s,o,u,p,y,_){return Js(o),o.updateQueue=null,u=Kv(o,p,u,y),Wv(s),p=ap(),s!==null&&!dn?(op(s,o,_),Ir(s,o,_)):(dt&&p&&zf(o),o.flags|=1,Nn(s,o,u,_),o.child)}function Y0(s,o,u,p,y){if(Js(o),o.stateNode===null){var _=Ga,O=u.contextType;typeof O=="object"&&O!==null&&(_=Rn(O)),_=new u(p,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Sp,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=p,_.state=o.memoizedState,_.refs={},Zf(o),O=u.contextType,_.context=typeof O=="object"&&O!==null?Rn(O):Ga,_.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(xp(o,u,O,p),_.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&Sp.enqueueReplaceState(_,_.state,null),wl(o,p,_,y),Sl(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(s===null){_=o.stateNode;var $=o.memoizedProps,Z=sa(u,$);_.props=Z;var oe=_.context,fe=u.contextType;O=Ga,typeof fe=="object"&&fe!==null&&(O=Rn(fe));var me=u.getDerivedStateFromProps;fe=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,fe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||($||oe!==O)&&L0(o,_,p,O),ps=!1;var le=o.memoizedState;_.state=le,wl(o,p,_,y),Sl(),oe=o.memoizedState,$||le!==oe||ps?(typeof me=="function"&&(xp(o,u,me,p),oe=o.memoizedState),(Z=ps||D0(o,u,Z,p,le,oe,O))?(fe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=oe),_.props=p,_.state=oe,_.context=O,p=Z):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{_=o.stateNode,Qf(s,o),O=o.memoizedProps,fe=sa(u,O),_.props=fe,me=o.pendingProps,le=_.context,oe=u.contextType,Z=Ga,typeof oe=="object"&&oe!==null&&(Z=Rn(oe)),$=u.getDerivedStateFromProps,(oe=typeof $=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==me||le!==Z)&&L0(o,_,p,Z),ps=!1,le=o.memoizedState,_.state=le,wl(o,p,_,y),Sl();var de=o.memoizedState;O!==me||le!==de||ps||s!==null&&s.dependencies!==null&&Eu(s.dependencies)?(typeof $=="function"&&(xp(o,u,$,p),de=o.memoizedState),(fe=ps||D0(o,u,fe,p,le,de,Z)||s!==null&&s.dependencies!==null&&Eu(s.dependencies))?(oe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,de,Z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,de,Z)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=de),_.props=p,_.state=de,_.context=Z,p=fe):(typeof _.componentDidUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&le===s.memoizedState||(o.flags|=1024),p=!1)}return _=p,qu(s,o),p=(o.flags&128)!==0,_||p?(_=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,s!==null&&p?(o.child=ia(o,s.child,null,y),o.child=ia(o,null,u,y)):Nn(s,o,u,y),o.memoizedState=_.state,s=o.child):s=Ir(s,o,y),s}function W0(s,o,u,p){return Zs(),o.flags|=256,Nn(s,o,u,p),o.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(s){return{baseLanes:s,cachePool:Fv()}}function kp(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=bi),s}function K0(s,o,u){var p=o.pendingProps,y=!1,_=(o.flags&128)!==0,O;if((O=_)||(O=s!==null&&s.memoizedState===null?!1:(tn.current&2)!==0),O&&(y=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,s===null){if(dt){if(y?ys(o):bs(),(s=Bt)?(s=r_(s,Li),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:us!==null?{id:cr,overflow:ur}:null,retryLane:536870912,hydrationErrors:null},u=Rv(s),u.return=o,o.child=u,kn=o,Bt=null)):s=null,s===null)throw hs(o);return um(s)?o.lanes=32:o.lanes=536870912,null}var $=p.children;return p=p.fallback,y?(bs(),y=o.mode,$=Vu({mode:"hidden",children:$},y),p=Ks(p,y,u,null),$.return=o,p.return=o,$.sibling=p,o.child=$,p=o.child,p.memoizedState=Tp(u),p.childLanes=kp(s,O,u),o.memoizedState=Cp,kl(null,p)):(ys(o),Rp(o,$))}var Z=s.memoizedState;if(Z!==null&&($=Z.dehydrated,$!==null)){if(_)o.flags&256?(ys(o),o.flags&=-257,o=Np(s,o,u)):o.memoizedState!==null?(bs(),o.child=s.child,o.flags|=128,o=null):(bs(),$=p.fallback,y=o.mode,p=Vu({mode:"visible",children:p.children},y),$=Ks($,y,u,null),$.flags|=2,p.return=o,$.return=o,p.sibling=$,o.child=p,ia(o,s.child,null,u),p=o.child,p.memoizedState=Tp(u),p.childLanes=kp(s,O,u),o.memoizedState=Cp,o=kl(null,p));else if(ys(o),um($)){if(O=$.nextSibling&&$.nextSibling.dataset,O)var oe=O.dgst;O=oe,p=Error(i(419)),p.stack="",p.digest=O,gl({value:p,source:null,stack:null}),o=Np(s,o,u)}else if(dn||Ka(s,o,u,!1),O=(u&s.childLanes)!==0,dn||O){if(O=kt,O!==null&&(p=Pb(O,u),p!==0&&p!==Z.retryLane))throw Z.retryLane=p,Ws(s,p),ni(O,s,p),Ap;cm($)||ed(),o=Np(s,o,u)}else cm($)?(o.flags|=192,o.child=s.child,o=null):(s=Z.treeContext,Bt=Pi($.nextSibling),kn=o,dt=!0,ds=null,Li=!1,s!==null&&Mv(o,s),o=Rp(o,p.children),o.flags|=4096);return o}return y?(bs(),$=p.fallback,y=o.mode,Z=s.child,oe=Z.sibling,p=Dr(Z,{mode:"hidden",children:p.children}),p.subtreeFlags=Z.subtreeFlags&65011712,oe!==null?$=Dr(oe,$):($=Ks($,y,u,null),$.flags|=2),$.return=o,p.return=o,p.sibling=$,o.child=p,kl(null,p),p=o.child,$=s.child.memoizedState,$===null?$=Tp(u):(y=$.cachePool,y!==null?(Z=cn._currentValue,y=y.parent!==Z?{parent:Z,pool:Z}:y):y=Fv(),$={baseLanes:$.baseLanes|u,cachePool:y}),p.memoizedState=$,p.childLanes=kp(s,O,u),o.memoizedState=Cp,kl(s.child,p)):(ys(o),u=s.child,s=u.sibling,u=Dr(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,s!==null&&(O=o.deletions,O===null?(o.deletions=[s],o.flags|=16):O.push(s)),o.child=u,o.memoizedState=null,u)}function Rp(s,o){return o=Vu({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Vu(s,o){return s=pi(22,s,null,o),s.lanes=0,s}function Np(s,o,u){return ia(o,s.child,null,u),s=Rp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Z0(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),Vf(s.return,o,u)}function Op(s,o,u,p,y,_){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y,treeForkCount:_}:(O.isBackwards=o,O.rendering=null,O.renderingStartTime=0,O.last=p,O.tail=u,O.tailMode=y,O.treeForkCount=_)}function Q0(s,o,u){var p=o.pendingProps,y=p.revealOrder,_=p.tail;p=p.children;var O=tn.current,$=(O&2)!==0;if($?(O=O&1|2,o.flags|=128):O&=1,j(tn,O),Nn(s,o,p,u),p=dt?ml:0,!$&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Z0(s,u,o);else if(s.tag===19)Z0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&Du(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Op(o,!1,y,u,_,p);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&Du(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Op(o,!0,u,null,_,p);break;case"together":Op(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function Ir(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),xs|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(Ka(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,u=Dr(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Dr(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Mp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Eu(s)))}function L2(s,o,u){switch(o.tag){case 3:Se(o,o.stateNode.containerInfo),fs(o,cn,s.memoizedState.cache),Zs();break;case 27:case 5:we(o);break;case 4:Se(o,o.stateNode.containerInfo);break;case 10:fs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,ip(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ys(o),o.flags|=128,null):(u&o.child.childLanes)!==0?K0(s,o,u):(ys(o),s=Ir(s,o,u),s!==null?s.sibling:null);ys(o);break;case 19:var y=(s.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Ka(s,o,u,!1),p=(u&o.childLanes)!==0),y){if(p)return Q0(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),j(tn,tn.current),p)break;return null;case 22:return o.lanes=0,q0(s,o,u,o.pendingProps);case 24:fs(o,cn,s.memoizedState.cache)}return Ir(s,o,u)}function J0(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)dn=!0;else{if(!Mp(s,u)&&(o.flags&128)===0)return dn=!1,L2(s,o,u);dn=(s.flags&131072)!==0}else dn=!1,dt&&(o.flags&1048576)!==0&&Ov(o,ml,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(s=ta(o.elementType),o.type=s,typeof s=="function")Bf(s)?(p=sa(s,p),o.tag=1,o=Y0(null,o,s,p,u)):(o.tag=0,o=Ep(null,o,s,p,u));else{if(s!=null){var y=s.$$typeof;if(y===B){o.tag=11,o=U0(null,o,s,p,u);break e}else if(y===M){o.tag=14,o=H0(null,o,s,p,u);break e}}throw o=Y(s)||s,Error(i(306,o,""))}}return o;case 0:return Ep(s,o,o.type,o.pendingProps,u);case 1:return p=o.type,y=sa(p,o.pendingProps),Y0(s,o,p,y,u);case 3:e:{if(Se(o,o.stateNode.containerInfo),s===null)throw Error(i(387));p=o.pendingProps;var _=o.memoizedState;y=_.element,Qf(s,o),wl(o,p,null,u);var O=o.memoizedState;if(p=O.cache,fs(o,cn,p),p!==_.cache&&Gf(o,[cn],u,!0),Sl(),p=O.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=W0(s,o,p,u);break e}else if(p!==y){y=Oi(Error(i(424)),o),gl(y),o=W0(s,o,p,u);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Bt=Pi(s.firstChild),kn=o,dt=!0,ds=null,Li=!0,u=qv(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Zs(),p===y){o=Ir(s,o,u);break e}Nn(s,o,p,u)}o=o.child}return o;case 26:return qu(s,o),s===null?(u=u_(o.type,null,o.pendingProps,null))?o.memoizedState=u:dt||(u=o.type,s=o.pendingProps,p=od(re.current).createElement(u),p[Tn]=o,p[Kn]=s,On(p,u,s),_n(p),o.stateNode=p):o.memoizedState=u_(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return we(o),s===null&&dt&&(p=o.stateNode=o_(o.type,o.pendingProps,re.current),kn=o,Li=!0,y=Bt,Cs(o.type)?(dm=y,Bt=Pi(p.firstChild)):Bt=y),Nn(s,o,o.pendingProps.children,u),qu(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&dt&&((y=p=Bt)&&(p=uk(p,o.type,o.pendingProps,Li),p!==null?(o.stateNode=p,kn=o,Bt=Pi(p.firstChild),Li=!1,y=!0):y=!1),y||hs(o)),we(o),y=o.type,_=o.pendingProps,O=s!==null?s.memoizedProps:null,p=_.children,am(y,_)?p=null:O!==null&&am(y,O)&&(o.flags|=32),o.memoizedState!==null&&(y=sp(s,o,E2,null,null,u),$l._currentValue=y),qu(s,o),Nn(s,o,p,u),o.child;case 6:return s===null&&dt&&((s=u=Bt)&&(u=dk(u,o.pendingProps,Li),u!==null?(o.stateNode=u,kn=o,Bt=null,s=!0):s=!1),s||hs(o)),null;case 13:return K0(s,o,u);case 4:return Se(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=ia(o,null,p,u):Nn(s,o,p,u),o.child;case 11:return U0(s,o,o.type,o.pendingProps,u);case 7:return Nn(s,o,o.pendingProps,u),o.child;case 8:return Nn(s,o,o.pendingProps.children,u),o.child;case 12:return Nn(s,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,fs(o,o.type,p.value),Nn(s,o,p.children,u),o.child;case 9:return y=o.type._context,p=o.pendingProps.children,Js(o),y=Rn(y),p=p(y),o.flags|=1,Nn(s,o,p,u),o.child;case 14:return H0(s,o,o.type,o.pendingProps,u);case 15:return $0(s,o,o.type,o.pendingProps,u);case 19:return Q0(s,o,u);case 31:return D2(s,o,u);case 22:return q0(s,o,u,o.pendingProps);case 24:return Js(o),p=Rn(cn),s===null?(y=Wf(),y===null&&(y=kt,_=Xf(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=u),y=_),o.memoizedState={parent:p,cache:y},Zf(o),fs(o,cn,y)):((s.lanes&u)!==0&&(Qf(s,o),wl(o,null,null,u),Sl()),y=s.memoizedState,_=o.memoizedState,y.parent!==p?(y={parent:p,cache:p},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),fs(o,cn,p)):(p=_.cache,fs(o,cn,p),p!==y.cache&&Gf(o,[cn],u,!0))),Nn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function zr(s){s.flags|=4}function Dp(s,o,u,p,y){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(y&335544128)===y)if(s.stateNode.complete)s.flags|=8192;else if(C1())s.flags|=8192;else throw na=Ru,Kf}else s.flags&=-16777217}function e1(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!m_(o))if(C1())s.flags|=8192;else throw na=Ru,Kf}function Gu(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Db():536870912,s.lanes|=o,lo|=o)}function Rl(s,o){if(!dt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Ft(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&65011712,p|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function j2(s,o,u){var p=o.pendingProps;switch(Uf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(o),null;case 1:return Ft(o),null;case 3:return u=o.stateNode,p=null,s!==null&&(p=s.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Pr(cn),ve(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Wa(o)?zr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,$f())),Ft(o),null;case 26:var y=o.type,_=o.memoizedState;return s===null?(zr(o),_!==null?(Ft(o),e1(o,_)):(Ft(o),Dp(o,y,null,p,u))):_?_!==s.memoizedState?(zr(o),Ft(o),e1(o,_)):(Ft(o),o.flags&=-16777217):(s=s.memoizedProps,s!==p&&zr(o),Ft(o),Dp(o,y,s,p,u)),null;case 27:if(Ie(o),u=re.current,y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&zr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return Ft(o),null}s=K.current,Wa(o)?Dv(o):(s=o_(y,p,u),o.stateNode=s,zr(o))}return Ft(o),null;case 5:if(Ie(o),y=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==p&&zr(o);else{if(!p){if(o.stateNode===null)throw Error(i(166));return Ft(o),null}if(_=K.current,Wa(o))Dv(o);else{var O=od(re.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?O.createElement("select",{is:p.is}):O.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?O.createElement(y,{is:p.is}):O.createElement(y)}}_[Tn]=o,_[Kn]=p;e:for(O=o.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===o)break e;for(;O.sibling===null;){if(O.return===null||O.return===o)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}o.stateNode=_;e:switch(On(_,y,p),y){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&zr(o)}}return Ft(o),Dp(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==p&&zr(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(i(166));if(s=re.current,Wa(o)){if(s=o.stateNode,u=o.memoizedProps,p=null,y=kn,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}s[Tn]=o,s=!!(s.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||K1(s.nodeValue,u)),s||hs(o,!0)}else s=od(s).createTextNode(p),s[Tn]=o,o.stateNode=s}return Ft(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(p=Wa(o),u!==null){if(s===null){if(!p)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Tn]=o}else Zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),s=!1}else u=$f(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(gi(o),o):(gi(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Ft(o),null;case 13:if(p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=Wa(o),p!==null&&p.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Tn]=o}else Zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ft(o),y=!1}else y=$f(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(gi(o),o):(gi(o),null)}return gi(o),(o.flags&128)!==0?(o.lanes=u,o):(u=p!==null,s=s!==null&&s.memoizedState!==null,u&&(p=o.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==y&&(p.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),Gu(o,o.updateQueue),Ft(o),null);case 4:return ve(),s===null&&tm(o.stateNode.containerInfo),Ft(o),null;case 10:return Pr(o.type),Ft(o),null;case 19:if(q(tn),p=o.memoizedState,p===null)return Ft(o),null;if(y=(o.flags&128)!==0,_=p.rendering,_===null)if(y)Rl(p,!1);else{if(Jt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(_=Du(s),_!==null){for(o.flags|=128,Rl(p,!1),s=_.updateQueue,o.updateQueue=s,Gu(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)kv(u,s),u=u.sibling;return j(tn,tn.current&1|2),dt&&Lr(o,p.treeForkCount),o.child}s=s.sibling}p.tail!==null&&ge()>Zu&&(o.flags|=128,y=!0,Rl(p,!1),o.lanes=4194304)}else{if(!y)if(s=Du(_),s!==null){if(o.flags|=128,y=!0,s=s.updateQueue,o.updateQueue=s,Gu(o,s),Rl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!dt)return Ft(o),null}else 2*ge()-p.renderingStartTime>Zu&&u!==536870912&&(o.flags|=128,y=!0,Rl(p,!1),o.lanes=4194304);p.isBackwards?(_.sibling=o.child,o.child=_):(s=p.last,s!==null?s.sibling=_:o.child=_,p.last=_)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=ge(),s.sibling=null,u=tn.current,j(tn,y?u&1|2:u&1),dt&&Lr(o,p.treeForkCount),s):(Ft(o),null);case 22:case 23:return gi(o),np(),p=o.memoizedState!==null,s!==null?s.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(Ft(o),o.subtreeFlags&6&&(o.flags|=8192)):Ft(o),u=o.updateQueue,u!==null&&Gu(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),s!==null&&q(ea),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Pr(cn),Ft(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function P2(s,o){switch(Uf(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Pr(cn),ve(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Ie(o),null;case 31:if(o.memoizedState!==null){if(gi(o),o.alternate===null)throw Error(i(340));Zs()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(gi(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Zs()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return q(tn),null;case 4:return ve(),null;case 10:return Pr(o.type),null;case 22:case 23:return gi(o),np(),s!==null&&q(ea),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Pr(cn),null;case 25:return null;default:return null}}function t1(s,o){switch(Uf(o),o.tag){case 3:Pr(cn),ve();break;case 26:case 27:case 5:Ie(o);break;case 4:ve();break;case 31:o.memoizedState!==null&&gi(o);break;case 13:gi(o);break;case 19:q(tn);break;case 10:Pr(o.type);break;case 22:case 23:gi(o),np(),s!==null&&q(ea);break;case 24:Pr(cn)}}function Nl(s,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&s)===s){p=void 0;var _=u.create,O=u.inst;p=_(),O.destroy=p}u=u.next}while(u!==y)}}catch($){St(o,o.return,$)}}function vs(s,o,u){try{var p=o.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var _=y.next;p=_;do{if((p.tag&s)===s){var O=p.inst,$=O.destroy;if($!==void 0){O.destroy=void 0,y=o;var Z=u,oe=$;try{oe()}catch(fe){St(y,Z,fe)}}}p=p.next}while(p!==_)}}catch(fe){St(o,o.return,fe)}}function n1(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{Gv(o,u)}catch(p){St(s,s.return,p)}}}function i1(s,o,u){u.props=sa(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(p){St(s,o,p)}}function Ol(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var p=s.stateNode;break;case 30:p=s.stateNode;break;default:p=s.stateNode}typeof u=="function"?s.refCleanup=u(p):u.current=p}}catch(y){St(s,o,y)}}function dr(s,o){var u=s.ref,p=s.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){St(s,o,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){St(s,o,y)}else u.current=null}function r1(s){var o=s.type,u=s.memoizedProps,p=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){St(s,s.return,y)}}function Lp(s,o,u){try{var p=s.stateNode;rk(p,s.type,u,o),p[Kn]=o}catch(y){St(s,s.return,y)}}function s1(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cs(s.type)||s.tag===4}function jp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||s1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Pp(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Or));else if(p!==4&&(p===27&&Cs(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Pp(s,o,u),s=s.sibling;s!==null;)Pp(s,o,u),s=s.sibling}function Xu(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(p===27&&Cs(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Xu(s,o,u),s=s.sibling;s!==null;)Xu(s,o,u),s=s.sibling}function a1(s){var o=s.stateNode,u=s.memoizedProps;try{for(var p=s.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);On(o,p,u),o[Tn]=s,o[Kn]=u}catch(_){St(s,s.return,_)}}var Ur=!1,hn=!1,Bp=!1,o1=typeof WeakSet=="function"?WeakSet:Set,xn=null;function B2(s,o){if(s=s.containerInfo,rm=pd,s=vv(s),Nf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var O=0,$=-1,Z=-1,oe=0,fe=0,me=s,le=null;t:for(;;){for(var de;me!==u||y!==0&&me.nodeType!==3||($=O+y),me!==_||p!==0&&me.nodeType!==3||(Z=O+p),me.nodeType===3&&(O+=me.nodeValue.length),(de=me.firstChild)!==null;)le=me,me=de;for(;;){if(me===s)break t;if(le===u&&++oe===y&&($=O),le===_&&++fe===p&&(Z=O),(de=me.nextSibling)!==null)break;me=le,le=me.parentNode}me=de}u=$===-1||Z===-1?null:{start:$,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(sm={focusedElem:s,selectionRange:u},pd=!1,xn=o;xn!==null;)if(o=xn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,xn=s;else for(;xn!==null;){switch(o=xn,_=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)y=s[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&_!==null){s=void 0,u=o,y=_.memoizedProps,_=_.memoizedState,p=u.stateNode;try{var Ne=sa(u.type,y);s=p.getSnapshotBeforeUpdate(Ne,_),p.__reactInternalSnapshotBeforeUpdate=s}catch(He){St(u,u.return,He)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)lm(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":lm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,xn=s;break}xn=o.return}}function l1(s,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:$r(s,u),p&4&&Nl(5,u);break;case 1:if($r(s,u),p&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(O){St(u,u.return,O)}else{var y=sa(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(y,o,s.__reactInternalSnapshotBeforeUpdate)}catch(O){St(u,u.return,O)}}p&64&&n1(u),p&512&&Ol(u,u.return);break;case 3:if($r(s,u),p&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Gv(s,o)}catch(O){St(u,u.return,O)}}break;case 27:o===null&&p&4&&a1(u);case 26:case 5:$r(s,u),o===null&&p&4&&r1(u),p&512&&Ol(u,u.return);break;case 12:$r(s,u);break;case 31:$r(s,u),p&4&&d1(s,u);break;case 13:$r(s,u),p&4&&h1(s,u),p&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=G2.bind(null,u),hk(s,u))));break;case 22:if(p=u.memoizedState!==null||Ur,!p){o=o!==null&&o.memoizedState!==null||hn,y=Ur;var _=hn;Ur=p,(hn=o)&&!_?qr(s,u,(u.subtreeFlags&8772)!==0):$r(s,u),Ur=y,hn=_}break;case 30:break;default:$r(s,u)}}function c1(s){var o=s.alternate;o!==null&&(s.alternate=null,c1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ff(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var zt=null,Qn=!1;function Hr(s,o,u){for(u=u.child;u!==null;)u1(s,o,u),u=u.sibling}function u1(s,o,u){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(bn,u)}catch{}switch(u.tag){case 26:hn||dr(u,o),Hr(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:hn||dr(u,o);var p=zt,y=Qn;Cs(u.type)&&(zt=u.stateNode,Qn=!1),Hr(s,o,u),zl(u.stateNode),zt=p,Qn=y;break;case 5:hn||dr(u,o);case 6:if(p=zt,y=Qn,zt=null,Hr(s,o,u),zt=p,Qn=y,zt!==null)if(Qn)try{(zt.nodeType===9?zt.body:zt.nodeName==="HTML"?zt.ownerDocument.body:zt).removeChild(u.stateNode)}catch(_){St(u,o,_)}else try{zt.removeChild(u.stateNode)}catch(_){St(u,o,_)}break;case 18:zt!==null&&(Qn?(s=zt,n_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),yo(s)):n_(zt,u.stateNode));break;case 4:p=zt,y=Qn,zt=u.stateNode.containerInfo,Qn=!0,Hr(s,o,u),zt=p,Qn=y;break;case 0:case 11:case 14:case 15:vs(2,u,o),hn||vs(4,u,o),Hr(s,o,u);break;case 1:hn||(dr(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&i1(u,o,p)),Hr(s,o,u);break;case 21:Hr(s,o,u);break;case 22:hn=(p=hn)||u.memoizedState!==null,Hr(s,o,u),hn=p;break;default:Hr(s,o,u)}}function d1(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{yo(s)}catch(u){St(o,o.return,u)}}}function h1(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{yo(s)}catch(u){St(o,o.return,u)}}function F2(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new o1),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new o1),o;default:throw Error(i(435,s.tag))}}function Yu(s,o){var u=F2(s);o.forEach(function(p){if(!u.has(p)){u.add(p);var y=X2.bind(null,s,p);p.then(y,y)}})}function Jn(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],_=s,O=o,$=O;e:for(;$!==null;){switch($.tag){case 27:if(Cs($.type)){zt=$.stateNode,Qn=!1;break e}break;case 5:zt=$.stateNode,Qn=!1;break e;case 3:case 4:zt=$.stateNode.containerInfo,Qn=!0;break e}$=$.return}if(zt===null)throw Error(i(160));u1(_,O,y),zt=null,Qn=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)f1(o,s),o=o.sibling}var Xi=null;function f1(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Jn(o,s),ei(s),p&4&&(vs(3,s,s.return),Nl(3,s),vs(5,s,s.return));break;case 1:Jn(o,s),ei(s),p&512&&(hn||u===null||dr(u,u.return)),p&64&&Ur&&(s=s.updateQueue,s!==null&&(p=s.callbacks,p!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=Xi;if(Jn(o,s),ei(s),p&512&&(hn||u===null||dr(u,u.return)),p&4){var _=u!==null?u.memoizedState:null;if(p=s.memoizedState,u===null)if(p===null)if(s.stateNode===null){e:{p=s.type,u=s.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":_=y.getElementsByTagName("title")[0],(!_||_[rl]||_[Tn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(p),y.head.insertBefore(_,y.querySelector("head > title"))),On(_,p,u),_[Tn]=s,_n(_),p=_;break e;case"link":var O=f_("link","href",y).get(p+(u.href||""));if(O){for(var $=0;$<O.length;$++)if(_=O[$],_.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&_.getAttribute("rel")===(u.rel==null?null:u.rel)&&_.getAttribute("title")===(u.title==null?null:u.title)&&_.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice($,1);break t}}_=y.createElement(p),On(_,p,u),y.head.appendChild(_);break;case"meta":if(O=f_("meta","content",y).get(p+(u.content||""))){for($=0;$<O.length;$++)if(_=O[$],_.getAttribute("content")===(u.content==null?null:""+u.content)&&_.getAttribute("name")===(u.name==null?null:u.name)&&_.getAttribute("property")===(u.property==null?null:u.property)&&_.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&_.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice($,1);break t}}_=y.createElement(p),On(_,p,u),y.head.appendChild(_);break;default:throw Error(i(468,p))}_[Tn]=s,_n(_),p=_}s.stateNode=p}else p_(y,s.type,s.stateNode);else s.stateNode=h_(y,p,s.memoizedProps);else _!==p?(_===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):_.count--,p===null?p_(y,s.type,s.stateNode):h_(y,p,s.memoizedProps)):p===null&&s.stateNode!==null&&Lp(s,s.memoizedProps,u.memoizedProps)}break;case 27:Jn(o,s),ei(s),p&512&&(hn||u===null||dr(u,u.return)),u!==null&&p&4&&Lp(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Jn(o,s),ei(s),p&512&&(hn||u===null||dr(u,u.return)),s.flags&32){y=s.stateNode;try{Ia(y,"")}catch(Ne){St(s,s.return,Ne)}}p&4&&s.stateNode!=null&&(y=s.memoizedProps,Lp(s,y,u!==null?u.memoizedProps:y)),p&1024&&(Bp=!0);break;case 6:if(Jn(o,s),ei(s),p&4){if(s.stateNode===null)throw Error(i(162));p=s.memoizedProps,u=s.stateNode;try{u.nodeValue=p}catch(Ne){St(s,s.return,Ne)}}break;case 3:if(ud=null,y=Xi,Xi=ld(o.containerInfo),Jn(o,s),Xi=y,ei(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{yo(o.containerInfo)}catch(Ne){St(s,s.return,Ne)}Bp&&(Bp=!1,p1(s));break;case 4:p=Xi,Xi=ld(s.stateNode.containerInfo),Jn(o,s),ei(s),Xi=p;break;case 12:Jn(o,s),ei(s);break;case 31:Jn(o,s),ei(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Yu(s,p)));break;case 13:Jn(o,s),ei(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Ku=ge()),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Yu(s,p)));break;case 22:y=s.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,oe=Ur,fe=hn;if(Ur=oe||y,hn=fe||Z,Jn(o,s),hn=fe,Ur=oe,ei(s),p&8192)e:for(o=s.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||Z||Ur||hn||aa(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){Z=u=o;try{if(_=Z.stateNode,y)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{$=Z.stateNode;var me=Z.memoizedProps.style,le=me!=null&&me.hasOwnProperty("display")?me.display:null;$.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ne){St(Z,Z.return,Ne)}}}else if(o.tag===6){if(u===null){Z=o;try{Z.stateNode.nodeValue=y?"":Z.memoizedProps}catch(Ne){St(Z,Z.return,Ne)}}}else if(o.tag===18){if(u===null){Z=o;try{var de=Z.stateNode;y?i_(de,!0):i_(Z.stateNode,!1)}catch(Ne){St(Z,Z.return,Ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=s.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Yu(s,u))));break;case 19:Jn(o,s),ei(s),p&4&&(p=s.updateQueue,p!==null&&(s.updateQueue=null,Yu(s,p)));break;case 30:break;case 21:break;default:Jn(o,s),ei(s)}}function ei(s){var o=s.flags;if(o&2){try{for(var u,p=s.return;p!==null;){if(s1(p)){u=p;break}p=p.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,_=jp(s);Xu(s,_,y);break;case 5:var O=u.stateNode;u.flags&32&&(Ia(O,""),u.flags&=-33);var $=jp(s);Xu(s,$,O);break;case 3:case 4:var Z=u.stateNode.containerInfo,oe=jp(s);Pp(s,oe,Z);break;default:throw Error(i(161))}}catch(fe){St(s,s.return,fe)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function p1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;p1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function $r(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)l1(s,o.alternate,o),o=o.sibling}function aa(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:vs(4,o,o.return),aa(o);break;case 1:dr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&i1(o,o.return,u),aa(o);break;case 27:zl(o.stateNode);case 26:case 5:dr(o,o.return),aa(o);break;case 22:o.memoizedState===null&&aa(o);break;case 30:aa(o);break;default:aa(o)}s=s.sibling}}function qr(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,y=s,_=o,O=_.flags;switch(_.tag){case 0:case 11:case 15:qr(y,_,u),Nl(4,_);break;case 1:if(qr(y,_,u),p=_,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(oe){St(p,p.return,oe)}if(p=_,y=p.updateQueue,y!==null){var $=p.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)Vv(Z[y],$)}catch(oe){St(p,p.return,oe)}}u&&O&64&&n1(_),Ol(_,_.return);break;case 27:a1(_);case 26:case 5:qr(y,_,u),u&&p===null&&O&4&&r1(_),Ol(_,_.return);break;case 12:qr(y,_,u);break;case 31:qr(y,_,u),u&&O&4&&d1(y,_);break;case 13:qr(y,_,u),u&&O&4&&h1(y,_);break;case 22:_.memoizedState===null&&qr(y,_,u),Ol(_,_.return);break;case 30:break;default:qr(y,_,u)}o=o.sibling}}function Fp(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&yl(u))}function Ip(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&yl(s))}function Yi(s,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)m1(s,o,u,p),o=o.sibling}function m1(s,o,u,p){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Yi(s,o,u,p),y&2048&&Nl(9,o);break;case 1:Yi(s,o,u,p);break;case 3:Yi(s,o,u,p),y&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&yl(s)));break;case 12:if(y&2048){Yi(s,o,u,p),s=o.stateNode;try{var _=o.memoizedProps,O=_.id,$=_.onPostCommit;typeof $=="function"&&$(O,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){St(o,o.return,Z)}}else Yi(s,o,u,p);break;case 31:Yi(s,o,u,p);break;case 13:Yi(s,o,u,p);break;case 23:break;case 22:_=o.stateNode,O=o.alternate,o.memoizedState!==null?_._visibility&2?Yi(s,o,u,p):Ml(s,o):_._visibility&2?Yi(s,o,u,p):(_._visibility|=2,so(s,o,u,p,(o.subtreeFlags&10256)!==0||!1)),y&2048&&Fp(O,o);break;case 24:Yi(s,o,u,p),y&2048&&Ip(o.alternate,o);break;default:Yi(s,o,u,p)}}function so(s,o,u,p,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=s,O=o,$=u,Z=p,oe=O.flags;switch(O.tag){case 0:case 11:case 15:so(_,O,$,Z,y),Nl(8,O);break;case 23:break;case 22:var fe=O.stateNode;O.memoizedState!==null?fe._visibility&2?so(_,O,$,Z,y):Ml(_,O):(fe._visibility|=2,so(_,O,$,Z,y)),y&&oe&2048&&Fp(O.alternate,O);break;case 24:so(_,O,$,Z,y),y&&oe&2048&&Ip(O.alternate,O);break;default:so(_,O,$,Z,y)}o=o.sibling}}function Ml(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,p=o,y=p.flags;switch(p.tag){case 22:Ml(u,p),y&2048&&Fp(p.alternate,p);break;case 24:Ml(u,p),y&2048&&Ip(p.alternate,p);break;default:Ml(u,p)}o=o.sibling}}var Dl=8192;function ao(s,o,u){if(s.subtreeFlags&Dl)for(s=s.child;s!==null;)g1(s,o,u),s=s.sibling}function g1(s,o,u){switch(s.tag){case 26:ao(s,o,u),s.flags&Dl&&s.memoizedState!==null&&Ak(u,Xi,s.memoizedState,s.memoizedProps);break;case 5:ao(s,o,u);break;case 3:case 4:var p=Xi;Xi=ld(s.stateNode.containerInfo),ao(s,o,u),Xi=p;break;case 22:s.memoizedState===null&&(p=s.alternate,p!==null&&p.memoizedState!==null?(p=Dl,Dl=16777216,ao(s,o,u),Dl=p):ao(s,o,u));break;default:ao(s,o,u)}}function y1(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Ll(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];xn=p,v1(p,s)}y1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)b1(s),s=s.sibling}function b1(s){switch(s.tag){case 0:case 11:case 15:Ll(s),s.flags&2048&&vs(9,s,s.return);break;case 3:Ll(s);break;case 12:Ll(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Wu(s)):Ll(s);break;default:Ll(s)}}function Wu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];xn=p,v1(p,s)}y1(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:vs(8,o,o.return),Wu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Wu(o));break;default:Wu(o)}s=s.sibling}}function v1(s,o){for(;xn!==null;){var u=xn;switch(u.tag){case 0:case 11:case 15:vs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:yl(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,xn=p;else e:for(u=s;xn!==null;){p=xn;var y=p.sibling,_=p.return;if(c1(p),p===u){xn=null;break e}if(y!==null){y.return=_,xn=y;break e}xn=_}}}var I2={getCacheForType:function(s){var o=Rn(cn),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return Rn(cn).controller.signal}},z2=typeof WeakMap=="function"?WeakMap:Map,yt=0,kt=null,at=null,lt=0,xt=0,yi=null,_s=!1,oo=!1,zp=!1,Vr=0,Jt=0,xs=0,oa=0,Up=0,bi=0,lo=0,jl=null,ti=null,Hp=!1,Ku=0,_1=0,Zu=1/0,Qu=null,Ss=null,vn=0,ws=null,co=null,Gr=0,$p=0,qp=null,x1=null,Pl=0,Vp=null;function vi(){return(yt&2)!==0&&lt!==0?lt&-lt:U.T!==null?Zp():Bb()}function S1(){if(bi===0)if((lt&536870912)===0||dt){var s=au;au<<=1,(au&3932160)===0&&(au=262144),bi=s}else bi=536870912;return s=mi.current,s!==null&&(s.flags|=32),bi}function ni(s,o,u){(s===kt&&(xt===2||xt===9)||s.cancelPendingCommit!==null)&&(uo(s,0),As(s,lt,bi,!1)),il(s,u),((yt&2)===0||s!==kt)&&(s===kt&&((yt&2)===0&&(oa|=u),Jt===4&&As(s,lt,bi,!1)),hr(s))}function w1(s,o,u){if((yt&6)!==0)throw Error(i(327));var p=!u&&(o&127)===0&&(o&s.expiredLanes)===0||nl(s,o),y=p?$2(s,o):Xp(s,o,!0),_=p;do{if(y===0){oo&&!p&&As(s,o,0,!1);break}else{if(u=s.current.alternate,_&&!U2(u)){y=Xp(s,o,!1),_=!1;continue}if(y===2){if(_=o,s.errorRecoveryDisabledLanes&_)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var $=s;y=jl;var Z=$.current.memoizedState.isDehydrated;if(Z&&(uo($,O).flags|=256),O=Xp($,O,!1),O!==2){if(zp&&!Z){$.errorRecoveryDisabledLanes|=_,oa|=_,y=4;break e}_=ti,ti=y,_!==null&&(ti===null?ti=_:ti.push.apply(ti,_))}y=O}if(_=!1,y!==2)continue}}if(y===1){uo(s,0),As(s,o,0,!0);break}e:{switch(p=s,_=y,_){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:As(p,o,bi,!_s);break e;case 2:ti=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(y=Ku+300-ge(),10<y)){if(As(p,o,bi,!_s),lu(p,0,!0)!==0)break e;Gr=o,p.timeoutHandle=e_(A1.bind(null,p,u,ti,Qu,Hp,o,bi,oa,lo,_s,_,"Throttled",-0,0),y);break e}A1(p,u,ti,Qu,Hp,o,bi,oa,lo,_s,_,null,-0,0)}}break}while(!0);hr(s)}function A1(s,o,u,p,y,_,O,$,Z,oe,fe,me,le,de){if(s.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Or},g1(o,_,me);var Ne=(_&62914560)===_?Ku-ge():(_&4194048)===_?_1-ge():0;if(Ne=Ek(me,Ne),Ne!==null){Gr=_,s.cancelPendingCommit=Ne(M1.bind(null,s,o,_,u,p,y,O,$,Z,fe,me,null,le,de)),As(s,_,O,!oe);return}}M1(s,o,_,u,p,y,O,$,Z)}function U2(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],_=y.getSnapshot;y=y.value;try{if(!fi(_(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function As(s,o,u,p){o&=~Up,o&=~oa,s.suspendedLanes|=o,s.pingedLanes&=~o,p&&(s.warmLanes|=o),p=s.expirationTimes;for(var y=o;0<y;){var _=31-vt(y),O=1<<_;p[_]=-1,y&=~O}u!==0&&Lb(s,u,o)}function Ju(){return(yt&6)===0?(Bl(0),!1):!0}function Gp(){if(at!==null){if(xt===0)var s=at.return;else s=at,jr=Qs=null,lp(s),eo=null,vl=0,s=at;for(;s!==null;)t1(s.alternate,s),s=s.return;at=null}}function uo(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,ok(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Gr=0,Gp(),kt=s,at=u=Dr(s.current,null),lt=o,xt=0,yi=null,_s=!1,oo=nl(s,o),zp=!1,lo=bi=Up=oa=xs=Jt=0,ti=jl=null,Hp=!1,(o&8)!==0&&(o|=o&32);var p=s.entangledLanes;if(p!==0)for(s=s.entanglements,p&=o;0<p;){var y=31-vt(p),_=1<<y;o|=s[y],p&=~_}return Vr=o,_u(),u}function E1(s,o){Je=null,U.H=Tl,o===Ja||o===ku?(o=Uv(),xt=3):o===Kf?(o=Uv(),xt=4):xt=o===Ap?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,yi=o,at===null&&(Jt=1,Hu(s,Oi(o,s.current)))}function C1(){var s=mi.current;return s===null?!0:(lt&4194048)===lt?ji===null:(lt&62914560)===lt||(lt&536870912)!==0?s===ji:!1}function T1(){var s=U.H;return U.H=Tl,s===null?Tl:s}function k1(){var s=U.A;return U.A=I2,s}function ed(){Jt=4,_s||(lt&4194048)!==lt&&mi.current!==null||(oo=!0),(xs&134217727)===0&&(oa&134217727)===0||kt===null||As(kt,lt,bi,!1)}function Xp(s,o,u){var p=yt;yt|=2;var y=T1(),_=k1();(kt!==s||lt!==o)&&(Qu=null,uo(s,o)),o=!1;var O=Jt;e:do try{if(xt!==0&&at!==null){var $=at,Z=yi;switch(xt){case 8:Gp(),O=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(o=!0);var oe=xt;if(xt=0,yi=null,ho(s,$,Z,oe),u&&oo){O=0;break e}break;default:oe=xt,xt=0,yi=null,ho(s,$,Z,oe)}}H2(),O=Jt;break}catch(fe){E1(s,fe)}while(!0);return o&&s.shellSuspendCounter++,jr=Qs=null,yt=p,U.H=y,U.A=_,at===null&&(kt=null,lt=0,_u()),O}function H2(){for(;at!==null;)R1(at)}function $2(s,o){var u=yt;yt|=2;var p=T1(),y=k1();kt!==s||lt!==o?(Qu=null,Zu=ge()+500,uo(s,o)):oo=nl(s,o);e:do try{if(xt!==0&&at!==null){o=at;var _=yi;t:switch(xt){case 1:xt=0,yi=null,ho(s,o,_,1);break;case 2:case 9:if(Iv(_)){xt=0,yi=null,N1(o);break}o=function(){xt!==2&&xt!==9||kt!==s||(xt=7),hr(s)},_.then(o,o);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Iv(_)?(xt=0,yi=null,N1(o)):(xt=0,yi=null,ho(s,o,_,7));break;case 5:var O=null;switch(at.tag){case 26:O=at.memoizedState;case 5:case 27:var $=at;if(O?m_(O):$.stateNode.complete){xt=0,yi=null;var Z=$.sibling;if(Z!==null)at=Z;else{var oe=$.return;oe!==null?(at=oe,td(oe)):at=null}break t}}xt=0,yi=null,ho(s,o,_,5);break;case 6:xt=0,yi=null,ho(s,o,_,6);break;case 8:Gp(),Jt=6;break e;default:throw Error(i(462))}}q2();break}catch(fe){E1(s,fe)}while(!0);return jr=Qs=null,U.H=p,U.A=y,yt=u,at!==null?0:(kt=null,lt=0,_u(),Jt)}function q2(){for(;at!==null&&!ce();)R1(at)}function R1(s){var o=J0(s.alternate,s,Vr);s.memoizedProps=s.pendingProps,o===null?td(s):at=o}function N1(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=X0(u,o,o.pendingProps,o.type,void 0,lt);break;case 11:o=X0(u,o,o.pendingProps,o.type.render,o.ref,lt);break;case 5:lp(o);default:t1(u,o),o=at=kv(o,Vr),o=J0(u,o,Vr)}s.memoizedProps=s.pendingProps,o===null?td(s):at=o}function ho(s,o,u,p){jr=Qs=null,lp(o),eo=null,vl=0;var y=o.return;try{if(M2(s,y,o,u,lt)){Jt=1,Hu(s,Oi(u,s.current)),at=null;return}}catch(_){if(y!==null)throw at=y,_;Jt=1,Hu(s,Oi(u,s.current)),at=null;return}o.flags&32768?(dt||p===1?s=!0:oo||(lt&536870912)!==0?s=!1:(_s=s=!0,(p===2||p===9||p===3||p===6)&&(p=mi.current,p!==null&&p.tag===13&&(p.flags|=16384))),O1(o,s)):td(o)}function td(s){var o=s;do{if((o.flags&32768)!==0){O1(o,_s);return}s=o.return;var u=j2(o.alternate,o,Vr);if(u!==null){at=u;return}if(o=o.sibling,o!==null){at=o;return}at=o=s}while(o!==null);Jt===0&&(Jt=5)}function O1(s,o){do{var u=P2(s.alternate,s);if(u!==null){u.flags&=32767,at=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){at=s;return}at=s=u}while(s!==null);Jt=6,at=null}function M1(s,o,u,p,y,_,O,$,Z){s.cancelPendingCommit=null;do nd();while(vn!==0);if((yt&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(_=o.lanes|o.childLanes,_|=jf,wT(s,u,_,O,$,Z),s===kt&&(at=kt=null,lt=0),co=o,ws=s,Gr=u,$p=_,qp=y,x1=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Y2(_e,function(){return B1(),null})):(s.callbackNode=null,s.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=U.T,U.T=null,y=C.p,C.p=2,O=yt,yt|=4;try{B2(s,o,u)}finally{yt=O,C.p=y,U.T=p}}vn=1,D1(),L1(),j1()}}function D1(){if(vn===1){vn=0;var s=ws,o=co,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var p=C.p;C.p=2;var y=yt;yt|=4;try{f1(o,s);var _=sm,O=vv(s.containerInfo),$=_.focusedElem,Z=_.selectionRange;if(O!==$&&$&&$.ownerDocument&&bv($.ownerDocument.documentElement,$)){if(Z!==null&&Nf($)){var oe=Z.start,fe=Z.end;if(fe===void 0&&(fe=oe),"selectionStart"in $)$.selectionStart=oe,$.selectionEnd=Math.min(fe,$.value.length);else{var me=$.ownerDocument||document,le=me&&me.defaultView||window;if(le.getSelection){var de=le.getSelection(),Ne=$.textContent.length,He=Math.min(Z.start,Ne),Ct=Z.end===void 0?He:Math.min(Z.end,Ne);!de.extend&&He>Ct&&(O=Ct,Ct=He,He=O);var ie=yv($,He),Q=yv($,Ct);if(ie&&Q&&(de.rangeCount!==1||de.anchorNode!==ie.node||de.anchorOffset!==ie.offset||de.focusNode!==Q.node||de.focusOffset!==Q.offset)){var ae=me.createRange();ae.setStart(ie.node,ie.offset),de.removeAllRanges(),He>Ct?(de.addRange(ae),de.extend(Q.node,Q.offset)):(ae.setEnd(Q.node,Q.offset),de.addRange(ae))}}}}for(me=[],de=$;de=de.parentNode;)de.nodeType===1&&me.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<me.length;$++){var pe=me[$];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}pd=!!rm,sm=rm=null}finally{yt=y,C.p=p,U.T=u}}s.current=o,vn=2}}function L1(){if(vn===2){vn=0;var s=ws,o=co,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var p=C.p;C.p=2;var y=yt;yt|=4;try{l1(s,o.alternate,o)}finally{yt=y,C.p=p,U.T=u}}vn=3}}function j1(){if(vn===4||vn===3){vn=0,xe();var s=ws,o=co,u=Gr,p=x1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?vn=5:(vn=0,co=ws=null,P1(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Ss=null),df(u),o=o.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(bn,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=U.T,y=C.p,C.p=2,U.T=null;try{for(var _=s.onRecoverableError,O=0;O<p.length;O++){var $=p[O];_($.value,{componentStack:$.stack})}}finally{U.T=o,C.p=y}}(Gr&3)!==0&&nd(),hr(s),y=s.pendingLanes,(u&261930)!==0&&(y&42)!==0?s===Vp?Pl++:(Pl=0,Vp=s):Pl=0,Bl(0)}}function P1(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,yl(o)))}function nd(){return D1(),L1(),j1(),B1()}function B1(){if(vn!==5)return!1;var s=ws,o=$p;$p=0;var u=df(Gr),p=U.T,y=C.p;try{C.p=32>u?32:u,U.T=null,u=qp,qp=null;var _=ws,O=Gr;if(vn=0,co=ws=null,Gr=0,(yt&6)!==0)throw Error(i(331));var $=yt;if(yt|=4,b1(_.current),m1(_,_.current,O,u),yt=$,Bl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(bn,_)}catch{}return!0}finally{C.p=y,U.T=p,P1(s,o)}}function F1(s,o,u){o=Oi(u,o),o=wp(s.stateNode,o,2),s=gs(s,o,2),s!==null&&(il(s,2),hr(s))}function St(s,o,u){if(s.tag===3)F1(s,s,u);else for(;o!==null;){if(o.tag===3){F1(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ss===null||!Ss.has(p))){s=Oi(u,s),u=I0(2),p=gs(o,u,2),p!==null&&(z0(u,p,o,s),il(p,2),hr(p));break}}o=o.return}}function Yp(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new z2;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(zp=!0,y.add(u),s=V2.bind(null,s,o,u),o.then(s,s))}function V2(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,kt===s&&(lt&u)===u&&(Jt===4||Jt===3&&(lt&62914560)===lt&&300>ge()-Ku?(yt&2)===0&&uo(s,0):Up|=u,lo===lt&&(lo=0)),hr(s)}function I1(s,o){o===0&&(o=Db()),s=Ws(s,o),s!==null&&(il(s,o),hr(s))}function G2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),I1(s,u)}function X2(s,o){var u=0;switch(s.tag){case 31:case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=s.stateNode;break;case 22:p=s.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(o),I1(s,u)}function Y2(s,o){return W(s,o)}var id=null,fo=null,Wp=!1,rd=!1,Kp=!1,Es=0;function hr(s){s!==fo&&s.next===null&&(fo===null?id=fo=s:fo=fo.next=s),rd=!0,Wp||(Wp=!0,K2())}function Bl(s,o){if(!Kp&&rd){Kp=!0;do for(var u=!1,p=id;p!==null;){if(s!==0){var y=p.pendingLanes;if(y===0)var _=0;else{var O=p.suspendedLanes,$=p.pingedLanes;_=(1<<31-vt(42|s)+1)-1,_&=y&~(O&~$),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(u=!0,$1(p,_))}else _=lt,_=lu(p,p===kt?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||nl(p,_)||(u=!0,$1(p,_));p=p.next}while(u);Kp=!1}}function W2(){z1()}function z1(){rd=Wp=!1;var s=0;Es!==0&&ak()&&(s=Es);for(var o=ge(),u=null,p=id;p!==null;){var y=p.next,_=U1(p,o);_===0?(p.next=null,u===null?id=y:u.next=y,y===null&&(fo=u)):(u=p,(s!==0||(_&3)!==0)&&(rd=!0)),p=y}vn!==0&&vn!==5||Bl(s),Es!==0&&(Es=0)}function U1(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes&-62914561;0<_;){var O=31-vt(_),$=1<<O,Z=y[O];Z===-1?(($&u)===0||($&p)!==0)&&(y[O]=ST($,o)):Z<=o&&(s.expiredLanes|=$),_&=~$}if(o=kt,u=lt,u=lu(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p=s.callbackNode,u===0||s===o&&(xt===2||xt===9)||s.cancelPendingCommit!==null)return p!==null&&p!==null&&J(p),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||nl(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(p!==null&&J(p),df(u)){case 2:case 8:u=he;break;case 32:u=_e;break;case 268435456:u=rt;break;default:u=_e}return p=H1.bind(null,s),u=W(u,p),s.callbackPriority=o,s.callbackNode=u,o}return p!==null&&p!==null&&J(p),s.callbackPriority=2,s.callbackNode=null,2}function H1(s,o){if(vn!==0&&vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(nd()&&s.callbackNode!==u)return null;var p=lt;return p=lu(s,s===kt?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),p===0?null:(w1(s,p,o),U1(s,ge()),s.callbackNode!=null&&s.callbackNode===u?H1.bind(null,s):null)}function $1(s,o){if(nd())return null;w1(s,o,!0)}function K2(){lk(function(){(yt&6)!==0?W(te,W2):z1()})}function Zp(){if(Es===0){var s=Za;s===0&&(s=su,su<<=1,(su&261888)===0&&(su=256)),Es=s}return Es}function q1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:hu(""+s)}function V1(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function Z2(s,o,u,p,y){if(o==="submit"&&u&&u.stateNode===y){var _=q1((y[Kn]||null).action),O=p.submitter;O&&(o=(o=O[Kn]||null)?q1(o.formAction):O.getAttribute("formAction"),o!==null&&(_=o,O=null));var $=new gu("action","action",null,p,y);s.push({event:$,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Es!==0){var Z=O?V1(y,O):new FormData(y);yp(u,{pending:!0,data:Z,method:y.method,action:_},null,Z)}}else typeof _=="function"&&($.preventDefault(),Z=O?V1(y,O):new FormData(y),yp(u,{pending:!0,data:Z,method:y.method,action:_},_,Z))},currentTarget:y}]})}}for(var Qp=0;Qp<Lf.length;Qp++){var Jp=Lf[Qp],Q2=Jp.toLowerCase(),J2=Jp[0].toUpperCase()+Jp.slice(1);Gi(Q2,"on"+J2)}Gi(Sv,"onAnimationEnd"),Gi(wv,"onAnimationIteration"),Gi(Av,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(m2,"onTransitionRun"),Gi(g2,"onTransitionStart"),Gi(y2,"onTransitionCancel"),Gi(Ev,"onTransitionEnd"),Ba("onMouseEnter",["mouseout","mouseover"]),Ba("onMouseLeave",["mouseout","mouseover"]),Ba("onPointerEnter",["pointerout","pointerover"]),Ba("onPointerLeave",["pointerout","pointerover"]),Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ek=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function G1(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],y=p.event;p=p.listeners;e:{var _=void 0;if(o)for(var O=p.length-1;0<=O;O--){var $=p[O],Z=$.instance,oe=$.currentTarget;if($=$.listener,Z!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=oe;try{_(y)}catch(fe){vu(fe)}y.currentTarget=null,_=Z}else for(O=0;O<p.length;O++){if($=p[O],Z=$.instance,oe=$.currentTarget,$=$.listener,Z!==_&&y.isPropagationStopped())break e;_=$,y.currentTarget=oe;try{_(y)}catch(fe){vu(fe)}y.currentTarget=null,_=Z}}}}function ot(s,o){var u=o[hf];u===void 0&&(u=o[hf]=new Set);var p=s+"__bubble";u.has(p)||(X1(o,s,2,!1),u.add(p))}function em(s,o,u){var p=0;o&&(p|=4),X1(u,s,p,o)}var sd="_reactListening"+Math.random().toString(36).slice(2);function tm(s){if(!s[sd]){s[sd]=!0,zb.forEach(function(u){u!=="selectionchange"&&(ek.has(u)||em(u,!1,s),em(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[sd]||(o[sd]=!0,em("selectionchange",!1,o))}}function X1(s,o,u,p){switch(S_(o)){case 2:var y=kk;break;case 8:y=Rk;break;default:y=gm}u=y.bind(null,o,u,s),y=void 0,!xf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function nm(s,o,u,p,y){var _=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var $=p.stateNode.containerInfo;if($===y)break;if(O===4)for(O=p.return;O!==null;){var Z=O.tag;if((Z===3||Z===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;$!==null;){if(O=La($),O===null)return;if(Z=O.tag,Z===5||Z===6||Z===26||Z===27){p=_=O;continue e}$=$.parentNode}}p=p.return}Qb(function(){var oe=_,fe=vf(u),me=[];e:{var le=Cv.get(s);if(le!==void 0){var de=gu,Ne=s;switch(s){case"keypress":if(pu(u)===0)break e;case"keydown":case"keyup":de=XT;break;case"focusin":Ne="focus",de=Ef;break;case"focusout":Ne="blur",de=Ef;break;case"beforeblur":case"afterblur":de=Ef;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=jT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=KT;break;case Sv:case wv:case Av:de=FT;break;case Ev:de=QT;break;case"scroll":case"scrollend":de=DT;break;case"wheel":de=e2;break;case"copy":case"cut":case"paste":de=zT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=iv;break;case"toggle":case"beforetoggle":de=n2}var He=(o&4)!==0,Ct=!He&&(s==="scroll"||s==="scrollend"),ie=He?le!==null?le+"Capture":null:le;He=[];for(var Q=oe,ae;Q!==null;){var pe=Q;if(ae=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ae===null||ie===null||(pe=al(Q,ie),pe!=null&&He.push(Il(Q,pe,ae))),Ct)break;Q=Q.return}0<He.length&&(le=new de(le,Ne,null,u,fe),me.push({event:le,listeners:He}))}}if((o&7)===0){e:{if(le=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",le&&u!==bf&&(Ne=u.relatedTarget||u.fromElement)&&(La(Ne)||Ne[Da]))break e;if((de||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,de?(Ne=u.relatedTarget||u.toElement,de=oe,Ne=Ne?La(Ne):null,Ne!==null&&(Ct=a(Ne),He=Ne.tag,Ne!==Ct||He!==5&&He!==27&&He!==6)&&(Ne=null)):(de=null,Ne=oe),de!==Ne)){if(He=tv,pe="onMouseLeave",ie="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(He=iv,pe="onPointerLeave",ie="onPointerEnter",Q="pointer"),Ct=de==null?le:sl(de),ae=Ne==null?le:sl(Ne),le=new He(pe,Q+"leave",de,u,fe),le.target=Ct,le.relatedTarget=ae,pe=null,La(fe)===oe&&(He=new He(ie,Q+"enter",Ne,u,fe),He.target=ae,He.relatedTarget=Ct,pe=He),Ct=pe,de&&Ne)t:{for(He=tk,ie=de,Q=Ne,ae=0,pe=ie;pe;pe=He(pe))ae++;pe=0;for(var Be=Q;Be;Be=He(Be))pe++;for(;0<ae-pe;)ie=He(ie),ae--;for(;0<pe-ae;)Q=He(Q),pe--;for(;ae--;){if(ie===Q||Q!==null&&ie===Q.alternate){He=ie;break t}ie=He(ie),Q=He(Q)}He=null}else He=null;de!==null&&Y1(me,le,de,He,!1),Ne!==null&&Ct!==null&&Y1(me,Ct,Ne,He,!0)}}e:{if(le=oe?sl(oe):window,de=le.nodeName&&le.nodeName.toLowerCase(),de==="select"||de==="input"&&le.type==="file")var mt=dv;else if(cv(le))if(hv)mt=h2;else{mt=u2;var Le=c2}else de=le.nodeName,!de||de.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?oe&&yf(oe.elementType)&&(mt=dv):mt=d2;if(mt&&(mt=mt(s,oe))){uv(me,mt,u,fe);break e}Le&&Le(s,le,oe),s==="focusout"&&oe&&le.type==="number"&&oe.memoizedProps.value!=null&&gf(le,"number",le.value)}switch(Le=oe?sl(oe):window,s){case"focusin":(cv(Le)||Le.contentEditable==="true")&&($a=Le,Of=oe,pl=null);break;case"focusout":pl=Of=$a=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,_v(me,u,fe);break;case"selectionchange":if(p2)break;case"keydown":case"keyup":_v(me,u,fe)}var tt;if(Tf)e:{switch(s){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else Ha?ov(s,u)&&(ct="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ct="onCompositionStart");ct&&(rv&&u.locale!=="ko"&&(Ha||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Ha&&(tt=Jb()):(cs=fe,Sf="value"in cs?cs.value:cs.textContent,Ha=!0)),Le=ad(oe,ct),0<Le.length&&(ct=new nv(ct,s,null,u,fe),me.push({event:ct,listeners:Le}),tt?ct.data=tt:(tt=lv(u),tt!==null&&(ct.data=tt)))),(tt=r2?s2(s,u):a2(s,u))&&(ct=ad(oe,"onBeforeInput"),0<ct.length&&(Le=new nv("onBeforeInput","beforeinput",null,u,fe),me.push({event:Le,listeners:ct}),Le.data=tt)),Z2(me,s,oe,u,fe)}G1(me,o)})}function Il(s,o,u){return{instance:s,listener:o,currentTarget:u}}function ad(s,o){for(var u=o+"Capture",p=[];s!==null;){var y=s,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=al(s,u),y!=null&&p.unshift(Il(s,y,_)),y=al(s,o),y!=null&&p.push(Il(s,y,_))),s.tag===3)return p;s=s.return}return[]}function tk(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Y1(s,o,u,p,y){for(var _=o._reactName,O=[];u!==null&&u!==p;){var $=u,Z=$.alternate,oe=$.stateNode;if($=$.tag,Z!==null&&Z===p)break;$!==5&&$!==26&&$!==27||oe===null||(Z=oe,y?(oe=al(u,_),oe!=null&&O.unshift(Il(u,oe,Z))):y||(oe=al(u,_),oe!=null&&O.push(Il(u,oe,Z)))),u=u.return}O.length!==0&&s.push({event:o,listeners:O})}var nk=/\r\n?/g,ik=/\u0000|\uFFFD/g;function W1(s){return(typeof s=="string"?s:""+s).replace(nk,`
`).replace(ik,"")}function K1(s,o){return o=W1(o),W1(s)===o}function Et(s,o,u,p,y,_){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Ia(s,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Ia(s,""+p);break;case"className":uu(s,"class",p);break;case"tabIndex":uu(s,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":uu(s,u,p);break;case"style":Kb(s,p,_);break;case"data":if(o!=="object"){uu(s,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=hu(""+p),s.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(u==="formAction"?(o!=="input"&&Et(s,o,"name",y.name,y,null),Et(s,o,"formEncType",y.formEncType,y,null),Et(s,o,"formMethod",y.formMethod,y,null),Et(s,o,"formTarget",y.formTarget,y,null)):(Et(s,o,"encType",y.encType,y,null),Et(s,o,"method",y.method,y,null),Et(s,o,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){s.removeAttribute(u);break}p=hu(""+p),s.setAttribute(u,p);break;case"onClick":p!=null&&(s.onclick=Or);break;case"onScroll":p!=null&&ot("scroll",s);break;case"onScrollEnd":p!=null&&ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":s.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){s.removeAttribute("xlink:href");break}u=hu(""+p),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""+p):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":p===!0?s.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?s.setAttribute(u,p):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?s.setAttribute(u,p):s.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?s.removeAttribute(u):s.setAttribute(u,p);break;case"popover":ot("beforetoggle",s),ot("toggle",s),cu(s,"popover",p);break;case"xlinkActuate":Nr(s,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Nr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Nr(s,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Nr(s,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Nr(s,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Nr(s,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Nr(s,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":cu(s,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=OT.get(u)||u,cu(s,u,p))}}function im(s,o,u,p,y,_){switch(u){case"style":Kb(s,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof p=="string"?Ia(s,p):(typeof p=="number"||typeof p=="bigint")&&Ia(s,""+p);break;case"onScroll":p!=null&&ot("scroll",s);break;case"onScrollEnd":p!=null&&ot("scrollend",s);break;case"onClick":p!=null&&(s.onclick=Or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ub.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),_=s[Kn]||null,_=_!=null?_[u]:null,typeof _=="function"&&s.removeEventListener(o,_,y),typeof p=="function")){typeof _!="function"&&_!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,p,y);break e}u in s?s[u]=p:p===!0?s.setAttribute(u,""):cu(s,u,p)}}}function On(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",s),ot("load",s);var p=!1,y=!1,_;for(_ in u)if(u.hasOwnProperty(_)){var O=u[_];if(O!=null)switch(_){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Et(s,o,_,O,u,null)}}y&&Et(s,o,"srcSet",u.srcSet,u,null),p&&Et(s,o,"src",u.src,u,null);return;case"input":ot("invalid",s);var $=_=O=y=null,Z=null,oe=null;for(p in u)if(u.hasOwnProperty(p)){var fe=u[p];if(fe!=null)switch(p){case"name":y=fe;break;case"type":O=fe;break;case"checked":Z=fe;break;case"defaultChecked":oe=fe;break;case"value":_=fe;break;case"defaultValue":$=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,o));break;default:Et(s,o,p,fe,u,null)}}Gb(s,_,$,Z,oe,O,y,!1);return;case"select":ot("invalid",s),p=O=_=null;for(y in u)if(u.hasOwnProperty(y)&&($=u[y],$!=null))switch(y){case"value":_=$;break;case"defaultValue":O=$;break;case"multiple":p=$;default:Et(s,o,y,$,u,null)}o=_,u=O,s.multiple=!!p,o!=null?Fa(s,!!p,o,!1):u!=null&&Fa(s,!!p,u,!0);return;case"textarea":ot("invalid",s),_=y=p=null;for(O in u)if(u.hasOwnProperty(O)&&($=u[O],$!=null))switch(O){case"value":p=$;break;case"defaultValue":y=$;break;case"children":_=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(i(91));break;default:Et(s,o,O,$,u,null)}Yb(s,p,y,_);return;case"option":for(Z in u)if(u.hasOwnProperty(Z)&&(p=u[Z],p!=null))switch(Z){case"selected":s.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Et(s,o,Z,p,u,null)}return;case"dialog":ot("beforetoggle",s),ot("toggle",s),ot("cancel",s),ot("close",s);break;case"iframe":case"object":ot("load",s);break;case"video":case"audio":for(p=0;p<Fl.length;p++)ot(Fl[p],s);break;case"image":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"embed":case"source":case"link":ot("error",s),ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in u)if(u.hasOwnProperty(oe)&&(p=u[oe],p!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Et(s,o,oe,p,u,null)}return;default:if(yf(o)){for(fe in u)u.hasOwnProperty(fe)&&(p=u[fe],p!==void 0&&im(s,o,fe,p,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(p=u[$],p!=null&&Et(s,o,$,p,u,null))}function rk(s,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,O=null,$=null,Z=null,oe=null,fe=null;for(de in u){var me=u[de];if(u.hasOwnProperty(de)&&me!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Z=me;default:p.hasOwnProperty(de)||Et(s,o,de,null,p,me)}}for(var le in p){var de=p[le];if(me=u[le],p.hasOwnProperty(le)&&(de!=null||me!=null))switch(le){case"type":_=de;break;case"name":y=de;break;case"checked":oe=de;break;case"defaultChecked":fe=de;break;case"value":O=de;break;case"defaultValue":$=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,o));break;default:de!==me&&Et(s,o,le,de,p,me)}}mf(s,O,$,Z,oe,fe,_,y);return;case"select":de=O=$=le=null;for(_ in u)if(Z=u[_],u.hasOwnProperty(_)&&Z!=null)switch(_){case"value":break;case"multiple":de=Z;default:p.hasOwnProperty(_)||Et(s,o,_,null,p,Z)}for(y in p)if(_=p[y],Z=u[y],p.hasOwnProperty(y)&&(_!=null||Z!=null))switch(y){case"value":le=_;break;case"defaultValue":$=_;break;case"multiple":O=_;default:_!==Z&&Et(s,o,y,_,p,Z)}o=$,u=O,p=de,le!=null?Fa(s,!!u,le,!1):!!p!=!!u&&(o!=null?Fa(s,!!u,o,!0):Fa(s,!!u,u?[]:"",!1));return;case"textarea":de=le=null;for($ in u)if(y=u[$],u.hasOwnProperty($)&&y!=null&&!p.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Et(s,o,$,null,p,y)}for(O in p)if(y=p[O],_=u[O],p.hasOwnProperty(O)&&(y!=null||_!=null))switch(O){case"value":le=y;break;case"defaultValue":de=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==_&&Et(s,o,O,y,p,_)}Xb(s,le,de);return;case"option":for(var Ne in u)if(le=u[Ne],u.hasOwnProperty(Ne)&&le!=null&&!p.hasOwnProperty(Ne))switch(Ne){case"selected":s.selected=!1;break;default:Et(s,o,Ne,null,p,le)}for(Z in p)if(le=p[Z],de=u[Z],p.hasOwnProperty(Z)&&le!==de&&(le!=null||de!=null))switch(Z){case"selected":s.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:Et(s,o,Z,le,p,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)le=u[He],u.hasOwnProperty(He)&&le!=null&&!p.hasOwnProperty(He)&&Et(s,o,He,null,p,le);for(oe in p)if(le=p[oe],de=u[oe],p.hasOwnProperty(oe)&&le!==de&&(le!=null||de!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,o));break;default:Et(s,o,oe,le,p,de)}return;default:if(yf(o)){for(var Ct in u)le=u[Ct],u.hasOwnProperty(Ct)&&le!==void 0&&!p.hasOwnProperty(Ct)&&im(s,o,Ct,void 0,p,le);for(fe in p)le=p[fe],de=u[fe],!p.hasOwnProperty(fe)||le===de||le===void 0&&de===void 0||im(s,o,fe,le,p,de);return}}for(var ie in u)le=u[ie],u.hasOwnProperty(ie)&&le!=null&&!p.hasOwnProperty(ie)&&Et(s,o,ie,null,p,le);for(me in p)le=p[me],de=u[me],!p.hasOwnProperty(me)||le===de||le==null&&de==null||Et(s,o,me,le,p,de)}function Z1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sk(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),p=0;p<u.length;p++){var y=u[p],_=y.transferSize,O=y.initiatorType,$=y.duration;if(_&&$&&Z1(O)){for(O=0,$=y.responseEnd,p+=1;p<u.length;p++){var Z=u[p],oe=Z.startTime;if(oe>$)break;var fe=Z.transferSize,me=Z.initiatorType;fe&&Z1(me)&&(Z=Z.responseEnd,O+=fe*(Z<$?1:($-oe)/(Z-oe)))}if(--p,o+=8*(_+O)/(y.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var rm=null,sm=null;function od(s){return s.nodeType===9?s:s.ownerDocument}function Q1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J1(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function am(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var om=null;function ak(){var s=window.event;return s&&s.type==="popstate"?s===om?!1:(om=s,!0):(om=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,ok=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,lk=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(s){return t_.resolve(null).then(s).catch(ck)}:e_;function ck(s){setTimeout(function(){throw s})}function Cs(s){return s==="head"}function n_(s,o){var u=o,p=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(p===0){s.removeChild(y),yo(o);return}p--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")p++;else if(u==="html")zl(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,zl(u);for(var _=u.firstChild;_;){var O=_.nextSibling,$=_.nodeName;_[rl]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&_.rel.toLowerCase()==="stylesheet"||u.removeChild(_),_=O}}else u==="body"&&zl(s.ownerDocument.body);u=y}while(u);yo(o)}function i_(s,o){var u=s;s=0;do{var p=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),p&&p.nodeType===8)if(u=p.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=p}while(u)}function lm(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":lm(u),ff(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function uk(s,o,u,p){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(p){if(!s[rl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(_=s.getAttribute("rel"),_==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(_!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(_=s.getAttribute("src"),(_!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===_)return s}else return s;if(s=Pi(s.nextSibling),s===null)break}return null}function dk(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Pi(s.nextSibling),s===null))return null;return s}function r_(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Pi(s.nextSibling),s===null))return null;return s}function cm(s){return s.data==="$?"||s.data==="$~"}function um(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function hk(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),s._reactRetry=p}}function Pi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var dm=null;function s_(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return Pi(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function a_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function o_(s,o,u){switch(o=od(u),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function zl(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ff(s)}var Bi=new Map,l_=new Set;function ld(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Xr=C.d;C.d={f:fk,r:pk,D:mk,C:gk,L:yk,m:bk,X:_k,S:vk,M:xk};function fk(){var s=Xr.f(),o=Ju();return s||o}function pk(s){var o=ja(s);o!==null&&o.tag===5&&o.type==="form"?E0(o):Xr.r(s)}var po=typeof document>"u"?null:document;function c_(s,o,u){var p=po;if(p&&typeof o=="string"&&o){var y=Ri(o);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),l_.has(y)||(l_.add(y),s={rel:s,crossOrigin:u,href:o},p.querySelector(y)===null&&(o=p.createElement("link"),On(o,"link",s),_n(o),p.head.appendChild(o)))}}function mk(s){Xr.D(s),c_("dns-prefetch",s,null)}function gk(s,o){Xr.C(s,o),c_("preconnect",s,o)}function yk(s,o,u){Xr.L(s,o,u);var p=po;if(p&&s&&o){var y='link[rel="preload"][as="'+Ri(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Ri(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Ri(u.imageSizes)+'"]')):y+='[href="'+Ri(s)+'"]';var _=y;switch(o){case"style":_=mo(s);break;case"script":_=go(s)}Bi.has(_)||(s=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Bi.set(_,s),p.querySelector(y)!==null||o==="style"&&p.querySelector(Ul(_))||o==="script"&&p.querySelector(Hl(_))||(o=p.createElement("link"),On(o,"link",s),_n(o),p.head.appendChild(o)))}}function bk(s,o){Xr.m(s,o);var u=po;if(u&&s){var p=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Ri(p)+'"][href="'+Ri(s)+'"]',_=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=go(s)}if(!Bi.has(_)&&(s=m({rel:"modulepreload",href:s},o),Bi.set(_,s),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hl(_)))return}p=u.createElement("link"),On(p,"link",s),_n(p),u.head.appendChild(p)}}}function vk(s,o,u){Xr.S(s,o,u);var p=po;if(p&&s){var y=Pa(p).hoistableStyles,_=mo(s);o=o||"default";var O=y.get(_);if(!O){var $={loading:0,preload:null};if(O=p.querySelector(Ul(_)))$.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Bi.get(_))&&hm(s,u);var Z=O=p.createElement("link");_n(Z),On(Z,"link",s),Z._p=new Promise(function(oe,fe){Z.onload=oe,Z.onerror=fe}),Z.addEventListener("load",function(){$.loading|=1}),Z.addEventListener("error",function(){$.loading|=2}),$.loading|=4,cd(O,o,p)}O={type:"stylesheet",instance:O,count:1,state:$},y.set(_,O)}}}function _k(s,o){Xr.X(s,o);var u=po;if(u&&s){var p=Pa(u).hoistableScripts,y=go(s),_=p.get(y);_||(_=u.querySelector(Hl(y)),_||(s=m({src:s,async:!0},o),(o=Bi.get(y))&&fm(s,o),_=u.createElement("script"),_n(_),On(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(y,_))}}function xk(s,o){Xr.M(s,o);var u=po;if(u&&s){var p=Pa(u).hoistableScripts,y=go(s),_=p.get(y);_||(_=u.querySelector(Hl(y)),_||(s=m({src:s,async:!0,type:"module"},o),(o=Bi.get(y))&&fm(s,o),_=u.createElement("script"),_n(_),On(_,"link",s),u.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(y,_))}}function u_(s,o,u,p){var y=(y=re.current)?ld(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=mo(u.href),u=Pa(y).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=mo(u.href);var _=Pa(y).hoistableStyles,O=_.get(s);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(s,O),(_=y.querySelector(Ul(s)))&&!_._p&&(O.instance=_,O.state.loading=5),Bi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Bi.set(s,u),_||Sk(y,s,u,O.state))),o&&p===null)throw Error(i(528,""));return O}if(o&&p!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=go(u),u=Pa(y).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function mo(s){return'href="'+Ri(s)+'"'}function Ul(s){return'link[rel="stylesheet"]['+s+"]"}function d_(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function Sk(s,o,u,p){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=s.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),On(o,"link",u),_n(o),s.head.appendChild(o))}function go(s){return'[src="'+Ri(s)+'"]'}function Hl(s){return"script[async]"+s}function h_(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=s.querySelector('style[data-href~="'+Ri(u.href)+'"]');if(p)return o.instance=p,_n(p),p;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(s.ownerDocument||s).createElement("style"),_n(p),On(p,"style",y),cd(p,u.precedence,s),o.instance=p;case"stylesheet":y=mo(u.href);var _=s.querySelector(Ul(y));if(_)return o.state.loading|=4,o.instance=_,_n(_),_;p=d_(u),(y=Bi.get(y))&&hm(p,y),_=(s.ownerDocument||s).createElement("link"),_n(_);var O=_;return O._p=new Promise(function($,Z){O.onload=$,O.onerror=Z}),On(_,"link",p),o.state.loading|=4,cd(_,u.precedence,s),o.instance=_;case"script":return _=go(u.src),(y=s.querySelector(Hl(_)))?(o.instance=y,_n(y),y):(p=u,(y=Bi.get(_))&&(p=m({},u),fm(p,y)),s=s.ownerDocument||s,y=s.createElement("script"),_n(y),On(y,"link",p),s.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,cd(p,u.precedence,s));return o.instance}function cd(s,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,_=y,O=0;O<p.length;O++){var $=p[O];if($.dataset.precedence===o)_=$;else if(_!==y)break}_?_.parentNode.insertBefore(s,_.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function hm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function fm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ud=null;function f_(s,o,u){if(ud===null){var p=new Map,y=ud=new Map;y.set(u,p)}else y=ud,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(s))return p;for(p.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var _=u[y];if(!(_[rl]||_[Tn]||s==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(o)||"";O=s+O;var $=p.get(O);$?$.push(_):p.set(O,[_])}}return p}function p_(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function wk(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function m_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function Ak(s,o,u,p){if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=mo(p.href),_=o.querySelector(Ul(y));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=dd.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=_,_n(_);return}_=o.ownerDocument||o,p=d_(p),(y=Bi.get(y))&&hm(p,y),_=_.createElement("link"),_n(_);var O=_;O._p=new Promise(function($,Z){O.onload=$,O.onerror=Z}),On(_,"link",p),u.instance=_}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=dd.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var pm=0;function Ek(s,o){return s.stylesheets&&s.count===0&&fd(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var p=setTimeout(function(){if(s.stylesheets&&fd(s,s.stylesheets),s.unsuspend){var _=s.unsuspend;s.unsuspend=null,_()}},6e4+o);0<s.imgBytes&&pm===0&&(pm=62500*sk());var y=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&fd(s,s.stylesheets),s.unsuspend)){var _=s.unsuspend;s.unsuspend=null,_()}},(s.imgBytes>pm?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(p),clearTimeout(y)}}:null}function dd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hd=null;function fd(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hd=new Map,o.forEach(Ck,s),hd=null,dd.call(s))}function Ck(s,o){if(!(o.state.loading&4)){var u=hd.get(s);if(u)var p=u.get(null);else{u=new Map,hd.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var O=y[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),p=O)}p&&u.set(null,p)}y=o.instance,O=y.getAttribute("data-precedence"),_=u.get(O)||p,_===p&&u.set(null,y),u.set(O,y),this.count++,p=dd.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),_?_.parentNode.insertBefore(y,_.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),o.state.loading|=4}}var $l={$$typeof:R,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Tk(s,o,u,p,y,_,O,$,Z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.hiddenUpdates=cf(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function g_(s,o,u,p,y,_,O,$,Z,oe,fe,me){return s=new Tk(s,o,u,O,Z,oe,fe,me,$),o=1,_===!0&&(o|=24),_=pi(3,null,null,o),s.current=_,_.stateNode=s,o=Xf(),o.refCount++,s.pooledCache=o,o.refCount++,_.memoizedState={element:p,isDehydrated:u,cache:o},Zf(_),s}function y_(s){return s?(s=Ga,s):Ga}function b_(s,o,u,p,y,_){y=y_(y),p.context===null?p.context=y:p.pendingContext=y,p=ms(o),p.payload={element:u},_=_===void 0?null:_,_!==null&&(p.callback=_),u=gs(s,p,o),u!==null&&(ni(u,s,o),xl(u,s,o))}function v_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function mm(s,o){v_(s,o),(s=s.alternate)&&v_(s,o)}function __(s){if(s.tag===13||s.tag===31){var o=Ws(s,67108864);o!==null&&ni(o,s,67108864),mm(s,67108864)}}function x_(s){if(s.tag===13||s.tag===31){var o=vi();o=uf(o);var u=Ws(s,o);u!==null&&ni(u,s,o),mm(s,o)}}var pd=!0;function kk(s,o,u,p){var y=U.T;U.T=null;var _=C.p;try{C.p=2,gm(s,o,u,p)}finally{C.p=_,U.T=y}}function Rk(s,o,u,p){var y=U.T;U.T=null;var _=C.p;try{C.p=8,gm(s,o,u,p)}finally{C.p=_,U.T=y}}function gm(s,o,u,p){if(pd){var y=ym(p);if(y===null)nm(s,o,p,md,u),w_(s,p);else if(Ok(y,s,o,u,p))p.stopPropagation();else if(w_(s,p),o&4&&-1<Nk.indexOf(s)){for(;y!==null;){var _=ja(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=qs(_.pendingLanes);if(O!==0){var $=_;for($.pendingLanes|=2,$.entangledLanes|=2;O;){var Z=1<<31-vt(O);$.entanglements[1]|=Z,O&=~Z}hr(_),(yt&6)===0&&(Zu=ge()+500,Bl(0))}}break;case 31:case 13:$=Ws(_,2),$!==null&&ni($,_,2),Ju(),mm(_,2)}if(_=ym(p),_===null&&nm(s,o,p,md,u),_===y)break;y=_}y!==null&&p.stopPropagation()}else nm(s,o,p,null,u)}}function ym(s){return s=vf(s),bm(s)}var md=null;function bm(s){if(md=null,s=La(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return md=s,null}function S_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case te:return 2;case he:return 8;case _e:case je:return 32;case rt:return 268435456;default:return 32}default:return 32}}var vm=!1,Ts=null,ks=null,Rs=null,ql=new Map,Vl=new Map,Ns=[],Nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(s,o){switch(s){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":ql.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(o.pointerId)}}function Gl(s,o,u,p,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[y]},o!==null&&(o=ja(o),o!==null&&__(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function Ok(s,o,u,p,y){switch(o){case"focusin":return Ts=Gl(Ts,s,o,u,p,y),!0;case"dragenter":return ks=Gl(ks,s,o,u,p,y),!0;case"mouseover":return Rs=Gl(Rs,s,o,u,p,y),!0;case"pointerover":var _=y.pointerId;return ql.set(_,Gl(ql.get(_)||null,s,o,u,p,y)),!0;case"gotpointercapture":return _=y.pointerId,Vl.set(_,Gl(Vl.get(_)||null,s,o,u,p,y)),!0}return!1}function A_(s){var o=La(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,Fb(s.priority,function(){x_(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,Fb(s.priority,function(){x_(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ym(s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);bf=p,u.target.dispatchEvent(p),bf=null}else return o=ja(u),o!==null&&__(o),s.blockedOn=u,!1;o.shift()}return!0}function E_(s,o,u){gd(s)&&u.delete(o)}function Mk(){vm=!1,Ts!==null&&gd(Ts)&&(Ts=null),ks!==null&&gd(ks)&&(ks=null),Rs!==null&&gd(Rs)&&(Rs=null),ql.forEach(E_),Vl.forEach(E_)}function yd(s,o){s.blockedOn===o&&(s.blockedOn=null,vm||(vm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Mk)))}var bd=null;function C_(s){bd!==s&&(bd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){bd===s&&(bd=null);for(var o=0;o<s.length;o+=3){var u=s[o],p=s[o+1],y=s[o+2];if(typeof p!="function"){if(bm(p||u)===null)continue;break}var _=ja(u);_!==null&&(s.splice(o,3),o-=3,yp(_,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function yo(s){function o(Z){return yd(Z,s)}Ts!==null&&yd(Ts,s),ks!==null&&yd(ks,s),Rs!==null&&yd(Rs,s),ql.forEach(o),Vl.forEach(o);for(var u=0;u<Ns.length;u++){var p=Ns[u];p.blockedOn===s&&(p.blockedOn=null)}for(;0<Ns.length&&(u=Ns[0],u.blockedOn===null);)A_(u),u.blockedOn===null&&Ns.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],_=u[p+1],O=y[Kn]||null;if(typeof _=="function")O||C_(u);else if(O){var $=null;if(_&&_.hasAttribute("formAction")){if(y=_,O=_[Kn]||null)$=O.formAction;else if(bm(y)!==null)continue}else $=O.action;typeof $=="function"?u[p+1]=$:(u.splice(p,3),p-=3),C_(u)}}}function T_(){function s(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),p||setTimeout(u,20)}function u(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,y=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){p=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function _m(s){this._internalRoot=s}vd.prototype.render=_m.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,p=vi();b_(u,p,s,o,null,null)},vd.prototype.unmount=_m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;b_(s.current,2,null,s,null,null),Ju(),o[Da]=null}};function vd(s){this._internalRoot=s}vd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Bb();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Ns.length&&o!==0&&o<Ns[u].priority;u++);Ns.splice(u,0,s),u===0&&A_(s)}};var k_=e.version;if(k_!=="19.2.0")throw Error(i(527,k_,"19.2.0"));C.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var Dk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_d.isDisabled&&_d.supportsFiber)try{bn=_d.inject(Dk),Gt=_d}catch{}}return Yl.createRoot=function(s,o){if(!r(s))throw Error(i(299));var u=!1,p="",y=j0,_=P0,O=B0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError)),o=g_(s,1,!1,null,null,u,p,null,y,_,O,T_),s[Da]=o.current,tm(s),new _m(o)},Yl.hydrateRoot=function(s,o,u){if(!r(s))throw Error(i(299));var p=!1,y="",_=j0,O=P0,$=B0,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(Z=u.formState)),o=g_(s,1,!0,o,u??null,p,y,Z,_,O,$,T_),o.context=y_(null),u=o.current,p=vi(),p=uf(p),y=ms(p),y.callback=null,gs(u,y,p),u=p,o.current.lanes=u,il(o,u),hr(o),s[Da]=o.current,tm(s),new vd(o)},Yl.version="19.2.0",Yl}var z_;function qk(){if(z_)return Am.exports;z_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Am.exports=$k(),Am.exports}var Vk=qk();var U_="popstate";function Gk(n={}){function e(i,r){let{pathname:a,search:l,hash:c}=i.location;return Sg("",{pathname:a,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Sc(r)}return Yk(e,t,null,n)}function Vt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xk(){return Math.random().toString(36).substring(2,10)}function H_(n,e){return{usr:n.state,key:n.key,idx:e}}function Sg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:t,key:e&&e.key||i||Xk()}}function Sc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Yk(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,c="POP",d=null,h=f();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function f(){return(l.state||{idx:null}).idx}function m(){c="POP";let E=f(),A=E==null?null:E-h;h=E,d&&d({action:c,location:x.location,delta:A})}function g(E,A){c="PUSH";let T=Sg(x.location,E,A);h=f()+1;let R=H_(T,h),B=x.createHref(T);try{l.pushState(R,"",B)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(B)}a&&d&&d({action:c,location:x.location,delta:1})}function b(E,A){c="REPLACE";let T=Sg(x.location,E,A);h=f();let R=H_(T,h),B=x.createHref(T);l.replaceState(R,"",B),a&&d&&d({action:c,location:x.location,delta:0})}function S(E){return Wk(E)}let x={get action(){return c},get location(){return n(r,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(U_,m),d=E,()=>{r.removeEventListener(U_,m),d=null}},createHref(E){return e(r,E)},createURL:S,encodeLocation(E){let A=S(E);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:b,go(E){return l.go(E)}};return x}function Wk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Vt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Sc(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Xw(n,e,t="/"){return Kk(n,e,t,!1)}function Kk(n,e,t,i){let r=typeof e=="string"?Xo(e):e,a=ns(r.pathname||"/",t);if(a==null)return null;let l=Yw(n);Zk(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=lR(a);c=aR(l[d],h,i)}return c}function Yw(n,e=[],t=[],i="",r=!1){let a=(l,c,d=r,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&d)return;Vt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=Jr([i,f.relativePath]),g=t.concat(f);l.children&&l.children.length>0&&(Vt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Yw(l.children,e,g,m,d)),!(l.path==null&&!l.index)&&e.push({path:m,score:rR(m,l.index),routesMeta:g})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of Ww(l.path))a(l,c,!0,d)}),e}function Ww(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=Ww(i.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),r&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function Zk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sR(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Qk=/^:[\w-]+$/,Jk=3,eR=2,tR=1,nR=10,iR=-2,$_=n=>n==="*";function rR(n,e){let t=n.split("/"),i=t.length;return t.some($_)&&(i+=iR),e&&(i+=eR),t.filter(r=>!$_(r)).reduce((r,a)=>r+(Qk.test(a)?Jk:a===""?tR:nR),i)}function sR(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function aR(n,e,t=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,f=a==="/"?e:e.slice(a.length)||"/",m=ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),g=d.route;if(!m&&h&&t&&!i[i.length-1].route.index&&(m=ih({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Jr([a,m.pathname]),pathnameBase:fR(Jr([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Jr([a,m.pathnameBase]))}return l}function ih(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=oR(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let S=c[g]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=c[g];return m&&!b?h[f]=void 0:h[f]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function oR(n,e=!1,t=!0){qi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function lR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ns(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var cR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uR=n=>cR.test(n);function dR(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Xo(n):n,a;if(t)if(uR(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),qi(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=q_(t.substring(1),"/"):a=q_(t,e)}else a=e;return{pathname:a,search:pR(i),hash:mR(r)}}function q_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function km(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _y(n){let e=hR(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function xy(n,e,t,i=!1){let r;typeof n=="string"?r=Xo(n):(r={...n},Vt(!r.pathname||!r.pathname.includes("?"),km("?","pathname","search",r)),Vt(!r.pathname||!r.pathname.includes("#"),km("#","pathname","hash",r)),Vt(!r.search||!r.search.includes("#"),km("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}c=m>=0?e[m]:"/"}let d=dR(r,c),h=l&&l!=="/"&&l.endsWith("/"),f=(a||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),fR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kw=["POST","PUT","PATCH","DELETE"];new Set(Kw);var yR=["GET",...Kw];new Set(yR);var Yo=z.createContext(null);Yo.displayName="DataRouter";var Rh=z.createContext(null);Rh.displayName="DataRouterState";z.createContext(!1);var Zw=z.createContext({isTransitioning:!1});Zw.displayName="ViewTransition";var bR=z.createContext(new Map);bR.displayName="Fetchers";var vR=z.createContext(null);vR.displayName="Await";var sr=z.createContext(null);sr.displayName="Navigation";var jc=z.createContext(null);jc.displayName="Location";var ar=z.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Sy=z.createContext(null);Sy.displayName="RouteError";function _R(n,{relative:e}={}){Vt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(sr),{hash:r,pathname:a,search:l}=Pc(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Jr([t,a])),i.createHref({pathname:c,search:l,hash:r})}function Wo(){return z.useContext(jc)!=null}function os(){return Vt(Wo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(jc).location}var Qw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jw(n){z.useContext(sr).static||z.useLayoutEffect(n)}function Us(){let{isDataRoute:n}=z.useContext(ar);return n?DR():xR()}function xR(){Vt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Yo),{basename:e,navigator:t}=z.useContext(sr),{matches:i}=z.useContext(ar),{pathname:r}=os(),a=JSON.stringify(_y(i)),l=z.useRef(!1);return Jw(()=>{l.current=!0}),z.useCallback((d,h={})=>{if(qi(l.current,Qw),!l.current)return;if(typeof d=="number"){t.go(d);return}let f=xy(d,JSON.parse(a),r,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Jr([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,a,r,n])}z.createContext(null);function wy(){let{matches:n}=z.useContext(ar),e=n[n.length-1];return e?e.params:{}}function Pc(n,{relative:e}={}){let{matches:t}=z.useContext(ar),{pathname:i}=os(),r=JSON.stringify(_y(t));return z.useMemo(()=>xy(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function SR(n,e){return eA(n,e)}function eA(n,e,t,i,r){Vt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=z.useContext(sr),{matches:l}=z.useContext(ar),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";tA(h,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=os(),b;if(e){let T=typeof e=="string"?Xo(e):e;Vt(f==="/"||T.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=g;let S=b.pathname||"/",x=S;if(f!=="/"){let T=f.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=Xw(n,{pathname:x});qi(m||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),qi(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=TR(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:Jr([f,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:Jr([f,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),l,t,i,r);return e&&A?z.createElement(jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function wR(){let n=MR(),e=gR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:r},t):null,l)}var AR=z.createElement(wR,null),ER=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?z.createElement(ar.Provider,{value:this.props.routeContext},z.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CR({routeContext:n,match:e,children:t}){let i=z.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ar.Provider,{value:n},t)}function TR(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Vt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(t)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:b}=t,S=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let h=t&&i?(f,m)=>{i(f,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((f,m,g)=>{let b,S=!1,x=null,E=null;t&&(b=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||AR,c&&(d<0&&g===0?(tA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):d===g&&(S=!0,E=m.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),T=()=>{let R;return b?R=x:S?R=E:m.route.Component?R=z.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=f,z.createElement(CR,{match:m,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:R})};return t&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?z.createElement(ER,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:h}):T()},null)}function Ay(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kR(n){let e=z.useContext(Yo);return Vt(e,Ay(n)),e}function RR(n){let e=z.useContext(Rh);return Vt(e,Ay(n)),e}function NR(n){let e=z.useContext(ar);return Vt(e,Ay(n)),e}function Ey(n){let e=NR(n),t=e.matches[e.matches.length-1];return Vt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function OR(){return Ey("useRouteId")}function MR(){let n=z.useContext(Sy),e=RR("useRouteError"),t=Ey("useRouteError");return n!==void 0?n:e.errors?.[t]}function DR(){let{router:n}=kR("useNavigate"),e=Ey("useNavigate"),t=z.useRef(!1);return Jw(()=>{t.current=!0}),z.useCallback(async(r,a={})=>{qi(t.current,Qw),t.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...a}))},[n,e])}var V_={};function tA(n,e,t){!e&&!V_[n]&&(V_[n]=!0,qi(!1,t))}z.memo(LR);function LR({routes:n,future:e,state:t,unstable_onError:i}){return eA(n,void 0,t,i,e)}function nA({to:n,replace:e,state:t,relative:i}){Vt(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=z.useContext(sr);qi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=z.useContext(ar),{pathname:l}=os(),c=Us(),d=xy(n,_y(a),l,i==="path"),h=JSON.stringify(d);return z.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:i})},[c,h,i,e,t]),null}function fa(n){Vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jR({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:a=!1}){Vt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=z.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof t=="string"&&(t=Xo(t));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=t,b=z.useMemo(()=>{let S=ns(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:g},navigationType:i}},[l,d,h,f,m,g,i]);return qi(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:z.createElement(sr.Provider,{value:c},z.createElement(jc.Provider,{children:e,value:b}))}function PR({children:n,location:e}){return SR(wg(n),e)}function wg(n,e=[]){let t=[];return z.Children.forEach(n,(i,r)=>{if(!z.isValidElement(i))return;let a=[...e,r];if(i.type===z.Fragment){t.push.apply(t,wg(i.props.children,a));return}Vt(i.type===fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=wg(i.props.children,a)),t.push(l)}),t}var Hd="get",$d="application/x-www-form-urlencoded";function Nh(n){return n!=null&&typeof n.tagName=="string"}function BR(n){return Nh(n)&&n.tagName.toLowerCase()==="button"}function FR(n){return Nh(n)&&n.tagName.toLowerCase()==="form"}function IR(n){return Nh(n)&&n.tagName.toLowerCase()==="input"}function zR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UR(n,e){return n.button===0&&(!e||e==="_self")&&!zR(n)}var Sd=null;function HR(){if(Sd===null)try{new FormData(document.createElement("form"),0),Sd=!1}catch{Sd=!0}return Sd}var $R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(n){return n!=null&&!$R.has(n)?(qi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):n}function qR(n,e){let t,i,r,a,l;if(FR(n)){let c=n.getAttribute("action");i=c?ns(c,e):null,t=n.getAttribute("method")||Hd,r=Rm(n.getAttribute("enctype"))||$d,a=new FormData(n)}else if(BR(n)||IR(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(i=d?ns(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Hd,r=Rm(n.getAttribute("formenctype"))||Rm(c.getAttribute("enctype"))||$d,a=new FormData(c,n),!HR()){let{name:h,type:f,value:m}=n;if(f==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,m)}}else{if(Nh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hd,i=null,r=$d,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function VR(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ns(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function GR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function YR(n,e,t){let i=await Promise.all(n.map(async r=>{let a=e.routes[r.route.id];if(a){let l=await GR(a,t);return l.links?l.links():[]}return[]}));return QR(i.flat(1).filter(XR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function G_(n,e,t,i,r,a){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{let f=i.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function WR(n,e,{includeHydrateFallback:t}={}){return KR(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function KR(n){return[...new Set(n)]}function ZR(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function QR(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let a=JSON.stringify(ZR(r));return t.has(a)||(t.add(a),i.push({key:a,link:r})),i},[])}function iA(){let n=z.useContext(Yo);return Cy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function JR(){let n=z.useContext(Rh);return Cy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ty=z.createContext(void 0);Ty.displayName="FrameworkContext";function rA(){let n=z.useContext(Ty);return Cy(n,"You must render this element inside a <HydratedRouter> element"),n}function eN(n,e){let t=z.useContext(Ty),[i,r]=z.useState(!1),[a,l]=z.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=z.useRef(null);z.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=A=>{A.forEach(T=>{l(T.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[n]),z.useEffect(()=>{if(i){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[i]);let b=()=>{r(!0)},S=()=>{r(!1),l(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:Wl(c,b),onBlur:Wl(d,S),onMouseEnter:Wl(h,b),onMouseLeave:Wl(f,S),onTouchStart:Wl(m,b)}]:[!1,g,{}]}function Wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function tN({page:n,...e}){let{router:t}=iA(),i=z.useMemo(()=>Xw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(iN,{page:n,matches:i,...e}):null}function nN(n){let{manifest:e,routeModules:t}=rA(),[i,r]=z.useState([]);return z.useEffect(()=>{let a=!1;return YR(n,e,t).then(l=>{a||r(l)}),()=>{a=!0}},[n,e,t]),i}function iN({page:n,matches:e,...t}){let i=os(),{manifest:r,routeModules:a}=rA(),{basename:l}=iA(),{loaderData:c,matches:d}=JR(),h=z.useMemo(()=>G_(n,e,d,r,i,"data"),[n,e,d,r,i]),f=z.useMemo(()=>G_(n,e,d,r,i,"assets"),[n,e,d,r,i]),m=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,x=!1;if(e.forEach(A=>{let T=r.routes[A.route.id];!T||!T.hasLoader||(!h.some(R=>R.route.id===A.route.id)&&A.route.id in c&&a[A.route.id]?.shouldRevalidate||T.hasClientLoader?x=!0:S.add(A.route.id))}),S.size===0)return[];let E=VR(n,l,"data");return x&&S.size>0&&E.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[E.pathname+E.search]},[l,c,i,r,h,e,n,a]),g=z.useMemo(()=>WR(f,r),[f,r]),b=nN(f);return z.createElement(z.Fragment,null,m.map(S=>z.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),g.map(S=>z.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:x})=>z.createElement("link",{key:S,nonce:t.nonce,...x})))}function rN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sA&&(window.__reactRouterVersion="7.9.6")}catch{}function sN({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=Gk({window:t,v5Compat:!0}));let r=i.current,[a,l]=z.useState({action:r.action,location:r.location}),c=z.useCallback(d=>{z.startTransition(()=>l(d))},[l]);return z.useLayoutEffect(()=>r.listen(c),[r,c]),z.createElement(jR,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:r})}var aA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,To=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:f,viewTransition:m,...g},b){let{basename:S}=z.useContext(sr),x=typeof h=="string"&&aA.test(h),E,A=!1;if(typeof h=="string"&&x&&(E=h,sA))try{let F=new URL(window.location.href),L=h.startsWith("//")?new URL(F.protocol+h):new URL(h),H=ns(L.pathname,S);L.origin===F.origin&&H!=null?h=H+L.search+L.hash:A=!0}catch{qi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=_R(h,{relative:r}),[R,B,k]=eN(i,g),N=cN(h,{replace:l,state:c,target:d,preventScrollReset:f,relative:r,viewTransition:m});function M(F){e&&e(F),F.defaultPrevented||N(F)}let P=z.createElement("a",{...g,...k,href:E||T,onClick:A||a?e:M,ref:rN(b,B),target:d,"data-discover":!x&&t==="render"?"true":void 0});return R&&!x?z.createElement(z.Fragment,null,P,z.createElement(tN,{page:T})):P});To.displayName="Link";var aN=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:c,children:d,...h},f){let m=Pc(l,{relative:h.relative}),g=os(),b=z.useContext(Rh),{navigator:S,basename:x}=z.useContext(sr),E=b!=null&&pN(m)&&c===!0,A=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,T=g.pathname,R=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(T=T.toLowerCase(),R=R?R.toLowerCase():null,A=A.toLowerCase()),R&&x&&(R=ns(R,x)||R);const B=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let k=T===A||!r&&T.startsWith(A)&&T.charAt(B)==="/",N=R!=null&&(R===A||!r&&R.startsWith(A)&&R.charAt(A.length)==="/"),M={isActive:k,isPending:N,isTransitioning:E},P=k?e:void 0,F;typeof i=="function"?F=i(M):F=[i,k?"active":null,N?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(M):a;return z.createElement(To,{...h,"aria-current":P,className:F,ref:f,style:L,to:l,viewTransition:c},typeof d=="function"?d(M):d)});aN.displayName="NavLink";var oN=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:a,method:l=Hd,action:c,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:m,...g},b)=>{let S=hN(),x=fN(c,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&aA.test(c),T=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let B=R.nativeEvent.submitter,k=B?.getAttribute("formmethod")||l;S(B||R.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:r,state:a,relative:h,preventScrollReset:f,viewTransition:m})};return z.createElement("form",{ref:b,method:E,action:x,onSubmit:i?d:T,...g,"data-discover":!A&&n==="render"?"true":void 0})});oN.displayName="Form";function lN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oA(n){let e=z.useContext(Yo);return Vt(e,lN(n)),e}function cN(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let c=Us(),d=os(),h=Pc(n,{relative:a});return z.useCallback(f=>{if(UR(f,e)){f.preventDefault();let m=t!==void 0?t:Sc(d)===Sc(h);c(n,{replace:m,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[d,c,h,t,i,e,n,r,a,l])}var uN=0,dN=()=>`__${String(++uN)}__`;function hN(){let{router:n}=oA("useSubmit"),{basename:e}=z.useContext(sr),t=OR();return z.useCallback(async(i,r={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=qR(i,e);if(r.navigate===!1){let f=r.fetcherKey||dN();await n.fetch(f,t,r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,t])}function fN(n,{relative:e}={}){let{basename:t}=z.useContext(sr),i=z.useContext(ar);Vt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Pc(n||".",{relative:e})},l=os();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(f=>f==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();a.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jr([t,a.pathname])),Sc(a)}function pN(n,{relative:e}={}){let t=z.useContext(Zw);Vt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=oA("useViewTransitionState"),r=Pc(n,{relative:e});if(!t.isTransitioning)return!1;let a=ns(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=ns(t.nextLocation.pathname,i)||t.nextLocation.pathname;return ih(r.pathname,l)!=null||ih(r.pathname,a)!=null}var Nm={exports:{}},Om={};var X_;function mN(){if(X_)return Om;X_=1;var n=rr();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,l=n.useMemo,c=n.useDebugValue;return Om.useSyncExternalStoreWithSelector=function(d,h,f,m,g){var b=r(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function E(k){if(!A){if(A=!0,T=k,k=m(k),g!==void 0&&S.hasValue){var N=S.value;if(g(N,k))return R=N}return R=k}if(N=R,t(T,k))return N;var M=m(k);return g!==void 0&&g(N,M)?(T=k,N):(T=k,R=M)}var A=!1,T,R,B=f===void 0?null:f;return[function(){return E(h())},B===null?void 0:function(){return E(B())}]},[h,f,m,g]);var x=i(d,b[0],b[1]);return a(function(){S.hasValue=!0,S.value=x},[x]),c(x),x},Om}var Y_;function gN(){return Y_||(Y_=1,Nm.exports=mN()),Nm.exports}var yN=gN();function bN(n){n()}function vN(){let n=null,e=null;return{clear(){n=null,e=null},notify(){bN(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var W_={notify(){},get:()=>[]};function _N(n,e){let t,i=W_,r=0,a=!1;function l(x){f();const E=i.subscribe(x);let A=!1;return()=>{A||(A=!0,E(),m())}}function c(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return a}function f(){r++,t||(t=n.subscribe(d),i=vN())}function m(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=W_)}function g(){a||(a=!0,f())}function b(){a&&(a=!1,m())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>i};return S}var xN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SN=xN(),wN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",AN=wN(),EN=()=>SN||AN?z.useLayoutEffect:z.useEffect,CN=EN(),TN=Symbol.for("react-redux-context"),kN=typeof globalThis<"u"?globalThis:{};function RN(){if(!z.createContext)return{};const n=kN[TN]??=new Map;let e=n.get(z.createContext);return e||(e=z.createContext(null),n.set(z.createContext,e)),e}var Is=RN();function NN(n){const{children:e,context:t,serverState:i,store:r}=n,a=z.useMemo(()=>{const d=_N(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=z.useMemo(()=>r.getState(),[r]);CN(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const c=t||Is;return z.createElement(c.Provider,{value:a},e)}var ON=NN;function ky(n=Is){return function(){return z.useContext(n)}}var lA=ky();function cA(n=Is){const e=n===Is?lA:ky(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var MN=cA();function DN(n=Is){const e=n===Is?MN:cA(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Ry=DN(),LN=(n,e)=>n===e;function jN(n=Is){const e=n===Is?lA:ky(n),t=(i,r={})=>{const{equalityFn:a=LN}=typeof r=="function"?{equalityFn:r}:r,l=e(),{store:c,subscription:d,getServerState:h}=l;z.useRef(!0);const f=z.useCallback({[i.name](g){return i(g)}}[i.name],[i]),m=yN.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,h||c.getState,f,a);return z.useDebugValue(m),m};return Object.assign(t,{withTypes:()=>t}),t}var Bc=jN();function Dn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var PN=typeof Symbol=="function"&&Symbol.observable||"@@observable",K_=PN,Mm=()=>Math.random().toString(36).substring(7).split("").join("."),BN={INIT:`@@redux/INIT${Mm()}`,REPLACE:`@@redux/REPLACE${Mm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Mm()}`},rh=BN;function Ny(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function uA(n,e,t){if(typeof n!="function")throw new Error(Dn(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Dn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Dn(1));return t(uA)(n,e)}let i=n,r=e,a=new Map,l=a,c=0,d=!1;function h(){l===a&&(l=new Map,a.forEach((E,A)=>{l.set(A,E)}))}function f(){if(d)throw new Error(Dn(3));return r}function m(E){if(typeof E!="function")throw new Error(Dn(4));if(d)throw new Error(Dn(5));let A=!0;h();const T=c++;return l.set(T,E),function(){if(A){if(d)throw new Error(Dn(6));A=!1,h(),l.delete(T),a=null}}}function g(E){if(!Ny(E))throw new Error(Dn(7));if(typeof E.type>"u")throw new Error(Dn(8));if(typeof E.type!="string")throw new Error(Dn(17));if(d)throw new Error(Dn(9));try{d=!0,r=i(r,E)}finally{d=!1}return(a=l).forEach(T=>{T()}),E}function b(E){if(typeof E!="function")throw new Error(Dn(10));i=E,g({type:rh.REPLACE})}function S(){const E=m;return{subscribe(A){if(typeof A!="object"||A===null)throw new Error(Dn(11));function T(){const B=A;B.next&&B.next(f())}return T(),{unsubscribe:E(T)}},[K_](){return this}}}return g({type:rh.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:b,[K_]:S}}function FN(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:rh.INIT})>"u")throw new Error(Dn(12));if(typeof t(void 0,{type:rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dn(13))})}function IN(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const l=e[a];typeof n[l]=="function"&&(t[l]=n[l])}const i=Object.keys(t);let r;try{FN(t)}catch(a){r=a}return function(l={},c){if(r)throw r;let d=!1;const h={};for(let f=0;f<i.length;f++){const m=i[f],g=t[m],b=l[m],S=g(b,c);if(typeof S>"u")throw c&&c.type,new Error(Dn(14));h[m]=S,d=d||S!==b}return d=d||i.length!==Object.keys(l).length,d?h:l}}function sh(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function zN(...n){return e=>(t,i)=>{const r=e(t,i);let a=()=>{throw new Error(Dn(15))};const l={getState:r.getState,dispatch:(d,...h)=>a(d,...h)},c=n.map(d=>d(l));return a=sh(...c)(r.dispatch),{...r,dispatch:a}}}function UN(n){return Ny(n)&&"type"in n&&typeof n.type=="string"}var dA=Symbol.for("immer-nothing"),Z_=Symbol.for("immer-draftable"),Yn=Symbol.for("immer-state");function Ki(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ei=Object,Io=Ei.getPrototypeOf,ah="constructor",Oh="prototype",Ag="configurable",oh="enumerable",qd="writable",wc="value",is=n=>!!n&&!!n[Yn];function tr(n){return n?hA(n)||Mh(n)||!!n[Z_]||!!n[ah]?.[Z_]||Dh(n)||Lh(n):!1}var HN=Ei[Oh][ah].toString(),Q_=new WeakMap;function hA(n){if(!n||!Oy(n))return!1;const e=Io(n);if(e===null||e===Ei[Oh])return!0;const t=Ei.hasOwnProperty.call(e,ah)&&e[ah];if(t===Object)return!0;if(!wo(t))return!1;let i=Q_.get(t);return i===void 0&&(i=Function.toString.call(t),Q_.set(t,i)),i===HN}function Fc(n,e,t=!0){Ic(n)===0?(t?Reflect.ownKeys(n):Ei.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function Ic(n){const e=n[Yn];return e?e.type_:Mh(n)?1:Dh(n)?2:Lh(n)?3:0}var J_=(n,e,t=Ic(n))=>t===2?n.has(e):Ei[Oh].hasOwnProperty.call(n,e),Eg=(n,e,t=Ic(n))=>t===2?n.get(e):n[e],lh=(n,e,t,i=Ic(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function $N(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var Mh=Array.isArray,Dh=n=>n instanceof Map,Lh=n=>n instanceof Set,Oy=n=>typeof n=="object",wo=n=>typeof n=="function",Dm=n=>typeof n=="boolean",Zr=n=>n.copy_||n.base_,My=n=>n.modified_?n.copy_:n.base_;function Cg(n,e){if(Dh(n))return new Map(n);if(Lh(n))return new Set(n);if(Mh(n))return Array[Oh].slice.call(n);const t=hA(n);if(e===!0||e==="class_only"&&!t){const i=Ei.getOwnPropertyDescriptors(n);delete i[Yn];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const l=r[a],c=i[l];c[qd]===!1&&(c[qd]=!0,c[Ag]=!0),(c.get||c.set)&&(i[l]={[Ag]:!0,[qd]:!0,[oh]:c[oh],[wc]:n[l]})}return Ei.create(Io(n),i)}else{const i=Io(n);if(i!==null&&t)return{...n};const r=Ei.create(i);return Ei.assign(r,n)}}function Dy(n,e=!1){return jh(n)||is(n)||!tr(n)||(Ic(n)>1&&Ei.defineProperties(n,{set:wd,add:wd,clear:wd,delete:wd}),Ei.freeze(n),e&&Fc(n,(t,i)=>{Dy(i,!0)},!1)),n}function qN(){Ki(2)}var wd={[wc]:qN};function jh(n){return n===null||!Oy(n)?!0:Ei.isFrozen(n)}var ch="MapSet",Tg="Patches",fA={};function zo(n){const e=fA[n];return e||Ki(0,n),e}var VN=n=>!!fA[n],Ac,pA=()=>Ac,GN=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:VN(ch)?zo(ch):void 0});function ex(n,e){e&&(n.patchPlugin_=zo(Tg),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function kg(n){Rg(n),n.drafts_.forEach(XN),n.drafts_=null}function Rg(n){n===Ac&&(Ac=n.parent_)}var tx=n=>Ac=GN(Ac,n);function XN(n){const e=n[Yn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nx(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[Yn].modified_&&(kg(e),Ki(4)),tr(n)&&(n=ix(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[Yn].base_,n,e)}else n=ix(e,t);return YN(e,n,!0),kg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==dA?n:void 0}function ix(n,e){if(jh(e))return e;const t=e[Yn];if(!t)return Ly(e,n.handledSet_,n);if(!Ph(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);yA(t,n)}return t.copy_}function YN(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Dy(e,t)}function mA(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Ph=(n,e)=>n.scope_===e,WN=[];function gA(n,e,t,i){const r=Zr(n),a=n.type_;if(i!==void 0&&Eg(r,i,a)===e){lh(r,i,t,a);return}if(!n.draftLocations_){const c=n.draftLocations_=new Map;Fc(r,(d,h)=>{if(is(h)){const f=c.get(h)||[];f.push(d),c.set(h,f)}})}const l=n.draftLocations_.get(e)??WN;for(const c of l)lh(r,c,t,a)}function KN(n,e,t){n.callbacks_.push(function(r){const a=e;if(!a||!Ph(a,r))return;r.mapSetPlugin_?.fixSetContents(a);const l=My(a);gA(n,a.draft_??a,l,t),yA(a,r)})}function yA(n,e){if(n.modified_&&!n.finalized_&&(n.type_===3||(n.assigned_?.size??0)>0)){const{patchPlugin_:i}=e;if(i){const r=i.getPath(n);r&&i.generatePatches_(n,r,e)}mA(n)}}function ZN(n,e,t){const{scope_:i}=n;if(is(t)){const r=t[Yn];Ph(r,i)&&r.callbacks_.push(function(){Vd(n);const l=My(r);gA(n,t,l,e)})}else tr(t)&&n.callbacks_.push(function(){const a=Zr(n);Eg(a,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&Ly(Eg(n.copy_,e,n.type_),i.handledSet_,i)})}function Ly(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||is(n)||e.has(n)||!tr(n)||jh(n)||(e.add(n),Fc(n,(i,r)=>{if(is(r)){const a=r[Yn];if(Ph(a,t)){const l=My(a);lh(n,i,l,n.type_),mA(a)}}else tr(r)&&Ly(r,e,t)})),n}function QN(n,e){const t=Mh(n),i={type_:t?1:0,scope_:e?e.scope_:pA(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,a=jy;t&&(r=[i],a=Ec);const{revoke:l,proxy:c}=Proxy.revocable(r,a);return i.draft_=c,i.revoke_=l,[c,i]}var jy={get(n,e){if(e===Yn)return n;const t=Zr(n);if(!J_(t,e,n.type_))return JN(n,t,e);const i=t[e];if(n.finalized_||!tr(i))return i;if(i===Lm(n.base_,e)){Vd(n);const r=n.type_===1?+e:e,a=Og(n.scope_,i,n,r);return n.copy_[r]=a}return i},has(n,e){return e in Zr(n)},ownKeys(n){return Reflect.ownKeys(Zr(n))},set(n,e,t){const i=bA(Zr(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=Lm(Zr(n),e),a=r?.[Yn];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if($N(t,r)&&(t!==void 0||J_(n.base_,e,n.type_)))return!0;Vd(n),Ng(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),ZN(n,e,t)),!0},deleteProperty(n,e){return Vd(n),Lm(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),Ng(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Zr(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[qd]:!0,[Ag]:n.type_!==1||e!=="length",[oh]:i[oh],[wc]:t[e]}},defineProperty(){Ki(11)},getPrototypeOf(n){return Io(n.base_)},setPrototypeOf(){Ki(12)}},Ec={};Fc(jy,(n,e)=>{Ec[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Ec.deleteProperty=function(n,e){return Ec.set.call(this,n,e,void 0)};Ec.set=function(n,e,t){return jy.set.call(this,n[0],e,t,n[0])};function Lm(n,e){const t=n[Yn];return(t?Zr(t):n)[e]}function JN(n,e,t){const i=bA(e,t);return i?wc in i?i[wc]:i.get?.call(n.draft_):void 0}function bA(n,e){if(!(e in n))return;let t=Io(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Io(t)}}function Ng(n){n.modified_||(n.modified_=!0,n.parent_&&Ng(n.parent_))}function Vd(n){n.copy_||(n.assigned_=new Map,n.copy_=Cg(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var eO=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,i)=>{if(wo(e)&&!wo(t)){const a=t;t=e;const l=this;return function(d=a,...h){return l.produce(d,f=>t.call(this,f,...h))}}wo(t)||Ki(6),i!==void 0&&!wo(i)&&Ki(7);let r;if(tr(e)){const a=tx(this),l=Og(a,e,void 0);let c=!0;try{r=t(l),c=!1}finally{c?kg(a):Rg(a)}return ex(a,i),nx(r,a)}else if(!e||!Oy(e)){if(r=t(e),r===void 0&&(r=e),r===dA&&(r=void 0),this.autoFreeze_&&Dy(r,!0),i){const a=[],l=[];zo(Tg).generateReplacementPatches_(e,r,{patches_:a,inversePatches_:l}),i(a,l)}return r}else Ki(1,e)},this.produceWithPatches=(e,t)=>{if(wo(e))return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let i,r;return[this.produce(e,t,(l,c)=>{i=l,r=c}),i,r]},Dm(n?.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),Dm(n?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),Dm(n?.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){tr(n)||Ki(8),is(n)&&(n=tO(n));const e=tx(this),t=Og(e,n,void 0);return t[Yn].isManual_=!0,Rg(e),t}finishDraft(n,e){const t=n&&n[Yn];(!t||!t.isManual_)&&Ki(9);const{scope_:i}=t;return ex(i,e),nx(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=zo(Tg).applyPatches_;return is(n)?i(n,e):this.produce(n,r=>i(r,e))}};function Og(n,e,t,i){const[r,a]=Dh(e)?zo(ch).proxyMap_(e,t):Lh(e)?zo(ch).proxySet_(e,t):QN(e,t);return(t?.scope_??pA()).drafts_.push(r),a.callbacks_=t?.callbacks_??[],a.key_=i,t&&i!==void 0?KN(t,a,i):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=d;a.modified_&&h&&h.generatePatches_(a,[],d)}),r}function tO(n){return is(n)||Ki(10,n),vA(n)}function vA(n){if(!tr(n)||jh(n))return n;const e=n[Yn];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Cg(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=Cg(n,!0);return Fc(t,(r,a)=>{lh(t,r,vA(a))},i),e&&(e.finalized_=!1),t}var nO=new eO,_A=nO.produce;function xA(n){return({dispatch:t,getState:i})=>r=>a=>typeof a=="function"?a(t,i,n):r(a)}var iO=xA(),rO=xA,sO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sh:sh.apply(null,arguments)},aO=n=>n&&typeof n.match=="function";function pc(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(es(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>UN(i)&&i.type===n,t}var SA=class uc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,uc.prototype)}static get[Symbol.species](){return uc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new uc(...e[0].concat(this)):new uc(...e.concat(this))}};function rx(n){return tr(n)?_A(n,()=>{}):n}function Ad(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function oO(n){return typeof n=="boolean"}var lO=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let l=new SA;return t&&(oO(t)?l.push(iO):l.push(rO(t.extraArgument))),l},cO="RTK_autoBatch",sx=n=>e=>{setTimeout(e,n)},uO=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,a=!1,l=!1;const c=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sx(10):n.type==="callback"?n.queueNotification:sx(n.timeout),h=()=>{l=!1,a&&(a=!1,c.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const m=()=>r&&f(),g=i.subscribe(m);return c.add(f),()=>{g(),c.delete(f)}},dispatch(f){try{return r=!f?.meta?.[cO],a=!r,a&&(l||(l=!0,d(h))),i.dispatch(f)}finally{r=!0}}})},dO=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new SA(n);return i&&r.push(uO(typeof i=="object"?i:void 0)),r};function hO(n){const e=lO(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:l=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(Ny(t))c=IN(t);else throw new Error(es(1));let d;typeof i=="function"?d=i(e):d=e();let h=sh;r&&(h=sO({trace:!1,...typeof r=="object"&&r}));const f=zN(...d),m=dO(f);let g=typeof l=="function"?l(m):m();const b=h(...g);return uA(c,a,b)}function wA(n){const e={},t=[];let i;const r={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(es(28));if(c in e)throw new Error(es(29));return e[c]=l,r},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&t.push({matcher:a.settled,reducer:l.settled}),r},addMatcher(a,l){return t.push({matcher:a,reducer:l}),r},addDefaultCase(a){return i=a,r}};return n(r),[e,t,i]}function fO(n){return typeof n=="function"}function pO(n,e){let[t,i,r]=wA(e),a;if(fO(n))a=()=>rx(n());else{const c=rx(n);a=()=>c}function l(c=a(),d){let h=[t[d.type],...i.filter(({matcher:f})=>f(d)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[r]),h.reduce((f,m)=>{if(m)if(is(f)){const b=m(f,d);return b===void 0?f:b}else{if(tr(f))return _A(f,g=>m(g,d));{const g=m(f,d);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},c)}return l.getInitialState=a,l}var mO=(n,e)=>aO(n)?n.match(e):n(e);function gO(...n){return e=>n.some(t=>mO(t,e))}var yO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bO=(n=21)=>{let e="",t=n;for(;t--;)e+=yO[Math.random()*64|0];return e},vO=["name","message","stack","code"],jm=class{constructor(n,e){this.payload=n,this.meta=e}_type},ax=class{constructor(n,e){this.payload=n,this.meta=e}_type},_O=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of vO)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},ox="External signal was aborted",Bh=(()=>{function n(e,t,i){const r=pc(e+"/fulfilled",(d,h,f,m)=>({payload:d,meta:{...m||{},arg:f,requestId:h,requestStatus:"fulfilled"}})),a=pc(e+"/pending",(d,h,f)=>({payload:void 0,meta:{...f||{},arg:h,requestId:d,requestStatus:"pending"}})),l=pc(e+"/rejected",(d,h,f,m,g)=>({payload:m,error:(i&&i.serializeError||_O)(d||"Rejected"),meta:{...g||{},arg:f,requestId:h,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:h}={}){return(f,m,g)=>{const b=i?.idGenerator?i.idGenerator(d):bO(),S=new AbortController;let x,E;function A(R){E=R,S.abort()}h&&(h.aborted?A(ox):h.addEventListener("abort",()=>A(ox),{once:!0}));const T=(async function(){let R;try{let k=i?.condition?.(d,{getState:m,extra:g});if(SO(k)&&(k=await k),k===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const N=new Promise((M,P)=>{x=()=>{P({name:"AbortError",message:E||"Aborted"})},S.signal.addEventListener("abort",x)});f(a(b,d,i?.getPendingMeta?.({requestId:b,arg:d},{getState:m,extra:g}))),R=await Promise.race([N,Promise.resolve(t(d,{dispatch:f,getState:m,extra:g,requestId:b,signal:S.signal,abort:A,rejectWithValue:(M,P)=>new jm(M,P),fulfillWithValue:(M,P)=>new ax(M,P)})).then(M=>{if(M instanceof jm)throw M;return M instanceof ax?r(M.payload,b,d,M.meta):r(M,b,d)})])}catch(k){R=k instanceof jm?l(null,b,d,k.payload,k.meta):l(k,b,d)}finally{x&&S.signal.removeEventListener("abort",x)}return i&&!i.dispatchConditionRejection&&l.match(R)&&R.meta.condition||f(R),R})();return Object.assign(T,{abort:A,requestId:b,arg:d,unwrap(){return T.then(xO)}})}}return Object.assign(c,{pending:a,rejected:l,fulfilled:r,settled:gO(l,r),typePrefix:e})}return n.withTypes=()=>n,n})();function xO(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function SO(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var wO=Symbol.for("rtk-slice-createasyncthunk");function AO(n,e){return`${n}/${e}`}function EO({creators:n}={}){const e=n?.asyncThunk?.[wO];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(es(11));const l=(typeof i.reducers=="function"?i.reducers(kO()):i.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,B){const k=typeof R=="string"?R:R.type;if(!k)throw new Error(es(12));if(k in d.sliceCaseReducersByType)throw new Error(es(13));return d.sliceCaseReducersByType[k]=B,h},addMatcher(R,B){return d.sliceMatchers.push({matcher:R,reducer:B}),h},exposeAction(R,B){return d.actionCreators[R]=B,h},exposeCaseReducer(R,B){return d.sliceCaseReducersByName[R]=B,h}};c.forEach(R=>{const B=l[R],k={reducerName:R,type:AO(r,R),createNotation:typeof i.reducers=="function"};NO(B)?MO(k,B,h,e):RO(k,B,h)});function f(){const[R={},B=[],k=void 0]=typeof i.extraReducers=="function"?wA(i.extraReducers):[i.extraReducers],N={...R,...d.sliceCaseReducersByType};return pO(i.initialState,M=>{for(let P in N)M.addCase(P,N[P]);for(let P of d.sliceMatchers)M.addMatcher(P.matcher,P.reducer);for(let P of B)M.addMatcher(P.matcher,P.reducer);k&&M.addDefaultCase(k)})}const m=R=>R,g=new Map,b=new WeakMap;let S;function x(R,B){return S||(S=f()),S(R,B)}function E(){return S||(S=f()),S.getInitialState()}function A(R,B=!1){function k(M){let P=M[R];return typeof P>"u"&&B&&(P=Ad(b,k,E)),P}function N(M=m){const P=Ad(g,B,()=>new WeakMap);return Ad(P,M,()=>{const F={};for(const[L,H]of Object.entries(i.selectors??{}))F[L]=CO(H,M,()=>Ad(b,M,E),B);return F})}return{reducerPath:R,getSelectors:N,get selectors(){return N(k)},selectSlice:k}}const T={name:r,reducer:x,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...A(a),injectInto(R,{reducerPath:B,...k}={}){const N=B??a;return R.inject({reducerPath:N,reducer:x},k),{...T,...A(N,!0)}}};return T}}function CO(n,e,t,i){function r(a,...l){let c=e(a);return typeof c>"u"&&i&&(c=t()),n(c,...l)}return r.unwrapped=n,r}var TO=EO();function kO(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function RO({type:n,reducerName:e,createNotation:t},i,r){let a,l;if("reducer"in i){if(t&&!OO(i))throw new Error(es(17));a=i.reducer,l=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,l?pc(n,l):pc(n))}function NO(n){return n._reducerDefinitionType==="asyncThunk"}function OO(n){return n._reducerDefinitionType==="reducerWithPrepare"}function MO({type:n,reducerName:e},t,i,r){if(!r)throw new Error(es(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:d,settled:h,options:f}=t,m=r(n,a,f);i.exposeAction(e,m),l&&i.addCase(m.fulfilled,l),c&&i.addCase(m.pending,c),d&&i.addCase(m.rejected,d),h&&i.addMatcher(m.settled,h),i.exposeCaseReducer(e,{fulfilled:l||Ed,pending:c||Ed,rejected:d||Ed,settled:h||Ed})}function Ed(){}function es(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}function AA(n,e){return function(){return n.apply(e,arguments)}}const{toString:DO}=Object.prototype,{getPrototypeOf:Py}=Object,{iterator:Fh,toStringTag:EA}=Symbol,Ih=(n=>e=>{const t=DO.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=n=>(n=n.toLowerCase(),e=>Ih(e)===n),zh=n=>e=>typeof e===n,{isArray:Ko}=Array,Uo=zh("undefined");function zc(n){return n!==null&&!Uo(n)&&n.constructor!==null&&!Uo(n.constructor)&&ci(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const CA=or("ArrayBuffer");function LO(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&CA(n.buffer),e}const jO=zh("string"),ci=zh("function"),TA=zh("number"),Uc=n=>n!==null&&typeof n=="object",PO=n=>n===!0||n===!1,Gd=n=>{if(Ih(n)!=="object")return!1;const e=Py(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(EA in n)&&!(Fh in n)},BO=n=>{if(!Uc(n)||zc(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},FO=or("Date"),IO=or("File"),zO=or("Blob"),UO=or("FileList"),HO=n=>Uc(n)&&ci(n.pipe),$O=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ci(n.append)&&((e=Ih(n))==="formdata"||e==="object"&&ci(n.toString)&&n.toString()==="[object FormData]"))},qO=or("URLSearchParams"),[VO,GO,XO,YO]=["ReadableStream","Request","Response","Headers"].map(or),WO=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Ko(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{if(zc(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let c;for(i=0;i<l;i++)c=a[i],e.call(null,n[c],c,n)}}function kA(n,e){if(zc(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RA=n=>!Uo(n)&&n!==ma;function Mg(){const{caseless:n,skipUndefined:e}=RA(this)&&this||{},t={},i=(r,a)=>{const l=n&&kA(t,a)||a;Gd(t[l])&&Gd(r)?t[l]=Mg(t[l],r):Gd(r)?t[l]=Mg({},r):Ko(r)?t[l]=r.slice():(!e||!Uo(r))&&(t[l]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Hc(arguments[r],i);return t}const KO=(n,e,t,{allOwnKeys:i}={})=>(Hc(e,(r,a)=>{t&&ci(r)?n[a]=AA(r,t):n[a]=r},{allOwnKeys:i}),n),ZO=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),QO=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},JO=(n,e,t,i)=>{let r,a,l;const c={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),a=r.length;a-- >0;)l=r[a],(!i||i(l,n,e))&&!c[l]&&(e[l]=n[l],c[l]=!0);n=t!==!1&&Py(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},eM=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},tM=n=>{if(!n)return null;if(Ko(n))return n;let e=n.length;if(!TA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},nM=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Py(Uint8Array)),iM=(n,e)=>{const i=(n&&n[Fh]).call(n);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(n,a[0],a[1])}},rM=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},sM=or("HTMLFormElement"),aM=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),lx=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),oM=or("RegExp"),NA=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Hc(t,(r,a)=>{let l;(l=e(r,a,n))!==!1&&(i[a]=l||r)}),Object.defineProperties(n,i)},lM=n=>{NA(n,(e,t)=>{if(ci(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ci(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},cM=(n,e)=>{const t={},i=r=>{r.forEach(a=>{t[a]=!0})};return Ko(n)?i(n):i(String(n).split(e)),t},uM=()=>{},dM=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function hM(n){return!!(n&&ci(n.append)&&n[EA]==="FormData"&&n[Fh])}const fM=n=>{const e=new Array(10),t=(i,r)=>{if(Uc(i)){if(e.indexOf(i)>=0)return;if(zc(i))return i;if(!("toJSON"in i)){e[r]=i;const a=Ko(i)?[]:{};return Hc(i,(l,c)=>{const d=t(l,r+1);!Uo(d)&&(a[c]=d)}),e[r]=void 0,a}}return i};return t(n,0)},pM=or("AsyncFunction"),mM=n=>n&&(Uc(n)||ci(n))&&ci(n.then)&&ci(n.catch),OA=((n,e)=>n?setImmediate:e?((t,i)=>(ma.addEventListener("message",({source:r,data:a})=>{r===ma&&a===t&&i.length&&i.shift()()},!1),r=>{i.push(r),ma.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ci(ma.postMessage)),gM=typeof queueMicrotask<"u"?queueMicrotask.bind(ma):typeof process<"u"&&process.nextTick||OA,yM=n=>n!=null&&ci(n[Fh]),ue={isArray:Ko,isArrayBuffer:CA,isBuffer:zc,isFormData:$O,isArrayBufferView:LO,isString:jO,isNumber:TA,isBoolean:PO,isObject:Uc,isPlainObject:Gd,isEmptyObject:BO,isReadableStream:VO,isRequest:GO,isResponse:XO,isHeaders:YO,isUndefined:Uo,isDate:FO,isFile:IO,isBlob:zO,isRegExp:oM,isFunction:ci,isStream:HO,isURLSearchParams:qO,isTypedArray:nM,isFileList:UO,forEach:Hc,merge:Mg,extend:KO,trim:WO,stripBOM:ZO,inherits:QO,toFlatObject:JO,kindOf:Ih,kindOfTest:or,endsWith:eM,toArray:tM,forEachEntry:iM,matchAll:rM,isHTMLForm:sM,hasOwnProperty:lx,hasOwnProp:lx,reduceDescriptors:NA,freezeMethods:lM,toObjectSet:cM,toCamelCase:aM,noop:uM,toFiniteNumber:dM,findKey:kA,global:ma,isContextDefined:RA,isSpecCompliantForm:hM,toJSONObject:fM,isAsyncFn:pM,isThenable:mM,setImmediate:OA,asap:gM,isIterable:yM};function et(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}ue.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const MA=et.prototype,DA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{DA[n]={value:n}});Object.defineProperties(et,DA);Object.defineProperty(MA,"isAxiosError",{value:!0});et.from=(n,e,t,i,r,a)=>{const l=Object.create(MA);ue.toFlatObject(n,l,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const c=n&&n.message?n.message:"Error",d=e==null&&n?n.code:e;return et.call(l,c,d,t,i,r),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",a&&Object.assign(l,a),l};const bM=null;function Dg(n){return ue.isPlainObject(n)||ue.isArray(n)}function LA(n){return ue.endsWith(n,"[]")?n.slice(0,-2):n}function cx(n,e,t){return n?n.concat(e).map(function(r,a){return r=LA(r),!t&&a?"["+r+"]":r}).join(t?".":""):e}function vM(n){return ue.isArray(n)&&!n.some(Dg)}const _M=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function Uh(n,e,t){if(!ue.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ue.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,E){return!ue.isUndefined(E[x])});const i=t.metaTokens,r=t.visitor||f,a=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(r))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(ue.isDate(S))return S.toISOString();if(ue.isBoolean(S))return S.toString();if(!d&&ue.isBlob(S))throw new et("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(S)||ue.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function f(S,x,E){let A=S;if(S&&!E&&typeof S=="object"){if(ue.endsWith(x,"{}"))x=i?x:x.slice(0,-2),S=JSON.stringify(S);else if(ue.isArray(S)&&vM(S)||(ue.isFileList(S)||ue.endsWith(x,"[]"))&&(A=ue.toArray(S)))return x=LA(x),A.forEach(function(R,B){!(ue.isUndefined(R)||R===null)&&e.append(l===!0?cx([x],B,a):l===null?x:x+"[]",h(R))}),!1}return Dg(S)?!0:(e.append(cx(E,x,a),h(S)),!1)}const m=[],g=Object.assign(_M,{defaultVisitor:f,convertValue:h,isVisitable:Dg});function b(S,x){if(!ue.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(S),ue.forEach(S,function(A,T){(!(ue.isUndefined(A)||A===null)&&r.call(e,A,ue.isString(T)?T.trim():T,x,g))===!0&&b(A,x?x.concat(T):[T])}),m.pop()}}if(!ue.isObject(n))throw new TypeError("data must be an object");return b(n),e}function ux(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function By(n,e){this._pairs=[],n&&Uh(n,this,e)}const jA=By.prototype;jA.append=function(e,t){this._pairs.push([e,t])};jA.toString=function(e){const t=e?function(i){return e.call(this,i,ux)}:ux;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function xM(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function PA(n,e,t){if(!e)return n;const i=t&&t.encode||xM;ue.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let a;if(r?a=r(e,t):a=ue.isURLSearchParams(e)?e.toString():new By(e,t).toString(i),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class dx{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(i){i!==null&&e(i)})}}const BA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},SM=typeof URLSearchParams<"u"?URLSearchParams:By,wM=typeof FormData<"u"?FormData:null,AM=typeof Blob<"u"?Blob:null,EM={isBrowser:!0,classes:{URLSearchParams:SM,FormData:wM,Blob:AM},protocols:["http","https","file","blob","url","data"]},Fy=typeof window<"u"&&typeof document<"u",Lg=typeof navigator=="object"&&navigator||void 0,CM=Fy&&(!Lg||["ReactNative","NativeScript","NS"].indexOf(Lg.product)<0),TM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kM=Fy&&window.location.href||"http://localhost",RM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fy,hasStandardBrowserEnv:CM,hasStandardBrowserWebWorkerEnv:TM,navigator:Lg,origin:kM},Symbol.toStringTag,{value:"Module"})),In={...RM,...EM};function NM(n,e){return Uh(n,new In.classes.URLSearchParams,{visitor:function(t,i,r,a){return In.isNode&&ue.isBuffer(t)?(this.append(i,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function OM(n){return ue.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function MM(n){const e={},t=Object.keys(n);let i;const r=t.length;let a;for(i=0;i<r;i++)a=t[i],e[a]=n[a];return e}function FA(n){function e(t,i,r,a){let l=t[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=a>=t.length;return l=!l&&ue.isArray(r)?r.length:l,d?(ue.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!c):((!r[l]||!ue.isObject(r[l]))&&(r[l]=[]),e(t,i,r[l],a)&&ue.isArray(r[l])&&(r[l]=MM(r[l])),!c)}if(ue.isFormData(n)&&ue.isFunction(n.entries)){const t={};return ue.forEachEntry(n,(i,r)=>{e(OM(i),r,t,0)}),t}return null}function DM(n,e,t){if(ue.isString(n))try{return(e||JSON.parse)(n),ue.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const $c={transitional:BA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,a=ue.isObject(e);if(a&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return r?JSON.stringify(FA(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return NM(e,this.formSerializer).toString();if((c=ue.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Uh(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),DM(e)):e}],transformResponse:[function(e){const t=this.transitional||$c.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(i&&!this.responseType||r)){const l=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?et.from(c,et.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:In.classes.FormData,Blob:In.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],n=>{$c.headers[n]={}});const LM=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jM=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(l){r=l.indexOf(":"),t=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!t||e[t]&&LM[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},hx=Symbol("internals");function Kl(n){return n&&String(n).trim().toLowerCase()}function Xd(n){return n===!1||n==null?n:ue.isArray(n)?n.map(Xd):String(n)}function PM(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const BM=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Pm(n,e,t,i,r){if(ue.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!ue.isString(e)){if(ue.isString(i))return e.indexOf(i)!==-1;if(ue.isRegExp(i))return i.test(e)}}function FM(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function IM(n,e){const t=ue.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,a,l){return this[i].call(this,e,r,a,l)},configurable:!0})})}let ui=class{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function a(c,d,h){const f=Kl(d);if(!f)throw new Error("header name must be a non-empty string");const m=ue.findKey(r,f);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||d]=Xd(c))}const l=(c,d)=>ue.forEach(c,(h,f)=>a(h,f,d));if(ue.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(ue.isString(e)&&(e=e.trim())&&!BM(e))l(jM(e),t);else if(ue.isObject(e)&&ue.isIterable(e)){let c={},d,h;for(const f of e){if(!ue.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(d=c[h])?ue.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}l(c,t)}else e!=null&&a(t,e,i);return this}get(e,t){if(e=Kl(e),e){const i=ue.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return PM(r);if(ue.isFunction(t))return t.call(this,r,i);if(ue.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kl(e),e){const i=ue.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Pm(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function a(l){if(l=Kl(l),l){const c=ue.findKey(i,l);c&&(!t||Pm(i,i[c],c,t))&&(delete i[c],r=!0)}}return ue.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const a=t[i];(!e||Pm(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const t=this,i={};return ue.forEach(this,(r,a)=>{const l=ue.findKey(i,a);if(l){t[l]=Xd(r),delete t[a];return}const c=e?FM(a):String(a).trim();c!==a&&delete t[a],t[c]=Xd(r),i[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ue.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&ue.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[hx]=this[hx]={accessors:{}}).accessors,r=this.prototype;function a(l){const c=Kl(l);i[c]||(IM(r,l),i[c]=!0)}return ue.isArray(e)?e.forEach(a):a(e),this}};ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(ui.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});ue.freezeMethods(ui);function Bm(n,e){const t=this||$c,i=e||t,r=ui.from(i.headers);let a=i.data;return ue.forEach(n,function(c){a=c.call(t,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function IA(n){return!!(n&&n.__CANCEL__)}function Zo(n,e,t){et.call(this,n??"canceled",et.ERR_CANCELED,e,t),this.name="CanceledError"}ue.inherits(Zo,et,{__CANCEL__:!0});function zA(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new et("Request failed with status code "+t.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function zM(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function UM(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),f=i[a];l||(l=h),t[r]=d,i[r]=h;let m=a,g=0;for(;m!==r;)g+=t[m++],m=m%n;if(r=(r+1)%n,r===a&&(a=(a+1)%n),h-l<e)return;const b=f&&h-f;return b?Math.round(g*1e3/b):void 0}}function HM(n,e){let t=0,i=1e3/e,r,a;const l=(h,f=Date.now())=>{t=f,r=null,a&&(clearTimeout(a),a=null),n(...h)};return[(...h)=>{const f=Date.now(),m=f-t;m>=i?l(h,f):(r=h,a||(a=setTimeout(()=>{a=null,l(r)},i-m)))},()=>r&&l(r)]}const uh=(n,e,t=3)=>{let i=0;const r=UM(50,250);return HM(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-i,h=r(d),f=l<=c;i=l;const m={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&f?(c-l)/h:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(m)},t)},fx=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},px=n=>(...e)=>ue.asap(()=>n(...e)),$M=In.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,In.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(In.origin),In.navigator&&/(msie|trident)/i.test(In.navigator.userAgent)):()=>!0,qM=In.hasStandardBrowserEnv?{write(n,e,t,i,r,a,l){if(typeof document>"u")return;const c=[`${n}=${encodeURIComponent(e)}`];ue.isNumber(t)&&c.push(`expires=${new Date(t).toUTCString()}`),ue.isString(i)&&c.push(`path=${i}`),ue.isString(r)&&c.push(`domain=${r}`),a===!0&&c.push("secure"),ue.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function VM(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function GM(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function UA(n,e,t){let i=!VM(e);return n&&(i||t==!1)?GM(n,e):e}const mx=n=>n instanceof ui?{...n}:n;function Aa(n,e){e=e||{};const t={};function i(h,f,m,g){return ue.isPlainObject(h)&&ue.isPlainObject(f)?ue.merge.call({caseless:g},h,f):ue.isPlainObject(f)?ue.merge({},f):ue.isArray(f)?f.slice():f}function r(h,f,m,g){if(ue.isUndefined(f)){if(!ue.isUndefined(h))return i(void 0,h,m,g)}else return i(h,f,m,g)}function a(h,f){if(!ue.isUndefined(f))return i(void 0,f)}function l(h,f){if(ue.isUndefined(f)){if(!ue.isUndefined(h))return i(void 0,h)}else return i(void 0,f)}function c(h,f,m){if(m in e)return i(h,f);if(m in n)return i(void 0,h)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,f,m)=>r(mx(h),mx(f),m,!0)};return ue.forEach(Object.keys({...n,...e}),function(f){const m=d[f]||r,g=m(n[f],e[f],f);ue.isUndefined(g)&&m!==c||(t[f]=g)}),t}const HA=n=>{const e=Aa({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:l,auth:c}=e;if(e.headers=l=ui.from(l),e.url=PA(UA(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ue.isFormData(t)){if(In.hasStandardBrowserEnv||In.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ue.isFunction(t.getHeaders)){const d=t.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([f,m])=>{h.includes(f.toLowerCase())&&l.set(f,m)})}}if(In.hasStandardBrowserEnv&&(i&&ue.isFunction(i)&&(i=i(e)),i||i!==!1&&$M(e.url))){const d=r&&a&&qM.read(a);d&&l.set(r,d)}return e},XM=typeof XMLHttpRequest<"u",YM=XM&&function(n){return new Promise(function(t,i){const r=HA(n);let a=r.data;const l=ui.from(r.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=r,f,m,g,b,S;function x(){b&&b(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function A(){if(!E)return;const R=ui.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),k={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:R,config:n,request:E};zA(function(M){t(M),x()},function(M){i(M),x()},k),E=null}"onloadend"in E?E.onloadend=A:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(A)},E.onabort=function(){E&&(i(new et("Request aborted",et.ECONNABORTED,n,E)),E=null)},E.onerror=function(B){const k=B&&B.message?B.message:"Network Error",N=new et(k,et.ERR_NETWORK,n,E);N.event=B||null,i(N),E=null},E.ontimeout=function(){let B=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const k=r.transitional||BA;r.timeoutErrorMessage&&(B=r.timeoutErrorMessage),i(new et(B,k.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,n,E)),E=null},a===void 0&&l.setContentType(null),"setRequestHeader"in E&&ue.forEach(l.toJSON(),function(B,k){E.setRequestHeader(k,B)}),ue.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),c&&c!=="json"&&(E.responseType=r.responseType),h&&([g,S]=uh(h,!0),E.addEventListener("progress",g)),d&&E.upload&&([m,b]=uh(d),E.upload.addEventListener("progress",m),E.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(f=R=>{E&&(i(!R||R.type?new Zo(null,n,E):R),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const T=zM(r.url);if(T&&In.protocols.indexOf(T)===-1){i(new et("Unsupported protocol "+T+":",et.ERR_BAD_REQUEST,n));return}E.send(a||null)})},WM=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const a=function(h){if(!r){r=!0,c();const f=h instanceof Error?h:this.reason;i.abort(f instanceof et?f:new Zo(f instanceof Error?f.message:f))}};let l=e&&setTimeout(()=>{l=null,a(new et(`timeout ${e} of ms exceeded`,et.ETIMEDOUT))},e);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:d}=i;return d.unsubscribe=()=>ue.asap(c),d}},KM=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},ZM=async function*(n,e){for await(const t of QM(n))yield*KM(t,e)},QM=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},gx=(n,e,t,i)=>{const r=ZM(n,e);let a=0,l,c=d=>{l||(l=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:h,value:f}=await r.next();if(h){c(),d.close();return}let m=f.byteLength;if(t){let g=a+=m;t(g)}d.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(d){return c(d),r.return()}},{highWaterMark:2})},yx=64*1024,{isFunction:Cd}=ue,JM=(({Request:n,Response:e})=>({Request:n,Response:e}))(ue.global),{ReadableStream:bx,TextEncoder:vx}=ue.global,_x=(n,...e)=>{try{return!!n(...e)}catch{return!1}},eD=n=>{n=ue.merge.call({skipUndefined:!0},JM,n);const{fetch:e,Request:t,Response:i}=n,r=e?Cd(e):typeof fetch=="function",a=Cd(t),l=Cd(i);if(!r)return!1;const c=r&&Cd(bx),d=r&&(typeof vx=="function"?(S=>x=>S.encode(x))(new vx):async S=>new Uint8Array(await new t(S).arrayBuffer())),h=a&&c&&_x(()=>{let S=!1;const x=new t(In.origin,{body:new bx,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!x}),f=l&&c&&_x(()=>ue.isReadableStream(new i("").body)),m={stream:f&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(x,E)=>{let A=x&&x[S];if(A)return A.call(x);throw new et(`Response type '${S}' is not supported`,et.ERR_NOT_SUPPORT,E)})});const g=async S=>{if(S==null)return 0;if(ue.isBlob(S))return S.size;if(ue.isSpecCompliantForm(S))return(await new t(In.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(S)||ue.isArrayBuffer(S))return S.byteLength;if(ue.isURLSearchParams(S)&&(S=S+""),ue.isString(S))return(await d(S)).byteLength},b=async(S,x)=>{const E=ue.toFiniteNumber(S.getContentLength());return E??g(x)};return async S=>{let{url:x,method:E,data:A,signal:T,cancelToken:R,timeout:B,onDownloadProgress:k,onUploadProgress:N,responseType:M,headers:P,withCredentials:F="same-origin",fetchOptions:L}=HA(S),H=e||fetch;M=M?(M+"").toLowerCase():"text";let X=WM([T,R&&R.toAbortSignal()],B),V=null;const Y=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let I;try{if(N&&h&&E!=="get"&&E!=="head"&&(I=await b(P,A))!==0){let D=new t(x,{method:"POST",body:A,duplex:"half"}),q;if(ue.isFormData(A)&&(q=D.headers.get("content-type"))&&P.setContentType(q),D.body){const[j,K]=fx(I,uh(px(N)));A=gx(D.body,yx,j,K)}}ue.isString(F)||(F=F?"include":"omit");const U=a&&"credentials"in t.prototype,C={...L,signal:X,method:E.toUpperCase(),headers:P.normalize().toJSON(),body:A,duplex:"half",credentials:U?F:void 0};V=a&&new t(x,C);let ne=await(a?H(V,L):H(x,C));const G=f&&(M==="stream"||M==="response");if(f&&(k||G&&Y)){const D={};["status","statusText","headers"].forEach(ee=>{D[ee]=ne[ee]});const q=ue.toFiniteNumber(ne.headers.get("content-length")),[j,K]=k&&fx(q,uh(px(k),!0))||[];ne=new i(gx(ne.body,yx,j,()=>{K&&K(),Y&&Y()}),D)}M=M||"text";let w=await m[ue.findKey(m,M)||"text"](ne,S);return!G&&Y&&Y(),await new Promise((D,q)=>{zA(D,q,{data:w,headers:ui.from(ne.headers),status:ne.status,statusText:ne.statusText,config:S,request:V})})}catch(U){throw Y&&Y(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,S,V),{cause:U.cause||U}):et.from(U,U&&U.code,S,V)}}},tD=new Map,$A=n=>{let e=n&&n.env||{};const{fetch:t,Request:i,Response:r}=e,a=[i,r,t];let l=a.length,c=l,d,h,f=tD;for(;c--;)d=a[c],h=f.get(d),h===void 0&&f.set(d,h=c?new Map:eD(e)),f=h;return h};$A();const Iy={http:bM,xhr:YM,fetch:{get:$A}};ue.forEach(Iy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const xx=n=>`- ${n}`,nD=n=>ue.isFunction(n)||n===null||n===!1;function iD(n,e){n=ue.isArray(n)?n:[n];const{length:t}=n;let i,r;const a={};for(let l=0;l<t;l++){i=n[l];let c;if(r=i,!nD(i)&&(r=Iy[(c=String(i)).toLowerCase()],r===void 0))throw new et(`Unknown adapter '${c}'`);if(r&&(ue.isFunction(r)||(r=r.get(e))))break;a[c||"#"+l]=r}if(!r){const l=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=t?l.length>1?`since :
`+l.map(xx).join(`
`):" "+xx(l[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r}const qA={getAdapter:iD,adapters:Iy};function Fm(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Zo(null,n)}function Sx(n){return Fm(n),n.headers=ui.from(n.headers),n.data=Bm.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),qA.getAdapter(n.adapter||$c.adapter,n)(n).then(function(i){return Fm(n),i.data=Bm.call(n,n.transformResponse,i),i.headers=ui.from(i.headers),i},function(i){return IA(i)||(Fm(n),i&&i.response&&(i.response.data=Bm.call(n,n.transformResponse,i.response),i.response.headers=ui.from(i.response.headers))),Promise.reject(i)})}const VA="1.13.2",Hh={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Hh[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const wx={};Hh.transitional=function(e,t,i){function r(a,l){return"[Axios v"+VA+"] Transitional option '"+a+"'"+l+(i?". "+i:"")}return(a,l,c)=>{if(e===!1)throw new et(r(l," has been removed"+(t?" in "+t:"")),et.ERR_DEPRECATED);return t&&!wx[l]&&(wx[l]=!0,console.warn(r(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,c):!0}};Hh.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function rD(n,e,t){if(typeof n!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const a=i[r],l=e[a];if(l){const c=n[a],d=c===void 0||l(c,a,n);if(d!==!0)throw new et("option "+a+" must be "+d,et.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new et("Unknown option "+a,et.ERR_BAD_OPTION)}}const Yd={assertOptions:rD,validators:Hh},mr=Yd.validators;let Sa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new dx,response:new dx}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Aa(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:a}=t;i!==void 0&&Yd.assertOptions(i,{silentJSONParsing:mr.transitional(mr.boolean),forcedJSONParsing:mr.transitional(mr.boolean),clarifyTimeoutError:mr.transitional(mr.boolean)},!1),r!=null&&(ue.isFunction(r)?t.paramsSerializer={serialize:r}:Yd.assertOptions(r,{encode:mr.function,serialize:mr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yd.assertOptions(t,{baseUrl:mr.spelling("baseURL"),withXsrfToken:mr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&ue.merge(a.common,a[t.method]);a&&ue.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),t.headers=ui.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(d=d&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let f,m=0,g;if(!d){const S=[Sx.bind(this),void 0];for(S.unshift(...c),S.push(...h),g=S.length,f=Promise.resolve(t);m<g;)f=f.then(S[m++],S[m++]);return f}g=c.length;let b=t;for(;m<g;){const S=c[m++],x=c[m++];try{b=S(b)}catch(E){x.call(this,E);break}}try{f=Sx.call(this,b)}catch(S){return Promise.reject(S)}for(m=0,g=h.length;m<g;)f=f.then(h[m++],h[m++]);return f}getUri(e){e=Aa(this.defaults,e);const t=UA(e.baseURL,e.url,e.allowAbsoluteUrls);return PA(t,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Sa.prototype[e]=function(t,i){return this.request(Aa(i||{},{method:e,url:t,data:(i||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function t(i){return function(a,l,c){return this.request(Aa(c||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Sa.prototype[e]=t(),Sa.prototype[e+"Form"]=t(!0)});let sD=class GA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const l=new Promise(c=>{i.subscribe(c),a=c}).then(r);return l.cancel=function(){i.unsubscribe(a)},l},e(function(a,l,c){i.reason||(i.reason=new Zo(a,l,c),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new GA(function(r){e=r}),cancel:e}}};function aD(n){return function(t){return n.apply(null,t)}}function oD(n){return ue.isObject(n)&&n.isAxiosError===!0}const jg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jg).forEach(([n,e])=>{jg[e]=n});function XA(n){const e=new Sa(n),t=AA(Sa.prototype.request,e);return ue.extend(t,Sa.prototype,e,{allOwnKeys:!0}),ue.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return XA(Aa(n,r))},t}const Pt=XA($c);Pt.Axios=Sa;Pt.CanceledError=Zo;Pt.CancelToken=sD;Pt.isCancel=IA;Pt.VERSION=VA;Pt.toFormData=Uh;Pt.AxiosError=et;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=aD;Pt.isAxiosError=oD;Pt.mergeConfig=Aa;Pt.AxiosHeaders=ui;Pt.formToJSON=n=>FA(ue.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=qA.getAdapter;Pt.HttpStatusCode=jg;Pt.default=Pt;const{Axios:WX,AxiosError:KX,CanceledError:ZX,isCancel:QX,CancelToken:JX,VERSION:eY,all:tY,Cancel:nY,isAxiosError:iY,spread:rY,toFormData:sY,AxiosHeaders:aY,HttpStatusCode:oY,formToJSON:lY,getAdapter:cY,mergeConfig:uY}=Pt,Wd=Bh("auth/login",async(n,{rejectWithValue:e})=>{try{return(await Pt.post("https://study-buddy-2o9t.onrender.com/api/auth/signin",n)).data}catch(t){return e(t.response?.data?.message||"Login failed")}}),Kd=Bh("auth/register",async(n,{rejectWithValue:e})=>{try{return(await Pt.post("https://study-buddy-2o9t.onrender.com/api/auth/signup",n)).data}catch(t){return e(t.response?.data?.message||"Registration failed")}}),Zd=Bh("auth/updateProfile",async(n,{getState:e,rejectWithValue:t})=>{try{const i=e().auth.token;return(await Pt.patch("https://study-buddy-2o9t.onrender.com/api/auth/profile",n,{headers:{Authorization:`Bearer ${i}`}})).data.user}catch(i){return t(i.response?.data?.error||"Update failed")}}),dh=Bh("auth/fetchProfile",async(n,{getState:e,rejectWithValue:t})=>{try{const i=e().auth.token||localStorage.getItem("token");if(!i)throw new Error("No token found");return(await Pt.get("https://study-buddy-2o9t.onrender.com/api/auth/profile",{headers:{Authorization:`Bearer ${i}`}})).data}catch(i){return t(i.response?.data||{error:"Failed to fetch profile"})}}),Ax=localStorage.getItem("token"),lD=JSON.parse(localStorage.getItem("user")||"null"),cD={user:lD,token:Ax,loading:!1,error:null,isLoggedIn:!!Ax},YA=TO({name:"auth",initialState:cD,reducers:{logoutUser:n=>{n.user=null,n.token=null,n.isLoggedIn=!1,localStorage.removeItem("token")}},extraReducers:n=>{n.addCase(Wd.pending,e=>{e.loading=!0,e.error=null}).addCase(Wd.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0,localStorage.setItem("token",t.payload.token)}).addCase(Wd.rejected,(e,t)=>{e.isLoggedIn=!1,e.loading=!1,e.error=t.payload}).addCase(Kd.pending,e=>{e.loading=!0,e.error=null}).addCase(Kd.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!1,localStorage.setItem("token",t.payload.token)}).addCase(Kd.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Zd.pending,e=>{e.loading=!0}).addCase(Zd.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}).addCase(Zd.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(dh.fulfilled,(e,t)=>{e.user=t.payload,e.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(t.payload))}).addCase(dh.rejected,e=>{e.user=null,e.isLoggedIn=!1,localStorage.removeItem("user"),localStorage.removeItem("token")})}}),{logoutUser:uD}=YA.actions,dD=YA.reducer,hD=hO({reducer:{auth:dD}}),fD="_container_w2yxm_1",pD={container:fD},Pg=({children:n})=>v.jsx("div",{className:pD.container,children:n}),mD="_header_3xxqy_1",gD="_container_3xxqy_14",yD="_left_3xxqy_25",bD="_menuBtn_3xxqy_32",vD="_logoSection_3xxqy_42",_D="_logoLink_3xxqy_48",xD="_logo_3xxqy_42",SD="_title_3xxqy_65",wD="_subtitle_3xxqy_74",AD="_navbar_3xxqy_111",ED="_navItem_3xxqy_118",CD="_active_3xxqy_139",TD="_searchContainer_3xxqy_149",kD="_searchBar_3xxqy_166",RD="_clearSearchBtn_3xxqy_182",ND="_mobileSearchBtn_3xxqy_205",OD="_mobileSearchOverlay_3xxqy_219",MD="_mobileSearchContainer_3xxqy_232",DD="_mobileSearchInput_3xxqy_258",LD="_mobileMenu_3xxqy_274",jD="_mobileMenuBtn_3xxqy_280",PD="_mobileDropdown_3xxqy_289",BD="_mobileNavItem_3xxqy_304",FD="_mobileThemeActive_3xxqy_325",ID="_mobileMenuDivider_3xxqy_331",zD="_mobileSubmenu_3xxqy_337",UD="_mobileSubmenuItem_3xxqy_345",HD="_authLinks_3xxqy_367",$D="_loginLink_3xxqy_372",qD="_themeToggle_3xxqy_421",VD="_mobileThemeToggle_3xxqy_534",GD="_mobileThemeToggleButton_3xxqy_538",XD="_themeToggleButton_3xxqy_593",YD="_themeToggleButtonActive_3xxqy_607",WD="_themeDropdownMenu_3xxqy_642",KD="_themeDropdownItem_3xxqy_657",ZD="_themeDropdownItemActive_3xxqy_677",Pe={header:mD,container:gD,left:yD,menuBtn:bD,logoSection:vD,logoLink:_D,logo:xD,title:SD,subtitle:wD,navbar:AD,navItem:ED,active:CD,searchContainer:TD,searchBar:kD,clearSearchBtn:RD,mobileSearchBtn:ND,mobileSearchOverlay:OD,mobileSearchContainer:MD,mobileSearchInput:DD,mobileMenu:LD,mobileMenuBtn:jD,mobileDropdown:PD,mobileNavItem:BD,mobileThemeActive:FD,mobileMenuDivider:ID,mobileSubmenu:zD,mobileSubmenuItem:UD,authLinks:HD,loginLink:$D,themeToggle:qD,mobileThemeToggle:VD,mobileThemeToggleButton:GD,themeToggleButton:XD,themeToggleButtonActive:YD,themeDropdownMenu:WD,themeDropdownItem:KD,themeDropdownItemActive:ZD},WA="/assets/logo2-nL_AdwE-.png",QD="_overlay_7ovfl_1",JD="_modal_7ovfl_17",eL="_closeIcon_7ovfl_29",tL="_form_7ovfl_65",nL="_actions_7ovfl_103",iL="_cancel_7ovfl_112",rL="_save_7ovfl_129",Fi={overlay:QD,modal:JD,closeIcon:eL,form:tL,actions:nL,cancel:iL,save:rL},sL=[{value:"Math",label:"Math"},{value:"Physics",label:"Physics"},{value:"Chemistry",label:"Chemistry"},{value:"Biology",label:"Biology"},{value:"ComputerScience",label:"Computer Science"}],aL=({onClose:n})=>{const e=Ry(),{user:t,token:i,loading:r}=Bc(S=>S.auth),[a,l]=z.useState(""),[c,d]=z.useState(""),[h,f]=z.useState(""),[m,g]=z.useState(!0);z.useEffect(()=>{(async()=>{i&&await e(dh()),g(!1)})()},[e,i]),z.useEffect(()=>{t&&(l(t.username||t.name||""),d(t.email||""),f(t.specialization||""))},[t]);const b=async S=>{S.preventDefault(),await e(Zd({name:a,email:c,specialization:h})),await e(dh()),n()};return m||r?v.jsx("div",{className:Fi.overlay,children:v.jsx("div",{className:Fi.modal,children:v.jsx("p",{children:"Loading profile..."})})}):v.jsx("div",{className:Fi.overlay,children:v.jsxs("div",{className:Fi.modal,children:[v.jsx("button",{className:Fi.closeIcon,onClick:n,children:""}),v.jsx("h2",{children:"Edit Profile"}),v.jsxs("form",{onSubmit:b,className:Fi.form,children:[v.jsx("label",{className:Fi.label,htmlFor:"name",children:"Name"}),v.jsx("input",{id:"name",type:"text",value:a,onChange:S=>l(S.target.value),placeholder:"Your name",required:!0}),v.jsx("label",{className:Fi.label,htmlFor:"email",children:"Email"}),v.jsx("input",{id:"email",type:"email",value:c,onChange:S=>d(S.target.value),placeholder:"Your email",required:!0}),v.jsx("label",{className:Fi.label,htmlFor:"specialization",children:"Specialization"}),v.jsxs("select",{id:"specialization",value:h,onChange:S=>f(S.target.value),required:!0,children:[v.jsx("option",{value:"",children:"Select specialization"}),sL.map(S=>v.jsx("option",{value:S.value,children:S.label},S.value))]}),v.jsxs("div",{className:Fi.actions,children:[v.jsx("button",{type:"button",onClick:n,className:Fi.cancel,children:"Cancel"}),v.jsx("button",{type:"submit",className:Fi.save,children:"Save Changes"})]})]})]})})};const oL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),Ex=n=>{const e=lL(n);return e.charAt(0).toUpperCase()+e.slice(1)},KA=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),cL=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var uL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dL=z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:l,...c},d)=>z.createElement("svg",{ref:d,...uL,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:KA("lucide",r),...!a&&!cL(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,f])=>z.createElement(h,f)),...Array.isArray(a)?a:[a]]));const Ue=(n,e)=>{const t=z.forwardRef(({className:i,...r},a)=>z.createElement(dL,{ref:a,iconNode:e,className:KA(`lucide-${oL(Ex(n))}`,`lucide-${n}`,i),...r}));return t.displayName=Ex(n),t};const hL=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],fL=Ue("archive-restore",hL);const pL=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Bg=Ue("archive",pL);const mL=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Fg=Ue("book-marked",mL);const gL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],yL=Ue("book-open",gL);const bL=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Cx=Ue("book",bL);const vL=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],_L=Ue("bot",vL);const xL=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],SL=Ue("brain",xL);const wL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],AL=Ue("chart-column",wL);const EL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ig=Ue("check",EL);const CL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZA=Ue("chevron-down",CL);const TL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kL=Ue("chevron-up",TL);const RL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],NL=Ue("circle-alert",RL);const OL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ML=Ue("circle-check-big",OL);const DL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tx=Ue("circle-x",DL);const LL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zy=Ue("clock",LL);const jL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],PL=Ue("copy",jL);const BL=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],FL=Ue("eye-off",BL);const IL=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zL=Ue("eye",IL);const UL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hh=Ue("file-text",UL);const HL=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],kx=Ue("folder-open",HL);const $L=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],qL=Ue("highlighter",$L);const VL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Rx=Ue("house",VL);const GL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],XL=Ue("image",GL);const YL=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Nx=Ue("lightbulb",YL);const WL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],KL=Ue("lock-open",WL);const ZL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ox=Ue("log-out",ZL);const QL=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],JL=Ue("lock",QL);const ej=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tj=Ue("menu",ej);const nj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Mx=Ue("moon",nj);const ij=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],rj=Ue("pause",ij);const sj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zg=Ue("play",sj);const aj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dx=Ue("plus",aj);const oj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lj=Ue("rotate-ccw",oj);const cj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uj=Ue("search",cj);const dj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hj=Ue("send",dj);const fj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pj=Ue("settings",fj);const mj=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],gj=Ue("share-2",mj);const yj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bj=Ue("sparkles",yj);const vj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_j=Ue("square-check",vj);const xj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Lx=Ue("sun",xj);const Sj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wj=Ue("target",Sj);const Aj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jx=Ue("trash-2",Aj);const Ej=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cj=Ue("trending-up",Ej);const Tj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],kj=Ue("trophy",Tj);const Rj=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Nj=Ue("underline",Rj);const Oj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Uy=Ue("upload",Oj);const Mj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Px=Ue("users",Mj);const Dj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ug=Ue("user",Dj);const Lj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hg=Ue("x",Lj);const jj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hy=Ue("zap",jj);const Pj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Bj=Ue("zoom-in",Pj);const Fj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Ij=Ue("zoom-out",Fj),Cc=({onMenuClick:n,hasSidebar:e=!1,searchQuery:t="",onSearchChange:i=()=>{},hideSearch:r=!1})=>{const[a,l]=z.useState(!1),[c,d]=z.useState(!1),[h,f]=z.useState(!1),[m,g]=z.useState(!1),[b,S]=z.useState(!1),[x,E]=z.useState(()=>{if(typeof document>"u")return"light";const F=document.documentElement.dataset.theme;return F==="light"||F==="dark"||F==="sepia"?F:"light"}),A=z.useRef(),T=z.useRef(),R=z.useRef(),B=Ry(),k=os(),N=Us(),{isLoggedIn:M}=Bc(F=>F.auth);z.useEffect(()=>{typeof document>"u"||(document.documentElement.dataset.theme=x,window.localStorage.setItem("sb-theme",x))},[x]),z.useEffect(()=>{if(window.localStorage.getItem("sb-theme"))return;const L=window.matchMedia("(prefers-color-scheme: dark)"),H=X=>{const V=X.matches?"dark":"light";E(V),document.documentElement.dataset.theme=V,window.location.reload()};return L.addEventListener("change",H),()=>L.removeEventListener("change",H)},[]),z.useEffect(()=>{const F=L=>{A.current&&!A.current.contains(L.target)&&d(!1),T.current&&!T.current.contains(L.target)&&f(!1),R.current&&!R.current.contains(L.target)&&g(!1)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const P=()=>{B(uD()),d(!1),N("/")};return v.jsxs(v.Fragment,{children:[v.jsx("header",{className:Pe.header,children:v.jsxs("div",{className:Pe.container,children:[v.jsxs("div",{className:Pe.left,children:[e&&v.jsx("button",{className:Pe.menuBtn,onClick:n,children:""}),v.jsx("div",{className:Pe.logoSection,children:v.jsxs(To,{to:"/",className:Pe.logoLink,children:[v.jsx("img",{src:WA,alt:"Study Buddy Logo",className:Pe.logo}),v.jsxs("div",{children:[v.jsx("h1",{className:Pe.title,children:"Study Buddy"}),v.jsx("p",{className:Pe.subtitle,children:"Your smart learning partner"})]})]})})]}),M&&v.jsxs(v.Fragment,{children:[!r&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Pe.searchContainer,children:[v.jsx("input",{type:"text",placeholder:"Search modules...",className:Pe.searchBar,value:t,onChange:F=>i(F.target.value)}),t&&v.jsx("button",{className:Pe.clearSearchBtn,onClick:()=>i(""),title:"Clear search","aria-label":"Clear search",children:v.jsx(Tx,{size:18})})]}),v.jsx("button",{className:Pe.mobileSearchBtn,onClick:()=>f(!h),title:"Search",children:v.jsx(uj,{size:20})})]}),v.jsxs("nav",{className:Pe.navbar,children:[v.jsxs(To,{to:"/",className:`${Pe.navItem} ${k.pathname==="/"?Pe.active:""}`,children:[v.jsx(Rx,{size:18}),v.jsx("span",{children:"Dashboard"})]}),v.jsxs("button",{className:Pe.navItem,onClick:()=>l(!0),children:[v.jsx(Ug,{size:18}),v.jsx("span",{children:"My Account"})]}),v.jsxs("button",{className:Pe.navItem,onClick:P,children:[v.jsx(Ox,{size:18}),v.jsx("span",{children:"Logout"})]})]})]}),v.jsxs("div",{className:Pe.themeToggle,role:"group","aria-label":"Theme toggle",children:[v.jsx("button",{type:"button",className:`${Pe.themeToggleButton} ${x==="light"?Pe.themeToggleButtonActive:""}`,onClick:()=>E("light"),"aria-pressed":x==="light",title:"Light mode",children:""}),v.jsx("button",{type:"button",className:`${Pe.themeToggleButton} ${x==="sepia"?Pe.themeToggleButtonActive:""}`,onClick:()=>E("sepia"),"aria-pressed":x==="sepia",title:"Sepia mode",children:""}),v.jsx("button",{type:"button",className:`${Pe.themeToggleButton} ${x==="dark"?Pe.themeToggleButtonActive:""}`,onClick:()=>E("dark"),"aria-pressed":x==="dark",title:"Dark mode",children:""})]}),v.jsxs("div",{className:Pe.mobileThemeToggle,ref:R,role:"group","aria-label":"Theme toggle",children:[v.jsx("button",{type:"button",className:Pe.mobileThemeToggleButton,onClick:()=>g(!m),"aria-label":"Theme options",title:"Change theme",children:x==="light"?"":x==="dark"?"":""}),m&&v.jsxs("div",{className:Pe.themeDropdownMenu,children:[v.jsx("button",{type:"button",className:`${Pe.themeDropdownItem} ${x==="light"?Pe.themeDropdownItemActive:""}`,onClick:()=>{E("light"),g(!1)},"aria-label":"Light mode",children:" Light"}),v.jsx("button",{type:"button",className:`${Pe.themeDropdownItem} ${x==="sepia"?Pe.themeDropdownItemActive:""}`,onClick:()=>{E("sepia"),g(!1)},"aria-label":"Sepia mode",children:" Sepia"}),v.jsx("button",{type:"button",className:`${Pe.themeDropdownItem} ${x==="dark"?Pe.themeDropdownItemActive:""}`,onClick:()=>{E("dark"),g(!1)},"aria-label":"Dark mode",children:" Dark"})]})]}),v.jsx("div",{className:Pe.mobileMenu,ref:A,children:M?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:Pe.mobileMenuBtn,onClick:()=>d(!c),children:c?v.jsx(Hg,{size:24}):v.jsx(tj,{size:24})}),c&&v.jsxs("div",{className:Pe.mobileDropdown,children:[v.jsxs(To,{to:"/",className:Pe.mobileNavItem,onClick:()=>d(!1),children:[v.jsx(Rx,{size:18}),"Dashboard"]}),v.jsxs("button",{className:Pe.mobileNavItem,onClick:()=>{l(!0),d(!1)},children:[v.jsx(Ug,{size:18}),"My Account"]}),v.jsx("div",{className:Pe.mobileMenuDivider}),v.jsxs("button",{className:Pe.mobileNavItem,onClick:()=>S(!b),children:[x==="light"?v.jsx(Lx,{size:18}):x==="dark"?v.jsx(Mx,{size:18}):v.jsx(Cx,{size:18}),"Theme"]}),b&&v.jsxs("div",{className:Pe.mobileSubmenu,children:[v.jsxs("button",{className:`${Pe.mobileSubmenuItem} ${x==="light"?Pe.mobileThemeActive:""}`,onClick:()=>{E("light"),S(!1),d(!1)},title:"Light mode",children:[v.jsx(Lx,{size:18}),"Light"]}),v.jsxs("button",{className:`${Pe.mobileSubmenuItem} ${x==="sepia"?Pe.mobileThemeActive:""}`,onClick:()=>{E("sepia"),S(!1),d(!1)},title:"Sepia mode",children:[v.jsx(Cx,{size:18}),"Sepia"]}),v.jsxs("button",{className:`${Pe.mobileSubmenuItem} ${x==="dark"?Pe.mobileThemeActive:""}`,onClick:()=>{E("dark"),S(!1),d(!1)},title:"Dark mode",children:[v.jsx(Mx,{size:18}),"Dark"]})]}),v.jsx("div",{className:Pe.mobileMenuDivider}),v.jsxs("button",{className:Pe.mobileNavItem,onClick:P,children:[v.jsx(Ox,{size:18}),"Logout"]})]})]}):v.jsx("div",{className:Pe.authLinks,children:v.jsx(To,{to:"/login",className:Pe.loginLink,children:"Sign In"})})})]})}),h&&v.jsx("div",{className:Pe.mobileSearchOverlay,ref:T,children:v.jsxs("div",{className:Pe.mobileSearchContainer,children:[v.jsx("input",{type:"text",placeholder:"Search modules...",className:Pe.mobileSearchInput,value:t,onChange:F=>i(F.target.value),autoFocus:!0}),t&&v.jsx("button",{className:Pe.clearSearchBtn,onClick:()=>i(""),title:"Clear search","aria-label":"Clear search",children:v.jsx(Tx,{size:18})})]})}),a&&v.jsx(aL,{onClose:()=>l(!1)})]})},zj="_card_1vm0v_1",Uj="_cardHeader_1vm0v_20",Hj="_withImage_1vm0v_30",$j="_imagePlaceholder_1vm0v_36",qj="_imageLoaded_1vm0v_40",Vj="_imageSkeleton_1vm0v_62",Gj="_dateOnImage_1vm0v_83",Xj="_headerOverlay_1vm0v_94",Yj="_cardFooter_1vm0v_112",Wj="_footerContent_1vm0v_123",Kj="_titleSection_1vm0v_131",Zj="_title_1vm0v_131",Qj="_actions_1vm0v_169",Jj="_iconButton_1vm0v_176",eP="_archiveButton_1vm0v_196",tP="_deleteButton_1vm0v_200",nP="_manageButton_1vm0v_204",iP="_leaveButton_1vm0v_208",rP="_studyOverlay_1vm0v_212",sP="_overlayContent_1vm0v_231",aP="_overlayIcon_1vm0v_244",oP="_overlayText_1vm0v_249",lP="_collabLabel_1vm0v_257",Mt={card:zj,cardHeader:Uj,withImage:Hj,imagePlaceholder:$j,imageLoaded:qj,imageSkeleton:Vj,dateOnImage:Gj,headerOverlay:Xj,cardFooter:Yj,footerContent:Wj,titleSection:Kj,title:Zj,actions:Qj,iconButton:Jj,archiveButton:eP,deleteButton:tP,manageButton:nP,leaveButton:iP,studyOverlay:rP,overlayContent:sP,overlayIcon:aP,overlayText:oP,collabLabel:lP},pt=Pt.create({baseURL:"https://study-buddy-2o9t.onrender.com/api"});pt.interceptors.request.use(n=>{const e=localStorage.getItem("token");return e&&(n.headers.Authorization=`Bearer ${e}`),n});const Bx=({id:n,title:e,date:t,archived:i,onArchive:r,onDelete:a,onManage:l,coverImage:c,isOwner:d})=>{const h=Us(),[f,m]=z.useState(!1),[g,b]=z.useState(!1),S=z.useRef(null);z.useEffect(()=>{const k=new IntersectionObserver(([N])=>{N.isIntersecting&&(b(!0),k.unobserve(N.target))},{rootMargin:"50px"});return S.current&&k.observe(S.current),()=>k.disconnect()},[]);const x=async()=>{try{await pt.post("/streak/study",{date:new Date().toISOString().split("T")[0]})}catch(k){console.error("Failed to track study activity",k)}h(`/modules/${n}`)},E=k=>{k.stopPropagation(),r(n,i)},A=k=>{k.stopPropagation(),a(n)},T=k=>{k.stopPropagation(),l(n,e,c)},R=async k=>{k.stopPropagation();try{const N=await pt.get(`/modules/${n}/leave`);alert(N.data.message),a&&a(n)}catch(N){console.error("Failed to leave module",N),alert(N.response?.data?.error||"Failed to leave module")}},B=k=>k?k.startsWith("http")||k.startsWith("/")?k:k.match(/^c\d+\.jpg$/)?`/${k}`:`/assets/${k}`:"";return v.jsxs("div",{className:Mt.card,children:[v.jsxs("div",{ref:S,className:`${Mt.cardHeader} ${c?Mt.withImage:""} ${f?Mt.imageLoaded:Mt.imagePlaceholder}`,style:c&&g?{backgroundImage:`url(${B(c)})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:[c&&g&&!f&&v.jsx("div",{className:Mt.imageSkeleton}),v.jsx("img",{src:c&&g?B(c):"",alt:"module-cover",style:{display:"none"},onLoad:()=>m(!0)}),v.jsxs("div",{className:Mt.headerOverlay,children:[v.jsx("p",{className:Mt.dateOnImage,children:t}),v.jsx("div",{className:Mt.studyOverlay,onClick:x,children:v.jsxs("div",{className:Mt.overlayContent,children:[v.jsx(zg,{size:28,className:Mt.overlayIcon}),v.jsx("span",{className:Mt.overlayText,children:"Continue Studying"})]})})]})]}),v.jsx("div",{className:Mt.cardFooter,children:v.jsxs("div",{className:Mt.footerContent,children:[v.jsx("div",{className:Mt.titleSection,children:v.jsx("p",{className:Mt.title,children:e})}),v.jsx("div",{className:Mt.actions,children:d?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:`${Mt.iconButton} ${Mt.manageButton}`,onClick:T,title:"Manage",children:v.jsx(pj,{size:16})}),v.jsx("button",{className:`${Mt.iconButton} ${Mt.archiveButton}`,onClick:E,title:i?"Unarchive":"Archive",children:i?v.jsx(fL,{size:16}):v.jsx(Bg,{size:16})}),v.jsx("button",{className:`${Mt.iconButton} ${Mt.deleteButton}`,onClick:A,title:"Delete",children:v.jsx(jx,{size:16})})]}):v.jsxs(v.Fragment,{children:[v.jsx("span",{className:Mt.collabLabel,children:"Collaborator"}),v.jsx("button",{className:`${Mt.iconButton} ${Mt.leaveButton}`,onClick:R,title:"Leave Module",children:v.jsx(jx,{size:16})})]})})]})})]})},cP="_container_rd2wz_1",uP="_stepsWrapper_rd2wz_12",dP="_stepCard_rd2wz_20",hP="_stepNumber_rd2wz_33",fP="_stepContent_rd2wz_46",pP="_stepIcon_rd2wz_53",mP="_actionBtn_rd2wz_71",la={container:cP,stepsWrapper:uP,stepCard:dP,stepNumber:hP,stepContent:fP,stepIcon:pP,actionBtn:mP},gP=({onClick:n})=>{const e=[{number:1,title:"Create Module",description:"Give your study module a name",icon:Dx},{number:2,title:"Upload Files",description:"Add your notes, slides, and resources",icon:Uy},{number:3,title:"Start Learning",description:"Organize and study your materials",icon:Hy}];return v.jsxs("div",{className:la.container,children:[v.jsx("div",{className:la.stepsWrapper,children:e.map(t=>{const i=t.icon;return v.jsxs("div",{className:la.stepCard,children:[v.jsx("div",{className:la.stepNumber,children:t.number}),v.jsxs("div",{className:la.stepContent,children:[v.jsx(i,{size:24,className:la.stepIcon}),v.jsx("h3",{children:t.title}),v.jsx("p",{children:t.description})]})]},t.number)})}),v.jsxs("button",{className:la.actionBtn,onClick:n,children:[v.jsx(Dx,{size:20}),"Create Your First Module"]})]})},yP="_overlay_6e9dd_2",bP="_modal_6e9dd_22",vP="_headerRow_6e9dd_42",_P="_stepper_6e9dd_49",xP="_step_6e9dd_49",SP="_stepActive_6e9dd_63",wP="_stepNumber_6e9dd_67",AP="_stepLabel_6e9dd_79",EP="_closeButton_6e9dd_83",CP="_title_6e9dd_101",TP="_subtitle_6e9dd_109",kP="_formGroup_6e9dd_118",RP="_input_6e9dd_129",NP="_imagePickerSection_6e9dd_146",OP="_imageGrid_6e9dd_157",MP="_imageItem_6e9dd_163",DP="_selectedImage_6e9dd_179",LP="_ocrToggleSection_6e9dd_186",jP="_ocrLabel_6e9dd_190",PP="_ocrOptions_6e9dd_197",BP="_ocrOption_6e9dd_197",FP="_uploadGrid_6e9dd_221",IP="_dropzoneCard_6e9dd_230",zP="_dropzoneInner_6e9dd_240",UP="_dropzoneIconCircle_6e9dd_246",HP="_dropzoneTextBlock_6e9dd_260",$P="_dropzoneTitle_6e9dd_266",qP="_dropzoneSubtitle_6e9dd_271",VP="_browseLink_6e9dd_276",GP="_dropzoneHint_6e9dd_288",XP="_hiddenFileInput_6e9dd_294",YP="_uploadedCard_6e9dd_300",WP="_uploadedHeader_6e9dd_309",KP="_uploadedTitle_6e9dd_316",ZP="_uploadedCount_6e9dd_321",QP="_uploadedListWrapper_6e9dd_326",JP="_uploadEmpty_6e9dd_332",e3="_uploadList_6e9dd_338",t3="_uploadedFile_6e9dd_347",n3="_fileBadge_6e9dd_356",i3="_fileMeta_6e9dd_369",r3="_fileNameInput_6e9dd_375",s3="_fileSize_6e9dd_389",a3="_removeFileBtn_6e9dd_395",o3="_rejectedSection_6e9dd_412",l3="_rejectedTitle_6e9dd_419",c3="_rejectedList_6e9dd_429",u3="_rejectedFile_6e9dd_438",d3="_rejectedIcon_6e9dd_444",h3="_rejectedFileName_6e9dd_451",f3="_footer_6e9dd_458",p3="_footerMeta_6e9dd_468",m3="_actions_6e9dd_473",g3="_backButton_6e9dd_479",y3="_cancelButton_6e9dd_480",b3="_createButton_6e9dd_481",Oe={overlay:yP,modal:bP,headerRow:vP,stepper:_P,step:xP,stepActive:SP,stepNumber:wP,stepLabel:AP,closeButton:EP,title:CP,subtitle:TP,formGroup:kP,input:RP,imagePickerSection:NP,imageGrid:OP,imageItem:MP,selectedImage:DP,ocrToggleSection:LP,ocrLabel:jP,ocrOptions:PP,ocrOption:BP,uploadGrid:FP,dropzoneCard:IP,dropzoneInner:zP,dropzoneIconCircle:UP,dropzoneTextBlock:HP,dropzoneTitle:$P,dropzoneSubtitle:qP,browseLink:VP,dropzoneHint:GP,hiddenFileInput:XP,uploadedCard:YP,uploadedHeader:WP,uploadedTitle:KP,uploadedCount:ZP,uploadedListWrapper:QP,uploadEmpty:JP,uploadList:e3,uploadedFile:t3,fileBadge:n3,fileMeta:i3,fileNameInput:r3,fileSize:s3,removeFileBtn:a3,rejectedSection:o3,rejectedTitle:l3,rejectedList:c3,rejectedFile:u3,rejectedIcon:d3,rejectedFileName:h3,footer:f3,footerMeta:p3,actions:m3,backButton:g3,cancelButton:y3,createButton:b3},Ji=Pt.create({baseURL:"/pypi/",timeout:12e4});Ji.interceptors.request.use(n=>{const e=localStorage.getItem("token");return e&&(n.headers.Authorization=`Bearer ${e}`),n});function QA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=QA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function er(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=QA(n))&&(i&&(i+=" "),i+=e);return i}function v3(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}v3(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var qc=n=>typeof n=="number"&&!isNaN(n),Ea=n=>typeof n=="string",rs=n=>typeof n=="function",_3=n=>Ea(n)||qc(n),$g=n=>Ea(n)||rs(n)?n:null,x3=(n,e)=>n===!1||qc(n)&&n>0?n:e,qg=n=>z.isValidElement(n)||Ea(n)||rs(n)||qc(n);function S3(n,e,t=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${t}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,t)})})}function w3({enter:n,exit:e,appendPosition:t=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:a,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:f,playToast:m}){let g=t?`${n}--${l}`:n,b=t?`${e}--${l}`:e,S=z.useRef(0);return z.useLayoutEffect(()=>{let x=h.current,E=g.split(" "),A=T=>{T.target===h.current&&(m(),x.removeEventListener("animationend",A),x.removeEventListener("animationcancel",A),S.current===0&&T.type!=="animationcancel"&&x.classList.remove(...E))};x.classList.add(...E),x.addEventListener("animationend",A),x.addEventListener("animationcancel",A)},[]),z.useEffect(()=>{let x=h.current,E=()=>{x.removeEventListener("animationend",E),i?S3(x,d,r):d()};f||(c?E():(S.current=1,x.className+=` ${b}`,x.addEventListener("animationend",E)))},[f]),We.createElement(We.Fragment,null,a)}}function Fx(n,e){return{content:JA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function JA(n,e,t=!1){return z.isValidElement(n)&&!Ea(n.type)?z.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):rs(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function A3({closeToast:n,theme:e,ariaLabel:t="close"}){return We.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":t},We.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},We.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function E3({delay:n,isRunning:e,closeToast:t,type:i="default",hide:r,className:a,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:f}){let m=r||l&&c===0,g={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(g.transform=`scaleX(${c})`);let b=er("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=rs(a)?a({rtl:d,type:i,defaultClassName:b}):er(b,a),x={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&t()}};return We.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},We.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),We.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:S,style:g,...x}))}var C3=1,eE=()=>`${C3++}`;function T3(n,e,t){let i=1,r=0,a=[],l=[],c=e,d=new Map,h=new Set,f=T=>(h.add(T),()=>h.delete(T)),m=()=>{l=Array.from(d.values()),h.forEach(T=>T())},g=({containerId:T,toastId:R,updateId:B})=>{let k=T?T!==n:n!==1,N=d.has(R)&&B==null;return k||N},b=(T,R)=>{d.forEach(B=>{var k;(R==null||R===B.props.toastId)&&((k=B.toggle)==null||k.call(B,T))})},S=T=>{var R,B;(B=(R=T.props)==null?void 0:R.onClose)==null||B.call(R,T.removalReason),T.isActive=!1},x=T=>{if(T==null)d.forEach(S);else{let R=d.get(T);R&&S(R)}m()},E=()=>{r-=a.length,a=[]},A=T=>{var R,B;let{toastId:k,updateId:N}=T.props,M=N==null;T.staleId&&d.delete(T.staleId),T.isActive=!0,d.set(k,T),m(),t(Fx(T,M?"added":"updated")),M&&((B=(R=T.props).onOpen)==null||B.call(R))};return{id:n,props:c,observe:f,toggle:b,removeToast:x,toasts:d,clearQueue:E,buildToast:(T,R)=>{if(g(R))return;let{toastId:B,updateId:k,data:N,staleId:M,delay:P}=R,F=k==null;F&&r++;let L={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(R).filter(([X,V])=>V!=null)),toastId:B,updateId:k,data:N,isIn:!1,className:$g(R.className||c.toastClassName),progressClassName:$g(R.progressClassName||c.progressClassName),autoClose:R.isLoading?!1:x3(R.autoClose,c.autoClose),closeToast(X){d.get(B).removalReason=X,x(B)},deleteToast(){let X=d.get(B);if(X!=null){if(t(Fx(X,"removed")),d.delete(B),r--,r<0&&(r=0),a.length>0){A(a.shift());return}m()}}};L.closeButton=c.closeButton,R.closeButton===!1||qg(R.closeButton)?L.closeButton=R.closeButton:R.closeButton===!0&&(L.closeButton=qg(c.closeButton)?c.closeButton:!0);let H={content:T,props:L,staleId:M};c.limit&&c.limit>0&&r>c.limit&&F?a.push(H):qc(P)?setTimeout(()=>{A(H)},P):A(H)},setProps(T){c=T},setToggle:(T,R)=>{let B=d.get(T);B&&(B.toggle=R)},isToastActive:T=>{var R;return(R=d.get(T))==null?void 0:R.isActive},getSnapshot:()=>l}}var Gn=new Map,Tc=[],Vg=new Set,k3=n=>Vg.forEach(e=>e(n)),tE=()=>Gn.size>0;function R3(){Tc.forEach(n=>iE(n.content,n.options)),Tc=[]}var N3=(n,{containerId:e})=>{var t;return(t=Gn.get(e||1))==null?void 0:t.toasts.get(n)};function nE(n,e){var t;if(e)return!!((t=Gn.get(e))!=null&&t.isToastActive(n));let i=!1;return Gn.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function O3(n){if(!tE()){Tc=Tc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||_3(n))Gn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=Gn.get(n.containerId);e?e.removeToast(n.id):Gn.forEach(t=>{t.removeToast(n.id)})}}var M3=(n={})=>{Gn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function iE(n,e){qg(n)&&(tE()||Tc.push({content:n,options:e}),Gn.forEach(t=>{t.buildToast(n,e)}))}function D3(n){var e;(e=Gn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function rE(n,e){Gn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function L3(n){let e=n.containerId||1;return{subscribe(t){let i=T3(e,n,k3);Gn.set(e,i);let r=i.observe(t);return R3(),()=>{r(),Gn.delete(e)}},setProps(t){var i;(i=Gn.get(e))==null||i.setProps(t)},getSnapshot(){var t;return(t=Gn.get(e))==null?void 0:t.getSnapshot()}}}function j3(n){return Vg.add(n),()=>{Vg.delete(n)}}function P3(n){return n&&(Ea(n.toastId)||qc(n.toastId))?n.toastId:eE()}function Vc(n,e){return iE(n,e),e.toastId}function $h(n,e){return{...e,type:e&&e.type||n,toastId:P3(e)}}function qh(n){return(e,t)=>Vc(e,$h(n,t))}function st(n,e){return Vc(n,$h("default",e))}st.loading=(n,e)=>Vc(n,$h("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function B3(n,{pending:e,error:t,success:i},r){let a;e&&(a=Ea(e)?st.loading(e,r):st.loading(e.render,{...r,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,f,m)=>{if(f==null){st.dismiss(a);return}let g={type:h,...l,...r,data:m},b=Ea(f)?{render:f}:f;return a?st.update(a,{...g,...b}):st(b.render,{...g,...b}),m},d=rs(n)?n():n;return d.then(h=>c("success",i,h)).catch(h=>c("error",t,h)),d}st.promise=B3;st.success=qh("success");st.info=qh("info");st.error=qh("error");st.warning=qh("warning");st.warn=st.warning;st.dark=(n,e)=>Vc(n,$h("default",{theme:"dark",...e}));function F3(n){O3(n)}st.dismiss=F3;st.clearWaitingQueue=M3;st.isActive=nE;st.update=(n,e={})=>{let t=N3(n,e);if(t){let{props:i,content:r}=t,a={delay:100,...i,...e,toastId:e.toastId||n,updateId:eE()};a.toastId!==n&&(a.staleId=n);let l=a.render||r;delete a.render,Vc(l,a)}};st.done=n=>{st.update(n,{progress:1})};st.onChange=j3;st.play=n=>rE(!0,n);st.pause=n=>rE(!1,n);function I3(n){var e;let{subscribe:t,getSnapshot:i,setProps:r}=z.useRef(L3(n)).current;r(n);let a=(e=z.useSyncExternalStore(t,i,i))==null?void 0:e.slice();function l(c){if(!a)return[];let d=new Map;return n.newestOnTop&&a.reverse(),a.forEach(h=>{let{position:f}=h.props;d.has(f)||d.set(f,[]),d.get(f).push(h)}),Array.from(d,h=>c(h[0],h[1]))}return{getToastToRender:l,isToastActive:nE,count:a?.length}}function z3(n){let[e,t]=z.useState(!1),[i,r]=z.useState(!1),a=z.useRef(null),l=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:h,onClick:f,closeOnClick:m}=n;D3({id:n.toastId,containerId:n.containerId,fn:t}),z.useEffect(()=>{if(n.pauseOnFocusLoss)return g(),()=>{b()}},[n.pauseOnFocusLoss]);function g(){document.hasFocus()||A(),window.addEventListener("focus",E),window.addEventListener("blur",A)}function b(){window.removeEventListener("focus",E),window.removeEventListener("blur",A)}function S(M){if(n.draggable===!0||n.draggable===M.pointerType){T();let P=a.current;l.canCloseOnClick=!0,l.canDrag=!0,P.style.transition="none",n.draggableDirection==="x"?(l.start=M.clientX,l.removalDistance=P.offsetWidth*(n.draggablePercent/100)):(l.start=M.clientY,l.removalDistance=P.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function x(M){let{top:P,bottom:F,left:L,right:H}=a.current.getBoundingClientRect();M.nativeEvent.type!=="touchend"&&n.pauseOnHover&&M.clientX>=L&&M.clientX<=H&&M.clientY>=P&&M.clientY<=F?A():E()}function E(){t(!0)}function A(){t(!1)}function T(){l.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",k)}function R(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",k)}function B(M){let P=a.current;if(l.canDrag&&P){l.didMove=!0,e&&A(),n.draggableDirection==="x"?l.delta=M.clientX-l.start:l.delta=M.clientY-l.start,l.start!==M.clientX&&(l.canCloseOnClick=!1);let F=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;P.style.transform=`translate3d(${F},0)`,P.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function k(){R();let M=a.current;if(l.canDrag&&l.didMove&&M){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}M.style.transition="transform 0.2s, opacity 0.2s",M.style.removeProperty("transform"),M.style.removeProperty("opacity")}}let N={onPointerDown:S,onPointerUp:x};return c&&d&&(N.onMouseEnter=A,n.stacked||(N.onMouseLeave=E)),m&&(N.onClick=M=>{f&&f(M),l.canCloseOnClick&&h(!0)}),{playToast:E,pauseToast:A,isRunning:e,preventExitTransition:i,toastRef:a,eventHandlers:N}}var U3=typeof window<"u"?z.useLayoutEffect:z.useEffect,Vh=({theme:n,type:e,isLoading:t,...i})=>We.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...i});function H3(n){return We.createElement(Vh,{...n},We.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function $3(n){return We.createElement(Vh,{...n},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function q3(n){return We.createElement(Vh,{...n},We.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function V3(n){return We.createElement(Vh,{...n},We.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function G3(){return We.createElement("div",{className:"Toastify__spinner"})}var Gg={info:$3,warning:H3,success:q3,error:V3,spinner:G3},X3=n=>n in Gg;function Y3({theme:n,type:e,isLoading:t,icon:i}){let r=null,a={theme:n,type:e};return i===!1||(rs(i)?r=i({...a,isLoading:t}):z.isValidElement(i)?r=z.cloneElement(i,a):t?r=Gg.spinner():X3(e)&&(r=Gg[e](a))),r}var W3=n=>{let{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:r,playToast:a}=z3(n),{closeButton:l,children:c,autoClose:d,onClick:h,type:f,hideProgressBar:m,closeToast:g,transition:b,position:S,className:x,style:E,progressClassName:A,updateId:T,role:R,progress:B,rtl:k,toastId:N,deleteToast:M,isIn:P,isLoading:F,closeOnClick:L,theme:H,ariaLabel:X}=n,V=er("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":L}),Y=rs(x)?x({rtl:k,position:S,type:f,defaultClassName:V}):er(V,x),I=Y3(n),U=!!B||!d,C={closeToast:g,type:f,theme:H},ne=null;return l===!1||(rs(l)?ne=l(C):z.isValidElement(l)?ne=z.cloneElement(l,C):ne=A3(C)),We.createElement(b,{isIn:P,done:M,position:S,preventExitTransition:t,nodeRef:i,playToast:a},We.createElement("div",{id:N,tabIndex:0,onClick:h,"data-in":P,className:Y,...r,style:E,ref:i,...P&&{role:R,"aria-label":X}},I!=null&&We.createElement("div",{className:er("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},I),JA(c,n,!e),ne,!n.customProgressBar&&We.createElement(E3,{...T&&!U?{key:`p-${T}`}:{},rtl:k,theme:H,delay:d,isRunning:e,isIn:P,closeToast:g,hide:m,type:f,className:A,controlledProgress:U,progress:B||0})))},K3=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),Z3=w3(K3("bounce",!0)),Q3={position:"top-right",transition:Z3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function J3(n){let e={...Q3,...n},t=n.stacked,[i,r]=z.useState(!0),a=z.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=I3(e),{className:h,style:f,rtl:m,containerId:g,hotKeys:b}=e;function S(E){let A=er("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":m});return rs(h)?h({position:E,rtl:m,defaultClassName:A}):er(A,$g(h))}function x(){t&&(r(!0),st.play())}return U3(()=>{var E;if(t){let A=a.current.querySelectorAll('[data-in="true"]'),T=12,R=(E=e.position)==null?void 0:E.includes("top"),B=0,k=0;Array.from(A).reverse().forEach((N,M)=>{let P=N;P.classList.add("Toastify__toast--stacked"),M>0&&(P.dataset.collapsed=`${i}`),P.dataset.pos||(P.dataset.pos=R?"top":"bot");let F=B*(i?.2:1)+(i?0:T*M);P.style.setProperty("--y",`${R?F:F*-1}px`),P.style.setProperty("--g",`${T}`),P.style.setProperty("--s",`${1-(i?k:0)}`),B+=P.offsetHeight,k+=.025})}},[i,d,t]),z.useEffect(()=>{function E(A){var T;let R=a.current;b(A)&&((T=R.querySelector('[tabIndex="0"]'))==null||T.focus(),r(!1),st.pause()),A.key==="Escape"&&(document.activeElement===R||R!=null&&R.contains(document.activeElement))&&(r(!0),st.play())}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[b]),We.createElement("section",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{t&&(r(!1),st.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((E,A)=>{let T=A.length?{...f}:{...f,pointerEvents:"none"};return We.createElement("div",{tabIndex:-1,className:S(E),"data-stacked":t,style:T,key:`c-${E}`},A.map(({content:R,props:B})=>We.createElement(W3,{...B,stacked:t,collapseAll:x,isIn:c(B.toastId,B.containerId),key:`t-${B.key}`},R)))}))}const eB="_container_78puh_1",tB="_animationWrapper_78puh_25",nB="_iconContainer_78puh_47",iB="_orbitContainer_78puh_54",rB="_orbit_78puh_54",sB="_iconWrapper_78puh_77",aB="_label_78puh_99",oB="_message_78puh_110",lB="_stagesIndicator_78puh_130",cB="_stageDot_78puh_137",uB="_active_78puh_146",dB="_completed_78puh_152",hB="_loadingBar_78puh_168",fB="_progress_78puh_177",pB="_tips_78puh_185",mB="_tipText_78puh_190",Sn={container:eB,animationWrapper:tB,iconContainer:nB,orbitContainer:iB,orbit:rB,iconWrapper:sB,label:aB,message:oB,stagesIndicator:lB,stageDot:cB,active:uB,completed:dB,loadingBar:hB,progress:fB,tips:pB,tipText:mB},gB=({stage:n})=>{const e=[{id:"uploading",icon:Uy,label:"Uploading files...",message:"Getting your files ready"},{id:"processing",icon:Hy,label:"Processing with AI...",message:"Teaching the AI about your content"},{id:"creating",icon:bj,label:"Creating module...",message:"Putting it all together"},{id:"complete",icon:ML,label:"Done!",message:"Your module is ready!"}],t=e.find(r=>r.id===n)||e[0],i=t.icon;return v.jsx("div",{className:Sn.container,children:v.jsxs("div",{className:Sn.animationWrapper,children:[v.jsxs("div",{className:Sn.iconContainer,children:[v.jsxs("div",{className:Sn.orbitContainer,children:[v.jsx("div",{className:Sn.orbit}),v.jsx("div",{className:Sn.orbit,style:{animationDelay:"0.5s"}}),v.jsx("div",{className:Sn.orbit,style:{animationDelay:"1s"}})]}),v.jsx("div",{className:Sn.iconWrapper,children:v.jsx(i,{size:48})})]}),v.jsx("h3",{className:Sn.label,children:t.label}),v.jsx("p",{className:Sn.message,children:t.message}),v.jsx("div",{className:Sn.stagesIndicator,children:e.slice(0,3).map((r,a)=>v.jsx("div",{className:`${Sn.stageDot} ${n===r.id?Sn.active:e.indexOf(e.find(l=>l.id===n))>a?Sn.completed:""}`},r.id))}),v.jsx("div",{className:Sn.loadingBar,children:v.jsx("div",{className:Sn.progress,style:{width:n==="uploading"?"33%":n==="processing"?"66%":"100%"}})}),v.jsx("div",{className:Sn.tips,children:v.jsx("p",{className:Sn.tipText,children:" Grab a cup of tea, this might take a moment!"})})]})})},yB=Array.from({length:10},(n,e)=>`c${e+1}.jpg`),Ix=["docx","doc","pptx","ppt","xlsx","xls","pdf","png","jpg","jpeg","bmp","gif","webp","tiff","txt"],sE=({isOpen:n,onClose:e,onCreate:t,onUploadSuccess:i,moduleId:r,mode:a="create"})=>{const l=Us(),c=z.useRef(null),d=a==="create",[h,f]=z.useState(1),[m,g]=z.useState(""),[b,S]=z.useState(null),[x,E]=z.useState(!1),[A,T]=z.useState([]),[R,B]=z.useState([]),[k,N]=z.useState([]),[M,P]=z.useState(!1),[F,L]=z.useState("uploading");if(z.useEffect(()=>{n&&(f(d?1:2),g(""),S(null),T([]),B([]),N([]),E(!1),P(!1),L("uploading"))},[n,d]),!n)return null;const H=q=>q?q.toLowerCase().split(".").pop():"",X=q=>{const j=H(q);return Ix.includes(j)},V=()=>{!M&&c.current&&c.current.click()},Y=q=>{const j=Array.from(q.target.files||[]);if(!j.length)return;const K=[],ee=[],re=[];j.forEach(se=>{X(se.name)?(K.push(se),ee.push(se.name)):re.push(se.name)}),re.length&&(N(se=>[...se,...re]),st.error(`Unsupported file format(s): ${re.join(", ")}. Please use supported formats.`)),K.length&&(T(se=>[...se,...K]),B(se=>[...se,...ee]),re.length||st.success(`${K.length} file(s) added successfully`,{autoClose:2e3})),q.target.value=""},I=q=>{T(j=>j.filter((K,ee)=>ee!==q)),B(j=>j.filter((K,ee)=>ee!==q))},U=q=>{N(j=>j.filter((K,ee)=>ee!==q))},C=(q,j)=>{B(K=>{const ee=[...K];return ee[q]=j,ee})},ne=()=>{if(!m.trim()){st.warning("Please enter a module name.");return}f(2)},G=async()=>{if(d&&!m.trim()){st.warning("Please enter a module name."),f(1);return}if(!A.length){st.warning("Please upload at least one file.");return}P(!0),L("uploading");try{const q=new FormData;a==="upload"&&q.append("moduleId",r),A.forEach(ee=>q.append("files",ee)),q.append("ocr",x);const j=await Ji.post("/upload-files",q,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("Python upload successful:",j.data),L("processing"),j.data.errors&&j.data.errors.length>0){console.error("Python upload errors:",j.data.errors);const ee=j.data.errors.map(re=>re.file_name).join(", ");st.error(`Some files failed to process: ${ee}`)}if(!j.data.uploaded||j.data.uploaded.length===0){st.error("No files were successfully processed."),P(!1);return}L("creating");let K=null;for(let ee=0;ee<j.data.uploaded.length;ee++){const re=j.data.uploaded[ee],se=R[ee]&&R[ee].trim()?R[ee].trim():re.file_name,Se={...a==="create"&&ee===0&&{moduleName:m},...a==="create"&&ee>0&&K&&{moduleId:K.id},...a==="upload"&&{moduleId:Number(r)},file_id:re.file_id,file_name:se,s3Url:re.s3_url,s3Key:re.s3_key,html:re.html||"",...a==="create"&&ee===0&&{coverImage:b}};console.log(`Sending to Node.js (file ${ee+1}/${j.data.uploaded.length}):`,Se);const ve=await pt.post("/files/upload",Se,{headers:{"Content-Type":"application/json"}});console.log("Node.js response:",ve.data),a==="create"&&ee===0&&ve.data.module&&(K=ve.data.module)}a==="create"&&t&&K&&t(K),a==="upload"&&i&&i(),g(""),S(null),T([]),B([]),N([]),E(!1),L("uploading"),e(),a==="create"&&K&&setTimeout(()=>{l(`/modules/${K.id}`)},500)}catch(q){console.error("Upload failed:",q),console.error("Error details:",q.response?.data);const j=q.response?.data?.error||q.message||"Upload failed";st.error(`Upload failed: ${j}`),L("uploading")}finally{P(!1)}};if(M)return v.jsx(gB,{stage:F});const w=d?"Create New Study Module":"Add Files to Module",D=d?h===1?"Set a name and cover image for your new study module.":"Upload the study materials for this module.":"Select and upload additional files for this module.";return v.jsx("div",{className:Oe.overlay,children:v.jsxs("div",{className:Oe.modal,children:[v.jsxs("div",{className:Oe.headerRow,children:[d&&v.jsxs("div",{className:Oe.stepper,children:[v.jsxs("div",{className:`${Oe.step} ${h===1?Oe.stepActive:""}`,children:[v.jsx("span",{className:Oe.stepNumber,children:"1"}),v.jsx("span",{className:Oe.stepLabel,children:"Details"})]}),v.jsxs("div",{className:`${Oe.step} ${h===2?Oe.stepActive:""}`,children:[v.jsx("span",{className:Oe.stepNumber,children:"2"}),v.jsx("span",{className:Oe.stepLabel,children:"Upload Files"})]})]}),v.jsx("button",{className:Oe.closeButton,onClick:e,children:""})]}),v.jsx("h2",{className:Oe.title,children:w}),v.jsx("p",{className:Oe.subtitle,children:D}),d&&h===1&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Oe.formGroup,children:[v.jsx("label",{htmlFor:"moduleName",children:"Module Name"}),v.jsx("input",{id:"moduleName",type:"text",className:Oe.input,placeholder:"e.g., Calculus I - Chapter 3",value:m,onChange:q=>g(q.target.value),disabled:M})]}),v.jsxs("div",{className:Oe.imagePickerSection,children:[v.jsx("label",{children:"Choose a Cover Image"}),v.jsx("div",{className:Oe.imageGrid,children:yB.map((q,j)=>v.jsx("button",{type:"button",className:`${Oe.imageItem} ${b===q?Oe.selectedImage:""}`,onClick:()=>S(q),children:v.jsx("img",{src:`/${q}`,alt:`Cover ${j+1}`})},j))})]})]}),(!d||h===2)&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:Oe.ocrToggleSection,children:[v.jsx("label",{className:Oe.ocrLabel,children:"File Type"}),v.jsxs("div",{className:Oe.ocrOptions,children:[v.jsxs("label",{className:Oe.ocrOption,children:[v.jsx("input",{type:"radio",checked:!x,onChange:()=>E(!1),disabled:M}),v.jsx("span",{children:" Regular Document"})]}),v.jsxs("label",{className:Oe.ocrOption,children:[v.jsx("input",{type:"radio",checked:x,onChange:()=>E(!0),disabled:M}),v.jsx("span",{children:" Handwritten Notes (OCR)"})]})]})]}),v.jsxs("div",{className:Oe.uploadGrid,children:[v.jsxs("div",{className:Oe.dropzoneCard,onClick:V,role:"button",children:[v.jsxs("div",{className:Oe.dropzoneInner,children:[v.jsx("div",{className:Oe.dropzoneIconCircle,children:""}),v.jsxs("div",{className:Oe.dropzoneTextBlock,children:[v.jsx("div",{className:Oe.dropzoneTitle,children:"Drop your files here"}),v.jsxs("div",{className:Oe.dropzoneSubtitle,children:["or"," ",v.jsx("button",{type:"button",className:Oe.browseLink,onClick:q=>{q.stopPropagation(),V()},children:"Browse"})," ","to choose files"]}),v.jsx("div",{className:Oe.dropzoneHint,children:"Supported: DOCX, DOC, PPTX, PPT, XLSX, XLS, PDF, PNG, JPG, JPEG, BMP, GIF, WEBP, TIFF, TXT & more. Max 50MB each."})]})]}),v.jsx("input",{ref:c,id:"fileInput",type:"file",multiple:!0,className:Oe.hiddenFileInput,onChange:Y,disabled:M,accept:Ix.map(q=>`.${q}`).join(",")})]}),v.jsxs("div",{className:Oe.uploadedCard,children:[v.jsxs("div",{className:Oe.uploadedHeader,children:[v.jsx("span",{className:Oe.uploadedTitle,children:"Uploaded files"}),v.jsxs("span",{className:Oe.uploadedCount,children:[A.length," selected"]})]}),v.jsx("div",{className:Oe.uploadedListWrapper,children:A.length===0?v.jsx("div",{className:Oe.uploadEmpty,children:"No files selected yet."}):v.jsx("ul",{className:Oe.uploadList,children:A.map((q,j)=>{const K=H(q.name||"").toUpperCase(),ee=Math.round(q.size/1024);return v.jsxs("li",{className:Oe.uploadedFile,children:[v.jsx("span",{className:Oe.fileBadge,children:K||"FILE"}),v.jsxs("div",{className:Oe.fileMeta,children:[v.jsx("input",{className:Oe.fileNameInput,value:R[j]??q.name,onChange:re=>C(j,re.target.value),disabled:M}),v.jsxs("span",{className:Oe.fileSize,children:[ee," KB"]})]}),v.jsx("button",{type:"button",className:Oe.removeFileBtn,onClick:()=>I(j),title:"Remove file",disabled:M,children:""})]},j)})})})]})]}),k.length>0&&v.jsxs("div",{className:Oe.rejectedSection,children:[v.jsxs("p",{className:Oe.rejectedTitle,children:[v.jsx(NL,{size:14})," Unsupported files (",k.length,")"]}),v.jsx("ul",{className:Oe.rejectedList,children:k.map((q,j)=>v.jsxs("li",{className:Oe.rejectedFile,children:[v.jsx("span",{className:Oe.rejectedIcon}),v.jsx("span",{className:Oe.rejectedFileName,children:q}),v.jsx("button",{type:"button",className:Oe.removeFileBtn,onClick:()=>U(j),title:"Dismiss",disabled:M,children:""})]},j))})]})]}),v.jsxs("div",{className:Oe.footer,children:[v.jsxs("span",{className:Oe.footerMeta,children:["Total files: ",A.length]}),v.jsxs("div",{className:Oe.actions,children:[d&&h===2&&v.jsx("button",{type:"button",className:Oe.backButton,onClick:()=>f(1),disabled:M,children:"Back"}),v.jsx("button",{type:"button",className:Oe.cancelButton,onClick:e,disabled:M,children:"Cancel"}),d?h===1?v.jsx("button",{type:"button",className:Oe.createButton,onClick:ne,disabled:!m.trim()||M,children:"Next: Upload Files"}):v.jsx("button",{type:"button",className:Oe.createButton,onClick:G,disabled:!A.length||M,children:M?"Uploading...":"Create Module"}):v.jsx("button",{type:"button",className:Oe.createButton,onClick:G,disabled:!A.length||M,children:M?"Uploading...":"Add Files"})]})]})]})})},bB="_homePage_1sulo_1",vB="_progressCollapsed_1sulo_12",_B="_headerSection_1sulo_16",xB="_viewAllBtn_1sulo_31",SB="_modulesGrid_1sulo_49",wB="_content_1sulo_57",AB="_mainContent_1sulo_67",EB="_modulesSection_1sulo_87",CB="_toggleButtons_1sulo_215",TB="_progressSection_1sulo_237",kB="_collapsed_1sulo_253",RB="_progressHeader_1sulo_257",NB="_collapseBtn_1sulo_409",OB="_emptyState_1sulo_416",MB="_emptyStateBtn_1sulo_434",DB="_activeBtn_1sulo_463",LB="_inactiveBtn_1sulo_474",rn={homePage:bB,progressCollapsed:vB,headerSection:_B,viewAllBtn:xB,modulesGrid:SB,content:wB,mainContent:AB,modulesSection:EB,toggleButtons:CB,progressSection:TB,collapsed:kB,progressHeader:RB,collapseBtn:NB,emptyState:OB,emptyStateBtn:MB,activeBtn:DB,inactiveBtn:LB},jB="_addCard_1tcxu_1",PB={addCard:jB},BB="/assets/symbol-defs-CAKCujkI.svg",FB=({onClick:n})=>v.jsx("div",{className:PB.addCard,onClick:n,children:v.jsx("span",{children:v.jsx("svg",{width:"24",height:"24",fill:"#ffffff",children:v.jsx("use",{href:`${BB}#icon-plus`})})})}),IB="_overlay_9pddf_1",zB="_fadeIn_9pddf_1",UB="_modal_9pddf_13",HB="_slideUp_9pddf_1",$B="_header_9pddf_25",qB="_titleSection_9pddf_34",VB="_icon_9pddf_40",GB="_title_9pddf_34",XB="_closeBtn_9pddf_52",YB="_errorAlert_9pddf_71",WB="_sectionContainer_9pddf_86",KB="_section_9pddf_86",ZB="_sectionHeader_9pddf_99",QB="_sectionIcon_9pddf_105",JB="_divider_9pddf_117",e4="_formRow_9pddf_123",t4="_formGroup_9pddf_129",n4="_input_9pddf_135",i4="_select_9pddf_136",r4="_primaryBtn_9pddf_165",s4="_emptyState_9pddf_197",a4="_emptyIcon_9pddf_208",o4="_collaboratorsList_9pddf_218",l4="_collaboratorItem_9pddf_224",c4="_collaboratorInfo_9pddf_240",u4="_collaboratorName_9pddf_246",d4="_badge_9pddf_253",h4="_editor_9pddf_265",f4="_viewer_9pddf_270",p4="_removeBtn_9pddf_275",m4="_switchRow_9pddf_290",g4="_slider_9pddf_311",y4="_imagePickerSection_9pddf_358",b4="_imageGrid_9pddf_364",v4="_imageItem_9pddf_371",_4="_selectedImage_9pddf_393",$e={overlay:IB,fadeIn:zB,modal:UB,slideUp:HB,header:$B,titleSection:qB,icon:VB,title:GB,closeBtn:XB,errorAlert:YB,sectionContainer:WB,section:KB,sectionHeader:ZB,sectionIcon:QB,divider:JB,formRow:e4,formGroup:t4,input:n4,select:i4,primaryBtn:r4,emptyState:s4,emptyIcon:a4,collaboratorsList:o4,collaboratorItem:l4,collaboratorInfo:c4,collaboratorName:u4,badge:d4,editor:h4,viewer:f4,removeBtn:p4,switchRow:m4,switch:"_switch_9pddf_290",slider:g4,imagePickerSection:y4,imageGrid:b4,imageItem:v4,selectedImage:_4},x4=Array.from({length:10},(n,e)=>`c${e+1}.jpg`),S4=({isOpen:n,onClose:e,moduleId:t,moduleTitle:i,onUpdate:r,onRefresh:a,onStatsRefresh:l,moduleCoverImage:c})=>{const[d,h]=z.useState(i||""),[f,m]=z.useState(!1),[g,b]=z.useState(""),[S,x]=z.useState("editor"),[E,A]=z.useState([]),[T,R]=z.useState(c||null),[B,k]=z.useState(!1),[N,M]=z.useState("");z.useEffect(()=>{t&&n&&(P(),F())},[t,n]);const P=async()=>{try{const I=await pt.get(`/files/modules/${t}/collaborators`);A(I.data.collaborators||[])}catch(I){console.error("Failed to fetch collaborators:",I),M("Failed to load collaborators")}},F=async()=>{try{const I=await pt.get(`files/modules/${t}/iscompleted`);m(I.data.completed||!1)}catch(I){console.error("Failed to load completion status:",I)}},L=async()=>{try{const I=!f;m(I),I?await pt.post(`files/modules/${t}/complete`):await pt.delete(`files/modules/${t}/complete`),a&&a(),l&&l()}catch(I){console.error("Failed to update completion:",I)}},H=async()=>{if(!d.trim()){M("Title cannot be empty");return}try{k(!0),M("");const I=await pt.put(`/files/modules/${t}/title`,{title:d});r(I.data.module),e()}catch(I){console.error("Failed to update title:",I),M(I.response?.data?.error||"Failed to update title")}finally{k(!1)}},X=async()=>{if(!g.trim()){M("Email cannot be empty");return}try{k(!0),M(""),await pt.post(`/files/modules/${t}/collaborators`,{collaboratorEmail:g,role:S}),b(""),P()}catch(I){console.error("Failed to add collaborator:",I),M(I.response?.data?.error||"Failed to add collaborator")}finally{k(!1)}},V=async I=>{try{k(!0),M(""),await pt.delete(`/files/modules/${t}/collaborators/${I}`),P()}catch(U){console.error("Failed to remove collaborator:",U),M("Failed to remove collaborator")}finally{k(!1)}},Y=async()=>{if(!T){M("Please select a cover image");return}try{k(!0),M("");const I=await pt.put(`/files/modules/${t}/cover-image`,{coverImage:T});r(I.data.module),st.success(" Cover image updated successfully"),e()}catch(I){console.error("Failed to update cover image:",I),M(I.response?.data?.error||"Failed to update cover image"),st.error(" Failed to update cover image")}finally{k(!1)}};return n?v.jsx("div",{className:$e.overlay,onClick:e,children:v.jsxs("div",{className:$e.modal,onClick:I=>I.stopPropagation(),children:[v.jsxs("div",{className:$e.header,children:[v.jsxs("div",{className:$e.titleSection,children:[v.jsx(hh,{size:24,className:$e.icon}),v.jsx("h2",{className:$e.title,children:"Module Settings"})]}),v.jsx("button",{className:$e.closeBtn,onClick:e,title:"Close",children:v.jsx(Hg,{size:24})})]}),N&&v.jsx("div",{className:$e.errorAlert,children:v.jsx("p",{children:N})}),v.jsxs("div",{className:$e.sectionContainer,children:[v.jsxs("div",{className:$e.section,children:[v.jsxs("div",{className:$e.sectionHeader,children:[v.jsx(hh,{size:20,className:$e.sectionIcon}),v.jsx("h3",{children:"Module Title"})]}),v.jsxs("div",{className:$e.formRow,children:[v.jsx("input",{type:"text",value:d,onChange:I=>h(I.target.value),placeholder:"Enter module title",className:$e.input,disabled:B}),v.jsx("button",{className:$e.primaryBtn,onClick:H,disabled:B,children:B?"Saving...":"Update"})]})]}),v.jsx("div",{className:$e.divider}),v.jsxs("div",{className:$e.section,children:[v.jsx("div",{className:$e.sectionHeader,children:v.jsx("h3",{children:"Completion Status"})}),v.jsxs("label",{className:$e.switchRow,children:[v.jsx("span",{children:"Mark as Completed"}),v.jsxs("label",{className:$e.switch,children:[v.jsx("input",{type:"checkbox",checked:f,onChange:L}),v.jsx("span",{className:$e.slider})]})]}),v.jsx("div",{className:$e.divider}),v.jsxs("div",{className:$e.sectionHeader,children:[v.jsx(XL,{size:20,className:$e.sectionIcon}),v.jsx("h3",{children:"Module Cover Image"})]}),v.jsxs("div",{className:$e.imagePickerSection,children:[v.jsx("div",{className:$e.imageGrid,children:x4.map((I,U)=>v.jsx("div",{className:`${$e.imageItem} ${T===I?$e.selectedImage:""}`,onClick:()=>R(I),children:v.jsx("img",{src:`/${I}`,alt:`cover-${U+1}`})},U))}),v.jsx("button",{className:$e.primaryBtn,onClick:Y,disabled:B||!T,children:B?"Saving...":"Update Cover Image"})]})]}),v.jsx("div",{className:$e.divider}),v.jsxs("div",{className:$e.section,children:[v.jsxs("div",{className:$e.sectionHeader,children:[v.jsx(gj,{size:20,className:$e.sectionIcon}),v.jsx("h3",{children:"Add Collaborator"})]}),v.jsxs("div",{className:$e.formGroup,children:[v.jsxs("div",{className:$e.formRow,children:[v.jsx("input",{type:"email",value:g,onChange:I=>b(I.target.value),placeholder:"Enter collaborator email",className:$e.input,disabled:B}),v.jsxs("select",{value:S,onChange:I=>x(I.target.value),className:$e.select,disabled:B,children:[v.jsx("option",{value:"editor",children:"Editor"}),v.jsx("option",{value:"viewer",children:"Viewer"})]})]}),v.jsx("button",{className:$e.primaryBtn,onClick:X,disabled:B,children:B?"Adding...":"Add Collaborator"})]})]}),v.jsx("div",{className:$e.divider}),v.jsxs("div",{className:$e.section,children:[v.jsxs("div",{className:$e.sectionHeader,children:[v.jsx(Px,{size:20,className:$e.sectionIcon}),v.jsxs("h3",{children:["Collaborators (",E.length,")"]})]}),E.length===0?v.jsxs("div",{className:$e.emptyState,children:[v.jsx(Px,{size:32,className:$e.emptyIcon}),v.jsx("p",{children:"No collaborators yet"})]}):v.jsx("div",{className:$e.collaboratorsList,children:E.map(I=>v.jsxs("div",{className:$e.collaboratorItem,children:[v.jsxs("div",{className:$e.collaboratorInfo,children:[v.jsx("p",{className:$e.collaboratorName,children:I.user.name||I.user.email}),v.jsx("span",{className:`${$e.badge} ${$e[I.role]}`,children:I.role})]}),v.jsx("button",{className:$e.removeBtn,onClick:()=>V(I.user.id),disabled:B,title:"Remove collaborator",children:v.jsx(Hg,{size:18})})]},I.user.id))})]})]})]})}):null};var w4={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function A4(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var i=(n.match(/[^0-9]*$/)||"").toString();return w4[i]?{value:e,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function zx(n){var e=A4(n);return"".concat(e.value).concat(e.unit)}var E4=function(n,e,t){var i="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return i;var r=document.createElement("style");document.head.appendChild(r);var a=r.sheet,l=`
    @keyframes `.concat(i,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(l,0),i},fh=function(){return fh=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},fh.apply(this,arguments)},C4=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t},T4=E4("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Ps(n){var e=n.loading,t=e===void 0?!0:e,i=n.color,r=i===void 0?"#000000":i,a=n.speedMultiplier,l=a===void 0?1:a,c=n.cssOverride,d=c===void 0?{}:c,h=n.size,f=h===void 0?35:h,m=C4(n,["loading","color","speedMultiplier","cssOverride","size"]),g=fh({background:"transparent !important",width:zx(f),height:zx(f),borderRadius:"100%",border:"2px solid",borderTopColor:r,borderBottomColor:"transparent",borderLeftColor:r,borderRightColor:r,display:"inline-block",animation:"".concat(T4," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?z.createElement("span",fh({style:g},m)):null}const k4="_overlay_tgfw2_1",R4={overlay:k4},aE=()=>v.jsx("div",{className:R4.overlay,children:v.jsx(Ps,{size:60,color:"#3498db"})}),N4="_statsOverview_sv2z3_1",O4="_statsGrid_sv2z3_12",M4="_statCard_sv2z3_19",D4="_iconWrapper_sv2z3_37",L4="_colorBlue_sv2z3_48",j4="_colorCyan_sv2z3_52",P4="_colorAmber_sv2z3_56",B4="_colorGreen_sv2z3_60",F4="_content_sv2z3_64",I4="_label_sv2z3_68",z4="_value_sv2z3_77",U4="_sublabel_sv2z3_85",Ii={statsOverview:N4,statsGrid:O4,statCard:M4,iconWrapper:D4,colorBlue:L4,colorCyan:j4,colorAmber:P4,colorGreen:B4,content:F4,label:I4,value:z4,sublabel:U4},H4=({refresh:n})=>{const[e,t]=z.useState(null),[i,r]=z.useState(!0);if(z.useEffect(()=>{(async()=>{try{const c=await pt.get("/dashboard");console.log("Dashboard stats response:",2);const d=c.data;t([{id:1,label:"Overall Progress",value:`${d.overallProgress}%`,icon:Cj,color:"blue",sublabel:""},{id:2,label:"Modules Completed",value:`${d.totalCompleted} / ${d.totalModules}`,icon:yL,color:"cyan",sublabel:`${(d.totalCompleted/d.totalModules*100).toFixed(0)}% done`},{id:3,label:"Days in a Row",value:d.totalDaysInRow,icon:zy,color:"amber",sublabel:`${d.totalDaysInRow>1?" Keep going!":"Start strong!"}`},{id:4,label:"Average Test Score",value:`${d.averageTestScore}%`,icon:AL,color:"green",sublabel:""}])}catch(c){console.error("Failed to load dashboard stats:",c)}finally{r(!1)}})()},[n]),i)return v.jsx("div",{children:"Loading stats..."});if(!e)return v.jsx("div",{children:"Failed to load stats."});const a=l=>{const c={blue:Ii.colorBlue,cyan:Ii.colorCyan,amber:Ii.colorAmber,green:Ii.colorGreen};return c[l]||c.blue};return v.jsx("div",{className:Ii.statsOverview,children:v.jsx("div",{className:Ii.statsGrid,children:e.map(l=>{const c=l.icon;return v.jsxs("div",{className:`${Ii.statCard} ${a(l.color)}`,children:[v.jsx("div",{className:Ii.iconWrapper,children:v.jsx(c,{size:24})}),v.jsxs("div",{className:Ii.content,children:[v.jsx("p",{className:Ii.label,children:l.label}),v.jsx("h3",{className:Ii.value,children:l.value}),v.jsx("p",{className:Ii.sublabel,children:l.sublabel})]})]},l.id)})})})},$4=()=>{const[n,e]=z.useState([]),[t,i]=z.useState(!0),[r,a]=z.useState(!1),[l,c]=z.useState({open:!1,moduleId:null,title:"",coverImage:null}),[d,h]=z.useState("active"),[f,m]=z.useState(""),[g,b]=z.useState(()=>window.innerWidth<=768),[S,x]=z.useState(0),E=async()=>{try{const I=await pt.get("/files/modules");e(I.data.modules||[])}catch(I){console.error("Failed to fetch modules:",I)}finally{i(!1)}};z.useEffect(()=>{E()},[]);const A=()=>a(!0),T=()=>a(!1),R=I=>{e(U=>[...U,I]),a(!1)},B=async(I,U)=>{try{const C=U?`/files/modules/${I}/unarchive`:`/files/modules/${I}/archive`;await pt.put(C),e(ne=>ne.map(G=>G.id===I?{...G,archived:!U}:G))}catch(C){console.error("Failed to toggle archive:",C)}},k=async I=>{if(window.confirm("Are you sure you want to delete this module and all its files?"))try{await pt.delete(`/files/modules/${I}`),e(C=>C.filter(ne=>ne.id!==I))}catch(C){console.error("Failed to delete module:",C)}},N=(I,U,C)=>{c({open:!0,moduleId:I,title:U,coverImage:C})},M=I=>{e(U=>U.map(C=>C.id===I.id?I:C))};if(t)return v.jsxs(v.Fragment,{children:[v.jsx(Cc,{}),v.jsx(Pg,{children:v.jsx("div",{className:rn.homePage,children:v.jsx(aE,{})})})]});const P=n.filter(I=>!I.archived),F=n.filter(I=>I.archived),L=I=>[...I].sort((U,C)=>{const ne=new Date(U.lastAccessedAt||U.createdAt).getTime();return new Date(C.lastAccessedAt||C.createdAt).getTime()-ne}),H=L(P),X=L(F),V=H.filter(I=>I.title.toLowerCase().includes(f.toLowerCase())),Y=X.filter(I=>I.title.toLowerCase().includes(f.toLowerCase()));return v.jsxs(v.Fragment,{children:[v.jsx(Cc,{searchQuery:f,onSearchChange:m}),v.jsxs(Pg,{children:[v.jsx("div",{className:`${rn.homePage} ${g?rn.progressCollapsed:""}`,children:n.length===0?v.jsx(gP,{onClick:A}):v.jsxs("div",{className:rn.content,children:[v.jsxs("div",{className:`${rn.progressSection} ${g?rn.collapsed:""}`,children:[v.jsxs("div",{className:rn.progressHeader,children:[v.jsx("h3",{children:"Your Progress"}),v.jsx("button",{className:rn.collapseBtn,onClick:()=>b(!g),title:g?"Show progress":"Hide progress",children:g?v.jsx(ZA,{size:20}):v.jsx(kL,{size:20})})]}),!g&&v.jsx(H4,{refresh:S})]}),v.jsx("div",{className:rn.mainContent,children:v.jsxs("div",{className:rn.modulesSection,children:[v.jsxs("div",{className:rn.headerSection,children:[v.jsx("h2",{children:"Modules"}),d==="active"&&P.length>3&&v.jsx("button",{className:rn.viewAllBtn,onClick:A,children:"Add more modules"})]}),v.jsxs("div",{className:rn.toggleButtons,children:[v.jsxs("button",{className:d==="active"?rn.activeBtn:rn.inactiveBtn,onClick:()=>h("active"),children:[v.jsx(kx,{size:18}),v.jsx("span",{children:"Current"})]}),v.jsxs("button",{className:d==="archived"?rn.activeBtn:rn.inactiveBtn,onClick:()=>h("archived"),children:[v.jsx(Bg,{size:18}),v.jsx("span",{children:"Archive"})]})]}),d==="active"&&V.length===0?v.jsxs("div",{className:rn.emptyState,children:[v.jsx(kx,{size:48}),v.jsx("h3",{children:f?"No modules found":"No Active Modules"}),v.jsx("p",{children:f?"Try a different search term":"Create your first module to get started"}),!f&&v.jsx("button",{className:rn.emptyStateBtn,onClick:A,children:"Create Module"})]}):v.jsxs("div",{className:rn.modulesGrid,children:[d==="active"&&V.map(I=>v.jsx(Bx,{id:I.id,title:I.title,date:new Date(I.createdAt).toLocaleDateString(),archived:I.archived,onArchive:B,onDelete:k,onManage:N,coverImage:I.coverImage,isOwner:I.isOwner},I.id)),d==="archived"&&Y.map(I=>v.jsx(Bx,{id:I.id,title:I.title,date:new Date(I.createdAt).toLocaleDateString(),archived:I.archived,onArchive:B,onDelete:k,onManage:N,coverImage:I.coverImage,isOwner:I.isOwner},I.id)),d==="active"&&P.length<=3&&v.jsx(FB,{onClick:A})]}),d==="archived"&&Y.length===0&&v.jsxs("div",{className:rn.emptyState,children:[v.jsx(Bg,{size:48}),v.jsx("h3",{children:f?"No modules found":"No Archived Modules"}),v.jsx("p",{children:f?"Try a different search term":"Archive modules to organize your workspace"})]})]})})]})}),r&&v.jsx(sE,{isOpen:r,onClose:T,onCreate:R}),l.open&&v.jsx(S4,{isOpen:l.open,onClose:()=>c({open:!1,moduleId:null,title:"",coverImage:null}),moduleId:l.moduleId,moduleTitle:l.title,moduleCoverImage:l.coverImage,onUpdate:M,onRefresh:E,onStatsRefresh:()=>x(I=>I+1)})]})]})},q4="_pageWrapper_1kz9q_1",V4="_card_1kz9q_10",G4="_header_1kz9q_21",X4="_logo_1kz9q_25",Y4="_title_1kz9q_33",W4="_subtitle_1kz9q_40",K4="_formContainer_1kz9q_46",Z4="_toggleText_1kz9q_50",Q4="_toggleButton_1kz9q_56",gr={pageWrapper:q4,card:V4,header:G4,logo:X4,title:Y4,subtitle:W4,formContainer:K4,toggleText:Z4,toggleButton:Q4};var Gc=n=>n.type==="checkbox",ga=n=>n instanceof Date,li=n=>n==null;const oE=n=>typeof n=="object";var yn=n=>!li(n)&&!Array.isArray(n)&&oE(n)&&!ga(n),J4=n=>yn(n)&&n.target?Gc(n.target)?n.target.checked:n.target.value:n,eF=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,tF=(n,e)=>n.has(eF(e)),nF=n=>{const e=n.constructor&&n.constructor.prototype;return yn(e)&&e.hasOwnProperty("isPrototypeOf")},$y=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wn(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!($y&&(n instanceof Blob||i))&&(t||yn(n)))if(e=t?[]:Object.create(Object.getPrototypeOf(n)),!t&&!nF(n))e=n;else for(const r in n)n.hasOwnProperty(r)&&(e[r]=wn(n[r]));else return n;return e}var Gh=n=>/^\w*$/.test(n),ln=n=>n===void 0,qy=n=>Array.isArray(n)?n.filter(Boolean):[],Vy=n=>qy(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Me=(n,e,t)=>{if(!e||!yn(n))return t;const i=(Gh(e)?[e]:Vy(e)).reduce((r,a)=>li(r)?r:r[a],n);return ln(i)||i===n?ln(n[e])?t:n[e]:i},wr=n=>typeof n=="boolean",Rt=(n,e,t)=>{let i=-1;const r=Gh(e)?[e]:Vy(e),a=r.length,l=a-1;for(;++i<a;){const c=r[i];let d=t;if(i!==l){const h=n[c];d=yn(h)||Array.isArray(h)?h:isNaN(+r[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;n[c]=d,n=n[c]}};const Ux={BLUR:"blur",FOCUS_OUT:"focusout"},Zi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Yr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iF=We.createContext(null);iF.displayName="HookFormContext";var rF=(n,e,t,i=!0)=>{const r={defaultValues:e._defaultValues};for(const a in n)Object.defineProperty(r,a,{get:()=>{const l=a;return e._proxyFormState[l]!==Zi.all&&(e._proxyFormState[l]=!i||Zi.all),n[l]}});return r};const sF=typeof window<"u"?We.useLayoutEffect:We.useEffect;var Ai=n=>typeof n=="string",aF=(n,e,t,i,r)=>Ai(n)?(i&&e.watch.add(n),Me(t,n,r)):Array.isArray(n)?n.map(a=>(i&&e.watch.add(a),Me(t,a))):(i&&(e.watchAll=!0),t),Xg=n=>li(n)||!oE(n);function Ls(n,e,t=new WeakSet){if(Xg(n)||Xg(e))return Object.is(n,e);if(ga(n)&&ga(e))return n.getTime()===e.getTime();const i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const a of i){const l=n[a];if(!r.includes(a))return!1;if(a!=="ref"){const c=e[a];if(ga(l)&&ga(c)||yn(l)&&yn(c)||Array.isArray(l)&&Array.isArray(c)?!Ls(l,c,t):!Object.is(l,c))return!1}}return!0}var lE=(n,e,t,i,r)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:r||!0}}:{},mc=n=>Array.isArray(n)?n:[n],Hx=()=>{let n=[];return{get observers(){return n},next:r=>{for(const a of n)a.next&&a.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(a=>a!==r)}}),unsubscribe:()=>{n=[]}}};function cE(n,e){const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i],a=e[i];if(r&&yn(r)&&a){const l=cE(r,a);yn(l)&&(t[i]=l)}else n[i]&&(t[i]=a)}return t}var $n=n=>yn(n)&&!Object.keys(n).length,Gy=n=>n.type==="file",Qi=n=>typeof n=="function",ph=n=>{if(!$y)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},uE=n=>n.type==="select-multiple",Xy=n=>n.type==="radio",oF=n=>Xy(n)||Gc(n),Im=n=>ph(n)&&n.isConnected;function lF(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=ln(n)?i++:n[e[i++]];return n}function cF(n){for(const e in n)if(n.hasOwnProperty(e)&&!ln(n[e]))return!1;return!0}function mn(n,e){const t=Array.isArray(e)?e:Gh(e)?[e]:Vy(e),i=t.length===1?n:lF(n,t),r=t.length-1,a=t[r];return i&&delete i[a],r!==0&&(yn(i)&&$n(i)||Array.isArray(i)&&cF(i))&&mn(n,t.slice(0,-1)),n}var uF=n=>{for(const e in n)if(Qi(n[e]))return!0;return!1};function dE(n){return Array.isArray(n)||yn(n)&&!uF(n)}function Yg(n,e={}){for(const t in n){const i=n[t];dE(i)?(e[t]=Array.isArray(i)?[]:{},Yg(i,e[t])):ln(i)||(e[t]=!0)}return e}function Ao(n,e,t){t||(t=Yg(e));for(const i in n){const r=n[i];if(dE(r))ln(e)||Xg(t[i])?t[i]=Yg(r,Array.isArray(r)?[]:{}):Ao(r,li(e)?{}:e[i],t[i]);else{const a=e[i];t[i]=!Ls(r,a)}}return t}const $x={value:!1,isValid:!1},qx={value:!0,isValid:!0};var hE=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!ln(n[0].attributes.value)?ln(n[0].value)||n[0].value===""?qx:{value:n[0].value,isValid:!0}:qx:$x}return $x},fE=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>ln(n)?n:e?n===""?NaN:n&&+n:t&&Ai(n)?new Date(n):i?i(n):n;const Vx={isValid:!1,value:null};var pE=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Vx):Vx;function Gx(n){const e=n.ref;return Gy(e)?e.files:Xy(e)?pE(n.refs).value:uE(e)?[...e.selectedOptions].map(({value:t})=>t):Gc(e)?hE(n.refs).value:fE(ln(e.value)?n.ref.value:e.value,n)}var dF=(n,e,t,i)=>{const r={};for(const a of n){const l=Me(e,a);l&&Rt(r,a,l._f)}return{criteriaMode:t,names:[...n],fields:r,shouldUseNativeValidation:i}},mh=n=>n instanceof RegExp,Zl=n=>ln(n)?n:mh(n)?n.source:yn(n)?mh(n.value)?n.value.source:n.value:n,Xx=n=>({isOnSubmit:!n||n===Zi.onSubmit,isOnBlur:n===Zi.onBlur,isOnChange:n===Zi.onChange,isOnAll:n===Zi.all,isOnTouch:n===Zi.onTouched});const Yx="AsyncFunction";var hF=n=>!!n&&!!n.validate&&!!(Qi(n.validate)&&n.validate.constructor.name===Yx||yn(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Yx)),fF=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),Wx=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const gc=(n,e,t,i)=>{for(const r of t||Object.keys(n)){const a=Me(n,r);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],r)&&!i)return!0;if(l.ref&&e(l.ref,l.name)&&!i)return!0;if(gc(c,e))break}else if(yn(c)&&gc(c,e))break}}};function Kx(n,e,t){const i=Me(n,t);if(i||Gh(t))return{error:i,name:t};const r=t.split(".");for(;r.length;){const a=r.join("."),l=Me(e,a),c=Me(n,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};r.pop()}return{name:t}}var pF=(n,e,t,i)=>{t(n);const{name:r,...a}=n;return $n(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!i||Zi.all))},mF=(n,e,t)=>!n||!e||n===e||mc(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),gF=(n,e,t,i,r)=>r.isOnAll?!1:!t&&r.isOnTouch?!(e||n):(t?i.isOnBlur:r.isOnBlur)?!n:(t?i.isOnChange:r.isOnChange)?n:!0,yF=(n,e)=>!qy(Me(n,e)).length&&mn(n,e),bF=(n,e,t)=>{const i=mc(Me(n,t));return Rt(i,"root",e[t]),Rt(n,t,i),n};function Zx(n,e,t="validate"){if(Ai(n)||Array.isArray(n)&&n.every(Ai)||wr(n)&&!n)return{type:t,message:Ai(n)?n:"",ref:e}}var bo=n=>yn(n)&&!mh(n)?n:{value:n,message:""},Qx=async(n,e,t,i,r,a)=>{const{ref:l,refs:c,required:d,maxLength:h,minLength:f,min:m,max:g,pattern:b,validate:S,name:x,valueAsNumber:E,mount:A}=n._f,T=Me(t,x);if(!A||e.has(x))return{};const R=c?c[0]:l,B=X=>{r&&R.reportValidity&&(R.setCustomValidity(wr(X)?"":X||""),R.reportValidity())},k={},N=Xy(l),M=Gc(l),P=N||M,F=(E||Gy(l))&&ln(l.value)&&ln(T)||ph(l)&&l.value===""||T===""||Array.isArray(T)&&!T.length,L=lE.bind(null,x,i,k),H=(X,V,Y,I=Yr.maxLength,U=Yr.minLength)=>{const C=X?V:Y;k[x]={type:X?I:U,message:C,ref:l,...L(X?I:U,C)}};if(a?!Array.isArray(T)||!T.length:d&&(!P&&(F||li(T))||wr(T)&&!T||M&&!hE(c).isValid||N&&!pE(c).isValid)){const{value:X,message:V}=Ai(d)?{value:!!d,message:d}:bo(d);if(X&&(k[x]={type:Yr.required,message:V,ref:R,...L(Yr.required,V)},!i))return B(V),k}if(!F&&(!li(m)||!li(g))){let X,V;const Y=bo(g),I=bo(m);if(!li(T)&&!isNaN(T)){const U=l.valueAsNumber||T&&+T;li(Y.value)||(X=U>Y.value),li(I.value)||(V=U<I.value)}else{const U=l.valueAsDate||new Date(T),C=w=>new Date(new Date().toDateString()+" "+w),ne=l.type=="time",G=l.type=="week";Ai(Y.value)&&T&&(X=ne?C(T)>C(Y.value):G?T>Y.value:U>new Date(Y.value)),Ai(I.value)&&T&&(V=ne?C(T)<C(I.value):G?T<I.value:U<new Date(I.value))}if((X||V)&&(H(!!X,Y.message,I.message,Yr.max,Yr.min),!i))return B(k[x].message),k}if((h||f)&&!F&&(Ai(T)||a&&Array.isArray(T))){const X=bo(h),V=bo(f),Y=!li(X.value)&&T.length>+X.value,I=!li(V.value)&&T.length<+V.value;if((Y||I)&&(H(Y,X.message,V.message),!i))return B(k[x].message),k}if(b&&!F&&Ai(T)){const{value:X,message:V}=bo(b);if(mh(X)&&!T.match(X)&&(k[x]={type:Yr.pattern,message:V,ref:l,...L(Yr.pattern,V)},!i))return B(V),k}if(S){if(Qi(S)){const X=await S(T,t),V=Zx(X,R);if(V&&(k[x]={...V,...L(Yr.validate,V.message)},!i))return B(V.message),k}else if(yn(S)){let X={};for(const V in S){if(!$n(X)&&!i)break;const Y=Zx(await S[V](T,t),R,V);Y&&(X={...Y,...L(V,Y.message)},B(Y.message),i&&(k[x]=X))}if(!$n(X)&&(k[x]={ref:R,...X},!i))return k}}return B(!0),k};const vF={mode:Zi.onSubmit,reValidateMode:Zi.onChange,shouldFocusError:!0};function _F(n={}){let e={...vF,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Qi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},i={},r=yn(e.defaultValues)||yn(e.values)?wn(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:wn(r),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const g={array:Hx(),state:Hx()},b=e.criteriaMode===Zi.all,S=W=>J=>{clearTimeout(h),h=setTimeout(W,J)},x=async W=>{if(!e.disabled&&(f.isValid||m.isValid||W)){const J=e.resolver?$n((await M()).errors):await F(i,!0);J!==t.isValid&&g.state.next({isValid:J})}},E=(W,J)=>{!e.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((W||Array.from(c.mount)).forEach(ce=>{ce&&(J?Rt(t.validatingFields,ce,J):mn(t.validatingFields,ce))}),g.state.next({validatingFields:t.validatingFields,isValidating:!$n(t.validatingFields)}))},A=(W,J=[],ce,xe,ge=!0,ye=!0)=>{if(xe&&ce&&!e.disabled){if(l.action=!0,ye&&Array.isArray(Me(i,W))){const te=ce(Me(i,W),xe.argA,xe.argB);ge&&Rt(i,W,te)}if(ye&&Array.isArray(Me(t.errors,W))){const te=ce(Me(t.errors,W),xe.argA,xe.argB);ge&&Rt(t.errors,W,te),yF(t.errors,W)}if((f.touchedFields||m.touchedFields)&&ye&&Array.isArray(Me(t.touchedFields,W))){const te=ce(Me(t.touchedFields,W),xe.argA,xe.argB);ge&&Rt(t.touchedFields,W,te)}(f.dirtyFields||m.dirtyFields)&&(t.dirtyFields=Ao(r,a)),g.state.next({name:W,isDirty:H(W,J),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Rt(a,W,J)},T=(W,J)=>{Rt(t.errors,W,J),g.state.next({errors:t.errors})},R=W=>{t.errors=W,g.state.next({errors:t.errors,isValid:!1})},B=(W,J,ce,xe)=>{const ge=Me(i,W);if(ge){const ye=Me(a,W,ln(ce)?Me(r,W):ce);ln(ye)||xe&&xe.defaultChecked||J?Rt(a,W,J?ye:Gx(ge._f)):Y(W,ye),l.mount&&!l.action&&x()}},k=(W,J,ce,xe,ge)=>{let ye=!1,te=!1;const he={name:W};if(!e.disabled){if(!ce||xe){(f.isDirty||m.isDirty)&&(te=t.isDirty,t.isDirty=he.isDirty=H(),ye=te!==he.isDirty);const _e=Ls(Me(r,W),J);te=!!Me(t.dirtyFields,W),_e?mn(t.dirtyFields,W):Rt(t.dirtyFields,W,!0),he.dirtyFields=t.dirtyFields,ye=ye||(f.dirtyFields||m.dirtyFields)&&te!==!_e}if(ce){const _e=Me(t.touchedFields,W);_e||(Rt(t.touchedFields,W,ce),he.touchedFields=t.touchedFields,ye=ye||(f.touchedFields||m.touchedFields)&&_e!==ce)}ye&&ge&&g.state.next(he)}return ye?he:{}},N=(W,J,ce,xe)=>{const ge=Me(t.errors,W),ye=(f.isValid||m.isValid)&&wr(J)&&t.isValid!==J;if(e.delayError&&ce?(d=S(()=>T(W,ce)),d(e.delayError)):(clearTimeout(h),d=null,ce?Rt(t.errors,W,ce):mn(t.errors,W)),(ce?!Ls(ge,ce):ge)||!$n(xe)||ye){const te={...xe,...ye&&wr(J)?{isValid:J}:{},errors:t.errors,name:W};t={...t,...te},g.state.next(te)}},M=async W=>{E(W,!0);const J=await e.resolver(a,e.context,dF(W||c.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return E(W),J},P=async W=>{const{errors:J}=await M(W);if(W)for(const ce of W){const xe=Me(J,ce);xe?Rt(t.errors,ce,xe):mn(t.errors,ce)}else t.errors=J;return J},F=async(W,J,ce={valid:!0})=>{for(const xe in W){const ge=W[xe];if(ge){const{_f:ye,...te}=ge;if(ye){const he=c.array.has(ye.name),_e=ge._f&&hF(ge._f);_e&&f.validatingFields&&E([ye.name],!0);const je=await Qx(ge,c.disabled,a,b,e.shouldUseNativeValidation&&!J,he);if(_e&&f.validatingFields&&E([ye.name]),je[ye.name]&&(ce.valid=!1,J))break;!J&&(Me(je,ye.name)?he?bF(t.errors,je,ye.name):Rt(t.errors,ye.name,je[ye.name]):mn(t.errors,ye.name))}!$n(te)&&await F(te,J,ce)}}return ce.valid},L=()=>{for(const W of c.unMount){const J=Me(i,W);J&&(J._f.refs?J._f.refs.every(ce=>!Im(ce)):!Im(J._f.ref))&&se(W)}c.unMount=new Set},H=(W,J)=>!e.disabled&&(W&&J&&Rt(a,W,J),!Ls(w(),r)),X=(W,J,ce)=>aF(W,c,{...l.mount?a:ln(J)?r:Ai(W)?{[W]:J}:J},ce,J),V=W=>qy(Me(l.mount?a:r,W,e.shouldUnregister?Me(r,W,[]):[])),Y=(W,J,ce={})=>{const xe=Me(i,W);let ge=J;if(xe){const ye=xe._f;ye&&(!ye.disabled&&Rt(a,W,fE(J,ye)),ge=ph(ye.ref)&&li(J)?"":J,uE(ye.ref)?[...ye.ref.options].forEach(te=>te.selected=ge.includes(te.value)):ye.refs?Gc(ye.ref)?ye.refs.forEach(te=>{(!te.defaultChecked||!te.disabled)&&(Array.isArray(ge)?te.checked=!!ge.find(he=>he===te.value):te.checked=ge===te.value||!!ge)}):ye.refs.forEach(te=>te.checked=te.value===ge):Gy(ye.ref)?ye.ref.value="":(ye.ref.value=ge,ye.ref.type||g.state.next({name:W,values:wn(a)})))}(ce.shouldDirty||ce.shouldTouch)&&k(W,ge,ce.shouldTouch,ce.shouldDirty,!0),ce.shouldValidate&&G(W)},I=(W,J,ce)=>{for(const xe in J){if(!J.hasOwnProperty(xe))return;const ge=J[xe],ye=W+"."+xe,te=Me(i,ye);(c.array.has(W)||yn(ge)||te&&!te._f)&&!ga(ge)?I(ye,ge,ce):Y(ye,ge,ce)}},U=(W,J,ce={})=>{const xe=Me(i,W),ge=c.array.has(W),ye=wn(J);Rt(a,W,ye),ge?(g.array.next({name:W,values:wn(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&ce.shouldDirty&&g.state.next({name:W,dirtyFields:Ao(r,a),isDirty:H(W,ye)})):xe&&!xe._f&&!li(ye)?I(W,ye,ce):Y(W,ye,ce),Wx(W,c)&&g.state.next({...t,name:W}),g.state.next({name:l.mount?W:void 0,values:wn(a)})},C=async W=>{l.mount=!0;const J=W.target;let ce=J.name,xe=!0;const ge=Me(i,ce),ye=_e=>{xe=Number.isNaN(_e)||ga(_e)&&isNaN(_e.getTime())||Ls(_e,Me(a,ce,_e))},te=Xx(e.mode),he=Xx(e.reValidateMode);if(ge){let _e,je;const rt=J.type?Gx(ge._f):J4(W),Zt=W.type===Ux.BLUR||W.type===Ux.FOCUS_OUT,Vi=!fF(ge._f)&&!e.resolver&&!Me(t.errors,ce)&&!ge._f.deps||gF(Zt,Me(t.touchedFields,ce),t.isSubmitted,he,te),bn=Wx(ce,c,Zt);Rt(a,ce,rt),Zt?(!J||!J.readOnly)&&(ge._f.onBlur&&ge._f.onBlur(W),d&&d(0)):ge._f.onChange&&ge._f.onChange(W);const Gt=k(ce,rt,Zt),jn=!$n(Gt)||bn;if(!Zt&&g.state.next({name:ce,type:W.type,values:wn(a)}),Vi)return(f.isValid||m.isValid)&&(e.mode==="onBlur"?Zt&&x():Zt||x()),jn&&g.state.next({name:ce,...bn?{}:Gt});if(!Zt&&bn&&g.state.next({...t}),e.resolver){const{errors:vt}=await M([ce]);if(ye(rt),xe){const lr=Kx(t.errors,i,ce),Wn=Kx(vt,i,lr.name||ce);_e=Wn.error,ce=Wn.name,je=$n(vt)}}else E([ce],!0),_e=(await Qx(ge,c.disabled,a,b,e.shouldUseNativeValidation))[ce],E([ce]),ye(rt),xe&&(_e?je=!1:(f.isValid||m.isValid)&&(je=await F(i,!0)));xe&&(ge._f.deps&&(!Array.isArray(ge._f.deps)||ge._f.deps.length>0)&&G(ge._f.deps),N(ce,je,_e,Gt))}},ne=(W,J)=>{if(Me(t.errors,J)&&W.focus)return W.focus(),1},G=async(W,J={})=>{let ce,xe;const ge=mc(W);if(e.resolver){const ye=await P(ln(W)?W:ge);ce=$n(ye),xe=W?!ge.some(te=>Me(ye,te)):ce}else W?(xe=(await Promise.all(ge.map(async ye=>{const te=Me(i,ye);return await F(te&&te._f?{[ye]:te}:te)}))).every(Boolean),!(!xe&&!t.isValid)&&x()):xe=ce=await F(i);return g.state.next({...!Ai(W)||(f.isValid||m.isValid)&&ce!==t.isValid?{}:{name:W},...e.resolver||!W?{isValid:ce}:{},errors:t.errors}),J.shouldFocus&&!xe&&gc(i,ne,W?ge:c.mount),xe},w=(W,J)=>{let ce={...l.mount?a:r};return J&&(ce=cE(J.dirtyFields?t.dirtyFields:t.touchedFields,ce)),ln(W)?ce:Ai(W)?Me(ce,W):W.map(xe=>Me(ce,xe))},D=(W,J)=>({invalid:!!Me((J||t).errors,W),isDirty:!!Me((J||t).dirtyFields,W),error:Me((J||t).errors,W),isValidating:!!Me(t.validatingFields,W),isTouched:!!Me((J||t).touchedFields,W)}),q=W=>{W&&mc(W).forEach(J=>mn(t.errors,J)),g.state.next({errors:W?t.errors:{}})},j=(W,J,ce)=>{const xe=(Me(i,W,{_f:{}})._f||{}).ref,ge=Me(t.errors,W)||{},{ref:ye,message:te,type:he,..._e}=ge;Rt(t.errors,W,{..._e,...J,ref:xe}),g.state.next({name:W,errors:t.errors,isValid:!1}),ce&&ce.shouldFocus&&xe&&xe.focus&&xe.focus()},K=(W,J)=>Qi(W)?g.state.subscribe({next:ce=>"values"in ce&&W(X(void 0,J),ce)}):X(W,J,!0),ee=W=>g.state.subscribe({next:J=>{mF(W.name,J.name,W.exact)&&pF(J,W.formState||f,ze,W.reRenderRoot)&&W.callback({values:{...a},...t,...J,defaultValues:r})}}).unsubscribe,re=W=>(l.mount=!0,m={...m,...W.formState},ee({...W,formState:m})),se=(W,J={})=>{for(const ce of W?mc(W):c.mount)c.mount.delete(ce),c.array.delete(ce),J.keepValue||(mn(i,ce),mn(a,ce)),!J.keepError&&mn(t.errors,ce),!J.keepDirty&&mn(t.dirtyFields,ce),!J.keepTouched&&mn(t.touchedFields,ce),!J.keepIsValidating&&mn(t.validatingFields,ce),!e.shouldUnregister&&!J.keepDefaultValue&&mn(r,ce);g.state.next({values:wn(a)}),g.state.next({...t,...J.keepDirty?{isDirty:H()}:{}}),!J.keepIsValid&&x()},Se=({disabled:W,name:J})=>{(wr(W)&&l.mount||W||c.disabled.has(J))&&(W?c.disabled.add(J):c.disabled.delete(J))},ve=(W,J={})=>{let ce=Me(i,W);const xe=wr(J.disabled)||wr(e.disabled);return Rt(i,W,{...ce||{},_f:{...ce&&ce._f?ce._f:{ref:{name:W}},name:W,mount:!0,...J}}),c.mount.add(W),ce?Se({disabled:wr(J.disabled)?J.disabled:e.disabled,name:W}):B(W,!0,J.value),{...xe?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:Zl(J.min),max:Zl(J.max),minLength:Zl(J.minLength),maxLength:Zl(J.maxLength),pattern:Zl(J.pattern)}:{},name:W,onChange:C,onBlur:C,ref:ge=>{if(ge){ve(W,J),ce=Me(i,W);const ye=ln(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,te=oF(ye),he=ce._f.refs||[];if(te?he.find(_e=>_e===ye):ye===ce._f.ref)return;Rt(i,W,{_f:{...ce._f,...te?{refs:[...he.filter(Im),ye,...Array.isArray(Me(r,W))?[{}]:[]],ref:{type:ye.type,name:W}}:{ref:ye}}}),B(W,!1,void 0,ye)}else ce=Me(i,W,{}),ce._f&&(ce._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(tF(c.array,W)&&l.action)&&c.unMount.add(W)}}},we=()=>e.shouldFocusError&&gc(i,ne,c.mount),Ie=W=>{wr(W)&&(g.state.next({disabled:W}),gc(i,(J,ce)=>{const xe=Me(i,ce);xe&&(J.disabled=xe._f.disabled||W,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(ge=>{ge.disabled=xe._f.disabled||W}))},0,!1))},qe=(W,J)=>async ce=>{let xe;ce&&(ce.preventDefault&&ce.preventDefault(),ce.persist&&ce.persist());let ge=wn(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:te}=await M();t.errors=ye,ge=wn(te)}else await F(i);if(c.disabled.size)for(const ye of c.disabled)mn(ge,ye);if(mn(t.errors,"root"),$n(t.errors)){g.state.next({errors:{}});try{await W(ge,ce)}catch(ye){xe=ye}}else J&&await J({...t.errors},ce),we(),setTimeout(we);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(t.errors)&&!xe,submitCount:t.submitCount+1,errors:t.errors}),xe)throw xe},Ce=(W,J={})=>{Me(i,W)&&(ln(J.defaultValue)?U(W,wn(Me(r,W))):(U(W,J.defaultValue),Rt(r,W,wn(J.defaultValue))),J.keepTouched||mn(t.touchedFields,W),J.keepDirty||(mn(t.dirtyFields,W),t.isDirty=J.defaultValue?H(W,wn(Me(r,W))):H()),J.keepError||(mn(t.errors,W),f.isValid&&x()),g.state.next({...t}))},Ee=(W,J={})=>{const ce=W?wn(W):r,xe=wn(ce),ge=$n(W),ye=ge?r:xe;if(J.keepDefaultValues||(r=ce),!J.keepValues){if(J.keepDirtyValues){const te=new Set([...c.mount,...Object.keys(Ao(r,a))]);for(const he of Array.from(te))Me(t.dirtyFields,he)?Rt(ye,he,Me(a,he)):U(he,Me(ye,he))}else{if($y&&ln(W))for(const te of c.mount){const he=Me(i,te);if(he&&he._f){const _e=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(ph(_e)){const je=_e.closest("form");if(je){je.reset();break}}}}if(J.keepFieldsRef)for(const te of c.mount)U(te,Me(ye,te));else i={}}a=e.shouldUnregister?J.keepDefaultValues?wn(r):{}:wn(ye),g.array.next({values:{...ye}}),g.state.next({values:{...ye}})}c={mount:J.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!f.isValid||!!J.keepIsValid||!!J.keepDirtyValues||!e.shouldUnregister&&!$n(ye),l.watch=!!e.shouldUnregister,g.state.next({submitCount:J.keepSubmitCount?t.submitCount:0,isDirty:ge?!1:J.keepDirty?t.isDirty:!!(J.keepDefaultValues&&!Ls(W,r)),isSubmitted:J.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ge?{}:J.keepDirtyValues?J.keepDefaultValues&&a?Ao(r,a):t.dirtyFields:J.keepDefaultValues&&W?Ao(r,W):J.keepDirty?t.dirtyFields:{},touchedFields:J.keepTouched?t.touchedFields:{},errors:J.keepErrors?t.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},De=(W,J)=>Ee(Qi(W)?W(a):W,J),Ge=(W,J={})=>{const ce=Me(i,W),xe=ce&&ce._f;if(xe){const ge=xe.refs?xe.refs[0]:xe.ref;ge.focus&&(ge.focus(),J.shouldSelect&&Qi(ge.select)&&ge.select())}},ze=W=>{t={...t,...W}},Ae={control:{register:ve,unregister:se,getFieldState:D,handleSubmit:qe,setError:j,_subscribe:ee,_runSchema:M,_focusError:we,_getWatch:X,_getDirty:H,_setValid:x,_setFieldArray:A,_setDisabledField:Se,_setErrors:R,_getFieldArray:V,_reset:Ee,_resetDefaultValues:()=>Qi(e.defaultValues)&&e.defaultValues().then(W=>{De(W,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Ie,_subjects:g,_proxyFormState:f,get _fields(){return i},get _formValues(){return a},get _state(){return l},set _state(W){l=W},get _defaultValues(){return r},get _names(){return c},set _names(W){c=W},get _formState(){return t},get _options(){return e},set _options(W){e={...e,...W}}},subscribe:re,trigger:G,register:ve,handleSubmit:qe,watch:K,setValue:U,getValues:w,reset:De,resetField:Ce,clearErrors:q,unregister:se,setError:j,setFocus:Ge,getFieldState:D};return{...Ae,formControl:Ae}}function mE(n={}){const e=We.useRef(void 0),t=We.useRef(void 0),[i,r]=We.useState({isDirty:!1,isValidating:!1,isLoading:Qi(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Qi(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:i},n.defaultValues&&!Qi(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:l,...c}=_F(n);e.current={...c,formState:i}}const a=e.current.control;return a._options=n,sF(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),We.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),We.useEffect(()=>{n.mode&&(a._options.mode=n.mode),n.reValidateMode&&(a._options.reValidateMode=n.reValidateMode)},[a,n.mode,n.reValidateMode]),We.useEffect(()=>{n.errors&&(a._setErrors(n.errors),a._focusError())},[a,n.errors]),We.useEffect(()=>{n.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,n.shouldUnregister]),We.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==i.isDirty&&a._subjects.state.next({isDirty:l})}},[a,i.isDirty]),We.useEffect(()=>{var l;n.values&&!Ls(n.values,t.current)?(a._reset(n.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((l=a._options.resetOptions)===null||l===void 0)&&l.keepIsValid||a._setValid(),t.current=n.values,r(c=>({...c}))):a._resetDefaultValues()},[a,n.values]),We.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=rF(i,a),e.current}var gE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jx=We.createContext&&We.createContext(gE),xF=["attr","size","title"];function SF(n,e){if(n==null)return{};var t=wF(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function wF(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function gh(){return gh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gh.apply(this,arguments)}function eS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function yh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eS(Object(t),!0).forEach(function(i){AF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eS(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function AF(n,e,t){return e=EF(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EF(n){var e=CF(n,"string");return typeof e=="symbol"?e:e+""}function CF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function yE(n){return n&&n.map((e,t)=>We.createElement(e.tag,yh({key:t},e.attr),yE(e.child)))}function Hs(n){return e=>We.createElement(TF,gh({attr:yh({},n.attr)},e),yE(n.child))}function TF(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=SF(n,xF),c=r||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),We.createElement("svg",gh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:d,style:yh(yh({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&We.createElement("title",null,a),n.children)};return Jx!==void 0?We.createElement(Jx.Consumer,null,t=>e(t)):e(gE)}function kF(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"},child:[]}]})(n)}function RF(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"},child:[]}]})(n)}function bE(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"},child:[]}]})(n)}function NF(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.97308 18H14.0269C14.1589 16.7984 14.7721 15.8065 15.7676 14.7226C15.8797 14.6006 16.5988 13.8564 16.6841 13.7501C17.5318 12.6931 18 11.385 18 10C18 6.68629 15.3137 4 12 4C8.68629 4 6 6.68629 6 10C6 11.3843 6.46774 12.6917 7.31462 13.7484C7.40004 13.855 8.12081 14.6012 8.23154 14.7218C9.22766 15.8064 9.84103 16.7984 9.97308 18ZM14 20H10V21H14V20ZM5.75395 14.9992C4.65645 13.6297 4 11.8915 4 10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10C20 11.8925 19.3428 13.6315 18.2443 15.0014C17.624 15.7748 16 17 16 18.5V21C16 22.1046 15.1046 23 14 23H10C8.89543 23 8 22.1046 8 21V18.5C8 17 6.37458 15.7736 5.75395 14.9992ZM13 10.0048H15.5L11 16.0048V12.0048H8.5L13 6V10.0048Z"},child:[]}]})(n)}function vE(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.34268 18.7819L7.41083 18.2642L8.1983 15.3254C7.00919 14.8874 5.91661 14.2498 4.96116 13.4534L2.80783 15.6067L1.39362 14.1925L3.54695 12.0392C2.35581 10.6103 1.52014 8.87466 1.17578 6.96818L3.14386 6.61035C3.90289 10.8126 7.57931 14.0001 12.0002 14.0001C16.4211 14.0001 20.0976 10.8126 20.8566 6.61035L22.8247 6.96818C22.4803 8.87466 21.6446 10.6103 20.4535 12.0392L22.6068 14.1925L21.1926 15.6067L19.0393 13.4534C18.0838 14.2498 16.9912 14.8874 15.8021 15.3254L16.5896 18.2642L14.6578 18.7819L13.87 15.8418C13.2623 15.9459 12.6376 16.0001 12.0002 16.0001C11.3629 16.0001 10.7381 15.9459 10.1305 15.8418L9.34268 18.7819Z"},child:[]}]})(n)}function Yy(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"},child:[]}]})(n)}function _E(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM5 12V20H19V12H5ZM11 14H13V18H11V14ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17Z"},child:[]}]})(n)}function OF(n){return Hs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"},child:[]}]})(n)}var zm,tS;function MF(){if(tS)return zm;tS=1;function n(A){this._maxSize=A,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(A){return this._values[A]},n.prototype.set=function(A,T){return this._size>=this._maxSize&&this.clear(),A in this._values||this._size++,this._values[A]=T};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,c=new n(l),d=new n(l),h=new n(l);zm={Cache:n,split:m,normalizePath:f,setter:function(A){var T=f(A);return d.get(A)||d.set(A,function(B,k){for(var N=0,M=T.length,P=B;N<M-1;){var F=T[N];if(F==="__proto__"||F==="constructor"||F==="prototype")return B;P=P[T[N++]]}P[T[N]]=k})},getter:function(A,T){var R=f(A);return h.get(A)||h.set(A,function(k){for(var N=0,M=R.length;N<M;)if(k!=null||!T)k=k[R[N++]];else return;return k})},join:function(A){return A.reduce(function(T,R){return T+(b(R)||t.test(R)?"["+R+"]":(T?".":"")+R)},"")},forEach:function(A,T,R){g(Array.isArray(A)?A:m(A),T,R)}};function f(A){return c.get(A)||c.set(A,m(A).map(function(T){return T.replace(a,"$2")}))}function m(A){return A.match(e)||[""]}function g(A,T,R){var B=A.length,k,N,M,P;for(N=0;N<B;N++)k=A[N],k&&(E(k)&&(k='"'+k+'"'),P=b(k),M=!P&&/^\d+$/.test(k),T.call(R,k,P,M,N,A))}function b(A){return typeof A=="string"&&A&&["'",'"'].indexOf(A.charAt(0))!==-1}function S(A){return A.match(i)&&!A.match(t)}function x(A){return r.test(A)}function E(A){return!b(A)&&(S(A)||x(A))}return zm}var wa=MF(),Um,nS;function DF(){if(nS)return Um;nS=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=f=>f.match(n)||[],t=f=>f[0].toUpperCase()+f.slice(1),i=(f,m)=>e(f).join(m).toLowerCase(),r=f=>e(f).reduce((m,g)=>`${m}${m?g[0].toUpperCase()+g.slice(1).toLowerCase():g.toLowerCase()}`,"");return Um={words:e,upperFirst:t,camelCase:r,pascalCase:f=>t(r(f)),snakeCase:f=>i(f,"_"),kebabCase:f=>i(f,"-"),sentenceCase:f=>t(i(f," ")),titleCase:f=>e(f).map(t).join(" ")},Um}var Hm=DF(),Td={exports:{}},iS;function LF(){if(iS)return Td.exports;iS=1,Td.exports=function(r){return n(e(r),r)},Td.exports.array=n;function n(r,a){var l=r.length,c=new Array(l),d={},h=l,f=t(a),m=i(r);for(a.forEach(function(b){if(!m.has(b[0])||!m.has(b[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});h--;)d[h]||g(r[h],h,new Set);return c;function g(b,S,x){if(x.has(b)){var E;try{E=", node was:"+JSON.stringify(b)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!m.has(b))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(b));if(!d[S]){d[S]=!0;var A=f.get(b)||new Set;if(A=Array.from(A),S=A.length){x.add(b);do{var T=A[--S];g(T,m.get(T),x)}while(S);x.delete(b)}c[--l]=b}}}function e(r){for(var a=new Set,l=0,c=r.length;l<c;l++){var d=r[l];a.add(d[0]),a.add(d[1])}return Array.from(a)}function t(r){for(var a=new Map,l=0,c=r.length;l<c;l++){var d=r[l];a.has(d[0])||a.set(d[0],new Set),a.has(d[1])||a.set(d[1],new Set),a.get(d[0]).add(d[1])}return a}function i(r){for(var a=new Map,l=0,c=r.length;l<c;l++)a.set(r[l],l);return a}return Td.exports}var jF=LF();const PF=Go(jF),BF=Object.prototype.toString,FF=Error.prototype.toString,IF=RegExp.prototype.toString,zF=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",UF=/^Symbol\((.*)\)(.*)$/;function HF(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function rS(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return HF(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return zF.call(n).replace(UF,"Symbol($1)");const i=BF.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+FF.call(n)+"]":i==="RegExp"?IF.call(n):null}function Bs(n,e){let t=rS(n,e);return t!==null?t:JSON.stringify(n,function(i,r){let a=rS(this[i],e);return a!==null?a:r},2)}function xE(n){return n==null?[]:[].concat(n)}let SE,wE,AE,$F=/\$\{\s*(\w+)\s*\}/g;SE=Symbol.toStringTag;class sS{constructor(e,t,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[SE]="Error",this.name="ValidationError",this.value=t,this.path=i,this.type=r,this.errors=[],this.inner=[],xE(e).forEach(a=>{if(Vn.isError(a)){this.errors.push(...a.errors);const l=a.inner.length?a.inner:[a];this.inner.push(...l)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}wE=Symbol.hasInstance;AE=Symbol.toStringTag;class Vn extends Error{static formatError(e,t){const i=t.label||t.path||"this";return t=Object.assign({},t,{path:i,originalPath:t.path}),typeof e=="string"?e.replace($F,(r,a)=>Bs(t[a])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,i,r,a){const l=new sS(e,t,i,r);if(a)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[AE]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vn)}static[wE](e){return sS[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ar={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:i})=>{const r=i!=null&&i!==t?` (cast from the value \`${Bs(i,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${Bs(t,!0)}\``+r:`${n} must match the configured type. The validated value was: \`${Bs(t,!0)}\``+r}},ri={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},qF={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Wg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},VF={isValue:"${path} field must be ${value}"},Qd={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},GF={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},XF={notType:n=>{const{path:e,value:t,spec:i}=n,r=i.types.length;if(Array.isArray(t)){if(t.length<r)return`${e} tuple value has too few items, expected a length of ${r} but got ${t.length} for value: \`${Bs(t,!0)}\``;if(t.length>r)return`${e} tuple value has too many items, expected a length of ${r} but got ${t.length} for value: \`${Bs(t,!0)}\``}return Vn.formatError(Ar.notType,n)}};Object.assign(Object.create(null),{mixed:Ar,string:ri,number:qF,date:Wg,object:Qd,array:GF,boolean:VF,tuple:XF});const Wy=n=>n&&n.__isYupSchema__;class bh{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:a}=t,l=typeof i=="function"?i:(...c)=>c.every(d=>d===i);return new bh(e,(c,d)=>{var h;let f=l(...c)?r:a;return(h=f?.(d))!=null?h:d})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let i=this.refs.map(a=>a.getValue(t?.value,t?.parent,t?.context)),r=this.fn(i,e,t);if(r===void 0||r===e)return e;if(!Wy(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const kd={context:"$",value:"."};class Ra{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===kd.context,this.isValue=this.key[0]===kd.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?kd.context:this.isValue?kd.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&wa.getter(this.path,!0),this.map=t.map}getValue(e,t,i){let r=this.isContext?i:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,t?.parent,t?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ra.prototype.__isYupRef=!0;const ya=n=>n==null;function vo(n){function e({value:t,path:i="",options:r,originalValue:a,schema:l},c,d){const{name:h,test:f,params:m,message:g,skipAbsent:b}=n;let{parent:S,context:x,abortEarly:E=l.spec.abortEarly,disableStackTrace:A=l.spec.disableStackTrace}=r;const T={value:t,parent:S,context:x};function R(H={}){const X=EE(Object.assign({value:t,originalValue:a,label:l.spec.label,path:H.path||i,spec:l.spec,disableStackTrace:H.disableStackTrace||A},m,H.params),T),V=new Vn(Vn.formatError(H.message||g,X),t,X.path,H.type||h,X.disableStackTrace);return V.params=X,V}const B=E?c:d;let k={path:i,parent:S,type:h,from:r.from,createError:R,resolve(H){return CE(H,T)},options:r,originalValue:a,schema:l};const N=H=>{Vn.isError(H)?B(H):H?d(null):B(R())},M=H=>{Vn.isError(H)?B(H):c(H)};if(b&&ya(t))return N(!0);let F;try{var L;if(F=f.call(k,t,k),typeof((L=F)==null?void 0:L.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${k.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(F).then(N,M)}}catch(H){M(H);return}N(F)}return e.OPTIONS=n,e}function EE(n,e){if(!n)return n;for(const t of Object.keys(n))n[t]=CE(n[t],e);return n}function CE(n,e){return Ra.isRef(n)?n.getValue(e.value,e.parent,e.context):n}function YF(n,e,t,i=t){let r,a,l;return e?(wa.forEach(e,(c,d,h)=>{let f=d?c.slice(1,c.length-1):c;n=n.resolve({context:i,parent:r,value:t});let m=n.type==="tuple",g=h?parseInt(f,10):0;if(n.innerType||m){if(m&&!h)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(t&&g>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${e}. because there is no value at that index. `);r=t,t=t&&t[g],n=m?n.spec.types[g]:n.innerType}if(!h){if(!n.fields||!n.fields[f])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${l} which is a type: "${n.type}")`);r=t,t=t&&t[f],n=n.fields[f]}a=f,l=d?"["+c+"]":"."+c}),{schema:n,parent:r,parentPath:a}):{parent:r,parentPath:e,schema:n}}class vh extends Set{describe(){const e=[];for(const t of this.values())e.push(Ra.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const i of this.values())t.push(e(i));return t}clone(){return new vh(this.values())}merge(e,t){const i=this.clone();return e.forEach(r=>i.add(r)),t.forEach(r=>i.delete(r)),i}}function ko(n,e=new Map){if(Wy(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let i=0;i<n.length;i++)t[i]=ko(n[i],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[i,r]of n.entries())t.set(i,ko(r,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const i of n)t.add(ko(i,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[i,r]of Object.entries(n))t[i]=ko(r,e)}else throw Error(`Unable to clone ${n}`);return t}function WF(n){if(!(n!=null&&n.length))return;const e=[];let t="",i=!1,r=!1;for(let a=0;a<n.length;a++){const l=n[a];if(l==="["&&!r){t&&(e.push(...t.split(".").filter(Boolean)),t=""),i=!0;continue}if(l==="]"&&!r){t&&(/^\d+$/.test(t)?e.push(t):e.push(t.replace(/^"|"$/g,"")),t=""),i=!1;continue}if(l==='"'){r=!r;continue}if(l==="."&&!i&&!r){t&&(e.push(t),t="");continue}t+=l}return t&&e.push(...t.split(".").filter(Boolean)),e}function KF(n,e){const t=e?`${e}.${n.path}`:n.path;return n.errors.map(i=>({message:i,path:WF(t)}))}function TE(n,e){var t;if(!((t=n.inner)!=null&&t.length)&&n.errors.length)return KF(n,e);const i=e?`${e}.${n.path}`:n.path;return n.inner.flatMap(r=>TE(r,i))}let nr=class{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new vh,this._blacklist=new vh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ar.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e?.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=ko(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=t,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,i=e.clone();const r=Object.assign({},t.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},t.internalTests,i.internalTests),i._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),i.tests=t.tests,i.exclusiveTests=t.exclusiveTests,i.withMutation(a=>{e.tests.forEach(l=>{a.test(l.OPTIONS)})}),i.transforms=[...t.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let i=t.conditions;t=t.clone(),t.conditions=[],t=i.reduce((r,a)=>a.resolve(r,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,i,r,a;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=e.recursive)!=null?r:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,t={}){let i=this.resolve(Object.assign({},t,{value:e})),r=t.assert==="ignore-optionality",a=i._cast(e,t);if(t.assert!==!1&&!i.isType(a)){if(r&&ya(a))return a;let l=Bs(e),c=Bs(a);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${l} 
`+(c!==l?`result of cast: ${c}`:""))}return a}_cast(e,t){let i=e===void 0?e:this.transforms.reduce((r,a)=>a.call(this,r,e,this,t),e);return i===void 0&&(i=this.getDefault(t)),i}_validate(e,t={},i,r){let{path:a,originalValue:l=e,strict:c=this.spec.strict}=t,d=e;c||(d=this._cast(d,Object.assign({assert:!1},t)));let h=[];for(let f of Object.values(this.internalTests))f&&h.push(f);this.runTests({path:a,value:d,originalValue:l,options:t,tests:h},i,f=>{if(f.length)return r(f,d);this.runTests({path:a,value:d,originalValue:l,options:t,tests:this.tests},i,r)})}runTests(e,t,i){let r=!1,{tests:a,value:l,originalValue:c,path:d,options:h}=e,f=x=>{r||(r=!0,t(x,l))},m=x=>{r||(r=!0,i(x,l))},g=a.length,b=[];if(!g)return m([]);let S={value:l,originalValue:c,path:d,options:h,schema:this};for(let x=0;x<a.length;x++){const E=a[x];E(S,f,function(T){T&&(Array.isArray(T)?b.push(...T):b.push(T)),--g<=0&&m(b)})}}asNestedTest({key:e,index:t,parent:i,parentPath:r,originalParent:a,options:l}){const c=e??t;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof c=="number";let h=i[c];const f=Object.assign({},l,{strict:!0,parent:i,value:h,originalValue:a[c],key:void 0,[d?"index":"key"]:c,path:d||c.includes(".")?`${r||""}[${d?c:`"${c}"`}]`:(r?`${r}.`:"")+e});return(m,g,b)=>this.resolve(f)._validate(h,f,g,b)}validate(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),a=(i=t?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((l,c)=>r._validate(e,t,(d,h)=>{Vn.isError(d)&&(d.value=h),c(d)},(d,h)=>{d.length?c(new Vn(d,h,void 0,void 0,a)):l(h)}))}validateSync(e,t){var i;let r=this.resolve(Object.assign({},t,{value:e})),a,l=(i=t?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),(c,d)=>{throw Vn.isError(c)&&(c.value=d),c},(c,d)=>{if(c.length)throw new Vn(c,e,void 0,void 0,l);a=d}),a}isValid(e,t){return this.validate(e,t).then(()=>!0,i=>{if(Vn.isError(i))return!1;throw i})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(i){if(Vn.isError(i))return!1;throw i}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):ko(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const i=this.clone({nullable:e});return i.internalTests.nullable=vo({message:t,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(e,t){const i=this.clone({optional:e});return i.internalTests.optionality=vo({message:t,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Ar.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ar.notNull){return this.nullability(!1,e)}required(e=Ar.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Ar.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=vo(t),a=t.exclusive||t.name&&i.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(i.exclusiveTests[t.name]=!!t.exclusive),i.tests=i.tests.filter(l=>!(l.OPTIONS.name===t.name&&(a||l.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let i=this.clone(),r=xE(e).map(a=>new Ra(a));return r.forEach(a=>{a.isSibling&&i.deps.push(a.key)}),i.conditions.push(typeof t=="function"?new bh(r,t):bh.fromOptions(r,t)),i}typeError(e){let t=this.clone();return t.internalTests.typeError=vo({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Ar.oneOf){let i=this.clone();return e.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=vo({message:t,name:"oneOf",skipAbsent:!0,test(r){let a=this.schema._whitelist,l=a.resolveAll(this.resolve);return l.includes(r)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:l}})}}),i}notOneOf(e,t=Ar.notOneOf){let i=this.clone();return e.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=vo({message:t,name:"notOneOf",test(r){let a=this.schema._blacklist,l=a.resolveAll(this.resolve);return l.includes(r)?this.createError({params:{values:Array.from(a).join(", "),resolved:l}}):!0}}),i}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:i,meta:r,optional:a,nullable:l}=t.spec;return{meta:r,label:i,optional:a,nullable:l,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((d,h,f)=>f.findIndex(m=>m.OPTIONS.name===d.OPTIONS.name)===h).map(d=>{const h=d.OPTIONS.params&&e?EE(Object.assign({},d.OPTIONS.params),e):d.OPTIONS.params;return{name:d.OPTIONS.name,params:h}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await e.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof Vn)return{issues:TE(r)};throw r}}}}};nr.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])nr.prototype[`${n}At`]=function(e,t,i={}){const{parent:r,parentPath:a,schema:l}=YF(this,e,t,i.context);return l[n](r&&r[a],Object.assign({},i,{parent:r,path:e}))};for(const n of["equals","is"])nr.prototype[n]=nr.prototype.oneOf;for(const n of["not","nope"])nr.prototype[n]=nr.prototype.notOneOf;const ZF=()=>!0;function kE(n){return new RE(n)}class RE extends nr{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:ZF},e))}}kE.prototype=RE.prototype;const QF=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function JF(n){const e=Kg(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function Kg(n){var e,t;const i=QF.exec(n);return i?{year:Wr(i[1]),month:Wr(i[2],1)-1,day:Wr(i[3],1),hour:Wr(i[4]),minute:Wr(i[5]),second:Wr(i[6]),millisecond:i[7]?Wr(i[7].substring(0,3)):0,precision:(e=(t=i[7])==null?void 0:t.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Wr(i[10]),minuteOffset:Wr(i[11])}:null}function Wr(n,e=0){return Number(n)||e}let eI=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tI=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,nI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,iI="^\\d{4}-\\d{2}-\\d{2}",rI="\\d{2}:\\d{2}:\\d{2}",sI="(([+-]\\d{2}(:?\\d{2})?)|Z)",aI=new RegExp(`${iI}T${rI}(\\.\\d+)?${sI}$`),oI=n=>ya(n)||n===n.trim(),lI={}.toString();function ts(){return new NE}class NE extends nr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===lI?e:i})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Ar.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=ri.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,t=ri.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,t=ri.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,t){let i=!1,r,a;return t&&(typeof t=="object"?{excludeEmptyString:i=!1,message:r,name:a}=t:r=t),this.test({name:a||"matches",message:r||ri.matches,params:{regex:e},skipAbsent:!0,test:l=>l===""&&i||l.search(e)!==-1})}email(e=ri.email){return this.matches(eI,{name:"email",message:e,excludeEmptyString:!0})}url(e=ri.url){return this.matches(tI,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ri.uuid){return this.matches(nI,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",i,r;return e&&(typeof e=="object"?{message:t="",allowOffset:i=!1,precision:r=void 0}=e:t=e),this.matches(aI,{name:"datetime",message:t||ri.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||ri.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:a=>{if(!a||i)return!0;const l=Kg(a);return l?!!l.z:!1}}).test({name:"datetime_precision",message:t||ri.datetime_precision,params:{precision:r},skipAbsent:!0,test:a=>{if(!a||r==null)return!0;const l=Kg(a);return l?l.precision===r:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ri.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:oI})}lowercase(e=ri.lowercase){return this.transform(t=>ya(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>ya(t)||t===t.toLowerCase()})}uppercase(e=ri.uppercase){return this.transform(t=>ya(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>ya(t)||t===t.toUpperCase()})}}ts.prototype=NE.prototype;let cI=new Date(""),uI=n=>Object.prototype.toString.call(n)==="[object Date]";class Ky extends nr{constructor(){super({type:"date",check(e){return uI(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=JF(e),isNaN(e)?Ky.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let i;if(Ra.isRef(e))i=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(e,t=Wg.min){let i=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(e,t=Wg.max){let i=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}Ky.INVALID_DATE=cI;function dI(n,e=[]){let t=[],i=new Set,r=new Set(e.map(([l,c])=>`${l}-${c}`));function a(l,c){let d=wa.split(l)[0];i.add(d),r.has(`${c}-${d}`)||t.push([c,d])}for(const l of Object.keys(n)){let c=n[l];i.add(l),Ra.isRef(c)&&c.isSibling?a(c.path,l):Wy(c)&&"deps"in c&&c.deps.forEach(d=>a(d,l))}return PF.array(Array.from(i),t).reverse()}function aS(n,e){let t=1/0;return n.some((i,r)=>{var a;if((a=e.path)!=null&&a.includes(i))return t=r,!0}),t}function OE(n){return(e,t)=>aS(n,e)-aS(n,t)}const hI=(n,e,t)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return t.isType(i)?i:n};function Jd(n){if("fields"in n){const e={};for(const[t,i]of Object.entries(n.fields))e[t]=Jd(i);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=Jd(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Jd)}):"optional"in n?n.optional():n}const fI=(n,e)=>{const t=[...wa.normalizePath(e)];if(t.length===1)return t[0]in n;let i=t.pop(),r=wa.getter(wa.join(t),!0)(n);return!!(r&&i in r)};let oS=n=>Object.prototype.toString.call(n)==="[object Object]";function lS(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(i=>t.indexOf(i)===-1)}const pI=OE([]);function Xh(n){return new ME(n)}class ME extends nr{constructor(e){super({type:"object",check(t){return oS(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=pI,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var i;let r=super._cast(e,t);if(r===void 0)return this.getDefault(t);if(!this._typeCheck(r))return r;let a=this.fields,l=(i=t.stripUnknown)!=null?i:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(r).filter(m=>!this._nodes.includes(m))),d={},h=Object.assign({},t,{parent:d,__validating:t.__validating||!1}),f=!1;for(const m of c){let g=a[m],b=m in r,S=r[m];if(g){let x;h.path=(t.path?`${t.path}.`:"")+m,g=g.resolve({value:S,context:t.context,parent:d});let E=g instanceof nr?g.spec:void 0,A=E?.strict;if(E!=null&&E.strip){f=f||m in r;continue}x=!t.__validating||!A?g.cast(S,h):S,x!==void 0&&(d[m]=x)}else b&&!l&&(d[m]=S);(b!==m in d||d[m]!==S)&&(f=!0)}return f?d:r}_validate(e,t={},i,r){let{from:a=[],originalValue:l=e,recursive:c=this.spec.recursive}=t;t.from=[{schema:this,value:l},...a],t.__validating=!0,t.originalValue=l,super._validate(e,t,i,(d,h)=>{if(!c||!oS(h)){r(d,h);return}l=l||h;let f=[];for(let m of this._nodes){let g=this.fields[m];!g||Ra.isRef(g)||f.push(g.asNestedTest({options:t,key:m,parent:h,parentPath:t.path,originalParent:l}))}this.runTests({tests:f,value:h,originalValue:l,options:t},i,m=>{r(m.sort(this._sortErrors).concat(d),h)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),i=t.fields;for(let[r,a]of Object.entries(this.fields)){const l=i[r];i[r]=l===void 0?a:l}return t.withMutation(r=>r.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(i=>{var r;const a=this.fields[i];let l=e;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),t[i]=a&&"getDefault"in a?a.getDefault(l):void 0}),t}setFields(e,t){let i=this.clone();return i.fields=e,i._nodes=dI(e,t),i._sortErrors=OE(Object.keys(e)),t&&(i._excludedEdges=t),i}shape(e,t=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...i._excludedEdges,...t]),i.setFields(Object.assign(i.fields,e),r)})}partial(){const e={};for(const[t,i]of Object.entries(this.fields))e[t]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Jd(this)}pick(e){const t={};for(const i of e)this.fields[i]&&(t[i]=this.fields[i]);return this.setFields(t,this._excludedEdges.filter(([i,r])=>e.includes(i)&&e.includes(r)))}omit(e){const t=[];for(const i of Object.keys(this.fields))e.includes(i)||t.push(i);return this.pick(t)}from(e,t,i){let r=wa.getter(e,!0);return this.transform(a=>{if(!a)return a;let l=a;return fI(a,e)&&(l=Object.assign({},a),i||delete l[e],l[t]=r(a)),l})}json(){return this.transform(hI)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Qd.exact,test(t){if(t==null)return!0;const i=lS(this.schema,t);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=Qd.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:t,test(r){if(r==null)return!0;const a=lS(this.schema,r);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,t=Qd.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const i={};for(const r of Object.keys(t))i[e(r)]=t[r];return i})}camelCase(){return this.transformKeys(Hm.camelCase)}snakeCase(){return this.transformKeys(Hm.snakeCase)}constantCase(){return this.transformKeys(e=>Hm.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[a,l]of Object.entries(t.fields)){var r;let c=e;(r=c)!=null&&r.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[a]})),i.fields[a]=l.describe(c)}return i}}Xh.prototype=ME.prototype;const mI=Xh().shape({name:ts().required("Name is required").matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:ts().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',n=>(n.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',n=>{const e=n.indexOf("@");return n.indexOf(".",e)>e}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:ts().required("Password is required").min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")}),gI=Xh().shape({email:ts().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',n=>(n.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',n=>{const e=n.indexOf("@");return n.indexOf(".",e)>e}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:ts().required("Password is required").min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});Xh().shape({avatar:kE(),name:ts().matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:ts().test("has-one-at-symbol",'Email must contain exactly one "@" symbol',n=>(n.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',n=>{const e=n.indexOf("@");return n.indexOf(".",e)>e}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:ts().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});const DE={validationLoginSchema:gI,validationRegistrSchema:mI},cS=(n,e,t)=>{if(n&&"reportValidity"in n){const i=Me(t,e);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},LE=(n,e)=>{for(const t in e.fields){const i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?cS(i.ref,t,n):i&&i.refs&&i.refs.forEach(r=>cS(r,t,n))}},yI=(n,e)=>{e.shouldUseNativeValidation&&LE(n,e);const t={};for(const i in n){const r=Me(e.fields,i),a=Object.assign(n[i]||{},{ref:r&&r.ref});if(bI(e.names||Object.keys(n),i)){const l=Object.assign({},Me(t,i));Rt(l,"root",a),Rt(t,i,l)}else Rt(t,i,a)}return t},bI=(n,e)=>{const t=uS(e);return n.some(i=>uS(i).match(`^${t}\\.\\d+`))};function uS(n){return n.replace(/\]|\[/g,"")}function jE(n,e,t){return t===void 0&&(t={}),function(i,r,a){try{return Promise.resolve((function(l,c){try{var d=(e?.context,Promise.resolve(n[t.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},e,{context:r}))).then(function(h){return a.shouldUseNativeValidation&&LE({},a),{values:t.raw?Object.assign({},i):h,errors:{}}}))}catch(h){return c(h)}return d&&d.then?d.then(void 0,c):d})(0,function(l){if(!l.inner)throw l;return{values:{},errors:yI((c=l,d=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(c.inner||[]).reduce(function(h,f){if(h[f.path]||(h[f.path]={message:f.message,type:f.type}),d){var m=h[f.path].types,g=m&&m[f.type];h[f.path]=lE(f.path,d,h,f.type,g?[].concat(g,f.message):f.message)}return h},{})),a)};var c,d}))}catch(l){return Promise.reject(l)}}}const vI="_form_1xhav_1",_I="_inputGroup_1xhav_11",xI="_label_1xhav_18",SI="_inputContainer_1xhav_24",wI="_input_1xhav_11",AI="_iconLeft_1xhav_54",EI="_iconRight_1xhav_63",CI="_icon_1xhav_54",TI="_error_1xhav_81",kI="_optionsRow_1xhav_92",RI="_remember_1xhav_100",NI="_link_1xhav_106",OI="_button_1xhav_118",sn={form:vI,inputGroup:_I,label:xI,inputContainer:SI,input:wI,iconLeft:AI,iconRight:EI,icon:CI,error:TI,optionsRow:kI,remember:RI,link:NI,button:OI},MI=({onSubmit:n,loading:e,error:t})=>{const{register:i,handleSubmit:r,formState:{errors:a}}=mE({resolver:jE(DE.validationLoginSchema)}),[l,c]=z.useState(!1),d=()=>c(!l);return v.jsxs("form",{className:sn.form,onSubmit:r(n),noValidate:!0,children:[v.jsxs("div",{className:sn.inputGroup,children:[v.jsx("label",{htmlFor:"email",className:sn.label,children:"Email Address"}),v.jsxs("div",{className:sn.inputContainer,children:[v.jsx(bE,{className:sn.iconLeft}),v.jsx("input",{id:"email",className:sn.input,...i("email"),type:"email",placeholder:"your.email@example.com"})]}),a.email&&v.jsx("p",{className:sn.error,children:a.email.message})]}),v.jsxs("div",{className:sn.inputGroup,children:[v.jsx("label",{htmlFor:"password",className:sn.label,children:"Password"}),v.jsxs("div",{className:sn.inputContainer,children:[v.jsx(_E,{className:sn.iconLeft}),v.jsx("input",{id:"password",className:sn.input,...i("password"),type:l?"text":"password",placeholder:"Enter your password"}),v.jsx("div",{className:sn.iconRight,onClick:d,children:l?v.jsx(Yy,{className:sn.icon}):v.jsx(vE,{className:sn.icon})})]}),a.password&&v.jsx("p",{className:sn.error,children:a.password.message})]}),v.jsxs("div",{className:sn.optionsRow,children:[v.jsxs("label",{className:sn.remember,children:[v.jsx("input",{type:"checkbox"})," Remember me"]}),v.jsx("a",{href:"/forgot-password",className:sn.link,children:"Forgot password?"})]}),t&&v.jsx("p",{className:sn.error,children:t}),v.jsx("button",{className:sn.button,type:"submit",disabled:e,children:e?v.jsx(Ps,{size:20,color:"#fff"}):"Sign in"})]})},DI="_form_17xjg_1",LI="_inputGroup_17xjg_11",jI="_label_17xjg_18",PI="_inputContainer_17xjg_24",BI="_input_17xjg_11",FI="_iconLeft_17xjg_54",II="_iconRight_17xjg_63",zI="_icon_17xjg_54",UI="_error_17xjg_81",HI="_button_17xjg_92",Ht={form:DI,inputGroup:LI,label:jI,inputContainer:PI,input:BI,iconLeft:FI,iconRight:II,icon:zI,error:UI,button:HI},$I=({onSubmit:n,loading:e,error:t})=>{const{register:i,handleSubmit:r,formState:{errors:a}}=mE({resolver:jE(DE.validationRegistrSchema)}),[l,c]=z.useState(!1),[d,h]=z.useState(""),f=()=>c(!l),m=g=>h(g.target.value);return v.jsxs("form",{className:Ht.form,onSubmit:r(g=>n(g)),noValidate:!0,children:[v.jsxs("div",{className:Ht.inputGroup,children:[v.jsx("label",{htmlFor:"name",className:Ht.label,children:"Full Name"}),v.jsxs("div",{className:Ht.inputContainer,children:[v.jsx(OF,{className:Ht.iconLeft}),v.jsx("input",{id:"name",className:Ht.input,...i("name",{required:!0}),type:"text",placeholder:"Enter your name"})]}),a.name&&v.jsx("p",{className:Ht.error,children:a.name.message})]}),v.jsxs("div",{className:Ht.inputGroup,children:[v.jsx("label",{htmlFor:"email",className:Ht.label,children:"Email Address"}),v.jsxs("div",{className:Ht.inputContainer,children:[v.jsx(bE,{className:Ht.iconLeft}),v.jsx("input",{id:"email",className:Ht.input,...i("email",{required:!0}),type:"email",placeholder:"your.email@example.com"})]}),a.email&&v.jsx("p",{className:Ht.error,children:a.email.message})]}),v.jsxs("div",{className:Ht.inputGroup,children:[v.jsx("label",{htmlFor:"password",className:Ht.label,children:"Password"}),v.jsxs("div",{className:Ht.inputContainer,children:[v.jsx(_E,{className:Ht.iconLeft}),v.jsx("input",{id:"password",className:Ht.input,...i("password",{required:!0}),value:d,onChange:m,type:l?"text":"password",placeholder:"Create a password"}),v.jsx("div",{className:Ht.iconRight,onClick:f,children:l?v.jsx(Yy,{className:Ht.icon}):v.jsx(vE,{className:Ht.icon})})]}),a.password&&v.jsx("p",{className:Ht.error,children:a.password.message})]}),t&&v.jsx("p",{className:Ht.error,children:t}),v.jsx("button",{className:Ht.button,type:"submit",disabled:e,children:e?v.jsx(Ps,{size:20,color:"#fff"}):"Register"})]})},dS=()=>{const n=Ry(),e=Us(),{isLoggedIn:t,loading:i}=Bc(g=>g.auth),[r,a]=z.useState(!0),[l,c]=z.useState(""),[d,h]=z.useState(""),f=async g=>{c("");try{await n(Wd(g)).unwrap(),st.success(" Login successful!")}catch(b){c(b||"Login failed. Please try again.")}},m=async g=>{h("");try{await n(Kd(g)).unwrap(),st.success(" Registration successful! Redirecting to login..."),setTimeout(()=>a(!0),1500)}catch(b){h(b||"Registration failed. Please try again.")}};return z.useEffect(()=>{t&&e("/home")},[t,e]),v.jsx("div",{className:gr.pageWrapper,children:v.jsxs("div",{className:gr.card,children:[v.jsxs("div",{className:gr.header,children:[v.jsx("img",{src:WA,alt:"Study Buddy Logo",className:gr.logo}),v.jsx("h2",{className:gr.title,children:r?"Welcome Back":"Create Account"}),v.jsx("p",{className:gr.subtitle,children:r?"Sign in to continue your learning journey":"Join Study Buddy and start learning today"})]}),v.jsx("div",{className:gr.formContainer,children:r?v.jsx(MI,{onSubmit:f,loading:i,error:l}):v.jsx($I,{onSubmit:m,loading:i,error:d})}),v.jsx("div",{className:gr.toggleText,children:r?v.jsxs("p",{children:["Dont have an account?"," ",v.jsx("button",{onClick:()=>a(!1),className:gr.toggleButton,children:"Register"})]}):v.jsxs("p",{children:["Already have an account?"," ",v.jsx("button",{onClick:()=>a(!0),className:gr.toggleButton,children:"Log In"})]})})]})})},qI="_wrapper_1j2cc_1",VI="_emptyState_1j2cc_8",GI="_studySpaceContainer_1j2cc_17",XI="_pdfPane_1j2cc_25",YI="_chatPane_1j2cc_35",WI="_resizeHandle_1j2cc_44",ca={wrapper:qI,emptyState:VI,studySpaceContainer:GI,pdfPane:XI,chatPane:YI,resizeHandle:WI},qn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Zg=[.001,0,0,.001,0,0],$m=1.35,xi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Tr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},kc="pdfjs_internal_editor_",Ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ut={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PE={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Mn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},yc={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},an={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Eo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Xc={ERRORS:0,WARNINGS:1,INFOS:5},Ho={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Rd={moveTo:0,lineTo:1,curveTo:2,closePath:3},BE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Yh=Xc.WARNINGS;function KI(n){Number.isInteger(n)&&(Yh=n)}function ZI(){return Yh}function Wh(n){Yh>=Xc.INFOS&&console.info(`Info: ${n}`)}function Qe(n){Yh>=Xc.WARNINGS&&console.warn(`Warning: ${n}`)}function Ot(n){throw new Error(n)}function ht(n,e){n||Ot(e)}function QI(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Zy(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=iz(n)}catch{}const i=e?URL.parse(n,e):URL.parse(n);return QI(i)?i:null}function Qy(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&Zy(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function it(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Na=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class hS extends Na{constructor(e,t){super(e,"PasswordException"),this.code=t}}class qm extends Na{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class _h extends Na{constructor(e){super(e,"InvalidPDFException")}}class Rc extends Na{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class JI extends Na{constructor(e){super(e,"FormatError")}}class ss extends Na{constructor(e){super(e,"AbortException")}}function FE(n){(typeof n!="object"||n?.length===void 0)&&Ot("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const a=Math.min(r+t,e),l=n.subarray(r,a);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function Yc(n){typeof n!="string"&&Ot("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function ez(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function tz(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function nz(){try{return new Function(""),!0}catch{return!1}}class Cn{static get isLittleEndian(){return it(this,"isLittleEndian",tz())}static get isEvalSupported(){return it(this,"isEvalSupported",nz())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return it(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return it(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return it(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Vm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class Re{static makeHexColor(e,t,i){return`#${Vm[e]}${Vm[t]}${Vm[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],a=e[i+1];e[i]=r*t[0]+a*t[2]+t[4],e[i+1]=r*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],a=t[1],l=t[2],c=t[3],d=t[4],h=t[5];for(let f=0;f<6;f+=2){const m=e[i+f],g=e[i+f+1];e[i+f]=m*r+g*l+d,e[i+f+1]=m*a+g*c+h}}static applyInverseTransform(e,t){const i=e[0],r=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,i){const r=t[0],a=t[1],l=t[2],c=t[3],d=t[4],h=t[5],f=e[0],m=e[1],g=e[2],b=e[3];let S=r*f+d,x=S,E=r*g+d,A=E,T=c*m+h,R=T,B=c*b+h,k=B;if(a!==0||l!==0){const N=a*f,M=a*g,P=l*m,F=l*b;S+=P,A+=P,E+=F,x+=F,T+=N,k+=N,B+=M,R+=M}i[0]=Math.min(i[0],S,E,x,A),i[1]=Math.min(i[1],T,B,R,k),i[2]=Math.max(i[2],S,E,x,A),i[3]=Math.max(i[3],T,B,R,k)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],a=e[2],l=e[3],c=i**2+r**2,d=i*a+r*l,h=a**2+l**2,f=(c+h)/2,m=Math.sqrt(f**2-(c*h-d**2));t[0]=Math.sqrt(f+m||1),t[1]=Math.sqrt(f-m||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),l=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>l?null:[i,a,r,l]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,a){a[0]=Math.min(a[0],e,i),a[1]=Math.min(a[1],t,r),a[2]=Math.max(a[2],e,i),a[3]=Math.max(a[3],t,r)}static#e(e,t,i,r,a,l,c,d,h,f){if(h<=0||h>=1)return;const m=1-h,g=h*h,b=g*h,S=m*(m*(m*e+3*h*t)+3*g*i)+b*r,x=m*(m*(m*a+3*h*l)+3*g*c)+b*d;f[0]=Math.min(f[0],S),f[1]=Math.min(f[1],x),f[2]=Math.max(f[2],S),f[3]=Math.max(f[3],x)}static#t(e,t,i,r,a,l,c,d,h,f,m,g){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,t,i,r,a,l,c,d,-m/f,g);return}const b=f**2-4*m*h;if(b<0)return;const S=Math.sqrt(b),x=2*h;this.#e(e,t,i,r,a,l,c,d,(-f+S)/x,g),this.#e(e,t,i,r,a,l,c,d,(-f-S)/x,g)}static bezierBoundingBox(e,t,i,r,a,l,c,d,h){h[0]=Math.min(h[0],e,c),h[1]=Math.min(h[1],t,d),h[2]=Math.max(h[2],e,c),h[3]=Math.max(h[3],t,d),this.#t(e,i,a,c,t,r,l,d,3*(-e+3*(i-a)+c),6*(e-2*i+a),3*(i-e),h),this.#t(e,i,a,c,t,r,l,d,3*(-t+3*(r-l)+d),6*(t-2*r+l),3*(r-t),h)}}function iz(n){return decodeURIComponent(escape(n))}let Gm=null,fS=null;function IE(n){return Gm||(Gm=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fS=new Map([["","t"]])),n.replaceAll(Gm,(e,t,i)=>t?t.normalize("NFKC"):fS.get(i))}function Jy(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),FE(n)}const eb="pdfjs_internal_id_";function rz(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...a]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const l=a.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of a)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function Fn(n,e,t){return Math.min(Math.max(n,e),t)}function zE(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(FE(n))}function sz(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Yc(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Nc{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(a){if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Nc.shouldBuildText(c))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&t.push({str:l}),!!a.children)for(const d of a.children)r(d)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class tb{static setupStorage(e,t,i,r,a){const l=r.getValue(t,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(e.textContent=l.value),a==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?e.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&e.setAttribute("value",l.value),a==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(l.value!==null){e.setAttribute("value",l.value);for(const c of i.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const d=c.target.options,h=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:a}){const{attributes:l}=t,c=e instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,h]of Object.entries(l))if(h!=null)switch(d){case"class":h.length&&e.setAttribute(d,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!c||d!=="href"&&d!=="newWindow")&&e.setAttribute(d,h)}c&&a.addLinkAttributes(e,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(e,l.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,a=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:a,linkService:i});const c=a!=="richText",d=e.div;if(d.append(l),e.viewport){const m=`matrix(${e.viewport.transform.join(",")})`;d.style.transform=m}c&&d.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);l.append(m),c&&Nc.shouldBuildText(r.name)&&h.push(m)}return{textDivs:h}}const f=[[r,-1,l]];for(;f.length>0;){const[m,g,b]=f.at(-1);if(g+1===m.children.length){f.pop();continue}const S=m.children[++f.at(-1)[1]];if(S===null)continue;const{name:x}=S;if(x==="#text"){const A=document.createTextNode(S.value);h.push(A),b.append(A);continue}const E=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,x):document.createElement(x);if(b.append(E),S.attributes&&this.setAttributes({html:E,element:S,storage:t,intent:a,linkService:i}),S.children?.length>0)f.push([S,-1,E]);else if(S.value){const A=document.createTextNode(S.value);c&&Nc.shouldBuildText(x)&&h.push(A),E.append(A)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Kr="http://www.w3.org/2000/svg";class Ca{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Qo(n,e="text"){if(dc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Wc{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=a,this.offsetY=l,i*=t;const d=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,m,g,b;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,m=0,g=0,b=1;break;case 90:f=0,m=1,g=1,b=0;break;case 270:f=0,m=-1,g=-1,b=0;break;case 0:f=1,m=0,g=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,b=-b);let S,x,E,A;f===0?(S=Math.abs(h-e[1])*i+a,x=Math.abs(d-e[0])*i+l,E=(e[3]-e[1])*i,A=(e[2]-e[0])*i):(S=Math.abs(d-e[0])*i+a,x=Math.abs(h-e[1])*i+l,E=(e[2]-e[0])*i,A=(e[3]-e[1])*i),this.transform=[f*i,m*i,g*i,b*i,S-f*i*d-g*i*h,x-m*i*d-b*i*h],this.width=E,this.height=A}get rawDims(){const e=this.viewBox;return it(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new Wc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:a})}convertToViewportPoint(e,t){const i=[e,t];return Re.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];Re.applyTransform(t,this.transform);const i=[e[2],e[3]];return Re.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return Re.applyInverseTransform(i,this.transform),i}}class Kh extends Na{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Kc(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Zh(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function UE(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function HE(n,e="document.pdf"){if(typeof n!="string")return e;if(Kc(n))return Qe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},a=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(a.test(l))return r(l);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const h of c)if(a.test(h))return r(h);const d=Array.from(i.searchParams.keys()).reverse();for(const h of d)if(a.test(h))return r(h)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return e}class pS{started=Object.create(null);times=[];time(e){e in this.started&&Qe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Qe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:a}of this.times)e.push(`${i.padEnd(t)} ${a-r}ms
`);return e.join("")}}function dc(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function Ti(n){n.preventDefault()}function Wt(n){n.preventDefault(),n.stopPropagation()}function az(n){console.log("Deprecated API usage: "+n)}class xh{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(t[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(t[6],10);d=d>=0&&d<=59?d:0;const h=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let m=parseInt(t[9],10)||0;return m=m>=0&&m<=59?m:0,h==="-"?(l+=f,c+=m):h==="+"&&(l-=f,c-=m),new Date(Date.UTC(i,r,a,l,c,d))}}function $E(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new Wc({viewBox:a,userUnit:1,scale:e,rotation:t})}function Jo(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Qe(`Not a valid color format: "${n}"`),[0,0,0])}function oz(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,Jo(i))}e.remove()}function Yt(n){const{a:e,b:t,c:i,d:r,e:a,f:l}=n.getTransform();return[e,t,i,r,a,l]}function yr(n){const{a:e,b:t,c:i,d:r,e:a,f:l}=n.getTransform().invertSelf();return[e,t,i,r,a,l]}function zs(n,e,t=!1,i=!0){if(e instanceof Wc){const{pageWidth:r,pageHeight:a}=e.rawDims,{style:l}=n,c=Cn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,h=`var(--total-scale-factor) * ${a}px`,f=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(l.width=f,l.height=m):(l.width=m,l.height=f)}i&&n.setAttribute("data-main-rotation",e.rotation)}class ir{constructor(){const{pixelRatio:e}=ir;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,a=-1){let l=1/0,c=1/0,d=1/0;i=ir.capPixels(i,a),i>0&&(l=Math.sqrt(i/(e*t))),r!==-1&&(c=r/e,d=r/t);const h=Math.min(l,c,d);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const Sh=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class lz{static get isDarkMode(){return it(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class qE{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),it(this,"commentForegroundColor",Jo(i))}}function VE(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function mS(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,a=Math.max(t,i,r),l=Math.min(t,i,r),c=(a+l)/2;if(a===l)e[0]=e[1]=0;else{const d=a-l;switch(e[1]=c<.5?d/(a+l):d/(2-a-l),a){case t:e[0]=((i-r)/d+(i<r?6:0))*60;break;case i:e[0]=((r-t)/d+2)*60;break;case r:e[0]=((t-i)/d+4)*60;break}}e[2]=c}function Qg(n,e){const t=n[0],i=n[1],r=n[2],a=(1-Math.abs(2*r-1))*i,l=a*(1-Math.abs(t/60%2-1)),c=r-a/2;switch(Math.floor(t/60)){case 0:e[0]=a+c,e[1]=l+c,e[2]=c;break;case 1:e[0]=l+c,e[1]=a+c,e[2]=c;break;case 2:e[0]=c,e[1]=a+c,e[2]=l+c;break;case 3:e[0]=c,e[1]=l+c,e[2]=a+c;break;case 4:e[0]=l+c,e[1]=c,e[2]=a+c;break;case 5:case 6:e[0]=a+c,e[1]=c,e[2]=l+c;break}}function gS(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function yS(n,e,t){Qg(n,t),t.map(gS);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];Qg(e,t),t.map(gS);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const bS=new Map;function GE(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=bS.get(t);if(i)return i;const r=new Float32Array(9),a=r.subarray(0,3),l=r.subarray(3,6);mS(n,l);const c=r.subarray(6,9);mS(e,c);const d=c[2]<.5,h=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),yS(l,c,a)<h){let f,m;d?(f=l[2],m=1):(f=0,m=l[2]);const g=.005;for(;m-f>g;){const b=l[2]=(f+m)/2;d===yS(l,c,a)<h?f=b:m=b}l[2]=d?m:f}return Qg(l,a),i=Re.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),bS.set(t,i),i}function nb({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const a=document.createElement("p");a.dir=e||"auto";const l=n.split(/(?:\r\n?|\n)/);for(let c=0,d=l.length;c<d;++c){const h=l[c];a.append(document.createTextNode(h)),c<d-1&&a.append(document.createElement("br"))}r.append(a)}else tb.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",t),i.append(r)}class bc{#e=null;#t=null;#i;#n=null;#a=null;#r=null;#s=null;#o=null;static#c=null;constructor(e){this.#i=e,bc.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Ti,{signal:t}),e.addEventListener("pointerdown",bc.#l,{signal:t}));const i=this.#n=document.createElement("div");i.className="buttons",e.append(i);const r=this.#i.toolbarPosition;if(r){const{style:a}=e,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#i._focusEventsAllowed=!1,Wt(e)}#d(e){this.#i._focusEventsAllowed=!0,Wt(e)}#f(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ti,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",bc.#c[e]),this.#f(i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#n.append(i)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#g),this.#a=e}addComment(e,t=null){if(this.#r)return;const i=e.renderForToolbar();if(!i)return;this.#f(i);const r=this.#s=this.#g;t?(this.#n.insertBefore(i,t),this.#n.insertBefore(r,t)):this.#n.append(i,r),this.#r=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#f(t),this.#n.append(t,this.#g)}removeButton(e){switch(e){case"comment":this.#r?.removeToolbarCommentButton(),this.#r=null,this.#s?.remove(),this.#s=null;break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,i){const r=this.#n.querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class cz{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Ti,{signal:t});const i=this.#e=document.createElement("div");return i.className="buttons",e.append(i),this.#i.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#a(e,t){let i=0,r=0;for(const a of e){const l=a.y+a.height;if(l<i)continue;const c=a.x+(t?a.width:0);if(l>i){r=c,i=l;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,i]}show(e,t,i){const[r,a]=this.#a(t,i),{style:l}=this.#t||=this.#n();e.append(this.#t),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(e,t,i,r){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",t);const l=document.createElement("span");a.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(a.addEventListener("contextmenu",Ti,{signal:c}),a.addEventListener("click",r,{signal:c})),this.#e.append(a)}}function XE(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}class uz{#e=0;get id(){return`${kc}${this.#e++}`}}class ib{#e=Jy();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const a=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return it(this,"_isSVGFittingCanvas",a)}async#n(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(i.url=t,r=await Qo(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const a=ib._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((h,f)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,h()},l.onload=async()=>{const m=i.svgUrl=l.result;c.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=f});l.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Qe(r),i=null}return this.#i.set(e,i),i&&this.#i.set(i.id,i),i}async getFromFile(e){const{lastModified:t,name:i,size:r,type:a}=e;return this.#n(`${t}_${i}_${r}_${a}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const i=await t;return this.#n(e,i)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,i),this.#i.set(i.id,i),i}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}i.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class dz{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:i,mustExec:r,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&e(),this.#t)return;const d={cmd:e,undo:t,post:i,type:a};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(d);return}if(l&&this.#e[this.#n].type===a){c&&(d.undo=this.#e[this.#n].undo),this.#e[this.#n]=d;return}const h=this.#n+1;h===this.#i?this.#e.splice(0,1):(this.#n=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(d)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Zc{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Cn.platform;for(const[i,r,a={}]of e)for(const l of i){const c=l.startsWith("mac+");t&&c?(this.callbacks.set(l.slice(4),{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1))):!t&&!c&&(this.callbacks.set(l,{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(this.#e(t));if(!i)return;const{callback:r,options:{bubbles:a=!1,args:l=[],checker:c=null}}=i;c&&!c(e,t)||(r.bind(e,...l,t)(),a||Wt(t))}}class rb{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return oz(e),it(this,"_colors",e)}convert(e){const t=Jo(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((a,l)=>a===t[l]))return rb._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Re.makeHexColor(...t):e}}class as{#e=new AbortController;#t=null;#i=null;#n=new Map;#a=new Map;#r=null;#s=null;#o=null;#c=new dz;#l=null;#h=null;#d=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#E=null;#w=null;#_=null;#T=null;#S=!1;#A=null;#N=new uz;#k=!1;#R=!1;#B=!1;#M=null;#L=null;#F=null;#j=null;#q=null;#C=Ze.NONE;#x=new Set;#D=null;#I=null;#U=null;#X=null;#G=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#P=null;#V=null;#Q=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=as.prototype,t=l=>l.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return it(this,"_keyboardManager",new Zc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#V.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}constructor(e,t,i,r,a,l,c,d,h,f,m,g,b,S,x,E){const A=this._signal=this.#e.signal;this.#V=e,this.#Q=t,this.#J=i,this.#r=r,this.#l=a,this.#I=l,this.#G=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:A}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),c._on("setpreference",this.onSetPreference.bind(this),{signal:A}),c._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:A}),window.addEventListener("pointerdown",()=>{this.#R=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#R=!1},{capture:!0,signal:A}),this.#le(),this.#he(),this.#te(),this.#s=d.annotationStorage,this.#E=d.filterFactory,this.#U=h,this.#T=f||null,this.#y=m,this.#v=g,this.#b=b,this.#q=S||null,this.viewParameters={realScale:Ca.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=E!==!1,a?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#m.clear(),this.#j?.clear(),this.#t=null,this.#x.clear(),this.#c.destroy(),this.#r?.destroy(),this.#l?.destroy(),this.#I?.destroy(),this.#A?.hide(),this.#A=null,this.#F?.destroy(),this.#F=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return it(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return it(this,"direction",getComputedStyle(this.#V).direction)}get _highlightColors(){return it(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return it(this,"highlightColors",null);const t=new Map,i=!!this.#U;for(const[r,a]of e){const l=r.endsWith("_HCM");if(i&&l){t.set(r.replace("_HCM",""),a);continue}!i&&!l&&t.set(r,a)}return it(this,"highlightColors",t)}get highlightColorNames(){return it(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#F=e}editAltText(e,t=!1){this.#r?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,i,r){this.#l?.showDialog(this,e,t,i,r)}selectComment(e,t){this.#a.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,i=void 0){this.#l?.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){this.#I?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#I}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#b=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#V.focus()}findParent(e,t){for(const i of this.#a.values()){const{x:r,y:a,width:l,height:c}=i.div.getBoundingClientRect();if(e>=r&&e<=r+l&&t>=a&&t<=a+c)return i}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Ca.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of this.#a.values())if(i.hasTextLayer(e))return i;return null}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:a,focusNode:l,focusOffset:c}=i,d=i.toString(),f=this.#Z(i).closest(".textLayer"),m=this.getSelectionBoxes(f);if(!m)return;i.empty();const g=this.#ee(f),b=this.#C===Ze.NONE,S=()=>{const x=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:r,anchorOffset:a,focusNode:l,focusOffset:c,text:d});b&&this.showAllEditors("highlight",!0,!0),t&&x?.editComment()};if(b){this.switchToMode(Ze.HIGHLIGHT,S);return}S()}commentSelection(e=""){this.highlightSelection(e,!0)}#ae(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=this.#Z(e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#A||=new cz(this),this.#A.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#s)return null;const t=`${kc}${e}`,i=this.#s.getRawValue(t);return i&&this.#s.remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&this.#s&&!this.#s.has(e.id)&&this.#s.setValue(e.id,e)}a11yAlert(e,t=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}#oe(){const e=document.getSelection();if(!e||e.isCollapsed){this.#D&&(this.#A?.hide(),this.#D=null,this.#O({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#D)return;const r=this.#Z(e).closest(".textLayer");if(!r){this.#D&&(this.#A?.hide(),this.#D=null,this.#O({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#D=t,this.#O({hasSelectedText:!0}),!(this.#C!==Ze.HIGHLIGHT&&this.#C!==Ze.NONE)&&(this.#C===Ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#C===Ze.HIGHLIGHT?this.#ee(r):null;if(a?.toggleDrawing(),this.#R){const l=new AbortController,c=this.combinedSignal(l),d=h=>{h.type==="pointerup"&&h.button!==0||(l.abort(),a?.toggleDrawing(!0),h.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else a?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#C===Ze.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#ae()}#le(){document.addEventListener("selectionchange",this.#oe.bind(this),{signal:this._signal})}#ce(){if(this.#_)return;this.#_=new AbortController;const e=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#x)if(t.div.contains(e)){this.#L=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[e,t]=this.#L;this.#L=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#M)return;this.#M=new AbortController;const e=this.combinedSignal(this.#M);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#de(){this.#M?.abort(),this.#M=null}#ne(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#ie(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#ne()}removeEditListeners(){this.#de(),this.#ie()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of this.#x){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){Qe(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const d of i){const h=await r.deserialize(d);if(!h)return;a.push(h)}const l=()=>{for(const d of a)this.#re(d);this.#se(a)},c=()=>{for(const d of a)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){Qe(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Ze.NONE&&!this.isEditorHandlingKeyboard&&as._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#O(e){Object.entries(e).some(([i,r])=>this.#Y[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,e)}),this.#C===Ze.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[ut.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#ne(),this.#O({isEditing:this.#C!==Ze.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#ie(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#$(t.defaultPropertiesToUpdate)}}getId(){return this.#N.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#k?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,a=!1){if(this.#C!==e&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#C===Ze.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=e,e===Ze.NONE){this.setEditingState(!1),this.#pe();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();e===Ze.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const l of this.#a.values())l.updateMode(e);if(e===Ze.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,c=[];for(const d of this.#n.values()){const{annotationElementId:h,hasComment:f,deleted:m}=d;h&&l.add(h),f&&!m&&c.push(d.getData())}for(const d of this.#i){const{id:h,popupRef:f,contentsObj:m}=d;f&&m?.str&&!l.has(h)&&!this.#g.has(h)&&c.push(d)}this.#l?.showSidebar(c)}if(!t){i&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const l of this.#n.values())l.uid===t?(this.setSelected(l),a?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case ut.CREATE:this.currentLayer.addNewEditor(t);return;case ut.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of this.#x)i.updateParams(e,t);else for(const i of this.#u)i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){for(const a of this.#n.values())a.editorType===e&&a.show(t);(this.#X?.get(ut.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#$([[ut.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#B!==e){this.#B=e;for(const t of this.#a.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#k){this.#k=!0;const e=[];for(const t of this.#a.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#k){this.#k=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#j?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#s?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#re(e){const t=this.#a.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#x);return e}updateUI(e){this.#me===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#x.has(e)){this.#x.delete(e),e.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#x.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#d?.commitOrRemove();for(const t of this.#x)t!==e&&t.unselect();this.#x.clear(),this.#x.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(e){return this.#x.has(e)}get firstSelectedEditor(){return this.#x.values().next().value}unselect(e){e.unselect(),this.#x.delete(e),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#x.size!==0}get isEnterHandled(){return this.#x.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#O({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#c.add(e),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#c.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#x],i=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},r=()=>{for(const a of t)this.#re(a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#se(e){for(const t of this.#x)t.unselect();this.#x.clear();for(const t of e)t.isEmpty()||(this.#x.add(t),t.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#x)e.commit();this.#se(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#C!==Ze.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#x)e.unselect();this.#x.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[r,a]=this.#H,l=[...this.#x],c=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,a),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-a),d.translationDone())},mustExec:!1})},c);for(const d of l)d.translateInPage(e,t),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#x)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let t=!1;for(const[{x:r,y:a,pageIndex:l},c]of e)c.newX=r,c.newY=a,c.newPageIndex=l,t||=r!==c.savedX||a!==c.savedY||l!==c.savedPageIndex;if(!t)return!1;const i=(r,a,l,c)=>{if(this.#n.has(r.id)){const d=this.#a.get(c);d?r._setParentAndPosition(d,a,l):(r.pageIndex=c,r.x=a,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:l,newPageIndex:c}]of e)i(r,a,l,c)},undo:()=>{for(const[r,{savedX:a,savedY:l,savedPageIndex:c}]of e)i(r,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#p)for(const i of this.#p.keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#x.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#C}isEditingMode(){return this.#C!==Ze.NONE}get imageManager(){return it(this,"imageManager",new ib)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,f=t.rangeCount;h<f;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:i,y:r,width:a,height:l}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(h,f,m,g)=>({x:(f-r)/l,y:1-(h+m-i)/a,width:g/l,height:m/a});break;case"180":c=(h,f,m,g)=>({x:1-(h+m-i)/a,y:1-(f+g-r)/l,width:m/a,height:g/l});break;case"270":c=(h,f,m,g)=>({x:1-(f+g-r)/l,y:(h-i)/a,width:g/l,height:m/a});break;default:c=(h,f,m,g)=>({x:(h-i)/a,y:(f-r)/l,width:m/a,height:g/l});break}const d=[];for(let h=0,f=t.rangeCount;h<f;h++){const m=t.getRangeAt(h);if(!m.collapsed)for(const{x:g,y:b,width:S,height:x}of m.getClientRects())S===0||x===0||d.push(c(g,b,S,x))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const i=this.#s.getRawValue(t);i&&(this.#C===Ze.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){const r=this.#j?.get(e);r&&(r.setCanvas(t,i),this.#j.delete(e))}addMissingCanvas(e,t){(this.#j||=new Map).set(e,t)}}class Er{#e=null;#t=!1;#i=null;#n=null;#a=null;#r=null;#s=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,Er.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Er._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Er.#f.missing),t.setAttribute("data-l10n-id",Er.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;e.addEventListener("contextmenu",Ti,{signal:i}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#s=!0,r(a))},{signal:i}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await Er._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:a=!1}){i&&(this.#l=i,this.#h=r),!(this.#e===e&&this.#t===t)&&(a||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#i&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const e=this.#i;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Er.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Er.#f[`${this.#g}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const r=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:a}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#a?.classList.remove("show")},{signal:a})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Nd{#e=null;#t=null;#i=!1;#n=null;#a=null;#r=null;#s=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:i}=this.#e.getBoundingClientRect(),{x:r,y:a,width:l,height:c}=this.#n.parent.boundingClientRect;return[(e-r)/l,(t+i-a)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Ti,{signal:i}),t&&(e.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,Wt(a)},{capture:!0,signal:i}),e.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,Wt(a)},{capture:!0,signal:i})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(this.#i=!0,r(a))},{signal:i}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),e}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=this.#n.commentButtonPosition;const{width:f,height:m,x:g,y:b}=this.#n;i=g+i*f,r=b+r*m}const a=this.#n.parent.boundingClientRect,{x:l,y:c,width:d,height:h}=a;this.#n._uiManager.editComment(this.#n,l+i*d,c+r*h,{...e,parentDimensions:a})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#a}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#r,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#s&&(this.#r=null),e===null){this.#s="",this.#c=!0;return}this.#s=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#a=e,this.data=e,this.#o=null,this.#r=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#s="",this.#r=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Qc{#e;#t=!1;#i=null;#n;#a;#r;#s;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:l=null,signal:c}){this.#e=e,this.#i=i,this.#n=t,this.#a=r,this.#r=a,this.#s=l,this.#h=new AbortController,this.#c=AbortSignal.any([c,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ir.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,a=AbortSignal.any([this.#c,r.signal]),l=this.#e,c={capture:!0,signal:a,passive:!1},d=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(Wt(h),d(h))},c),l.addEventListener("pointerup",d,c),l.addEventListener("pointercancel",d,c);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),a=this.#e,l={signal:r,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),l);const c=this.#p.bind(this);a.addEventListener("touchend",c,l),a.addEventListener("touchcancel",c,l),l.capture=!0,a.addEventListener("pointerdown",Wt,l),a.addEventListener("pointermove",Wt,l),a.addEventListener("pointercancel",Wt,l),a.addEventListener("pointerup",Wt,l),this.#a?.()}if(Wt(e),e.touches.length!==2||this.#i?.()){this.#l=null;return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;Wt(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:a}=t,{screenX:l,screenY:c}=i,d=this.#l,{touch0X:h,touch0Y:f,touch1X:m,touch1Y:g}=d,b=m-h,S=g-f,x=l-r,E=c-a,A=Math.hypot(x,E)||1,T=Math.hypot(b,S)||1;if(!this.#t&&Math.abs(T-A)<=Qc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=a,d.touch1X=l,d.touch1Y=c,!this.#t){this.#t=!0;return}const R=[(r+l)/2,(a+c)/2];this.#r?.(R,T,A)}#p(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#s?.()),this.#l&&(Wt(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Fe{#e=null;#t=null;#i=null;#n=null;#a=null;#r=!1;#s=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#v=!1;#b=null;#E=0;#w=0;#_=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#A=Fe._zIndex++;static _borderLineWidth=-1;static _colorManager=new rb;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Fe.prototype._resizeWithKeyboard,t=as.TRANSLATE_SMALL,i=as.TRANSLATE_BIG;return it(this,"_resizerKeyboardManager",new Zc([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Fe.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[a,l];const[c,d]=this.parentDimensions;this.x=e.x/c,this.y=e.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return it(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new hz({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Fe._l10n??=e,Fe._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Fe._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Fe._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ot("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(e){this.#S=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#P(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[a,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/a,this.y=(t+r)/l,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}#N([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#N(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#N(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,a]}=this;if(this.x+=e/r,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,h]=this.getBaseTranslation();l+=d,c+=h;const{style:f}=i;f.left=`${(100*l).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=Fe,r=i/e,a=i/t;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:a,y:l,width:c,height:d}=this;if(c*=i,d*=r,a*=i,l*=r,this._mustFixPosition)switch(e){case 0:a=Fn(a,0,i-c),l=Fn(l,0,r-d);break;case 90:a=Fn(a,0,i-d),l=Fn(l,c,r);break;case 180:a=Fn(a,c,i),l=Fn(l,d,r);break;case 270:a=Fn(a,d,i),l=Fn(l,0,r-c);break}this.x=a/=i,this.y=l/=r;const[h,f]=this.getBaseTranslation();a+=h,l+=f,t.left=`${(100*a).toFixed(2)}%`,t.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#k(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return Fe.#k(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Fe.#k(e,t,360-this.parentRotation)}#R(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#M.bind(this,i),{signal:t}),r.addEventListener("contextmenu",Ti,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#c)}#M(e,t){t.preventDefault();const{isMac:i}=Cn.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#j.bind(this,e),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Wt,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ti,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#F()};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})}#L(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#h;this.#h=null;const a=this.x,l=this.y,c=this.width,d=this.height;a===e&&l===t&&c===i&&d===r||this.addCommands({cmd:this.#L.bind(this,a,l,c,d),undo:this.#L.bind(this,e,t,i,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#j(e,t){const[i,r]=this.parentDimensions,a=this.x,l=this.y,c=this.width,d=this.height,h=Fe.MIN_SIZE/i,f=Fe.MIN_SIZE/r,m=this.#R(this.rotation),g=(U,C)=>[m[0]*U+m[2]*C,m[1]*U+m[3]*C],b=this.#R(360-this.rotation),S=(U,C)=>[b[0]*U+b[2]*C,b[1]*U+b[3]*C];let x,E,A=!1,T=!1;switch(e){case"topLeft":A=!0,x=(U,C)=>[0,0],E=(U,C)=>[U,C];break;case"topMiddle":x=(U,C)=>[U/2,0],E=(U,C)=>[U/2,C];break;case"topRight":A=!0,x=(U,C)=>[U,0],E=(U,C)=>[0,C];break;case"middleRight":T=!0,x=(U,C)=>[U,C/2],E=(U,C)=>[0,C/2];break;case"bottomRight":A=!0,x=(U,C)=>[U,C],E=(U,C)=>[0,0];break;case"bottomMiddle":x=(U,C)=>[U/2,C],E=(U,C)=>[U/2,0];break;case"bottomLeft":A=!0,x=(U,C)=>[0,C],E=(U,C)=>[U,0];break;case"middleLeft":T=!0,x=(U,C)=>[0,C/2],E=(U,C)=>[U,C/2];break}const R=x(c,d),B=E(c,d);let k=g(...B);const N=Fe._round(a+k[0]),M=Fe._round(l+k[1]);let P=1,F=1,L,H;if(t.fromKeyboard)({deltaX:L,deltaY:H}=t);else{const{screenX:U,screenY:C}=t,[ne,G]=this.#l;[L,H]=this.screenToPageTranslation(U-ne,C-G),this.#l[0]=U,this.#l[1]=C}if([L,H]=S(L/i,H/r),A){const U=Math.hypot(c,d);P=F=Math.max(Math.min(Math.hypot(B[0]-R[0]-L,B[1]-R[1]-H)/U,1/c,1/d),h/c,f/d)}else T?P=Fn(Math.abs(B[0]-R[0]-L),h,1)/c:F=Fn(Math.abs(B[1]-R[1]-H),f,1)/d;const X=Fe._round(c*P),V=Fe._round(d*F);k=g(...E(X,V));const Y=N-k[0],I=M-k[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=X,this.height=V,this.x=Y,this.y=I,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new bc(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Er.initialize(Fe._l10n),this.#i=new Er(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Nd(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=this.#n;return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Nd(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(this.#n||=new Nd(this),this.#n.setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Nd(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[a]=this.pageDimensions,[l]=this.pageTranslation,c=l+a+1,d=r-100,h=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,h,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#r?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),XE(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Qc({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#x.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(e,t,i){let a=.7*(i/t)+1-.7;if(a===1)return;const l=this.#R(this.rotation),c=(N,M)=>[l[0]*N+l[2]*M,l[1]*N+l[3]*M],[d,h]=this.parentDimensions,f=this.x,m=this.y,g=this.width,b=this.height,S=Fe.MIN_SIZE/d,x=Fe.MIN_SIZE/h;a=Math.max(Math.min(a,1/g,1/b),S/g,x/b);const E=Fe._round(g*a),A=Fe._round(b*a);if(E===g&&A===b)return;this.#u||=[f,m,g,b];const T=c(g/2,b/2),R=Fe._round(f+T[0]),B=Fe._round(m+T[1]),k=c(E/2,A/2);this.x=R-k[0],this.y=B-k[1],this.width=E,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#x(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(e){const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#I(e);return}this.#D(e)}#D(e){const{isMac:t}=Cn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:a},c=h=>{r.abort(),this.#s=null,this.#p=!1,this._uiManager.endDragSession()||this.#D(h),i&&this._onStopDragging()};t&&(this.#E=e.clientX,this.#w=e.clientY,this.#s=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",h=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:m,pointerId:g}=h;if(g!==this.#s){Wt(h);return}const[b,S]=this.screenToPageTranslation(f-this.#E,m-this.#w);this.#E=f,this.#w=m,this._uiManager.dragSelectedEditors(b,S)},l),window.addEventListener("touchmove",Wt,l),window.addEventListener("pointerdown",h=>{h.pointerType===this.#o&&(this.#T||h.isPrimary)&&c(h),Wt(h)},l));const d=h=>{if(!this.#s||this.#s===h.pointerId){c(h);return}Wt(h)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[a,l]=this.pageDimensions,[c,d]=this.pageTranslation,h=e/r,f=t/r,m=this.x*a,g=this.y*l,b=this.width*a,S=this.height*l;switch(i){case 0:return[m+h+c,l-g-f-S+d,m+h+b+c,l-g-f+d];case 90:return[m+f+c,l-g+h+d,m+f+S+c,l-g+h+b+d];case 180:return[m-h-b+c,l-g+f+d,m-h+c,l-g+f+S+d];case 270:return[m-f-S+c,l-g-h-b+d,m-f+c,l-g-h+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,a,l]=e,c=a-i,d=l-r;switch(this.rotation){case 0:return[i,t-l,c,d];case 90:return[i,t-r,d,c];case 180:return[a,t-r,c,d];case 270:return[a,t-l,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Fe._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:a,richText:l},uid:c,pageIndex:d,creationDate:h,modificationDate:f}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:e},creationDate:h,modificationDate:i||f,popupRef:!a,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return t<l&&r>0&&e<a&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[a,l]=r.pageDimensions,[c,d,h,f]=r.getRectInCurrentCoords(e.rect,l);return r.x=c/a,r.y=d/l,r.width=h/a,r.height=f/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#P(),this.removeEditToolbar(),this.#_){for(const e of this.#_.values())clearTimeout(e);this.#_=null}this.parent=null,this.#T?.destroy(),this.#T=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,a,l]=this.getPDFRect();return[Fe._round(i+(a-i)*e),Fe._round(r+(l-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const l=this.#X.bind(this),c=this.#G.bind(this),d=this._uiManager._signal;for(const h of this.#t){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",l,{signal:d}),h.addEventListener("blur",c,{signal:d}),h.addEventListener("focus",this.#Y.bind(this,f),{signal:d}),h.setAttribute("data-l10n-id",Fe._l10nResizer[f])}}const i=this.#t[0];let r=0;for(const l of t){if(l===i)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(a!==r){if(a<r)for(let c=0;c<r-a;c++)this.#c.append(this.#c.firstChild);else if(a>r)for(let c=0;c<a-r;c++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const c of t){const h=this.#t[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Fe._l10nResizer[h])}}this.#H(0),this.#v=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#X(e){Fe._resizerKeyboardManager.exec(this,e)}#G(e){this.#v&&e.relatedTarget?.parentNode!==this.#c&&this.#P()}#Y(e){this.#g=this.#v?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#v&&this.#j(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#P(){this.#v=!1,this.#H(-1),this.#F()}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#_||=new Map;const{action:i}=e;let r=this.#_.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#_.delete(i),this.#_.size===0&&(this.#_=null)},Fe._telemetryTimeout),this.#_.set(i,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class hz extends Fe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const vS=3285377520,zi=4294901760,br=65535;class YE{constructor(e){this.h1=e?e&4294967295:vS,this.h2=e?e&4294967295:vS}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let x=0,E=e.length;x<E;x++){const A=e.charCodeAt(x);A<=255?t[i++]=A:(t[i++]=A>>>8,t[i++]=A&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,a=i-r*4,l=new Uint32Array(t.buffer,0,r);let c=0,d=0,h=this.h1,f=this.h2;const m=3432918353,g=461845907,b=m&br,S=g&br;for(let x=0;x<r;x++)x&1?(c=l[x],c=c*m&zi|c*b&br,c=c<<15|c>>>17,c=c*g&zi|c*S&br,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(d=l[x],d=d*m&zi|d*b&br,d=d<<15|d>>>17,d=d*g&zi|d*S&br,f^=d,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,a){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*m&zi|c*b&br,c=c<<15|c>>>17,c=c*g&zi|c*S&br,r&1?h^=c:f^=c}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&zi|e*36045&br,t=t*4283543511&zi|((t<<16|e>>>16)*2950163797&zi)>>>16,e^=t>>>1,e=e*444984403&zi|e*60499&br,t=t*3301882366&zi|((t<<16|e>>>16)*3120437893&zi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Jg=Object.freeze({map:null,hash:"",transfer:void 0});class sb{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof Fe&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof Fe)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=this.#n.get(e);let r=!1;if(i!==void 0)for(const[a,l]of Object.entries(t))i[a]!==l&&(r=!0,i[a]=l);else r=!0,this.#n.set(e,t);r&&this.#a(),t instanceof Fe&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new WE(this)}get serializable(){if(this.#n.size===0)return Jg;const e=new Map,t=new YE,i=[],r=Object.create(null);let a=!1;for(const[l,c]of this.#n){const d=c instanceof Fe?c.serialize(!1,r):c;d&&(e.set(l,d),t.update(`${l}:${JSON.stringify(d)}`),a||=!!d.bitmap)}if(a)for(const l of e.values())l.bitmap&&i.push(l.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Jg}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const a of this.#n.values()){if(!(a instanceof Fe)){a.popup&&(a.popup.deleted?r+=1:i+=1);continue}a.isCommentDeleted?r+=1:a.hasEditedComment&&(i+=1);const l=a.telemetryFinalData;if(!l)continue;const{type:c}=l;t.has(c)||t.set(c,Object.getPrototypeOf(a).constructor),e||=Object.create(null);const d=e[c]||=new Map;for(const[h,f]of Object.entries(l)){if(h==="type")continue;let m=d.get(h);m||(m=new Map,d.set(h,m));const g=m.get(f)??0;m.set(f,g+1)}}if((r>0||i>0)&&(e||=Object.create(null),e.comments={deleted:r,edited:i}),!e)return null;for(const[a,l]of t)e[a]=l.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const i=this.#i?.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class WE extends sb{#e;constructor(e){super();const{map:t,hash:i,transfer:r}=e.serializable,a=structuredClone(t,r?{transfer:r}:null);this.#e={map:a,hash:i,transfer:r}}get print(){Ot("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return it(this,"modifiedIds",{ids:new Set,hash:""})}}class fz{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||this.#e.has(e.loadedName))){if(ht(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:l}=e,c=new FontFace(r,a,l);this.addNativeFontFace(c);try{await c.load(),this.#e.add(r),i?.(e)}catch{Qe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Ot("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Qe(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return it(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return it(this,"isSyncFontLoadingSupported",qn||Cn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(ht(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return it(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(B,k){return B.charCodeAt(k)<<24|B.charCodeAt(k+1)<<16|B.charCodeAt(k+2)<<8|B.charCodeAt(k+3)&255}function r(B,k,N,M){const P=B.substring(0,k),F=B.substring(k+N);return P+M+F}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let h=0;function f(B,k){if(++h>30){Qe("Load test font never loaded."),k();return}if(d.font="30px "+B,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){k();return}setTimeout(f.bind(null,B,k))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,m.length,m);const S=16,x=1482184792;let E=i(g,S);for(a=0,l=m.length-3;a<l;a+=4)E=E-x+i(m,a)|0;a<m.length&&(E=E-x+i(m+"XXX",a)|0),g=r(g,S,4,ez(E));const A=`url(data:font/opentype;base64,${btoa(g)});`,T=`@font-face {font-family:"${m}";src:${A}}`;this.insertRule(T);const R=this._document.createElement("div");R.style.visibility="hidden",R.style.width=R.style.height="10px",R.style.position="absolute",R.style.top=R.style.left="0px";for(const B of[e.loadedName,m]){const k=this._document.createElement("span");k.textContent="Hi",k.style.fontFamily=B,R.append(k)}this._document.body.append(R),f(m,()=>{R.remove(),t.complete()})}}class pz{#e;constructor(e,t=null,i,r){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${zE(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(l){Qe(`getPathGenerator - ignoring character: "${l}".`)}const a=new Path2D(r||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=a}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function mz(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(qn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function gz(n){if(qn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Yc(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Od(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const ey=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,yz=n=>typeof n=="object"&&typeof n?.name=="string",KE=rz.bind(null,ey,yz);class bz{#e=new Map;#t=Promise.resolve();postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:a}=i;if(a.aborted){Qe("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(e,t);r=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Md={DATA:1,ERROR:2},fn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _S(){}function ai(n){if(n instanceof ss||n instanceof _h||n instanceof hS||n instanceof Rc||n instanceof qm)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ot('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ss(n.message);case"InvalidPDFException":return new _h(n.message);case"PasswordException":return new hS(n.message,n.code);case"ResponseException":return new Rc(n.message,n.status,n.missing);case"UnknownErrorException":return new qm(n.message,n.details)}return new qm(n.message,n.toString())}class hc{#e=new AbortController;constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Md.DATA)r.resolve(e.data);else if(e.callback===Md.ERROR)r.reject(ai(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,a=this.comObj;Promise.try(t,e.data).then(function(l){a.postMessage({sourceName:i,targetName:r,callback:Md.DATA,callbackId:e.callbackId,data:l})},function(l){a.postMessage({sourceName:i,targetName:r,callback:Md.ERROR,callbackId:e.callbackId,reason:ai(l)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(l){a.reject(l)}return a.promise}sendWithStream(e,t,i,r){const a=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[a]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:e,streamId:a,data:t,desiredSize:h.desiredSize},r),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[a].pullCall=f,d.postMessage({sourceName:l,targetName:c,stream:fn.PULL,streamId:a,desiredSize:h.desiredSize}),f.promise},cancel:h=>{ht(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:fn.CANCEL,streamId:a,reason:ai(h)}),f.promise}},i)}#i(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,a=this.comObj,l=this,c=this.actionHandler[e.action],d={enqueue(h,f=1,m){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:r,stream:fn.ENQUEUE,streamId:t,chunk:h},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:fn.CLOSE,streamId:t}),delete l.streamSinks[t])},error(h){ht(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:fn.ERROR,streamId:t,reason:ai(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[t]=d,Promise.try(c,e.data,d).then(function(){a.postMessage({sourceName:i,targetName:r,stream:fn.START_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:i,targetName:r,stream:fn.START_COMPLETE,streamId:t,reason:ai(h)})})}#n(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,a=this.comObj,l=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case fn.START_COMPLETE:e.success?l.startCall.resolve():l.startCall.reject(ai(e.reason));break;case fn.PULL_COMPLETE:e.success?l.pullCall.resolve():l.pullCall.reject(ai(e.reason));break;case fn.PULL:if(!c){a.postMessage({sourceName:i,targetName:r,stream:fn.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||_S).then(function(){a.postMessage({sourceName:i,targetName:r,stream:fn.PULL_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:i,targetName:r,stream:fn.PULL_COMPLETE,streamId:t,reason:ai(h)})});break;case fn.ENQUEUE:if(ht(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(e.chunk);break;case fn.CLOSE:if(ht(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,t);break;case fn.ERROR:ht(l,"error should have stream controller"),l.controller.error(ai(e.reason)),this.#a(l,t);break;case fn.CANCEL_COMPLETE:e.success?l.cancelCall.resolve():l.cancelCall.reject(ai(e.reason)),this.#a(l,t);break;case fn.CANCEL:if(!c)break;const d=ai(e.reason);Promise.try(c.onCancel||_S,d).then(function(){a.postMessage({sourceName:i,targetName:r,stream:fn.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){a.postMessage({sourceName:i,targetName:r,stream:fn.CANCEL_COMPLETE,streamId:t,reason:ai(h)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class ZE{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ot("Abstract method `_createCanvas` called.")}}class vz extends ZE{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class QE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ot("Abstract method `_fetch` called.")}}class xS extends QE{async _fetch(e){const t=await Qo(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Yc(t)}}class JE{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,a){return"none"}destroy(e=!1){}}class _z extends JE{#e;#t;#i;#n;#a;#r;#s=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#a=t}get#o(){return this.#t||=new Map}get#c(){return this.#r||=new Map}get#l(){if(!this.#i){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=this.#a.createElementNS(Kr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#a.createElementNS(Kr,"defs"),e.append(i),i.append(this.#i),this.#a.body.append(e)}return this.#i}#h(e){if(e.length===1){const d=e[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=d[m]/255;const f=h.join(",");return[f,f,f]}const[t,i,r]=e,a=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)a[d]=t[d]/255,l[d]=i[d]/255,c[d]=r[d]/255;return[a.join(","),l.join(","),c.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Kc(t)?Qe('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Qy(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[i,r,a]=this.#h(e),l=e.length===1?i:`${i}${r}${a}`;if(t=this.#o.get(l),t)return this.#o.set(e,t),t;const c=`g_${this.#n}_transfer_map_${this.#s++}`,d=this.#d(c);this.#o.set(e,d),this.#o.set(l,d);const h=this.#p(c);return this.#m(i,r,a,h),d}addHCMFilter(e,t){const i=`${e}-${t}`,r="base";let a=this.#c.get(r);if(a?.key===i||(a?(a.filter?.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},this.#c.set(r,a)),!e||!t))return a.url;const l=this.#v(e);e=Re.makeHexColor(...l);const c=this.#v(t);if(t=Re.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return a.url;const d=new Array(256);for(let b=0;b<=255;b++){const S=b/255;d[b]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=d.join(","),f=`g_${this.#n}_hcm_filter`,m=a.filter=this.#p(f);this.#m(h,h,h,m),this.#g(m);const g=(b,S)=>{const x=l[b]/255,E=c[b]/255,A=new Array(S+1);for(let T=0;T<=S;T++)A[T]=x+T/S*(E-x);return A.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),m),a.url=this.#d(f),a.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[i]=this.#h([e]),r=`alpha_${i}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const a=`g_${this.#n}_alpha_map_${this.#s++}`,l=this.#d(a);this.#o.set(e,l),this.#o.set(r,l);const c=this.#p(a);return this.#y(i,c),l}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let i,r;if(e?([i]=this.#h([e]),r=`luminosity_${i}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const a=`g_${this.#n}_luminosity_map_${this.#s++}`,l=this.#d(a);this.#o.set(e,l),this.#o.set(r,l);const c=this.#p(a);return this.#f(c),e&&this.#y(i,c),l}addHighlightHCMFilter(e,t,i,r,a){const l=`${t}-${i}-${r}-${a}`;let c=this.#c.get(e);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(e,c)),!t||!i))return c.url;const[d,h]=[t,i].map(this.#v.bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,b]=[r,a].map(this.#v.bind(this));m<f&&([f,m,g,b]=[m,f,b,g]),this.#l.style.color="";const S=(A,T,R)=>{const B=new Array(256),k=(m-f)/R,N=A/255,M=(T-A)/(255*R);let P=0;for(let F=0;F<=R;F++){const L=Math.round(f+F*k),H=N+F*M;for(let X=P;X<=L;X++)B[X]=H;P=L+1}for(let F=P;F<256;F++)B[F]=B[P-1];return B.join(",")},x=`g_${this.#n}_hcm_${e}_filter`,E=c.filter=this.#p(x);return this.#g(E),this.#m(S(g[0],b[0],5),S(g[1],b[1],5),S(g[2],b[2],5),E),c.url=this.#d(x),c.url}destroy(e=!1){e&&this.#r?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#s=0)}#f(e){const t=this.#a.createElementNS(Kr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#a.createElementNS(Kr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#a.createElementNS(Kr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,i){const r=this.#a.createElementNS(Kr,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#m(e,t,i,r){const a=this.#a.createElementNS(Kr,"feComponentTransfer");r.append(a),this.#u(a,"feFuncR",e),this.#u(a,"feFuncG",t),this.#u(a,"feFuncB",i)}#y(e,t){const i=this.#a.createElementNS(Kr,"feComponentTransfer");t.append(i),this.#u(i,"feFuncA",e)}#v(e){return this.#l.style.color=e,Jo(getComputedStyle(this.#l).getPropertyValue("color"))}}class eC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ot("Abstract method `_fetch` called.")}}class SS extends eC{async _fetch(e){const t=await Qo(e,"arraybuffer");return new Uint8Array(t)}}class tC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ot("Abstract method `_fetch` called.")}}class wS extends tC{async _fetch(e){const t=await Qo(e,"arraybuffer");return new Uint8Array(t)}}qn&&Qe("Please use the `legacy` build in Node.js environments.");async function ab(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class xz extends JE{}class Sz extends ZE{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class wz extends QE{async _fetch(e){return ab(e)}}class Az extends eC{async _fetch(e){return ab(e)}}class Ez extends tC{async _fetch(e){return ab(e)}}const _o="__forcedDependency",{floor:AS,ceil:ES}=Math;function Dd(n,e,t,i,r,a){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],a)}const ty=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Cz{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===ty}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Ld=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};class Tz{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[_o]:[]};#i=new Map;#n=[];#a=[];#r=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#p;#u;#m;constructor(e,t,i=!1){this.#f=e.width,this.#g=e.height,this.#y(t),i&&(this.#m=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,t){const i=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),t&&t.length>0?(this.#u.set(t),this.#u.fill(ty,t.length)):this.#u.fill(ty)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[_o]:{__proto__:this.#t[_o]}},this.#s={__proto__:this.#s},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#s=Object.getPrototypeOf(this.#s);const i=this.#n.pop();return i!==void 0&&(Ld(this.#m,e)?.dependencies.add(i),this.#u[e]=this.#u[i]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(Ld(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const t=this.#a.pop();return t!==void 0&&(Ld(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#r.push(Re.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,i){this.#e[e]=this.#i.get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(_o,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(_o,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,i,r,a,l){const c=Re.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform()),d=[1/0,1/0,-1/0,-1/0];Re.axialAlignedBoundingBox([i,a,r,l],c,d);const h=Re.intersect(this.#s,d);return h?(this.#s[0]=h[0],this.#s[1]=h[1],this.#s[2]=h[2],this.#s[3]=h[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(e,t,i,r,a,l){const c=this.#s;if(c[0]===1/0)return this;const d=Re.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform());if(c[0]===-1/0)return Re.axialAlignedBoundingBox([i,a,r,l],d,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return Re.axialAlignedBoundingBox([i,a,r,l],d,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],c[3])),this}recordCharacterBBox(e,t,i,r=1,a=0,l=0,c){const d=i.bbox;let h,f;if(d&&(h=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(i),h!==!1&&(f=[0,0,0,0],Re.axialAlignedBoundingBox(d,i.fontMatrix,f),(r!==1||a!==0||l!==0)&&Re.scaleMinMax([r,0,0,-r,a,l],f),h)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(e);const m=c();return d&&f&&h===void 0&&(h=f[0]<=a-m.actualBoundingBoxLeft&&f[2]>=a+m.actualBoundingBoxRight&&f[1]<=l-m.actualBoundingBoxAscent&&f[3]>=l+m.actualBoundingBoxDescent,this.#d.set(i,h),h)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,a-m.actualBoundingBoxLeft,a+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#f,this.#s[2]),this.#o[3]=Math.min(this.#g,this.#s[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const i=this.#l,r=this.#e,a=this.#t;for(const l of t)l in this.#e?i.add(r[l]):l in a&&a[l].forEach(i.add,i);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#l.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[_o]),this.#m){const i=Ld(this.#m,e),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(this.#c===e){const i=AS(this.#o[0]*256/this.#f),r=AS(this.#o[1]*256/this.#g),a=ES(this.#o[2]*256/this.#f),l=ES(this.#o[3]*256/this.#g);Dd(this.#p,e,i,r,a,l);for(const c of this.#l)c!==e&&Dd(this.#p,c,i,r,a,l);for(const c of this.#n)c!==e&&Dd(this.#p,c,i,r,a,l);for(const c of this.#a)c!==e&&Dd(this.#p,c,i,r,a,l);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const i=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new Cz(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class wh{#e;#t;#i;#n=0;#a=0;constructor(e,t,i){if(e instanceof wh&&e.#i===!!i)return e;this.#e=e,this.#t=t,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,i,r,a,l){return this.#i||this.#e.recordClipBox(this.#t,t,i,r,a,l),this}recordBBox(e,t,i,r,a,l){return this.#i||this.#e.recordBBox(this.#t,t,i,r,a,l),this}recordCharacterBBox(e,t,i,r,a,l,c){return this.#i||this.#e.recordCharacterBBox(this.#t,t,i,r,a,l,c),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ui={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ln={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ny(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class ob{isModifyingCurrentTransform(){return!1}getPattern(){Ot("Abstract method `getPattern` called.")}}class kz extends ob{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let a;if(r===Ln.STROKE||r===Ln.FILL){const l=t.current.getClippedPathBoundingBox(r,Yt(e))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,d),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-l[0],-l[1]),i=Re.transform(i,[1,0,0,1,l[0],l[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),ny(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),a=e.createPattern(h.canvas,"no-repeat");const m=new DOMMatrix(i);a.setTransform(m)}else ny(e,this._bbox),a=this._createGradient(e);return a}}function Xm(n,e,t,i,r,a,l,c){const d=e.coords,h=e.colors,f=n.data,m=n.width*4;let g;d[t+1]>d[i+1]&&(g=t,t=i,i=g,g=a,a=l,l=g),d[i+1]>d[r+1]&&(g=i,i=r,r=g,g=l,l=c,c=g),d[t+1]>d[i+1]&&(g=t,t=i,i=g,g=a,a=l,l=g);const b=(d[t]+e.offsetX)*e.scaleX,S=(d[t+1]+e.offsetY)*e.scaleY,x=(d[i]+e.offsetX)*e.scaleX,E=(d[i+1]+e.offsetY)*e.scaleY,A=(d[r]+e.offsetX)*e.scaleX,T=(d[r+1]+e.offsetY)*e.scaleY;if(S>=T)return;const R=h[a],B=h[a+1],k=h[a+2],N=h[l],M=h[l+1],P=h[l+2],F=h[c],L=h[c+1],H=h[c+2],X=Math.round(S),V=Math.round(T);let Y,I,U,C,ne,G,w,D;for(let q=X;q<=V;q++){if(q<E){const se=q<S?0:(S-q)/(S-E);Y=b-(b-x)*se,I=R-(R-N)*se,U=B-(B-M)*se,C=k-(k-P)*se}else{let se;q>T?se=1:E===T?se=0:se=(E-q)/(E-T),Y=x-(x-A)*se,I=N-(N-F)*se,U=M-(M-L)*se,C=P-(P-H)*se}let j;q<S?j=0:q>T?j=1:j=(S-q)/(S-T),ne=b-(b-A)*j,G=R-(R-F)*j,w=B-(B-L)*j,D=k-(k-H)*j;const K=Math.round(Math.min(Y,ne)),ee=Math.round(Math.max(Y,ne));let re=m*q+K*4;for(let se=K;se<=ee;se++)j=(Y-se)/(Y-ne),j<0?j=0:j>1&&(j=1),f[re++]=I-(I-G)*j|0,f[re++]=U-(U-w)*j|0,f[re++]=C-(C-D)*j|0,f[re++]=255}}function Rz(n,e,t){const i=e.coords,r=e.colors;let a,l;switch(e.type){case"lattice":const c=e.verticesPerRow,d=Math.floor(i.length/c)-1,h=c-1;for(a=0;a<d;a++){let f=a*c;for(let m=0;m<h;m++,f++)Xm(n,t,i[f],i[f+1],i[f+c],r[f],r[f+1],r[f+c]),Xm(n,t,i[f+c+1],i[f+1],i[f+c],r[f+c+1],r[f+1],r[f+c])}break;case"triangles":for(a=0,l=i.length;a<l;a+=3)Xm(n,t,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class Nz extends ob{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),b=h/m,S=f/g,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/b,scaleY:1/S},E=m+4,A=g+4,T=i.getCanvas("mesh",E,A),R=T.context,B=R.createImageData(m,g);if(t){const N=B.data;for(let M=0,P=N.length;M<P;M+=4)N[M]=t[0],N[M+1]=t[1],N[M+2]=t[2],N[M+3]=255}for(const N of this._figures)Rz(B,N,x);return R.putImageData(B,2,2),{canvas:T.canvas,offsetX:c-2*b,offsetY:d-2*S,scaleX:b,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){ny(e,this._bbox);const a=new Float32Array(2);if(r===Ln.SHADING)Re.singularValueDecompose2dScale(Yt(e),a);else if(this.matrix){Re.singularValueDecompose2dScale(this.matrix,a);const[c,d]=a;Re.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=c,a[1]*=d}else Re.singularValueDecompose2dScale(t.baseTransform,a);const l=this._createMeshCanvas(a,r===Ln.SHADING?null:this._background,t.cachedCanvases);return r!==Ln.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(l.offsetX,l.offsetY),e.scale(l.scaleX,l.scaleY),e.createPattern(l.canvas,"no-repeat")}}class Oz extends ob{getPattern(){return"hotpink"}}function Mz(n){switch(n[0]){case"RadialAxial":return new kz(n);case"Mesh":return new Nz(n);case"Dummy":return new Oz}throw new Error(`Unknown IR type: ${n[0]}`)}const CS={COLORED:1,UNCOLORED:2};class lb{static MAX_PATTERN_SIZE=3e3;constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){const{bbox:i,operatorList:r,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),Wh("TilingType: "+l);const m=i[0],g=i[1],b=i[2],S=i[3],x=b-m,E=S-g,A=new Float32Array(2);Re.singularValueDecompose2dScale(this.matrix,A);const[T,R]=A;Re.singularValueDecompose2dScale(this.baseTransform,A);const B=T*A[0],k=R*A[1];let N=x,M=E,P=!1,F=!1;const L=Math.ceil(h*B),H=Math.ceil(f*k),X=Math.ceil(x*B),V=Math.ceil(E*k);L>=X?N=h:P=!0,H>=V?M=f:F=!0;const Y=this.getSizeAndScale(N,this.ctx.canvas.width,B),I=this.getSizeAndScale(M,this.ctx.canvas.height,k),U=e.cachedCanvases.getCanvas("pattern",Y.size,I.size),C=U.context,ne=d.createCanvasGraphics(C,t);if(ne.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ne,a,c),C.translate(-Y.scale*m,-I.scale*g),ne.transform(0,Y.scale,0,0,I.scale,0,0),C.save(),ne.dependencyTracker?.save(),this.clipBbox(ne,m,g,b,S),ne.baseTransform=Yt(ne.ctx),ne.executeOperatorList(r),ne.endDrawing(),ne.dependencyTracker?.restore(),C.restore(),P||F){const G=U.canvas;P&&(N=h),F&&(M=f);const w=this.getSizeAndScale(N,this.ctx.canvas.width,B),D=this.getSizeAndScale(M,this.ctx.canvas.height,k),q=w.size,j=D.size,K=e.cachedCanvases.getCanvas("pattern-workaround",q,j),ee=K.context,re=P?Math.floor(x/h):0,se=F?Math.floor(E/f):0;for(let Se=0;Se<=re;Se++)for(let ve=0;ve<=se;ve++)ee.drawImage(G,q*Se,j*ve,q,j,0,0,q,j);return{canvas:K.canvas,scaleX:w.scale,scaleY:D.scale,offsetX:m,offsetY:g}}return{canvas:U.canvas,scaleX:Y.scale,scaleY:I.scale,offsetX:m,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(lb.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*i);return a>=r?a=r:i=a/e,{scale:i,size:a}}clipBbox(e,t,i,r,a){const l=r-t,c=a-i;e.ctx.rect(t,i,l,c),Re.axialAlignedBoundingBox([t,i,r,a],Yt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,a=e.current;switch(t){case CS.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=a.fillColor=l,r.strokeStyle=a.strokeColor=c;break;case CS.UNCOLORED:r.fillStyle=r.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new JI(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,a){let l=i;r!==Ln.SHADING&&(l=Re.transform(l,t.baseTransform),this.matrix&&(l=Re.transform(l,this.matrix)));const c=this.createPatternCanvas(t,a);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(d),h}}function Dz({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=Cn.isLittleEndian?4278190080:255,[d,h]=l?[a,c]:[c,a],f=i>>3,m=i&7,g=n.length;t=new Uint32Array(t.buffer);let b=0;for(let S=0;S<r;S++){for(const E=e+f;e<E;e++){const A=e<g?n[e]:255;t[b++]=A&128?h:d,t[b++]=A&64?h:d,t[b++]=A&32?h:d,t[b++]=A&16?h:d,t[b++]=A&8?h:d,t[b++]=A&4?h:d,t[b++]=A&2?h:d,t[b++]=A&1?h:d}if(m===0)continue;const x=e<g?n[e++]:255;for(let E=0;E<m;E++)t[b++]=x&1<<7-E?h:d}return{srcPos:e,destPos:b}}const TS=16,kS=100,Lz=15,RS=10,oi=16,Ym=new DOMMatrix,wi=new Float32Array(2),Ro=new Float32Array([1/0,1/0,-1/0,-1/0]);function jz(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,a,l,c){e.transform(t,i,r,a,l,c),this.__originalTransform(t,i,r,a,l,c)},n.setTransform=function(t,i,r,a,l,c){e.setTransform(t,i,r,a,l,c),this.__originalSetTransform(t,i,r,a,l,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,a,l,c){e.bezierCurveTo(t,i,r,a,l,c),this.__originalBezierCurveTo(t,i,r,a,l,c)},n.rect=function(t,i,r,a){e.rect(t,i,r,a),this.__originalRect(t,i,r,a)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Pz{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function jd(n,e,t,i,r,a,l,c,d,h){const[f,m,g,b,S,x]=Yt(n);if(m===0&&g===0){const T=l*f+S,R=Math.round(T),B=c*b+x,k=Math.round(B),N=(l+d)*f+S,M=Math.abs(Math.round(N)-R)||1,P=(c+h)*b+x,F=Math.abs(Math.round(P)-k)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(b),R,k),n.drawImage(e,t,i,r,a,0,0,M,F),n.setTransform(f,m,g,b,S,x),[M,F]}if(f===0&&b===0){const T=c*g+S,R=Math.round(T),B=l*m+x,k=Math.round(B),N=(c+h)*g+S,M=Math.abs(Math.round(N)-R)||1,P=(l+d)*m+x,F=Math.abs(Math.round(P)-k)||1;return n.setTransform(0,Math.sign(m),Math.sign(g),0,R,k),n.drawImage(e,t,i,r,a,0,0,F,M),n.setTransform(f,m,g,b,S,x),[F,M]}n.drawImage(e,t,i,r,a,l,c,d,h);const E=Math.hypot(f,m),A=Math.hypot(g,b);return[E*d,A*h]}class NS{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Zg;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Mn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,i){i?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Ro.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ln.FILL,t=null){const i=this.minMax.slice();if(e===Ln.STROKE){t||Ot("Stroke bounding box must include transform."),Re.singularValueDecompose2dScale(t,wi);const r=wi[0]*this.lineWidth/2,a=wi[1]*this.lineWidth/2;i[0]-=r,i[1]-=a,i[2]+=r,i[3]+=a}return i}updateClipFromPath(){const e=Re.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Ro,0)}getClippedPathBoundingBox(e=Ln.FILL,t=null){return Re.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function OS(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%oi,a=(t-r)/oi,l=r===0?a:a+1,c=n.createImageData(i,oi);let d=0,h;const f=e.data,m=c.data;let g,b,S,x;if(e.kind===yc.GRAYSCALE_1BPP){const E=f.byteLength,A=new Uint32Array(m.buffer,0,m.byteLength>>2),T=A.length,R=i+7>>3,B=4294967295,k=Cn.isLittleEndian?4278190080:255;for(g=0;g<l;g++){for(S=g<a?oi:r,h=0,b=0;b<S;b++){const N=E-d;let M=0;const P=N>R?i:N*8-7,F=P&-8;let L=0,H=0;for(;M<F;M+=8)H=f[d++],A[h++]=H&128?B:k,A[h++]=H&64?B:k,A[h++]=H&32?B:k,A[h++]=H&16?B:k,A[h++]=H&8?B:k,A[h++]=H&4?B:k,A[h++]=H&2?B:k,A[h++]=H&1?B:k;for(;M<P;M++)L===0&&(H=f[d++],L=128),A[h++]=H&L?B:k,L>>=1}for(;h<T;)A[h++]=0;n.putImageData(c,0,g*oi)}}else if(e.kind===yc.RGBA_32BPP){for(b=0,x=i*oi*4,g=0;g<a;g++)m.set(f.subarray(d,d+x)),d+=x,n.putImageData(c,0,b),b+=oi;g<l&&(x=i*r*4,m.set(f.subarray(d,d+x)),n.putImageData(c,0,b))}else if(e.kind===yc.RGB_24BPP)for(S=oi,x=i*S,g=0;g<l;g++){for(g>=a&&(S=r,x=i*S),h=0,b=x;b--;)m[h++]=f[d++],m[h++]=f[d++],m[h++]=f[d++],m[h++]=255;n.putImageData(c,0,g*oi)}else throw new Error(`bad image kind: ${e.kind}`)}function MS(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%oi,a=(t-r)/oi,l=r===0?a:a+1,c=n.createImageData(i,oi);let d=0;const h=e.data,f=c.data;for(let m=0;m<l;m++){const g=m<a?oi:r;({srcPos:d}=Dz({src:h,srcPos:d,dest:f,width:i,height:g,nonBlackColor:0})),n.putImageData(c,0,m*oi)}}function Ql(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Pd(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function DS(n,e){if(e)return!0;Re.singularValueDecompose2dScale(n,wi);const t=Math.fround(ir.pixelRatio*Ca.PDF_TO_CSS_UNITS);return wi[0]<=t&&wi[1]<=t}const Bz=["butt","round","square"],Fz=["miter","round","bevel"],Iz={},LS={};class Oo{constructor(e,t,i,r,a,{optionalContentConfig:l,markedContentStack:c=null},d,h,f){this.ctx=e,this.current=new NS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new Pz(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,i=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,i){const d=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Yt(this.compositeCtx))}this.ctx.save(),Pd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Yt(this.ctx)}executeOperatorList(e,t,i,r,a){const l=e.argsArray,c=e.fnArray;let d=t||0;const h=l.length;if(h===d)return d;const f=h-d>RS&&typeof i=="function",m=f?Date.now()+Lz:0;let g=0;const b=this.commonObjs,S=this.objs;let x,E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!a||a(d))if(x=c[d],E=l[d]??null,x!==Ho.dependency)E===null?this[x](d):this[x](d,...E);else for(const A of E){this.dependencyTracker?.recordNamedData(A,d);const T=A.startsWith("g_")?b:S;if(!T.has(A))return T.get(A,i),d}if(d++,d===h)return d;if(f&&++g>RS){if(Date.now()>m)return i(),d;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let a=Math.max(Math.hypot(t[0],t[1]),1),l=Math.max(Math.hypot(t[2],t[3]),1),c=i,d=r,h="prescale1",f,m;for(;a>2&&c>1||l>2&&d>1;){let g=c,b=d;a>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/g),l>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/b),f=this.cachedCanvases.getCanvas(h,g,b),m=f.context,m.clearRect(0,0,g,b),m.drawImage(e,0,0,c,d,0,0,g,b),e=f.canvas,c=g,d=b,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:d}}_createMaskCanvas(e,t){const i=this.ctx,{width:r,height:a}=t,l=this.current.fillColor,c=this.current.patternFill,d=Yt(i);let h,f,m,g;if((t.bitmap||t.data)&&t.count>1){const L=t.bitmap||t.data.buffer;f=JSON.stringify(c?d:[d.slice(0,4),l]),h=this._cachedBitmapsMap.get(L),h||(h=new Map,this._cachedBitmapsMap.set(L,h));const H=h.get(f);if(H&&!c){const X=Math.round(Math.min(d[0],d[2])+d[4]),V=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(e,Ui.transformAndFill),{canvas:H,offsetX:X,offsetY:V}}m=H}m||(g=this.cachedCanvases.getCanvas("maskCanvas",r,a),MS(g.context,t));let b=Re.transform(d,[1/r,0,0,-1/a,0,0]);b=Re.transform(b,[1,0,0,1,0,-a]);const S=Ro.slice();Re.axialAlignedBoundingBox([0,0,r,a],b,S);const[x,E,A,T]=S,R=Math.round(A-x)||1,B=Math.round(T-E)||1,k=this.cachedCanvases.getCanvas("fillCanvas",R,B),N=k.context,M=x,P=E;N.translate(-M,-P),N.transform(...b),m||(m=this._scaleImage(g.canvas,yr(N)),m=m.img,h&&c&&h.set(f,m)),N.imageSmoothingEnabled=DS(Yt(N),t.interpolate),jd(N,m,0,0,m.width,m.height,0,0,r,a),N.globalCompositeOperation="source-in";const F=Re.transform(yr(N),[1,0,0,1,-M,-P]);return N.fillStyle=c?l.getPattern(i,this,F,Ln.FILL,e):l,N.fillRect(0,0,r,a),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,k.canvas)),this.dependencyTracker?.recordDependencies(e,Ui.transformAndFill),{canvas:k.canvas,offsetX:Math.round(M),offsetY:Math.round(P)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Bz[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Fz[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){this.dependencyTracker?.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[i,r]of t)switch(i){case"LW":this.setLineWidth(e,r);break;case"LC":this.setLineCap(e,r);break;case"LJ":this.setLineJoin(e,r);break;case"ML":this.setMiterLimit(e,r);break;case"D":this.setDash(e,r[0],r[1]);break;case"RI":this.setRenderingIntent(e,r);break;case"FL":this.setFlatness(e,r);break;case"Font":this.setFont(e,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),Ql(this.suspendedCtx,l),jz(l,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ql(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const a=r[0],l=r[1],c=r[2]-a,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(t.context,i,c,d,t.subtype,t.backdrop,t.transferMap,a,l,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,a,l,c,d,h,f,m){let g=e.canvas,b=d-f,S=h-m;if(l)if(b<0||S<0||b+i>g.width||S+r>g.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),A=E.context;A.drawImage(g,-b,-S),A.globalCompositeOperation="destination-atop",A.fillStyle=l,A.fillRect(0,0,i,r),A.globalCompositeOperation="source-over",g=E.canvas,b=S=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(b,S,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=l,e.fillRect(b,S,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(d,h,i,r),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(g,b,S,i,r,d,h,i,r),t.restore()}save(e){this.inSMaskMode&&Ql(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ql(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,a,l,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[a]=i;if(!r){a||=i[0]=new Path2D,this[t](e,a);return}if(this.dependencyTracker!==null){const l=t===Ho.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const l=i[0]=new Path2D;for(let c=0,d=a.length;c<d;)switch(a[c++]){case Rd.moveTo:l.moveTo(a[c++],a[c++]);break;case Rd.lineTo:l.lineTo(a[c++],a[c++]);break;case Rd.curveTo:l.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);break;case Rd.closePath:l.closePath();break;default:Qe(`Unrecognized drawing path operator: ${a[c-1]}`);break}a=l}Re.axialAlignedBoundingBox(r,Yt(this.ctx),this.current.minMax),this[t](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){const r=this.ctx,a=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=a.getPattern(r,this,yr(r),Ln.STROKE,e),l){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,Ui.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ln.STROKE,Yt(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){const r=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const h=a.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(e),r.save(),r.fillStyle=a.getPattern(r,this,yr(r),Ln.FILL,e),h){const f=new Path2D;f.addPath(t,r.getTransform().invertSelf().multiplySelf(h)),t=f}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),this.dependencyTracker?.recordDependencies(e,Ui.fill),c&&(r.restore(),this.dependencyTracker?.restore(e)),i&&this.consumePath(e,t,d)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,Ui.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Iz}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=LS}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,a=i.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:h,path:f}of t)f&&r.addPath(f,new DOMMatrix(l).preMultiplySelf(a).translate(c,d).scale(h,-h));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),a=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=r.fontMatrix||Zg,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Qe("Invalid font matrix for font "+t),i<0?(i=-i,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const h=r.italic?"italic":"normal";let f=i;i<TS?f=TS:i>kS&&(f=kS),this.current.fontSizeScale=i/f,this.ctx.font=`${h} ${d} ${f}px ${c}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r}paintChar(e,t,i,r,a,l){const c=this.ctx,d=this.current,h=d.font,f=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,g=f&Mn.FILL_STROKE_MASK,b=!!(f&Mn.ADD_TO_PATH_FLAG),S=d.patternFill&&!h.missingFile,x=d.patternStroke&&!h.missingFile;let E;if((h.disableFontFace||b||S||x)&&!h.missingFile&&(E=h.getPathGenerator(this.commonObjs,t)),E&&(h.disableFontFace||S||x)){c.save(),c.translate(i,r),c.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(e,c,h);let A;if(g===Mn.FILL||g===Mn.FILL_STROKE)if(a){A=c.getTransform(),c.setTransform(...a);const T=this.#i(E,A,a);c.fill(T)}else c.fill(E);if(g===Mn.STROKE||g===Mn.FILL_STROKE)if(l){A||=c.getTransform(),c.setTransform(...l);const{a:T,b:R,c:B,d:k}=A,N=Re.inverseTransform(l),M=Re.transform([T,R,B,k,0,0],N);Re.singularValueDecompose2dScale(M,wi),c.lineWidth*=Math.max(wi[0],wi[1])/m,c.stroke(this.#i(E,A,l))}else c.lineWidth/=m,c.stroke(E);c.restore()}else(g===Mn.FILL||g===Mn.FILL_STROKE)&&(c.fillText(t,i,r),this.dependencyTracker?.recordCharacterBBox(e,c,h,m,i,r,()=>c.measureText(t))),(g===Mn.STROKE||g===Mn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,h,m,i,r,()=>c.measureText(t)).recordDependencies(e,Ui.stroke),c.strokeText(t,i,r));b&&((this.pendingTextPaths||=[]).push({transform:Yt(c),x:i,y:r,fontSize:m,path:E}),this.dependencyTracker?.recordCharacterBBox(e,c,h,m,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return it(this,"isFontSubpixelAAEnabled",i)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ui.showText).resetBBox(e),this.current.textRenderingMode&Mn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const a=i.fontSize;if(a===0){this.dependencyTracker?.recordOperation(e);return}const l=this.ctx,c=i.fontSizeScale,d=i.charSpacing,h=i.wordSpacing,f=i.fontDirection,m=i.textHScale*f,g=t.length,b=r.vertical,S=b?1:-1,x=r.defaultVMetrics,E=a*i.fontMatrix[0],A=i.textRenderingMode===Mn.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),f>0?l.scale(m,-1):l.scale(m,1);let T,R;if(i.patternFill){l.save();const P=i.fillColor.getPattern(l,this,yr(l),Ln.FILL,e);T=Yt(l),l.restore(),l.fillStyle=P}if(i.patternStroke){l.save();const P=i.strokeColor.getPattern(l,this,yr(l),Ln.STROKE,e);R=Yt(l),l.restore(),l.strokeStyle=P}let B=i.lineWidth;const k=i.textMatrixScale;if(k===0||B===0){const P=i.textRenderingMode&Mn.FILL_STROKE_MASK;(P===Mn.STROKE||P===Mn.FILL_STROKE)&&(B=this.getSinglePixelWidth())}else B/=k;if(c!==1&&(l.scale(c,c),B/=c),l.lineWidth=B,r.isInvalidPDFjsFont){const P=[];let F=0;for(const H of t)P.push(H.unicode),F+=H.width;const L=P.join("");if(l.fillText(L,0,0),this.dependencyTracker!==null){const H=l.measureText(L);this.dependencyTracker.recordBBox(e,this.ctx,-H.actualBoundingBoxLeft,H.actualBoundingBoxRight,-H.actualBoundingBoxAscent,H.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=F*E*m,l.restore(),this.compose();return}let N=0,M;for(M=0;M<g;++M){const P=t[M];if(typeof P=="number"){N+=S*P*a/1e3;continue}let F=!1;const L=(P.isSpace?h:0)+d,H=P.fontChar,X=P.accent;let V,Y,I=P.width;if(b){const ne=P.vmetric||x,G=-(P.vmetric?ne[1]:I*.5)*E,w=ne[2]*E;I=ne?-ne[0]:I,V=G/c,Y=(N+w)/c}else V=N/c,Y=0;let U;if(r.remeasure&&I>0){U=l.measureText(H);const ne=U.width*1e3/a*c;if(I<ne&&this.isFontSubpixelAAEnabled){const G=I/ne;F=!0,l.save(),l.scale(G,1),V/=G}else I!==ne&&(V+=(I-ne)/2e3*a/c)}if(this.contentVisible&&(P.isInFont||r.missingFile)){if(A&&!X)l.fillText(H,V,Y),this.dependencyTracker?.recordCharacterBBox(e,l,U?{bbox:null}:r,a/c,V,Y,()=>U??l.measureText(H));else if(this.paintChar(e,H,V,Y,T,R),X){const ne=V+a*X.offset.x/c,G=Y-a*X.offset.y/c;this.paintChar(e,X.fontChar,ne,G,T,R)}}const C=b?I*E-L*f:I*E+L*f;N+=C,F&&l.restore()}b?i.y-=N:i.x+=N*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,a=r.font,l=r.fontSize,c=r.fontDirection,d=a.vertical?1:-1,h=r.charSpacing,f=r.wordSpacing,m=r.textHScale*c,g=r.fontMatrix||Zg,b=t.length,S=r.textRenderingMode===Mn.INVISIBLE;let x,E,A,T;if(S||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(m,c);const R=this.dependencyTracker;for(this.dependencyTracker=R?new wh(R,e):null,x=0;x<b;++x){if(E=t[x],typeof E=="number"){T=d*E*l/1e3,this.ctx.translate(T,0),r.x+=T*m;continue}const B=(E.isSpace?f:0)+h,k=a.charProcOperatorList[E.operatorListId];k?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...g),this.executeOperatorList(k),this.restore()):Qe(`Type3 character "${E.operatorListId}" is not available.`);const N=[E.width,0];Re.applyTransform(N,g),A=N[0]*l+B,i.translate(A,0),r.x+=A*m}i.restore(),R&&(this.dependencyTracker=R)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,a,l,c){const d=new Path2D;d.rect(r,a,l-r,c-a),this.ctx.clip(d),this.dependencyTracker?.recordBBox(e,this.ctx,r,l,a,c).recordClipBox(e,this.ctx,r,l,a,c),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||Yt(this.ctx),a={createCanvasGraphics:(l,c)=>new Oo(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new wh(this.dependencyTracker,c,!0):null)};i=new lb(t,this.ctx,a,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=Mz(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,yr(i),Ln.SHADING,e);const a=yr(i);if(a){const{width:l,height:c}=i.canvas,d=Ro.slice();Re.axialAlignedBoundingBox([0,0,l,c],a,d);const[h,f,m,g]=d;this.ctx.fillRect(h,f,m-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ui.transform).recordDependencies(e,Ui.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ot("Should not call beginInlineImage")}beginImageData(){Ot("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Yt(this.ctx),i)){Re.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,a,l,c]=i,d=new Path2D;d.rect(r,a,l-r,c-a),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(e,this.ctx,r,l,a,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||Wh("TODO: Support non-isolated groups."),t.knockout&&Qe("Knockout groups not supported.");const r=Yt(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Ro.slice();Re.axialAlignedBoundingBox(t.bbox,Yt(i),a);const l=[0,0,i.canvas.width,i.canvas.height];a=Re.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),d=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-c,1),f=Math.max(Math.ceil(a[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,f]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(m,h,f),b=g.context;b.translate(-c,-d),b.transform(...r);let S=new Path2D;const[x,E,A,T]=t.bbox;if(S.rect(x,E,A-x,T-E),t.matrix){const R=new Path2D;R.addPath(S,new DOMMatrix(t.matrix)),S=R}b.clip(S),t.smask&&this.smaskStack.push({canvas:g.canvas,context:b,offsetX:c,offsetY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,d),i.save()),Ql(i,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Yt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const l=Ro.slice();Re.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,i,r,a,l){if(this.#e(),Pd(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=d,Re.singularValueDecompose2dScale(Yt(this.ctx),wi);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),m=Math.ceil(d*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,m);const{canvas:g,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(wi[0],0,0,-wi[1],0,d*wi[1]),Pd(this.ctx)}else{Pd(this.ctx),this.endPath(e);const h=new Path2D;h.rect(i[0],i[1],c,d),this.ctx.clip(h)}}this.current=new NS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,a=this._createMaskCanvas(e,t),l=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+l.width,a.offsetY,a.offsetY+l.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,a=0,l,c){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const d=this.ctx;d.save();const h=Yt(d);d.transform(i,r,a,l,0,0);const f=this._createMaskCanvas(e,t);d.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),this.dependencyTracker?.resetBBox(e);for(let m=0,g=c.length;m<g;m+=2){const b=Re.transform(h,[i,r,a,l,c[m],c[m+1]]);d.drawImage(f.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(e,this.ctx,b[4],b[4]+f.canvas.width,b[5],b[5]+f.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Ui.transformAndFill);for(const l of t){const{data:c,width:d,height:h,transform:f}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,h),g=m.context;g.save();const b=this.getObject(e,c,l);MS(g,b),g.globalCompositeOperation="source-in",g.fillStyle=a?r.getPattern(g,this,yr(i),Ln.FILL,e):r,g.fillRect(0,0,d,h),g.restore(),i.save(),i.transform(...f),i.scale(1,-1),jd(i,m.canvas,0,0,d,h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,d,0,h),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){Qe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,a){if(!this.contentVisible)return;const l=this.getObject(e,t);if(!l){Qe("Dependent image isn't ready yet");return}const c=l.width,d=l.height,h=[];for(let f=0,m=a.length;f<m;f+=2)h.push({transform:[i,0,0,r,a[f],a[f+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(e,l,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,a=this.cachedCanvases.getCanvas("inlineImage",i,r),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(t,0,0),l.filter="none",a.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const i=t.width,r=t.height,a=this.ctx;this.save(e);const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/i,-1/r);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,r).context;OS(f,t),c=this.applyTransferMapsToCanvas(f)}const d=this._scaleImage(c,yr(a));a.imageSmoothingEnabled=DS(Yt(a),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,a,0,i,-r,0).recordDependencies(e,Ui.imageXObject).recordOperation(e),jd(a,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){if(!this.contentVisible)return;const r=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const l=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",l,c).context;OS(h,t),a=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(e);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),jd(r,a,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ui.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const a=this.ctx;this.pendingClip?(r||(this.pendingClip===LS?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Yt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:a}=this.ctx.getTransform();let l,c;if(i===0&&r===0){const d=Math.abs(t),h=Math.abs(a);if(d===h)if(e===0)l=c=1/d;else{const f=d*e;l=c=f<1?1/f:1}else if(e===0)l=1/d,c=1/h;else{const f=d*e,m=h*e;l=f<1?1/f:1,c=m<1?1/m:1}}else{const d=Math.abs(t*a-i*r),h=Math.hypot(t,i),f=Math.hypot(r,a);if(e===0)l=f/d,c=h/d;else{const m=e*d;l=f>m?f/m:1,c=h>m?h/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[a,l]=this.getScaleForStroking();if(a===l){i.lineWidth=(r||1)*a,i.stroke(e);return}const c=i.getLineDash();t&&i.save(),i.scale(a,l),Ym.a=1/a,Ym.d=1/l;const d=new Path2D;if(d.addPath(e,Ym),c.length>0){const h=Math.max(a,l);i.setLineDash(c.map(f=>f/h)),i.lineDashOffset/=h}i.lineWidth=r||1,i.stroke(d),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Ho)Oo.prototype[n]!==void 0&&(Oo.prototype[Ho[n]]=Oo.prototype[n]);class Mo{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,i={};let r=0;for(const h of Mo.strings){const f=t.encode(e[h]);i[h]=f,r+=4+f.length}const a=new ArrayBuffer(r),l=new Uint8Array(a),c=new DataView(a);let d=0;for(const h of Mo.strings){const f=i[h],m=f.length;c.setUint32(d,m),l.set(f,d+4),d+=4+m}return ht(d===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){ht(e<Mo.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Do{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Do.strings){const b=t.encode(e[g]);i[g]=b,r+=4+b.length}r+=4;let a,l,c=1+r;e.style&&(a=t.encode(e.style.style),l=t.encode(e.style.weight),c+=4+a.length+4+l.length);const d=new ArrayBuffer(c),h=new Uint8Array(d),f=new DataView(d);let m=0;f.setUint8(m++,e.guessFallback?1:0),f.setUint32(m,0),m+=4,r=0;for(const g of Do.strings){const b=i[g],S=b.length;r+=4+S,f.setUint32(m,S),h.set(b,m+4),m+=4+S}return f.setUint32(m-r-4,r),e.style&&(f.setUint32(m,a.length),h.set(a,m+4),m+=4+a.length,f.setUint32(m,l.length),h.set(l,m+4),m+=4+l.length),ht(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){ht(e<Do.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),i=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const r=this.#t.getUint32(e),a=this.#i.decode(new Uint8Array(this.#e,e+4,r));return{style:i,weight:a}}}class Tt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#r;#s;#o;constructor({data:e,extra:t}){this.#r=e,this.#s=new TextDecoder,this.#o=new DataView(this.#r),t&&Object.assign(this,t)}#c(e){ht(e<Tt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=this.#o.getUint8(t)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return ht(e<Tt.numbers.length,"Invalid number index"),this.#o.getFloat64(Tt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Tt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=Tt.#i;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=Tt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}#h(e){ht(e<Tt.strings.length,"Invalid string index");let t=Tt.#a+4;for(let a=0;a<e;a++)t+=this.#o.getUint32(t)+4;const i=this.#o.getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(this.#r,t+4,i)),this.#s.decode(r)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=Tt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const a=this.#o.getUint32(e);if(a!==0)return new Uint8Array(this.#r,e+4,a)}clearData(){let e=Tt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const a=this.#o.getUint32(e);new Uint8Array(this.#r,e+4,a).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Tt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);if(r===0)return null;const a=new Uint8Array(r);return a.set(new Uint8Array(this.#r,e+4,r)),new Mo(a.buffer)}get systemFontInfo(){let e=Tt.#a;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#r,e+4,i)),new Do(r.buffer)}static write(e){const t=e.systemFontInfo?Do.write(e.systemFontInfo):null,i=e.cssFontInfo?Mo.write(e.cssFontInfo):null,r=new TextEncoder,a={};let l=0;for(const x of Tt.strings)a[x]=r.encode(e[x]),l+=4+a[x].length;const c=Tt.#a+4+l+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),d=new ArrayBuffer(c),h=new Uint8Array(d),f=new DataView(d);let m=0;const g=Tt.bools.length;let b=0,S=0;for(let x=0;x<g;x++){const E=e[Tt.bools[x]];b|=(E===void 0?0:E?2:1)<<S,S+=2,(S===8||x===g-1)&&(f.setUint8(m++,b),b=0,S=0)}ht(m===Tt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const x of Tt.numbers)f.setFloat64(m,e[x]),m+=8;if(ht(m===Tt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(m++,4);for(const x of e.bbox)f.setInt16(m,x,!0),m+=2}else f.setUint8(m++,0),m+=8;if(ht(m===Tt.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(m++,6);for(const x of e.fontMatrix)f.setFloat64(m,x,!0),m+=8}else f.setUint8(m++,0),m+=48;if(ht(m===Tt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(m++,1);for(const x of e.defaultVMetrics)f.setInt16(m,x,!0),m+=2}else f.setUint8(m++,0),m+=6;ht(m===Tt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(Tt.#a,0),m+=4;for(const x of Tt.strings){const E=a[x],A=E.length;f.setUint32(m,A),h.set(E,m+4),m+=4+A}if(f.setUint32(Tt.#a,m-Tt.#a-4),!t)f.setUint32(m,0),m+=4;else{const x=t.byteLength;f.setUint32(m,x),ht(m+4+x<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(t),m+4),m+=4+x}if(!i)f.setUint32(m,0),m+=4;else{const x=i.byteLength;f.setUint32(m,x),ht(m+4+x<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(i),m+4),m+=4+x}return e.data===void 0?(f.setUint32(m,0),m+=4):(f.setUint32(m,e.data.length),h.set(e.data,m+4),m+=4+e.data.length),ht(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class Fs{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class zz{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Co=Symbol("INTERNAL");class Uz{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:i,usage:r,rbGroups:a}){this.#e=!!(e&xi.DISPLAY),this.#t=!!(e&xi.PRINT),this.name=t,this.intent=i,this.usage=r,this.rbGroups=a}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==Co&&Ot("Internal method `_setVisible` called."),this.#i=i,this.#n=t}}class Hz{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=xi.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const i of e.groups)this.#t.set(i.id,new Uz(t,i));if(e.baseState==="OFF")for(const i of this.#t.values())i._setVisible(Co,!1);for(const i of e.on)this.#t.get(i)._setVisible(Co,!0);for(const i of e.off)this.#t.get(i)._setVisible(Co,!1);this.#i=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const a=e[r];let l;if(Array.isArray(a))l=this.#a(a);else if(this.#t.has(a))l=this.#t.get(a).visible;else return Qe(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Wh("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Qe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Qe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Qe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Qe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Qe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Qe(`Unknown optional content policy ${e.policy}.`),!0}return Qe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){const r=this.#t.get(e);if(!r){Qe(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const l of a)l!==e&&this.#t.get(l)?._setVisible(Co,!1,!0);r._setVisible(Co,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const a=this.#t.get(r);if(a)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!a.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new YE;for(const[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class $z{constructor(e,{disableRange:t=!1,disableStream:i=!1}){ht(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:l,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,a?.length>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((d,h)=>{this._onReceiveData({begin:d,chunk:h})}),e.addProgressListener((d,h)=>{this._onProgress({loaded:d,total:h})}),e.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(i),!0)});ht(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ht(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new qz(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Vz(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class qz{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=Zh(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Vz{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Gz(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let f=c(t);return f=unescape(f),f=d(f),f=h(f),a(f)}if(t=l(n),t){const f=h(t);return a(f)}if(t=i("filename","i").exec(n),t){t=t[1];let f=c(t);return f=h(f),a(f)}function i(f,m){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(f,m){if(f){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const g=new TextDecoder(f,{fatal:!0}),b=Yc(m);m=g.decode(b),e=!1}catch{}}return m}function a(f){return e&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),e&&(f=r("iso-8859-1",f))),f}function l(f){const m=[];let g;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=b.exec(f))!==null;){let[,x,E,A]=g;if(x=parseInt(x,10),x in m){if(x===0)break;continue}m[x]=[E,A]}const S=[];for(let x=0;x<m.length&&x in m;++x){let[E,A]=m[x];A=c(A),E&&(A=unescape(A),x===0&&(A=d(A))),S.push(A)}return S.join("")}function c(f){if(f.startsWith('"')){const m=f.slice(1).split('\\"');for(let g=0;g<m.length;++g){const b=m[g].indexOf('"');b!==-1&&(m[g]=m[g].slice(0,b),m.length=g+1),m[g]=m[g].replaceAll(/\\(.)/g,"$1")}f=m.join('"')}return f}function d(f){const m=f.indexOf("'");if(m===-1)return f;const g=f.slice(0,m),S=f.slice(m+1).replace(/^[^']*'/,"");return r(g,S)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,g,b,S){if(b==="q"||b==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,E){return String.fromCharCode(parseInt(E,16))}),r(g,S);try{S=atob(S)}catch{}return r(g,S)})}return""}function nC(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function Qh(n){return URL.parse(n)?.origin??null}function iC({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function rC(n){const e=n.get("Content-Disposition");if(e){let t=Gz(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Zh(t))return t}return null}function Jc(n,e){return new Rc(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function sC(n){return n===200||n===206}function aC(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function oC(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Qe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Xz{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=nC(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ht(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Yz(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Wz(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Yz{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,aC(i,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=Qh(a.url),!sC(a.status))throw Jc(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:d}=iC({responseHeaders:l,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=rC(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ss("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:oC(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Wz{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${t}-${i-1}`);const l=r.url;fetch(l,aC(a,this._withCredentials,this._abortController)).then(c=>{const d=Qh(c.url);if(d!==e._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${e._responseOrigin}".`);if(!sC(c.status))throw Jc(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:oC(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Wm=200,Km=206;function Kz(n){const e=n.response;return typeof e!="string"?e:Yc(e).buffer}class Zz{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=nC(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,l]of this.headers)t.setRequestHeader(a,l);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Km):r.expectedStatus=Wm,t.responseType="arraybuffer",ht(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){const i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const a=r.status||Wm;if(!(a===Wm&&i.expectedStatus===Km)&&a!==i.expectedStatus){i.onError(r.status);return}const c=Kz(r);if(a===Km){const d=r.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);h?i.onDone({begin:parseInt(h[1],10),chunk:c}):(Qe('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Qz{constructor(e){this._source=e,this._manager=new Zz(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ht(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Jz(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new e6(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Jz{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Qh(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...h]=c.split(": ");return[d,h.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=iC({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=rC(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Jc(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class e6{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Qh(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Jc(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const t6=/^[a-z][a-z0-9\-+.]+:/i;function n6(n){if(t6.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class i6{constructor(e){this.source=e,this.url=n6(e.url),ht(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ht(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new r6(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new s6(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class r6{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Jc(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ss("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class s6{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Jl=Symbol("INITIAL_DATA");class lC{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Jl}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const i=this.#e[e];if(!i||i.data===Jl)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=this.#e[e];return!!t&&t.data!==Jl}delete(e){const t=this.#e[e];return!t||t.data===Jl?!1:(delete this.#e[e],!0)}resolve(e,t=null){const i=this.#t(e);i.data=t,i.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Jl&&(yield[e,t])}}}const a6=1e5,jS=30;let Oc=class Hi{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#r=null;#s=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#E=new WeakMap;static#w=null;static#_=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(d){d.enqueue(e),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=i.scale*ir.pixelRatio,this.#h=i.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:a,pageX:l,pageY:c}=i.rawDims;this.#y=[1,0,0,-1,-l,c+a],this.#o=r,this.#s=a,Hi.#R(),zs(t,i),this.#e.promise.finally(()=>{Hi.#_.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Cn.platform;return it(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#T(t.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),Hi.#_.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const i=e.scale*ir.pixelRatio,r=e.rotation;if(r!==this.#h&&(t?.(),this.#h=r,zs(this.#l,{rotation:r})),i!==this.#d){t?.(),this.#d=i;const a={div:null,properties:null,ctx:Hi.#N(this.#a)};for(const l of this.#u)a.properties=this.#m.get(l),a.div=l,this.#A(a)}}cancel(){const e=new ss("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(e){if(this.#i)return;this.#r.ctx??=Hi.#N(this.#a);const t=this.#u,i=this.#g;for(const r of e){if(t.length>a6){Qe("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id&&this.#t.setAttribute("id",`${r.id}`),a.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#S(r)}}#S(e){const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const r=Re.transform(this.#y,e.transform);let a=Math.atan2(r[1],r[0]);const l=this.#f[e.fontName];l.vertical&&(a+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=Hi.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),h=d*Hi.#B(c,l,this.#a);let f,m;a===0?(f=r[4],m=r[5]-h):(f=r[4]+h*Math.sin(a),m=r[5]-h*Math.cos(a));const g="calc(var(--total-scale-factor) *",b=t.style;this.#t===this.#l?(b.left=`${(100*f/this.#o).toFixed(2)}%`,b.top=`${(100*m/this.#s).toFixed(2)}%`):(b.left=`${g}${f.toFixed(2)}px)`,b.top=`${g}${m.toFixed(2)}px)`),b.fontSize=`${g}${(Hi.#w*d).toFixed(2)}px)`,b.fontFamily=c,i.fontSize=d,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=l.fontSubstitutionLoadedName||e.fontName),a!==0&&(i.angle=a*(180/Math.PI));let S=!1;if(e.str.length>1)S=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),E=Math.abs(e.transform[3]);x!==E&&Math.max(x,E)/Math.min(x,E)>1.5&&(S=!0)}if(S&&(i.canvasWidth=l.vertical?e.height:e.width),this.#m.set(t,i),this.#r.div=t,this.#r.properties=i,this.#A(this.#r),i.hasText&&this.#t.append(t),i.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#t.append(x)}}#A(e){const{div:t,properties:i,ctx:r}=e,{style:a}=t;let l="";if(Hi.#w>1&&(l=`scale(${1/Hi.#w})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=a,{canvasWidth:d,fontSize:h}=i;Hi.#k(r,h*this.#d,c);const{width:f}=r.measureText(t.textContent);f>0&&(l=`scaleX(${d*this.#d/f}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#v.clear();for(const{canvas:e}of this.#b.values())e.remove();this.#b.clear()}}static#N(e=null){let t=this.#b.get(e||="");if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(e,t),this.#E.set(t,{size:0,family:""})}return t}static#k(e,t,i){const r=this.#E.get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)}static#R(){if(this.#w!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#w=e.getBoundingClientRect().height,e.remove()}static#B(e,t,i){const r=this.#v.get(e);if(r)return r;const a=this.#N(i);a.canvas.width=a.canvas.height=jS,this.#k(a,jS,e);const l=a.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let h=.8;return c?h=c/(c+d):(Cn.platform.isFirefox&&Qe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#v.set(e,h),h}};const o6=100;function cb(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new ub,{docId:t}=e,i=n.url?mz(n.url):null,r=n.data?gz(n.data):null,a=n.httpHeaders||null,l=n.withCredentials===!0,c=n.password??null,d=n.range instanceof db?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof $o?n.worker:null;const m=n.verbosity,g=typeof n.docBaseUrl=="string"&&!Kc(n.docBaseUrl)?n.docBaseUrl:null,b=Od(n.cMapUrl),S=n.cMapPacked!==!1,x=n.CMapReaderFactory||(qn?wz:xS),E=Od(n.iccUrl),A=Od(n.standardFontDataUrl),T=n.StandardFontDataFactory||(qn?Az:SS),R=Od(n.wasmUrl),B=n.WasmFactory||(qn?Ez:wS),k=n.stopAtErrors!==!0,N=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,M=n.isEvalSupported!==!1,P=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!qn,F=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!qn&&(Cn.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,H=typeof n.disableFontFace=="boolean"?n.disableFontFace:qn,X=n.fontExtraProperties===!0,V=n.enableXfa===!0,Y=n.ownerDocument||globalThis.document,I=n.disableRange===!0,U=n.disableStream===!0,C=n.disableAutoFetch===!0,ne=n.pdfBug===!0,G=n.CanvasFactory||(qn?Sz:vz),w=n.FilterFactory||(qn?xz:_z),D=n.enableHWA===!0,q=n.useWasm!==!1,j=d?d.length:n.length??NaN,K=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!qn&&!H,ee=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(x===xS&&T===SS&&B===wS&&b&&A&&R&&dc(b,document.baseURI)&&dc(A,document.baseURI)&&dc(R,document.baseURI)),re=null;KI(m);const se={canvasFactory:new G({ownerDocument:Y,enableHWA:D}),filterFactory:new w({docId:t,ownerDocument:Y}),cMapReaderFactory:ee?null:new x({baseUrl:b,isCompressed:S}),standardFontDataFactory:ee?null:new T({baseUrl:A}),wasmFactory:ee?null:new B({baseUrl:R})};f||(f=$o.create({verbosity:m,port:Fs.workerPort}),e._worker=f);const Se={docId:t,apiVersion:"5.4.296",data:r,password:c,disableAutoFetch:C,rangeChunkSize:h,length:j,docBaseUrl:g,enableXfa:V,evaluatorOptions:{maxImageSize:N,disableFontFace:H,ignoreErrors:k,isEvalSupported:M,isOffscreenCanvasSupported:P,isImageDecoderSupported:F,canvasMaxAreaInBytes:L,fontExtraProperties:X,useSystemFonts:K,useWasm:q,useWorkerFetch:ee,cMapUrl:b,iccUrl:E,standardFontDataUrl:A,wasmUrl:R}},ve={ownerDocument:Y,pdfBug:ne,styleElement:re,loadingParams:{disableAutoFetch:C,enableXfa:V}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const we=f.messageHandler.sendWithPromise("GetDocRequest",Se,r?[r.buffer]:null);let Ie;if(d)Ie=new $z(d,{disableRange:I,disableStream:U});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const qe=dc(i)?Xz:qn?i6:Qz;Ie=new qe({url:i,length:j,httpHeaders:a,withCredentials:l,rangeChunkSize:h,disableRange:I,disableStream:U})}return we.then(qe=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ce=new hc(t,qe,f.port),Ee=new u6(Ce,e,Ie,ve,se,D);e._transport=Ee,Ce.send("Ready",null)})}).catch(e._capability.reject),e}class ub{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ub.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let db=class{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#a=[];constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const i of this.#a)i(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const i of this.#n)i(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){Ot("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class l6{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return it(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class c6{#e=!1;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new pS:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new lC,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}={}){return new Wc({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return it(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:a=Tr.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:m=null,isEditing:g=!1,recordOperations:b=!1,operationsFilter:S=null}){this._stats?.time("Overall");const x=this._transport.getRenderingIntent(r,a,m,g),{renderingIntent:E,cacheKey:A}=x;this.#e=!1,d||=this._transport.getOptionalContentConfig(E);let T=this._intentStates.get(A);T||(T=Object.create(null),this._intentStates.set(A,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const R=!!(E&xi.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(x));const B=!!(this._pdfBug&&globalThis.StepperManager?.enabled),k=!this.recordedBBoxes&&(b||B),N=F=>{if(T.renderTasks.delete(M),k){const L=M.gfx?.dependencyTracker.take();L&&(M.stepper&&M.stepper.setOperatorBBoxes(L,M.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=L))}R&&(this.#e=!0),this.#t(),F?(M.capability.reject(F),this._abortOperatorList({intentState:T,reason:F instanceof Error?F:new Error(F)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new No({callback:N,params:{canvas:t,canvasContext:e,dependencyTracker:k?new Tz(t,T.operatorList.length,B):null,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:S});(T.renderTasks||=new Set).add(M);const P=M.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([F,L])=>{if(this.destroyed){N();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:F,optionalContentConfig:L}),M.operatorListChanged()}).catch(N),P}getOperatorList({intent:e="display",annotationMode:t=Tr.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(e,t,i,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Nc.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function a(){l.read().then(function({value:d,done:h}){if(h){i(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),a()},r)}const l=t.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new pS),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:a,transfer:l}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:a,modifiedIds:r},l).getReader(),h=this._intentStates.get(t);h.streamReader=d;const f=()=>{d.read().then(({value:m,done:g})=>{if(g){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,h),f())},m=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(m);else if(h.opListReadCapability)h.opListReadCapability.reject(m);else throw m}})};f()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof Kh){let r=o6;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new ss(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var js,Wi,Qr,va,kh,_a,xa,Xn,eh,cC,uC,fc,Fo,th;const qt=class qt{constructor({name:e=null,port:t=null,verbosity:i=ZI()}={}){fr(this,Xn);fr(this,js,Promise.withResolvers());fr(this,Wi,null);fr(this,Qr,null);fr(this,va,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(Ut(qt,xa).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Ut(qt,xa).set(t,this),pr(this,Xn,cC).call(this,t)}else pr(this,Xn,uC).call(this)}get promise(){return Ut(this,js).promise}get port(){return Ut(this,Qr)}get messageHandler(){return Ut(this,Wi)}destroy(){this.destroyed=!0,Ut(this,va)?.terminate(),ii(this,va,null),Ut(qt,xa).delete(Ut(this,Qr)),ii(this,Qr,null),Ut(this,Wi)?.destroy(),ii(this,Wi,null)}static create(e){const t=Ut(this,xa).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new qt(e)}static get workerSrc(){if(Fs.workerSrc)return Fs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return it(this,"_setupFakeWorkerGlobal",(async()=>Ut(this,Fo,th)?Ut(this,Fo,th):(await import(this.workerSrc)).WorkerMessageHandler)())}};js=new WeakMap,Wi=new WeakMap,Qr=new WeakMap,va=new WeakMap,kh=new WeakMap,_a=new WeakMap,xa=new WeakMap,Xn=new WeakSet,eh=function(){Ut(this,js).resolve(),Ut(this,Wi).send("configure",{verbosity:this.verbosity})},cC=function(e){ii(this,Qr,e),ii(this,Wi,new hc("main","worker",e)),Ut(this,Wi).on("ready",()=>{}),pr(this,Xn,eh).call(this)},uC=function(){if(Ut(qt,_a)||Ut(qt,Fo,th)){pr(this,Xn,fc).call(this);return}let{workerSrc:e}=qt;try{qt._isSameOrigin(window.location,e)||(e=qt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new hc("main","worker",t),r=()=>{a.abort(),i.destroy(),t.terminate(),this.destroyed?Ut(this,js).reject(new Error("Worker was destroyed")):pr(this,Xn,fc).call(this)},a=new AbortController;t.addEventListener("error",()=>{Ut(this,va)||r()},{signal:a.signal}),i.on("test",c=>{if(a.abort(),this.destroyed||!c){r();return}ii(this,Wi,i),ii(this,Qr,t),ii(this,va,t),pr(this,Xn,eh).call(this)}),i.on("ready",c=>{if(a.abort(),this.destroyed){r();return}try{l()}catch{pr(this,Xn,fc).call(this)}});const l=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};l();return}catch{Wh("The worker has been disabled.")}pr(this,Xn,fc).call(this)},fc=function(){Ut(qt,_a)||(Qe("Setting up fake worker."),ii(qt,_a,!0)),qt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Ut(this,js).reject(new Error("Worker was destroyed"));return}const t=new bz;ii(this,Qr,t);const i=`fake${N_(qt,kh)._++}`,r=new hc(i+"_worker",i,t);e.setup(r,t),ii(this,Wi,new hc(i,i+"_worker",t)),pr(this,Xn,eh).call(this)}).catch(e=>{Ut(this,js).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Fo=new WeakSet,th=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},fr(qt,Fo),fr(qt,kh,0),fr(qt,_a,!1),fr(qt,xa,new WeakMap),qn&&(ii(qt,_a,!0),Fs.workerSrc||="./pdf.worker.mjs"),qt._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!i?.origin||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},qt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},qt.fromPort=e=>{if(az("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return qt.create(e)};let $o=qt;class u6{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#a=null;constructor(e,t,i,r,a,l){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new lC,this.fontLoader=new fz({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#r(e,t=null){const i=this.#e.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return it(this,"annotationStorage",new sb)}getRenderingIntent(e,t=Tr.ENABLE,i=null,r=!1,a=!1){let l=xi.DISPLAY,c=Jg;switch(e){case"any":l=xi.ANY;break;case"display":break;case"print":l=xi.PRINT;break;default:Qe(`getRenderingIntent - invalid intent: ${e}`)}const d=l&xi.PRINT&&i instanceof WE?i:this.annotationStorage;switch(t){case Tr.DISABLE:l+=xi.ANNOTATIONS_DISABLE;break;case Tr.ENABLE:break;case Tr.ENABLE_FORMS:l+=xi.ANNOTATIONS_FORMS;break;case Tr.ENABLE_STORAGE:l+=xi.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Qe(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(l+=xi.IS_EDITING),a&&(l+=xi.OPLIST);const{ids:h,hash:f}=d.modifiedIds,m=[l,c.hash,f];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Oc.cleanup(),this._networkStream?.cancelAllRequests(new ss("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{ht(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},r.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){r.close();return}ht(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this._fullReader.cancel(a),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:l}=this._fullReader;return(!r||!a)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{t.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:l}}),e.on("GetRangeReader",(i,r)=>{ht(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){r.close();return}ht(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{a.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new l6(i,this))}),e.on("DocException",i=>{t._capability.reject(ai(i))}),e.on("PasswordRequest",i=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw ai(i);const r=a=>{a instanceof Error?this.#a.reject(a):this.#a.resolve({password:a})};t.onPassword(r,i.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,a])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in a){const f=a.error;Qe(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const l=new Tt(a),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,m)=>globalThis.FontInspector.fontAdded(f,m):null,d=new pz(l,c,a.extra,a.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:h}=a;ht(h,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,m]of f.objs)if(m?.ref===h)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,a,l])=>{if(this.destroyed)return;const c=this.#t.get(r);if(!c.objs.has(i)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Qe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=this.#i.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,e);const l=new c6(t,a,this,this._params.pdfBug);return this.#t.set(t,l),l});return this.#i.set(t,r),r}getPageIndex(e){return ey(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(t=>new Hz(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new zz(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Oc.cleanup()}}cachedPageNumber(e){if(!ey(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class d6{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class No{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:m=!1,pageColors:g=null,enableHWA:b=!1,operationsFilter:S=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=h,this._pdfBug=m,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new d6(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=b,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(No.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");No.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:a,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Oo(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),No.#t.delete(this._canvas),e||=new Kh(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),No.#t.delete(this._canvas),this.callback())))}}const hb="5.4.296",dC="f56dc8601";class Si{#e=null;#t=null;#i;#n=null;#a=!1;#r=!1;#s=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return it(this,"_keyboardManager",new Zc([[["Escape","mac+Escape"],Si.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Si.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Si.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Si.prototype._moveToPrevious],[["Home","mac+Home"],Si.prototype._moveToBeginning],[["End","mac+End"],Si.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#r=!1,this.#s=e):this.#r=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#i=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Si.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#s&&(e.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const i=this.#t=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,e.append(i),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Ti,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(e.id=`${this.#s.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=i,a.setAttribute("data-l10n-id",Si.#h[i]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=r,a.ariaSelected=r===this.#i,a.addEventListener("click",this.#f.bind(this,r),{signal:t}),e.append(a)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:ut.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#n.lastChild?.focus()}#g(e){Si._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#d();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#m){this.#s?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Mc{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,Mc.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:i}=this.#t,r=this.#e=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Mc.#n[e]),r.addEventListener("input",()=>{this.#i.updateParams(t,r.value)},{signal:this.#i._signal}),r}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function PS(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function ec(n){return Math.max(0,Math.min(255,255*n))}class BS{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=ec(e),[e,e,e]}static G_HTML([e]){const t=PS(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(ec)}static RGB_HTML(e){return`#${e.map(PS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[ec(1-Math.min(1,e+r)),ec(1-Math.min(1,i+r)),ec(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,a=1-t,l=1-i,c=Math.min(r,a,l);return["CMYK",r,a,l,c]}}class h6{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ot("Abstract method `_createSVG` called.")}}class Dc extends h6{_createSVG(e){return document.createElementNS(Kr,e)}}const f6=9,Ta=new WeakSet,p6=new Date().getTimezoneOffset()*60*1e3;class FS{static create(e){switch(e.data.annotationType){case an.LINK:return new fb(e);case an.TEXT:return new g6(e);case an.WIDGET:switch(e.data.fieldType){case"Tx":return new y6(e);case"Btn":return e.data.radioButton?new hC(e):e.data.checkBox?new v6(e):new _6(e);case"Ch":return new x6(e);case"Sig":return new b6(e)}return new Oa(e);case an.POPUP:return new iy(e);case an.FREETEXT:return new fC(e);case an.LINE:return new w6(e);case an.SQUARE:return new A6(e);case an.CIRCLE:return new E6(e);case an.POLYLINE:return new pC(e);case an.CARET:return new T6(e);case an.INK:return new pb(e);case an.POLYGON:return new C6(e);case an.HIGHLIGHT:return new mC(e);case an.UNDERLINE:return new k6(e);case an.SQUIGGLY:return new R6(e);case an.STRIKEOUT:return new N6(e);case an.STAMP:return new gC(e);case an.FILEATTACHMENT:return new O6(e);default:return new Kt(e)}}}class Kt{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Kt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let a=-1/0,l=-1/0;if(t?.length>=8){for(let c=0;c<t.length;c+=8)t[c+1]>l?(l=t[c+1],a=t[c+2]):t[c+1]===l&&(a=Math.max(a,t[c+2]));return[a,l]}if(i?.length>=1){for(const c of i)for(let d=0,h=c.length;d<h;d+=2)c[d+1]>l?(l=c[d+1],a=c[d]):c[d+1]===l&&(a=Math.max(a,c[d]));if(a!==1/0)return[a,l]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:l}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-a)/i,e[1]=100*(e[1]-l)/r,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${kc}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${kc}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:i}=e;t&&this.#n(t);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(e),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:d}}}}=this;i?.splice(0,4,...e),t.left=`${100*(e[0]-c)/a}%`,t.top=`${100*(l-e[3]+d)/l}%`,r===0?(t.width=`${100*(e[2]-e[0])/a}%`,t.height=`${100*(e[3]-e[1])/l}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),!(this instanceof Oa)&&!(this instanceof fb)&&(a.tabIndex=0);const{style:l}=a;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof iy){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,a),a}const{width:c,height:d}=this;if(!e&&t.borderStyle.width>0){l.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(x>0||E>0){const T=`calc(${x}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof hC){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=T}switch(t.borderStyle.style){case Eo.SOLID:l.borderStyle="solid";break;case Eo.DASHED:l.borderStyle="dashed";break;case Eo.BEVELED:Qe("Unimplemented border style: beveled");break;case Eo.INSET:Qe("Unimplemented border style: inset");break;case Eo.UNDERLINE:l.borderBottomStyle="solid";break}const A=t.borderColor||null;A?(this.#t=!0,l.borderColor=Re.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):l.borderWidth=0}const h=Re.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:m,pageX:g,pageY:b}=r.rawDims;l.left=`${100*(h[0]-g)/f}%`,l.top=`${100*(h[1]-b)/m}%`;const{rotation:S}=t;return t.hasOwnCanvas||S===0?(l.width=`${100*c/f}%`,l.height=`${100*d/m}%`):this.setRotation(S,a),a}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:a,height:l}=this;e%180!==0&&([a,l]=[l,a]),t.style.width=`${100*a/i}%`,t.style.height=`${100*l/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const a=r.detail[t],l=a[0],c=a.slice(1);r.target.style[i]=BS[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:BS[`${l}_rgb`](c)})};return it(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,a]of Object.entries(t)){const l=i[r];if(l){const c={detail:{[r]:a},target:e};l(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,a]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,E,A,T]=e.subarray(2,6);if(r===x&&a===E&&t===A&&i===T)return}const{style:l}=this.container;let c;if(this.#t){const{borderColor:x,borderWidth:E}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-t,h=a-i,{svgFactory:f}=this,m=f.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const g=f.createElement("defs");m.append(g);const b=f.createElement("clipPath"),S=`clippath_${this.data.id}`;b.setAttribute("id",S),b.setAttribute("clipPathUnits","objectBoundingBox"),g.append(b);for(let x=2,E=e.length;x<E;x+=8){const A=e[x],T=e[x+1],R=e[x+2],B=e[x+3],k=f.createElement("rect"),N=(R-t)/d,M=(a-T)/h,P=(A-R)/d,F=(T-B)/h;k.setAttribute("x",N),k.setAttribute("y",M),k.setAttribute("width",P),k.setAttribute("height",F),b.append(k),c?.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${M}" width="${P}" height="${F}"/>`)}this.#t&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${S})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate);const a=this.#i=new iy({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Ot("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:a,id:l,exportValues:c}of r){if(a===-1||l===t)continue;const d=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${l}"]`);if(h&&!Ta.has(h)){Qe(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:d,domElement:h})}return i}for(const r of document.getElementsByName(e)){const{exportValue:a}=r,l=r.getAttribute("data-element-id");l!==t&&Ta.has(r)&&i.push({id:l,exportValue:a,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class m6 extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class fb extends Kt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action,e.overlaidText),r=!0):e.attachment?(this.#t(i,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(this.#i(i,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(i,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,i=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),i&&(e.title=i)}_bindNamedAction(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),i&&(e.title=i),this.#e()}#t(e,t,i="",r=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:i&&(e.title=i),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#i(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),i&&(e.title=i),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const a=i.get(r);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Qe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();const{fields:r,refs:a,include:l}=t,c=[];if(r.length!==0||a.length!==0){const f=new Set(a);for(const m of r){const g=this._fieldObjects[m]||[];for(const{id:b}of g)f.add(b)}for(const m of Object.values(this._fieldObjects))for(const g of m)f.has(g.id)===l&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const d=this.annotationStorage,h=[];for(const f of c){const{id:m}=f;switch(h.push(m),f.type){case"text":{const b=f.defaultValue||"";d.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=f.defaultValue===f.exportValues;d.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=f.defaultValue||"";d.setValue(m,{value:b});break}default:continue}const g=document.querySelector(`[data-element-id="${m}"]`);if(g){if(!Ta.has(g)){Qe(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class g6 extends Kt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Oa extends Kt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Cn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,a){i.includes("mouse")?e.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):e.addEventListener(i,l=>{if(i==="blur"){if(!t.focused||!l.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l)}})})}_setEventListeners(e,t,i,r){for(const[a,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,a,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Re.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||f6,a=e.style;let l;const c=2,d=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(h/($m*r))||1,m=h/f;l=Math.min(r,d(m/$m))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(h/$m))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=Re.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class y6 extends Oa{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const a=this.annotationStorage;for(const l of this._getElementsByName(e.name,e.id))l.domElement&&(l.domElement[t]=i),a.setValue(l.id,{[r]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let a=r.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Ta.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:m}=this.data,g=!!f&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",S=>{e.setValue(t,{value:S.target.value}),this.setPropertyOnSiblings(i,"value",S.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",S=>{const x=this.data.defaultFieldValue??"";i.value=d.userValue=x,d.formattedValue=null});let b=S=>{const{formattedValue:x}=d;x!=null&&(S.target.value=x),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",x=>{if(d.focused)return;const{target:E}=x;if(g&&(E.type=f,m&&(E.step=m)),d.userValue){const A=d.userValue;if(g)if(f==="time"){const T=new Date(A),R=[T.getHours(),T.getMinutes(),T.getSeconds()];E.value=R.map(B=>B.toString().padStart(2,"0")).join(":")}else E.value=new Date(A-p6).toISOString().split(f==="date"?"T":".",1)[0];else E.value=A}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const E={value(A){d.userValue=A.detail.value??"",g||e.setValue(t,{value:d.userValue.toString()}),A.target.value=d.userValue},formattedValue(A){const{formattedValue:T}=A.detail;d.formattedValue=T,T!=null&&A.target!==document.activeElement&&(A.target.value=T);const R={formattedValue:T};g&&(R.value=T),e.setValue(t,R)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:T}=A.detail,{target:R}=A;if(T===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",T);let B=d.userValue;!B||B.length<=T||(B=B.slice(0,T),R.value=d.userValue=B,e.setValue(t,{value:B}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:B,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(E,x)}),i.addEventListener("keydown",x=>{d.commitKey=1;let E=-1;if(x.key==="Escape"?E=0:x.key==="Enter"&&!this.data.multiLine?E=2:x.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:A}=x.target;d.lastCommittedValue!==A&&(d.lastCommittedValue=A,d.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:E,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const S=b;b=null,i.addEventListener("blur",x=>{if(!d.focused||!x.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=x;let{value:A}=E;if(g){if(A&&f==="time"){const T=A.split(":").map(R=>parseInt(R,10));A=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),E.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();E.type="text"}d.userValue=A,d.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,willCommit:!0,commitKey:d.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}),S(x)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",x=>{d.lastCommittedValue=null;const{data:E,target:A}=x,{value:T,selectionStart:R,selectionEnd:B}=A;let k=R,N=B;switch(x.inputType){case"deleteWordBackward":{const M=T.substring(0,R).match(/\w*[^\w]*$/);M&&(k-=M[0].length);break}case"deleteWordForward":{const M=T.substring(R).match(/^[^\w]*\w*/);M&&(N+=M[0].length);break}case"deleteContentBackward":R===B&&(k-=1);break;case"deleteContentForward":R===B&&(N+=1);break}x.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,change:E||"",willCommit:!1,selStart:k,selEnd:N}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class b6 extends Oa{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class v6 extends Oa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Ta.add(a),a.setAttribute("data-element-id",i),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const h of this._getElementsByName(c,i)){const f=d&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(i,{value:d})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue||"Off";l.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",e.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class hC extends Oa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const l of this._getElementsByName(t.fieldName,i))e.setValue(l.id,{value:!1});const a=document.createElement("input");if(Ta.add(a),a.setAttribute("data-element-id",i),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const h of this._getElementsByName(c,i))e.setValue(h.id,{value:!1});e.setValue(i,{value:d})}),a.addEventListener("resetform",l=>{const c=t.defaultFieldValue;l.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const l=t.buttonValue;a.addEventListener("updatefromsandbox",c=>{const d={value:h=>{const f=l===h.detail.value;for(const m of this._getElementsByName(h.target.name)){const g=f&&m.id===i;m.domElement&&(m.domElement.checked=g),e.setValue(m.id,{value:g})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class _6 extends fb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class x6 extends Oa{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Ta.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const m=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===m});for(const f of this.data.options){const m=document.createElement("option");m.textContent=f.displayValue,m.value=f.exportValue,i.value.includes(f.exportValue)&&(m.setAttribute("selected",!0),a=!1),r.append(m)}let l=null;if(a){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),l=()=>{f.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=f=>{const m=f?"value":"textContent",{options:g,multiple:b}=r;return b?Array.prototype.filter.call(g,S=>S.selected).map(S=>S[m]):g.selectedIndex===-1?null:g[g.selectedIndex][m]};let d=c(!1);const h=f=>{const m=f.target.options;return Array.prototype.map.call(m,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const m={value(g){l?.();const b=g.detail.value,S=new Set(Array.isArray(b)?b:[b]);for(const x of r.options)x.selected=S.has(x.value);e.setValue(t,{value:c(!0)}),d=c(!1)},multipleSelection(g){r.multiple=!0},remove(g){const b=r.options,S=g.detail.remove;b[S].selected=!1,r.remove(S),b.length>0&&Array.prototype.findIndex.call(b,E=>E.selected)===-1&&(b[0].selected=!0),e.setValue(t,{value:c(!0),items:h(g)}),d=c(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),d=c(!1)},insert(g){const{index:b,displayValue:S,exportValue:x}=g.detail.insert,E=r.children[b],A=document.createElement("option");A.textContent=S,A.value=x,E?E.before(A):r.append(A),e.setValue(t,{value:c(!0),items:h(g)}),d=c(!1)},items(g){const{items:b}=g.detail;for(;r.length!==0;)r.remove(0);for(const S of b){const{displayValue:x,exportValue:E}=S,A=document.createElement("option");A.textContent=x,A.value=E,r.append(A)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:h(g)}),d=c(!1)},indices(g){const b=new Set(g.detail.indices);for(const S of g.target.options)S.selected=b.has(S.index);e.setValue(t,{value:c(!0)}),d=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(m,f)}),r.addEventListener("input",f=>{const m=c(!0),g=c(!1);e.setValue(t,{value:m}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,change:g,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class iy extends Kt{constructor(e){const{data:t,elements:i,parent:r}=e,a=!!r._commentManager;if(super(e,{isRenderable:!a&&Kt._hasPopupData(t)}),this.elements=i,a&&Kt._hasPopupData(t)){const l=this.popup=this.#e();for(const c of i)c.popup=l}else this.popup=null}#e(){return new S6({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),i=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${eb}${r}`).join(",")),this.container}}class S6{#e=null;#t=this.#q.bind(this);#i=this.#I.bind(this);#n=this.#D.bind(this);#a=this.#x.bind(this);#r=null;#s=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#v=null;#b=null;#E=null;#w=null;#_=null;#T=!1;#S=null;#A=null;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:a,contentsObj:l,richText:c,parent:d,rect:h,parentRect:f,open:m,commentManager:g=null}){this.#s=e,this.#w=r,this.#o=l,this.#E=c,this.#h=d,this.#r=t,this.#b=h,this.#d=f,this.#l=i,this.#e=g,this.#S=i[0],this.#c=xh.toDateObject(a),this.trigger=i.flatMap(b=>b.getElementsToTriggerPopup()),g?this.renderCommentButton():(this.#N(),this.#s.hidden=!0,m&&this.#x())}#N(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const t of this.trigger)t.addEventListener("click",this.#a,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#k(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#k(),!this.#y))return;const{signal:e}=this.#p=new AbortController,t=!!this.#S.extraPopupElement,i=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},a=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#S.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",i,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",a,{signal:e}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const c=this.#S.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#R(),l.addEventListener("keydown",this.#t,{signal:e}),l.addEventListener("click",i,{signal:e}),l.addEventListener("pointerenter",r,{signal:e}),l.addEventListener("pointerleave",a,{signal:e}),c.after(l)}}#R(){if(this.#S.extraPopupElement&&!this.#S.editor)return;this.renderCommentButton();const[e,t]=this.#y,{style:i}=this.#m;i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`}#B(){this.#S.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#S.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:a}=this.#S.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:a}}get elementBeforePopup(){return this.#m}get comment(){return this.#A||=this.#S.commentText,this.#A}set comment(e){e!==this.comment&&(this.#S.commentText=this.#A=e)}get parentBoundingClientRect(){return this.#S.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:e,y:t,height:i}=this.#m.getBoundingClientRect(),{x:r,y:a,width:l,height:c}=this.#S.layer.getBoundingClientRect();return[(e-r)/l,(t+i-a)/c]}set commentPopupPosition(e){this.#v=e}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=this.#v||this.commentButtonPosition.map(h=>h/100),r=this.parentBoundingClientRect,{x:a,y:l,width:c,height:d}=r;this.#e.showDialog(null,this,a+t*c,l+i*d,{...e,parentDimensions:r})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#r){const i=e.style.outlineColor=Re.makeHexColor(...this.#r);e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#w?.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=this.#w}if(e.append(t),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),t.append(i)}nb({html:this.#M||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#s.append(e)}get#M(){const e=this.#E,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#E.html||null}get#L(){return this.#M?.attributes?.style?.fontSize||0}get#F(){return this.#M?.attributes?.style?.color||null}#j(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#F,fontSize:this.#L?`calc(${this.#L}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))t.push({name:"span",value:a,attributes:r});return i}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#x()}updateEdited({rect:e,popup:t,deleted:i}){if(this.#e){i?(this.remove(),this.#A=null):t&&(t.deleted?this.remove():(this.#B(),this.#A=t.text)),e&&(this.#y=null,this.#k(),this.#R());return}if(i||t?.deleted){this.remove();return}this.#N(),this.#_||={contentsObj:this.#o,richText:this.#E},e&&(this.#u=null),t&&t.text&&(this.#E=this.#j(t.text),this.#c=xh.toDateObject(t.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#E}=this.#_,this.#_=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:a}}}=this.#h;let l=!!this.#d,c=l?this.#d:this.#b;for(const S of this.#l)if(!c||Re.intersect(S.data.rect,c)!==null){c=S.data.rect,l=!0;break}const d=Re.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=l?c[2]-c[0]+5:0,m=d[0]+f,g=d[1];this.#u=[100*(m-r)/t,100*(g-a)/i];const{style:b}=this.#s;b.left=`${this.#u[0]}%`,b.top=`${this.#u[1]}%`}#x(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#D(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#t)):(this.#I(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#t))}#D(){this.#g||this.render(),this.isVisible?this.#f&&this.#s.classList.add("focused"):(this.#C(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#I(){this.#s.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#s.hidden=!0)}maybeShow(){this.#e||(this.#N(),this.#T&&(this.#g||this.#D(),this.#T=!1,this.#s.hidden=!1))}get isVisible(){return this.#e?!1:this.#s.hidden===!1}}class fC extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class w6 extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),a=this.#e=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class A6 extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",t-a),l.setAttribute("height",i-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class E6 extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),a=e.borderStyle.width,l=this.#e=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",t/2),l.setAttribute("cy",i/2),l.setAttribute("rx",t/2-a/2),l.setAttribute("ry",i/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class pC extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:i,popupRef:r},width:a,height:l}=this;if(!t)return this.container;const c=this.svgFactory.create(a,l,!0);let d=[];for(let f=0,m=t.length;f<m;f+=2){const g=t[f]-e[0],b=e[3]-t[f+1];d.push(`${g},${b}`)}d=d.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class C6 extends pC{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T6 extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class pb extends Kt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ze.HIGHLIGHT:Ze.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:i,borderStyle:r,popupRef:a}}=this,{transform:l,width:c,height:d}=this.#i(t,e),h=this.svgFactory.create(c,d,!0),f=this.#e=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",l);for(let m=0,g=i.length;m<g;m++){const b=this.svgFactory.createElement(this.svgElementName);this.#t.push(b),b.setAttribute("points",i[m].join(",")),f.append(b)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:i,rect:r}=e,a=this.#e;if(t>=0&&a.setAttribute("stroke-width",t||1),i)for(let l=0,c=this.#t.length;l<c;l++)this.#t[l].setAttribute("points",i[l].join(","));if(r){const{transform:l,width:c,height:d}=this.#i(this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class mC extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ze.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class k6 extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class R6 extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class N6 extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class gC extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class O6 extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:r}=Cn.platform;return e.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let mb=class yC{#e=null;#t=null;#i=null;#n=new Map;#a=null;#r=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:a,viewport:l,structTreeLayer:c,commentManager:d,linkService:h,annotationStorage:f}){this.div=e,this.#e=t,this.#t=i,this.#a=c||null,this.#r=h||null,this.#i=f||new sb,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#s(e,t,i){const r=e.firstChild||e,a=r.id=`${eb}${t}`,l=await this.#a?.getAriaAttributes(a);if(l)for(const[c,d]of l)r.setAttribute(c,d);i?i.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,r,!1))}async render(e){const{annotations:t}=e,i=this.div;zs(i,this.viewport);const r=new Map,a={data:null,layer:i,linkService:this.#r,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Dc,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===an.POPUP;if(c){const f=r.get(l.id);if(!f)continue;a.elements=f}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=FS.create(a);if(!d.isRenderable)continue;if(!c&&l.popupRef){const f=r.get(l.popupRef);f?f.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),await this.#s(h,l.id,a.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#r,svgFactory:new Dc,parent:this};for(const i of e){i.borderStyle||=yC._defaultBorderStyle,t.data=i;const r=FS.create(t);if(!r.isRenderable)continue;const a=r.render();await this.#s(a,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,zs(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;const e=this.div;for(const[t,i]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):r.append(i);const l=this.#n.get(t);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,a=new m6({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#r,annotationStorage:this.#i}),l=a.render();return t.append(l),this.#e?.moveElementInDOM(t,l,l,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return it(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Eo.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Bd=/\r\n?|\n/g;class An extends Fe{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=An.prototype,t=a=>a.isEmpty(),i=as.TRANSLATE_SMALL,r=as.TRANSLATE_BIG;return it(this,"_keyboardManager",new Zc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=Ze.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||An._defaultColor||Fe._defaultLineColor,this.#n=e.fontSize||An._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){Fe.initialize(e,t);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case ut.FREETEXT_SIZE:An._defaultFontSize=t;break;case ut.FREETEXT_COLOR:An._defaultColor=t;break}}updateParams(e,t){switch(e){case ut.FREETEXT_SIZE:this.#a(t);break;case ut.FREETEXT_COLOR:this.#r(t);break}}static get defaultPropertiesToUpdate(){return[[ut.FREETEXT_SIZE,An._defaultFontSize],[ut.FREETEXT_COLOR,An._defaultColor||Fe._defaultLineColor]]}get propertiesToUpdate(){return[[ut.FREETEXT_SIZE,this.#n],[ut.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Mc(this),[["colorPicker",this._colorPicker]]}get colorType(){return ut.FREETEXT_COLOR}#a(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#r(e){const t=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-An._internalPadding*e,-(An._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const e=[];this.editorDiv.normalize();let t=null;for(const i of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(An.#c(i)),t=i);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#s().trimEnd();if(e===t)return;const i=r=>{if(this.#e=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){An._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,f]=this.pageDimensions,[m,g]=this.pageTranslation;let b,S;switch(this.rotation){case 0:b=e+(l[0]-m)/h,S=t+this.height-(l[1]-g)/f;break;case 90:b=e+(l[0]-m)/h,S=t-(l[1]-g)/f,[c,d]=[d,-c];break;case 180:b=e-this.width+(l[0]-m)/h,S=t-(l[1]-g)/f,[c,d]=[-c,-d];break;case 270:b=e+(l[0]-m-this.height*f)/h,S=t+(l[1]-g-this.width*h)/f,[c,d]=[-d,c];break}this.setAt(b*r,S*a,c,d)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Bd,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=An.#d(t.getData("text")||"").replaceAll(Bd,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:d}=l,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const b=c.parentElement;if(f.push(c.nodeValue.slice(d).replaceAll(Bd,"")),b!==this.editorDiv){let S=h;for(const x of this.editorDiv.childNodes){if(x===b){S=f;continue}S.push(An.#c(x))}}h.push(c.nodeValue.slice(0,d).replaceAll(Bd,""))}else if(c===this.editorDiv){let b=h,S=0;for(const x of this.editorDiv.childNodes)S++===d&&(b=f),b.push(An.#c(x))}this.#e=`${h.join(`
`)}${r}${f.join(`
`)}`,this.#l();const m=new Range;let g=Math.sumPrecise(h.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(g<=S){m.setStart(b,g),m.setEnd(b,g);break}g-=S}a.removeAllRanges(),a.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=An._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,i){let r=null;if(e instanceof fC){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:f,popupRef:m,richText:g,contentsObj:b,creationDate:S,modificationDate:x},textContent:E,textPosition:A,parent:{page:{pageNumber:T}}}=e;if(!E||E.length===0)return null;r=e={annotationType:Ze.FREETEXT,color:Array.from(c),fontSize:l,value:E.join(`
`),position:A,pageIndex:T-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:m,comment:b?.str||null,richText:g,creationDate:S,modificationDate:x}}const a=await super.deserialize(e,t,i);return a.#n=e.fontSize,a.color=Re.makeHexColor(...e.color),a.#e=An.#d(e.value),a._initialData=r,e.comment&&a.setCommentData(e),a}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Fe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#h()});return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(e){const{value:t,fontSize:i,color:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((l,c)=>l!==r[c])||e.pageIndex!==a}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:i}=t;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,t.replaceChildren();for(const r of this.#e.split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),t.append(a)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ke{static PRECISION=1e-4;toSVGPath(){Ot("Abstract method `toSVGPath` must be implemented.")}get box(){Ot("Abstract getter `box` must be implemented.")}serialize(e,t){Ot("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,a,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c]*r,l[c+1]=i+e[c+1]*a;return l}static _rescaleAndSwap(e,t,i,r,a,l){l||=new Float32Array(e.length);for(let c=0,d=e.length;c<d;c+=2)l[c]=t+e[c+1]*r,l[c+1]=i+e[c]*a;return l}static _translate(e,t,i,r){r||=new Float32Array(e.length);for(let a=0,l=e.length;a<l;a+=2)r[a]=t+e[a],r[a+1]=i+e[a+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,a){switch(a){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,a,l){return[(e+5*i)/6,(t+5*r)/6,(5*i+a)/6,(5*r+l)/6,(i+a)/2,(r+l)/2]}}class ba{#e;#t=[];#i;#n;#a=[];#r=new Float32Array(18);#s;#o;#c;#l;#h;#d;#f=[];static#g=8;static#p=2;static#u=ba.#g+ba.#p;constructor({x:e,y:t},i,r,a,l,c=0){this.#e=i,this.#d=a*r,this.#n=l,this.#r.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=c,this.#l=ba.#g*r,this.#c=ba.#u*r,this.#h=r,this.#f.push(e,t)}isEmpty(){return isNaN(this.#r[8])}#m(){const e=this.#r.subarray(4,6),t=this.#r.subarray(16,18),[i,r,a,l]=this.#e;return[(this.#s+(e[0]-t[0])/2-i)/a,(this.#o+(e[1]-t[1])/2-r)/l,(this.#s+(t[0]-e[0])/2-i)/a,(this.#o+(t[1]-e[1])/2-r)/l]}add({x:e,y:t}){this.#s=e,this.#o=t;const[i,r,a,l]=this.#e;let[c,d,h,f]=this.#r.subarray(8,12);const m=e-h,g=t-f,b=Math.hypot(m,g);if(b<this.#c)return!1;const S=b-this.#l,x=S/b,E=x*m,A=x*g;let T=c,R=d;c=h,d=f,h+=E,f+=A,this.#f?.push(e,t);const B=-A/S,k=E/S,N=B*this.#d,M=k*this.#d;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([h+N,f+M],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([h-N,f-M],16),isNaN(this.#r[6])?(this.#a.length===0&&(this.#r.set([c+N,d+M],2),this.#a.push(NaN,NaN,NaN,NaN,(c+N-i)/a,(d+M-r)/l),this.#r.set([c-N,d-M],14),this.#t.push(NaN,NaN,NaN,NaN,(c-N-i)/a,(d-M-r)/l)),this.#r.set([T,R,c,d,h,f],6),!this.isEmpty()):(this.#r.set([T,R,c,d,h,f],6),Math.abs(Math.atan2(R-d,T-c)-Math.atan2(A,E))<Math.PI/2?([c,d,h,f]=this.#r.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+h)/2-i)/a,((d+f)/2-r)/l),[c,d,T,R]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((T+c)/2-i)/a,((R+d)/2-r)/l),!0):([T,R,c,d,h,f]=this.#r.subarray(0,6),this.#a.push(((T+5*c)/6-i)/a,((R+5*d)/6-r)/l,((5*c+h)/6-i)/a,((5*d+f)/6-r)/l,((c+h)/2-i)/a,((d+f)/2-r)/l),[h,f,c,d,T,R]=this.#r.subarray(12,18),this.#t.push(((T+5*c)/6-i)/a,((R+5*d)/6-r)/l,((5*c+h)/6-i)/a,((5*d+f)/6-r)/l,((c+h)/2-i)/a,((d+f)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#b(i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#v(i),i.join(" ")}#y(){const[e,t,i,r]=this.#e,[a,l,c,d]=this.#m();return`M${(this.#r[2]-e)/i} ${(this.#r[3]-t)/r} L${(this.#r[4]-e)/i} ${(this.#r[5]-t)/r} L${a} ${l} L${c} ${d} L${(this.#r[16]-e)/i} ${(this.#r[17]-t)/r} L${(this.#r[14]-e)/i} ${(this.#r[15]-t)/r} Z`}#v(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#b(e){const[t,i,r,a]=this.#e,l=this.#r.subarray(4,6),c=this.#r.subarray(16,18),[d,h,f,m]=this.#m();e.push(`L${(l[0]-t)/r} ${(l[1]-i)/a} L${d} ${h} L${f} ${m} L${(c[0]-t)/r} ${(c[1]-i)/a}`)}newFreeDrawOutline(e,t,i,r,a,l){return new bC(e,t,i,r,a,l)}getOutlines(){const e=this.#a,t=this.#t,i=this.#r,[r,a,l,c]=this.#e,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,g=d.length-2;m<g;m+=2)d[m]=(this.#f[m]-r)/l,d[m+1]=(this.#f[m+1]-a)/c;if(d[d.length-2]=(this.#s-r)/l,d[d.length-1]=(this.#o-a)/c,isNaN(i[6])&&!this.isEmpty())return this.#E(d);const h=new Float32Array(this.#a.length+24+this.#t.length);let f=e.length;for(let m=0;m<f;m+=2){if(isNaN(e[m])){h[m]=h[m+1]=NaN;continue}h[m]=e[m],h[m+1]=e[m+1]}f=this.#_(h,f);for(let m=t.length-6;m>=6;m-=6)for(let g=0;g<6;g+=2){if(isNaN(t[m+g])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=t[m+g],h[f+1]=t[m+g+1],f+=2}return this.#w(h,f),this.newFreeDrawOutline(h,d,this.#e,this.#h,this.#i,this.#n)}#E(e){const t=this.#r,[i,r,a,l]=this.#e,[c,d,h,f]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(t[2]-i)/a,(t[3]-r)/l,NaN,NaN,NaN,NaN,(t[4]-i)/a,(t[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(t[16]-i)/a,(t[17]-r)/l,NaN,NaN,NaN,NaN,(t[14]-i)/a,(t[15]-r)/l],0),this.newFreeDrawOutline(m,e,this.#e,this.#h,this.#i,this.#n)}#w(e,t){const i=this.#t;return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6}#_(e,t){const i=this.#r.subarray(4,6),r=this.#r.subarray(16,18),[a,l,c,d]=this.#e,[h,f,m,g]=this.#m();return e.set([NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-l)/d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,m,g,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-l)/d],t),t+=24}}class bC extends ke{#e;#t=new Float32Array(4);#i;#n;#a;#r;#s;constructor(e,t,i,r,a,l){super(),this.#s=e,this.#a=t,this.#e=i,this.#r=r,this.#i=a,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,d,h,f]=this.#t;for(let m=0,g=e.length;m<g;m+=2)e[m]=(e[m]-c)/h,e[m+1]=(e[m+1]-d)/f;for(let m=0,g=t.length;m<g;m+=2)t[m]=(t[m]-c)/h,t[m+1]=(t[m+1]-d)/f}toSVGPath(){const e=[`M${this.#s[4]} ${this.#s[5]}`];for(let t=6,i=this.#s.length;t<i;t+=6){if(isNaN(this.#s[t])){e.push(`L${this.#s[t+4]} ${this.#s[t+5]}`);continue}e.push(`C${this.#s[t]} ${this.#s[t+1]} ${this.#s[t+2]} ${this.#s[t+3]} ${this.#s[t+4]} ${this.#s[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,r],a){const l=i-e,c=r-t;let d,h;switch(a){case 0:d=ke._rescale(this.#s,e,r,l,-c),h=ke._rescale(this.#a,e,r,l,-c);break;case 90:d=ke._rescaleAndSwap(this.#s,e,t,l,c),h=ke._rescaleAndSwap(this.#a,e,t,l,c);break;case 180:d=ke._rescale(this.#s,i,t,-l,c),h=ke._rescale(this.#a,i,t,-l,c);break;case 270:d=ke._rescaleAndSwap(this.#s,i,r,-l,-c),h=ke._rescaleAndSwap(this.#a,i,r,-l,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}#o(e){const t=this.#s;let i=t[4],r=t[5];const a=[i,r,i,r];let l=i,c=r,d=i,h=r;const f=e?Math.max:Math.min,m=new Float32Array(4);for(let b=6,S=t.length;b<S;b+=6){const x=t[b+4],E=t[b+5];isNaN(t[b])?(Re.pointBoundingBox(x,E,a),c>E?(l=x,c=E):c===E&&(l=f(l,x)),h<E?(d=x,h=E):h===E&&(d=f(d,x))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,Re.bezierBoundingBox(i,r,...t.slice(b,b+6),m),Re.rectBoundingBox(m[0],m[1],m[2],m[3],a),c>m[1]?(l=m[0],c=m[1]):c===m[1]&&(l=f(l,m[0])),h<m[3]?(d=m[2],h=m[3]):h===m[3]&&(d=f(d,m[2]))),i=x,r=E}const g=this.#t;g[0]=a[0]-this.#i,g[1]=a[1]-this.#i,g[2]=a[2]-a[0]+2*this.#i,g[3]=a[3]-a[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[d,h]}get box(){return this.#t}newOutliner(e,t,i,r,a,l=0){return new ba(e,t,i,r,a,l)}getNewOutline(e,t){const[i,r,a,l]=this.#t,[c,d,h,f]=this.#e,m=a*h,g=l*f,b=i*h+c,S=r*f+d,x=this.newOutliner({x:this.#a[0]*m+b,y:this.#a[1]*g+S},this.#e,this.#r,e,this.#n,t??this.#i);for(let E=2;E<this.#a.length;E+=2)x.add({x:this.#a[E]*m+b,y:this.#a[E+1]*g+S});return x.getOutlines()}}class ry{#e;#t;#i;#n=[];#a=[];constructor(e,t=0,i=0,r=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x,y:E,width:A,height:T}of e){const R=Math.floor((x-t)/l)*l,B=Math.ceil((x+A+t)/l)*l,k=Math.floor((E-t)/l)*l,N=Math.ceil((E+T+t)/l)*l,M=[R,k,N,!0],P=[B,k,N,!1];this.#n.push(M,P),Re.rectBoundingBox(R,k,B,N,a)}const c=a[2]-a[0]+2*i,d=a[3]-a[1]+2*i,h=a[0]-i,f=a[1]-i;let m=r?-1/0:1/0,g=1/0;const b=this.#n.at(r?-1:-2),S=[b[0],b[2]];for(const x of this.#n){const[E,A,T,R]=x;!R&&r?A<g?(g=A,m=E):A===g&&(m=Math.max(m,E)):R&&!r&&(A<g?(g=A,m=E):A===g&&(m=Math.min(m,E))),x[0]=(E-h)/c,x[1]=(A-f)/d,x[2]=(T-f)/d}this.#e=new Float32Array([h,f,c,d]),this.#t=[m,g],this.#i=S}getOutlines(){this.#n.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#r(e)}#r(e){const t=[],i=new Set;for(const l of e){const[c,d,h]=l;t.push([c,d,l],[c,h,l])}t.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=t.length;l<c;l+=2){const d=t[l][2],h=t[l+1][2];d.push(h),h.push(d),i.add(d),i.add(h)}const r=[];let a;for(;i.size>0;){const l=i.values().next().value;let[c,d,h,f,m]=l;i.delete(l);let g=c,b=d;for(a=[c,h],r.push(a);;){let S;if(i.has(f))S=f;else if(i.has(m))S=m;else break;i.delete(S),[c,d,h,f,m]=S,g!==c&&(a.push(g,b,c,b===d?d:h),g=c),b=b===d?h:d}a.push(g,b)}return new M6(r,this.#e,this.#t,this.#i)}#s(e){const t=this.#a;let i=0,r=t.length-1;for(;i<=r;){const a=i+r>>1,l=t[a][0];if(l===e)return a;l<e?i=a+1:r=a-1}return r+1}#o([,e,t]){const i=this.#s(e);this.#a.splice(i,0,[e,t])}#c([,e,t]){const i=this.#s(e);for(let r=i;r<this.#a.length;r++){const[a,l]=this.#a[r];if(a!==e)break;if(a===e&&l===t){this.#a.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[a,l]=this.#a[r];if(a!==e)break;if(a===e&&l===t){this.#a.splice(r,1);return}}}#l(e){const[t,i,r]=e,a=[[t,i,r]],l=this.#s(r);for(let c=0;c<l;c++){const[d,h]=this.#a[c];for(let f=0,m=a.length;f<m;f++){const[,g,b]=a[f];if(!(h<=g||b<=d)){if(g>=d){if(b>h)a[f][1]=h;else{if(m===1)return[];a.splice(f,1),f--,m--}continue}a[f][2]=d,b>h&&a.push([t,h,b])}}}return a}}class M6 extends ke{#e;#t;constructor(e,t,i,r){super(),this.#t=e,this.#e=t,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let a=2;a<t.length;a+=2){const l=t[a],c=t[a+1];l===i?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${l}`),i=l)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],a){const l=[],c=i-e,d=r-t;for(const h of this.#t){const f=new Array(h.length);for(let m=0;m<h.length;m+=2)f[m]=e+h[m]*c,f[m+1]=r-h[m+1]*d;l.push(f)}return l}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class sy extends ba{newFreeDrawOutline(e,t,i,r,a,l){return new D6(e,t,i,r,a,l)}}class D6 extends bC{newOutliner(e,t,i,r,a,l=0){return new sy(e,t,i,r,a,l)}}class on extends Fe{#e=null;#t=0;#i;#n=null;#a=null;#r=null;#s=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ze.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=on.prototype;return it(this,"_keyboardManager",new Zc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||on._defaultColor,this.#m=e.thickness||on._defaultThickness,this.opacity=e.opacity||on._defaultOpacity,this.#i=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#b(e),this.#S()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#s=e.focusNode,this.#o=e.focusOffset,this.#v(),this.#S(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#v(){const e=new ry(this.#i,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new ry(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#r=t.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#r;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#l=e;const r=1.5;if(this.#r=e.getNewOutline(this.#m/2+r,.0025),t>=0)this.#h=t,this.#n=i,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:on.#A(this.#l.box,(m-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:on.#A(this.#r.box,m),path:{d:this.#r.toSVGPath()}})}const[a,l,c,d]=e.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=d;break;case 90:{const[m,g]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*g/m,this.height=d*m/g;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[m,g]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*g/m,this.height=d*m/g;break}}const{firstPoint:h}=e;this.#f=[(h[0]-a)/c,(h[1]-l)/d];const{lastPoint:f}=this.#r;this.#g=[(f[0]-a)/c,(f[1]-l)/d]}static initialize(e,t){Fe.initialize(e,t),on._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case ut.HIGHLIGHT_COLOR:on._defaultColor=t;break;case ut.HIGHLIGHT_THICKNESS:on._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case ut.HIGHLIGHT_COLOR:this.#E(t);break;case ut.HIGHLIGHT_THICKNESS:this.#w(t);break}}static get defaultPropertiesToUpdate(){return[[ut.HIGHLIGHT_COLOR,on._defaultColor],[ut.HIGHLIGHT_THICKNESS,on._defaultThickness]]}get propertiesToUpdate(){return[[ut.HIGHLIGHT_COLOR,this.color||on._defaultColor],[ut.HIGHLIGHT_THICKNESS,this.#m||on._defaultThickness],[ut.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(e){const t=(a,l)=>{this.color=a,this.opacity=l,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:t.bind(this,e,on._defaultOpacity),undo:t.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#w(e){const t=this.#m,i=r=>{this.#m=r,this.#_(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Si({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#R())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#R())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#_(e){this.#d&&(this.#b({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([e,t,i,r],a){switch(a){case 90:return[1-t-r,e,r,i];case 180:return[1-e-i,1-t-r,i,r];case 270:return[t,1-e-i,r,i]}return[e,t,i,r]}rotate(e){const{drawLayer:t}=this.parent;let i;this.#d?(e=(e-this.rotation+360)%360,i=on.#A(this.#l.box,e)):i=on.#A([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:on.#A(this.#r.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(this.width,this.height),XE(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#N(e){on._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#k(!0);break;case 1:case 3:this.#k(!1);break}}#k(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#s,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#k(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#R(){return this.#d?this.rotation:0}#B(){if(this.#d)return null;const[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,a=this.#i,l=new Float32Array(a.length*8);let c=0;for(const{x:d,y:h,width:f,height:m}of a){const g=d*e+i,b=(1-h)*t+r;l[c]=l[c+4]=g,l[c+1]=l[c+3]=b,l[c+2]=l[c+6]=g+f*e,l[c+5]=l[c+7]=b-m*t,c+=8}return l}#M(e){return this.#l.serialize(e,this.#R())}static startHighlighting(e,t,{target:i,x:r,y:a}){const{x:l,y:c,width:d,height:h}=i.getBoundingClientRect(),f=new AbortController,m=e.combinedSignal(f),g=b=>{f.abort(),this.#F(e,b)};window.addEventListener("blur",g,{signal:m}),window.addEventListener("pointerup",g,{signal:m}),window.addEventListener("pointerdown",Wt,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ti,{signal:m}),i.addEventListener("pointermove",this.#L.bind(this,e),{signal:m}),this._freeHighlight=new sy({x:r,y:a},[l,c,d,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#L(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,i){let r=null;if(e instanceof mC){const{data:{quadPoints:S,rect:x,rotation:E,id:A,color:T,opacity:R,popupRef:B,richText:k,contentsObj:N,creationDate:M,modificationDate:P},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Ze.HIGHLIGHT,color:Array.from(T),opacity:R,quadPoints:S,boxes:null,pageIndex:F-1,rect:x.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,popupRef:B,richText:k,comment:N?.str||null,creationDate:M,modificationDate:P}}else if(e instanceof pb){const{data:{inkLists:S,rect:x,rotation:E,id:A,color:T,borderStyle:{rawWidth:R},popupRef:B,richText:k,contentsObj:N,creationDate:M,modificationDate:P},parent:{page:{pageNumber:F}}}=e;r=e={annotationType:Ze.HIGHLIGHT,color:Array.from(T),thickness:R,inkLists:S,boxes:null,pageIndex:F-1,rect:x.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,popupRef:B,richText:k,comment:N?.str||null,creationDate:M,modificationDate:P}}const{color:a,quadPoints:l,inkLists:c,opacity:d}=e,h=await super.deserialize(e,t,i);h.color=Re.makeHexColor(...a),h.opacity=d||1,c&&(h.#m=e.thickness),h._initialData=r,e.comment&&h.setCommentData(e);const[f,m]=h.pageDimensions,[g,b]=h.pageTranslation;if(l){const S=h.#i=[];for(let x=0;x<l.length;x+=8)S.push({x:(l[x]-g)/f,y:1-(l[x+1]-b)/m,width:(l[x+2]-l[x])/f,height:(l[x+1]-l[x+5])/m});h.#v(),h.#S(),h.rotate(h.rotation)}else if(c){h.#d=!0;const S=c[0],x={x:S[0]-g,y:m-(S[1]-b)},E=new sy(x,[0,0,f,m],1,h.#m/2,!0,.001);for(let R=0,B=S.length;R<B;R+=2)x.x=S[R]-g,x.y=m-(S[R+1]-b),E.add(x);const{id:A,clipPathId:T}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);h.#b({highlightOutlines:E.getOutlines(),highlightId:A,clipPathId:T}),h.#S(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Fe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(e);return Object.assign(i,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#B(),outlines:this.#M(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#j(i)?null:(i.id=this.annotationElementId,i)}#j(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((i,r)=>i!==t[r])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class vC{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Ot("Not implemented")}}class Ve extends Fe{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#r=NaN;static#s=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:t,drawingOptions:i}){this.#e=e,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#u(e.box)}#h(e,t){const{id:i}=t.drawLayer.draw(Ve._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(e,t){const i=new Set(Object.keys(e));for(const[r,a]of Object.entries(t))i.has(r)?Object.assign(e[r],a):e[r]=a;return e}static getDefaultDrawingOptions(e){Ot("Not implemented")}static get typesMap(){Ot("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,t),this._currentParent&&(Ve.#i.updateProperty(i,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)e.push([i,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[i,r]of this.constructor.typesMap)e.push([i,t[r]]);return e}_updateProperty(e,t,i){const r=this._drawingOptions,a=r[t],l=c=>{r.updateProperty(t,c);const d=this.#e.updateProperty(t,c);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#d()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#g([e,t,i,r]){const{parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[t,1-e,i*(l/a),r*(a/l)];case 180:return[1-e,1-t,i,r];case 270:return[1-t,e,i*(l/a),r*(a/l)];default:return[e,t,i,r]}}#p(){const{x:e,y:t,width:i,height:r,parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[1-t,e,i*(a/l),r*(l/a)];case 180:return[1-e,1-t,i,r];case 270:return[t,1-e,i*(a/l),r*(l/a)];default:return[e,t,i,r]}}#u(e){[this.x,this.y,this.width,this.height]=this.#g(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:i,height:r,rotation:a,parentRotation:l,parentDimensions:[c,d]}=this;switch((a*4+l)/90){case 1:return[1-t-r,e,r,i];case 2:return[1-e-i,1-t-r,i,r];case 3:return[t,1-e-i,r,i];case 4:return[e,t-i*(c/d),r*(d/c),i*(c/d)];case 5:return[1-t,e,i*(c/d),r*(d/c)];case 6:return[1-e-r*(d/c),1-t,r*(d/c),i*(c/d)];case 7:return[t-i*(c/d),1-e-r*(d/c),i*(c/d),r*(d/c)];case 8:return[e-i,t-r,i,r];case 9:return[1-t,e-i,r,i];case 10:return[1-e,1-t,i,r];case 11:return[t-r,1-e,r,i];case 12:return[e-r*(d/c),t,r*(d/c),i*(c/d)];case 13:return[1-t-i*(c/d),e-r*(d/c),i*(c/d),r*(d/c)];case 14:return[1-e,1-t-i*(c/d),r*(d/c),i*(c/d)];case 15:return[t,1-e,i*(c/d),r*(d/c)];default:return[e,t,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ve._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),i}static createDrawerInstance(e,t,i,r,a){Ot("Not implemented")}static startDrawing(e,t,i,r){const{target:a,offsetX:l,offsetY:c,pointerId:d,pointerType:h}=r;if(Ve.#s&&Ve.#s!==h)return;const{viewport:{rotation:f}}=e,{width:m,height:g}=a.getBoundingClientRect(),b=Ve.#n=new AbortController,S=e.combinedSignal(b);if(Ve.#r||=d,Ve.#s??=h,window.addEventListener("pointerup",x=>{Ve.#r===x.pointerId?this._endDraw(x):Ve.#o?.delete(x.pointerId)},{signal:S}),window.addEventListener("pointercancel",x=>{Ve.#r===x.pointerId?this._currentParent.endDrawingSession():Ve.#o?.delete(x.pointerId)},{signal:S}),window.addEventListener("pointerdown",x=>{Ve.#s===x.pointerType&&((Ve.#o||=new Set).add(x.pointerId),Ve.#i.isCancellable()&&(Ve.#i.removeLastElement(),Ve.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Ti,{signal:S}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),a.addEventListener("touchmove",x=>{x.timeStamp===Ve.#c&&Wt(x)},{signal:S}),e.toggleDrawing(),t._editorUndoBar?.hide(),Ve.#i){e.drawLayer.updateProperties(this._currentDrawId,Ve.#i.startNew(l,c,m,g,f));return}t.updateUIForDefaultProperties(this),Ve.#i=this.createDrawerInstance(l,c,m,g,f),Ve.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Ve.#a.toSVGProperties(),Ve.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ve.#c=-1,!Ve.#i)return;const{offsetX:t,offsetY:i,pointerId:r}=e;if(Ve.#r===r){if(Ve.#o?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ve.#i.add(t,i)),Ve.#c=e.timeStamp,Wt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Ve.#i=null,Ve.#a=null,Ve.#s=null,Ve.#c=NaN),Ve.#n&&(Ve.#n.abort(),Ve.#n=null,Ve.#r=NaN,Ve.#o=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Ve.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=Ve.#i,r=this._currentDrawId,a=i.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,i.setLastElement(a))},undo:()=>{t.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:ut.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(ut.DRAW_STEP),!Ve.#i.isEmpty()){const{pageDimensions:[i,r],scale:a}=t,l=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ve.#i.getOutlines(i*a,r*a,a,this._INNER_MARGIN),drawingOptions:Ve.#a,mustBeCommitted:!e});return this._cleanup(!0),l}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,i,r,a,l){Ot("Not implemented")}static async deserialize(e,t,i){const{rawDims:{pageWidth:r,pageHeight:a,pageX:l,pageY:c}}=t.viewport,d=this.deserializeDraw(l,c,r,a,this._INNER_MARGIN,e),h=await super.deserialize(e,t,i);return h.createDrawingOptions(e),h.#l({drawOutlines:d}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,i]=this.pageTranslation,[r,a]=this.pageDimensions;return this.#e.serialize([t,i,r,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class L6{#e=new Float64Array(6);#t;#i;#n;#a;#r;#s="";#o=0;#c=new eu;#l;#h;constructor(e,t,i,r,a,l){this.#l=i,this.#h=r,this.#n=a,this.#a=l,[e,t]=this.#d(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t],this.#i=[{line:c,points:this.#r}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#d(e,t){return ke._normalizePoint(e,t,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#r.length<=10}add(e,t){[e,t]=this.#d(e,t);const[i,r,a,l]=this.#e.subarray(2,6),c=e-a,d=t-l;return Math.hypot(this.#l*c,this.#h*d)<=2?null:(this.#r.push(e,t),isNaN(i)?(this.#e.set([a,l,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([i,r,a,l,e,t],0),this.#t.push(...ke.createBezierPoints(i,r,a,l,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,a){this.#l=i,this.#h=r,this.#n=a,[e,t]=this.#d(e,t);const l=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#r}),this.#e.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#r=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#s="";for(let e=0,t=this.#i.length;e<t;e++){const{line:i,points:r}=this.#i[e];this.#t=i,this.#r=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const e=ke.svgRound(this.#t[4]),t=ke.svgRound(this.#t[5]);if(this.#r.length===2)return this.#s=`${this.#s} M ${e} ${t} Z`,this.#s;if(this.#r.length<=6){const r=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#r.length===4){const r=ke.svgRound(this.#t[10]),a=ke.svgRound(this.#t[11]);return this.#s=`${this.#s} L ${r} ${a}`,this.#o=12,this.#s}const i=[];this.#o===0&&(i.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,a=this.#t.length;r<a;r+=6){const[l,c,d,h,f,m]=this.#t.slice(r,r+6).map(ke.svgRound);i.push(`C${l} ${c} ${d} ${h} ${f} ${m}`)}return this.#s+=i.join(" "),this.#o=this.#t.length,this.#s}getOutlines(e,t,i,r){const a=this.#i.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#i,e,t,i,this.#n,this.#a,r),this.#e=null,this.#t=null,this.#i=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class eu extends ke{#e;#t=0;#i;#n;#a;#r;#s;#o;#c;build(e,t,i,r,a,l,c){this.#a=t,this.#r=i,this.#s=r,this.#o=a,this.#c=l,this.#i=c??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${ke.svgRound(t[4])} ${ke.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${ke.svgRound(t[10])} ${ke.svgRound(t[11])}`);continue}for(let i=6,r=t.length;i<r;i+=6){const[a,l,c,d,h,f]=t.subarray(i,i+6).map(ke.svgRound);e.push(`C${a} ${l} ${c} ${d} ${h} ${f}`)}}return e.join("")}serialize([e,t,i,r],a){const l=[],c=[],[d,h,f,m]=this.#h();let g,b,S,x,E,A,T,R,B;switch(this.#o){case 0:B=ke._rescale,g=e,b=t+r,S=i,x=-r,E=e+d*i,A=t+(1-h-m)*r,T=e+(d+f)*i,R=t+(1-h)*r;break;case 90:B=ke._rescaleAndSwap,g=e,b=t,S=i,x=r,E=e+h*i,A=t+d*r,T=e+(h+m)*i,R=t+(d+f)*r;break;case 180:B=ke._rescale,g=e+i,b=t,S=-i,x=r,E=e+(1-d-f)*i,A=t+h*r,T=e+(1-d)*i,R=t+(h+m)*r;break;case 270:B=ke._rescaleAndSwap,g=e+i,b=t+r,S=-i,x=-r,E=e+(1-h-m)*i,A=t+(1-d-f)*r,T=e+(1-h)*i,R=t+(1-d)*r;break}for(const{line:k,points:N}of this.#n)l.push(B(k,g,b,S,x,a?new Array(k.length):null)),c.push(B(N,g,b,S,x,a?new Array(N.length):null));return{lines:l,points:c,rect:[E,A,T,R]}}static deserialize(e,t,i,r,a,{paths:{lines:l,points:c},rotation:d,thickness:h}){const f=[];let m,g,b,S,x;switch(d){case 0:x=ke._rescale,m=-e/i,g=t/r+1,b=1/i,S=-1/r;break;case 90:x=ke._rescaleAndSwap,m=-t/r,g=-e/i,b=1/r,S=1/i;break;case 180:x=ke._rescale,m=e/i+1,g=-t/r,b=-1/i,S=1/r;break;case 270:x=ke._rescaleAndSwap,m=t/r+1,g=e/i+1,b=-1/r,S=-1/i;break}if(!l){l=[];for(const A of c){const T=A.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const R=new Float32Array(3*(T-2));l.push(R);let[B,k,N,M]=A.subarray(0,4);R.set([NaN,NaN,NaN,NaN,B,k],0);for(let P=4;P<T;P+=2){const F=A[P],L=A[P+1];R.set(ke.createBezierPoints(B,k,N,M,F,L),(P-2)*3),[B,k,N,M]=[N,M,F,L]}}}for(let A=0,T=l.length;A<T;A++)f.push({line:x(l[A].map(R=>R??NaN),m,g,b,S),points:x(c[A].map(R=>R??NaN),m,g,b,S)});const E=new this.prototype.constructor;return E.build(f,i,r,1,d,h,a),E}#l(e=this.#c){const t=this.#i+e/2*this.#s;return this.#o%180===0?[t/this.#a,t/this.#r]:[t/this.#r,t/this.#a]}#h(){const[e,t,i,r]=this.#e,[a,l]=this.#l(0);return[e+a,t+l,i-2*a,r-2*l]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,d=r.length;c<d;c+=6)Re.pointBoundingBox(r[c],r[c+1],e);continue}let a=r[4],l=r[5];for(let c=6,d=r.length;c<d;c+=6){const[h,f,m,g,b,S]=r.subarray(c,c+6);Re.bezierBoundingBox(a,l,h,f,m,g,b,S,e),a=b,l=S}}const[t,i]=this.#l();e[0]=Fn(e[0]-t,0,1),e[1]=Fn(e[1]-i,0,1),e[2]=Fn(e[2]+t,0,1),e[3]=Fn(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,i]=this.#l();this.#c=e;const[r,a]=this.#l(),[l,c]=[r-t,a-i],d=this.#e;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateParentDimensions([e,t],i){const[r,a]=this.#l();this.#a=e,this.#r=t,this.#s=i;const[l,c]=this.#l(),d=l-r,h=c-a,f=this.#e;return f[0]-=d,f[1]-=h,f[2]+=2*d,f[3]+=2*h,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ke.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(e)} ${ke.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let i=0,r=0,a=0,l=0,c=0,d=0;switch(this.#t){case 90:r=t/e,a=-e/t,c=e;break;case 180:i=-1,l=-1,c=e,d=t;break;case 270:r=-t/e,a=e/t,d=t;break;default:return""}return`matrix(${i} ${r} ${a} ${l} ${ke.svgRound(c)} ${ke.svgRound(d)})`}getPathResizingSVGProperties([e,t,i,r]){const[a,l]=this.#l(),[c,d,h,f]=this.#e;if(Math.abs(h-a)<=ke.PRECISION||Math.abs(f-l)<=ke.PRECISION){const x=e+i/2-(c+h/2),E=t+r/2-(d+f/2);return{path:{"transform-origin":`${ke.svgRound(e)} ${ke.svgRound(t)}`,transform:`${this.rotationTransform} translate(${x} ${E})`}}}const m=(i-2*a)/(h-2*a),g=(r-2*l)/(f-2*l),b=h/i,S=f/r;return{path:{"transform-origin":`${ke.svgRound(c)} ${ke.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${S}) translate(${ke.svgRound(a)} ${ke.svgRound(l)}) scale(${m} ${g}) translate(${ke.svgRound(-a)} ${ke.svgRound(-l)})`}}}getPathResizedSVGProperties([e,t,i,r]){const[a,l]=this.#l(),c=this.#e,[d,h,f,m]=c;if(c[0]=e,c[1]=t,c[2]=i,c[3]=r,Math.abs(f-a)<=ke.PRECISION||Math.abs(m-l)<=ke.PRECISION){const E=e+i/2-(d+f/2),A=t+r/2-(h+m/2);for(const{line:T,points:R}of this.#n)ke._translate(T,E,A,T),ke._translate(R,E,A,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(e)} ${ke.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(i-2*a)/(f-2*a),b=(r-2*l)/(m-2*l),S=-g*(d+a)+e+a,x=-b*(h+l)+t+l;if(g!==1||b!==1||S!==0||x!==0)for(const{line:E,points:A}of this.#n)ke._rescale(E,S,x,g,b,E),ke._rescale(A,S,x,g,b,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(e)} ${ke.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],i){const[r,a]=i,l=this.#e,c=e-l[0],d=t-l[1];if(this.#a===r&&this.#r===a)for(const{line:h,points:f}of this.#n)ke._translate(h,c,d,h),ke._translate(f,c,d,f);else{const h=this.#a/r,f=this.#r/a;this.#a=r,this.#r=a;for(const{line:m,points:g}of this.#n)ke._rescale(m,c,d,h,f,m),ke._rescale(g,c,d,h,f,g);l[2]*=h,l[3]*=f}return l[0]=e,l[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(e)} ${ke.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(e[0])} ${ke.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Jh extends vC{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Fe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Jh(this._viewParameters);return e.updateAll(this),e}}class gb extends Ve{static _type="ink";static _editorType=Ze.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Fe.initialize(e,t),this._defaultDrawingOptions=new Jh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return it(this,"typesMap",new Map([[ut.INK_THICKNESS,"stroke-width"],[ut.INK_COLOR,"stroke"],[ut.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,i,r,a){return new L6(e,t,i,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,i,r,a,l){return eu.deserialize(e,t,i,r,a,l)}static async deserialize(e,t,i){let r=null;if(e instanceof pb){const{data:{inkLists:l,rect:c,rotation:d,id:h,color:f,opacity:m,borderStyle:{rawWidth:g},popupRef:b,richText:S,contentsObj:x,creationDate:E,modificationDate:A},parent:{page:{pageNumber:T}}}=e;r=e={annotationType:Ze.INK,color:Array.from(f),thickness:g,opacity:m,paths:{points:l},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:b,richText:S,comment:x?.str||null,creationDate:E,modificationDate:A}}const a=await super.deserialize(e,t,i);return a._initialData=r,e.comment&&a.setCommentData(e),a}get toolbarButtons(){return this._colorPicker||=new Mc(this),[["colorPicker",this._colorPicker]]}get colorType(){return ut.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:i}=this;t.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:i}){this._drawingOptions=gb.getDefaultDrawingOptions({stroke:Re.makeHexColor(...e),"stroke-width":t,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":a,"stroke-width":l}}=this,c=Object.assign(super.serialize(e),{color:Fe._colorManager.convert(r),opacity:a,thickness:l,paths:{lines:t,points:i}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:t,thickness:i,opacity:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((l,c)=>l!==t[c])||e.thickness!==i||e.opacity!==r||e.pageIndex!==a}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class ay extends eu{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Fd=8,tc=3;class pa{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,i,r,a,l,c){const d=this.#t(i,r,a,l);for(let h=0;h<8;h++){const f=(-h+d-c+16)%8,m=this.#i[2*f],g=this.#i[2*f+1];if(e[(i+m)*t+(r+g)]!==0)return f}return-1}static#a(e,t,i,r,a,l,c){const d=this.#t(i,r,a,l);for(let h=0;h<8;h++){const f=(h+d+c+16)%8,m=this.#i[2*f],g=this.#i[2*f+1];if(e[(i+m)*t+(r+g)]!==0)return f}return-1}static#r(e,t,i,r){const a=e.length,l=new Int32Array(a);for(let f=0;f<a;f++)l[f]=e[f]<=r?1:0;for(let f=1;f<i-1;f++)l[f*t]=l[f*t+t-1]=0;for(let f=0;f<t;f++)l[f]=l[t*i-1-f]=0;let c=1,d;const h=[];for(let f=1;f<i-1;f++){d=1;for(let m=1;m<t-1;m++){const g=f*t+m,b=l[g];if(b===0)continue;let S=f,x=m;if(b===1&&l[g-1]===0)c+=1,x-=1;else if(b>=1&&l[g+1]===0)c+=1,x+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const E=[m,f],A=x===m+1,T={isHole:A,points:E,id:c,parent:0};h.push(T);let R;for(const H of h)if(H.id===d){R=H;break}R?R.isHole?T.parent=A?R.parent:d:T.parent=A?d:R.parent:T.parent=A?d:0;const B=this.#n(l,t,f,m,S,x,0);if(B===-1){l[g]=-c,l[g]!==1&&(d=Math.abs(l[g]));continue}let k=this.#i[2*B],N=this.#i[2*B+1];const M=f+k,P=m+N;S=M,x=P;let F=f,L=m;for(;;){const H=this.#a(l,t,F,L,S,x,1);k=this.#i[2*H],N=this.#i[2*H+1];const X=F+k,V=L+N;E.push(V,X);const Y=F*t+L;if(l[Y+1]===0?l[Y]=-c:l[Y]===1&&(l[Y]=c),X===f&&V===m&&F===M&&L===P){l[g]!==1&&(d=Math.abs(l[g]));break}else S=F,x=L,F=X,L=V}}}return h}static#s(e,t,i,r){if(i-t<=4){for(let M=t;M<i-2;M+=2)r.push(e[M],e[M+1]);return}const a=e[t],l=e[t+1],c=e[i-4]-a,d=e[i-3]-l,h=Math.hypot(c,d),f=c/h,m=d/h,g=f*l-m*a,b=d/c,S=1/h,x=Math.atan(b),E=Math.cos(x),A=Math.sin(x),T=S*(Math.abs(E)+Math.abs(A)),R=S*(1-T+T**2),B=Math.max(Math.atan(Math.abs(A+E)*R),Math.atan(Math.abs(A-E)*R));let k=0,N=t;for(let M=t+2;M<i-2;M+=2){const P=Math.abs(g-f*e[M+1]+m*e[M]);P>k&&(N=M,k=P)}k>(h*B)**2?(this.#s(e,t,N+2,r),this.#s(e,N,i,r)):r.push(a,l)}static#o(e){const t=[],i=e.length;return this.#s(e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t}static#c(e,t,i,r,a,l){const c=new Float32Array(l**2),d=-2*r**2,h=l>>1;for(let x=0;x<l;x++){const E=(x-h)**2;for(let A=0;A<l;A++)c[x*l+A]=Math.exp((E+(A-h)**2)/d)}const f=new Float32Array(256),m=-2*a**2;for(let x=0;x<256;x++)f[x]=Math.exp(x**2/m);const g=e.length,b=new Uint8Array(g),S=new Uint32Array(256);for(let x=0;x<i;x++)for(let E=0;E<t;E++){const A=x*t+E,T=e[A];let R=0,B=0;for(let N=0;N<l;N++){const M=x+N-h;if(!(M<0||M>=i))for(let P=0;P<l;P++){const F=E+P-h;if(F<0||F>=t)continue;const L=e[M*t+F],H=c[N*l+P]*f[Math.abs(L-T)];R+=L*H,B+=H}}const k=b[A]=Math.round(R/B);S[k]++}return[b,S]}static#l(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t}static#h(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,a=1/0;for(let c=0,d=i.length;c<d;c++){const h=i[c]=e[c<<2];r=Math.max(r,h),a=Math.min(a,h)}const l=255/(r-a);for(let c=0,d=i.length;c<d;c++)i[c]=(i[c]-a)*l;return i}static#d(e){let t,i=-1/0,r=-1/0;const a=e.findIndex(d=>d!==0);let l=a,c=a;for(t=a;t<256;t++){const d=e[t];d>i&&(t-l>r&&(r=t-l,c=t-1),i=d,l=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:i,height:r}=e,{maxDim:a}=this.#e;let l=i,c=r;if(i>a||r>a){let g=i,b=r,S=Math.log2(Math.max(i,r)/a);const x=Math.floor(S);S=S===x?x-1:x;for(let A=0;A<S;A++){l=Math.ceil(g/2),c=Math.ceil(b/2);const T=new OffscreenCanvas(l,c);T.getContext("2d").drawImage(e,0,0,g,b,0,0,l,c),g=l,b=c,e!==t&&e.close(),e=T.transferToImageBitmap()}const E=Math.min(a/l,a/c);l=Math.round(l*E),c=Math.round(c*E)}const h=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,l,c),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,l,c);const f=h.getImageData(0,0,l,c).data;return[this.#h(f),l,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},a,l,c,d){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const m=200,g=f.font=`${i} ${r} ${m}px ${t}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:S,actualBoundingBoxAscent:x,actualBoundingBoxDescent:E,fontBoundingBoxAscent:A,fontBoundingBoxDescent:T,width:R}=f.measureText(e),B=1.5,k=Math.ceil(Math.max(Math.abs(b)+Math.abs(S)||0,R)*B),N=Math.ceil(Math.max(Math.abs(x)+Math.abs(E)||m,Math.abs(A)+Math.abs(T)||m)*B);h=new OffscreenCanvas(k,N),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,k,N),f.fillStyle="black",f.fillText(e,k*(B-1)/2,N*(3-B)/2);const M=this.#h(f.getImageData(0,0,k,N).data),P=this.#l(M),F=this.#d(P),L=this.#r(M,k,N,F);return this.processDrawnLines({lines:{curves:L,width:k,height:N},pageWidth:a,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,a){const[l,c,d]=this.#f(e),[h,f]=this.#c(l,c,d,Math.hypot(c,d)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),m=this.#d(f),g=this.#r(h,c,d,m);return this.processDrawnLines({lines:{curves:g,width:c,height:d},pageWidth:t,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:l,areContours:c}){r%180!==0&&([t,i]=[i,t]);const{curves:d,width:h,height:f}=e,m=e.thickness??0,g=[],b=Math.min(t/h,i/f),S=b/t,x=b/i,E=[];for(const{points:T}of d){const R=l?this.#o(T):T;if(!R)continue;E.push(R);const B=R.length,k=new Float32Array(B),N=new Float32Array(3*(B===2?2:B-2));if(g.push({line:N,points:k}),B===2){k[0]=R[0]*S,k[1]=R[1]*x,N.set([NaN,NaN,NaN,NaN,k[0],k[1]],0);continue}let[M,P,F,L]=R;M*=S,P*=x,F*=S,L*=x,k.set([M,P,F,L],0),N.set([NaN,NaN,NaN,NaN,M,P],0);for(let H=4;H<B;H+=2){const X=k[H]=R[H]*S,V=k[H+1]=R[H+1]*x;N.set(ke.createBezierPoints(M,P,F,L,X,V),(H-2)*3),[M,P,F,L]=[F,L,X,V]}}if(g.length===0)return null;const A=c?new ay:new eu;return A.build(g,t,i,1,r,c?0:m,a),{outline:A,newCurves:E,areContours:c,thickness:m,width:h,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:a}){let l=1/0,c=-1/0,d=0;for(const R of e){d+=R.length;for(let B=2,k=R.length;B<k;B++){const N=R[B]-R[B-2];l=Math.min(l,N),c=Math.max(c,N)}}let h;l>=-128&&c<=127?h=Int8Array:l>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const f=e.length,m=Fd+tc*f,g=new Uint32Array(m);let b=0;g[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*f)*h.BYTES_PER_ELEMENT,g[b++]=0,g[b++]=r,g[b++]=a,g[b++]=t?0:1,g[b++]=Math.max(0,Math.floor(i??0)),g[b++]=f,g[b++]=h.BYTES_PER_ELEMENT;for(const R of e)g[b++]=R.length-2,g[b++]=R[0],g[b++]=R[1];const S=new CompressionStream("deflate-raw"),x=S.writable.getWriter();await x.ready,x.write(g);const E=h.prototype.constructor;for(const R of e){const B=new E(R.length-2);for(let k=2,N=R.length;k<N;k++)B[k-2]=R[k]-R[k-2];x.write(B)}x.close();const A=await new Response(S.readable).arrayBuffer(),T=new Uint8Array(A);return zE(T)}static async decompressSignature(e){try{const t=sz(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(t).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,c=0;for await(const R of i)l||=new Uint8Array(new Uint32Array(R.buffer,0,4)[0]),l.set(R,c),c+=R.length;const d=new Uint32Array(l.buffer,0,l.length>>2),h=d[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=d[2],m=d[3],g=d[4]===0,b=d[5],S=d[6],x=d[7],E=[],A=(Fd+tc*S)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(x){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,A);break}c=0;for(let R=0;R<S;R++){const B=d[tc*R+Fd],k=new Float32Array(B+2);E.push(k);for(let N=0;N<tc-1;N++)k[N]=d[tc*R+Fd+N+1];for(let N=0;N<B;N++)k[N+2]=k[N]+T[c++]}return{areContours:g,thickness:b,outlines:E,width:f,height:m}}catch(t){return Qe(`decompressSignature: ${t}`),null}}}class yb extends vC{constructor(){super(),super.updateProperties({fill:Fe._defaultLineColor,"stroke-width":0})}clone(){const e=new yb;return e.updateAll(this),e}}class bb extends Jh{constructor(e){super(e),super.updateProperties({stroke:Fe._defaultLineColor,"stroke-width":1})}clone(){const e=new bb(this._viewParameters);return e.updateAll(this),e}}class xr extends Ve{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=Ze.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Fe.initialize(e,t),this._defaultDrawingOptions=new yb,this._defaultDrawnSignatureOptions=new bb(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return it(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:a,areContours:l,description:c,uuid:d,heightInPage:h}=this.#i,{rawDims:{pageWidth:f,pageHeight:m},rotation:g}=this.parent.viewport,b=pa.processDrawnLines({lines:r,pageWidth:f,pageHeight:m,rotation:g,innerMargin:xr._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(b,h,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:i,width:r,height:a}=this.#i,l=Math.max(r,a),c=pa.processDrawnLines({lines:{curves:e.map(d=>({points:d})),thickness:i,width:r,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,i,r){const{x:a,y:l}=this,{outline:c}=this.#i=e;this.#e=c instanceof ay,this.description=i;let d;this.#e?d=xr.getDefaultDrawingOptions():(d=xr._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,h]=this.pageDimensions;let f=t/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return pa.process(e,t,i,r,xr._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return pa.extractContoursFromText(e,t,i,r,a,xr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return pa.processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:xr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=xr.getDefaultDrawingOptions():(this._drawingOptions=xr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,a=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r});return this.addComment(a),e?(a.paths={lines:t,points:i},a.uuid=this.#n,a.isCopy=!0):a.lines=t,this.#t&&(a.accessibilityData={type:"Figure",alt:this.#t}),a}static deserializeDraw(e,t,i,r,a,l){return l.areContours?ay.deserialize(e,t,i,r,a,l):eu.deserialize(e,t,i,r,a,l)}static async deserialize(e,t,i){const r=await super.deserialize(e,t,i);return r.#e=e.areContours,r.description=e.accessibilityData?.alt||"",r.#n=e.uuid,r}}class j6 extends Fe{#e=null;#t=null;#i=null;#n=null;#a=null;#r="";#s=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ze.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Fe.initialize(e,t)}static isHandlingMimeForPasting(e){return Sh.includes(e)}static paste(e,t){t.pasteEditor({mode:Ze.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#r=e.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:l}=e||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:r,width:a,height:l,channels:r.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),t&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#d(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#d(r)).finally(()=>this.#f());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#d(r)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Sh.join(",");const t=this._uiManager._signal;this.#i=new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}i()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#t=i,r&&(this.#e=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#p(){const{div:e}=this;let{width:t,height:i}=this.#e;const[r,a]=this.pageDimensions,l=.75;if(this.width)t=this.width*r,i=this.height*a;else if(t>l*r||i>l*a){const d=Math.min(l*r/t,l*a/i);t*=d,i*=d}this._uiManager.enableWaiting(!1);const c=this.#s=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/r,this.height=i/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,i=!1){e||(e=224);const{width:r,height:a}=this.#e,l=new ir;let c=this.#e,d=r,h=a,f=null;if(t){if(r>t||a>t){const N=Math.min(t/r,t/a);d=Math.floor(r*N),h=Math.floor(a*N)}f=document.createElement("canvas");const g=f.width=Math.ceil(d*l.sx),b=f.height=Math.ceil(h*l.sy);this.#l||(c=this.#u(g,b));const S=f.getContext("2d");S.filter=this._uiManager.hcmFilter;let x="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":lz.isDarkMode&&(x="#8f8f9d",E="#42414d");const A=15,T=A*l.sx,R=A*l.sy,B=new OffscreenCanvas(T*2,R*2),k=B.getContext("2d");k.fillStyle=x,k.fillRect(0,0,T*2,R*2),k.fillStyle=E,k.fillRect(0,0,T,R),k.fillRect(T,R,T,R),S.fillStyle=S.createPattern(B,"repeat"),S.fillRect(0,0,g,b),S.drawImage(c,0,0,c.width,c.height,0,0,g,b)}let m=null;if(i){let g,b;if(l.symmetric&&c.width<e&&c.height<e)g=c.width,b=c.height;else if(c=this.#e,r>e||a>e){const E=Math.min(e/r,e/a);g=Math.floor(r*E),b=Math.floor(a*E),this.#l||(c=this.#u(g,b))}const x=new OffscreenCanvas(g,b).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,g,b),m={width:g,height:b,data:x.getImageData(0,0,g,b).data}}return{canvas:f,width:d,height:h,imageData:m}}#u(e,t){const{width:i,height:r}=this.#e;let a=i,l=r,c=this.#e;for(;a>2*e||l>2*t;){const d=a,h=l;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const f=new OffscreenCanvas(a,l);f.getContext("2d").drawImage(c,0,0,d,h,0,0,a,l),c=f.transferToImageBitmap()}return c}#m(){const[e,t]=this.parentDimensions,{width:i,height:r}=this,a=new ir,l=Math.ceil(i*e*a.sx),c=Math.ceil(r*t*a.sy),d=this.#s;if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const h=this.#l?this.#e:this.#u(l,c),f=d.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,l,c)}#y(e){if(e){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,i]=this.pageDimensions,r=Math.round(this.width*t*Ca.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Ca.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,a);return l.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,a),l.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,i){let r=null,a=!1;if(e instanceof gC){const{data:{rect:x,rotation:E,id:A,structParent:T,popupRef:R,richText:B,contentsObj:k,creationDate:N,modificationDate:M},container:P,parent:{page:{pageNumber:F}},canvas:L}=e;let H,X;L?(delete e.canvas,{id:H,bitmap:X}=i.imageManager.getFromCanvas(P.id,L),L.remove()):(a=!0,e._hasNoCanvas=!0);const V=(await t._structTree.getAriaAttributes(`${eb}${A}`))?.get("aria-label")||"";r=e={annotationType:Ze.STAMP,bitmapId:H,bitmap:X,pageIndex:F-1,rect:x.slice(0),rotation:E,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:V},isSvg:!1,structParent:T,popupRef:R,richText:B,comment:k?.str||null,creationDate:N,modificationDate:M}}const l=await super.deserialize(e,t,i),{rect:c,bitmap:d,bitmapUrl:h,bitmapId:f,isSvg:m,accessibilityData:g}=e;a?(i.addMissingCanvas(e.id,l),l.#o=!0):f&&i.imageManager.isValidId(f)?(l.#t=f,d&&(l.#e=d)):l.#n=h,l.#l=m;const[b,S]=l.pageDimensions;return l.width=(c[2]-c[0])/b,l.height=(c[3]-c[1])/S,g&&(l.altTextData=g),l._initialData=r,e.comment&&l.setCommentData(e),l.#h=!!r,l}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(i),e)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#v(i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(t===null)return i;t.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:l,serialized:i}),i.bitmap=this.#y(!1);else if(this.#l){const c=t.stamps.get(this.#t);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return i}#v(e){const{pageIndex:t,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===t,a=(e.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Cr{#e;#t=!1;#i=null;#n=null;#a=null;#r=new Map;#s=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([An,gb,j6,on,xr].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:d,viewport:h,l10n:f}){const m=[...Cr.#m.values()];if(!Cr._initialized){Cr._initialized=!0;for(const g of m)g.initialize(f,e)}e.registerEditorTypes(m),this.#u=e,this.pageIndex=t,this.div=i,this.#e=a,this.#i=l,this.viewport=h,this.#d=d,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ze.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#_(),e){case Ze.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ze.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ze.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of Cr.#m.values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.div.classList.toggle("disabled",!e)}get#y(){return this.#r.size!==0?this.#r.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const i of this.#y)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=this.#i;if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:c,timeStamp:d}=r,h=this.#p;if(d-h>500){this.#p=d;return}this.#p=-1;const{classList:f}=this.div;f.toggle("getElements",!0);const m=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(m[0]))return;let g;const b=new RegExp(`^${kc}[0-9]+$`);for(const x of m)if(b.test(x.id)){g=x.id;break}if(!g)return;const S=this.#r.get(g);S?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),S.dblclick(r))},{signal:i,capture:!0})}const e=this.#i;if(e){const i=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(e);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const a=e.getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(this.#u.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=r.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=i.get(c),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const i of Cr.#m.values())t.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#v.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#v(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:i}=Cn.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),on.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#r.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),Fe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of this.#r.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#b(){return Cr.#m.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#E(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:i,offsetY:r}=this.#w(),a=this.getNextId(),l=this.#E({parent:this,id:a,x:i,y:r,uiManager:this.#u,isCentered:!0,...t});l&&this.add(l)}async deserialize(e){return await Cr.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),a=this.#E({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...i});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,a=Math.max(0,e),l=Math.max(0,t),c=Math.min(window.innerWidth,e+i),d=Math.min(window.innerHeight,t+r),h=(a+c)/2-e,f=(l+d)/2-t,[m,g]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:m,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#w(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#s||(this.#s=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const i=this.#u.getMode();if(i===Ze.STAMP||i===Ze.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Ze.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:t}=Cn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#s=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const i=this.#u.getActive();this.#t=!i||i.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(e)):null}findNewParent(e,t,i){const r=this.#u.findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#u.removeLayer(this)}#_(){for(const e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,zs(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#_();const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,zs(this.div,{rotation:i}),t!==i)for(const r of this.#r.values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class En{#e=null;#t=new Map;#i=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return it(this,"_svgFactory",new Dc)}static#a(e,[t,i,r,a]){const{style:l}=e;l.top=`${100*i}%`,l.left=`${100*t}%`,l.width=`${100*r}%`,l.height=`${100*a}%`}#r(){const e=En._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#s(e,t){const i=En._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const a=En._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),r}#o(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)}draw(e,t=!1,i=!1){const r=En.#n++,a=this.#r(),l=En._svgFactory.createElement("defs");a.append(l);const c=En._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(r,c);const h=i?this.#s(l,d):null,f=En._svgFactory.createElement("use");return a.append(f),f.setAttribute("href",`#${d}`),this.updateProperties(a,e),this.#t.set(r,a),{id:r,clipPathId:`url(#${h})`}}drawOutline(e,t){const i=En.#n++,r=this.#r(),a=En._svgFactory.createElement("defs");r.append(a);const l=En._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(t){const m=En._svgFactory.createElement("mask");a.append(m),d=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const g=En._svgFactory.createElement("rect");m.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const b=En._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const h=En._svgFactory.createElement("use");r.append(h),h.setAttribute("href",`#${c}`),d&&h.setAttribute("mask",`url(#${d})`);const f=h.cloneNode();return r.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(i,r),i}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:i,bbox:r,rootClass:a,path:l}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(i&&this.#o(c,i),r&&En.#a(c,r),a){const{classList:d}=c;for(const[h,f]of Object.entries(a))d.toggle(h,f)}if(l){const h=c.firstChild.firstChild;this.#o(h,l)}}}updateParent(e,t){if(t===this)return;const i=this.#t.get(e);i&&(t.#e.append(i),this.#t.delete(e),t.#t.set(e,i))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:ry};globalThis.pdfjsLib={AbortException:ss,AnnotationEditorLayer:Cr,AnnotationEditorParamsType:ut,AnnotationEditorType:Ze,AnnotationEditorUIManager:as,AnnotationLayer:mb,AnnotationMode:Tr,AnnotationType:an,applyOpacity:VE,build:dC,ColorPicker:Si,createValidAbsoluteUrl:Zy,CSSConstants:qE,DOMSVGFactory:Dc,DrawLayer:En,FeatureTest:Cn,fetchData:Qo,findContrastColor:GE,getDocument:cb,getFilenameFromUrl:UE,getPdfFilenameFromUrl:HE,getRGB:Jo,getUuid:Jy,getXfaPageViewport:$E,GlobalWorkerOptions:Fs,ImageKind:yc,InvalidPDFException:_h,isDataScheme:Kc,isPdfFile:Zh,isValidExplicitDest:KE,MathClamp:Fn,noContextMenu:Ti,normalizeUnicode:IE,OPS:Ho,OutputScale:ir,PasswordResponses:BE,PDFDataRangeTransport:db,PDFDateString:xh,PDFWorker:$o,PermissionFlag:PE,PixelsPerInch:Ca,RenderingCancelledException:Kh,renderRichText:nb,ResponseException:Rc,setLayerDimensions:zs,shadow:it,SignatureExtractor:pa,stopEvent:Wt,SupportedImageMimeTypes:Sh,TextLayer:Oc,TouchManager:Qc,updateUrlHash:Qy,Util:Re,VerbosityLevel:Xc,version:hb,XfaLayer:tb};const P6=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ss,AnnotationEditorLayer:Cr,AnnotationEditorParamsType:ut,AnnotationEditorType:Ze,AnnotationEditorUIManager:as,AnnotationLayer:mb,AnnotationMode:Tr,AnnotationType:an,CSSConstants:qE,ColorPicker:Si,DOMSVGFactory:Dc,DrawLayer:En,FeatureTest:Cn,GlobalWorkerOptions:Fs,ImageKind:yc,InvalidPDFException:_h,MathClamp:Fn,OPS:Ho,OutputScale:ir,PDFDataRangeTransport:db,PDFDateString:xh,PDFWorker:$o,PasswordResponses:BE,PermissionFlag:PE,PixelsPerInch:Ca,RenderingCancelledException:Kh,ResponseException:Rc,SignatureExtractor:pa,SupportedImageMimeTypes:Sh,TextLayer:Oc,TouchManager:Qc,Util:Re,VerbosityLevel:Xc,XfaLayer:tb,applyOpacity:VE,build:dC,createValidAbsoluteUrl:Zy,fetchData:Qo,findContrastColor:GE,getDocument:cb,getFilenameFromUrl:UE,getPdfFilenameFromUrl:HE,getRGB:Jo,getUuid:Jy,getXfaPageViewport:$E,isDataScheme:Kc,isPdfFile:Zh,isValidExplicitDest:KE,noContextMenu:Ti,normalizeUnicode:IE,renderRichText:nb,setLayerDimensions:zs,shadow:it,stopEvent:Wt,updateUrlHash:Qy,version:hb},Symbol.toStringTag,{value:"Module"}));var IS=Object.prototype.hasOwnProperty;function zS(n,e,t){for(t of n.keys())if(Lo(t,e))return t}function Lo(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&Lo(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=zS(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=zS(e,r),!r)||!Lo(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(IS.call(n,t)&&++i&&!IS.call(e,t)||!(t in e)||!Lo(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function tu(n){let e=!1;return{promise:new Promise((i,r)=>{n.then(a=>!e&&i(a)).catch(a=>!e&&r(a))}),cancel(){e=!0}}}const B6=["onCopy","onCut","onPaste"],F6=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],I6=["onFocus","onBlur"],z6=["onInput","onInvalid","onReset","onSubmit"],U6=["onLoad","onError"],H6=["onKeyDown","onKeyPress","onKeyUp"],$6=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],q6=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],V6=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],G6=["onSelect"],X6=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Y6=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],W6=["onScroll"],K6=["onWheel"],Z6=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Q6=["onTransitionEnd"],J6=["onToggle"],e5=["onChange"],t5=[...B6,...F6,...I6,...z6,...U6,...H6,...$6,...q6,...V6,...G6,...X6,...Y6,...W6,...K6,...Z6,...Q6,...e5,...J6];function _C(n,e){const t={};for(const i of t5){const r=n[i];r&&(e?t[i]=(a=>r(a,e(i))):t[i]=r)}return t}var n5="Invariant failed";function Nt(n,e){if(!n)throw new Error(n5)}var Zm,US;function i5(){if(US)return Zm;US=1;var n=function(){};return Zm=n,Zm}var r5=i5();const zn=Go(r5),xC=z.createContext(null),s5="noopener noreferrer nofollow";class a5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Nt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Nt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||s5,e.target=i?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Nt(this.pdfDocument),Nt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Nt(Array.isArray(t));const i=t[0];new Promise(r=>{Nt(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(a=>{r(a)}).catch(()=>{Nt(!1)}):typeof i=="number"?r(i):Nt(!1)}).then(r=>{const a=r+1;Nt(this.pdfViewer),Nt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:a})})})}goToPage(e){const t=e-1;Nt(this.pdfViewer),Nt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function jo({children:n,type:e}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const HS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function o5(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function qo(){return z.useReducer(o5,{value:void 0,error:void 0})}const ef=typeof window<"u",SC=ef&&window.location.protocol==="file:";function l5(n){return typeof n<"u"}function ua(n){return l5(n)&&n!==null}function c5(n){return typeof n=="string"}function u5(n){return n instanceof ArrayBuffer}function d5(n){return Nt(ef),n instanceof Blob}function oy(n){return c5(n)&&/^data:/.test(n)}function $S(n){Nt(oy(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function h5(){return ef&&window.devicePixelRatio||1}const wC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function qS(){zn(!SC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${wC}`)}function f5(){zn(!SC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${wC}`)}function ka(n){n?.cancel&&n.cancel()}function ly(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function p5(n){return n.name==="RenderingCancelledException"}function m5(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:a}=r.target;if(!a)return t(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:g5}=P6,y5=(n,e)=>{switch(e){case HS.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case HS.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function VS(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const b5=z.forwardRef(function({children:e,className:t,error:i="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:m,onLoadError:g,onLoadProgress:b,onLoadSuccess:S,onPassword:x=y5,onSourceError:E,onSourceSuccess:A,options:T,renderMode:R,rotate:B,scale:k,...N},M){const[P,F]=qo(),{value:L,error:H}=P,[X,V]=qo(),{value:Y,error:I}=X,U=z.useRef(new a5),C=z.useRef([]),ne=z.useRef(void 0),G=z.useRef(void 0);l&&l!==ne.current&&VS(l)&&(zn(!Lo(l,ne.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ne.current=l),T&&T!==G.current&&(zn(!Lo(T,G.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),G.current=T);const w=z.useRef({scrollPageIntoView:Ce=>{const{dest:Ee,pageNumber:De,pageIndex:Ge=De-1}=Ce;if(m){m({dest:Ee,pageIndex:Ge,pageNumber:De});return}const ze=C.current[Ge];if(ze){ze.scrollIntoView();return}zn(!1,`An internal link leading to page ${De} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});z.useImperativeHandle(M,()=>({linkService:U,pages:C,viewer:w}),[]);function D(){A&&A()}function q(){H&&(zn(!1,H.toString()),E&&E(H))}function j(){F({type:"RESET"})}z.useEffect(j,[l,F]);const K=z.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return oy(l)?{data:$S(l)}:(qS(),{url:l});if(l instanceof g5)return{range:l};if(u5(l))return{data:l};if(ef&&d5(l))return{data:await m5(l)};if(Nt(typeof l=="object"),Nt(VS(l)),"url"in l&&typeof l.url=="string"){if(oy(l.url)){const{url:Ce,...Ee}=l;return{data:$S(Ce),...Ee}}qS()}return l},[l]);z.useEffect(()=>{const Ce=tu(K());return Ce.promise.then(Ee=>{F({type:"RESOLVE",value:Ee})}).catch(Ee=>{F({type:"REJECT",error:Ee})}),()=>{ka(Ce)}},[K,F]),z.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){q();return}D()}},[L]);function ee(){Y&&(S&&S(Y),C.current=new Array(Y.numPages),U.current.setDocument(Y))}function re(){I&&(zn(!1,I.toString()),g&&g(I))}z.useEffect(function(){V({type:"RESET"})},[V,L]),z.useEffect(function(){if(!L)return;const Ee=T?{...L,...T}:L,De=cb(Ee);b&&(De.onProgress=b),x&&(De.onPassword=x);const Ge=De,ze=Ge.promise.then(ft=>{V({type:"RESOLVE",value:ft})}).catch(ft=>{Ge.destroyed||V({type:"REJECT",error:ft})});return()=>{ze.finally(()=>Ge.destroy())}},[T,V,L]),z.useEffect(()=>{if(!(typeof Y>"u")){if(Y===!1){re();return}ee()}},[Y]),z.useEffect(function(){U.current.setViewer(w.current),U.current.setExternalLinkRel(r),U.current.setExternalLinkTarget(a)},[r,a]);const se=z.useCallback((Ce,Ee)=>{C.current[Ce]=Ee},[]),Se=z.useCallback(Ce=>{delete C.current[Ce]},[]),ve=z.useMemo(()=>({imageResourcesPath:d,linkService:U.current,onItemClick:m,pdf:Y,registerPage:se,renderMode:R,rotate:B,scale:k,unregisterPage:Se}),[d,m,Y,se,R,B,k,Se]),we=z.useMemo(()=>_C(N,()=>Y),[N,Y]);function Ie(){function Ce(De){return!!De?.pdf}if(!Ce(ve))throw new Error("pdf is undefined");const Ee=typeof e=="function"?e(ve):e;return v.jsx(xC.Provider,{value:ve,children:Ee})}function qe(){return l?Y==null?v.jsx(jo,{type:"loading",children:typeof h=="function"?h():h}):Y===!1?v.jsx(jo,{type:"error",children:typeof i=="function"?i():i}):Ie():v.jsx(jo,{type:"no-data",children:typeof f=="function"?f():f})}return v.jsx("div",{className:er("react-pdf__Document",t),ref:c,...we,children:qe()})});function AC(){return z.useContext(xC)}function EC(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(a){for(var l=0,c=t;l<c.length;l++){var d=c[l];typeof d=="function"?d(a):d&&(d.current=a)}}}const CC=z.createContext(null);function tf(){return z.useContext(CC)}function v5(){const n=AC(),e=tf();Nt(e);const t={...n,...e},{imageResourcesPath:i,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:h,pdf:f,renderForms:m,rotate:g,scale:b=1}=t;Nt(f),Nt(h),Nt(r);const[S,x]=qo(),{value:E,error:A}=S,T=z.useRef(null);zn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function R(){E&&l&&l(E)}function B(){A&&(zn(!1,A.toString()),a&&a(A))}z.useEffect(function(){x({type:"RESET"})},[x,h]),z.useEffect(function(){if(!h)return;const F=tu(h.getAnnotations()),L=F;return F.promise.then(H=>{x({type:"RESOLVE",value:H})}).catch(H=>{x({type:"REJECT",error:H})}),()=>{ka(L)}},[x,h]),z.useEffect(()=>{if(E!==void 0){if(E===!1){B();return}R()}},[E]);function k(){d&&d()}function N(P){zn(!1,`${P}`),c&&c(P)}const M=z.useMemo(()=>h.getViewport({scale:b,rotation:g}),[h,g,b]);return z.useEffect(function(){if(!f||!h||!r||!E)return;const{current:F}=T;if(!F)return;const L=M.clone({dontFlip:!0}),H={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:F,l10n:null,linkService:r,page:h,structTreeLayer:null,viewport:L},X={annotations:E,annotationStorage:f.annotationStorage,div:F,imageResourcesPath:i,linkService:r,page:h,renderForms:m,viewport:L};F.innerHTML="";try{new mb(H).render(X),k()}catch(V){N(V)}return()=>{}},[E,i,r,h,f,m,M]),v.jsx("div",{className:er("react-pdf__Page__annotations","annotationLayer"),ref:T})}const TC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},_5=/^H(\d+)$/;function x5(n){return n in TC}function nf(n){return"children"in n}function kC(n){return nf(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function S5(n){const e={};if(nf(n)){const{role:t}=n,i=t.match(_5);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(x5(t)){const r=TC[t];r&&(e.role=r)}}return e}function RC(n){const e={};if(nf(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),kC(n)){const[t]=n.children;if(t){const i=RC(t);return{...e,...i}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function w5(n){return n?{...S5(n),...RC(n)}:null}function NC({className:n,node:e}){const t=z.useMemo(()=>w5(e),[e]),i=z.useMemo(()=>!nf(e)||kC(e)?null:e.children.map((r,a)=>v.jsx(NC,{node:r},a)),[e]);return v.jsx("span",{className:n,...t,children:i})}function A5(){const n=tf();Nt(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,r]=qo(),{value:a,error:l}=i,{customTextRenderer:c,page:d}=n;function h(){a&&t&&t(a)}function f(){l&&(zn(!1,l.toString()),e&&e(l))}return z.useEffect(function(){r({type:"RESET"})},[r,d]),z.useEffect(function(){if(c||!d)return;const g=tu(d.getStructTree()),b=g;return g.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>ka(b)},[c,d,r]),z.useEffect(()=>{if(a!==void 0){if(a===!1){f();return}h()}},[a]),a?v.jsx(NC,{className:"react-pdf__Page__structTree structTree",node:a}):null}const GS=Tr;function E5(n){const e=tf();Nt(e);const t={...e,...n},{_className:i,canvasBackground:r,devicePixelRatio:a=h5(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:h,renderTextLayer:f,rotate:m,scale:g}=t,{canvasRef:b}=n;Nt(d);const S=z.useRef(null);function x(){d&&c&&c(ly(d,g))}function E(B){p5(B)||(zn(!1,B.toString()),l&&l(B))}const A=z.useMemo(()=>d.getViewport({scale:g*a,rotation:m}),[a,d,m,g]),T=z.useMemo(()=>d.getViewport({scale:g,rotation:m}),[d,m,g]);z.useEffect(function(){if(!d)return;d.cleanup();const{current:k}=S;if(!k)return;k.width=A.width,k.height=A.height,k.style.width=`${Math.floor(T.width)}px`,k.style.height=`${Math.floor(T.height)}px`,k.style.visibility="hidden";const N={annotationMode:h?GS.ENABLE_FORMS:GS.ENABLE,canvas:k,canvasContext:k.getContext("2d",{alpha:!1}),viewport:A};r&&(N.background=r);const M=d.render(N),P=M;return M.promise.then(()=>{k.style.visibility="",x()}).catch(E),()=>ka(P)},[r,d,h,A,T]);const R=z.useCallback(()=>{const{current:B}=S;B&&(B.width=0,B.height=0)},[]);return z.useEffect(()=>R,[R]),v.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:EC(b,S),style:{display:"block",userSelect:"none"},children:f?v.jsx(A5,{}):null})}function C5(n){return"str"in n}function T5(){const n=tf();Nt(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:d,rotate:h,scale:f}=n;Nt(l);const[m,g]=qo(),{value:b,error:S}=m,x=z.useRef(null);zn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){b&&i&&i(b)}function A(){S&&(zn(!1,S.toString()),t&&t(S))}z.useEffect(function(){g({type:"RESET"})},[l,g]),z.useEffect(function(){if(!l)return;const P=tu(l.getTextContent()),F=P;return P.promise.then(L=>{g({type:"RESOLVE",value:L})}).catch(L=>{g({type:"REJECT",error:L})}),()=>ka(F)},[l,g]),z.useEffect(()=>{if(b!==void 0){if(b===!1){A();return}E()}},[b]);const T=z.useCallback(()=>{a&&a()},[a]),R=z.useCallback(M=>{zn(!1,M.toString()),r&&r(M)},[r]);function B(){const M=x.current;M&&M.classList.add("selecting")}function k(){const M=x.current;M&&M.classList.remove("selecting")}const N=z.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);return z.useLayoutEffect(function(){if(!l||!b)return;const{current:P}=x;if(!P)return;P.innerHTML="";const F=l.streamTextContent({includeMarkedContent:!0}),L={container:P,textContentSource:F,viewport:N},H=new Oc(L),X=H;return H.render().then(()=>{const V=document.createElement("div");V.className="endOfContent",P.append(V);const Y=P.querySelectorAll('[role="presentation"]');if(e){let I=0;b.items.forEach((U,C)=>{if(!C5(U))return;const ne=Y[I];if(!ne)return;const G=e({pageIndex:c,pageNumber:d,itemIndex:C,...U});ne.innerHTML=G,I+=U.str&&U.hasEOL?2:1})}T()}).catch(R),()=>ka(X)},[e,R,T,l,c,d,b,N]),v.jsx("div",{className:er("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:B,ref:x})}const XS=1;function k5(n){const t={...AC(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:a,canvasRef:l,children:c,className:d,customRenderer:h,customTextRenderer:f,devicePixelRatio:m,error:g="Failed to load the page.",height:b,inputRef:S,loading:x="Loading page",noData:E="No page specified.",onGetAnnotationsError:A,onGetAnnotationsSuccess:T,onGetStructTreeError:R,onGetStructTreeSuccess:B,onGetTextError:k,onGetTextSuccess:N,onLoadError:M,onLoadSuccess:P,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:L,onRenderError:H,onRenderSuccess:X,onRenderTextLayerError:V,onRenderTextLayerSuccess:Y,pageIndex:I,pageNumber:U,pdf:C,registerPage:ne,renderAnnotationLayer:G=!0,renderForms:w=!1,renderMode:D="canvas",renderTextLayer:q=!0,rotate:j,scale:K=XS,unregisterPage:ee,width:re,...se}=t,[Se,ve]=qo(),{value:we,error:Ie}=Se,qe=z.useRef(null);Nt(C);const Ce=ua(U)?U-1:I??null,Ee=U??(ua(I)?I+1:null),De=j??(we?we.rotate:null),Ge=z.useMemo(()=>{if(!we)return null;let he=1;const _e=K??XS;if(re||b){const je=we.getViewport({scale:1,rotation:De});re?he=re/je.width:b&&(he=b/je.height)}return _e*he},[b,we,De,K,re]);z.useEffect(function(){return()=>{ua(Ce)&&r&&ee&&ee(Ce)}},[r,C,Ce,ee]);function ze(){if(P){if(!we||!Ge)return;P(ly(we,Ge))}if(r&&ne){if(!ua(Ce)||!qe.current)return;ne(Ce,qe.current)}}function ft(){Ie&&(zn(!1,Ie.toString()),M&&M(Ie))}z.useEffect(function(){ve({type:"RESET"})},[ve,C,Ce]),z.useEffect(function(){if(!C||!Ee)return;const _e=tu(C.getPage(Ee)),je=_e;return _e.promise.then(rt=>{ve({type:"RESOLVE",value:rt})}).catch(rt=>{ve({type:"REJECT",error:rt})}),()=>ka(je)},[ve,C,Ee]),z.useEffect(()=>{if(we!==void 0){if(we===!1){ft();return}ze()}},[we,Ge]);const Ae=z.useMemo(()=>ua(Ce)&&Ee&&ua(De)&&ua(Ge)?{_className:i,canvasBackground:a,customTextRenderer:f,devicePixelRatio:m,onGetAnnotationsError:A,onGetAnnotationsSuccess:T,onGetStructTreeError:R,onGetStructTreeSuccess:B,onGetTextError:k,onGetTextSuccess:N,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:L,onRenderError:H,onRenderSuccess:X,onRenderTextLayerError:V,onRenderTextLayerSuccess:Y,page:we,pageIndex:Ce,pageNumber:Ee,renderForms:w,renderTextLayer:q,rotate:De,scale:Ge}:null,[i,a,f,m,A,T,R,B,k,N,F,L,H,X,V,Y,we,Ce,Ee,w,q,De,Ge]),W=z.useMemo(()=>_C(se,()=>we&&(Ge?ly(we,Ge):void 0)),[se,we,Ge]),J=`${Ce}@${Ge}/${De}`;function ce(){switch(D){case"custom":return Nt(h),v.jsx(h,{},`${J}_custom`);case"none":return null;case"canvas":default:return v.jsx(E5,{canvasRef:l},`${J}_canvas`)}}function xe(){return q?v.jsx(T5,{},`${J}_text`):null}function ge(){return G?v.jsx(v5,{},`${J}_annotations`):null}function ye(){function he(je){return!!je?.page}if(!he(Ae))throw new Error("page is undefined");const _e=typeof c=="function"?c(Ae):c;return v.jsxs(CC.Provider,{value:Ae,children:[ce(),xe(),ge(),_e]})}function te(){return Ee?C===null||we===void 0||we===null?v.jsx(jo,{type:"loading",children:typeof x=="function"?x():x}):C===!1||we===!1?v.jsx(jo,{type:"error",children:typeof g=="function"?g():g}):ye():v.jsx(jo,{type:"no-data",children:typeof E=="function"?E():E})}return v.jsx("div",{className:er(i,d),"data-page-number":Ee,ref:EC(S,qe),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ge}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...W,children:te()})}f5();Fs.workerSrc="pdf.worker.mjs";const R5="_viewerWrapper_96yw2_1",N5="_header_96yw2_14",O5="_fileSelector_96yw2_31",M5="_fileName_96yw2_39",D5="_fileDropdown_96yw2_47",L5="_dropdownChevron_96yw2_79",j5="_controls_96yw2_87",P5="_uploadBtn_96yw2_94",B5="_zoomControls_96yw2_112",F5="_zoomBtn_96yw2_118",I5="_resetBtn_96yw2_119",z5="_zoomLevel_96yw2_140",U5="_hint_96yw2_148",H5="_pdfContainer_96yw2_160",$5="_pdfPage_96yw2_169",q5="_footer_96yw2_215",V5="_footerContent_96yw2_221",G5="_addNoteFloating_96yw2_230",X5="_inlinePageInput_96yw2_256",Xt={viewerWrapper:R5,header:N5,fileSelector:O5,fileName:M5,fileDropdown:D5,dropdownChevron:L5,controls:j5,uploadBtn:P5,zoomControls:B5,zoomBtn:F5,resetBtn:I5,zoomLevel:z5,hint:U5,pdfContainer:H5,pdfPage:$5,footer:q5,footerContent:V5,addNoteFloating:G5,inlinePageInput:X5};async function Y5(n){try{const e=await pt.get(`/files/modules/${n}`);return console.log("Response from getFileUrl:",e.data),e.data}catch(e){throw console.error(" Failed to fetch file URL:",e),new Error("Failed to fetch file URL")}}Fs.workerSrc=`//unpkg.com/pdfjs-dist@${hb}/build/pdf.worker.min.mjs`;function OC({fileId:n,fileName:e="PDF Document",height:t="700px",allFiles:i=[],selectedFileId:r,onFileSelect:a,onUploadMore:l,userId:c,onSelectTextAddNote:d}){const[h,f]=z.useState(null),[m,g]=z.useState(null),[b,S]=z.useState(1.6),[x,E]=z.useState(1),[A,T]=z.useState("1"),R=z.useRef(),[B,k]=z.useState(""),[N,M]=z.useState(!1),[P,F]=z.useState({x:0,y:0}),L=z.useRef(),H=window.innerWidth<=768;z.useEffect(()=>{if(!n)return;(async()=>{try{const w=await Y5(n);console.log("Fetched file URL:",w),f(w.url)}catch(w){console.error("Error fetching PDF file:",w)}})()},[n]),z.useEffect(()=>{const G=()=>{const D=window.getSelection(),q=D.toString().trim();if(q.length===0){M(!1);return}try{const K=D.getRangeAt(0).getBoundingClientRect();if(K.width===0||K.height===0){M(!1);return}k(q),F({x:Math.max(10,K.left+window.scrollX),y:K.bottom+window.scrollY+6}),M(!0)}catch{M(!1)}},w=R.current;if(w)return w.addEventListener("mouseup",G),w.addEventListener("touchend",G),()=>{w.removeEventListener("mouseup",G),w.removeEventListener("touchend",G)}},[]);const X=async G=>{try{const w=`

**Highlighted Text:**
${G}`;await pt.post("/notes/append",{userId:c,fileId:n,text:w}),d(w),M(!1)}catch(w){console.error("Failed to append note",w)}};z.useEffect(()=>{const G=()=>{if(!R.current)return;const w=R.current.offsetWidth;w<=480?S(w/300):S(w/600)};return G(),window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]);const V=({numPages:G})=>{g(G),T("1")};z.useEffect(()=>{const G=R.current;if(!G||!m)return;const w=()=>{const D=Array.from(G.querySelectorAll(`.${Xt.pdfPage}`)),j=G.scrollTop+G.clientHeight/2;let K=1;for(let ee=0;ee<D.length;ee++){const re=D[ee],se=re.offsetTop,Se=se+re.offsetHeight;if(j>=se&&j<Se){K=ee+1;break}}E(K),T(String(K))};return G.addEventListener("scroll",w),()=>G.removeEventListener("scroll",w)},[m]);const Y=()=>{S(G=>Math.min(G+.2,3))},I=()=>{S(G=>Math.max(G-.2,.5))},U=()=>{S(1.6)},C=G=>T(G.target.value),ne=G=>{if(G.key==="Enter"&&R.current){const w=parseInt(A,10);if(!isNaN(w)&&w>=1&&w<=m){const D=R.current.querySelector(`.${Xt.pdfPage}:nth-child(${w})`);D&&R.current.scrollTo({top:D.offsetTop-10,behavior:"smooth"})}else T(String(x))}};return v.jsxs("div",{className:Xt.viewerWrapper,ref:L,children:[v.jsxs("div",{className:Xt.header,children:[v.jsx("div",{className:Xt.fileSelector,children:i.length>1?v.jsxs(v.Fragment,{children:[v.jsx("select",{value:r||"",onChange:G=>{const w=i.find(D=>D.id===parseInt(G.target.value));w&&a&&a(w)},className:Xt.fileDropdown,children:i.map(G=>v.jsx("option",{value:G.id,children:G.displayTitle},G.id))}),v.jsx(ZA,{size:16,className:Xt.dropdownChevron})]}):v.jsx("span",{className:Xt.fileName,children:e})}),v.jsxs("div",{className:Xt.controls,children:[l&&v.jsx("button",{onClick:l,className:Xt.uploadBtn,title:"Upload more files",children:v.jsx(Uy,{size:16})}),v.jsxs("div",{className:Xt.zoomControls,children:[v.jsx("button",{onClick:I,className:Xt.zoomBtn,title:"Zoom Out",children:v.jsx(Ij,{size:16})}),v.jsxs("span",{className:Xt.zoomLevel,children:[Math.round(b*100),"%"]}),v.jsx("button",{onClick:Y,className:Xt.zoomBtn,title:"Zoom In",children:v.jsx(Bj,{size:16})}),v.jsx("button",{onClick:U,className:Xt.resetBtn,title:"Reset Zoom",children:"Reset"})]})]})]}),v.jsx("div",{className:Xt.hint,children:v.jsx("span",{children:" Tip: Highlight any text to add it to your notes"})}),v.jsx("div",{className:Xt.pdfContainer,style:{height:t},ref:R,children:h?v.jsx(b5,{file:h,onLoadSuccess:V,onLoadError:G=>console.error("PDF load error:",G),children:Array.from(new Array(m),(G,w)=>v.jsx("div",{className:Xt.pdfPage,children:v.jsx(k5,{pageNumber:w+1,scale:b,renderMode:"canvas",renderAnnotationLayer:!1,renderTextLayer:!0,width:H?R.current?.offsetWidth:void 0})},w))},h):v.jsx("div",{className:Xt.loading,children:"Loading PDF..."})}),N&&v.jsxs("button",{onClick:async()=>{await X(B),M(!1)},className:Xt.addNoteFloating,style:{top:`${P.y}px`,left:`${P.x}px`},children:[v.jsx(Fg,{size:14}),"Add to Notes"]}),h&&v.jsx("div",{className:Xt.footer,children:v.jsxs("div",{className:Xt.footerContent,children:[v.jsx("span",{children:"Page"}),v.jsx("input",{type:"number",min:"1",max:m||1,value:A,onChange:C,onKeyDown:ne,className:Xt.inlinePageInput}),v.jsxs("span",{children:["/ ",m||"--"]})]})})]})}const W5="_wrapper_z7eri_1",K5="_chatContainer_z7eri_10",Z5="_chatBox_z7eri_31",Q5="_inputArea_z7eri_93",J5="_input_z7eri_93",e8="_sendBtn_z7eri_134",t8="_actionButtons_z7eri_175",n8="_actionBtn_z7eri_184",i8="_messageWrapper_z7eri_218",r8="_messageContentWrapper_z7eri_222",s8="_copyIconBtn_z7eri_227",a8="_copied_z7eri_250",o8="_addToNotesBtn_z7eri_260",l8="_addedToNotes_z7eri_290",c8="_loadingContainer_z7eri_320",u8="_loadingSkeleton_z7eri_328",d8="_skeletonLine_z7eri_338",h8="_emptyState_z7eri_369",f8="_emptyContent_z7eri_377",_t={wrapper:W5,chatContainer:K5,chatBox:Z5,inputArea:Q5,input:J5,sendBtn:e8,actionButtons:t8,actionBtn:n8,messageWrapper:i8,messageContentWrapper:r8,copyIconBtn:s8,copied:a8,addToNotesBtn:o8,addedToNotes:l8,loadingContainer:c8,loadingSkeleton:u8,skeletonLine:d8,emptyState:h8,emptyContent:f8};function p8(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const m8=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,g8=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,y8={};function YS(n,e){return(y8.jsx?g8:m8).test(n)}const b8=/[ \t\n\f\r]/g;function v8(n){return typeof n=="object"?n.type==="text"?WS(n.value):!1:WS(n)}function WS(n){return n.replace(b8,"")===""}class nu{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}nu.prototype.normal={};nu.prototype.property={};nu.prototype.space=void 0;function MC(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new nu(t,i,e)}function cy(n){return n.toLowerCase()}class hi{constructor(e,t){this.attribute=t,this.property=e}}hi.prototype.attribute="";hi.prototype.booleanish=!1;hi.prototype.boolean=!1;hi.prototype.commaOrSpaceSeparated=!1;hi.prototype.commaSeparated=!1;hi.prototype.defined=!1;hi.prototype.mustUseProperty=!1;hi.prototype.number=!1;hi.prototype.overloadedBoolean=!1;hi.prototype.property="";hi.prototype.spaceSeparated=!1;hi.prototype.space=void 0;let _8=0;const nt=Ma(),gn=Ma(),uy=Ma(),be=Ma(),Lt=Ma(),Po=Ma(),_i=Ma();function Ma(){return 2**++_8}const dy=Object.freeze(Object.defineProperty({__proto__:null,boolean:nt,booleanish:gn,commaOrSpaceSeparated:_i,commaSeparated:Po,number:be,overloadedBoolean:uy,spaceSeparated:Lt},Symbol.toStringTag,{value:"Module"})),Qm=Object.keys(dy);class vb extends hi{constructor(e,t,i,r){let a=-1;if(super(e,t),KS(this,"space",r),typeof i=="number")for(;++a<Qm.length;){const l=Qm[a];KS(this,Qm[a],(i&dy[l])===dy[l])}}}vb.prototype.defined=!0;function KS(n,e,t){t&&(n[e]=t)}function el(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const a=new vb(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),e[i]=a,t[cy(i)]=i,t[cy(a.attribute)]=i}return new nu(e,t,n.space)}const DC=el({properties:{ariaActiveDescendant:null,ariaAtomic:gn,ariaAutoComplete:null,ariaBusy:gn,ariaChecked:gn,ariaColCount:be,ariaColIndex:be,ariaColSpan:be,ariaControls:Lt,ariaCurrent:null,ariaDescribedBy:Lt,ariaDetails:null,ariaDisabled:gn,ariaDropEffect:Lt,ariaErrorMessage:null,ariaExpanded:gn,ariaFlowTo:Lt,ariaGrabbed:gn,ariaHasPopup:null,ariaHidden:gn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Lt,ariaLevel:be,ariaLive:null,ariaModal:gn,ariaMultiLine:gn,ariaMultiSelectable:gn,ariaOrientation:null,ariaOwns:Lt,ariaPlaceholder:null,ariaPosInSet:be,ariaPressed:gn,ariaReadOnly:gn,ariaRelevant:null,ariaRequired:gn,ariaRoleDescription:Lt,ariaRowCount:be,ariaRowIndex:be,ariaRowSpan:be,ariaSelected:gn,ariaSetSize:be,ariaSort:null,ariaValueMax:be,ariaValueMin:be,ariaValueNow:be,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function LC(n,e){return e in n?n[e]:e}function jC(n,e){return LC(n,e.toLowerCase())}const x8=el({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Po,acceptCharset:Lt,accessKey:Lt,action:null,allow:null,allowFullScreen:nt,allowPaymentRequest:nt,allowUserMedia:nt,alt:null,as:null,async:nt,autoCapitalize:null,autoComplete:Lt,autoFocus:nt,autoPlay:nt,blocking:Lt,capture:null,charSet:null,checked:nt,cite:null,className:Lt,cols:be,colSpan:null,content:null,contentEditable:gn,controls:nt,controlsList:Lt,coords:be|Po,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nt,defer:nt,dir:null,dirName:null,disabled:nt,download:uy,draggable:gn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nt,formTarget:null,headers:Lt,height:be,hidden:uy,high:be,href:null,hrefLang:null,htmlFor:Lt,httpEquiv:Lt,id:null,imageSizes:null,imageSrcSet:null,inert:nt,inputMode:null,integrity:null,is:null,isMap:nt,itemId:null,itemProp:Lt,itemRef:Lt,itemScope:nt,itemType:Lt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nt,low:be,manifest:null,max:null,maxLength:be,media:null,method:null,min:null,minLength:be,multiple:nt,muted:nt,name:null,nonce:null,noModule:nt,noValidate:nt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nt,optimum:be,pattern:null,ping:Lt,placeholder:null,playsInline:nt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nt,referrerPolicy:null,rel:Lt,required:nt,reversed:nt,rows:be,rowSpan:be,sandbox:Lt,scope:null,scoped:nt,seamless:nt,selected:nt,shadowRootClonable:nt,shadowRootDelegatesFocus:nt,shadowRootMode:null,shape:null,size:be,sizes:null,slot:null,span:be,spellCheck:gn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:be,step:null,style:null,tabIndex:be,target:null,title:null,translate:null,type:null,typeMustMatch:nt,useMap:null,value:gn,width:be,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Lt,axis:null,background:null,bgColor:null,border:be,borderColor:null,bottomMargin:be,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nt,declare:nt,event:null,face:null,frame:null,frameBorder:null,hSpace:be,leftMargin:be,link:null,longDesc:null,lowSrc:null,marginHeight:be,marginWidth:be,noResize:nt,noHref:nt,noShade:nt,noWrap:nt,object:null,profile:null,prompt:null,rev:null,rightMargin:be,rules:null,scheme:null,scrolling:gn,standby:null,summary:null,text:null,topMargin:be,valueType:null,version:null,vAlign:null,vLink:null,vSpace:be,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nt,disableRemotePlayback:nt,prefix:null,property:null,results:be,security:null,unselectable:null},space:"html",transform:jC}),S8=el({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:_i,accentHeight:be,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:be,amplitude:be,arabicForm:null,ascent:be,attributeName:null,attributeType:null,azimuth:be,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:be,by:null,calcMode:null,capHeight:be,className:Lt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:be,diffuseConstant:be,direction:null,display:null,dur:null,divisor:be,dominantBaseline:null,download:nt,dx:null,dy:null,edgeMode:null,editable:null,elevation:be,enableBackground:null,end:null,event:null,exponent:be,externalResourcesRequired:null,fill:null,fillOpacity:be,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Po,g2:Po,glyphName:Po,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:be,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:be,horizOriginX:be,horizOriginY:be,id:null,ideographic:be,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:be,k:be,k1:be,k2:be,k3:be,k4:be,kernelMatrix:_i,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:be,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:be,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:be,overlineThickness:be,paintOrder:null,panose1:null,path:null,pathLength:be,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Lt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:be,pointsAtY:be,pointsAtZ:be,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:_i,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:_i,rev:_i,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:_i,requiredFeatures:_i,requiredFonts:_i,requiredFormats:_i,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:be,specularExponent:be,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:be,strikethroughThickness:be,string:null,stroke:null,strokeDashArray:_i,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:be,strokeOpacity:be,strokeWidth:null,style:null,surfaceScale:be,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:_i,tabIndex:be,tableValues:null,target:null,targetX:be,targetY:be,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:_i,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:be,underlineThickness:be,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:be,values:null,vAlphabetic:be,vMathematical:be,vectorEffect:null,vHanging:be,vIdeographic:be,version:null,vertAdvY:be,vertOriginX:be,vertOriginY:be,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:be,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:LC}),PC=el({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),BC=el({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jC}),FC=el({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),w8={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},A8=/[A-Z]/g,ZS=/-[a-z]/g,E8=/^data[-\w.:]+$/i;function C8(n,e){const t=cy(e);let i=e,r=hi;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&E8.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(ZS,k8);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!ZS.test(a)){let l=a.replace(A8,T8);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}r=vb}return new r(i,e)}function T8(n){return"-"+n.toLowerCase()}function k8(n){return n.charAt(1).toUpperCase()}const R8=MC([DC,x8,PC,BC,FC],"html"),_b=MC([DC,S8,PC,BC,FC],"svg");function N8(n){return n.join(" ").trim()}var xo={},Jm,QS;function O8(){if(QS)return Jm;QS=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,h="/",f="*",m="",g="comment",b="declaration";function S(E,A){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];A=A||{};var T=1,R=1;function B(Y){var I=Y.match(e);I&&(T+=I.length);var U=Y.lastIndexOf(d);R=~U?Y.length-U:R+Y.length}function k(){var Y={line:T,column:R};return function(I){return I.position=new N(Y),F(),I}}function N(Y){this.start=Y,this.end={line:T,column:R},this.source=A.source}N.prototype.content=E;function M(Y){var I=new Error(A.source+":"+T+":"+R+": "+Y);if(I.reason=Y,I.filename=A.source,I.line=T,I.column=R,I.source=E,!A.silent)throw I}function P(Y){var I=Y.exec(E);if(I){var U=I[0];return B(U),E=E.slice(U.length),I}}function F(){P(t)}function L(Y){var I;for(Y=Y||[];I=H();)I!==!1&&Y.push(I);return Y}function H(){var Y=k();if(!(h!=E.charAt(0)||f!=E.charAt(1))){for(var I=2;m!=E.charAt(I)&&(f!=E.charAt(I)||h!=E.charAt(I+1));)++I;if(I+=2,m===E.charAt(I-1))return M("End of comment missing");var U=E.slice(2,I-2);return R+=2,B(U),E=E.slice(I),R+=2,Y({type:g,comment:U})}}function X(){var Y=k(),I=P(i);if(I){if(H(),!P(r))return M("property missing ':'");var U=P(a),C=Y({type:b,property:x(I[0].replace(n,m)),value:U?x(U[0].replace(n,m)):m});return P(l),C}}function V(){var Y=[];L(Y);for(var I;I=X();)I!==!1&&(Y.push(I),L(Y));return Y}return F(),V()}function x(E){return E?E.replace(c,m):m}return Jm=S,Jm}var JS;function M8(){if(JS)return xo;JS=1;var n=xo&&xo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xo,"__esModule",{value:!0}),xo.default=t;const e=n(O8());function t(i,r){let a=null;if(!i||typeof i!="string")return a;const l=(0,e.default)(i),c=typeof r=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:h,value:f}=d;c?r(h,f,d):f&&(a=a||{},a[h]=f)}),a}return xo}var nc={},ew;function D8(){if(ew)return nc;ew=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,a=function(h){return!h||t.test(h)||n.test(h)},l=function(h,f){return f.toUpperCase()},c=function(h,f){return"".concat(f,"-")},d=function(h,f){return f===void 0&&(f={}),a(h)?h:(h=h.toLowerCase(),f.reactCompat?h=h.replace(r,c):h=h.replace(i,c),h.replace(e,l))};return nc.camelCase=d,nc}var ic,tw;function L8(){if(tw)return ic;tw=1;var n=ic&&ic.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},e=n(M8()),t=D8();function i(r,a){var l={};return!r||typeof r!="string"||(0,e.default)(r,function(c,d){c&&d&&(l[(0,t.camelCase)(c,a)]=d)}),l}return i.default=i,ic=i,ic}var j8=L8();const P8=Go(j8),IC=zC("end"),xb=zC("start");function zC(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function B8(n){const e=xb(n),t=IC(n);if(e&&t)return{start:e,end:t}}function vc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?nw(n.position):"start"in n||"end"in n?nw(n):"line"in n||"column"in n?hy(n):""}function hy(n){return iw(n&&n.line)+":"+iw(n&&n.column)}function nw(n){return hy(n&&n.start)+"-"+hy(n&&n.end)}function iw(n){return n&&typeof n=="number"?n:1}class Un extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",a={},l=!1;if(t&&("line"in t&&"column"in t?a={place:t}:"start"in t&&"end"in t?a={place:t}:"type"in t?a={ancestors:[t],place:t.position}:a={...t}),typeof e=="string"?r=e:!a.cause&&e&&(l=!0,r=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?a.ruleId=i:(a.source=i.slice(0,d),a.ruleId=i.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=c?c.line:void 0,this.name=vc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Un.prototype.file="";Un.prototype.name="";Un.prototype.reason="";Un.prototype.message="";Un.prototype.stack="";Un.prototype.column=void 0;Un.prototype.line=void 0;Un.prototype.ancestors=void 0;Un.prototype.cause=void 0;Un.prototype.fatal=void 0;Un.prototype.place=void 0;Un.prototype.ruleId=void 0;Un.prototype.source=void 0;const Sb={}.hasOwnProperty,F8=new Map,I8=/[A-Z]/g,z8=new Set(["table","tbody","thead","tfoot","tr"]),U8=new Set(["td","th"]),UC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function H8(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=K8(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=W8(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?_b:R8,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=HC(r,n,void 0);return a&&typeof a!="string"?a:r.create(n,r.Fragment,{children:a||void 0},void 0)}function HC(n,e,t){if(e.type==="element")return $8(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return q8(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return G8(n,e,t);if(e.type==="mdxjsEsm")return V8(n,e);if(e.type==="root")return X8(n,e,t);if(e.type==="text")return Y8(n,e)}function $8(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=_b,n.schema=r),n.ancestors.push(e);const a=qC(n,e.tagName,!1),l=Z8(n,e);let c=Ab(n,e);return z8.has(e.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!v8(d):!0})),$C(n,l,a,e),wb(l,c),n.ancestors.pop(),n.schema=i,n.create(e,a,l,t)}function q8(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Lc(n,e.position)}function V8(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Lc(n,e.position)}function G8(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=_b,n.schema=r),n.ancestors.push(e);const a=e.name===null?n.Fragment:qC(n,e.name,!0),l=Q8(n,e),c=Ab(n,e);return $C(n,l,a,e),wb(l,c),n.ancestors.pop(),n.schema=i,n.create(e,a,l,t)}function X8(n,e,t){const i={};return wb(i,Ab(n,e)),n.create(e,n.Fragment,i,t)}function Y8(n,e){return e.value}function $C(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function wb(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function W8(n,e,t){return i;function i(r,a,l,c){const h=Array.isArray(l.children)?t:e;return c?h(a,l,c):h(a,l)}}function K8(n,e){return t;function t(i,r,a,l){const c=Array.isArray(a.children),d=xb(i);return e(r,a,l,c,{columnNumber:d?d.column-1:void 0,fileName:n,lineNumber:d?d.line:void 0},void 0)}}function Z8(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&Sb.call(e.properties,r)){const a=J8(n,r,e.properties[r]);if(a){const[l,c]=a;n.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&U8.has(e.tagName)?i=c:t[l]=c}}if(i){const a=t.style||(t.style={});a[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function Q8(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const a=i.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(t,n.evaluater.evaluateExpression(c.argument))}else Lc(n,e.position);else{const r=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const c=i.value.data.estree.body[0];c.type,a=n.evaluater.evaluateExpression(c.expression)}else Lc(n,e.position);else a=i.value===null?!0:i.value;t[r]=a}return t}function Ab(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:F8;for(;++i<e.children.length;){const a=e.children[i];let l;if(n.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const h=r.get(d)||0;l=d+"-"+h,r.set(d,h+1)}}const c=HC(n,a,l);c!==void 0&&t.push(c)}return t}function J8(n,e,t){const i=C8(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?p8(t):N8(t)),i.property==="style"){let r=typeof t=="object"?t:e9(n,String(t));return n.stylePropertyNameCase==="css"&&(r=t9(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?w8[i.property]||i.property:i.attribute,t]}}function e9(n,e){try{return P8(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new Un("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=UC+"#cannot-parse-style-attribute",r}}function qC(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let a=-1,l;for(;++a<r.length;){const c=YS(r[a])?{type:"Identifier",name:r[a]}:{type:"Literal",value:r[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}i=l}else i=YS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return Sb.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Lc(n)}function Lc(n,e){const t=new Un("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=UC+"#cannot-handle-mdx-estrees-without-createevaluater",t}function t9(n){const e={};let t;for(t in n)Sb.call(n,t)&&(e[n9(t)]=n[t]);return e}function n9(n){let e=n.replace(I8,i9);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function i9(n){return"-"+n.toLowerCase()}const eg={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},r9={};function s9(n,e){const t=r9,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return VC(n,i,r)}function VC(n,e,t){if(a9(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return rw(n.children,e,t)}return Array.isArray(n)?rw(n,e,t):""}function rw(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=VC(n[r],e,t);return i.join("")}function a9(n){return!!(n&&typeof n=="object")}const sw=document.createElement("i");function Eb(n){const e="&"+n+";";sw.innerHTML=e;const t=sw.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function Rr(n,e,t,i){const r=n.length;let a=0,l;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)l=Array.from(i),l.unshift(e,t),n.splice(...l);else for(t&&n.splice(e,t);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),n.splice(...l),a+=1e4,e+=1e4}function $i(n,e){return n.length>0?(Rr(n,n.length,0,e),n):e}const aw={}.hasOwnProperty;function o9(n){const e={};let t=-1;for(;++t<n.length;)l9(e,n[t]);return e}function l9(n,e){let t;for(t in e){const r=(aw.call(n,t)?n[t]:void 0)||(n[t]={}),a=e[t];let l;if(a)for(l in a){aw.call(r,l)||(r[l]=[]);const c=a[l];c9(r[l],Array.isArray(c)?c:c?[c]:[])}}}function c9(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);Rr(n,0,0,i)}function GC(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function Bo(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const kr=$s(/[A-Za-z]/),Ci=$s(/[\dA-Za-z]/),u9=$s(/[#-'*+\--9=?A-Z^-~]/);function fy(n){return n!==null&&(n<32||n===127)}const py=$s(/\d/),d9=$s(/[\dA-Fa-f]/),h9=$s(/[!-/:-@[-`{-~]/);function Ye(n){return n!==null&&n<-2}function di(n){return n!==null&&(n<0||n===32)}function bt(n){return n===-2||n===-1||n===32}const f9=$s(new RegExp("\\p{P}|\\p{S}","u")),p9=$s(/\s/);function $s(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function tl(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const a=n.charCodeAt(t);let l="";if(a===37&&Ci(n.charCodeAt(t+1))&&Ci(n.charCodeAt(t+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=n.charCodeAt(t+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),r=1):l=""}else l=String.fromCharCode(a);l&&(e.push(n.slice(i,t),encodeURIComponent(l)),i=t+r+1,l=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function jt(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(d){return bt(d)?(n.enter(t),c(d)):e(d)}function c(d){return bt(d)&&a++<r?(n.consume(d),c):(n.exit(t),e(d))}}const m9={tokenize:g9};function g9(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),jt(n,e,"linePrefix")}function r(c){return n.enter("paragraph"),a(c)}function a(c){const d=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=d),t=d,l(c)}function l(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return Ye(c)?(n.consume(c),n.exit("chunkText"),a):(n.consume(c),l)}}const y9={tokenize:b9},ow={tokenize:v9};function b9(n){const e=this,t=[];let i=0,r,a,l;return c;function c(R){if(i<t.length){const B=t[i];return e.containerState=B[1],n.attempt(B[0].continuation,d,h)(R)}return h(R)}function d(R){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&T();const B=e.events.length;let k=B,N;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){N=e.events[k][1].end;break}A(i);let M=B;for(;M<e.events.length;)e.events[M][1].end={...N},M++;return Rr(e.events,k+1,0,e.events.slice(B)),e.events.length=M,h(R)}return c(R)}function h(R){if(i===t.length){if(!r)return g(R);if(r.currentConstruct&&r.currentConstruct.concrete)return S(R);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(ow,f,m)(R)}function f(R){return r&&T(),A(i),g(R)}function m(R){return e.parser.lazy[e.now().line]=i!==t.length,l=e.now().offset,S(R)}function g(R){return e.containerState={},n.attempt(ow,b,S)(R)}function b(R){return i++,t.push([e.currentConstruct,e.containerState]),g(R)}function S(R){if(R===null){r&&T(),A(0),n.consume(R);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),x(R)}function x(R){if(R===null){E(n.exit("chunkFlow"),!0),A(0),n.consume(R);return}return Ye(R)?(n.consume(R),E(n.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(n.consume(R),x)}function E(R,B){const k=e.sliceStream(R);if(B&&k.push(null),R.previous=a,a&&(a.next=R),a=R,r.defineSkip(R.start),r.write(k),e.parser.lazy[R.start.line]){let N=r.events.length;for(;N--;)if(r.events[N][1].start.offset<l&&(!r.events[N][1].end||r.events[N][1].end.offset>l))return;const M=e.events.length;let P=M,F,L;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(F){L=e.events[P][1].end;break}F=!0}for(A(i),N=M;N<e.events.length;)e.events[N][1].end={...L},N++;Rr(e.events,P+1,0,e.events.slice(M)),e.events.length=N}}function A(R){let B=t.length;for(;B-- >R;){const k=t[B];e.containerState=k[1],k[0].exit.call(e,n)}t.length=R}function T(){r.write([null]),a=void 0,r=void 0,e.containerState._closeFlow=void 0}}function v9(n,e,t){return jt(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lw(n){if(n===null||di(n)||p9(n))return 1;if(f9(n))return 2}function Cb(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const a=n[r].resolveAll;a&&!i.includes(a)&&(e=a(e,t),i.push(a))}return e}const my={name:"attention",resolveAll:_9,tokenize:x9};function _9(n,e){let t=-1,i,r,a,l,c,d,h,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;d=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const m={...n[i][1].end},g={...n[t][1].start};cw(m,-d),cw(g,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...n[i][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:g},a={type:d>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},n[i][1].end={...l.start},n[t][1].start={...c.end},h=[],n[i][1].end.offset-n[i][1].start.offset&&(h=$i(h,[["enter",n[i][1],e],["exit",n[i][1],e]])),h=$i(h,[["enter",r,e],["enter",l,e],["exit",l,e],["enter",a,e]]),h=$i(h,Cb(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),h=$i(h,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,h=$i(h,[["enter",n[t][1],e],["exit",n[t][1],e]])):f=0,Rr(n,i-1,t-i+3,h),t=i+h.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function x9(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=lw(i);let a;return l;function l(d){return a=d,n.enter("attentionSequence"),c(d)}function c(d){if(d===a)return n.consume(d),c;const h=n.exit("attentionSequence"),f=lw(d),m=!f||f===2&&r||t.includes(d),g=!r||r===2&&f||t.includes(i);return h._open=!!(a===42?m:m&&(r||!g)),h._close=!!(a===42?g:g&&(f||!m)),e(d)}}function cw(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const S9={name:"autolink",tokenize:w9};function w9(n,e,t){let i=0;return r;function r(b){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(b){return kr(b)?(n.consume(b),l):b===64?t(b):h(b)}function l(b){return b===43||b===45||b===46||Ci(b)?(i=1,c(b)):h(b)}function c(b){return b===58?(n.consume(b),i=0,d):(b===43||b===45||b===46||Ci(b))&&i++<32?(n.consume(b),c):(i=0,h(b))}function d(b){return b===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):b===null||b===32||b===60||fy(b)?t(b):(n.consume(b),d)}function h(b){return b===64?(n.consume(b),f):u9(b)?(n.consume(b),h):t(b)}function f(b){return Ci(b)?m(b):t(b)}function m(b){return b===46?(n.consume(b),i=0,f):b===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),e):g(b)}function g(b){if((b===45||Ci(b))&&i++<63){const S=b===45?g:m;return n.consume(b),S}return t(b)}}const rf={partial:!0,tokenize:A9};function A9(n,e,t){return i;function i(a){return bt(a)?jt(n,r,"linePrefix")(a):r(a)}function r(a){return a===null||Ye(a)?e(a):t(a)}}const XC={continuation:{tokenize:C9},exit:T9,name:"blockQuote",tokenize:E9};function E9(n,e,t){const i=this;return r;function r(l){if(l===62){const c=i.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),a}return t(l)}function a(l){return bt(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(l))}}function C9(n,e,t){const i=this;return r;function r(l){return bt(l)?jt(n,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return n.attempt(XC,e,t)(l)}}function T9(n){n.exit("blockQuote")}const YC={name:"characterEscape",tokenize:k9};function k9(n,e,t){return i;function i(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),r}function r(a){return h9(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(a)}}const WC={name:"characterReference",tokenize:R9};function R9(n,e,t){const i=this;let r=0,a,l;return c;function c(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),d}function d(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),h):(n.enter("characterReferenceValue"),a=31,l=Ci,f(m))}function h(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,l=d9,f):(n.enter("characterReferenceValue"),a=7,l=py,f(m))}function f(m){if(m===59&&r){const g=n.exit("characterReferenceValue");return l===Ci&&!Eb(i.sliceSerialize(g))?t(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return l(m)&&r++<a?(n.consume(m),f):t(m)}}const uw={partial:!0,tokenize:O9},dw={concrete:!0,name:"codeFenced",tokenize:N9};function N9(n,e,t){const i=this,r={partial:!0,tokenize:k};let a=0,l=0,c;return d;function d(N){return h(N)}function h(N){const M=i.events[i.events.length-1];return a=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,c=N,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(N)}function f(N){return N===c?(l++,n.consume(N),f):l<3?t(N):(n.exit("codeFencedFenceSequence"),bt(N)?jt(n,m,"whitespace")(N):m(N))}function m(N){return N===null||Ye(N)?(n.exit("codeFencedFence"),i.interrupt?e(N):n.check(uw,x,B)(N)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),g(N))}function g(N){return N===null||Ye(N)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(N)):bt(N)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),jt(n,b,"whitespace")(N)):N===96&&N===c?t(N):(n.consume(N),g)}function b(N){return N===null||Ye(N)?m(N):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(N))}function S(N){return N===null||Ye(N)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(N)):N===96&&N===c?t(N):(n.consume(N),S)}function x(N){return n.attempt(r,B,E)(N)}function E(N){return n.enter("lineEnding"),n.consume(N),n.exit("lineEnding"),A}function A(N){return a>0&&bt(N)?jt(n,T,"linePrefix",a+1)(N):T(N)}function T(N){return N===null||Ye(N)?n.check(uw,x,B)(N):(n.enter("codeFlowValue"),R(N))}function R(N){return N===null||Ye(N)?(n.exit("codeFlowValue"),T(N)):(n.consume(N),R)}function B(N){return n.exit("codeFenced"),e(N)}function k(N,M,P){let F=0;return L;function L(I){return N.enter("lineEnding"),N.consume(I),N.exit("lineEnding"),H}function H(I){return N.enter("codeFencedFence"),bt(I)?jt(N,X,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):X(I)}function X(I){return I===c?(N.enter("codeFencedFenceSequence"),V(I)):P(I)}function V(I){return I===c?(F++,N.consume(I),V):F>=l?(N.exit("codeFencedFenceSequence"),bt(I)?jt(N,Y,"whitespace")(I):Y(I)):P(I)}function Y(I){return I===null||Ye(I)?(N.exit("codeFencedFence"),M(I)):P(I)}}}function O9(n,e,t){const i=this;return r;function r(l){return l===null?t(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}const tg={name:"codeIndented",tokenize:D9},M9={partial:!0,tokenize:L9};function D9(n,e,t){const i=this;return r;function r(h){return n.enter("codeIndented"),jt(n,a,"linePrefix",5)(h)}function a(h){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(h):t(h)}function l(h){return h===null?d(h):Ye(h)?n.attempt(M9,l,d)(h):(n.enter("codeFlowValue"),c(h))}function c(h){return h===null||Ye(h)?(n.exit("codeFlowValue"),l(h)):(n.consume(h),c)}function d(h){return n.exit("codeIndented"),e(h)}}function L9(n,e,t){const i=this;return r;function r(l){return i.parser.lazy[i.now().line]?t(l):Ye(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):jt(n,a,"linePrefix",5)(l)}function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):Ye(l)?r(l):t(l)}}const j9={name:"codeText",previous:B9,resolve:P9,tokenize:F9};function P9(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function B9(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function F9(n,e,t){let i=0,r,a;return l;function l(m){return n.enter("codeText"),n.enter("codeTextSequence"),c(m)}function c(m){return m===96?(n.consume(m),i++,c):(n.exit("codeTextSequence"),d(m))}function d(m){return m===null?t(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),d):m===96?(a=n.enter("codeTextSequence"),r=0,f(m)):Ye(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),d):(n.enter("codeTextData"),h(m))}function h(m){return m===null||m===32||m===96||Ye(m)?(n.exit("codeTextData"),d(m)):(n.consume(m),h)}function f(m){return m===96?(n.consume(m),r++,f):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(m)):(a.type="codeTextData",h(m))}}class I9{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&rc(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rc(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rc(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);rc(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rc(this.left,t.reverse())}}}function rc(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function KC(n){const e={};let t=-1,i,r,a,l,c,d,h;const f=new I9(n);for(;++t<f.length;){for(;t in e;)t=e[t];if(i=f.get(t),t&&i[1].type==="chunkFlow"&&f.get(t-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,z9(f,t)),t=e[t],h=!0);else if(i[1]._container){for(a=t,r=void 0;a--;)if(l=f.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(f.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(i[1].end={...f.get(r)[1].start},c=f.slice(r,t),c.unshift(i),f.splice(r,t-r+1,c))}}return Rr(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!h}function z9(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const a=[];let l=t._tokenizer;l||(l=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],h={};let f,m,g=-1,b=t,S=0,x=0;const E=[x];for(;b;){for(;n.get(++r)[1]!==b;);a.push(r),b._tokenizer||(f=i.sliceStream(b),b.next||f.push(null),m&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=t;++g<c.length;)c[g][0]==="exit"&&c[g-1][0]==="enter"&&c[g][1].type===c[g-1][1].type&&c[g][1].start.line!==c[g][1].end.line&&(x=g+1,E.push(x),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):E.pop(),g=E.length;g--;){const A=c.slice(E[g],E[g+1]),T=a.pop();d.push([T,T+A.length-1]),n.splice(T,2,A)}for(d.reverse(),g=-1;++g<d.length;)h[S+d[g][0]]=S+d[g][1],S+=d[g][1]-d[g][0]-1;return h}const U9={resolve:$9,tokenize:q9},H9={partial:!0,tokenize:V9};function $9(n){return KC(n),n}function q9(n,e){let t;return i;function i(c){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?a(c):Ye(c)?n.check(H9,l,a)(c):(n.consume(c),r)}function a(c){return n.exit("chunkContent"),n.exit("content"),e(c)}function l(c){return n.consume(c),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function V9(n,e,t){const i=this;return r;function r(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),jt(n,a,"linePrefix")}function a(l){if(l===null||Ye(l))return t(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):n.interrupt(i.parser.constructs.flow,t,e)(l)}}function ZC(n,e,t,i,r,a,l,c,d){const h=d||Number.POSITIVE_INFINITY;let f=0;return m;function m(A){return A===60?(n.enter(i),n.enter(r),n.enter(a),n.consume(A),n.exit(a),g):A===null||A===32||A===41||fy(A)?t(A):(n.enter(i),n.enter(l),n.enter(c),n.enter("chunkString",{contentType:"string"}),x(A))}function g(A){return A===62?(n.enter(a),n.consume(A),n.exit(a),n.exit(r),n.exit(i),e):(n.enter(c),n.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===62?(n.exit("chunkString"),n.exit(c),g(A)):A===null||A===60||Ye(A)?t(A):(n.consume(A),A===92?S:b)}function S(A){return A===60||A===62||A===92?(n.consume(A),b):b(A)}function x(A){return!f&&(A===null||A===41||di(A))?(n.exit("chunkString"),n.exit(c),n.exit(l),n.exit(i),e(A)):f<h&&A===40?(n.consume(A),f++,x):A===41?(n.consume(A),f--,x):A===null||A===32||A===40||fy(A)?t(A):(n.consume(A),A===92?E:x)}function E(A){return A===40||A===41||A===92?(n.consume(A),x):x(A)}}function QC(n,e,t,i,r,a){const l=this;let c=0,d;return h;function h(b){return n.enter(i),n.enter(r),n.consume(b),n.exit(r),n.enter(a),f}function f(b){return c>999||b===null||b===91||b===93&&!d||b===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?t(b):b===93?(n.exit(a),n.enter(r),n.consume(b),n.exit(r),n.exit(i),e):Ye(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||Ye(b)||c++>999?(n.exit("chunkString"),f(b)):(n.consume(b),d||(d=!bt(b)),b===92?g:m)}function g(b){return b===91||b===92||b===93?(n.consume(b),c++,m):m(b)}}function JC(n,e,t,i,r,a){let l;return c;function c(g){return g===34||g===39||g===40?(n.enter(i),n.enter(r),n.consume(g),n.exit(r),l=g===40?41:g,d):t(g)}function d(g){return g===l?(n.enter(r),n.consume(g),n.exit(r),n.exit(i),e):(n.enter(a),h(g))}function h(g){return g===l?(n.exit(a),d(l)):g===null?t(g):Ye(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),jt(n,h,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(g))}function f(g){return g===l||g===null||Ye(g)?(n.exit("chunkString"),h(g)):(n.consume(g),g===92?m:f)}function m(g){return g===l||g===92?(n.consume(g),f):f(g)}}function _c(n,e){let t;return i;function i(r){return Ye(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):bt(r)?jt(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const G9={name:"definition",tokenize:Y9},X9={partial:!0,tokenize:W9};function Y9(n,e,t){const i=this;let r;return a;function a(b){return n.enter("definition"),l(b)}function l(b){return QC.call(i,n,c,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return r=Bo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),d):t(b)}function d(b){return di(b)?_c(n,h)(b):h(b)}function h(b){return ZC(n,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function f(b){return n.attempt(X9,m,m)(b)}function m(b){return bt(b)?jt(n,g,"whitespace")(b):g(b)}function g(b){return b===null||Ye(b)?(n.exit("definition"),i.parser.defined.push(r),e(b)):t(b)}}function W9(n,e,t){return i;function i(c){return di(c)?_c(n,r)(c):t(c)}function r(c){return JC(n,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return bt(c)?jt(n,l,"whitespace")(c):l(c)}function l(c){return c===null||Ye(c)?e(c):t(c)}}const K9={name:"hardBreakEscape",tokenize:Z9};function Z9(n,e,t){return i;function i(a){return n.enter("hardBreakEscape"),n.consume(a),r}function r(a){return Ye(a)?(n.exit("hardBreakEscape"),e(a)):t(a)}}const Q9={name:"headingAtx",resolve:J9,tokenize:eU};function J9(n,e){let t=n.length-2,i=3,r,a;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},a={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},Rr(n,i,t-i+1,[["enter",r,e],["enter",a,e],["exit",a,e],["exit",r,e]])),n}function eU(n,e,t){let i=0;return r;function r(f){return n.enter("atxHeading"),a(f)}function a(f){return n.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&i++<6?(n.consume(f),l):f===null||di(f)?(n.exit("atxHeadingSequence"),c(f)):t(f)}function c(f){return f===35?(n.enter("atxHeadingSequence"),d(f)):f===null||Ye(f)?(n.exit("atxHeading"),e(f)):bt(f)?jt(n,c,"whitespace")(f):(n.enter("atxHeadingText"),h(f))}function d(f){return f===35?(n.consume(f),d):(n.exit("atxHeadingSequence"),c(f))}function h(f){return f===null||f===35||di(f)?(n.exit("atxHeadingText"),c(f)):(n.consume(f),h)}}const tU=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hw=["pre","script","style","textarea"],nU={concrete:!0,name:"htmlFlow",resolveTo:sU,tokenize:aU},iU={partial:!0,tokenize:lU},rU={partial:!0,tokenize:oU};function sU(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function aU(n,e,t){const i=this;let r,a,l,c,d;return h;function h(j){return f(j)}function f(j){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(j),m}function m(j){return j===33?(n.consume(j),g):j===47?(n.consume(j),a=!0,x):j===63?(n.consume(j),r=3,i.interrupt?e:w):kr(j)?(n.consume(j),l=String.fromCharCode(j),E):t(j)}function g(j){return j===45?(n.consume(j),r=2,b):j===91?(n.consume(j),r=5,c=0,S):kr(j)?(n.consume(j),r=4,i.interrupt?e:w):t(j)}function b(j){return j===45?(n.consume(j),i.interrupt?e:w):t(j)}function S(j){const K="CDATA[";return j===K.charCodeAt(c++)?(n.consume(j),c===K.length?i.interrupt?e:X:S):t(j)}function x(j){return kr(j)?(n.consume(j),l=String.fromCharCode(j),E):t(j)}function E(j){if(j===null||j===47||j===62||di(j)){const K=j===47,ee=l.toLowerCase();return!K&&!a&&hw.includes(ee)?(r=1,i.interrupt?e(j):X(j)):tU.includes(l.toLowerCase())?(r=6,K?(n.consume(j),A):i.interrupt?e(j):X(j)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(j):a?T(j):R(j))}return j===45||Ci(j)?(n.consume(j),l+=String.fromCharCode(j),E):t(j)}function A(j){return j===62?(n.consume(j),i.interrupt?e:X):t(j)}function T(j){return bt(j)?(n.consume(j),T):L(j)}function R(j){return j===47?(n.consume(j),L):j===58||j===95||kr(j)?(n.consume(j),B):bt(j)?(n.consume(j),R):L(j)}function B(j){return j===45||j===46||j===58||j===95||Ci(j)?(n.consume(j),B):k(j)}function k(j){return j===61?(n.consume(j),N):bt(j)?(n.consume(j),k):R(j)}function N(j){return j===null||j===60||j===61||j===62||j===96?t(j):j===34||j===39?(n.consume(j),d=j,M):bt(j)?(n.consume(j),N):P(j)}function M(j){return j===d?(n.consume(j),d=null,F):j===null||Ye(j)?t(j):(n.consume(j),M)}function P(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||di(j)?k(j):(n.consume(j),P)}function F(j){return j===47||j===62||bt(j)?R(j):t(j)}function L(j){return j===62?(n.consume(j),H):t(j)}function H(j){return j===null||Ye(j)?X(j):bt(j)?(n.consume(j),H):t(j)}function X(j){return j===45&&r===2?(n.consume(j),U):j===60&&r===1?(n.consume(j),C):j===62&&r===4?(n.consume(j),D):j===63&&r===3?(n.consume(j),w):j===93&&r===5?(n.consume(j),G):Ye(j)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(iU,q,V)(j)):j===null||Ye(j)?(n.exit("htmlFlowData"),V(j)):(n.consume(j),X)}function V(j){return n.check(rU,Y,q)(j)}function Y(j){return n.enter("lineEnding"),n.consume(j),n.exit("lineEnding"),I}function I(j){return j===null||Ye(j)?V(j):(n.enter("htmlFlowData"),X(j))}function U(j){return j===45?(n.consume(j),w):X(j)}function C(j){return j===47?(n.consume(j),l="",ne):X(j)}function ne(j){if(j===62){const K=l.toLowerCase();return hw.includes(K)?(n.consume(j),D):X(j)}return kr(j)&&l.length<8?(n.consume(j),l+=String.fromCharCode(j),ne):X(j)}function G(j){return j===93?(n.consume(j),w):X(j)}function w(j){return j===62?(n.consume(j),D):j===45&&r===2?(n.consume(j),w):X(j)}function D(j){return j===null||Ye(j)?(n.exit("htmlFlowData"),q(j)):(n.consume(j),D)}function q(j){return n.exit("htmlFlow"),e(j)}}function oU(n,e,t){const i=this;return r;function r(l){return Ye(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),a):t(l)}function a(l){return i.parser.lazy[i.now().line]?t(l):e(l)}}function lU(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(rf,e,t)}}const cU={name:"htmlText",tokenize:uU};function uU(n,e,t){const i=this;let r,a,l;return c;function c(w){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(w),d}function d(w){return w===33?(n.consume(w),h):w===47?(n.consume(w),k):w===63?(n.consume(w),R):kr(w)?(n.consume(w),P):t(w)}function h(w){return w===45?(n.consume(w),f):w===91?(n.consume(w),a=0,S):kr(w)?(n.consume(w),T):t(w)}function f(w){return w===45?(n.consume(w),b):t(w)}function m(w){return w===null?t(w):w===45?(n.consume(w),g):Ye(w)?(l=m,C(w)):(n.consume(w),m)}function g(w){return w===45?(n.consume(w),b):m(w)}function b(w){return w===62?U(w):w===45?g(w):m(w)}function S(w){const D="CDATA[";return w===D.charCodeAt(a++)?(n.consume(w),a===D.length?x:S):t(w)}function x(w){return w===null?t(w):w===93?(n.consume(w),E):Ye(w)?(l=x,C(w)):(n.consume(w),x)}function E(w){return w===93?(n.consume(w),A):x(w)}function A(w){return w===62?U(w):w===93?(n.consume(w),A):x(w)}function T(w){return w===null||w===62?U(w):Ye(w)?(l=T,C(w)):(n.consume(w),T)}function R(w){return w===null?t(w):w===63?(n.consume(w),B):Ye(w)?(l=R,C(w)):(n.consume(w),R)}function B(w){return w===62?U(w):R(w)}function k(w){return kr(w)?(n.consume(w),N):t(w)}function N(w){return w===45||Ci(w)?(n.consume(w),N):M(w)}function M(w){return Ye(w)?(l=M,C(w)):bt(w)?(n.consume(w),M):U(w)}function P(w){return w===45||Ci(w)?(n.consume(w),P):w===47||w===62||di(w)?F(w):t(w)}function F(w){return w===47?(n.consume(w),U):w===58||w===95||kr(w)?(n.consume(w),L):Ye(w)?(l=F,C(w)):bt(w)?(n.consume(w),F):U(w)}function L(w){return w===45||w===46||w===58||w===95||Ci(w)?(n.consume(w),L):H(w)}function H(w){return w===61?(n.consume(w),X):Ye(w)?(l=H,C(w)):bt(w)?(n.consume(w),H):F(w)}function X(w){return w===null||w===60||w===61||w===62||w===96?t(w):w===34||w===39?(n.consume(w),r=w,V):Ye(w)?(l=X,C(w)):bt(w)?(n.consume(w),X):(n.consume(w),Y)}function V(w){return w===r?(n.consume(w),r=void 0,I):w===null?t(w):Ye(w)?(l=V,C(w)):(n.consume(w),V)}function Y(w){return w===null||w===34||w===39||w===60||w===61||w===96?t(w):w===47||w===62||di(w)?F(w):(n.consume(w),Y)}function I(w){return w===47||w===62||di(w)?F(w):t(w)}function U(w){return w===62?(n.consume(w),n.exit("htmlTextData"),n.exit("htmlText"),e):t(w)}function C(w){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(w),n.exit("lineEnding"),ne}function ne(w){return bt(w)?jt(n,G,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):G(w)}function G(w){return n.enter("htmlTextData"),l(w)}}const Tb={name:"labelEnd",resolveAll:pU,resolveTo:mU,tokenize:gU},dU={tokenize:yU},hU={tokenize:bU},fU={tokenize:vU};function pU(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&Rr(n,0,n.length,t),n}function mU(n,e){let t=n.length,i=0,r,a,l,c;for(;t--;)if(r=n[t][1],a){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(a=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(l=t);const d={type:n[a][1].type==="labelLink"?"link":"image",start:{...n[a][1].start},end:{...n[n.length-1][1].end}},h={type:"label",start:{...n[a][1].start},end:{...n[l][1].end}},f={type:"labelText",start:{...n[a+i+2][1].end},end:{...n[l-2][1].start}};return c=[["enter",d,e],["enter",h,e]],c=$i(c,n.slice(a+1,a+i+3)),c=$i(c,[["enter",f,e]]),c=$i(c,Cb(e.parser.constructs.insideSpan.null,n.slice(a+i+4,l-3),e)),c=$i(c,[["exit",f,e],n[l-2],n[l-1],["exit",h,e]]),c=$i(c,n.slice(l+1)),c=$i(c,[["exit",d,e]]),Rr(n,a,n.length,c),n}function gU(n,e,t){const i=this;let r=i.events.length,a,l;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){a=i.events[r][1];break}return c;function c(g){return a?a._inactive?m(g):(l=i.parser.defined.includes(Bo(i.sliceSerialize({start:a.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(g),n.exit("labelMarker"),n.exit("labelEnd"),d):t(g)}function d(g){return g===40?n.attempt(dU,f,l?f:m)(g):g===91?n.attempt(hU,f,l?h:m)(g):l?f(g):m(g)}function h(g){return n.attempt(fU,f,m)(g)}function f(g){return e(g)}function m(g){return a._balanced=!0,t(g)}}function yU(n,e,t){return i;function i(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),r}function r(m){return di(m)?_c(n,a)(m):a(m)}function a(m){return m===41?f(m):ZC(n,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return di(m)?_c(n,d)(m):f(m)}function c(m){return t(m)}function d(m){return m===34||m===39||m===40?JC(n,h,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):f(m)}function h(m){return di(m)?_c(n,f)(m):f(m)}function f(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),e):t(m)}}function bU(n,e,t){const i=this;return r;function r(c){return QC.call(i,n,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(Bo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):t(c)}function l(c){return t(c)}}function vU(n,e,t){return i;function i(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),r}function r(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),e):t(a)}}const _U={name:"labelStartImage",resolveAll:Tb.resolveAll,tokenize:xU};function xU(n,e,t){const i=this;return r;function r(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),a}function a(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),l):t(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(c):e(c)}}const SU={name:"labelStartLink",resolveAll:Tb.resolveAll,tokenize:wU};function wU(n,e,t){const i=this;return r;function r(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(l):e(l)}}const ng={name:"lineEnding",tokenize:AU};function AU(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),jt(n,e,"linePrefix")}}const nh={name:"thematicBreak",tokenize:EU};function EU(n,e,t){let i=0,r;return a;function a(h){return n.enter("thematicBreak"),l(h)}function l(h){return r=h,c(h)}function c(h){return h===r?(n.enter("thematicBreakSequence"),d(h)):i>=3&&(h===null||Ye(h))?(n.exit("thematicBreak"),e(h)):t(h)}function d(h){return h===r?(n.consume(h),i++,d):(n.exit("thematicBreakSequence"),bt(h)?jt(n,c,"whitespace")(h):c(h))}}const si={continuation:{tokenize:RU},exit:OU,name:"list",tokenize:kU},CU={partial:!0,tokenize:MU},TU={partial:!0,tokenize:NU};function kU(n,e,t){const i=this,r=i.events[i.events.length-1];let a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return c;function c(b){const S=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:py(b)){if(i.containerState.type||(i.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),b===42||b===45?n.check(nh,t,h)(b):h(b);if(!i.interrupt||b===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),d(b)}return t(b)}function d(b){return py(b)&&++l<10?(n.consume(b),d):(!i.interrupt||l<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(n.exit("listItemValue"),h(b)):t(b)}function h(b){return n.enter("listItemMarker"),n.consume(b),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,n.check(rf,i.interrupt?t:f,n.attempt(CU,g,m))}function f(b){return i.containerState.initialBlankLine=!0,a++,g(b)}function m(b){return bt(b)?(n.enter("listItemPrefixWhitespace"),n.consume(b),n.exit("listItemPrefixWhitespace"),g):t(b)}function g(b){return i.containerState.size=a+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(b)}}function RU(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(rf,r,a);function r(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,jt(n,e,"listItemIndent",i.containerState.size+1)(c)}function a(c){return i.containerState.furtherBlankLines||!bt(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(TU,e,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,jt(n,n.attempt(si,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function NU(n,e,t){const i=this;return jt(n,r,"listItemIndent",i.containerState.size+1);function r(a){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):t(a)}}function OU(n){n.exit(this.containerState.type)}function MU(n,e,t){const i=this;return jt(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(a){const l=i.events[i.events.length-1];return!bt(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):t(a)}}const fw={name:"setextUnderline",resolveTo:DU,tokenize:LU};function DU(n,e){let t=n.length,i,r,a;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!a&&n[t][1].type==="definition"&&(a=t);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",a?(n.splice(r,0,["enter",l,e]),n.splice(a+1,0,["exit",n[i][1],e]),n[i][1].end={...n[a][1].end}):n[i][1]=l,n.push(["exit",l,e]),n}function LU(n,e,t){const i=this;let r;return a;function a(h){let f=i.events.length,m;for(;f--;)if(i.events[f][1].type!=="lineEnding"&&i.events[f][1].type!=="linePrefix"&&i.events[f][1].type!=="content"){m=i.events[f][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(n.enter("setextHeadingLine"),r=h,l(h)):t(h)}function l(h){return n.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===r?(n.consume(h),c):(n.exit("setextHeadingLineSequence"),bt(h)?jt(n,d,"lineSuffix")(h):d(h))}function d(h){return h===null||Ye(h)?(n.exit("setextHeadingLine"),e(h)):t(h)}}const jU={tokenize:PU};function PU(n){const e=this,t=n.attempt(rf,i,n.attempt(this.parser.constructs.flowInitial,r,jt(n,n.attempt(this.parser.constructs.flow,r,n.attempt(U9,r)),"linePrefix")));return t;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEndingBlank"),n.consume(a),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const BU={resolveAll:tT()},FU=eT("string"),IU=eT("text");function eT(n){return{resolveAll:tT(n==="text"?zU:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],a=t.attempt(r,l,c);return l;function l(f){return h(f)?a(f):c(f)}function c(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),d}function d(f){return h(f)?(t.exit("data"),a(f)):(t.consume(f),d)}function h(f){if(f===null)return!0;const m=r[f];let g=-1;if(m)for(;++g<m.length;){const b=m[g];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function tT(n){return e;function e(t,i){let r=-1,a;for(;++r<=t.length;)a===void 0?t[r]&&t[r][1].type==="data"&&(a=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),r=a+2),a=void 0);return n?n(t,i):t}}function zU(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let a=r.length,l=-1,c=0,d;for(;a--;){const h=r[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(c=0),c){const h={type:t===n.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(n.splice(t,0,["enter",h,e],["exit",h,e]),t+=2)}t++}return n}const UU={42:si,43:si,45:si,48:si,49:si,50:si,51:si,52:si,53:si,54:si,55:si,56:si,57:si,62:XC},HU={91:G9},$U={[-2]:tg,[-1]:tg,32:tg},qU={35:Q9,42:nh,45:[fw,nh],60:nU,61:fw,95:nh,96:dw,126:dw},VU={38:WC,92:YC},GU={[-5]:ng,[-4]:ng,[-3]:ng,33:_U,38:WC,42:my,60:[S9,cU],91:SU,92:[K9,YC],93:Tb,95:my,96:j9},XU={null:[my,BU]},YU={null:[42,95]},WU={null:[]},KU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YU,contentInitial:HU,disable:WU,document:UU,flow:qU,flowInitial:$U,insideSpan:XU,string:VU,text:GU},Symbol.toStringTag,{value:"Module"}));function ZU(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},a=[];let l=[],c=[];const d={attempt:M(k),check:M(N),consume:T,enter:R,exit:B,interrupt:M(N,{interrupt:!0})},h={code:null,containerState:{},defineSkip:x,events:[],now:S,parser:n,previous:null,sliceSerialize:g,sliceStream:b,write:m};let f=e.tokenize.call(h,d);return e.resolveAll&&a.push(e),h;function m(H){return l=$i(l,H),E(),l[l.length-1]!==null?[]:(P(e,0),h.events=Cb(a,h.events,h),h.events)}function g(H,X){return JU(b(H),X)}function b(H){return QU(l,H)}function S(){const{_bufferIndex:H,_index:X,line:V,column:Y,offset:I}=i;return{_bufferIndex:H,_index:X,line:V,column:Y,offset:I}}function x(H){r[H.line]=H.column,L()}function E(){let H;for(;i._index<l.length;){const X=l[i._index];if(typeof X=="string")for(H=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===H&&i._bufferIndex<X.length;)A(X.charCodeAt(i._bufferIndex));else A(X)}}function A(H){f=f(H)}function T(H){Ye(H)?(i.line++,i.column=1,i.offset+=H===-3?2:1,L()):H!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=H}function R(H,X){const V=X||{};return V.type=H,V.start=S(),h.events.push(["enter",V,h]),c.push(V),V}function B(H){const X=c.pop();return X.end=S(),h.events.push(["exit",X,h]),X}function k(H,X){P(H,X.from)}function N(H,X){X.restore()}function M(H,X){return V;function V(Y,I,U){let C,ne,G,w;return Array.isArray(Y)?q(Y):"tokenize"in Y?q([Y]):D(Y);function D(re){return se;function se(Se){const ve=Se!==null&&re[Se],we=Se!==null&&re.null,Ie=[...Array.isArray(ve)?ve:ve?[ve]:[],...Array.isArray(we)?we:we?[we]:[]];return q(Ie)(Se)}}function q(re){return C=re,ne=0,re.length===0?U:j(re[ne])}function j(re){return se;function se(Se){return w=F(),G=re,re.partial||(h.currentConstruct=re),re.name&&h.parser.constructs.disable.null.includes(re.name)?ee():re.tokenize.call(X?Object.assign(Object.create(h),X):h,d,K,ee)(Se)}}function K(re){return H(G,w),I}function ee(re){return w.restore(),++ne<C.length?j(C[ne]):U}}}function P(H,X){H.resolveAll&&!a.includes(H)&&a.push(H),H.resolve&&Rr(h.events,X,h.events.length-X,H.resolve(h.events.slice(X),h)),H.resolveTo&&(h.events=H.resolveTo(h.events,h))}function F(){const H=S(),X=h.previous,V=h.currentConstruct,Y=h.events.length,I=Array.from(c);return{from:Y,restore:U};function U(){i=H,h.previous=X,h.currentConstruct=V,h.events.length=Y,c=I,L()}}function L(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function QU(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,a=e.end._bufferIndex;let l;if(t===r)l=[n[t].slice(i,a)];else{if(l=n.slice(t,r),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(n[r].slice(0,a))}return l}function JU(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const a=n[t];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&r)continue;l=" ";break}default:l=String.fromCharCode(a)}r=a===-2,i.push(l)}return i.join("")}function eH(n){const i={constructs:o9([KU,...(n||{}).extensions||[]]),content:r(m9),defined:[],document:r(y9),flow:r(jU),lazy:{},string:r(FU),text:r(IU)};return i;function r(a){return l;function l(c){return ZU(i,a,c)}}}function tH(n){for(;!KC(n););return n}const pw=/[\0\t\n\r]/g;function nH(){let n=1,e="",t=!0,i;return r;function r(a,l,c){const d=[];let h,f,m,g,b;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),m=0,e="",t&&(a.charCodeAt(0)===65279&&m++,t=void 0);m<a.length;){if(pw.lastIndex=m,h=pw.exec(a),g=h&&h.index!==void 0?h.index:a.length,b=a.charCodeAt(g),!h){e=a.slice(m);break}if(b===10&&m===g&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),m<g&&(d.push(a.slice(m,g)),n+=g-m),b){case 0:{d.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,d.push(-2);n++<f;)d.push(-1);break}case 10:{d.push(-4),n=1;break}default:i=!0,n=1}m=g+1}return c&&(i&&d.push(-5),e&&d.push(e),d.push(null)),d}}const iH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rH(n){return n.replace(iH,sH)}function sH(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),a=r===120||r===88;return GC(t.slice(a?2:1),a?16:10)}return Eb(t)||n}const nT={}.hasOwnProperty;function aH(n,e,t){return typeof e!="string"&&(t=e,e=void 0),oH(t)(tH(eH(t).document().write(nH()(n,e,!0))))}function oH(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ae),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(De),blockQuote:a(we),characterEscape:F,characterReference:F,codeFenced:a(Ie),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(Ie,l),codeText:a(qe,l),codeTextData:F,data:F,codeFlowValue:F,definition:a(Ce),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Ee),hardBreakEscape:a(Ge),hardBreakTrailing:a(Ge),htmlFlow:a(ze,l),htmlFlowData:F,htmlText:a(ze,l),htmlTextData:F,image:a(ft),label:l,link:a(Ae),listItem:a(J),listItemValue:g,listOrdered:a(W,m),listUnordered:a(W),paragraph:a(ce),reference:j,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(De),strong:a(xe),thematicBreak:a(ye)},exit:{atxHeading:d(),atxHeadingSequence:k,autolink:d(),autolinkEmail:ve,autolinkProtocol:Se,blockQuote:d(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:ee,characterReferenceMarkerNumeric:ee,characterReferenceValue:re,characterReference:se,codeFenced:d(E),codeFencedFence:x,codeFencedFenceInfo:b,codeFencedFenceMeta:S,codeFlowValue:L,codeIndented:d(A),codeText:d(I),codeTextData:L,data:L,definition:d(),definitionDestinationString:B,definitionLabelString:T,definitionTitleString:R,emphasis:d(),hardBreakEscape:d(X),hardBreakTrailing:d(X),htmlFlow:d(V),htmlFlowData:L,htmlText:d(Y),htmlTextData:L,image:d(C),label:G,labelText:ne,lineEnding:H,link:d(U),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:K,resourceDestinationString:w,resourceTitleString:D,resource:q,setextHeading:d(P),setextHeadingLineSequence:M,setextHeadingText:N,strong:d(),thematicBreak:d()}};iT(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(te){let he={type:"root",children:[]};const _e={stack:[he],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:f,data:t},je=[];let rt=-1;for(;++rt<te.length;)if(te[rt][1].type==="listOrdered"||te[rt][1].type==="listUnordered")if(te[rt][0]==="enter")je.push(rt);else{const Zt=je.pop();rt=r(te,Zt,rt)}for(rt=-1;++rt<te.length;){const Zt=e[te[rt][0]];nT.call(Zt,te[rt][1].type)&&Zt[te[rt][1].type].call(Object.assign({sliceSerialize:te[rt][2].sliceSerialize},_e),te[rt][1])}if(_e.tokenStack.length>0){const Zt=_e.tokenStack[_e.tokenStack.length-1];(Zt[1]||mw).call(_e,void 0,Zt[0])}for(he.position={start:Ms(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:Ms(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},rt=-1;++rt<e.transforms.length;)he=e.transforms[rt](he)||he;return he}function r(te,he,_e){let je=he-1,rt=-1,Zt=!1,Vi,bn,Gt,jn;for(;++je<=_e;){const vt=te[je];switch(vt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vt[0]==="enter"?rt++:rt--,jn=void 0;break}case"lineEndingBlank":{vt[0]==="enter"&&(Vi&&!jn&&!rt&&!Gt&&(Gt=je),jn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jn=void 0}if(!rt&&vt[0]==="enter"&&vt[1].type==="listItemPrefix"||rt===-1&&vt[0]==="exit"&&(vt[1].type==="listUnordered"||vt[1].type==="listOrdered")){if(Vi){let lr=je;for(bn=void 0;lr--;){const Wn=te[lr];if(Wn[1].type==="lineEnding"||Wn[1].type==="lineEndingBlank"){if(Wn[0]==="exit")continue;bn&&(te[bn][1].type="lineEndingBlank",Zt=!0),Wn[1].type="lineEnding",bn=lr}else if(!(Wn[1].type==="linePrefix"||Wn[1].type==="blockQuotePrefix"||Wn[1].type==="blockQuotePrefixWhitespace"||Wn[1].type==="blockQuoteMarker"||Wn[1].type==="listItemIndent"))break}Gt&&(!bn||Gt<bn)&&(Vi._spread=!0),Vi.end=Object.assign({},bn?te[bn][1].start:vt[1].end),te.splice(bn||je,0,["exit",Vi,vt[2]]),je++,_e++}if(vt[1].type==="listItemPrefix"){const lr={type:"listItem",_spread:!1,start:Object.assign({},vt[1].start),end:void 0};Vi=lr,te.splice(je,0,["enter",lr,vt[2]]),je++,_e++,Gt=void 0,jn=!0}}}return te[he][1]._spread=Zt,_e}function a(te,he){return _e;function _e(je){c.call(this,te(je),je),he&&he.call(this,je)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(te,he,_e){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([he,_e||void 0]),te.position={start:Ms(he.start),end:void 0}}function d(te){return he;function he(_e){te&&te.call(this,_e),h.call(this,_e)}}function h(te,he){const _e=this.stack.pop(),je=this.tokenStack.pop();if(je)je[0].type!==te.type&&(he?he.call(this,te,je[0]):(je[1]||mw).call(this,te,je[0]));else throw new Error("Cannot close `"+te.type+"` ("+vc({start:te.start,end:te.end})+"): its not open");_e.position.end=Ms(te.end)}function f(){return s9(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(te){if(this.data.expectingFirstListItemValue){const he=this.stack[this.stack.length-2];he.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function b(){const te=this.resume(),he=this.stack[this.stack.length-1];he.lang=te}function S(){const te=this.resume(),he=this.stack[this.stack.length-1];he.meta=te}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te.replace(/(\r?\n|\r)$/g,"")}function T(te){const he=this.resume(),_e=this.stack[this.stack.length-1];_e.label=he,_e.identifier=Bo(this.sliceSerialize(te)).toLowerCase()}function R(){const te=this.resume(),he=this.stack[this.stack.length-1];he.title=te}function B(){const te=this.resume(),he=this.stack[this.stack.length-1];he.url=te}function k(te){const he=this.stack[this.stack.length-1];if(!he.depth){const _e=this.sliceSerialize(te).length;he.depth=_e}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function M(te){const he=this.stack[this.stack.length-1];he.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function F(te){const _e=this.stack[this.stack.length-1].children;let je=_e[_e.length-1];(!je||je.type!=="text")&&(je=ge(),je.position={start:Ms(te.start),end:void 0},_e.push(je)),this.stack.push(je)}function L(te){const he=this.stack.pop();he.value+=this.sliceSerialize(te),he.position.end=Ms(te.end)}function H(te){const he=this.stack[this.stack.length-1];if(this.data.atHardBreak){const _e=he.children[he.children.length-1];_e.position.end=Ms(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(he.type)&&(F.call(this,te),L.call(this,te))}function X(){this.data.atHardBreak=!0}function V(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te}function Y(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te}function I(){const te=this.resume(),he=this.stack[this.stack.length-1];he.value=te}function U(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=he,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function C(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const he=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=he,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function ne(te){const he=this.sliceSerialize(te),_e=this.stack[this.stack.length-2];_e.label=rH(he),_e.identifier=Bo(he).toLowerCase()}function G(){const te=this.stack[this.stack.length-1],he=this.resume(),_e=this.stack[this.stack.length-1];if(this.data.inReference=!0,_e.type==="link"){const je=te.children;_e.children=je}else _e.alt=he}function w(){const te=this.resume(),he=this.stack[this.stack.length-1];he.url=te}function D(){const te=this.resume(),he=this.stack[this.stack.length-1];he.title=te}function q(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function K(te){const he=this.resume(),_e=this.stack[this.stack.length-1];_e.label=he,_e.identifier=Bo(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function ee(te){this.data.characterReferenceType=te.type}function re(te){const he=this.sliceSerialize(te),_e=this.data.characterReferenceType;let je;_e?(je=GC(he,_e==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):je=Eb(he);const rt=this.stack[this.stack.length-1];rt.value+=je}function se(te){const he=this.stack.pop();he.position.end=Ms(te.end)}function Se(te){L.call(this,te);const he=this.stack[this.stack.length-1];he.url=this.sliceSerialize(te)}function ve(te){L.call(this,te);const he=this.stack[this.stack.length-1];he.url="mailto:"+this.sliceSerialize(te)}function we(){return{type:"blockquote",children:[]}}function Ie(){return{type:"code",lang:null,meta:null,value:""}}function qe(){return{type:"inlineCode",value:""}}function Ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ee(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function Ge(){return{type:"break"}}function ze(){return{type:"html",value:""}}function ft(){return{type:"image",title:null,url:"",alt:null}}function Ae(){return{type:"link",title:null,url:"",children:[]}}function W(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function J(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function ce(){return{type:"paragraph",children:[]}}function xe(){return{type:"strong",children:[]}}function ge(){return{type:"text",value:""}}function ye(){return{type:"thematicBreak"}}}function Ms(n){return{line:n.line,column:n.column,offset:n.offset}}function iT(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?iT(n,i):lH(n,i)}}function lH(n,e){let t;for(t in e)if(nT.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function mw(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+vc({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+vc({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vc({start:e.start,end:e.end})+") is still open")}function cH(n){const e=this;e.parser=t;function t(i){return aH(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function uH(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function dH(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function hH(n,e){const t=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(a.data={meta:e.meta}),n.patch(e,a),a=n.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},n.patch(e,a),a}function fH(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function pH(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function mH(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=tl(i.toLowerCase()),a=n.footnoteOrder.indexOf(i);let l,c=n.footnoteCounts.get(i);c===void 0?(c=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=a+1,c+=1,n.footnoteCounts.set(i,c);const d={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(e,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return n.patch(e,h),n.applyData(e,h)}function gH(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function yH(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function rT(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),a=r[0];a&&a.type==="text"?a.value="["+a.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=i:r.push({type:"text",value:i}),r}function bH(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return rT(n,e);const r={src:tl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,a),n.applyData(e,a)}function vH(n,e){const t={src:tl(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function _H(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function xH(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return rT(n,e);const r={href:tl(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,a),n.applyData(e,a)}function SH(n,e){const t={href:tl(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function wH(n,e,t){const i=n.all(e),r=t?AH(t):sT(e),a={},l=[];if(typeof e.checked=="boolean"){const f=i[0];let m;f&&f.type==="element"&&f.tagName==="p"?m=f:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const f=i[c];(r||c!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!r?l.push(...f.children):l.push(f)}const d=i[i.length-1];d&&(r||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:l};return n.patch(e,h),n.applyData(e,h)}function AH(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=sT(t[i])}return e}function sT(n){const e=n.spread;return e??n.children.length>1}function EH(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const l=i[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,a),n.applyData(e,a)}function CH(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function TH(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function kH(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function RH(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],l),r.push(l)}if(t.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},c=xb(e.children[1]),d=IC(e.children[e.children.length-1]);c&&d&&(l.position={start:c,end:d}),r.push(l)}const a={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,a),n.applyData(e,a)}function NH(n,e,t){const i=t?t.children:void 0,a=(i?i.indexOf(e):1)===0?"th":"td",l=t&&t.type==="table"?t.align:void 0,c=l?l.length:e.children.length;let d=-1;const h=[];for(;++d<c;){const m=e.children[d],g={},b=l?l[d]:void 0;b&&(g.align=b);let S={type:"element",tagName:a,properties:g,children:[]};m&&(S.children=n.all(m),n.patch(m,S),S=n.applyData(m,S)),h.push(S)}const f={type:"element",tagName:"tr",properties:{},children:n.wrap(h,!0)};return n.patch(e,f),n.applyData(e,f)}function OH(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const gw=9,yw=32;function MH(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const a=[];for(;i;)a.push(bw(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return a.push(bw(e.slice(r),r>0,!1)),a.join("")}function bw(n,e,t){let i=0,r=n.length;if(e){let a=n.codePointAt(i);for(;a===gw||a===yw;)i++,a=n.codePointAt(i)}if(t){let a=n.codePointAt(r-1);for(;a===gw||a===yw;)r--,a=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function DH(n,e){const t={type:"text",value:MH(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function LH(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const jH={blockquote:uH,break:dH,code:hH,delete:fH,emphasis:pH,footnoteReference:mH,heading:gH,html:yH,imageReference:bH,image:vH,inlineCode:_H,linkReference:xH,link:SH,listItem:wH,list:EH,paragraph:CH,root:TH,strong:kH,table:RH,tableCell:OH,tableRow:NH,text:DH,thematicBreak:LH,toml:Id,yaml:Id,definition:Id,footnoteDefinition:Id};function Id(){}const aT=-1,sf=0,xc=1,Ah=2,kb=3,Rb=4,Nb=5,Ob=6,oT=7,lT=8,vw=typeof self=="object"?self:globalThis,PH=(n,e)=>{const t=(r,a)=>(n.set(a,r),r),i=r=>{if(n.has(r))return n.get(r);const[a,l]=e[r];switch(a){case sf:case aT:return t(l,r);case xc:{const c=t([],r);for(const d of l)c.push(i(d));return c}case Ah:{const c=t({},r);for(const[d,h]of l)c[i(d)]=i(h);return c}case kb:return t(new Date(l),r);case Rb:{const{source:c,flags:d}=l;return t(new RegExp(c,d),r)}case Nb:{const c=t(new Map,r);for(const[d,h]of l)c.set(i(d),i(h));return c}case Ob:{const c=t(new Set,r);for(const d of l)c.add(i(d));return c}case oT:{const{name:c,message:d}=l;return t(new vw[c](d),r)}case lT:return t(BigInt(l),r);case"BigInt":return t(Object(BigInt(l)),r);case"ArrayBuffer":return t(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return t(new DataView(c),l)}}return t(new vw[a](l),r)};return i},_w=n=>PH(new Map,n)(0),So="",{toString:BH}={},{keys:FH}=Object,sc=n=>{const e=typeof n;if(e!=="object"||!n)return[sf,e];const t=BH.call(n).slice(8,-1);switch(t){case"Array":return[xc,So];case"Object":return[Ah,So];case"Date":return[kb,So];case"RegExp":return[Rb,So];case"Map":return[Nb,So];case"Set":return[Ob,So];case"DataView":return[xc,t]}return t.includes("Array")?[xc,t]:t.includes("Error")?[oT,t]:[Ah,t]},zd=([n,e])=>n===sf&&(e==="function"||e==="symbol"),IH=(n,e,t,i)=>{const r=(l,c)=>{const d=i.push(l)-1;return t.set(c,d),d},a=l=>{if(t.has(l))return t.get(l);let[c,d]=sc(l);switch(c){case sf:{let f=l;switch(d){case"bigint":c=lT,f=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+d);f=null;break;case"undefined":return r([aT],l)}return r([c,f],l)}case xc:{if(d){let g=l;return d==="DataView"?g=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(g=new Uint8Array(l)),r([d,[...g]],l)}const f=[],m=r([c,f],l);for(const g of l)f.push(a(g));return m}case Ah:{if(d)switch(d){case"BigInt":return r([d,l.toString()],l);case"Boolean":case"Number":case"String":return r([d,l.valueOf()],l)}if(e&&"toJSON"in l)return a(l.toJSON());const f=[],m=r([c,f],l);for(const g of FH(l))(n||!zd(sc(l[g])))&&f.push([a(g),a(l[g])]);return m}case kb:return r([c,l.toISOString()],l);case Rb:{const{source:f,flags:m}=l;return r([c,{source:f,flags:m}],l)}case Nb:{const f=[],m=r([c,f],l);for(const[g,b]of l)(n||!(zd(sc(g))||zd(sc(b))))&&f.push([a(g),a(b)]);return m}case Ob:{const f=[],m=r([c,f],l);for(const g of l)(n||!zd(sc(g)))&&f.push(a(g));return m}}const{message:h}=l;return r([c,{name:d,message:h}],l)};return a},xw=(n,{json:e,lossy:t}={})=>{const i=[];return IH(!(e||t),!!e,new Map,i)(n),i},Eh=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?_w(xw(n,e)):structuredClone(n):(n,e)=>_w(xw(n,e));function zH(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function UH(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function HH(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||zH,i=n.options.footnoteBackLabel||UH,r=n.options.footnoteLabel||"Footnotes",a=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<n.footnoteOrder.length;){const h=n.footnoteById.get(n.footnoteOrder[d]);if(!h)continue;const f=n.all(h),m=String(h.identifier).toUpperCase(),g=tl(m.toLowerCase());let b=0;const S=[],x=n.footnoteCounts.get(m);for(;x!==void 0&&++b<=x;){S.length>0&&S.push({type:"text",value:" "});let T=typeof t=="string"?t:t(d,b);typeof T=="string"&&(T={type:"text",value:T}),S.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+g+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,b),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const E=f[f.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const T=E.children[E.children.length-1];T&&T.type==="text"?T.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...S)}else f.push(...S);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+g},children:n.wrap(f,!0)};n.patch(h,A),c.push(A)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Eh(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const cT=(function(n){if(n==null)return GH;if(typeof n=="function")return af(n);if(typeof n=="object")return Array.isArray(n)?$H(n):qH(n);if(typeof n=="string")return VH(n);throw new Error("Expected function, string, or object as test")});function $H(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=cT(n[t]);return af(i);function i(...r){let a=-1;for(;++a<e.length;)if(e[a].apply(this,r))return!0;return!1}}function qH(n){const e=n;return af(t);function t(i){const r=i;let a;for(a in n)if(r[a]!==e[a])return!1;return!0}}function VH(n){return af(e);function e(t){return t&&t.type===n}}function af(n){return e;function e(t,i,r){return!!(XH(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function GH(){return!0}function XH(n){return n!==null&&typeof n=="object"&&"type"in n}const uT=[],YH=!0,Sw=!1,WH="skip";function KH(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const a=cT(r),l=i?-1:1;c(n,void 0,[])();function c(d,h,f){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(d.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=uT,S,x,E;if((!e||a(d,h,f[f.length-1]||void 0))&&(b=ZH(t(d,f)),b[0]===Sw))return b;if("children"in d&&d.children){const A=d;if(A.children&&b[0]!==WH)for(x=(i?A.children.length:-1)+l,E=f.concat(A);x>-1&&x<A.children.length;){const T=A.children[x];if(S=c(T,x,E)(),S[0]===Sw)return S;x=typeof S[1]=="number"?S[1]:x+l}}return b}}}function ZH(n){return Array.isArray(n)?n:typeof n=="number"?[YH,n]:n==null?uT:[n]}function dT(n,e,t,i){let r,a,l;typeof e=="function"&&typeof t!="function"?(a=void 0,l=e,r=t):(a=e,l=t,r=i),KH(n,a,c,r);function c(d,h){const f=h[h.length-1],m=f?f.children.indexOf(d):void 0;return l(d,m,f)}}const gy={}.hasOwnProperty,QH={};function JH(n,e){const t=e||QH,i=new Map,r=new Map,a=new Map,l={...jH,...t.handlers},c={all:h,applyData:t7,definitionById:i,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:l,one:d,options:t,patch:e7,wrap:i7};return dT(n,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const m=f.type==="definition"?i:r,g=String(f.identifier).toUpperCase();m.has(g)||m.set(g,f)}}),c;function d(f,m){const g=f.type,b=c.handlers[g];if(gy.call(c.handlers,g)&&b)return b(c,f,m);if(c.options.passThrough&&c.options.passThrough.includes(g)){if("children"in f){const{children:x,...E}=f,A=Eh(E);return A.children=c.all(f),A}return Eh(f)}return(c.options.unknownHandler||n7)(c,f,m)}function h(f){const m=[];if("children"in f){const g=f.children;let b=-1;for(;++b<g.length;){const S=c.one(g[b],f);if(S){if(b&&g[b-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=ww(S.value)),!Array.isArray(S)&&S.type==="element")){const x=S.children[0];x&&x.type==="text"&&(x.value=ww(x.value))}Array.isArray(S)?m.push(...S):m.push(S)}}}return m}}function e7(n,e){n.position&&(e.position=B8(n))}function t7(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,a=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const l="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:l}}t.type==="element"&&a&&Object.assign(t.properties,Eh(a)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function n7(n,e){const t=e.data||{},i="value"in e&&!(gy.call(t,"hProperties")||gy.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function i7(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function ww(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function Aw(n,e){const t=JH(n,e),i=t.one(n,void 0),r=HH(t),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&a.children.push({type:"text",value:`
`},r),a}function r7(n,e){return n&&"run"in n?async function(t,i){const r=Aw(t,{file:i,...e});await n.run(r,i)}:function(t,i){return Aw(t,{file:i,...n||e})}}function Ew(n){if(n)throw n}var ig,Cw;function s7(){if(Cw)return ig;Cw=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},a=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var f=n.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&n.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!f&&!m)return!1;var g;for(g in h);return typeof g>"u"||n.call(h,g)},l=function(h,f){t&&f.name==="__proto__"?t(h,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):h[f.name]=f.newValue},c=function(h,f){if(f==="__proto__")if(n.call(h,f)){if(i)return i(h,f).value}else return;return h[f]};return ig=function d(){var h,f,m,g,b,S,x=arguments[0],E=1,A=arguments.length,T=!1;for(typeof x=="boolean"&&(T=x,x=arguments[1]||{},E=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});E<A;++E)if(h=arguments[E],h!=null)for(f in h)m=c(x,f),g=c(h,f),x!==g&&(T&&g&&(a(g)||(b=r(g)))?(b?(b=!1,S=m&&r(m)?m:[]):S=m&&a(m)?m:{},l(x,{name:f,newValue:d(T,S,g)})):typeof g<"u"&&l(x,{name:f,newValue:g}));return x},ig}var a7=s7();const rg=Go(a7);function yy(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function o7(){const n=[],e={run:t,use:i};return e;function t(...r){let a=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...r);function c(d,...h){const f=n[++a];let m=-1;if(d){l(d);return}for(;++m<r.length;)(h[m]===null||h[m]===void 0)&&(h[m]=r[m]);r=h,f?l7(f,c)(...h):l(null,...h)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function l7(n,e){let t;return i;function i(...l){const c=n.length>l.length;let d;c&&l.push(r);try{d=n.apply(this,l)}catch(h){const f=h;if(c&&t)throw f;return r(f)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,r):d instanceof Error?r(d):a(d))}function r(l,...c){t||(t=!0,e(l,...c))}function a(l){r(null,l)}}const Sr={basename:c7,dirname:u7,extname:d7,join:h7,sep:"/"};function c7(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');iu(n);let t=0,i=-1,r=n.length,a;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(a){t=r+1;break}}else i<0&&(a=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let l=-1,c=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(a){t=r+1;break}}else l<0&&(a=!0,l=r+1),c>-1&&(n.codePointAt(r)===e.codePointAt(c--)?c<0&&(i=r):(c=-1,i=l));return t===i?i=l:i<0&&(i=n.length),n.slice(t,i)}function u7(n){if(iu(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function d7(n){iu(n);let e=n.length,t=-1,i=0,r=-1,a=0,l;for(;e--;){const c=n.codePointAt(e);if(c===47){if(l){i=e+1;break}continue}t<0&&(l=!0,t=e+1),c===46?r<0?r=e:a!==1&&(a=1):r>-1&&(a=-1)}return r<0||t<0||a===0||a===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function h7(...n){let e=-1,t;for(;++e<n.length;)iu(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":f7(t)}function f7(n){iu(n);const e=n.codePointAt(0)===47;let t=p7(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function p7(n,e){let t="",i=0,r=-1,a=0,l=-1,c,d;for(;++l<=n.length;){if(l<n.length)c=n.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(r===l-1||a===1))if(r!==l-1&&a===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(d=t.lastIndexOf("/"),d!==t.length-1){d<0?(t="",i=0):(t=t.slice(0,d),i=t.length-1-t.lastIndexOf("/")),r=l,a=0;continue}}else if(t.length>0){t="",i=0,r=l,a=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,l):t=n.slice(r+1,l),i=l-r-1;r=l,a=0}else c===46&&a>-1?a++:a=-1}return t}function iu(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const m7={cwd:g7};function g7(){return"/"}function by(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function y7(n){if(typeof n=="string")n=new URL(n);else if(!by(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return b7(n)}function b7(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const sg=["history","path","basename","stem","extname","dirname"];class hT{constructor(e){let t;e?by(e)?t={path:e}:typeof e=="string"||v7(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":m7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<sg.length;){const a=sg[i];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let r;for(r in t)sg.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?Sr.basename(this.path):void 0}set basename(e){og(e,"basename"),ag(e,"basename"),this.path=Sr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Sr.dirname(this.path):void 0}set dirname(e){Tw(this.basename,"dirname"),this.path=Sr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Sr.extname(this.path):void 0}set extname(e){if(ag(e,"extname"),Tw(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Sr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){by(e)&&(e=y7(e)),og(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Sr.basename(this.path,this.extname):void 0}set stem(e){og(e,"stem"),ag(e,"stem"),this.path=Sr.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new Un(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function ag(n,e){if(n&&n.includes(Sr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Sr.sep+"`")}function og(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function Tw(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function v7(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const _7=(function(n){const i=this.constructor.prototype,r=i[n],a=function(){return r.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),x7={}.hasOwnProperty;class Mb extends _7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=o7()}copy(){const e=new Mb;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(rg(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(ug("data",this.frozen),this.namespace[e]=t,this):x7.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ug("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Ud(e),i=this.parser||this.Parser;return lg("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),lg("process",this.parser||this.Parser),cg("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(a,l){const c=Ud(e),d=i.parse(c);i.run(d,c,function(f,m,g){if(f||!m||!g)return h(f);const b=m,S=i.stringify(b,g);A7(S)?g.value=S:g.result=S,h(f,g)});function h(f,m){f||!m?l(f):a?a(m):t(void 0,m)}}}processSync(e){let t=!1,i;return this.freeze(),lg("processSync",this.parser||this.Parser),cg("processSync",this.compiler||this.Compiler),this.process(e,r),Rw("processSync","process",t),i;function r(a,l){t=!0,Ew(a),i=l}}run(e,t,i){kw(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?a(void 0,i):new Promise(a);function a(l,c){const d=Ud(t);r.run(e,d,h);function h(f,m,g){const b=m||e;f?c(f):l?l(b):i(void 0,b,g)}}}runSync(e,t){let i=!1,r;return this.run(e,t,a),Rw("runSync","run",i),r;function a(l,c){Ew(l),r=c,i=!0}}stringify(e,t){this.freeze();const i=Ud(t),r=this.compiler||this.Compiler;return cg("stringify",r),kw(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(ug("use",this.frozen),e!=null)if(typeof e=="function")d(e,t);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[f,...m]=h;d(f,m)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(r.settings=rg(!0,r.settings,h.settings))}function c(h){let f=-1;if(h!=null)if(Array.isArray(h))for(;++f<h.length;){const m=h[f];a(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,f){let m=-1,g=-1;for(;++m<i.length;)if(i[m][0]===h){g=m;break}if(g===-1)i.push([h,...f]);else if(f.length>0){let[b,...S]=f;const x=i[g][1];yy(x)&&yy(b)&&(b=rg(!0,x,b)),i[g]=[h,b,...S]}}}}const S7=new Mb().freeze();function lg(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function cg(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function ug(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function kw(n){if(!yy(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Rw(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function Ud(n){return w7(n)?n:new hT(n)}function w7(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function A7(n){return typeof n=="string"||E7(n)}function E7(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const C7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Nw=[],Ow={allowDangerousHtml:!0},T7=/^(https?|ircs?|mailto|xmpp)$/i,k7=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function R7(n){const e=N7(n),t=O7(n);return M7(e.runSync(e.parse(t),t),n)}function N7(n){const e=n.rehypePlugins||Nw,t=n.remarkPlugins||Nw,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Ow}:Ow;return S7().use(cH).use(t).use(r7,i).use(e)}function O7(n){const e=n.children||"",t=new hT;return typeof e=="string"&&(t.value=e),t}function M7(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,a=e.disallowedElements,l=e.skipHtml,c=e.unwrapDisallowed,d=e.urlTransform||D7;for(const f of k7)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+C7+f.id,void 0);return dT(n,h),H8(n,{Fragment:v.Fragment,components:r,ignoreInvalidStyle:!0,jsx:v.jsx,jsxs:v.jsxs,passKeys:!0,passNode:!0});function h(f,m,g){if(f.type==="raw"&&g&&typeof m=="number")return l?g.children.splice(m,1):g.children[m]={type:"text",value:f.value},m;if(f.type==="element"){let b;for(b in eg)if(Object.hasOwn(eg,b)&&Object.hasOwn(f.properties,b)){const S=f.properties[b],x=eg[b];(x===null||x.includes(f.tagName))&&(f.properties[b]=d(String(S||""),b,f))}}if(f.type==="element"){let b=t?!t.includes(f.tagName):a?a.includes(f.tagName):!1;if(!b&&i&&typeof m=="number"&&(b=!i(f,m,g)),b&&g&&typeof m=="number")return c&&f.children?g.children.splice(m,1,...f.children):g.children.splice(m,1),m}}}function D7(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||T7.test(n.slice(0,e))?n:""}const L7="_message_1l7yp_1",j7="_userMsg_1l7yp_20",P7="_botMsg_1l7yp_24",B7="_avatar_1l7yp_28",F7="_text_1l7yp_48",I7="_inlineCode_1l7yp_86",z7="_codeBlock_1l7yp_99",U7="_list_1l7yp_114",H7="_blockquote_1l7yp_123",vr={message:L7,userMsg:j7,botMsg:P7,avatar:B7,text:F7,inlineCode:I7,codeBlock:z7,list:U7,blockquote:H7},dg=({sender:n,text:e})=>{const t=n==="user";return v.jsxs("div",{className:`${vr.message} ${t?vr.userMsg:vr.botMsg}`,children:[v.jsx("div",{className:vr.avatar,children:t?v.jsx(Ug,{size:20}):v.jsx(_L,{size:20})}),v.jsx("div",{className:vr.text,children:t?e:v.jsx(R7,{components:{p:i=>v.jsx("p",{...i}),strong:i=>v.jsx("strong",{...i}),em:i=>v.jsx("em",{...i}),code:({inline:i,...r})=>i?v.jsx("code",{className:vr.inlineCode,...r}):v.jsx("pre",{className:vr.codeBlock,children:v.jsx("code",{...r})}),ul:i=>v.jsx("ul",{className:vr.list,...i}),ol:i=>v.jsx("ol",{className:vr.list,...i}),li:i=>v.jsx("li",{...i}),h1:i=>v.jsx("h2",{...i}),h2:i=>v.jsx("h3",{...i}),h3:i=>v.jsx("h4",{...i}),blockquote:i=>v.jsx("blockquote",{className:vr.blockquote,...i})},children:e})})]})},$7=({externalId:n,onAddNote:e,onGenerateFlashcards:t,onGenerateQuiz:i,testsExist:r,flashcardsExist:a})=>{const[l,c]=z.useState([]),[d,h]=z.useState(""),[f,m]=z.useState(!1),[g,b]=z.useState(!0),[S,x]=z.useState(new Set),[E,A]=z.useState(null),T=z.useRef(null),[R,B]=z.useState(0);z.useEffect(()=>{if(!n)return;b(!0),(async()=>{try{const H=((await Ji.get("/chat-history",{params:{"file_ids[]":n,limit:50}})).data.chat_history||[]).sort((X,V)=>new Date(X.timestamp)-new Date(V.timestamp)).flatMap((X,V)=>[{id:`history-user-${V}`,sender:"user",text:X.question},{id:`history-bot-${V}`,sender:"bot",text:X.answer}]);c(H),B(H.length)}catch(F){console.error("Failed to load chat history:",F)}finally{b(!1)}})()},[n]),z.useEffect(()=>{(()=>{T.current&&setTimeout(()=>{T.current.scrollTop=T.current.scrollHeight},0)})()},[l,f]);const k=async P=>{if(P.preventDefault(),!d.trim())return;const F=d,L=`msg-user-${R}`,H=`msg-bot-${R+1}`,X={id:L,sender:"user",text:F};c(V=>[...V,X]),h(""),m(!0),B(V=>V+2);try{const V=await Ji.post("/ask",{question:F,file_ids:[n]}),Y={id:H,sender:"bot",text:V.data?.answer||"No answer returned."};c(I=>[...I,Y])}catch(V){console.error("Chat request failed:",V),c(Y=>[...Y,{id:H,sender:"bot",text:" Sorry, something went wrong."}])}finally{m(!1)}},N=async(P,F)=>{const L=`msg-user-${R}`,H=`msg-bot-${R+1}`,X={id:L,sender:"user",text:P};c(V=>[...V,X]),m(!0),B(V=>V+2);try{const V=await Ji.post("/ask",{question:F,file_ids:[n]}),Y={id:H,sender:"bot",text:V.data?.answer||"No answer returned."};c(I=>[...I,Y])}catch(V){console.error("Preset prompt request failed:",V),c(Y=>[...Y,{id:H,sender:"bot",text:" Sorry, something went wrong."}])}finally{m(!1)}},M=(P,F)=>{navigator.clipboard.writeText(P).then(()=>{A(F),setTimeout(()=>A(null),2e3)}).catch(L=>{console.error("Failed to copy:",L)})};return v.jsx("div",{className:_t.wrapper,children:v.jsxs("div",{className:_t.chatContainer,children:[v.jsx("div",{className:_t.chatBox,ref:T,children:g?v.jsxs("div",{className:_t.loadingContainer,children:[v.jsxs("div",{className:_t.loadingSkeleton,children:[v.jsx("div",{className:_t.skeletonLine}),v.jsx("div",{className:_t.skeletonLine,style:{width:"90%"}})]}),v.jsxs("div",{className:_t.loadingSkeleton,style:{marginTop:"16px",alignSelf:"flex-end"},children:[v.jsx("div",{className:_t.skeletonLine}),v.jsx("div",{className:_t.skeletonLine,style:{width:"70%"}})]}),v.jsxs("div",{className:_t.loadingSkeleton,style:{marginTop:"16px"},children:[v.jsx("div",{className:_t.skeletonLine}),v.jsx("div",{className:_t.skeletonLine,style:{width:"85%"}})]})]}):l.length===0?v.jsx("div",{className:_t.emptyState,children:v.jsxs("div",{className:_t.emptyContent,children:[v.jsx(Nx,{size:48}),v.jsx("h3",{children:"No conversation yet"}),v.jsx("p",{children:"Start by asking a question about your notes or the document."})]})}):v.jsxs(v.Fragment,{children:[l.map(P=>v.jsxs("div",{className:_t.messageWrapper,children:[P.sender==="bot"?v.jsxs("div",{className:_t.messageContentWrapper,children:[v.jsx(dg,{sender:P.sender,text:P.text}),v.jsxs("button",{className:`${_t.copyIconBtn} ${E===P.id?_t.copied:""}`,onClick:()=>M(P.text,P.id),title:E===P.id?"Copied!":"Copy",children:[v.jsx(PL,{size:14}),E===P.id&&v.jsx("span",{children:"Copied"})]})]}):v.jsx(dg,{sender:P.sender,text:P.text}),P.sender==="bot"&&v.jsx("button",{className:`${_t.addToNotesBtn} ${S.has(P.id)?_t.addedToNotes:""}`,onClick:async()=>{S.has(P.id)||(await e(P.text),x(F=>new Set(F).add(P.id)))},disabled:S.has(P.id),title:S.has(P.id)?"Added to notes":"Add this response to notes",children:S.has(P.id)?v.jsxs(v.Fragment,{children:[v.jsx(Ig,{size:14}),"Added to Notes"]}):v.jsxs(v.Fragment,{children:[v.jsx(Fg,{size:14}),"Add to Notes"]})})]},P.id)),f&&v.jsx("div",{children:v.jsx(dg,{sender:"bot",text:"Thinking..."})},"loading-indicator")]})}),v.jsxs("form",{onSubmit:k,className:_t.inputArea,children:[v.jsx("input",{type:"text",placeholder:"Ask a question about your notes...",value:d,onChange:P=>h(P.target.value),className:_t.input,disabled:f}),v.jsx("button",{type:"submit",className:_t.sendBtn,disabled:f||!n,title:n?"Send message":"Select a file first",children:v.jsx(hj,{size:18})})]}),v.jsxs("div",{className:_t.actionButtons,children:[v.jsxs("button",{className:_t.actionBtn,onClick:()=>N("Summarise","Summarise the document"),disabled:!n||f,title:n?"Generate summary":"Select a file first",children:[v.jsx(hh,{size:16}),"Summarise"]}),v.jsxs("button",{className:_t.actionBtn,onClick:()=>N("Generate Analogy","generate analogy for this document in a very simple and easy way to understand"),disabled:!n||f,title:n?"Generate analogy":"Select a file first",children:[v.jsx(SL,{size:16}),"Generate Analogy"]}),v.jsxs("button",{className:_t.actionBtn,onClick:()=>N("Detect Knowledge Gap","Analyze these study notes and identify their biggest knowledge gaps. For each gap, generate additional notes that provide the missing depth, context, and practical applications needed for true mastery."),disabled:!n||f,title:n?"Detect knowledge gaps":"Select a file first",children:[v.jsx(wj,{size:16}),"Detect Knowledge Gap"]}),!a&&v.jsxs("button",{className:_t.actionBtn,onClick:()=>t(),disabled:!n,title:n?"Generate recap cards":"Select a file first",children:[v.jsx(Fg,{size:16}),"Generate Recap Cards"]}),!r&&v.jsxs("button",{className:_t.actionBtn,onClick:()=>i(),disabled:!n,title:n?"Generate quiz":"Select a file first",children:[v.jsx(Nx,{size:16}),"Generate Quiz"]})]})]})})},q7="_container_usm96_1",V7="_levelBadge_usm96_14",G7="_levelEmoji_usm96_28",X7="_levelText_usm96_33",Y7="_levelDescription_usm96_37",W7="_progressBar_usm96_45",K7="_progressFill_usm96_55",Z7="_celebrationContainer_usm96_62",Q7="_trophy_usm96_73",J7="_celebrationTitle_usm96_79",e$="_celebrationText_usm96_90",t$="_celebrationSubtext_usm96_98",n$="_confetti_usm96_105",i$="_confettiPiece_usm96_113",r$="_card_usm96_147",s$="_header_usm96_167",a$="_tag_usm96_174",o$="_hintBtn_usm96_183",l$="_hintIcon_usm96_202",c$="_hint_usm96_183",u$="_content_usm96_226",d$="_question_usm96_236",h$="_answer_usm96_243",f$="_showBtn_usm96_255",p$="_icon_usm96_217",m$="_nav_usm96_285",g$="_navBtn_usm96_295",y$="_next_usm96_341",b$="_flipWrapper_usm96_382",v$="_flipCard_usm96_387",_$="_flip_usm96_382",x$="_front_usm96_407",S$="_back_usm96_411",w$="_celebrationButtons_usm96_808",A$="_nextLevelBtn_usm96_817",E$="_finishBtn_usm96_818",C$="_doLaterBtn_usm96_819",T$="_loadingOverlay_usm96_1040",k$="_loadingSpinner_usm96_1052",R$="_loadingText_usm96_1063",Xe={container:q7,levelBadge:V7,levelEmoji:G7,levelText:X7,levelDescription:Y7,progressBar:W7,progressFill:K7,celebrationContainer:Z7,trophy:Q7,celebrationTitle:J7,celebrationText:e$,celebrationSubtext:t$,confetti:n$,confettiPiece:i$,card:r$,header:s$,tag:a$,hintBtn:o$,hintIcon:l$,hint:c$,content:u$,question:d$,answer:h$,showBtn:f$,icon:p$,nav:m$,navBtn:g$,next:y$,flipWrapper:b$,flipCard:v$,flip:_$,front:x$,back:S$,celebrationButtons:w$,nextLevelBtn:A$,finishBtn:E$,doLaterBtn:C$,loadingOverlay:T$,loadingSpinner:k$,loadingText:R$},N$=({cards:n=[],onFinish:e,onNextLevel:t,level:i=1,levelDescription:r="",loadingNextLevel:a=!1,onLevelComplete:l})=>{const[c,d]=z.useState(0),[h,f]=z.useState(!1),[m,g]=z.useState(!1),[b,S]=z.useState(!1),[x,E]=z.useState(!1),[A,T]=z.useState(!1);z.useEffect(()=>{S(!1),d(0),f(!1),g(!1)},[n]);const R=n[c],B=()=>{switch(i){case 1:return"#3B82F6";case 2:return"#5BC0DE";case 3:return"#06B6D4";default:return"#3B82F6"}},k=()=>{switch(i){case 1:return"";case 2:return"";case 3:return"";default:return""}},N=()=>{c<n.length-1?(d(L=>L+1),f(!1),g(!1)):S(!0)},M=()=>{c>0&&(d(L=>L-1),f(!1))},P=async()=>{E(!0),console.log("handleFinishClick called for level:",i);try{console.log("Calling onLevelComplete..."),await l?.(),console.log("onLevelComplete done, calling onFinish..."),await e?.(),console.log("onFinish done")}catch(L){console.error("Error in handleFinishClick:",L)}finally{E(!1)}},F=async()=>{T(!0);try{await t?.()}finally{T(!1)}};if(b){const L=i<3;return v.jsx("div",{className:Xe.container,children:v.jsxs("div",{className:Xe.celebrationContainer,children:[a&&v.jsx("div",{className:Xe.loadingOverlay,children:v.jsxs("div",{className:Xe.loadingSpinner,children:[v.jsx(Ps,{size:50,color:"#3B82F6"}),v.jsx("p",{className:Xe.loadingText,children:"Loading next level..."})]})}),v.jsx("div",{className:Xe.confetti,children:[...Array(20)].map((H,X)=>v.jsx("div",{className:Xe.confettiPiece,style:{"--delay":`${X*.05}s`}},X))}),v.jsx(kj,{size:80,className:Xe.trophy}),v.jsx("h1",{className:Xe.celebrationTitle,children:"Excellent! "}),v.jsxs("p",{className:Xe.celebrationText,children:["You completed all ",n.length," cards at ",k()," Level ",i,"!"]}),v.jsx("p",{className:Xe.celebrationSubtext,children:r}),v.jsxs("div",{className:Xe.celebrationButtons,children:[L&&v.jsx("button",{className:Xe.doLaterBtn,onClick:P,disabled:x||A,children:x?v.jsx(Ps,{size:18,color:"currentColor"}):v.jsxs(v.Fragment,{children:[v.jsx(zy,{size:18})," Do it Later"]})}),L?v.jsx("button",{className:Xe.nextLevelBtn,onClick:F,disabled:x||A,children:A?v.jsx(Ps,{size:18,color:"white"}):v.jsxs(v.Fragment,{children:[v.jsx(Hy,{size:18})," Next Level"]})}):v.jsx("button",{className:Xe.finishBtn,onClick:P,disabled:x||A,children:x?v.jsx(Ps,{size:18,color:"white"}):v.jsx(v.Fragment,{children:"Complete"})})]})]})})}return v.jsxs("div",{className:Xe.container,children:[v.jsxs("div",{className:Xe.levelBadge,style:{"--level-color":B()},children:[v.jsx("span",{className:Xe.levelEmoji,children:k()}),v.jsxs("span",{className:Xe.levelText,children:["Level ",i]})]}),v.jsx("div",{className:Xe.levelDescription,children:r}),v.jsx("div",{className:Xe.progressBar,children:v.jsx("div",{className:Xe.progressFill,style:{width:`${(c+1)/n.length*100}%`,backgroundColor:B()}})}),v.jsx("div",{className:Xe.flipWrapper,children:v.jsxs("div",{className:`${Xe.flipCard} ${h?Xe.flip:""}`,children:[v.jsx("div",{className:Xe.front,children:v.jsxs("div",{className:Xe.card,children:[v.jsxs("div",{className:Xe.header,children:[v.jsxs("span",{className:Xe.tag,children:["Recap Card ",c+1," / ",n.length]}),v.jsx("button",{className:Xe.hintBtn,onClick:()=>g(!m),title:"Show hint",children:v.jsx(NF,{className:Xe.hintIcon})})]}),v.jsxs("div",{className:Xe.content,children:[v.jsx("h2",{className:Xe.question,children:R.question}),m&&v.jsxs("div",{className:Xe.hint,children:[v.jsx("strong",{children:"Hint:"})," ",R.answer.substring(0,100),"..."]}),v.jsxs("button",{className:Xe.showBtn,onClick:()=>f(!0),children:[v.jsx(Yy,{className:Xe.icon})," Show Answer"]})]})]})}),v.jsx("div",{className:`${Xe.back}`,children:v.jsxs("div",{className:Xe.card,children:[v.jsx("div",{className:Xe.header,children:v.jsx("span",{className:Xe.tag,children:"Answer"})}),v.jsxs("div",{className:Xe.content,children:[v.jsx("p",{className:Xe.answer,children:R.answer}),v.jsx("button",{className:Xe.showBtn,onClick:()=>f(!1),children:" Show Question"})]})]})})]})}),v.jsxs("div",{className:Xe.nav,children:[v.jsxs("button",{className:`${Xe.navBtn} ${Xe.prev}`,onClick:M,disabled:c===0,children:[v.jsx(kF,{})," Previous"]}),v.jsxs("button",{className:`${Xe.navBtn} ${Xe.next}`,onClick:N,children:["Next ",v.jsx(RF,{})]})]})]})},O$="_container_1x7kt_1",M$="_header_1x7kt_10",D$="_title_1x7kt_14",L$="_subtitle_1x7kt_21",j$="_loading_1x7kt_27",P$="_levelsList_1x7kt_34",B$="_levelCard_1x7kt_41",F$="_locked_1x7kt_54",I$="_completed_1x7kt_60",z$="_levelHeader_1x7kt_77",U$="_levelInfo_1x7kt_83",H$="_levelNumber_1x7kt_90",$$="_number_1x7kt_96",q$="_checkIcon_1x7kt_102",V$="_levelDescription_1x7kt_107",G$="_cardRight_1x7kt_113",X$="_lockBadge_1x7kt_120",Y$="_completedBadge_1x7kt_121",W$="_unlockedBadge_1x7kt_122",K$="_startBtn_1x7kt_174",Z$="_disabledBtn_1x7kt_192",Q$="_spinner_1x7kt_203",J$="_progressSection_1x7kt_218",eq="_progressTitle_1x7kt_223",tq="_progressBar_1x7kt_230",nq="_progressStep_1x7kt_236",iq="_progressCompleted_1x7kt_248",rq="_progressActive_1x7kt_254",sq="_progressLocked_1x7kt_261",wt={container:O$,header:M$,title:D$,subtitle:L$,loading:j$,levelsList:P$,levelCard:B$,locked:F$,completed:I$,levelHeader:z$,levelInfo:U$,levelNumber:H$,number:$$,checkIcon:q$,levelDescription:V$,cardRight:G$,lockBadge:X$,completedBadge:Y$,unlockedBadge:W$,startBtn:K$,disabledBtn:Z$,spinner:Q$,progressSection:J$,progressTitle:eq,progressBar:tq,progressStep:nq,progressCompleted:iq,progressActive:rq,progressLocked:sq},fT=z.forwardRef(({fileId:n,onSelectLevel:e,isVisible:t=!0,onLevelStatusLoaded:i,levelCompletionRefresh:r=0},a)=>{const[l,c]=z.useState({1:{completed:!1,available:!0,description:"Easy Level - Foundational concepts and definitions"},2:{completed:!1,available:!1,description:"Intermediate Level - Practical applications and critical thinking"},3:{completed:!1,available:!1,description:"Advanced Level - Complex analysis and synthesis"}}),[d,h]=z.useState(!0),[f,m]=z.useState(null),g=E=>{c(A=>{const T={...A};T[E].completed=!0,E<3&&(T[E+1].available=!0);const R=`flashcards_level_status_${n}`;return localStorage.setItem(R,JSON.stringify(T)),i?.(T),T})};z.useImperativeHandle(a,()=>({markLevelCompleted:g}));const b=async(E=!1)=>{const A=`flashcards_level_status_${n}`;if(!E){const T=localStorage.getItem(A);if(T){const R=JSON.parse(T);c(R),h(!1),i?.(R);return}}try{const T=await Ji.get("/recap-cards-progress",{params:{"file_ids[]":n}});if(T.data?.level_status){const R=T.data.level_status;c(R),localStorage.setItem(A,JSON.stringify(R)),h(!1),i?.(R)}}catch(T){if(console.error("Failed to load level status:",T),E){const R=localStorage.getItem(A);if(R){const B=JSON.parse(R);c(B),i?.(B)}}h(!1)}};z.useEffect(()=>{n&&b(!1)},[n]),z.useEffect(()=>{!t||!n||b(!0)},[t,n,r]),z.useEffect(()=>{i?.(l)},[l,i]);const S=async E=>{if(!l[E]?.available)return;m(E);const A=`flashcards_level_${E}_${n}`;try{const T=localStorage.getItem(A);if(T){e(E,JSON.parse(T)),m(null);return}const R=await Ji.post("/generate-flashcards",{file_ids:[n],num_flashcards:5,level:E});if(R.data?.flashcards){const B=R.data.flashcards;localStorage.setItem(A,JSON.stringify(B)),i?.(l);try{const k=await pt.post("/flashcards",{file_id:n,cards:B,title:`Recap Cards Level ${E}`,description:l[E].description,level:E});e(E,B)}catch(k){console.error("Failed to save flashcards:",k),e(E,B)}}}catch(T){console.error("Failed to load flashcards:",T.message);const R=localStorage.getItem(A);R?e(E,JSON.parse(R)):alert(`Failed to load Level ${E} flashcards. Please try again.`)}finally{m(null)}};if(d)return v.jsx("div",{className:wt.loading,children:"Loading flashcard levels..."});const x=[1,2,3];return v.jsxs("div",{className:wt.container,children:[v.jsxs("div",{className:wt.header,children:[v.jsx("h2",{className:wt.title,children:"Recap Cards"}),v.jsx("p",{className:wt.subtitle,children:"Complete levels to unlock advanced content"})]}),v.jsx("div",{className:wt.levelsList,children:x.map(E=>{const A=l[E],T=A.completed,B=!A.available;return v.jsxs("div",{className:`${wt.levelCard} ${T?wt.completed:""} ${B?wt.locked:""}`,children:[v.jsx("div",{className:wt.levelHeader,children:v.jsxs("div",{className:wt.levelInfo,children:[v.jsxs("div",{className:wt.levelNumber,children:[v.jsxs("span",{className:wt.number,children:["Level ",E]}),T&&v.jsx(Ig,{size:20,className:wt.checkIcon})]}),v.jsx("p",{className:wt.levelDescription,children:A.description})]})}),v.jsxs("div",{className:wt.cardRight,children:[B?v.jsxs("div",{className:wt.lockBadge,children:[v.jsx(JL,{size:24}),v.jsx("span",{children:"Locked"})]}):T?v.jsxs("div",{className:wt.completedBadge,children:[v.jsx(Ig,{size:24}),v.jsx("span",{children:"Completed"})]}):v.jsxs("div",{className:wt.unlockedBadge,children:[v.jsx(KL,{size:24}),v.jsx("span",{children:"Ready"})]}),v.jsx("button",{className:`${wt.startBtn} ${B?wt.disabledBtn:""}`,onClick:()=>S(E),disabled:B||f===E,children:f===E?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:wt.spinner}),"Generating..."]}):T?"Recap Again":"Start Level"})]})]},E)})}),v.jsxs("div",{className:wt.progressSection,children:[v.jsx("h3",{className:wt.progressTitle,children:"Your Progress"}),v.jsx("div",{className:wt.progressBar,children:[1,2,3].map(E=>v.jsx("div",{className:`${wt.progressStep} ${l[E]?.completed?wt.progressCompleted:l[E]?.available?wt.progressActive:wt.progressLocked}`,title:`Level ${E}: ${l[E]?.description}`,children:E},E))})]})]})});fT.displayName="FlashcardsList";const aq="_container_18g0x_1",oq="_header_18g0x_10",lq="_title_18g0x_17",cq="_createBtn_18g0x_24",uq="_empty_18g0x_58",dq="_list_18g0x_65",hq="_testCard_18g0x_71",fq="_completed_18g0x_90",pq="_unattempted_18g0x_100",mq="_testHeader_18g0x_109",gq="_scoreText_18g0x_115",yq="_testInfo_18g0x_122",bq="_testName_18g0x_129",vq="_testDesc_18g0x_136",_q="_cardRight_18g0x_142",xq="_scoreBadge_18g0x_149",Sq="_scorePercentage_18g0x_160",wq="_scoreFraction_18g0x_165",Aq="_good_18g0x_171",Eq="_average_18g0x_177",Cq="_poor_18g0x_183",Tq="_loading_18g0x_209",kq="_takeTestBtn_18g0x_216",Rq="_generatingOverlay_18g0x_236",Nq="_spinnerContainer_18g0x_246",Oq="_generatingText_18g0x_259",Mq="_spinner_18g0x_246",It={container:aq,header:oq,title:lq,createBtn:cq,empty:uq,list:dq,testCard:hq,completed:fq,unattempted:pq,testHeader:mq,scoreText:gq,testInfo:yq,testName:bq,testDesc:vq,cardRight:_q,scoreBadge:xq,scorePercentage:Sq,scoreFraction:wq,good:Aq,average:Eq,poor:Cq,loading:Tq,takeTestBtn:kq,generatingOverlay:Rq,spinnerContainer:Nq,generatingText:Oq,spinner:Mq},Dq=({fileId:n,onSelectTest:e})=>{const[t,i]=z.useState([]),[r,a]=z.useState(!0),[l,c]=z.useState(!1);z.useEffect(()=>{if(!n)return;(async()=>{try{const g=(await pt.get(`/test/file/${n}`)).data||[];i(g)}catch(m){console.error("Failed to load tests:",m)}finally{a(!1)}})()},[n]);const d=f=>f+1,h=async()=>{c(!0);try{const m=(await Ji.post("/generate-mcq",{file_ids:[n],num_questions:5})).data.mcqs,g=t.length+1,b=m.length,S=await pt.post("/test/create-from-mcqs",{file_id:n,title:`Test ${g}`,description:`Auto-generated test (${m.length} questions)`,mcqs:m,totalQuestions:b});i(x=>[S.data,...x]),e(S.data.id)}catch(f){console.error("Failed to create test:",f)}finally{c(!1)}};return r?v.jsx("div",{className:It.loading,children:"Loading tests..."}):l?v.jsx("div",{className:It.container,children:v.jsx("div",{className:It.generatingOverlay,children:v.jsxs("div",{className:It.spinnerContainer,children:[v.jsx(Ps,{size:50,color:"#3B82F6"}),v.jsx("p",{className:It.generatingText,children:"Generating test..."})]})})}):v.jsxs("div",{className:It.container,children:[v.jsxs("div",{className:It.header,children:[v.jsx("h2",{className:It.title,children:"Tests"}),v.jsx("button",{className:It.createBtn,onClick:h,disabled:l,children:"+ Create Test"})]}),t.length===0&&v.jsx("div",{className:It.empty,children:"No tests found for this file."}),v.jsx("div",{className:It.list,children:t.map((f,m)=>{const g=f.userScore!==null&&f.userScore!==void 0,b=g?Math.round(f.userScore/f.questions.length*100):null,S=b>=70?"good":b>=50?"average":"poor";return v.jsxs("div",{className:`${It.testCard} ${g?It.completed:It.unattempted}`,children:[v.jsx("div",{className:It.testHeader,children:v.jsxs("div",{className:It.testInfo,children:[v.jsx("h3",{className:It.testName,children:f.title||`Test ${d(m)}`}),v.jsx("p",{className:It.testDesc,children:f.description}),g&&v.jsxs("div",{className:It.scoreText,children:["Score: ",f.userScore,"/",f.questions.length," (",b,"%)"]})]})}),v.jsxs("div",{className:It.cardRight,children:[g&&v.jsxs("div",{className:`${It.scoreBadge} ${It[S]}`,children:[v.jsxs("div",{className:It.scorePercentage,children:[b,"%"]}),v.jsxs("div",{className:It.scoreFraction,children:[f.userScore,"/",f.questions.length]})]}),v.jsx("button",{className:It.takeTestBtn,onClick:()=>e(f.id),children:g?"Retake Test":"Take Test"})]})]},f.id)})})]})},Lq="_container_1ns94_1",jq="_card_1ns94_6",Pq="_header_1ns94_24",Bq="_tag_1ns94_30",Fq="_mode_1ns94_45",Iq="_question_1ns94_58",zq="_options_1ns94_70",Uq="_option_1ns94_70",Hq="_selected_1ns94_125",$q="_actions_1ns94_137",qq="_button_1ns94_143",Vq="_prev_1ns94_170",Gq="_resultContainer_1ns94_199",Xq="_fadeIn_1ns94_1",Yq="_score_1ns94_231",Wq="_popIn_1ns94_1",Kq="_scoreBg_1ns94_267",Zq="_perfect_1ns94_272",Qq="_good_1ns94_283",Jq="_average_1ns94_294",eV="_poor_1ns94_305",tV="_scoreEmoji_1ns94_316",nV="_bounceIn_1ns94_1",iV="_bounce_1ns94_1",rV="_scorePercent_1ns94_326",sV="_slideUp_1ns94_1",aV="_scoreFraction_1ns94_353",oV="_motivationText_1ns94_366",lV="_encouragement_1ns94_389",cV="_confettiPiece_1ns94_454",uV="_confetti_1ns94_454",en={container:Lq,card:jq,header:Pq,tag:Bq,mode:Fq,question:Iq,options:zq,option:Uq,selected:Hq,actions:$q,button:qq,prev:Vq,resultContainer:Gq,fadeIn:Xq,score:Yq,popIn:Wq,scoreBg:Kq,perfect:Zq,good:Qq,average:Jq,poor:eV,scoreEmoji:tV,bounceIn:nV,bounce:iV,scorePercent:rV,slideUp:sV,scoreFraction:aV,motivationText:oV,encouragement:lV,confettiPiece:cV,confetti:uV},dV=({questions:n=[],onSubmit:e})=>{const[t,i]=z.useState(0),[r,a]=z.useState({}),[l,c]=z.useState(!1),[d,h]=z.useState(0),f=T=>{if(n.length===0)return{level:"good",percentage:0};const R=T/n.length*100;return R===100?{level:"perfect",percentage:R}:R>=70?{level:"good",percentage:R}:R>=50?{level:"average",percentage:R}:{level:"poor",percentage:R}},m=()=>{if(typeof window>"u")return;const T=30;for(let R=0;R<T;R++){const B=document.createElement("div");B.className=en.confettiPiece,B.style.left=Math.random()*100+"%",B.style.backgroundColor=["#fbbf24","#34d399","#60a5fa","#f87171","#a78bfa"][Math.floor(Math.random()*5)],B.style.animation=`confetti ${2+Math.random()*1}s ease-in forwards`,B.style.delay=Math.random()*.3+"s",document.body.appendChild(B),setTimeout(()=>B.remove(),3e3)}},g=(T,R)=>{const B={perfect:{emoji:"",motivation:"Perfect Score! Outstanding! ",encouragement:"You absolutely crushed it! Keep up this amazing performance!"},good:{emoji:"",motivation:"Great Job! Well Done!",encouragement:"You've got a solid grasp of this material. Keep practicing!"},average:{emoji:"",motivation:"Good Effort! You Can Do Better!",encouragement:"You're on the right track. Review and practice more concepts."},poor:{emoji:"",motivation:"Keep Learning!",encouragement:"This is a learning journey! Review the material and try again."}};return B[T]||B.good},b=n[t],S=(T,R)=>{const B=R.trim().charAt(0);a(k=>({...k,[T]:B}))},x=()=>{t<n.length-1&&i(T=>T+1)},E=()=>{t>0&&i(T=>T-1)},A=()=>{let T=0;n.forEach((B,k)=>{const N=r[k]||"",M=(B.correct_answer||"").trim();N===M&&T++}),h(T),c(!0),f(T).level==="perfect"&&setTimeout(()=>m(),300),e?.(r,T)};if(l){const T=f(d),R=g(T.level,T.percentage),B=Math.round(T.percentage);return v.jsxs("div",{className:`${en.resultContainer} ${en.scoreBg} ${en[T.level]}`,children:[v.jsx("div",{className:en.scoreEmoji,children:R.emoji}),v.jsxs("p",{className:en.scorePercent,children:[B,"%"]}),v.jsxs("p",{className:en.scoreFraction,children:[d," out of ",n.length," correct"]}),v.jsx("p",{className:en.motivationText,children:R.motivation}),v.jsx("p",{className:en.encouragement,children:R.encouragement})]})}return v.jsx("div",{className:en.container,children:v.jsxs("div",{className:en.card,children:[v.jsx("div",{className:en.header,children:v.jsx("span",{className:en.mode,children:" MCQ"})}),v.jsx("h2",{className:en.question,children:b.question}),v.jsx("div",{className:en.options,children:b.options.map((T,R)=>{const B=T.trim().charAt(0);return v.jsxs("label",{className:`${en.option} ${r[t]===B?en.selected:""}`,children:[v.jsx("input",{type:"radio",name:`q-${t}`,value:T,checked:r[t]===B,onChange:()=>S(t,T)}),v.jsx("span",{children:T})]},R)})}),v.jsxs("div",{className:en.actions,children:[v.jsx("button",{onClick:E,className:`${en.button} ${en.prev}`,disabled:t===0,children:"Previous"}),t===n.length-1?v.jsx("button",{className:en.button,onClick:A,children:"Submit"}):v.jsx("button",{className:en.button,onClick:x,children:"Next"})]})]})})},hV="_container_7h8kl_1",fV="_title_7h8kl_10",pV="_loading_7h8kl_18",mV="_empty_7h8kl_19",gV="_list_7h8kl_25",yV="_item_7h8kl_31",bV="_rank_7h8kl_46",vV="_userInfo_7h8kl_61",_V="_name_7h8kl_65",xV="_score_7h8kl_72",_r={container:hV,title:fV,loading:pV,empty:mV,list:gV,item:yV,rank:bV,userInfo:vV,name:_V,score:xV};function SV({testId:n,moduleId:e}){const[t,i]=z.useState([]),[r,a]=z.useState(!0);return z.useEffect(()=>{(async()=>{try{const c=await pt.get("/test/leaderboard",{params:{testId:n,moduleId:e}});i(c.data)}catch(c){console.error("Failed to load leaderboard",c)}finally{a(!1)}})()},[n,e]),r?v.jsx("p",{className:_r.loading,children:"Loading leaderboard"}):v.jsxs("div",{className:_r.container,children:[v.jsx("h2",{className:_r.title,children:"Leaderboard"}),t.length===0&&v.jsx("p",{className:_r.empty,children:"No results yet."}),v.jsx("div",{className:_r.list,children:t.map((l,c)=>v.jsxs("div",{className:_r.item,children:[v.jsx("div",{className:_r.rank,children:c+1}),v.jsxs("div",{className:_r.userInfo,children:[v.jsx("p",{className:_r.name,children:l.user?.name||"Unknown User"}),v.jsxs("p",{className:_r.score,children:["Score: ",l.score]})]})]},l.id))})]})}const wV="_timerContainer_kgw84_1",AV="_settingsBox_kgw84_7",EV="_settingRow_kgw84_24",CV="_saveBtn_kgw84_45",TV="_timerToggle_kgw84_61",kV="_reminderTip_kgw84_89",RV="_tipText_kgw84_123",NV="_tipClose_kgw84_127",OV="_timeDisplay_kgw84_158",MV="_timerPanel_kgw84_164",DV="_timerHeader_kgw84_190",LV="_closeBtn_kgw84_206",jV="_timerContent_kgw84_220",PV="_timerCircle_kgw84_226",BV="_breakMode_kgw84_242",FV="_timerDisplay_kgw84_251",IV="_modeLabel_kgw84_264",zV="_stats_kgw84_271",UV="_controls_kgw84_289",HV="_btn_kgw84_295",$V="_playPauseBtn_kgw84_309",qV="_breakBtn_kgw84_319",VV="_resetBtn_kgw84_342",Dt={timerContainer:wV,settingsBox:AV,settingRow:EV,saveBtn:CV,timerToggle:TV,reminderTip:kV,tipText:RV,tipClose:NV,timeDisplay:OV,timerPanel:MV,timerHeader:DV,closeBtn:LV,timerContent:jV,timerCircle:PV,breakMode:BV,timerDisplay:FV,modeLabel:IV,stats:zV,controls:UV,btn:HV,playPauseBtn:$V,breakBtn:qV,resetBtn:VV},GV=()=>{const[n,e]=z.useState(20),[t,i]=z.useState(5),r=n*60,a=t*60,[l,c]=z.useState(r),[d,h]=z.useState(!1),[f,m]=z.useState(!1),[g,b]=z.useState(!1),[S,x]=z.useState(0),[E,A]=z.useState(null),[T,R]=z.useState(!1),B=z.useRef(null),k=async()=>{try{const I=await pt.get("/pomodoro/user/sessions"),U=new Date().toISOString().slice(0,10),C=I.data.filter(ne=>!ne.completed||ne.type!=="STUDY"?!1:ne.endTime?.slice(0,10)===U).length;x(C)}catch(I){console.error("Failed to load daily sessions:",I)}};z.useEffect(()=>{k();const I=setTimeout(()=>{d||R(!0)},2e3);return()=>clearTimeout(I)},[]);const N=async(I,U,C)=>{try{const ne=await pt.post("/pomodoro/start",{durationSec:I,breakSec:U,type:C});A(ne.data.id)}catch(ne){console.error("Failed to start session:",ne)}},M=async()=>{if(E)try{await pt.post(`/pomodoro/complete/${E}`)}catch(I){console.error("Failed to complete session:",I)}},P=async()=>{E||await N(r,a,"STUDY"),h(!0),R(!1)},F=async()=>{h(!1),L(),await M(),await k(),f?(m(!1),c(r),await N(r,a,"STUDY")):(m(!0),c(a),await N(a,0,"BREAK")),h(!0)};z.useEffect(()=>{if(!d){const I=setTimeout(()=>{R(!0)},1e3);return()=>clearTimeout(I)}},[d]),z.useEffect(()=>{if(d)return B.current=setInterval(()=>{c(I=>I<=1?(F(),0):I-1)},1e3),()=>clearInterval(B.current)},[d,f,E]);const L=()=>{const I=new(window.AudioContext||window.webkitAudioContext),U=I.createOscillator(),C=I.createGain();U.connect(C),C.connect(I.destination),U.frequency.value=800,C.gain.setValueAtTime(.3,I.currentTime),C.gain.exponentialRampToValueAtTime(.01,I.currentTime+.5),U.start(I.currentTime),U.stop(I.currentTime+.5)},H=I=>{const U=Math.floor(I/60),C=I%60;return`${String(U).padStart(2,"0")}:${String(C).padStart(2,"0")}`},X=()=>h(!d),V=async()=>{h(!1),m(!1),c(r),A(null),await N(r,a,"STUDY"),await k()},Y=async()=>{f||(h(!1),await M(),m(!0),c(a),await N(a,0,"BREAK"),await k(),h(!0))};return v.jsxs("div",{className:Dt.timerContainer,children:[v.jsxs("button",{className:Dt.timerToggle,onClick:()=>b(!g),children:[v.jsx(zy,{size:20}),v.jsx("span",{className:Dt.timeDisplay,children:H(l)})]}),T&&v.jsxs("div",{className:Dt.reminderTip,children:[v.jsx("span",{className:Dt.tipText,children:" Start Pomodoro to focus & study efficiently"}),v.jsx("button",{className:Dt.tipClose,onClick:()=>R(!1),children:""})]}),g&&v.jsxs("div",{className:Dt.timerPanel,children:[v.jsxs("div",{className:Dt.timerHeader,children:[v.jsx("h3",{children:"Pomodoro Timer"}),v.jsx("button",{className:Dt.closeBtn,onClick:()=>b(!1),children:""})]}),v.jsxs("div",{className:Dt.timerContent,children:[v.jsxs("div",{className:`${Dt.timerCircle} ${f?Dt.breakMode:""}`,children:[v.jsx("div",{className:Dt.timerDisplay,children:H(l)}),v.jsx("div",{className:Dt.modeLabel,children:f?"Break Time ":"Study Time "})]}),v.jsx("div",{className:Dt.stats,children:v.jsxs("p",{children:["Today's sessions: ",v.jsx("strong",{children:S})]})}),v.jsxs("div",{className:Dt.settingsBox,children:[v.jsx("h4",{children:"Timer Settings"}),v.jsxs("div",{className:Dt.settingRow,children:[v.jsx("label",{children:"Work (minutes)"}),v.jsx("input",{type:"number",min:1,value:n,onChange:I=>e(Number(I.target.value))})]}),v.jsxs("div",{className:Dt.settingRow,children:[v.jsx("label",{children:"Break (minutes)"}),v.jsx("input",{type:"number",min:1,value:t,onChange:I=>i(Number(I.target.value))})]}),v.jsx("button",{className:Dt.saveBtn,onClick:()=>{h(!1),m(!1),c(n*60)},children:"Save Changes"})]}),v.jsxs("div",{className:Dt.controls,children:[v.jsx("button",{className:`${Dt.btn} ${Dt.playPauseBtn}`,onClick:()=>{!d&&!E?P():X()},children:!E&&!d?v.jsxs(v.Fragment,{children:[v.jsx(zg,{size:18})," Start"]}):d?v.jsxs(v.Fragment,{children:[v.jsx(rj,{size:18})," Pause"]}):v.jsxs(v.Fragment,{children:[v.jsx(zg,{size:18})," Resume"]})}),v.jsx("button",{className:`${Dt.btn} ${Dt.breakBtn}`,onClick:Y,disabled:f,children:"Take Break"}),v.jsxs("button",{className:`${Dt.btn} ${Dt.resetBtn}`,onClick:V,children:[v.jsx(lj,{size:18})," Reset"]})]})]})]})]})},XV="_editorContainer_1b6kp_1",YV="_toolbar_1b6kp_9",WV="_toolGroup_1b6kp_19",KV="_toolBtn_1b6kp_25",ZV="_previewToggle_1b6kp_54",QV="_separator_1b6kp_65",JV="_spacer_1b6kp_72",eG="_saveBtn_1b6kp_76",tG="_editorWrapper_1b6kp_114",nG="_editorPane_1b6kp_121",iG="_halfWidth_1b6kp_129",rG="_fullWidth_1b6kp_133",sG="_previewPane_1b6kp_138",aG="_paneLabel_1b6kp_147",oG="_editor_1b6kp_1",lG="_preview_1b6kp_54",pn={editorContainer:XV,toolbar:YV,toolGroup:WV,toolBtn:KV,previewToggle:ZV,separator:QV,spacer:JV,saveBtn:eG,editorWrapper:tG,editorPane:nG,halfWidth:iG,fullWidth:rG,previewPane:sG,paneLabel:aG,editor:oG,preview:lG},cG="_notesDisplay_5w5cp_1",uG="_heading1_5w5cp_34",dG="_heading2_5w5cp_43",hG="_heading3_5w5cp_50",fG="_heading4_5w5cp_57",pG="_paragraph_5w5cp_64",mG="_spacer_5w5cp_71",gG="_highlight_5w5cp_75",yG="_underline_5w5cp_88",bG="_bold_5w5cp_93",vG="_italic_5w5cp_98",_G="_smallText_5w5cp_103",xG="_largeText_5w5cp_108",SG="_checkbox_5w5cp_114",wG="_checkboxInput_5w5cp_134",AG="_checkedText_5w5cp_157",Bn={notesDisplay:cG,heading1:uG,heading2:dG,heading3:hG,heading4:fG,paragraph:pG,spacer:mG,highlight:gG,underline:yG,bold:bG,italic:vG,smallText:_G,largeText:xG,checkbox:SG,checkboxInput:wG,checkedText:AG},pT=({content:n,isEditable:e=!1,onCheckboxChange:t=null})=>{const i=(l,c)=>{if(!e||!t)return;const d=n.split(`
`),h=/^- \[([ x])\]/;let f=0;const m=d.map(g=>{if(g.match(h)){if(f===l)return f++,g.replace(h,`- [${c?"x":" "}]`);f++}return g});t(m.join(`
`))},r=()=>{if(!n)return null;const l=n.split(`
`);let c=0;const d=[];for(let h=0;h<l.length;h++){const f=l[h];if(f.startsWith("# "))d.push(v.jsx("h1",{className:Bn.heading1,children:a(f.substring(2))},h));else if(f.startsWith("#### "))d.push(v.jsx("h4",{className:Bn.heading4,children:a(f.substring(5))},h));else if(f.startsWith("### "))d.push(v.jsx("h3",{className:Bn.heading3,children:a(f.substring(4))},h));else if(f.startsWith("## "))d.push(v.jsx("h2",{className:Bn.heading2,children:a(f.substring(3))},h));else if(f.match(/^- \[([ x])\]/)){const m=f.includes("[x]"),g=f.replace(/^- \[([ x])\] /,""),b=c;c++,d.push(v.jsxs("label",{className:Bn.checkbox,children:[v.jsx("input",{type:"checkbox",checked:m,disabled:!e,onChange:S=>i(b,S.target.checked),className:Bn.checkboxInput}),v.jsx("span",{className:m?Bn.checkedText:"",children:a(g)})]},h))}else f.trim()===""?d.push(v.jsx("div",{className:Bn.spacer},h)):d.push(v.jsx("p",{className:Bn.paragraph,children:a(f)},h))}return d},a=l=>{const c=[],d=[{regex:/<highlight>(.+?)<\/highlight>/g,type:"highlight",isContainer:!0},{regex:/<u>(.+?)<\/u>/g,type:"underline",isContainer:!0},{regex:/<small>(.+?)<\/small>/g,type:"small",isContainer:!0},{regex:/<large>(.+?)<\/large>/g,type:"large",isContainer:!0},{regex:/\*\*(.+?)\*\*/g,type:"bold"},{regex:/__(.+?)__/g,type:"italic"}],h=[];if(d.forEach(g=>{let b;const S=new RegExp(g.regex.source,g.regex.flags);for(;(b=S.exec(l))!==null;)h.push({index:b.index,length:b[0].length,type:g.type,content:b[1],isContainer:g.isContainer})}),h.length===0)return l;h.sort((g,b)=>g.index-b.index);const f=[];h.forEach(g=>{f.some(S=>S.isContainer&&g.index>=S.index&&g.index+g.length<=S.index+S.length)||f.push(g)});let m=0;return f.forEach(g=>{switch(g.index>m&&c.push(l.substring(m,g.index)),g.type){case"highlight":c.push(v.jsx("mark",{className:Bn.highlight,children:a(g.content)},c.length));break;case"underline":c.push(v.jsx("u",{className:Bn.underline,children:a(g.content)},c.length));break;case"bold":c.push(v.jsx("strong",{className:Bn.bold,children:g.content},c.length));break;case"italic":c.push(v.jsx("em",{className:Bn.italic,children:g.content},c.length));break;case"small":c.push(v.jsx("small",{className:Bn.smallText,children:a(g.content)},c.length));break;case"large":c.push(v.jsx("span",{className:Bn.largeText,children:a(g.content)},c.length));break}m=g.index+g.length}),m<l.length&&c.push(l.substring(m)),c};return v.jsx("div",{className:Bn.notesDisplay,children:r()})},EG=({notes:n,setNotes:e,onSave:t,isSaving:i})=>{const r=z.useRef(null),a=z.useRef(0),[l,c]=z.useState(!0);z.useEffect(()=>{const b=r.current;b&&a.current>0&&(b.scrollTop=a.current)},[n]);const d=b=>{a.current=r.current.scrollTop,e(b.target.value)},h=(b,S="")=>{const x=r.current,E=x.selectionStart,A=x.selectionEnd,T=n.substring(E,A)||"text",R=n.substring(0,E)+b+T+S+n.substring(A);a.current=x.scrollTop,e(R),setTimeout(()=>{x.focus(),x.setSelectionRange(E+b.length,E+b.length+T.length)},0)},f=()=>h("<highlight>","</highlight>"),m=()=>h("<u>","</u>"),g=()=>{const S=r.current.selectionStart;let x=`
- [ ] `;(S===0||n[S-1]===`
`)&&(x="- [ ] "),h(x,"")};return v.jsxs("div",{className:pn.editorContainer,children:[v.jsxs("div",{className:pn.toolbar,children:[v.jsxs("div",{className:pn.toolGroup,children:[v.jsx("button",{className:pn.toolBtn,onClick:f,title:"Highlight","aria-label":"Highlight text",children:v.jsx(qL,{size:18})}),v.jsx("button",{className:pn.toolBtn,onClick:m,title:"Underline","aria-label":"Underline text",children:v.jsx(Nj,{size:18})}),v.jsx("div",{className:pn.separator}),v.jsx("button",{className:pn.toolBtn,onClick:g,title:"Add checkbox (for todo)","aria-label":"Add todo checkbox",children:v.jsx(_j,{size:18})})]}),v.jsx("div",{className:pn.spacer}),v.jsx("button",{className:`${pn.toolBtn} ${pn.previewToggle}`,onClick:()=>c(!l),title:l?"Hide preview":"Show preview","aria-label":"Toggle preview",children:l?v.jsx(FL,{size:18}):v.jsx(zL,{size:18})}),v.jsx("button",{className:pn.saveBtn,onClick:t,disabled:i,children:i?"Saving...":"Save"})]}),v.jsxs("div",{className:pn.editorWrapper,children:[v.jsxs("div",{className:`${pn.editorPane} ${l?pn.halfWidth:pn.fullWidth}`,children:[v.jsx("div",{className:pn.paneLabel,children:"Edit"}),v.jsx("textarea",{ref:r,className:pn.editor,value:n,onChange:d,placeholder:"Write your notes here... Use the toolbar above to format text.",spellCheck:"true"})]}),l&&v.jsxs("div",{className:pn.previewPane,children:[v.jsx("div",{className:pn.paneLabel,children:"Preview"}),v.jsx("div",{className:pn.preview,children:v.jsx(pT,{content:n,isEditable:!0,onCheckboxChange:e})})]})]})]})},CG="_wrapper_xjbif_1",TG="_tabs_xjbif_11",kG="_tabButtons_xjbif_22",RG="_timerWrapper_xjbif_27",NG="_tab_xjbif_11",OG="_active_xjbif_51",MG="_notesPanel_xjbif_63",DG="_emptyNotes_xjbif_72",LG="_emptyIcon_xjbif_83",jG="_editBtn_xjbif_105",PG="_content_xjbif_133",BG="_flashcardsPanel_xjbif_140",FG="_quizPanel_xjbif_141",IG="_pdfPanel_xjbif_142",zG="_loadingIndicator_xjbif_154",$t={wrapper:CG,tabs:TG,tabButtons:kG,timerWrapper:RG,tab:NG,active:OG,notesPanel:MG,emptyNotes:DG,emptyIcon:LG,editBtn:jG,content:PG,flashcardsPanel:BG,quizPanel:FG,pdfPanel:IG,loadingIndicator:zG},UG=({externalId:n,userId:e,fileid:t,pdfFile:i,notes:r,setNotes:a})=>{const{moduleId:l}=wy(),[c,d]=z.useState("chat"),[h,f]=z.useState(!1),[m,g]=z.useState(!1),[b,S]=z.useState([]),[x,E]=z.useState(null),[A,T]=z.useState(""),[R,B]=z.useState(!1),[k,N]=z.useState(null),[M,P]=z.useState(!1),[F,L]=z.useState(!1),[H,X]=z.useState(!1),[V,Y]=z.useState(null),[I,U]=z.useState(window.innerWidth),[C,ne]=z.useState(!0),[G,w]=z.useState(!1),[D,q]=z.useState(!1),[j,K]=z.useState(0),ee=z.useRef(null),re=z.useRef(null);z.useEffect(()=>{const Ae=()=>U(window.innerWidth);return window.addEventListener("resize",Ae),()=>window.removeEventListener("resize",Ae)},[]),z.useEffect(()=>{if(!n)return;(async()=>{try{const W=await pt.get("/notes",{params:{userId:e,fileId:t}});a(W.data?.content||"")}catch(W){console.error("Failed to load notes",W)}})()},[n,e,t]),z.useEffect(()=>{if(!n)return;const Ae=async()=>{try{const ce=(await pt.get(`/test/file/${n}`)).data||[];X(ce.length>0),L(ce.length>0)}catch(J){console.error("Failed to load tests:",J),X(!1)}},W=()=>{for(let J=1;J<=3;J++){const ce=`flashcards_level_${J}_${n}`;if(localStorage.getItem(ce)){P(!0);return}}P(!1)};Ae(),W()},[n]);const se=Ae=>{for(let W=1;W<=3;W++){const J=`flashcards_level_${W}_${n}`;if(localStorage.getItem(J)){P(!0);return}}P(!1)},Se=()=>{for(let Ae=1;Ae<=3;Ae++){const W=`flashcards_level_${Ae}_${n}`;if(localStorage.getItem(W)){P(!0);return}}P(!1)},ve=async()=>{console.log("Saving notes for fileId:",t,"notes:",r),g(!0);try{await pt.post("/notes",{userId:e,fileId:t,content:r}),f(!1)}catch(Ae){console.error("Failed to save notes",Ae)}finally{g(!1)}},we=async Ae=>{try{const W=`

**AI Response:**
${Ae}`,J=await pt.post("/notes/append",{userId:e,fileId:t,text:W});a(J.data.content)}catch(W){console.error("Failed to append note",W)}},Ie=(Ae,W)=>{const J={1:"Easy Level - Foundational concepts and definitions",2:"Intermediate Level - Practical applications and critical thinking",3:"Advanced Level - Complex analysis and synthesis"};E(Ae),T(J[Ae]),S(W),ne(!1),d("flashcards")},qe=async()=>{if(console.log("handleLevelComplete called with level:",x,"externalId:",n),x>=1&&x<=3)try{console.log("Making API call to /recap-cards-complete-level with:",{file_id:n,level:x});const Ae=await Ji.post("/recap-cards-complete-level",{file_id:n,level:x});return console.log("Level completed successfully:",Ae.status,Ae.data),await new Promise(W=>setTimeout(W,200)),K(W=>W+1),!0}catch(Ae){throw console.error("Failed to mark level as completed:",{status:Ae.response?.status,data:Ae.response?.data,message:Ae.message}),Ae}else console.warn("Invalid flashcardLevel:",x)},Ce=async()=>{ne(!0)},Ee=async()=>{const Ae=x+1;if(Ae>3)return;w(!0);const W=`flashcards_level_${Ae}_${n}`,J={1:"Easy Level - Foundational concepts and definitions",2:"Intermediate Level - Practical applications and critical thinking",3:"Advanced Level - Complex analysis and synthesis"},ce=localStorage.getItem(W);if(ce){Ie(Ae,JSON.parse(ce)),w(!1);return}Ji.post("/recap-cards-complete-level",{file_id:n,level:x}).catch(xe=>console.error("Failed to mark level as completed:",xe)),Ji.post("/generate-flashcards",{file_ids:[n],num_flashcards:5,level:Ae}).then(xe=>{if(xe.data?.flashcards){const ge=xe.data.flashcards;localStorage.setItem(W,JSON.stringify(ge)),Se(),Ie(Ae,ge),w(!1),pt.post("/flashcards",{file_id:n,cards:ge,title:`Recap Cards Level ${Ae}`,description:J[Ae],level:Ae}).catch(ye=>console.error("Failed to save flashcards:",ye))}}).catch(xe=>{console.error("Failed to generate flashcards:",xe.message),w(!1),localStorage.getItem(W)||alert(`Failed to load Level ${Ae} flashcards.`)})},De=()=>{L(!0),d("quiz")},Ge=async Ae=>{try{const W=await pt.get(`/test/${Ae}`);Y(W.data)}catch(W){console.error("Failed to load test:",W)}},ze=async(Ae,W)=>{try{await pt.post("/test/score",{testId:V.id,score:W}),console.log("Score saved:",W)}catch(J){console.error("Failed to save score:",J)}},ft=()=>{Y(null)};return v.jsxs("div",{className:$t.wrapper,children:[v.jsxs("div",{className:$t.tabs,children:[v.jsxs("div",{className:$t.tabButtons,children:[v.jsx("button",{className:`${$t.tab} ${c==="chat"?$t.active:""}`,onClick:()=>d("chat"),children:"AI Chat"}),v.jsx("button",{className:`${$t.tab} ${c==="notes"?$t.active:""}`,onClick:()=>d("notes"),children:"Notes"}),M&&v.jsxs("button",{className:`${$t.tab} ${c==="flashcards"?$t.active:""}`,onClick:()=>d("flashcards"),children:["Recap Cards",R&&v.jsx("span",{className:$t.loadingIndicator,children:"..."})]}),F&&v.jsx("button",{className:`${$t.tab} ${c==="quiz"?$t.active:""}`,onClick:()=>d("quiz"),children:"Quiz"}),I<=1024&&v.jsxs("button",{className:`${$t.tab} ${c==="pdf"?$t.active:""}`,onClick:()=>d("pdf"),title:"View PDF",children:[v.jsx(hh,{size:16}),v.jsx("span",{children:"PDF"})]})]}),v.jsx("div",{className:$t.timerWrapper,children:v.jsx(GV,{})})]}),v.jsxs("div",{className:$t.content,children:[c==="chat"&&v.jsx($7,{externalId:n,onAddNote:we,onGenerateFlashcards:()=>{ne(!0),d("flashcards")},onGenerateQuiz:De,testsExist:H,flashcardsExist:M}),c==="notes"&&v.jsx("div",{className:$t.notesPanel,ref:ee,children:h?v.jsx(EG,{notes:r,setNotes:a,onSave:ve,isSaving:m}):v.jsx(v.Fragment,{children:r?v.jsxs(v.Fragment,{children:[v.jsx(pT,{content:r}),v.jsx("button",{className:$t.editBtn,onClick:()=>f(!0),children:"Edit"})]}):v.jsxs("div",{className:$t.emptyNotes,children:[v.jsx("p",{className:$t.emptyIcon,children:""}),v.jsx("h3",{children:"No notes yet"}),v.jsx("p",{children:"Add notes from the AI chat or write your own here."}),v.jsx("button",{className:$t.editBtn,onClick:()=>f(!0),children:"Write Notes"})]})})}),c==="flashcards"&&v.jsx("div",{className:$t.flashcardsPanel,children:C?v.jsx(fT,{ref:re,fileId:n,onSelectLevel:Ie,onLevelStatusLoaded:se,isVisible:!0,levelCompletionRefresh:j}):b.length>0?v.jsx(N$,{cards:b,level:x,levelDescription:A,onNextLevel:Ee,onFinish:Ce,loadingNextLevel:G,onLevelComplete:qe}):v.jsx("p",{style:{padding:20},children:"No flashcards available."})}),c==="quiz"&&v.jsx("div",{className:$t.quizPanel,children:V?v.jsxs("div",{children:[v.jsx("button",{onClick:ft,style:{padding:"8px 14px",marginBottom:"10px",background:"linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)",transition:"all 0.2s ease"},onMouseEnter:Ae=>{Ae.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)",Ae.target.style.transform="translateY(-1px)"},onMouseLeave:Ae=>{Ae.target.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.2)",Ae.target.style.transform="translateY(0)"},children:" Back to Test List"}),v.jsx(dV,{questions:V.questions,onSubmit:ze}),v.jsx(SV,{testId:V.id,moduleId:l})]}):v.jsx(Dq,{fileId:n,onSelectTest:Ge})}),c==="pdf"&&i&&v.jsx("div",{className:$t.pdfPanel,children:i})]})]})},HG=()=>{const{moduleId:n}=wy(),[e,t]=z.useState(!0),[i,r]=z.useState(1),[a,l]=z.useState(!1),[c,d]=z.useState(window.innerWidth),[h,f]=z.useState(""),m=z.useRef(null),[g,b]=z.useState(!1),[S,x]=z.useState([]),[E,A]=z.useState(()=>{const L=localStorage.getItem("selectedFile");return L?JSON.parse(L):null}),T=z.useRef(n),R=z.useCallback(async()=>{try{const X=((await pt.get(`/files/modules/${n}/files`)).data.files||[]).map((Y,I)=>({title:`${Y.filename}`,displayTitle:`${I+1}. ${Y.filename}`,id:Y.id,externalId:Y.externalId}));if(x(X),X.length===0)return;const V=localStorage.getItem("selectedFile");if(V){const Y=JSON.parse(V),I=X.find(U=>U.id===Y.id);if(I){A(I);return}}A(X[0])}catch(L){console.error("Failed to fetch files:",L)}finally{t(!1)}},[n]);z.useEffect(()=>{R()},[R]),z.useEffect(()=>{const L=()=>d(window.innerWidth);return window.addEventListener("resize",L),()=>window.removeEventListener("resize",L)},[]),z.useEffect(()=>{T.current!==n&&(localStorage.removeItem("selectedFile"),A(null),T.current=n)},[n]);const B=L=>{A(L),localStorage.setItem("selectedFile",JSON.stringify(L))},k=()=>{b(!1),R()},N=()=>{l(!0)},M=L=>{f(H=>H+`

`+L)};if(z.useEffect(()=>{const L=X=>{if(!a||!m.current)return;const Y=m.current.getBoundingClientRect(),I=X.clientX-Y.left,U=Y.width,C=I/(U-I);I>300&&U-I>300&&r(C)},H=()=>{l(!1)};return a&&(document.addEventListener("mousemove",L),document.addEventListener("mouseup",H)),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",H)}},[a]),e)return v.jsx(aE,{});if(!E)return v.jsxs("div",{className:ca.wrapper,children:[v.jsx(Cc,{hideSearch:!0}),v.jsx("div",{className:ca.emptyState,children:v.jsx("p",{children:"No files available in this module"})})]});const P=c>1024,F=v.jsx(OC,{fileId:E?.id,fileName:`${E?.title}`,height:"100%",allFiles:S,selectedFileId:E?.id,onFileSelect:B,onUploadMore:()=>b(!0),onSelectTextAddNote:M});return v.jsxs("div",{className:ca.wrapper,children:[v.jsx(Cc,{hideSearch:!0}),v.jsxs("div",{className:ca.studySpaceContainer,ref:m,children:[P&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:ca.pdfPane,style:{flex:i},children:F}),v.jsx("div",{className:ca.resizeHandle,onMouseDown:N,title:"Drag to resize panels"})]}),v.jsx("div",{className:ca.chatPane,style:{flex:1},children:v.jsx(UG,{externalId:E?.externalId,fileid:E?.id,pdfFile:P?null:F,notes:h,setNotes:f})})]}),v.jsx(sE,{isOpen:g,onClose:()=>b(!1),onCreate:k,onUploadSuccess:k,moduleId:n,mode:"upload"})]})};var hg={},fg={},ac={},pg={},Mw;function $G(){return Mw||(Mw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e})(pg)),pg}var mg,Dw;function qG(){if(Dw)return mg;Dw=1;var n="Expected a function",e=NaN,t="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d=typeof xd=="object"&&xd&&xd.Object===Object&&xd,h=typeof self=="object"&&self&&self.Object===Object&&self,f=d||h||Function("return this")(),m=Object.prototype,g=m.toString,b=Math.max,S=Math.min,x=function(){return f.Date.now()};function E(k,N,M){var P,F,L,H,X,V,Y=0,I=!1,U=!1,C=!0;if(typeof k!="function")throw new TypeError(n);N=B(N)||0,A(M)&&(I=!!M.leading,U="maxWait"in M,L=U?b(B(M.maxWait)||0,N):L,C="trailing"in M?!!M.trailing:C);function ne(se){var Se=P,ve=F;return P=F=void 0,Y=se,H=k.apply(ve,Se),H}function G(se){return Y=se,X=setTimeout(q,N),I?ne(se):H}function w(se){var Se=se-V,ve=se-Y,we=N-Se;return U?S(we,L-ve):we}function D(se){var Se=se-V,ve=se-Y;return V===void 0||Se>=N||Se<0||U&&ve>=L}function q(){var se=x();if(D(se))return j(se);X=setTimeout(q,w(se))}function j(se){return X=void 0,C&&P?ne(se):(P=F=void 0,H)}function K(){X!==void 0&&clearTimeout(X),Y=0,P=V=F=X=void 0}function ee(){return X===void 0?H:j(x())}function re(){var se=x(),Se=D(se);if(P=arguments,F=this,V=se,Se){if(X===void 0)return G(V);if(U)return X=setTimeout(q,N),ne(V)}return X===void 0&&(X=setTimeout(q,N)),H}return re.cancel=K,re.flush=ee,re}function A(k){var N=typeof k;return!!k&&(N=="object"||N=="function")}function T(k){return!!k&&typeof k=="object"}function R(k){return typeof k=="symbol"||T(k)&&g.call(k)==t}function B(k){if(typeof k=="number")return k;if(R(k))return e;if(A(k)){var N=typeof k.valueOf=="function"?k.valueOf():k;k=A(N)?N+"":N}if(typeof k!="string")return k===0?k:+k;k=k.replace(i,"");var M=a.test(k);return M||l.test(k)?c(k.slice(2),M?2:8):r.test(k)?e:+k}return mg=E,mg}var gg={exports:{}};var Lw;function of(){return Lw||(Lw=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)e.call(a,c)&&a[c]&&(l=r(l,c));return l}function r(a,l){return l?a?a+" "+l:a+l:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(gg)),gg.exports}var Te={},yg={},jw;function mT(){return jw||(jw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(rr());function t(r){return r&&r.__esModule?r:{default:r}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return e.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return e.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i})(yg)),yg}var Pw;function ru(){if(Pw)return Te;Pw=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.checkSpecKeys=Te.checkNavigable=Te.changeSlide=Te.canUseDOM=Te.canGoNext=void 0,Te.clamp=h,Te.extractObject=void 0,Te.filterSettings=ne,Te.validSettings=Te.swipeStart=Te.swipeMove=Te.swipeEnd=Te.slidesOnRight=Te.slidesOnLeft=Te.slideHandler=Te.siblingDirection=Te.safePreventDefault=Te.lazyStartIndex=Te.lazySlidesOnRight=Te.lazySlidesOnLeft=Te.lazyEndIndex=Te.keyHandler=Te.initializedState=Te.getWidth=Te.getTrackLeft=Te.getTrackCSS=Te.getTrackAnimateCSS=Te.getTotalSlides=Te.getSwipeDirection=Te.getSlideCount=Te.getRequiredLazySlides=Te.getPreClones=Te.getPostClones=Te.getOnDemandLazySlides=Te.getNavigableIndexes=Te.getHeight=void 0;var n=t(rr()),e=t(mT());function t(G){return G&&G.__esModule?G:{default:G}}function i(G){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},i(G)}function r(G,w){var D=Object.keys(G);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(G);w&&(q=q.filter(function(j){return Object.getOwnPropertyDescriptor(G,j).enumerable})),D.push.apply(D,q)}return D}function a(G){for(var w=1;w<arguments.length;w++){var D=arguments[w]!=null?arguments[w]:{};w%2?r(Object(D),!0).forEach(function(q){l(G,q,D[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(D)):r(Object(D)).forEach(function(q){Object.defineProperty(G,q,Object.getOwnPropertyDescriptor(D,q))})}return G}function l(G,w,D){return(w=c(w))in G?Object.defineProperty(G,w,{value:D,enumerable:!0,configurable:!0,writable:!0}):G[w]=D,G}function c(G){var w=d(G,"string");return i(w)=="symbol"?w:w+""}function d(G,w){if(i(G)!="object"||!G)return G;var D=G[Symbol.toPrimitive];if(D!==void 0){var q=D.call(G,w);if(i(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(G)}function h(G,w,D){return Math.max(w,Math.min(G,D))}var f=Te.safePreventDefault=function(w){var D=["onTouchStart","onTouchMove","onWheel"];D.includes(w._reactName)||w.preventDefault()},m=Te.getOnDemandLazySlides=function(w){for(var D=[],q=g(w),j=b(w),K=q;K<j;K++)w.lazyLoadedList.indexOf(K)<0&&D.push(K);return D};Te.getRequiredLazySlides=function(w){for(var D=[],q=g(w),j=b(w),K=q;K<j;K++)D.push(K);return D};var g=Te.lazyStartIndex=function(w){return w.currentSlide-S(w)},b=Te.lazyEndIndex=function(w){return w.currentSlide+x(w)},S=Te.lazySlidesOnLeft=function(w){return w.centerMode?Math.floor(w.slidesToShow/2)+(parseInt(w.centerPadding)>0?1:0):0},x=Te.lazySlidesOnRight=function(w){return w.centerMode?Math.floor((w.slidesToShow-1)/2)+1+(parseInt(w.centerPadding)>0?1:0):w.slidesToShow},E=Te.getWidth=function(w){return w&&w.offsetWidth||0},A=Te.getHeight=function(w){return w&&w.offsetHeight||0},T=Te.getSwipeDirection=function(w){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q,j,K,ee;return q=w.startX-w.curX,j=w.startY-w.curY,K=Math.atan2(j,q),ee=Math.round(K*180/Math.PI),ee<0&&(ee=360-Math.abs(ee)),ee<=45&&ee>=0||ee<=360&&ee>=315?"left":ee>=135&&ee<=225?"right":D===!0?ee>=35&&ee<=135?"up":"down":"vertical"},R=Te.canGoNext=function(w){var D=!0;return w.infinite||(w.centerMode&&w.currentSlide>=w.slideCount-1||w.slideCount<=w.slidesToShow||w.currentSlide>=w.slideCount-w.slidesToShow)&&(D=!1),D};Te.extractObject=function(w,D){var q={};return D.forEach(function(j){return q[j]=w[j]}),q},Te.initializedState=function(w){var D=n.default.Children.count(w.children),q=w.listRef,j=Math.ceil(E(q)),K=w.trackRef&&w.trackRef.node,ee=Math.ceil(E(K)),re;if(w.vertical)re=j;else{var se=w.centerMode&&parseInt(w.centerPadding)*2;typeof w.centerPadding=="string"&&w.centerPadding.slice(-1)==="%"&&(se*=j/100),re=Math.ceil((j-se)/w.slidesToShow)}var Se=q&&A(q.querySelector('[data-index="0"]')),ve=Se*w.slidesToShow,we=w.currentSlide===void 0?w.initialSlide:w.currentSlide;w.rtl&&w.currentSlide===void 0&&(we=D-1-w.initialSlide);var Ie=w.lazyLoadedList||[],qe=m(a(a({},w),{},{currentSlide:we,lazyLoadedList:Ie}));Ie=Ie.concat(qe);var Ce={slideCount:D,slideWidth:re,listWidth:j,trackWidth:ee,currentSlide:we,slideHeight:Se,listHeight:ve,lazyLoadedList:Ie};return w.autoplaying===null&&w.autoplay&&(Ce.autoplaying="playing"),Ce},Te.slideHandler=function(w){var D=w.waitForAnimate,q=w.animating,j=w.fade,K=w.infinite,ee=w.index,re=w.slideCount,se=w.lazyLoad,Se=w.currentSlide,ve=w.centerMode,we=w.slidesToScroll,Ie=w.slidesToShow,qe=w.useCSS,Ce=w.lazyLoadedList;if(D&&q)return{};var Ee=ee,De,Ge,ze,ft={},Ae={},W=K?ee:h(ee,0,re-1);if(j){if(!K&&(ee<0||ee>=re))return{};ee<0?Ee=ee+re:ee>=re&&(Ee=ee-re),se&&Ce.indexOf(Ee)<0&&(Ce=Ce.concat(Ee)),ft={animating:!0,currentSlide:Ee,lazyLoadedList:Ce,targetSlide:Ee},Ae={animating:!1,targetSlide:Ee}}else De=Ee,Ee<0?(De=Ee+re,K?re%we!==0&&(De=re-re%we):De=0):!R(w)&&Ee>Se?Ee=De=Se:ve&&Ee>=re?(Ee=K?re:re-1,De=K?0:re-1):Ee>=re&&(De=Ee-re,K?re%we!==0&&(De=0):De=re-Ie),!K&&Ee+Ie>=re&&(De=re-Ie),Ge=L(a(a({},w),{},{slideIndex:Ee})),ze=L(a(a({},w),{},{slideIndex:De})),K||(Ge===ze&&(Ee=De),Ge=ze),se&&(Ce=Ce.concat(m(a(a({},w),{},{currentSlide:Ee})))),qe?(ft={animating:!0,currentSlide:De,trackStyle:F(a(a({},w),{},{left:Ge})),lazyLoadedList:Ce,targetSlide:W},Ae={animating:!1,currentSlide:De,trackStyle:P(a(a({},w),{},{left:ze})),swipeLeft:null,targetSlide:W}):ft={currentSlide:De,trackStyle:P(a(a({},w),{},{left:ze})),lazyLoadedList:Ce,targetSlide:W};return{state:ft,nextState:Ae}},Te.changeSlide=function(w,D){var q,j,K,ee,re,se=w.slidesToScroll,Se=w.slidesToShow,ve=w.slideCount,we=w.currentSlide,Ie=w.targetSlide,qe=w.lazyLoad,Ce=w.infinite;if(ee=ve%se!==0,q=ee?0:(ve-we)%se,D.message==="previous")K=q===0?se:Se-q,re=we-K,qe&&!Ce&&(j=we-K,re=j===-1?ve-1:j),Ce||(re=Ie-se);else if(D.message==="next")K=q===0?se:q,re=we+K,qe&&!Ce&&(re=(we+se)%ve+q),Ce||(re=Ie+se);else if(D.message==="dots")re=D.index*D.slidesToScroll;else if(D.message==="children"){if(re=D.index,Ce){var Ee=Y(a(a({},w),{},{targetSlide:re}));re>D.currentSlide&&Ee==="left"?re=re-ve:re<D.currentSlide&&Ee==="right"&&(re=re+ve)}}else D.message==="index"&&(re=Number(D.index));return re},Te.keyHandler=function(w,D,q){return w.target.tagName.match("TEXTAREA|INPUT|SELECT")||!D?"":w.keyCode===37?q?"next":"previous":w.keyCode===39?q?"previous":"next":""},Te.swipeStart=function(w,D,q){return w.target.tagName==="IMG"&&f(w),!D||!q&&w.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:w.touches?w.touches[0].pageX:w.clientX,startY:w.touches?w.touches[0].pageY:w.clientY,curX:w.touches?w.touches[0].pageX:w.clientX,curY:w.touches?w.touches[0].pageY:w.clientY}}},Te.swipeMove=function(w,D){var q=D.scrolling,j=D.animating,K=D.vertical,ee=D.swipeToSlide,re=D.verticalSwiping,se=D.rtl,Se=D.currentSlide,ve=D.edgeFriction,we=D.edgeDragged,Ie=D.onEdge,qe=D.swiped,Ce=D.swiping,Ee=D.slideCount,De=D.slidesToScroll,Ge=D.infinite,ze=D.touchObject,ft=D.swipeEvent,Ae=D.listHeight,W=D.listWidth;if(!q){if(j)return f(w);K&&ee&&re&&f(w);var J,ce={},xe=L(D);ze.curX=w.touches?w.touches[0].pageX:w.clientX,ze.curY=w.touches?w.touches[0].pageY:w.clientY,ze.swipeLength=Math.round(Math.sqrt(Math.pow(ze.curX-ze.startX,2)));var ge=Math.round(Math.sqrt(Math.pow(ze.curY-ze.startY,2)));if(!re&&!Ce&&ge>10)return{scrolling:!0};re&&(ze.swipeLength=ge);var ye=(se?-1:1)*(ze.curX>ze.startX?1:-1);re&&(ye=ze.curY>ze.startY?1:-1);var te=Math.ceil(Ee/De),he=T(D.touchObject,re),_e=ze.swipeLength;return Ge||(Se===0&&(he==="right"||he==="down")||Se+1>=te&&(he==="left"||he==="up")||!R(D)&&(he==="left"||he==="up"))&&(_e=ze.swipeLength*ve,we===!1&&Ie&&(Ie(he),ce.edgeDragged=!0)),!qe&&ft&&(ft(he),ce.swiped=!0),K?J=xe+_e*(Ae/W)*ye:se?J=xe-_e*ye:J=xe+_e*ye,re&&(J=xe+_e*ye),ce=a(a({},ce),{},{touchObject:ze,swipeLeft:J,trackStyle:P(a(a({},D),{},{left:J}))}),Math.abs(ze.curX-ze.startX)<Math.abs(ze.curY-ze.startY)*.8||ze.swipeLength>10&&(ce.swiping=!0,f(w)),ce}},Te.swipeEnd=function(w,D){var q=D.dragging,j=D.swipe,K=D.touchObject,ee=D.listWidth,re=D.touchThreshold,se=D.verticalSwiping,Se=D.listHeight,ve=D.swipeToSlide,we=D.scrolling,Ie=D.onSwipe,qe=D.targetSlide,Ce=D.currentSlide,Ee=D.infinite;if(!q)return j&&f(w),{};var De=se?Se/re:ee/re,Ge=T(K,se),ze={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(we||!K.swipeLength)return ze;if(K.swipeLength>De){f(w),Ie&&Ie(Ge);var ft,Ae,W=Ee?Ce:qe;switch(Ge){case"left":case"up":Ae=W+N(D),ft=ve?k(D,Ae):Ae,ze.currentDirection=0;break;case"right":case"down":Ae=W-N(D),ft=ve?k(D,Ae):Ae,ze.currentDirection=1;break;default:ft=W}ze.triggerSlideHandler=ft}else{var J=L(D);ze.trackStyle=F(a(a({},D),{},{left:J}))}return ze};var B=Te.getNavigableIndexes=function(w){for(var D=w.infinite?w.slideCount*2:w.slideCount,q=w.infinite?w.slidesToShow*-1:0,j=w.infinite?w.slidesToShow*-1:0,K=[];q<D;)K.push(q),q=j+w.slidesToScroll,j+=Math.min(w.slidesToScroll,w.slidesToShow);return K},k=Te.checkNavigable=function(w,D){var q=B(w),j=0;if(D>q[q.length-1])D=q[q.length-1];else for(var K in q){if(D<q[K]){D=j;break}j=q[K]}return D},N=Te.getSlideCount=function(w){var D=w.centerMode?w.slideWidth*Math.floor(w.slidesToShow/2):0;if(w.swipeToSlide){var q,j=w.listRef,K=j.querySelectorAll&&j.querySelectorAll(".slick-slide")||[];if(Array.from(K).every(function(se){if(w.vertical){if(se.offsetTop+A(se)/2>w.swipeLeft*-1)return q=se,!1}else if(se.offsetLeft-D+E(se)/2>w.swipeLeft*-1)return q=se,!1;return!0}),!q)return 0;var ee=w.rtl===!0?w.slideCount-w.currentSlide:w.currentSlide,re=Math.abs(q.dataset.index-ee)||1;return re}else return w.slidesToScroll},M=Te.checkSpecKeys=function(w,D){return D.reduce(function(q,j){return q&&w.hasOwnProperty(j)},!0)?null:console.error("Keys Missing:",w)},P=Te.getTrackCSS=function(w){M(w,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var D,q;if(!w.vertical)D=V(w)*w.slideWidth;else{var j=w.unslick?w.slideCount:w.slideCount+2*w.slidesToShow;q=j*w.slideHeight}var K={opacity:1,transition:"",WebkitTransition:""};if(w.useTransform){var ee=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",re=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",se=w.vertical?"translateY("+w.left+"px)":"translateX("+w.left+"px)";K=a(a({},K),{},{WebkitTransform:ee,transform:re,msTransform:se})}else w.vertical?K.top=w.left:K.left=w.left;return w.fade&&(K={opacity:1}),D&&(K.width=D),q&&(K.height=q),window&&!window.addEventListener&&window.attachEvent&&(w.vertical?K.marginTop=w.left+"px":K.marginLeft=w.left+"px"),K},F=Te.getTrackAnimateCSS=function(w){M(w,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var D=P(w);return w.useTransform?(D.WebkitTransition="-webkit-transform "+w.speed+"ms "+w.cssEase,D.transition="transform "+w.speed+"ms "+w.cssEase):w.vertical?D.transition="top "+w.speed+"ms "+w.cssEase:D.transition="left "+w.speed+"ms "+w.cssEase,D},L=Te.getTrackLeft=function(w){if(w.unslick)return 0;M(w,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var D=w.slideIndex,q=w.trackRef,j=w.infinite,K=w.centerMode,ee=w.slideCount,re=w.slidesToShow,se=w.slidesToScroll,Se=w.slideWidth,ve=w.listWidth,we=w.variableWidth,Ie=w.slideHeight,qe=w.fade,Ce=w.vertical,Ee=0,De,Ge,ze=0;if(qe||w.slideCount===1)return 0;var ft=0;if(j?(ft=-H(w),ee%se!==0&&D+se>ee&&(ft=-(D>ee?re-(D-ee):ee%se)),K&&(ft+=parseInt(re/2))):(ee%se!==0&&D+se>ee&&(ft=re-ee%se),K&&(ft=parseInt(re/2))),Ee=ft*Se,ze=ft*Ie,Ce?De=D*Ie*-1+ze:De=D*Se*-1+Ee,we===!0){var Ae,W=q&&q.node;if(Ae=D+H(w),Ge=W&&W.childNodes[Ae],De=Ge?Ge.offsetLeft*-1:0,K===!0){Ae=j?D+H(w):D,Ge=W&&W.children[Ae],De=0;for(var J=0;J<Ae;J++)De-=W&&W.children[J]&&W.children[J].offsetWidth;De-=parseInt(w.centerPadding),De+=Ge&&(ve-Ge.offsetWidth)/2}}return De},H=Te.getPreClones=function(w){return w.unslick||!w.infinite?0:w.variableWidth?w.slideCount:w.slidesToShow+(w.centerMode?1:0)},X=Te.getPostClones=function(w){return w.unslick||!w.infinite?0:w.variableWidth?w.slideCount:w.slidesToShow+(w.centerMode?1:0)},V=Te.getTotalSlides=function(w){return w.slideCount===1?1:H(w)+w.slideCount+X(w)},Y=Te.siblingDirection=function(w){return w.targetSlide>w.currentSlide?w.targetSlide>w.currentSlide+I(w)?"left":"right":w.targetSlide<w.currentSlide-U(w)?"right":"left"},I=Te.slidesOnRight=function(w){var D=w.slidesToShow,q=w.centerMode,j=w.rtl,K=w.centerPadding;if(q){var ee=(D-1)/2+1;return parseInt(K)>0&&(ee+=1),j&&D%2===0&&(ee+=1),ee}return j?0:D-1},U=Te.slidesOnLeft=function(w){var D=w.slidesToShow,q=w.centerMode,j=w.rtl,K=w.centerPadding;if(q){var ee=(D-1)/2+1;return parseInt(K)>0&&(ee+=1),!j&&D%2===0&&(ee+=1),ee}return j?D-1:0};Te.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var C=Te.validSettings=Object.keys(e.default);function ne(G){return C.reduce(function(w,D){return G.hasOwnProperty(D)&&(w[D]=G[D]),w},{})}return Te}var oc={},Bw;function VG(){if(Bw)return oc;Bw=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.Track=void 0;var n=i(rr()),e=i(of()),t=ru();function i(F){return F&&F.__esModule?F:{default:F}}function r(F){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},r(F)}function a(){return a=Object.assign?Object.assign.bind():function(F){for(var L=1;L<arguments.length;L++){var H=arguments[L];for(var X in H)({}).hasOwnProperty.call(H,X)&&(F[X]=H[X])}return F},a.apply(null,arguments)}function l(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}function c(F,L){for(var H=0;H<L.length;H++){var X=L[H];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(F,R(X.key),X)}}function d(F,L,H){return L&&c(F.prototype,L),Object.defineProperty(F,"prototype",{writable:!1}),F}function h(F,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(L&&L.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),L&&f(F,L)}function f(F,L){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,X){return H.__proto__=X,H},f(F,L)}function m(F){var L=S();return function(){var H,X=x(F);if(L){var V=x(this).constructor;H=Reflect.construct(X,arguments,V)}else H=X.apply(this,arguments);return g(this,H)}}function g(F,L){if(L&&(r(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(F)}function b(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function S(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!F})()}function x(F){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},x(F)}function E(F,L){var H=Object.keys(F);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(F);L&&(X=X.filter(function(V){return Object.getOwnPropertyDescriptor(F,V).enumerable})),H.push.apply(H,X)}return H}function A(F){for(var L=1;L<arguments.length;L++){var H=arguments[L]!=null?arguments[L]:{};L%2?E(Object(H),!0).forEach(function(X){T(F,X,H[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(H)):E(Object(H)).forEach(function(X){Object.defineProperty(F,X,Object.getOwnPropertyDescriptor(H,X))})}return F}function T(F,L,H){return(L=R(L))in F?Object.defineProperty(F,L,{value:H,enumerable:!0,configurable:!0,writable:!0}):F[L]=H,F}function R(F){var L=B(F,"string");return r(L)=="symbol"?L:L+""}function B(F,L){if(r(F)!="object"||!F)return F;var H=F[Symbol.toPrimitive];if(H!==void 0){var X=H.call(F,L);if(r(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(F)}var k=function(L){var H,X,V,Y,I;L.rtl?I=L.slideCount-1-L.index:I=L.index,V=I<0||I>=L.slideCount,L.centerMode?(Y=Math.floor(L.slidesToShow/2),X=(I-L.currentSlide)%L.slideCount===0,I>L.currentSlide-Y-1&&I<=L.currentSlide+Y&&(H=!0)):H=L.currentSlide<=I&&I<L.currentSlide+L.slidesToShow;var U;L.targetSlide<0?U=L.targetSlide+L.slideCount:L.targetSlide>=L.slideCount?U=L.targetSlide-L.slideCount:U=L.targetSlide;var C=I===U;return{"slick-slide":!0,"slick-active":H,"slick-center":X,"slick-cloned":V,"slick-current":C}},N=function(L){var H={};return(L.variableWidth===void 0||L.variableWidth===!1)&&(H.width=L.slideWidth),L.fade&&(H.position="relative",L.vertical?H.top=-L.index*parseInt(L.slideHeight):H.left=-L.index*parseInt(L.slideWidth),H.opacity=L.currentSlide===L.index?1:0,H.zIndex=L.currentSlide===L.index?999:998,L.useCSS&&(H.transition="opacity "+L.speed+"ms "+L.cssEase+", visibility "+L.speed+"ms "+L.cssEase)),H},M=function(L,H){return L.key||H},P=function(L){var H,X=[],V=[],Y=[],I=n.default.Children.count(L.children),U=(0,t.lazyStartIndex)(L),C=(0,t.lazyEndIndex)(L);return n.default.Children.forEach(L.children,function(ne,G){var w,D={message:"children",index:G,slidesToScroll:L.slidesToScroll,currentSlide:L.currentSlide};!L.lazyLoad||L.lazyLoad&&L.lazyLoadedList.indexOf(G)>=0?w=ne:w=n.default.createElement("div",null);var q=N(A(A({},L),{},{index:G})),j=w.props.className||"",K=k(A(A({},L),{},{index:G}));if(X.push(n.default.cloneElement(w,{key:"original"+M(w,G),"data-index":G,className:(0,e.default)(K,j),tabIndex:"-1","aria-hidden":!K["slick-active"],style:A(A({outline:"none"},w.props.style||{}),q),onClick:function(se){w.props&&w.props.onClick&&w.props.onClick(se),L.focusOnSelect&&L.focusOnSelect(D)}})),L.infinite&&I>1&&L.fade===!1&&!L.unslick){var ee=I-G;ee<=(0,t.getPreClones)(L)&&(H=-ee,H>=U&&(w=ne),K=k(A(A({},L),{},{index:H})),V.push(n.default.cloneElement(w,{key:"precloned"+M(w,H),"data-index":H,tabIndex:"-1",className:(0,e.default)(K,j),"aria-hidden":!K["slick-active"],style:A(A({},w.props.style||{}),q),onClick:function(se){w.props&&w.props.onClick&&w.props.onClick(se),L.focusOnSelect&&L.focusOnSelect(D)}}))),G<(0,t.getPostClones)(L)&&(H=I+G,H<C&&(w=ne),K=k(A(A({},L),{},{index:H})),Y.push(n.default.cloneElement(w,{key:"postcloned"+M(w,H),"data-index":H,tabIndex:"-1",className:(0,e.default)(K,j),"aria-hidden":!K["slick-active"],style:A(A({},w.props.style||{}),q),onClick:function(se){w.props&&w.props.onClick&&w.props.onClick(se),L.focusOnSelect&&L.focusOnSelect(D)}})))}}),L.rtl?V.concat(X,Y).reverse():V.concat(X,Y)};return oc.Track=(function(F){h(H,F);var L=m(H);function H(){var X;l(this,H);for(var V=arguments.length,Y=new Array(V),I=0;I<V;I++)Y[I]=arguments[I];return X=L.call.apply(L,[this].concat(Y)),T(b(X),"node",null),T(b(X),"handleRef",function(U){X.node=U}),X}return d(H,[{key:"render",value:function(){var V=P(this.props),Y=this.props,I=Y.onMouseEnter,U=Y.onMouseOver,C=Y.onMouseLeave,ne={onMouseEnter:I,onMouseOver:U,onMouseLeave:C};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},ne),V)}}]),H})(n.default.PureComponent),oc}var lc={},Fw;function GG(){if(Fw)return lc;Fw=1;function n(k){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(k)}Object.defineProperty(lc,"__esModule",{value:!0}),lc.Dots=void 0;var e=r(rr()),t=r(of()),i=ru();function r(k){return k&&k.__esModule?k:{default:k}}function a(k,N){var M=Object.keys(k);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(k);N&&(P=P.filter(function(F){return Object.getOwnPropertyDescriptor(k,F).enumerable})),M.push.apply(M,P)}return M}function l(k){for(var N=1;N<arguments.length;N++){var M=arguments[N]!=null?arguments[N]:{};N%2?a(Object(M),!0).forEach(function(P){c(k,P,M[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(M)):a(Object(M)).forEach(function(P){Object.defineProperty(k,P,Object.getOwnPropertyDescriptor(M,P))})}return k}function c(k,N,M){return(N=m(N))in k?Object.defineProperty(k,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):k[N]=M,k}function d(k,N){if(!(k instanceof N))throw new TypeError("Cannot call a class as a function")}function h(k,N){for(var M=0;M<N.length;M++){var P=N[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,m(P.key),P)}}function f(k,N,M){return N&&h(k.prototype,N),Object.defineProperty(k,"prototype",{writable:!1}),k}function m(k){var N=g(k,"string");return n(N)=="symbol"?N:N+""}function g(k,N){if(n(k)!="object"||!k)return k;var M=k[Symbol.toPrimitive];if(M!==void 0){var P=M.call(k,N);if(n(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}function b(k,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(N&&N.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),N&&S(k,N)}function S(k,N){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,P){return M.__proto__=P,M},S(k,N)}function x(k){var N=T();return function(){var M,P=R(k);if(N){var F=R(this).constructor;M=Reflect.construct(P,arguments,F)}else M=P.apply(this,arguments);return E(this,M)}}function E(k,N){if(N&&(n(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(k)}function A(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function T(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!k})()}function R(k){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},R(k)}var B=function(N){var M;return N.infinite?M=Math.ceil(N.slideCount/N.slidesToScroll):M=Math.ceil((N.slideCount-N.slidesToShow)/N.slidesToScroll)+1,M};return lc.Dots=(function(k){b(M,k);var N=x(M);function M(){return d(this,M),N.apply(this,arguments)}return f(M,[{key:"clickHandler",value:function(F,L){L.preventDefault(),this.props.clickHandler(F)}},{key:"render",value:function(){for(var F=this.props,L=F.onMouseEnter,H=F.onMouseOver,X=F.onMouseLeave,V=F.infinite,Y=F.slidesToScroll,I=F.slidesToShow,U=F.slideCount,C=F.currentSlide,ne=B({slideCount:U,slidesToScroll:Y,slidesToShow:I,infinite:V}),G={onMouseEnter:L,onMouseOver:H,onMouseLeave:X},w=[],D=0;D<ne;D++){var q=(D+1)*Y-1,j=V?q:(0,i.clamp)(q,0,U-1),K=j-(Y-1),ee=V?K:(0,i.clamp)(K,0,U-1),re=(0,t.default)({"slick-active":V?C>=ee&&C<=j:C===ee}),se={message:"dots",index:D,slidesToScroll:Y,currentSlide:C},Se=this.clickHandler.bind(this,se);w=w.concat(e.default.createElement("li",{key:D,className:re},e.default.cloneElement(this.props.customPaging(D),{onClick:Se})))}return e.default.cloneElement(this.props.appendDots(w),l({className:this.props.dotsClass},G))}}]),M})(e.default.PureComponent),lc}var da={},Iw;function XG(){if(Iw)return da;Iw=1;function n(k){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n(k)}Object.defineProperty(da,"__esModule",{value:!0}),da.PrevArrow=da.NextArrow=void 0;var e=r(rr()),t=r(of()),i=ru();function r(k){return k&&k.__esModule?k:{default:k}}function a(){return a=Object.assign?Object.assign.bind():function(k){for(var N=1;N<arguments.length;N++){var M=arguments[N];for(var P in M)({}).hasOwnProperty.call(M,P)&&(k[P]=M[P])}return k},a.apply(null,arguments)}function l(k,N){var M=Object.keys(k);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(k);N&&(P=P.filter(function(F){return Object.getOwnPropertyDescriptor(k,F).enumerable})),M.push.apply(M,P)}return M}function c(k){for(var N=1;N<arguments.length;N++){var M=arguments[N]!=null?arguments[N]:{};N%2?l(Object(M),!0).forEach(function(P){d(k,P,M[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(M)):l(Object(M)).forEach(function(P){Object.defineProperty(k,P,Object.getOwnPropertyDescriptor(M,P))})}return k}function d(k,N,M){return(N=g(N))in k?Object.defineProperty(k,N,{value:M,enumerable:!0,configurable:!0,writable:!0}):k[N]=M,k}function h(k,N){if(!(k instanceof N))throw new TypeError("Cannot call a class as a function")}function f(k,N){for(var M=0;M<N.length;M++){var P=N[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(k,g(P.key),P)}}function m(k,N,M){return N&&f(k.prototype,N),Object.defineProperty(k,"prototype",{writable:!1}),k}function g(k){var N=b(k,"string");return n(N)=="symbol"?N:N+""}function b(k,N){if(n(k)!="object"||!k)return k;var M=k[Symbol.toPrimitive];if(M!==void 0){var P=M.call(k,N);if(n(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}function S(k,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(N&&N.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),N&&x(k,N)}function x(k,N){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,P){return M.__proto__=P,M},x(k,N)}function E(k){var N=R();return function(){var M,P=B(k);if(N){var F=B(this).constructor;M=Reflect.construct(P,arguments,F)}else M=P.apply(this,arguments);return A(this,M)}}function A(k,N){if(N&&(n(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(k)}function T(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function R(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!k})()}function B(k){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},B(k)}return da.PrevArrow=(function(k){S(M,k);var N=E(M);function M(){return h(this,M),N.apply(this,arguments)}return m(M,[{key:"clickHandler",value:function(F,L){L&&L.preventDefault(),this.props.clickHandler(F,L)}},{key:"render",value:function(){var F={"slick-arrow":!0,"slick-prev":!0},L=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(F["slick-disabled"]=!0,L=null);var H={key:"0","data-role":"none",className:(0,t.default)(F),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},V;return this.props.prevArrow?V=e.default.cloneElement(this.props.prevArrow,c(c({},H),X)):V=e.default.createElement("button",a({key:"0",type:"button"},H)," ","Previous"),V}}]),M})(e.default.PureComponent),da.NextArrow=(function(k){S(M,k);var N=E(M);function M(){return h(this,M),N.apply(this,arguments)}return m(M,[{key:"clickHandler",value:function(F,L){L&&L.preventDefault(),this.props.clickHandler(F,L)}},{key:"render",value:function(){var F={"slick-arrow":!0,"slick-next":!0},L=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(F["slick-disabled"]=!0,L=null);var H={key:"1","data-role":"none",className:(0,t.default)(F),style:{display:"block"},onClick:L},X={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},V;return this.props.nextArrow?V=e.default.cloneElement(this.props.nextArrow,c(c({},H),X)):V=e.default.createElement("button",a({key:"1",type:"button"},H)," ","Next"),V}}]),M})(e.default.PureComponent),da}var gT=(function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,a){return r[0]===t?(i=a,!0):!1}),i}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,a=this.__entries__;r<a.length;r++){var l=a[r];t.call(i,l[1],l[0])}},e})()})(),vy=typeof window<"u"&&typeof document<"u"&&window.document===document,Ch=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),YG=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ch):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}})(),WG=2;function KG(n,e){var t=!1,i=!1,r=0;function a(){t&&(t=!1,n()),i&&c()}function l(){YG(a)}function c(){var d=Date.now();if(t){if(d-r<WG)return;i=!0}else t=!0,i=!1,setTimeout(l,e);r=d}return c}var ZG=20,QG=["top","right","bottom","left","width","height","size","weight"],JG=typeof MutationObserver<"u",eX=(function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=KG(this.refresh.bind(this),ZG)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!vy||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),JG?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!vy||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=QG.some(function(a){return!!~i.indexOf(a)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n})(),yT=(function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n}),Vo=(function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Ch}),bT=lf(0,0,0,0);function Th(n){return parseFloat(n)||0}function zw(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var a=n["border-"+r+"-width"];return i+Th(a)},0)}function tX(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var a=r[i],l=n["padding-"+a];t[a]=Th(l)}return t}function nX(n){var e=n.getBBox();return lf(0,0,e.width,e.height)}function iX(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return bT;var i=Vo(n).getComputedStyle(n),r=tX(i),a=r.left+r.right,l=r.top+r.bottom,c=Th(i.width),d=Th(i.height);if(i.boxSizing==="border-box"&&(Math.round(c+a)!==e&&(c-=zw(i,"left","right")+a),Math.round(d+l)!==t&&(d-=zw(i,"top","bottom")+l)),!sX(n)){var h=Math.round(c+a)-e,f=Math.round(d+l)-t;Math.abs(h)!==1&&(c-=h),Math.abs(f)!==1&&(d-=f)}return lf(r.left,r.top,c,d)}var rX=(function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Vo(n).SVGGraphicsElement}:function(n){return n instanceof Vo(n).SVGElement&&typeof n.getBBox=="function"}})();function sX(n){return n===Vo(n).document.documentElement}function aX(n){return vy?rX(n)?nX(n):iX(n):bT}function oX(n){var e=n.x,t=n.y,i=n.width,r=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(a.prototype);return yT(l,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),l}function lf(n,e,t,i){return{x:n,y:e,width:t,height:i}}var lX=(function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=lf(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=aX(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n})(),cX=(function(){function n(e,t){var i=oX(t);yT(this,{target:e,contentRect:i})}return n})(),uX=(function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new gT,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Vo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new lX(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Vo(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new cX(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n})(),vT=typeof WeakMap<"u"?new WeakMap:new gT,_T=(function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=eX.getInstance(),i=new uX(e,t,this);vT.set(this,i)}return n})();["observe","unobserve","disconnect"].forEach(function(n){_T.prototype[n]=function(){var e;return(e=vT.get(this))[n].apply(e,arguments)}});var dX=(function(){return typeof Ch.ResizeObserver<"u"?Ch.ResizeObserver:_T})();const hX=Object.freeze(Object.defineProperty({__proto__:null,default:dX},Symbol.toStringTag,{value:"Module"})),fX=jk(hX);var Uw;function pX(){if(Uw)return ac;Uw=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.InnerSlider=void 0;var n=h(rr()),e=h($G()),t=h(qG()),i=h(of()),r=ru(),a=VG(),l=GG(),c=XG(),d=h(fX);function h(V){return V&&V.__esModule?V:{default:V}}function f(V){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},f(V)}function m(){return m=Object.assign?Object.assign.bind():function(V){for(var Y=1;Y<arguments.length;Y++){var I=arguments[Y];for(var U in I)({}).hasOwnProperty.call(I,U)&&(V[U]=I[U])}return V},m.apply(null,arguments)}function g(V,Y){if(V==null)return{};var I,U,C=b(V,Y);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(V);for(U=0;U<ne.length;U++)I=ne[U],Y.includes(I)||{}.propertyIsEnumerable.call(V,I)&&(C[I]=V[I])}return C}function b(V,Y){if(V==null)return{};var I={};for(var U in V)if({}.hasOwnProperty.call(V,U)){if(Y.includes(U))continue;I[U]=V[U]}return I}function S(V,Y){var I=Object.keys(V);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(V);Y&&(U=U.filter(function(C){return Object.getOwnPropertyDescriptor(V,C).enumerable})),I.push.apply(I,U)}return I}function x(V){for(var Y=1;Y<arguments.length;Y++){var I=arguments[Y]!=null?arguments[Y]:{};Y%2?S(Object(I),!0).forEach(function(U){L(V,U,I[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(I)):S(Object(I)).forEach(function(U){Object.defineProperty(V,U,Object.getOwnPropertyDescriptor(I,U))})}return V}function E(V,Y){if(!(V instanceof Y))throw new TypeError("Cannot call a class as a function")}function A(V,Y){for(var I=0;I<Y.length;I++){var U=Y[I];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(V,H(U.key),U)}}function T(V,Y,I){return Y&&A(V.prototype,Y),Object.defineProperty(V,"prototype",{writable:!1}),V}function R(V,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(Y&&Y.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),Y&&B(V,Y)}function B(V,Y){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,U){return I.__proto__=U,I},B(V,Y)}function k(V){var Y=P();return function(){var I,U=F(V);if(Y){var C=F(this).constructor;I=Reflect.construct(U,arguments,C)}else I=U.apply(this,arguments);return N(this,I)}}function N(V,Y){if(Y&&(f(Y)=="object"||typeof Y=="function"))return Y;if(Y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(V)}function M(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function P(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!V})()}function F(V){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},F(V)}function L(V,Y,I){return(Y=H(Y))in V?Object.defineProperty(V,Y,{value:I,enumerable:!0,configurable:!0,writable:!0}):V[Y]=I,V}function H(V){var Y=X(V,"string");return f(Y)=="symbol"?Y:Y+""}function X(V,Y){if(f(V)!="object"||!V)return V;var I=V[Symbol.toPrimitive];if(I!==void 0){var U=I.call(V,Y);if(f(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(V)}return ac.InnerSlider=(function(V){R(I,V);var Y=k(I);function I(U){var C;E(this,I),C=Y.call(this,U),L(M(C),"listRefHandler",function(G){return C.list=G}),L(M(C),"trackRefHandler",function(G){return C.track=G}),L(M(C),"adaptHeight",function(){if(C.props.adaptiveHeight&&C.list){var G=C.list.querySelector('[data-index="'.concat(C.state.currentSlide,'"]'));C.list.style.height=(0,r.getHeight)(G)+"px"}}),L(M(C),"componentDidMount",function(){if(C.props.onInit&&C.props.onInit(),C.props.lazyLoad){var G=(0,r.getOnDemandLazySlides)(x(x({},C.props),C.state));G.length>0&&(C.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(G)}}),C.props.onLazyLoad&&C.props.onLazyLoad(G))}var w=x({listRef:C.list,trackRef:C.track},C.props);C.updateState(w,!0,function(){C.adaptHeight(),C.props.autoplay&&C.autoPlay("update")}),C.props.lazyLoad==="progressive"&&(C.lazyLoadTimer=setInterval(C.progressiveLazyLoad,1e3)),C.ro=new d.default(function(){C.state.animating?(C.onWindowResized(!1),C.callbackTimers.push(setTimeout(function(){return C.onWindowResized()},C.props.speed))):C.onWindowResized()}),C.ro.observe(C.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(D){D.onfocus=C.props.pauseOnFocus?C.onSlideFocus:null,D.onblur=C.props.pauseOnFocus?C.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",C.onWindowResized):window.attachEvent("onresize",C.onWindowResized)}),L(M(C),"componentWillUnmount",function(){C.animationEndCallback&&clearTimeout(C.animationEndCallback),C.lazyLoadTimer&&clearInterval(C.lazyLoadTimer),C.callbackTimers.length&&(C.callbackTimers.forEach(function(G){return clearTimeout(G)}),C.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",C.onWindowResized):window.detachEvent("onresize",C.onWindowResized),C.autoplayTimer&&clearInterval(C.autoplayTimer),C.ro.disconnect()}),L(M(C),"componentDidUpdate",function(G){if(C.checkImagesLoad(),C.props.onReInit&&C.props.onReInit(),C.props.lazyLoad){var w=(0,r.getOnDemandLazySlides)(x(x({},C.props),C.state));w.length>0&&(C.setState(function(j){return{lazyLoadedList:j.lazyLoadedList.concat(w)}}),C.props.onLazyLoad&&C.props.onLazyLoad(w))}C.adaptHeight();var D=x(x({listRef:C.list,trackRef:C.track},C.props),C.state),q=C.didPropsChange(G);q&&C.updateState(D,q,function(){C.state.currentSlide>=n.default.Children.count(C.props.children)&&C.changeSlide({message:"index",index:n.default.Children.count(C.props.children)-C.props.slidesToShow,currentSlide:C.state.currentSlide}),C.props.autoplay?C.autoPlay("update"):C.pause("paused")})}),L(M(C),"onWindowResized",function(G){C.debouncedResize&&C.debouncedResize.cancel(),C.debouncedResize=(0,t.default)(function(){return C.resizeWindow(G)},50),C.debouncedResize()}),L(M(C),"resizeWindow",function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,w=!!(C.track&&C.track.node);if(w){var D=x(x({listRef:C.list,trackRef:C.track},C.props),C.state);C.updateState(D,G,function(){C.props.autoplay?C.autoPlay("update"):C.pause("paused")}),C.setState({animating:!1}),clearTimeout(C.animationEndCallback),delete C.animationEndCallback}}),L(M(C),"updateState",function(G,w,D){var q=(0,r.initializedState)(G);G=x(x(x({},G),q),{},{slideIndex:q.currentSlide});var j=(0,r.getTrackLeft)(G);G=x(x({},G),{},{left:j});var K=(0,r.getTrackCSS)(G);(w||n.default.Children.count(C.props.children)!==n.default.Children.count(G.children))&&(q.trackStyle=K),C.setState(q,D)}),L(M(C),"ssrInit",function(){if(C.props.variableWidth){var G=0,w=0,D=[],q=(0,r.getPreClones)(x(x(x({},C.props),C.state),{},{slideCount:C.props.children.length})),j=(0,r.getPostClones)(x(x(x({},C.props),C.state),{},{slideCount:C.props.children.length}));C.props.children.forEach(function(Ge){D.push(Ge.props.style.width),G+=Ge.props.style.width});for(var K=0;K<q;K++)w+=D[D.length-1-K],G+=D[D.length-1-K];for(var ee=0;ee<j;ee++)G+=D[ee];for(var re=0;re<C.state.currentSlide;re++)w+=D[re];var se={width:G+"px",left:-w+"px"};if(C.props.centerMode){var Se="".concat(D[C.state.currentSlide],"px");se.left="calc(".concat(se.left," + (100% - ").concat(Se,") / 2 ) ")}return{trackStyle:se}}var ve=n.default.Children.count(C.props.children),we=x(x(x({},C.props),C.state),{},{slideCount:ve}),Ie=(0,r.getPreClones)(we)+(0,r.getPostClones)(we)+ve,qe=100/C.props.slidesToShow*Ie,Ce=100/Ie,Ee=-Ce*((0,r.getPreClones)(we)+C.state.currentSlide)*qe/100;C.props.centerMode&&(Ee+=(100-Ce*qe/100)/2);var De={width:qe+"%",left:Ee+"%"};return{slideWidth:Ce+"%",trackStyle:De}}),L(M(C),"checkImagesLoad",function(){var G=C.list&&C.list.querySelectorAll&&C.list.querySelectorAll(".slick-slide img")||[],w=G.length,D=0;Array.prototype.forEach.call(G,function(q){var j=function(){return++D&&D>=w&&C.onWindowResized()};if(!q.onclick)q.onclick=function(){return q.parentNode.focus()};else{var K=q.onclick;q.onclick=function(ee){K(ee),q.parentNode.focus()}}q.onload||(C.props.lazyLoad?q.onload=function(){C.adaptHeight(),C.callbackTimers.push(setTimeout(C.onWindowResized,C.props.speed))}:(q.onload=j,q.onerror=function(){j(),C.props.onLazyLoadError&&C.props.onLazyLoadError()}))})}),L(M(C),"progressiveLazyLoad",function(){for(var G=[],w=x(x({},C.props),C.state),D=C.state.currentSlide;D<C.state.slideCount+(0,r.getPostClones)(w);D++)if(C.state.lazyLoadedList.indexOf(D)<0){G.push(D);break}for(var q=C.state.currentSlide-1;q>=-(0,r.getPreClones)(w);q--)if(C.state.lazyLoadedList.indexOf(q)<0){G.push(q);break}G.length>0?(C.setState(function(j){return{lazyLoadedList:j.lazyLoadedList.concat(G)}}),C.props.onLazyLoad&&C.props.onLazyLoad(G)):C.lazyLoadTimer&&(clearInterval(C.lazyLoadTimer),delete C.lazyLoadTimer)}),L(M(C),"slideHandler",function(G){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=C.props,q=D.asNavFor,j=D.beforeChange,K=D.onLazyLoad,ee=D.speed,re=D.afterChange,se=C.state.currentSlide,Se=(0,r.slideHandler)(x(x(x({index:G},C.props),C.state),{},{trackRef:C.track,useCSS:C.props.useCSS&&!w})),ve=Se.state,we=Se.nextState;if(ve){j&&j(se,ve.currentSlide);var Ie=ve.lazyLoadedList.filter(function(qe){return C.state.lazyLoadedList.indexOf(qe)<0});K&&Ie.length>0&&K(Ie),!C.props.waitForAnimate&&C.animationEndCallback&&(clearTimeout(C.animationEndCallback),re&&re(se),delete C.animationEndCallback),C.setState(ve,function(){q&&C.asNavForIndex!==G&&(C.asNavForIndex=G,q.innerSlider.slideHandler(G)),we&&(C.animationEndCallback=setTimeout(function(){var qe=we.animating,Ce=g(we,["animating"]);C.setState(Ce,function(){C.callbackTimers.push(setTimeout(function(){return C.setState({animating:qe})},10)),re&&re(ve.currentSlide),delete C.animationEndCallback})},ee))})}}),L(M(C),"changeSlide",function(G){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=x(x({},C.props),C.state),q=(0,r.changeSlide)(D,G);if(!(q!==0&&!q)&&(w===!0?C.slideHandler(q,w):C.slideHandler(q),C.props.autoplay&&C.autoPlay("update"),C.props.focusOnSelect)){var j=C.list.querySelectorAll(".slick-current");j[0]&&j[0].focus()}}),L(M(C),"clickHandler",function(G){C.clickable===!1&&(G.stopPropagation(),G.preventDefault()),C.clickable=!0}),L(M(C),"keyHandler",function(G){var w=(0,r.keyHandler)(G,C.props.accessibility,C.props.rtl);w!==""&&C.changeSlide({message:w})}),L(M(C),"selectHandler",function(G){C.changeSlide(G)}),L(M(C),"disableBodyScroll",function(){var G=function(D){D=D||window.event,D.preventDefault&&D.preventDefault(),D.returnValue=!1};window.ontouchmove=G}),L(M(C),"enableBodyScroll",function(){window.ontouchmove=null}),L(M(C),"swipeStart",function(G){C.props.verticalSwiping&&C.disableBodyScroll();var w=(0,r.swipeStart)(G,C.props.swipe,C.props.draggable);w!==""&&C.setState(w)}),L(M(C),"swipeMove",function(G){var w=(0,r.swipeMove)(G,x(x(x({},C.props),C.state),{},{trackRef:C.track,listRef:C.list,slideIndex:C.state.currentSlide}));w&&(w.swiping&&(C.clickable=!1),C.setState(w))}),L(M(C),"swipeEnd",function(G){var w=(0,r.swipeEnd)(G,x(x(x({},C.props),C.state),{},{trackRef:C.track,listRef:C.list,slideIndex:C.state.currentSlide}));if(w){var D=w.triggerSlideHandler;delete w.triggerSlideHandler,C.setState(w),D!==void 0&&(C.slideHandler(D),C.props.verticalSwiping&&C.enableBodyScroll())}}),L(M(C),"touchEnd",function(G){C.swipeEnd(G),C.clickable=!0}),L(M(C),"slickPrev",function(){C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"previous"})},0))}),L(M(C),"slickNext",function(){C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"next"})},0))}),L(M(C),"slickGoTo",function(G){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G=Number(G),isNaN(G))return"";C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"index",index:G,currentSlide:C.state.currentSlide},w)},0))}),L(M(C),"play",function(){var G;if(C.props.rtl)G=C.state.currentSlide-C.props.slidesToScroll;else if((0,r.canGoNext)(x(x({},C.props),C.state)))G=C.state.currentSlide+C.props.slidesToScroll;else return!1;C.slideHandler(G)}),L(M(C),"autoPlay",function(G){C.autoplayTimer&&clearInterval(C.autoplayTimer);var w=C.state.autoplaying;if(G==="update"){if(w==="hovered"||w==="focused"||w==="paused")return}else if(G==="leave"){if(w==="paused"||w==="focused")return}else if(G==="blur"&&(w==="paused"||w==="hovered"))return;C.autoplayTimer=setInterval(C.play,C.props.autoplaySpeed+50),C.setState({autoplaying:"playing"})}),L(M(C),"pause",function(G){C.autoplayTimer&&(clearInterval(C.autoplayTimer),C.autoplayTimer=null);var w=C.state.autoplaying;G==="paused"?C.setState({autoplaying:"paused"}):G==="focused"?(w==="hovered"||w==="playing")&&C.setState({autoplaying:"focused"}):w==="playing"&&C.setState({autoplaying:"hovered"})}),L(M(C),"onDotsOver",function(){return C.props.autoplay&&C.pause("hovered")}),L(M(C),"onDotsLeave",function(){return C.props.autoplay&&C.state.autoplaying==="hovered"&&C.autoPlay("leave")}),L(M(C),"onTrackOver",function(){return C.props.autoplay&&C.pause("hovered")}),L(M(C),"onTrackLeave",function(){return C.props.autoplay&&C.state.autoplaying==="hovered"&&C.autoPlay("leave")}),L(M(C),"onSlideFocus",function(){return C.props.autoplay&&C.pause("focused")}),L(M(C),"onSlideBlur",function(){return C.props.autoplay&&C.state.autoplaying==="focused"&&C.autoPlay("blur")}),L(M(C),"render",function(){var G=(0,i.default)("slick-slider",C.props.className,{"slick-vertical":C.props.vertical,"slick-initialized":!0}),w=x(x({},C.props),C.state),D=(0,r.extractObject)(w,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),q=C.props.pauseOnHover;D=x(x({},D),{},{onMouseEnter:q?C.onTrackOver:null,onMouseLeave:q?C.onTrackLeave:null,onMouseOver:q?C.onTrackOver:null,focusOnSelect:C.props.focusOnSelect&&C.clickable?C.selectHandler:null});var j;if(C.props.dots===!0&&C.state.slideCount>=C.props.slidesToShow){var K=(0,r.extractObject)(w,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ee=C.props.pauseOnDotsHover;K=x(x({},K),{},{clickHandler:C.changeSlide,onMouseEnter:ee?C.onDotsLeave:null,onMouseOver:ee?C.onDotsOver:null,onMouseLeave:ee?C.onDotsLeave:null}),j=n.default.createElement(l.Dots,K)}var re,se,Se=(0,r.extractObject)(w,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Se.clickHandler=C.changeSlide,C.props.arrows&&(re=n.default.createElement(c.PrevArrow,Se),se=n.default.createElement(c.NextArrow,Se));var ve=null;C.props.vertical&&(ve={height:C.state.listHeight});var we=null;C.props.vertical===!1?C.props.centerMode===!0&&(we={padding:"0px "+C.props.centerPadding}):C.props.centerMode===!0&&(we={padding:C.props.centerPadding+" 0px"});var Ie=x(x({},ve),we),qe=C.props.touchMove,Ce={className:"slick-list",style:Ie,onClick:C.clickHandler,onMouseDown:qe?C.swipeStart:null,onMouseMove:C.state.dragging&&qe?C.swipeMove:null,onMouseUp:qe?C.swipeEnd:null,onMouseLeave:C.state.dragging&&qe?C.swipeEnd:null,onTouchStart:qe?C.swipeStart:null,onTouchMove:C.state.dragging&&qe?C.swipeMove:null,onTouchEnd:qe?C.touchEnd:null,onTouchCancel:C.state.dragging&&qe?C.swipeEnd:null,onKeyDown:C.props.accessibility?C.keyHandler:null},Ee={className:G,dir:"ltr",style:C.props.style};return C.props.unslick&&(Ce={className:"slick-list"},Ee={className:G,style:C.props.style}),n.default.createElement("div",Ee,C.props.unslick?"":re,n.default.createElement("div",m({ref:C.listRefHandler},Ce),n.default.createElement(a.Track,m({ref:C.trackRefHandler},D),C.props.children)),C.props.unslick?"":se,C.props.unslick?"":j)}),C.list=null,C.track=null,C.state=x(x({},e.default),{},{currentSlide:C.props.initialSlide,targetSlide:C.props.initialSlide?C.props.initialSlide:0,slideCount:n.default.Children.count(C.props.children)}),C.callbackTimers=[],C.clickable=!0,C.debouncedResize=null;var ne=C.ssrInit();return C.state=x(x({},C.state),ne),C}return T(I,[{key:"didPropsChange",value:function(C){for(var ne=!1,G=0,w=Object.keys(this.props);G<w.length;G++){var D=w[G];if(!C.hasOwnProperty(D)){ne=!0;break}if(!(f(C[D])==="object"||typeof C[D]=="function"||isNaN(C[D]))&&C[D]!==this.props[D]){ne=!0;break}}return ne||n.default.Children.count(this.props.children)!==n.default.Children.count(C.children)}}]),I})(n.default.Component),ac}var bg,Hw;function mX(){if(Hw)return bg;Hw=1;var n=function(e){return e.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).toLowerCase()};return bg=n,bg}var vg,$w;function gX(){if($w)return vg;$w=1;var n=mX(),e=function(r){var a=/[height|width]$/;return a.test(r)},t=function(r){var a="",l=Object.keys(r);return l.forEach(function(c,d){var h=r[c];c=n(c),e(c)&&typeof h=="number"&&(h=h+"px"),h===!0?a+=c:h===!1?a+="not "+c:a+="("+c+": "+h+")",d<l.length-1&&(a+=" and ")}),a},i=function(r){var a="";return typeof r=="string"?r:r instanceof Array?(r.forEach(function(l,c){a+=t(l),c<r.length-1&&(a+=", ")}),a):t(r)};return vg=i,vg}var qw;function yX(){return qw||(qw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=l(rr()),t=pX(),i=l(gX()),r=l(mT()),a=ru();function l(P){return P&&P.__esModule?P:{default:P}}function c(P){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},c(P)}function d(){return d=Object.assign?Object.assign.bind():function(P){for(var F=1;F<arguments.length;F++){var L=arguments[F];for(var H in L)({}).hasOwnProperty.call(L,H)&&(P[H]=L[H])}return P},d.apply(null,arguments)}function h(P,F){var L=Object.keys(P);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(P);F&&(H=H.filter(function(X){return Object.getOwnPropertyDescriptor(P,X).enumerable})),L.push.apply(L,H)}return L}function f(P){for(var F=1;F<arguments.length;F++){var L=arguments[F]!=null?arguments[F]:{};F%2?h(Object(L),!0).forEach(function(H){k(P,H,L[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(L)):h(Object(L)).forEach(function(H){Object.defineProperty(P,H,Object.getOwnPropertyDescriptor(L,H))})}return P}function m(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")}function g(P,F){for(var L=0;L<F.length;L++){var H=F[L];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(P,N(H.key),H)}}function b(P,F,L){return F&&g(P.prototype,F),Object.defineProperty(P,"prototype",{writable:!1}),P}function S(P,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(F&&F.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),F&&x(P,F)}function x(P,F){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,H){return L.__proto__=H,L},x(P,F)}function E(P){var F=R();return function(){var L,H=B(P);if(F){var X=B(this).constructor;L=Reflect.construct(H,arguments,X)}else L=H.apply(this,arguments);return A(this,L)}}function A(P,F){if(F&&(c(F)=="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(P)}function T(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function R(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!P})()}function B(P){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},B(P)}function k(P,F,L){return(F=N(F))in P?Object.defineProperty(P,F,{value:L,enumerable:!0,configurable:!0,writable:!0}):P[F]=L,P}function N(P){var F=M(P,"string");return c(F)=="symbol"?F:F+""}function M(P,F){if(c(P)!="object"||!P)return P;var L=P[Symbol.toPrimitive];if(L!==void 0){var H=L.call(P,F);if(c(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(P)}n.default=(function(P){S(L,P);var F=E(L);function L(H){var X;return m(this,L),X=F.call(this,H),k(T(X),"innerSliderRefHandler",function(V){return X.innerSlider=V}),k(T(X),"slickPrev",function(){return X.innerSlider.slickPrev()}),k(T(X),"slickNext",function(){return X.innerSlider.slickNext()}),k(T(X),"slickGoTo",function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return X.innerSlider.slickGoTo(V,Y)}),k(T(X),"slickPause",function(){return X.innerSlider.pause("paused")}),k(T(X),"slickPlay",function(){return X.innerSlider.autoPlay("play")}),X.state={breakpoint:null},X._responsiveMediaHandlers=[],X}return b(L,[{key:"media",value:function(X,V){var Y=window.matchMedia(X),I=function(C){var ne=C.matches;ne&&V()};Y.addListener(I),this._responsiveMediaHandlers.push({mql:Y,query:X,listener:I})}},{key:"componentDidMount",value:function(){var X=this;if(this.props.responsive){var V=this.props.responsive.map(function(I){return I.breakpoint});V.sort(function(I,U){return I-U}),V.forEach(function(I,U){var C;U===0?C=(0,i.default)({minWidth:0,maxWidth:I}):C=(0,i.default)({minWidth:V[U-1]+1,maxWidth:I}),(0,a.canUseDOM)()&&X.media(C,function(){X.setState({breakpoint:I})})});var Y=(0,i.default)({minWidth:V.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(Y,function(){X.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(X){X.mql.removeListener(X.listener)})}},{key:"render",value:function(){var X=this,V,Y;this.state.breakpoint?(Y=this.props.responsive.filter(function(K){return K.breakpoint===X.state.breakpoint}),V=Y[0].settings==="unslick"?"unslick":f(f(f({},r.default),this.props),Y[0].settings)):V=f(f({},r.default),this.props),V.centerMode&&(V.slidesToScroll>1,V.slidesToScroll=1),V.fade&&(V.slidesToShow>1,V.slidesToScroll>1,V.slidesToShow=1,V.slidesToScroll=1);var I=e.default.Children.toArray(this.props.children);I=I.filter(function(K){return typeof K=="string"?!!K.trim():!!K}),V.variableWidth&&(V.rows>1||V.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),V.variableWidth=!1);for(var U=[],C=null,ne=0;ne<I.length;ne+=V.rows*V.slidesPerRow){for(var G=[],w=ne;w<ne+V.rows*V.slidesPerRow;w+=V.slidesPerRow){for(var D=[],q=w;q<w+V.slidesPerRow&&(V.variableWidth&&I[q].props.style&&(C=I[q].props.style.width),!(q>=I.length));q+=1)D.push(e.default.cloneElement(I[q],{key:100*ne+10*w+q,tabIndex:-1,style:{width:"".concat(100/V.slidesPerRow,"%"),display:"inline-block"}}));G.push(e.default.createElement("div",{key:10*ne+w},D))}V.variableWidth?U.push(e.default.createElement("div",{key:ne,style:{width:C}},G)):U.push(e.default.createElement("div",{key:ne},G))}if(V==="unslick"){var j="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:j},I)}else U.length<=V.slidesToShow&&(V.unslick=!0);return e.default.createElement(t.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(V)),U)}}]),L})(e.default.Component)})(fg)),fg}var Vw;function bX(){return Vw||(Vw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(yX());function t(i){return i&&i.__esModule?i:{default:i}}n.default=e.default})(hg)),hg}var vX=bX();const _X=Go(vX),xX="_container_1qr3m_1",SX="_title_1qr3m_7",wX="_subtitle_1qr3m_13",AX="_button_1qr3m_19",EX="_head_1qr3m_50",ha={container:xX,title:SX,subtitle:wX,button:AX,head:EX},CX="_card_3jt6y_1",TX="_title_3jt6y_41",kX="_content_3jt6y_50",RX="_image_3jt6y_58",NX="_text_3jt6y_66",cc={card:CX,title:TX,content:kX,image:RX,text:NX},OX=({title:n,color:e,image:t,text:i})=>v.jsxs("div",{className:cc.card,style:{backgroundColor:e},children:[v.jsx("h3",{className:cc.title,children:n}),v.jsxs("div",{className:cc.content,children:[v.jsx("img",{src:t,alt:n,className:cc.image}),v.jsx("p",{className:cc.text,children:i})]})]}),MX=()=>{const n=[{title:"Matching",color:"#FFDAD6",image:"https://cdn-icons-png.flaticon.com/512/616/616408.png"},{title:"Expert Solutions",color:"#C6F7E2",image:"https://cdn-icons-png.flaticon.com/512/2920/2920214.png"},{title:"Memorization",color:"#C7E9FB",image:"https://cdn-icons-png.flaticon.com/512/2830/2830308.png"},{title:"Flashcards",color:"#5A4FF3",image:"https://cdn-icons-png.flaticon.com/512/821/821484.png"},{title:"Definitions",color:"#FFF0C9",image:"https://cdn-icons-png.flaticon.com/512/2721/2721298.png"},{title:"Practice Tests",color:"#E9D8FD",image:"https://cdn-icons-png.flaticon.com/512/2593/2593448.png"},{title:"Diagrams",color:"#FEE2E2",image:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png"},{title:"Games",color:"#DCFCE7",image:"https://cdn-icons-png.flaticon.com/512/2784/2784463.png"},{title:"Study Plan",color:"#FEF9C3",image:"https://cdn-icons-png.flaticon.com/512/3707/3707225.png"},{title:"Notes",color:"#FDE68A",image:"https://cdn-icons-png.flaticon.com/512/1828/1828911.png"}],e={dots:!0,infinite:!0,speed:400,slidesToShow:5,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},t=Us();return v.jsxs("div",{className:ha.container,children:[v.jsxs("div",{className:ha.head,children:[v.jsx("h1",{className:ha.title,children:"How do you want to study?"}),v.jsx("p",{className:ha.subtitle,children:"Master any material using interactive Study Buddy."}),v.jsxs("button",{className:ha.button,onClick:()=>t("/register"),children:["Sign up"," "]})]}),v.jsx("div",{className:ha.sliderContainer,children:v.jsx(_X,{...e,children:n.map((i,r)=>v.jsx("div",{className:ha.slide,children:v.jsx(OX,{...i})},r))})})]})},DX="_section_1ts4w_1",LX="_reverse_1ts4w_10",jX="_imageWrapper_1ts4w_14",PX="_image_1ts4w_14",BX="_textContent_1ts4w_27",FX="_title_1ts4w_32",IX="_description_1ts4w_39",zX="_button_1ts4w_46",Ds={section:DX,reverse:LX,imageWrapper:jX,image:PX,textContent:BX,title:FX,description:IX,button:zX},UX=({title:n,description:e,buttonText:t,image:i,reverse:r=!1,bgColor:a="#f5f7fb",onButtonClick:l})=>v.jsxs("section",{className:`${Ds.section} ${r?Ds.reverse:""}`,style:{backgroundColor:a},children:[v.jsx("div",{className:Ds.imageWrapper,children:v.jsx("img",{src:i,alt:n,className:Ds.image})}),v.jsxs("div",{className:Ds.textContent,children:[v.jsx("h2",{className:Ds.title,children:n}),v.jsx("p",{className:Ds.description,children:e}),v.jsx("button",{className:Ds.button,onClick:l,children:t})]})]}),HX="/assets/introImg1-DudReclK.png",Gw="/assets/introImg2-BAv0_6N1.png",$X=()=>{const n=Us(),e=()=>{n("/register")},t=[{title:"Choose how you want to study",description:"Turn recap cards into multiple-choice questions and more using Study Mode. Strengthen your knowledge with fun learning games like Matching.",buttonText:"Start",image:Gw,bgColor:"#f9faff",reverse:!1},{title:"Master concepts efficiently",description:"Practice smarter, not harder. Get instant feedback and detailed explanations as you learn key terms.",buttonText:"Try Now",image:HX,bgColor:"#f5f7fb",reverse:!0},{title:"Track your progress",description:"Stay motivated with visual progress charts and personalized study recommendations based on your performance.",buttonText:"View Progress",image:Gw,bgColor:"#f9f9ff",reverse:!1}];return v.jsxs(v.Fragment,{children:[v.jsx(Cc,{}),v.jsxs(Pg,{children:[v.jsx(MX,{}),t.map((i,r)=>v.jsx(UX,{title:i.title,description:i.description,buttonText:i.buttonText,image:i.image,bgColor:i.bgColor,reverse:i.reverse,onButtonClick:e},r))]})]})};function qX(){const{fileId:n}=wy();return v.jsxs("div",{style:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",background:"#fafafa",padding:"40px 0"},children:[v.jsx("h1",{style:{marginBottom:"20px"},children:"PDF Viewer"}),v.jsx("div",{style:{width:"90%",maxWidth:"1000px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:"8px",padding:"20px"},children:v.jsx(OC,{fileId:n,fileName:`File ${n}`,height:"80vh"})})]})}const _g=({children:n})=>{const{isLoggedIn:e}=Bc(t=>t.auth);return e?n:v.jsx(nA,{to:"/login",replace:!0})},xg=({children:n})=>{const{isLoggedIn:e}=Bc(t=>t.auth);return e?v.jsx(nA,{to:"/home",replace:!0}):n};function VX(){return v.jsxs("div",{className:"h-screen flex items-center justify-center",children:[v.jsxs(PR,{children:[v.jsx(fa,{path:"/",element:v.jsx(xg,{children:v.jsx($X,{})})}),v.jsx(fa,{path:"/login",element:v.jsx(xg,{children:v.jsx(dS,{})})}),v.jsx(fa,{path:"/register",element:v.jsx(xg,{children:v.jsx(dS,{isRegister:!0})})}),v.jsx(fa,{path:"/home",element:v.jsx(_g,{children:v.jsx($4,{})})}),v.jsx(fa,{path:"/modules/:moduleId",element:v.jsx(_g,{children:v.jsx(HG,{})})}),v.jsx(fa,{path:"/test/:fileId",element:v.jsx(_g,{children:v.jsx(qX,{})})})]}),v.jsx(J3,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}(()=>{const n=localStorage.getItem("sb-theme");let e="light";n==="light"||n==="dark"||n==="sepia"?e=n:e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",document.documentElement.dataset.theme=e})();Vk.createRoot(document.getElementById("root")).render(v.jsx(z.StrictMode,{children:v.jsx(sN,{basename:"/",children:v.jsx(ON,{store:hD,children:v.jsx(VX,{})})})}));
