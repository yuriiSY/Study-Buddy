var __=n=>{throw TypeError(n)};var gm=(n,t,e)=>t.has(n)||__("Cannot "+e);var je=(n,t,e)=>(gm(n,t,"read from private field"),e?e.call(n):t.get(n)),cr=(n,t,e)=>t.has(n)?__("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),ti=(n,t,e,i)=>(gm(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e),ur=(n,t,e)=>(gm(n,t,"access private method"),e);var S_=(n,t,e,i)=>({set _(r){ti(n,t,r,e)},get _(){return je(n,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ok(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),e}var ym={exports:{}},$l={};var x_;function Rk(){if(x_)return $l;x_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,a){var l=null;if(a!==void 0&&(l=""+a),r.key!==void 0&&(l=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:a}}return $l.Fragment=t,$l.jsx=e,$l.jsxs=e,$l}var w_;function Mk(){return w_||(w_=1,ym.exports=Rk()),ym.exports}var x=Mk(),bm={exports:{}},Gt={};var A_;function Nk(){if(A_)return Gt;A_=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function w(P,V,B){this.props=P,this.context=V,this.refs=E,this.updater=B||S}w.prototype.isReactComponent={},w.prototype.setState=function(P,V){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,V,"setState")},w.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=w.prototype;function k(P,V,B){this.props=P,this.context=V,this.refs=E,this.updater=B||S}var F=k.prototype=new T;F.constructor=k,_(F,w.prototype),F.isPureReactComponent=!0;var O=Array.isArray;function R(){}var D={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function N(P,V,B){var Q=B.ref;return{$$typeof:n,type:P,key:V,ref:Q!==void 0?Q:null,props:B}}function L(P,V){return N(P.type,V,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function H(P){var V={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(B){return V[B]})}var q=/\/+/g;function G(P,V){return typeof P=="object"&&P!==null&&P.key!=null?H(""+P.key):V.toString(36)}function Y(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(R,R):(P.status="pending",P.then(function(V){P.status==="pending"&&(P.status="fulfilled",P.value=V)},function(V){P.status==="pending"&&(P.status="rejected",P.reason=V)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function U(P,V,B,Q,ot){var st=typeof P;(st==="undefined"||st==="boolean")&&(P=null);var ct=!1;if(P===null)ct=!0;else switch(st){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(P.$$typeof){case n:case t:ct=!0;break;case p:return ct=P._init,U(ct(P._payload),V,B,Q,ot)}}if(ct)return ot=ot(P),ct=Q===""?"."+G(P,0):Q,O(ot)?(B="",ct!=null&&(B=ct.replace(q,"$&/")+"/"),U(ot,V,B,"",function(xt){return xt})):ot!=null&&(I(ot)&&(ot=L(ot,B+(ot.key==null||P&&P.key===ot.key?"":(""+ot.key).replace(q,"$&/")+"/")+ct)),V.push(ot)),1;ct=0;var wt=Q===""?".":Q+":";if(O(P))for(var _t=0;_t<P.length;_t++)Q=P[_t],st=wt+G(Q,_t),ct+=U(Q,V,B,st,ot);else if(_t=b(P),typeof _t=="function")for(P=_t.call(P),_t=0;!(Q=P.next()).done;)Q=Q.value,st=wt+G(Q,_t++),ct+=U(Q,V,B,st,ot);else if(st==="object"){if(typeof P.then=="function")return U(Y(P),V,B,Q,ot);throw V=String(P),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ct}function C(P,V,B){if(P==null)return P;var Q=[],ot=0;return U(P,Q,"","",function(st){return V.call(B,st,ot++)}),Q}function J(P){if(P._status===-1){var V=P._result;V=V(),V.then(function(B){(P._status===0||P._status===-1)&&(P._status=1,P._result=B)},function(B){(P._status===0||P._status===-1)&&(P._status=2,P._result=B)}),P._status===-1&&(P._status=0,P._result=V)}if(P._status===1)return P._result.default;throw P._result}var X=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},A={map:C,forEach:function(P,V,B){C(P,function(){V.apply(this,arguments)},B)},count:function(P){var V=0;return C(P,function(){V++}),V},toArray:function(P){return C(P,function(V){return V})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Gt.Activity=m,Gt.Children=A,Gt.Component=w,Gt.Fragment=e,Gt.Profiler=r,Gt.PureComponent=k,Gt.StrictMode=i,Gt.Suspense=d,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},Gt.cache=function(P){return function(){return P.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(P,V,B){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Q=_({},P.props),ot=P.key;if(V!=null)for(st in V.key!==void 0&&(ot=""+V.key),V)!j.call(V,st)||st==="key"||st==="__self"||st==="__source"||st==="ref"&&V.ref===void 0||(Q[st]=V[st]);var st=arguments.length-2;if(st===1)Q.children=B;else if(1<st){for(var ct=Array(st),wt=0;wt<st;wt++)ct[wt]=arguments[wt+2];Q.children=ct}return N(P.type,ot,Q)},Gt.createContext=function(P){return P={$$typeof:l,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:a,_context:P},P},Gt.createElement=function(P,V,B){var Q,ot={},st=null;if(V!=null)for(Q in V.key!==void 0&&(st=""+V.key),V)j.call(V,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ot[Q]=V[Q]);var ct=arguments.length-2;if(ct===1)ot.children=B;else if(1<ct){for(var wt=Array(ct),_t=0;_t<ct;_t++)wt[_t]=arguments[_t+2];ot.children=wt}if(P&&P.defaultProps)for(Q in ct=P.defaultProps,ct)ot[Q]===void 0&&(ot[Q]=ct[Q]);return N(P,st,ot)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(P){return{$$typeof:c,render:P}},Gt.isValidElement=I,Gt.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:J}},Gt.memo=function(P,V){return{$$typeof:h,type:P,compare:V===void 0?null:V}},Gt.startTransition=function(P){var V=D.T,B={};D.T=B;try{var Q=P(),ot=D.S;ot!==null&&ot(B,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(R,X)}catch(st){X(st)}finally{V!==null&&B.types!==null&&(V.types=B.types),D.T=V}},Gt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Gt.use=function(P){return D.H.use(P)},Gt.useActionState=function(P,V,B){return D.H.useActionState(P,V,B)},Gt.useCallback=function(P,V){return D.H.useCallback(P,V)},Gt.useContext=function(P){return D.H.useContext(P)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(P,V){return D.H.useDeferredValue(P,V)},Gt.useEffect=function(P,V){return D.H.useEffect(P,V)},Gt.useEffectEvent=function(P){return D.H.useEffectEvent(P)},Gt.useId=function(){return D.H.useId()},Gt.useImperativeHandle=function(P,V,B){return D.H.useImperativeHandle(P,V,B)},Gt.useInsertionEffect=function(P,V){return D.H.useInsertionEffect(P,V)},Gt.useLayoutEffect=function(P,V){return D.H.useLayoutEffect(P,V)},Gt.useMemo=function(P,V){return D.H.useMemo(P,V)},Gt.useOptimistic=function(P,V){return D.H.useOptimistic(P,V)},Gt.useReducer=function(P,V,B){return D.H.useReducer(P,V,B)},Gt.useRef=function(P){return D.H.useRef(P)},Gt.useState=function(P){return D.H.useState(P)},Gt.useSyncExternalStore=function(P,V,B){return D.H.useSyncExternalStore(P,V,B)},Gt.useTransition=function(){return D.H.useTransition()},Gt.version="19.2.0",Gt}var E_;function tr(){return E_||(E_=1,bm.exports=Nk()),bm.exports}var $=tr();const Vt=Uo($);var vm={exports:{}},ql={},_m={exports:{}},Sm={};var C_;function Dk(){return C_||(C_=1,(function(n){function t(U,C){var J=U.length;U.push(C);t:for(;0<J;){var X=J-1>>>1,A=U[X];if(0<r(A,C))U[X]=C,U[J]=A,J=X;else break t}}function e(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var C=U[0],J=U.pop();if(J!==C){U[0]=J;t:for(var X=0,A=U.length,P=A>>>1;X<P;){var V=2*(X+1)-1,B=U[V],Q=V+1,ot=U[Q];if(0>r(B,J))Q<A&&0>r(ot,B)?(U[X]=ot,U[Q]=J,X=Q):(U[X]=B,U[V]=J,X=V);else if(Q<A&&0>r(ot,J))U[X]=ot,U[Q]=J,X=Q;else break t}}return C}function r(U,C){var J=U.sortIndex-C.sortIndex;return J!==0?J:U.id-C.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,m=null,y=3,b=!1,S=!1,_=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function F(U){for(var C=e(h);C!==null;){if(C.callback===null)i(h);else if(C.startTime<=U)i(h),C.sortIndex=C.expirationTime,t(d,C);else break;C=e(h)}}function O(U){if(_=!1,F(U),!S)if(e(d)!==null)S=!0,R||(R=!0,H());else{var C=e(h);C!==null&&Y(O,C.startTime-U)}}var R=!1,D=-1,j=5,N=-1;function L(){return E?!0:!(n.unstable_now()-N<j)}function I(){if(E=!1,R){var U=n.unstable_now();N=U;var C=!0;try{t:{S=!1,_&&(_=!1,T(D),D=-1),b=!0;var J=y;try{e:{for(F(U),m=e(d);m!==null&&!(m.expirationTime>U&&L());){var X=m.callback;if(typeof X=="function"){m.callback=null,y=m.priorityLevel;var A=X(m.expirationTime<=U);if(U=n.unstable_now(),typeof A=="function"){m.callback=A,F(U),C=!0;break e}m===e(d)&&i(d),F(U)}else i(d);m=e(d)}if(m!==null)C=!0;else{var P=e(h);P!==null&&Y(O,P.startTime-U),C=!1}}break t}finally{m=null,y=J,b=!1}C=void 0}}finally{C?H():R=!1}}}var H;if(typeof k=="function")H=function(){k(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,G=q.port2;q.port1.onmessage=I,H=function(){G.postMessage(null)}}else H=function(){w(I,0)};function Y(U,C){D=w(function(){U(n.unstable_now())},C)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(U){switch(y){case 1:case 2:case 3:var C=3;break;default:C=y}var J=y;y=C;try{return U()}finally{y=J}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(U,C){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=y;y=U;try{return C()}finally{y=J}},n.unstable_scheduleCallback=function(U,C,J){var X=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?X+J:X):J=X,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,U={id:p++,callback:C,priorityLevel:U,startTime:J,expirationTime:A,sortIndex:-1},J>X?(U.sortIndex=J,t(h,U),e(d)===null&&U===e(h)&&(_?(T(D),D=-1):_=!0,Y(O,J-X))):(U.sortIndex=A,t(d,U),S||b||(S=!0,R||(R=!0,H()))),U},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(U){var C=y;return function(){var J=y;y=C;try{return U.apply(this,arguments)}finally{y=J}}}})(Sm)),Sm}var T_;function Lk(){return T_||(T_=1,_m.exports=Dk()),_m.exports}var xm={exports:{}},Ln={};var k_;function Pk(){if(k_)return Ln;k_=1;var n=tr();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ln.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return a(d,h,null,p)},Ln.flushSync=function(d){var h=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=p,i.d.f()}},Ln.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Ln.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Ln.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&i.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ln.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Ln.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);i.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ln.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Ln.requestFormReset=function(d){i.d.r(d)},Ln.unstable_batchedUpdates=function(d,h){return d(h)},Ln.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},Ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ln.version="19.2.0",Ln}var O_;function jk(){if(O_)return xm.exports;O_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xm.exports=Pk(),xm.exports}var R_;function Bk(){if(R_)return ql;R_=1;var n=Lk(),t=tr(),e=jk();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(i(188));return o!==s?null:s}for(var u=s,f=o;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return d(g),s;if(v===f)return d(g),o;v=v.sibling}throw Error(i(188))}if(u.return!==f.return)u=g,f=v;else{for(var M=!1,z=g.child;z;){if(z===u){M=!0,u=g,f=v;break}if(z===f){M=!0,f=g,u=v;break}z=z.sibling}if(!M){for(z=v.child;z;){if(z===u){M=!0,u=v,f=g;break}if(z===f){M=!0,f=v,u=g;break}z=z.sibling}if(!M)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),k=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=I&&s[I]||s["@@iterator"],typeof s=="function"?s:null)}var q=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case w:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case R:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case k:return s.displayName||"Context";case T:return(s._context.displayName||"Context")+".Consumer";case F:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return o=s.displayName||null,o!==null?o:G(s.type)||"Memo";case j:o=s._payload,s=s._init;try{return G(s(o))}catch{}}return null}var Y=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},X=[],A=-1;function P(s){return{current:s}}function V(s){0>A||(s.current=X[A],X[A]=null,A--)}function B(s,o){A++,X[A]=s.current,s.current=o}var Q=P(null),ot=P(null),st=P(null),ct=P(null);function wt(s,o){switch(B(st,o),B(ot,s),B(Q,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?$1(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=$1(o),s=q1(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}V(Q),B(Q,s)}function _t(){V(Q),V(ot),V(st)}function xt(s){s.memoizedState!==null&&B(ct,s);var o=Q.current,u=q1(o,s.type);o!==u&&(B(ot,s),B(Q,u))}function It(s){ot.current===s&&(V(Q),V(ot)),ct.current===s&&(V(ct),Il._currentValue=J)}var Ut,Ct;function At(s){if(Ut===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Ut=o&&o[1]||"",Ct=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+s+Ct}var Nt=!1;function Ht(s,o){if(!s||Nt)return"";Nt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(ut){var at=ut}Reflect.construct(s,[],mt)}else{try{mt.call()}catch(ut){at=ut}s.call(mt.prototype)}}else{try{throw Error()}catch(ut){at=ut}(mt=s())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(ut){if(ut&&at&&typeof ut.stack=="string")return[ut.stack,at.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),M=v[0],z=v[1];if(M&&z){var K=M.split(`
`),rt=z.split(`
`);for(g=f=0;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;for(;g<rt.length&&!rt[g].includes("DetermineComponentFrameRoot");)g++;if(f===K.length||g===rt.length)for(f=K.length-1,g=rt.length-1;1<=f&&0<=g&&K[f]!==rt[g];)g--;for(;1<=f&&0<=g;f--,g--)if(K[f]!==rt[g]){if(f!==1||g!==1)do if(f--,g--,0>g||K[f]!==rt[g]){var ft=`
`+K[f].replace(" at new "," at ");return s.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",s.displayName)),ft}while(1<=f&&0<=g);break}}}finally{Nt=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?At(u):""}function Bt(s,o){switch(s.tag){case 26:case 27:case 5:return At(s.type);case 16:return At("Lazy");case 13:return s.child!==o&&o!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return Ht(s.type,!1);case 11:return Ht(s.type.render,!1);case 1:return Ht(s.type,!0);case 31:return At("Activity");default:return""}}function he(s){try{var o="",u=null;do o+=Bt(s,u),u=s,s=s.return;while(s);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var fe=Object.prototype.hasOwnProperty,W=n.unstable_scheduleCallback,nt=n.unstable_cancelCallback,dt=n.unstable_shouldYield,St=n.unstable_requestPaint,gt=n.unstable_now,yt=n.unstable_getCurrentPriorityLevel,tt=n.unstable_ImmediatePriority,ht=n.unstable_UserBlockingPriority,vt=n.unstable_NormalPriority,Dt=n.unstable_LowPriority,ee=n.unstable_IdlePriority,Xe=n.log,Hi=n.unstable_setDisableYieldValue,pn=null,ze=null;function Dn(s){if(typeof Xe=="function"&&Hi(s),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(pn,s)}catch{}}var be=Math.clz32?Math.clz32:mT,rr=Math.log,Gn=Math.LN2;function mT(s){return s>>>=0,s===0?32:31-(rr(s)/Gn|0)|0}var eu=256,nu=262144,iu=4194304;function Is(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ru(s,o,u){var f=s.pendingLanes;if(f===0)return 0;var g=0,v=s.suspendedLanes,M=s.pingedLanes;s=s.warmLanes;var z=f&134217727;return z!==0?(f=z&~v,f!==0?g=Is(f):(M&=z,M!==0?g=Is(M):u||(u=z&~s,u!==0&&(g=Is(u))))):(z=f&~v,z!==0?g=Is(z):M!==0?g=Is(M):u||(u=f&~s,u!==0&&(g=Is(u)))),g===0?0:o!==0&&o!==g&&(o&v)===0&&(v=g&-g,u=o&-o,v>=u||v===32&&(u&4194048)!==0)?o:g}function Qo(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function gT(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ab(){var s=iu;return iu<<=1,(iu&62914560)===0&&(iu=4194304),s}function rf(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Jo(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function yT(s,o,u,f,g,v){var M=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var z=s.entanglements,K=s.expirationTimes,rt=s.hiddenUpdates;for(u=M&~u;0<u;){var ft=31-be(u),mt=1<<ft;z[ft]=0,K[ft]=-1;var at=rt[ft];if(at!==null)for(rt[ft]=null,ft=0;ft<at.length;ft++){var ut=at[ft];ut!==null&&(ut.lane&=-536870913)}u&=~mt}f!==0&&Eb(s,f,0),v!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=v&~(M&~o))}function Eb(s,o,u){s.pendingLanes|=o,s.suspendedLanes&=~o;var f=31-be(o);s.entangledLanes|=o,s.entanglements[f]=s.entanglements[f]|1073741824|u&261930}function Cb(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-be(u),g=1<<f;g&o|s[f]&o&&(s[f]|=o),u&=~g}}function Tb(s,o){var u=o&-o;return u=(u&42)!==0?1:sf(u),(u&(s.suspendedLanes|o))!==0?0:u}function sf(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function af(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function kb(){var s=C.p;return s!==0?s:(s=window.event,s===void 0?32:f_(s.type))}function Ob(s,o){var u=C.p;try{return C.p=s,o()}finally{C.p=u}}var rs=Math.random().toString(36).slice(2),An="__reactFiber$"+rs,Xn="__reactProps$"+rs,Ta="__reactContainer$"+rs,of="__reactEvents$"+rs,bT="__reactListeners$"+rs,vT="__reactHandles$"+rs,Rb="__reactResources$"+rs,tl="__reactMarker$"+rs;function lf(s){delete s[An],delete s[Xn],delete s[of],delete s[bT],delete s[vT]}function ka(s){var o=s[An];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Ta]||u[An]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Z1(s);s!==null;){if(u=s[An])return u;s=Z1(s)}return o}s=u,u=s.parentNode}return null}function Oa(s){if(s=s[An]||s[Ta]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function el(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Ra(s){var o=s[Rb];return o||(o=s[Rb]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function yn(s){s[tl]=!0}var Mb=new Set,Nb={};function zs(s,o){Ma(s,o),Ma(s+"Capture",o)}function Ma(s,o){for(Nb[s]=o,s=0;s<o.length;s++)Mb.add(o[s])}var _T=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Db={},Lb={};function ST(s){return fe.call(Lb,s)?!0:fe.call(Db,s)?!1:_T.test(s)?Lb[s]=!0:(Db[s]=!0,!1)}function su(s,o,u){if(ST(o))if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+u)}}function au(s,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+u)}}function Cr(s,o,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(o,u,""+f)}}function Ei(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Pb(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xT(s,o,u){var f=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var g=f.get,v=f.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(M){u=""+M,v.call(this,M)}}),Object.defineProperty(s,o,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(M){u=""+M},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function cf(s){if(!s._valueTracker){var o=Pb(s)?"checked":"value";s._valueTracker=xT(s,o,""+s[o])}}function jb(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Pb(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function ou(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wT=/[\n"\\]/g;function Ci(s){return s.replace(wT,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function uf(s,o,u,f,g,v,M,z){s.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.type=M:s.removeAttribute("type"),o!=null?M==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ei(o)):s.value!==""+Ei(o)&&(s.value=""+Ei(o)):M!=="submit"&&M!=="reset"||s.removeAttribute("value"),o!=null?df(s,M,Ei(o)):u!=null?df(s,M,Ei(u)):f!=null&&s.removeAttribute("value"),g==null&&v!=null&&(s.defaultChecked=!!v),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.name=""+Ei(z):s.removeAttribute("name")}function Bb(s,o,u,f,g,v,M,z){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.type=v),o!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||o!=null)){cf(s);return}u=u!=null?""+Ei(u):"",o=o!=null?""+Ei(o):u,z||o===s.value||(s.value=o),s.defaultValue=o}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=z?s.checked:!!f,s.defaultChecked=!!f,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(s.name=M),cf(s)}function df(s,o,u){o==="number"&&ou(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Na(s,o,u,f){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Ei(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Fb(s,o,u){if(o!=null&&(o=""+Ei(o),o!==s.value&&(s.value=o),u==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=u!=null?""+Ei(u):""}function Ib(s,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(i(92));if(Y(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=Ei(o),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f),cf(s)}function Da(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var AT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zb(s,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":f?s.setProperty(o,u):typeof u!="number"||u===0||AT.has(o)?o==="float"?s.cssFloat=u:s[o]=(""+u).trim():s[o]=u+"px"}function Ub(s,o,u){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var g in o)f=o[g],o.hasOwnProperty(g)&&u[g]!==f&&zb(s,g,f)}else for(var v in o)o.hasOwnProperty(v)&&zb(s,v,o[v])}function hf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ET=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(s){return CT.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Tr(){}var ff=null;function pf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var La=null,Pa=null;function Hb(s){var o=Oa(s);if(o&&(s=o.stateNode)){var u=s[Xn]||null;t:switch(s=o.stateNode,o.type){case"input":if(uf(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ci(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var g=f[Xn]||null;if(!g)throw Error(i(90));uf(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===s.form&&jb(f)}break t;case"textarea":Fb(s,u.value,u.defaultValue);break t;case"select":o=u.value,o!=null&&Na(s,!!u.multiple,o,!1)}}}var mf=!1;function $b(s,o,u){if(mf)return s(o,u);mf=!0;try{var f=s(o);return f}finally{if(mf=!1,(La!==null||Pa!==null)&&(Wu(),La&&(o=La,s=Pa,Pa=La=null,Hb(o),s)))for(o=0;o<s.length;o++)Hb(s[o])}}function nl(s,o){var u=s.stateNode;if(u===null)return null;var f=u[Xn]||null;if(f===null)return null;u=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,o,typeof u));return u}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gf=!1;if(kr)try{var il={};Object.defineProperty(il,"passive",{get:function(){gf=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{gf=!1}var ss=null,yf=null,cu=null;function qb(){if(cu)return cu;var s,o=yf,u=o.length,f,g="value"in ss?ss.value:ss.textContent,v=g.length;for(s=0;s<u&&o[s]===g[s];s++);var M=u-s;for(f=1;f<=M&&o[u-f]===g[v-f];f++);return cu=g.slice(s,1<f?1-f:void 0)}function uu(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function du(){return!0}function Vb(){return!1}function Yn(s){function o(u,f,g,v,M){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=M,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(u=s[z],this[z]=u?u(v):v[z]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?du:Vb,this.isPropagationStopped=Vb,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),o}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=Yn(Us),rl=m({},Us,{view:0,detail:0}),TT=Yn(rl),bf,vf,sl,fu=m({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==sl&&(sl&&s.type==="mousemove"?(bf=s.screenX-sl.screenX,vf=s.screenY-sl.screenY):vf=bf=0,sl=s),bf)},movementY:function(s){return"movementY"in s?s.movementY:vf}}),Gb=Yn(fu),kT=m({},fu,{dataTransfer:0}),OT=Yn(kT),RT=m({},rl,{relatedTarget:0}),_f=Yn(RT),MT=m({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),NT=Yn(MT),DT=m({},Us,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),LT=Yn(DT),PT=m({},Us,{data:0}),Xb=Yn(PT),jT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IT(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=FT[s])?!!o[s]:!1}function Sf(){return IT}var zT=m({},rl,{key:function(s){if(s.key){var o=jT[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=uu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?BT[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(s){return s.type==="keypress"?uu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?uu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),UT=Yn(zT),HT=m({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yb=Yn(HT),$T=m({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),qT=Yn($T),VT=m({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),GT=Yn(VT),XT=m({},fu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),YT=Yn(XT),WT=m({},Us,{newState:0,oldState:0}),KT=Yn(WT),ZT=[9,13,27,32],xf=kr&&"CompositionEvent"in window,al=null;kr&&"documentMode"in document&&(al=document.documentMode);var QT=kr&&"TextEvent"in window&&!al,Wb=kr&&(!xf||al&&8<al&&11>=al),Kb=" ",Zb=!1;function Qb(s,o){switch(s){case"keyup":return ZT.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jb(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ja=!1;function JT(s,o){switch(s){case"compositionend":return Jb(o);case"keypress":return o.which!==32?null:(Zb=!0,Kb);case"textInput":return s=o.data,s===Kb&&Zb?null:s;default:return null}}function t2(s,o){if(ja)return s==="compositionend"||!xf&&Qb(s,o)?(s=qb(),cu=yf=ss=null,ja=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Wb&&o.locale!=="ko"?null:o.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!e2[s.type]:o==="textarea"}function ev(s,o,u,f){La?Pa?Pa.push(f):Pa=[f]:La=f,o=nd(o,"onChange"),0<o.length&&(u=new hu("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var ol=null,ll=null;function n2(s){B1(s,0)}function pu(s){var o=el(s);if(jb(o))return s}function nv(s,o){if(s==="change")return o}var iv=!1;if(kr){var wf;if(kr){var Af="oninput"in document;if(!Af){var rv=document.createElement("div");rv.setAttribute("oninput","return;"),Af=typeof rv.oninput=="function"}wf=Af}else wf=!1;iv=wf&&(!document.documentMode||9<document.documentMode)}function sv(){ol&&(ol.detachEvent("onpropertychange",av),ll=ol=null)}function av(s){if(s.propertyName==="value"&&pu(ll)){var o=[];ev(o,ll,s,pf(s)),$b(n2,o)}}function i2(s,o,u){s==="focusin"?(sv(),ol=o,ll=u,ol.attachEvent("onpropertychange",av)):s==="focusout"&&sv()}function r2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pu(ll)}function s2(s,o){if(s==="click")return pu(o)}function a2(s,o){if(s==="input"||s==="change")return pu(o)}function o2(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ui=typeof Object.is=="function"?Object.is:o2;function cl(s,o){if(ui(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!fe.call(o,g)||!ui(s[g],o[g]))return!1}return!0}function ov(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function lv(s,o){var u=ov(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=ov(u)}}function cv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?cv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function uv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ou(s.document);o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=ou(s.document)}return o}function Ef(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var l2=kr&&"documentMode"in document&&11>=document.documentMode,Ba=null,Cf=null,ul=null,Tf=!1;function dv(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tf||Ba==null||Ba!==ou(f)||(f=Ba,"selectionStart"in f&&Ef(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ul&&cl(ul,f)||(ul=f,f=nd(Cf,"onSelect"),0<f.length&&(o=new hu("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=Ba)))}function Hs(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Fa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},kf={},hv={};kr&&(hv=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function $s(s){if(kf[s])return kf[s];if(!Fa[s])return s;var o=Fa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in hv)return kf[s]=o[u];return s}var fv=$s("animationend"),pv=$s("animationiteration"),mv=$s("animationstart"),c2=$s("transitionrun"),u2=$s("transitionstart"),d2=$s("transitioncancel"),gv=$s("transitionend"),yv=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function $i(s,o){yv.set(s,o),zs(o,[s])}var mu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ti=[],Ia=0,Rf=0;function gu(){for(var s=Ia,o=Rf=Ia=0;o<s;){var u=Ti[o];Ti[o++]=null;var f=Ti[o];Ti[o++]=null;var g=Ti[o];Ti[o++]=null;var v=Ti[o];if(Ti[o++]=null,f!==null&&g!==null){var M=f.pending;M===null?g.next=g:(g.next=M.next,M.next=g),f.pending=g}v!==0&&bv(u,g,v)}}function yu(s,o,u,f){Ti[Ia++]=s,Ti[Ia++]=o,Ti[Ia++]=u,Ti[Ia++]=f,Rf|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Mf(s,o,u,f){return yu(s,o,u,f),bu(s)}function qs(s,o){return yu(s,null,null,o),bu(s)}function bv(s,o,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var g=!1,v=s.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(s=v.stateNode,s===null||s._visibility&1||(g=!0)),s=v,v=v.return;return s.tag===3?(v=s.stateNode,g&&o!==null&&(g=31-be(u),s=v.hiddenUpdates,f=s[g],f===null?s[g]=[o]:f.push(o),o.lane=u|536870912),v):null}function bu(s){if(50<Nl)throw Nl=0,zp=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var za={};function h2(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,o,u,f){return new h2(s,o,u,f)}function Nf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Or(s,o){var u=s.alternate;return u===null?(u=di(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function vv(s,o){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,o=u.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function vu(s,o,u,f,g,v){var M=0;if(f=s,typeof s=="function")Nf(s)&&(M=1);else if(typeof s=="string")M=yk(s,u,Q.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=di(31,u,o,g),s.elementType=N,s.lanes=v,s;case _:return Vs(u.children,g,v,o);case E:M=8,g|=24;break;case w:return s=di(12,u,o,g|2),s.elementType=w,s.lanes=v,s;case O:return s=di(13,u,o,g),s.elementType=O,s.lanes=v,s;case R:return s=di(19,u,o,g),s.elementType=R,s.lanes=v,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:M=10;break t;case T:M=9;break t;case F:M=11;break t;case D:M=14;break t;case j:M=16,f=null;break t}M=29,u=Error(i(130,s===null?"null":typeof s,"")),f=null}return o=di(M,u,o,g),o.elementType=s,o.type=f,o.lanes=v,o}function Vs(s,o,u,f){return s=di(7,s,f,o),s.lanes=u,s}function Df(s,o,u){return s=di(6,s,null,o),s.lanes=u,s}function _v(s){var o=di(18,null,null,0);return o.stateNode=s,o}function Lf(s,o,u){return o=di(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Sv=new WeakMap;function ki(s,o){if(typeof s=="object"&&s!==null){var u=Sv.get(s);return u!==void 0?u:(o={value:s,source:o,stack:he(o)},Sv.set(s,o),o)}return{value:s,source:o,stack:he(o)}}var Ua=[],Ha=0,_u=null,dl=0,Oi=[],Ri=0,as=null,sr=1,ar="";function Rr(s,o){Ua[Ha++]=dl,Ua[Ha++]=_u,_u=s,dl=o}function xv(s,o,u){Oi[Ri++]=sr,Oi[Ri++]=ar,Oi[Ri++]=as,as=s;var f=sr;s=ar;var g=32-be(f)-1;f&=~(1<<g),u+=1;var v=32-be(o)+g;if(30<v){var M=g-g%5;v=(f&(1<<M)-1).toString(32),f>>=M,g-=M,sr=1<<32-be(o)+g|u<<g|f,ar=v+s}else sr=1<<v|u<<g|f,ar=s}function Pf(s){s.return!==null&&(Rr(s,1),xv(s,1,0))}function jf(s){for(;s===_u;)_u=Ua[--Ha],Ua[Ha]=null,dl=Ua[--Ha],Ua[Ha]=null;for(;s===as;)as=Oi[--Ri],Oi[Ri]=null,ar=Oi[--Ri],Oi[Ri]=null,sr=Oi[--Ri],Oi[Ri]=null}function wv(s,o){Oi[Ri++]=sr,Oi[Ri++]=ar,Oi[Ri++]=as,sr=o.id,ar=o.overflow,as=s}var En=null,De=null,ce=!1,os=null,Mi=!1,Bf=Error(i(519));function ls(s){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hl(ki(o,s)),Bf}function Av(s){var o=s.stateNode,u=s.type,f=s.memoizedProps;switch(o[An]=s,o[Xn]=f,u){case"dialog":re("cancel",o),re("close",o);break;case"iframe":case"object":case"embed":re("load",o);break;case"video":case"audio":for(u=0;u<Ll.length;u++)re(Ll[u],o);break;case"source":re("error",o);break;case"img":case"image":case"link":re("error",o),re("load",o);break;case"details":re("toggle",o);break;case"input":re("invalid",o),Bb(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":re("invalid",o);break;case"textarea":re("invalid",o),Ib(o,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||U1(o.textContent,u)?(f.popover!=null&&(re("beforetoggle",o),re("toggle",o)),f.onScroll!=null&&re("scroll",o),f.onScrollEnd!=null&&re("scrollend",o),f.onClick!=null&&(o.onclick=Tr),o=!0):o=!1,o||ls(s,!0)}function Ev(s){for(En=s.return;En;)switch(En.tag){case 5:case 31:case 13:Mi=!1;return;case 27:case 3:Mi=!0;return;default:En=En.return}}function $a(s){if(s!==En)return!1;if(!ce)return Ev(s),ce=!0,!1;var o=s.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||em(s.type,s.memoizedProps)),u=!u),u&&De&&ls(s),Ev(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));De=K1(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));De=K1(s)}else o===27?(o=De,xs(s.type)?(s=am,am=null,De=s):De=o):De=En?Di(s.stateNode.nextSibling):null;return!0}function Gs(){De=En=null,ce=!1}function Ff(){var s=os;return s!==null&&(Qn===null?Qn=s:Qn.push.apply(Qn,s),os=null),s}function hl(s){os===null?os=[s]:os.push(s)}var If=P(null),Xs=null,Mr=null;function cs(s,o,u){B(If,o._currentValue),o._currentValue=u}function Nr(s){s._currentValue=If.current,V(If)}function zf(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function Uf(s,o,u,f){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var v=g.dependencies;if(v!==null){var M=g.child;v=v.firstContext;t:for(;v!==null;){var z=v;v=g;for(var K=0;K<o.length;K++)if(z.context===o[K]){v.lanes|=u,z=v.alternate,z!==null&&(z.lanes|=u),zf(v.return,u,s),f||(M=null);break t}v=z.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(i(341));M.lanes|=u,v=M.alternate,v!==null&&(v.lanes|=u),zf(M,u,s),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===s){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function qa(s,o,u,f){s=null;for(var g=o,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var z=g.type;ui(g.pendingProps.value,M.value)||(s!==null?s.push(z):s=[z])}}else if(g===ct.current){if(M=g.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Il):s=[Il])}g=g.return}s!==null&&Uf(o,s,u,f),o.flags|=262144}function Su(s){for(s=s.firstContext;s!==null;){if(!ui(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ys(s){Xs=s,Mr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Cn(s){return Cv(Xs,s)}function xu(s,o){return Xs===null&&Ys(s),Cv(s,o)}function Cv(s,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Mr===null){if(s===null)throw Error(i(308));Mr=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Mr=Mr.next=o;return u}var f2=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){o.aborted=!0,s.forEach(function(u){return u()})}},p2=n.unstable_scheduleCallback,m2=n.unstable_NormalPriority,an={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new f2,data:new Map,refCount:0}}function fl(s){s.refCount--,s.refCount===0&&p2(m2,function(){s.controller.abort()})}var pl=null,$f=0,Va=0,Ga=null;function g2(s,o){if(pl===null){var u=pl=[];$f=0,Va=Gp(),Ga={status:"pending",value:void 0,then:function(f){u.push(f)}}}return $f++,o.then(Tv,Tv),o}function Tv(){if(--$f===0&&pl!==null){Ga!==null&&(Ga.status="fulfilled");var s=pl;pl=null,Va=0,Ga=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function y2(s,o){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return s.then(function(){f.status="fulfilled",f.value=o;for(var g=0;g<u.length;g++)(0,u[g])(o)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var kv=U.S;U.S=function(s,o){d1=gt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&g2(s,o),kv!==null&&kv(s,o)};var Ws=P(null);function qf(){var s=Ws.current;return s!==null?s:Ee.pooledCache}function wu(s,o){o===null?B(Ws,Ws.current):B(Ws,o.pool)}function Ov(){var s=qf();return s===null?null:{parent:an._currentValue,pool:s}}var Xa=Error(i(460)),Vf=Error(i(474)),Au=Error(i(542)),Eu={then:function(){}};function Rv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Mv(s,o,u){switch(u=s[u],u===void 0?s.push(o):u!==o&&(o.then(Tr,Tr),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Dv(s),s;default:if(typeof o.status=="string")o.then(Tr,Tr);else{if(s=Ee,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(f){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=f}},function(f){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Dv(s),s}throw Zs=o,Xa}}function Ks(s){try{var o=s._init;return o(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Zs=u,Xa):u}}var Zs=null;function Nv(){if(Zs===null)throw Error(i(459));var s=Zs;return Zs=null,s}function Dv(s){if(s===Xa||s===Au)throw Error(i(483))}var Ya=null,ml=0;function Cu(s){var o=ml;return ml+=1,Ya===null&&(Ya=[]),Mv(Ya,s,o)}function gl(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Tu(s,o){throw o.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Lv(s){function o(et,Z){if(s){var it=et.deletions;it===null?(et.deletions=[Z],et.flags|=16):it.push(Z)}}function u(et,Z){if(!s)return null;for(;Z!==null;)o(et,Z),Z=Z.sibling;return null}function f(et){for(var Z=new Map;et!==null;)et.key!==null?Z.set(et.key,et):Z.set(et.index,et),et=et.sibling;return Z}function g(et,Z){return et=Or(et,Z),et.index=0,et.sibling=null,et}function v(et,Z,it){return et.index=it,s?(it=et.alternate,it!==null?(it=it.index,it<Z?(et.flags|=67108866,Z):it):(et.flags|=67108866,Z)):(et.flags|=1048576,Z)}function M(et){return s&&et.alternate===null&&(et.flags|=67108866),et}function z(et,Z,it,pt){return Z===null||Z.tag!==6?(Z=Df(it,et.mode,pt),Z.return=et,Z):(Z=g(Z,it),Z.return=et,Z)}function K(et,Z,it,pt){var Pt=it.type;return Pt===_?ft(et,Z,it.props.children,pt,it.key):Z!==null&&(Z.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===j&&Ks(Pt)===Z.type)?(Z=g(Z,it.props),gl(Z,it),Z.return=et,Z):(Z=vu(it.type,it.key,it.props,null,et.mode,pt),gl(Z,it),Z.return=et,Z)}function rt(et,Z,it,pt){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==it.containerInfo||Z.stateNode.implementation!==it.implementation?(Z=Lf(it,et.mode,pt),Z.return=et,Z):(Z=g(Z,it.children||[]),Z.return=et,Z)}function ft(et,Z,it,pt,Pt){return Z===null||Z.tag!==7?(Z=Vs(it,et.mode,pt,Pt),Z.return=et,Z):(Z=g(Z,it),Z.return=et,Z)}function mt(et,Z,it){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Df(""+Z,et.mode,it),Z.return=et,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return it=vu(Z.type,Z.key,Z.props,null,et.mode,it),gl(it,Z),it.return=et,it;case S:return Z=Lf(Z,et.mode,it),Z.return=et,Z;case j:return Z=Ks(Z),mt(et,Z,it)}if(Y(Z)||H(Z))return Z=Vs(Z,et.mode,it,null),Z.return=et,Z;if(typeof Z.then=="function")return mt(et,Cu(Z),it);if(Z.$$typeof===k)return mt(et,xu(et,Z),it);Tu(et,Z)}return null}function at(et,Z,it,pt){var Pt=Z!==null?Z.key:null;if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return Pt!==null?null:z(et,Z,""+it,pt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case b:return it.key===Pt?K(et,Z,it,pt):null;case S:return it.key===Pt?rt(et,Z,it,pt):null;case j:return it=Ks(it),at(et,Z,it,pt)}if(Y(it)||H(it))return Pt!==null?null:ft(et,Z,it,pt,null);if(typeof it.then=="function")return at(et,Z,Cu(it),pt);if(it.$$typeof===k)return at(et,Z,xu(et,it),pt);Tu(et,it)}return null}function ut(et,Z,it,pt,Pt){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return et=et.get(it)||null,z(Z,et,""+pt,Pt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case b:return et=et.get(pt.key===null?it:pt.key)||null,K(Z,et,pt,Pt);case S:return et=et.get(pt.key===null?it:pt.key)||null,rt(Z,et,pt,Pt);case j:return pt=Ks(pt),ut(et,Z,it,pt,Pt)}if(Y(pt)||H(pt))return et=et.get(it)||null,ft(Z,et,pt,Pt,null);if(typeof pt.then=="function")return ut(et,Z,it,Cu(pt),Pt);if(pt.$$typeof===k)return ut(et,Z,it,xu(Z,pt),Pt);Tu(Z,pt)}return null}function Ot(et,Z,it,pt){for(var Pt=null,pe=null,Mt=Z,Zt=Z=0,ae=null;Mt!==null&&Zt<it.length;Zt++){Mt.index>Zt?(ae=Mt,Mt=null):ae=Mt.sibling;var me=at(et,Mt,it[Zt],pt);if(me===null){Mt===null&&(Mt=ae);break}s&&Mt&&me.alternate===null&&o(et,Mt),Z=v(me,Z,Zt),pe===null?Pt=me:pe.sibling=me,pe=me,Mt=ae}if(Zt===it.length)return u(et,Mt),ce&&Rr(et,Zt),Pt;if(Mt===null){for(;Zt<it.length;Zt++)Mt=mt(et,it[Zt],pt),Mt!==null&&(Z=v(Mt,Z,Zt),pe===null?Pt=Mt:pe.sibling=Mt,pe=Mt);return ce&&Rr(et,Zt),Pt}for(Mt=f(Mt);Zt<it.length;Zt++)ae=ut(Mt,et,Zt,it[Zt],pt),ae!==null&&(s&&ae.alternate!==null&&Mt.delete(ae.key===null?Zt:ae.key),Z=v(ae,Z,Zt),pe===null?Pt=ae:pe.sibling=ae,pe=ae);return s&&Mt.forEach(function(Ts){return o(et,Ts)}),ce&&Rr(et,Zt),Pt}function Ft(et,Z,it,pt){if(it==null)throw Error(i(151));for(var Pt=null,pe=null,Mt=Z,Zt=Z=0,ae=null,me=it.next();Mt!==null&&!me.done;Zt++,me=it.next()){Mt.index>Zt?(ae=Mt,Mt=null):ae=Mt.sibling;var Ts=at(et,Mt,me.value,pt);if(Ts===null){Mt===null&&(Mt=ae);break}s&&Mt&&Ts.alternate===null&&o(et,Mt),Z=v(Ts,Z,Zt),pe===null?Pt=Ts:pe.sibling=Ts,pe=Ts,Mt=ae}if(me.done)return u(et,Mt),ce&&Rr(et,Zt),Pt;if(Mt===null){for(;!me.done;Zt++,me=it.next())me=mt(et,me.value,pt),me!==null&&(Z=v(me,Z,Zt),pe===null?Pt=me:pe.sibling=me,pe=me);return ce&&Rr(et,Zt),Pt}for(Mt=f(Mt);!me.done;Zt++,me=it.next())me=ut(Mt,et,Zt,me.value,pt),me!==null&&(s&&me.alternate!==null&&Mt.delete(me.key===null?Zt:me.key),Z=v(me,Z,Zt),pe===null?Pt=me:pe.sibling=me,pe=me);return s&&Mt.forEach(function(kk){return o(et,kk)}),ce&&Rr(et,Zt),Pt}function we(et,Z,it,pt){if(typeof it=="object"&&it!==null&&it.type===_&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case b:t:{for(var Pt=it.key;Z!==null;){if(Z.key===Pt){if(Pt=it.type,Pt===_){if(Z.tag===7){u(et,Z.sibling),pt=g(Z,it.props.children),pt.return=et,et=pt;break t}}else if(Z.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===j&&Ks(Pt)===Z.type){u(et,Z.sibling),pt=g(Z,it.props),gl(pt,it),pt.return=et,et=pt;break t}u(et,Z);break}else o(et,Z);Z=Z.sibling}it.type===_?(pt=Vs(it.props.children,et.mode,pt,it.key),pt.return=et,et=pt):(pt=vu(it.type,it.key,it.props,null,et.mode,pt),gl(pt,it),pt.return=et,et=pt)}return M(et);case S:t:{for(Pt=it.key;Z!==null;){if(Z.key===Pt)if(Z.tag===4&&Z.stateNode.containerInfo===it.containerInfo&&Z.stateNode.implementation===it.implementation){u(et,Z.sibling),pt=g(Z,it.children||[]),pt.return=et,et=pt;break t}else{u(et,Z);break}else o(et,Z);Z=Z.sibling}pt=Lf(it,et.mode,pt),pt.return=et,et=pt}return M(et);case j:return it=Ks(it),we(et,Z,it,pt)}if(Y(it))return Ot(et,Z,it,pt);if(H(it)){if(Pt=H(it),typeof Pt!="function")throw Error(i(150));return it=Pt.call(it),Ft(et,Z,it,pt)}if(typeof it.then=="function")return we(et,Z,Cu(it),pt);if(it.$$typeof===k)return we(et,Z,xu(et,it),pt);Tu(et,it)}return typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint"?(it=""+it,Z!==null&&Z.tag===6?(u(et,Z.sibling),pt=g(Z,it),pt.return=et,et=pt):(u(et,Z),pt=Df(it,et.mode,pt),pt.return=et,et=pt),M(et)):u(et,Z)}return function(et,Z,it,pt){try{ml=0;var Pt=we(et,Z,it,pt);return Ya=null,Pt}catch(Mt){if(Mt===Xa||Mt===Au)throw Mt;var pe=di(29,Mt,null,et.mode);return pe.lanes=pt,pe.return=et,pe}finally{}}}var Qs=Lv(!0),Pv=Lv(!1),us=!1;function Gf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ds(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function hs(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ge&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,o=bu(s),bv(s,null,u),o}return yu(s,f,o,u),bu(s)}function yl(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Cb(s,u)}}function Yf(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var M={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=M:v=v.next=M,u=u.next}while(u!==null);v===null?g=v=o:v=v.next=o}else g=v=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}var Wf=!1;function bl(){if(Wf){var s=Ga;if(s!==null)throw s}}function vl(s,o,u,f){Wf=!1;var g=s.updateQueue;us=!1;var v=g.firstBaseUpdate,M=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var K=z,rt=K.next;K.next=null,M===null?v=rt:M.next=rt,M=K;var ft=s.alternate;ft!==null&&(ft=ft.updateQueue,z=ft.lastBaseUpdate,z!==M&&(z===null?ft.firstBaseUpdate=rt:z.next=rt,ft.lastBaseUpdate=K))}if(v!==null){var mt=g.baseState;M=0,ft=rt=K=null,z=v;do{var at=z.lane&-536870913,ut=at!==z.lane;if(ut?(se&at)===at:(f&at)===at){at!==0&&at===Va&&(Wf=!0),ft!==null&&(ft=ft.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var Ot=s,Ft=z;at=o;var we=u;switch(Ft.tag){case 1:if(Ot=Ft.payload,typeof Ot=="function"){mt=Ot.call(we,mt,at);break t}mt=Ot;break t;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=Ft.payload,at=typeof Ot=="function"?Ot.call(we,mt,at):Ot,at==null)break t;mt=m({},mt,at);break t;case 2:us=!0}}at=z.callback,at!==null&&(s.flags|=64,ut&&(s.flags|=8192),ut=g.callbacks,ut===null?g.callbacks=[at]:ut.push(at))}else ut={lane:at,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ft===null?(rt=ft=ut,K=mt):ft=ft.next=ut,M|=at;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;ut=z,z=ut.next,ut.next=null,g.lastBaseUpdate=ut,g.shared.pending=null}}while(!0);ft===null&&(K=mt),g.baseState=K,g.firstBaseUpdate=rt,g.lastBaseUpdate=ft,v===null&&(g.shared.lanes=0),ys|=M,s.lanes=M,s.memoizedState=mt}}function jv(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Bv(s,o){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)jv(u[s],o)}var Wa=P(null),ku=P(0);function Fv(s,o){s=Ur,B(ku,s),B(Wa,o),Ur=s|o.baseLanes}function Kf(){B(ku,Ur),B(Wa,Wa.current)}function Zf(){Ur=ku.current,V(Wa),V(ku)}var hi=P(null),Ni=null;function fs(s){var o=s.alternate;B(Ze,Ze.current&1),B(hi,s),Ni===null&&(o===null||Wa.current!==null||o.memoizedState!==null)&&(Ni=s)}function Qf(s){B(Ze,Ze.current),B(hi,s),Ni===null&&(Ni=s)}function Iv(s){s.tag===22?(B(Ze,Ze.current),B(hi,s),Ni===null&&(Ni=s)):ps()}function ps(){B(Ze,Ze.current),B(hi,hi.current)}function fi(s){V(hi),Ni===s&&(Ni=null),V(Ze)}var Ze=P(0);function Ou(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||rm(u)||sm(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dr=0,Wt=null,Se=null,on=null,Ru=!1,Ka=!1,Js=!1,Mu=0,_l=0,Za=null,b2=0;function Ye(){throw Error(i(321))}function Jf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ui(s[u],o[u]))return!1;return!0}function tp(s,o,u,f,g,v){return Dr=v,Wt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=s===null||s.memoizedState===null?x0:mp,Js=!1,v=u(f,g),Js=!1,Ka&&(v=Uv(o,u,f,g)),zv(s),v}function zv(s){U.H=wl;var o=Se!==null&&Se.next!==null;if(Dr=0,on=Se=Wt=null,Ru=!1,_l=0,Za=null,o)throw Error(i(300));s===null||ln||(s=s.dependencies,s!==null&&Su(s)&&(ln=!0))}function Uv(s,o,u,f){Wt=s;var g=0;do{if(Ka&&(Za=null),_l=0,Ka=!1,25<=g)throw Error(i(301));if(g+=1,on=Se=null,s.updateQueue!=null){var v=s.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}U.H=w0,v=o(u,f)}while(Ka);return v}function v2(){var s=U.H,o=s.useState()[0];return o=typeof o.then=="function"?Sl(o):o,s=s.useState()[0],(Se!==null?Se.memoizedState:null)!==s&&(Wt.flags|=1024),o}function ep(){var s=Mu!==0;return Mu=0,s}function np(s,o,u){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~u}function ip(s){if(Ru){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ru=!1}Dr=0,on=Se=Wt=null,Ka=!1,_l=Mu=0,Za=null}function In(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Wt.memoizedState=on=s:on=on.next=s,on}function Qe(){if(Se===null){var s=Wt.alternate;s=s!==null?s.memoizedState:null}else s=Se.next;var o=on===null?Wt.memoizedState:on.next;if(o!==null)on=o,Se=s;else{if(s===null)throw Wt.alternate===null?Error(i(467)):Error(i(310));Se=s,s={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},on===null?Wt.memoizedState=on=s:on=on.next=s}return on}function Nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(s){var o=_l;return _l+=1,Za===null&&(Za=[]),s=Mv(Za,s,o),o=Wt,(on===null?o.memoizedState:on.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?x0:mp),s}function Du(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sl(s);if(s.$$typeof===k)return Cn(s)}throw Error(i(438,String(s)))}function rp(s){var o=null,u=Wt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Wt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Nu(),Wt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(s),f=0;f<s;f++)u[f]=L;return o.index++,u}function Lr(s,o){return typeof o=="function"?o(s):o}function Lu(s){var o=Qe();return sp(o,Se,s)}function sp(s,o,u){var f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var g=s.baseQueue,v=f.pending;if(v!==null){if(g!==null){var M=g.next;g.next=v.next,v.next=M}o.baseQueue=g=v,f.pending=null}if(v=s.baseState,g===null)s.memoizedState=v;else{o=g.next;var z=M=null,K=null,rt=o,ft=!1;do{var mt=rt.lane&-536870913;if(mt!==rt.lane?(se&mt)===mt:(Dr&mt)===mt){var at=rt.revertLane;if(at===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),mt===Va&&(ft=!0);else if((Dr&at)===at){rt=rt.next,at===Va&&(ft=!0);continue}else mt={lane:0,revertLane:rt.revertLane,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},K===null?(z=K=mt,M=v):K=K.next=mt,Wt.lanes|=at,ys|=at;mt=rt.action,Js&&u(v,mt),v=rt.hasEagerState?rt.eagerState:u(v,mt)}else at={lane:mt,revertLane:rt.revertLane,gesture:rt.gesture,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},K===null?(z=K=at,M=v):K=K.next=at,Wt.lanes|=mt,ys|=mt;rt=rt.next}while(rt!==null&&rt!==o);if(K===null?M=v:K.next=z,!ui(v,s.memoizedState)&&(ln=!0,ft&&(u=Ga,u!==null)))throw u;s.memoizedState=v,s.baseState=M,s.baseQueue=K,f.lastRenderedState=v}return g===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function ap(s){var o=Qe(),u=o.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,v=o.memoizedState;if(g!==null){u.pending=null;var M=g=g.next;do v=s(v,M.action),M=M.next;while(M!==g);ui(v,o.memoizedState)||(ln=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function Hv(s,o,u){var f=Wt,g=Qe(),v=ce;if(v){if(u===void 0)throw Error(i(407));u=u()}else u=o();var M=!ui((Se||g).memoizedState,u);if(M&&(g.memoizedState=u,ln=!0),g=g.queue,cp(Vv.bind(null,f,g,s),[s]),g.getSnapshot!==o||M||on!==null&&on.memoizedState.tag&1){if(f.flags|=2048,Qa(9,{destroy:void 0},qv.bind(null,f,g,u,o),null),Ee===null)throw Error(i(349));v||(Dr&127)!==0||$v(f,o,u)}return u}function $v(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Wt.updateQueue,o===null?(o=Nu(),Wt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function qv(s,o,u,f){o.value=u,o.getSnapshot=f,Gv(o)&&Xv(s)}function Vv(s,o,u){return u(function(){Gv(o)&&Xv(s)})}function Gv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ui(s,u)}catch{return!0}}function Xv(s){var o=qs(s,2);o!==null&&Jn(o,s,2)}function op(s){var o=In();if(typeof s=="function"){var u=s;if(s=u(),Js){Dn(!0);try{u()}finally{Dn(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:s},o}function Yv(s,o,u,f){return s.baseState=u,sp(s,Se,typeof f=="function"?f:Lr)}function _2(s,o,u,f,g){if(Bu(s))throw Error(i(485));if(s=o.action,s!==null){var v={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){v.listeners.push(M)}};U.T!==null?u(!0):v.isTransition=!1,f(v),u=o.pending,u===null?(v.next=o.pending=v,Wv(o,v)):(v.next=u.next,o.pending=u.next=v)}}function Wv(s,o){var u=o.action,f=o.payload,g=s.state;if(o.isTransition){var v=U.T,M={};U.T=M;try{var z=u(g,f),K=U.S;K!==null&&K(M,z),Kv(s,o,z)}catch(rt){lp(s,o,rt)}finally{v!==null&&M.types!==null&&(v.types=M.types),U.T=v}}else try{v=u(g,f),Kv(s,o,v)}catch(rt){lp(s,o,rt)}}function Kv(s,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Zv(s,o,f)},function(f){return lp(s,o,f)}):Zv(s,o,u)}function Zv(s,o,u){o.status="fulfilled",o.value=u,Qv(o),s.state=u,o=s.pending,o!==null&&(u=o.next,u===o?s.pending=null:(u=u.next,o.next=u,Wv(s,u)))}function lp(s,o,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,Qv(o),o=o.next;while(o!==f)}s.action=null}function Qv(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Jv(s,o){return o}function t0(s,o){if(ce){var u=Ee.formState;if(u!==null){t:{var f=Wt;if(ce){if(De){e:{for(var g=De,v=Mi;g.nodeType!==8;){if(!v){g=null;break e}if(g=Di(g.nextSibling),g===null){g=null;break e}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){De=Di(g.nextSibling),f=g.data==="F!";break t}}ls(f)}f=!1}f&&(o=u[0])}}return u=In(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:o},u.queue=f,u=v0.bind(null,Wt,f),f.dispatch=u,f=op(!1),v=pp.bind(null,Wt,!1,f.queue),f=In(),g={state:o,dispatch:null,action:s,pending:null},f.queue=g,u=_2.bind(null,Wt,g,v,u),g.dispatch=u,f.memoizedState=s,[o,u,!1]}function e0(s){var o=Qe();return n0(o,Se,s)}function n0(s,o,u){if(o=sp(s,o,Jv)[0],s=Lu(Lr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=Sl(o)}catch(M){throw M===Xa?Au:M}else f=o;o=Qe();var g=o.queue,v=g.dispatch;return u!==o.memoizedState&&(Wt.flags|=2048,Qa(9,{destroy:void 0},S2.bind(null,g,u),null)),[f,v,s]}function S2(s,o){s.action=o}function i0(s){var o=Qe(),u=Se;if(u!==null)return n0(o,u,s);Qe(),o=o.memoizedState,u=Qe();var f=u.queue.dispatch;return u.memoizedState=s,[o,f,!1]}function Qa(s,o,u,f){return s={tag:s,create:u,deps:f,inst:o,next:null},o=Wt.updateQueue,o===null&&(o=Nu(),Wt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s),s}function r0(){return Qe().memoizedState}function Pu(s,o,u,f){var g=In();Wt.flags|=s,g.memoizedState=Qa(1|o,{destroy:void 0},u,f===void 0?null:f)}function ju(s,o,u,f){var g=Qe();f=f===void 0?null:f;var v=g.memoizedState.inst;Se!==null&&f!==null&&Jf(f,Se.memoizedState.deps)?g.memoizedState=Qa(o,v,u,f):(Wt.flags|=s,g.memoizedState=Qa(1|o,v,u,f))}function s0(s,o){Pu(8390656,8,s,o)}function cp(s,o){ju(2048,8,s,o)}function x2(s){Wt.flags|=4;var o=Wt.updateQueue;if(o===null)o=Nu(),Wt.updateQueue=o,o.events=[s];else{var u=o.events;u===null?o.events=[s]:u.push(s)}}function a0(s){var o=Qe().memoizedState;return x2({ref:o,nextImpl:s}),function(){if((ge&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function o0(s,o){return ju(4,2,s,o)}function l0(s,o){return ju(4,4,s,o)}function c0(s,o){if(typeof o=="function"){s=s();var u=o(s);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function u0(s,o,u){u=u!=null?u.concat([s]):null,ju(4,4,c0.bind(null,o,s),u)}function up(){}function d0(s,o){var u=Qe();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&Jf(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function h0(s,o){var u=Qe();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&Jf(o,f[1]))return f[0];if(f=s(),Js){Dn(!0);try{s()}finally{Dn(!1)}}return u.memoizedState=[f,o],f}function dp(s,o,u){return u===void 0||(Dr&1073741824)!==0&&(se&261930)===0?s.memoizedState=o:(s.memoizedState=u,s=f1(),Wt.lanes|=s,ys|=s,u)}function f0(s,o,u,f){return ui(u,o)?u:Wa.current!==null?(s=dp(s,u,f),ui(s,o)||(ln=!0),s):(Dr&42)===0||(Dr&1073741824)!==0&&(se&261930)===0?(ln=!0,s.memoizedState=u):(s=f1(),Wt.lanes|=s,ys|=s,o)}function p0(s,o,u,f,g){var v=C.p;C.p=v!==0&&8>v?v:8;var M=U.T,z={};U.T=z,pp(s,!1,o,u);try{var K=g(),rt=U.S;if(rt!==null&&rt(z,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ft=y2(K,f);xl(s,o,ft,gi(s))}else xl(s,o,f,gi(s))}catch(mt){xl(s,o,{then:function(){},status:"rejected",reason:mt},gi())}finally{C.p=v,M!==null&&z.types!==null&&(M.types=z.types),U.T=M}}function w2(){}function hp(s,o,u,f){if(s.tag!==5)throw Error(i(476));var g=m0(s).queue;p0(s,g,o,J,u===null?w2:function(){return g0(s),u(f)})}function m0(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:J},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:u},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function g0(s){var o=m0(s);o.next===null&&(o=s.alternate.memoizedState),xl(s,o.next.queue,{},gi())}function fp(){return Cn(Il)}function y0(){return Qe().memoizedState}function b0(){return Qe().memoizedState}function A2(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var u=gi();s=ds(u);var f=hs(o,s,u);f!==null&&(Jn(f,o,u),yl(f,o,u)),o={cache:Hf()},s.payload=o;return}o=o.return}}function E2(s,o,u){var f=gi();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Bu(s)?_0(o,u):(u=Mf(s,o,u,f),u!==null&&(Jn(u,s,f),S0(u,o,f)))}function v0(s,o,u){var f=gi();xl(s,o,u,f)}function xl(s,o,u,f){var g={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Bu(s))_0(o,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var M=o.lastRenderedState,z=v(M,u);if(g.hasEagerState=!0,g.eagerState=z,ui(z,M))return yu(s,o,g,0),Ee===null&&gu(),!1}catch{}finally{}if(u=Mf(s,o,g,f),u!==null)return Jn(u,s,f),S0(u,o,f),!0}return!1}function pp(s,o,u,f){if(f={lane:2,revertLane:Gp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Bu(s)){if(o)throw Error(i(479))}else o=Mf(s,u,f,2),o!==null&&Jn(o,s,2)}function Bu(s){var o=s.alternate;return s===Wt||o!==null&&o===Wt}function _0(s,o){Ka=Ru=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function S0(s,o,u){if((u&4194048)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Cb(s,u)}}var wl={readContext:Cn,use:Du,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};wl.useEffectEvent=Ye;var x0={readContext:Cn,use:Du,useCallback:function(s,o){return In().memoizedState=[s,o===void 0?null:o],s},useContext:Cn,useEffect:s0,useImperativeHandle:function(s,o,u){u=u!=null?u.concat([s]):null,Pu(4194308,4,c0.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Pu(4194308,4,s,o)},useInsertionEffect:function(s,o){Pu(4,2,s,o)},useMemo:function(s,o){var u=In();o=o===void 0?null:o;var f=s();if(Js){Dn(!0);try{s()}finally{Dn(!1)}}return u.memoizedState=[f,o],f},useReducer:function(s,o,u){var f=In();if(u!==void 0){var g=u(o);if(Js){Dn(!0);try{u(o)}finally{Dn(!1)}}}else g=o;return f.memoizedState=f.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},f.queue=s,s=s.dispatch=E2.bind(null,Wt,s),[f.memoizedState,s]},useRef:function(s){var o=In();return s={current:s},o.memoizedState=s},useState:function(s){s=op(s);var o=s.queue,u=v0.bind(null,Wt,o);return o.dispatch=u,[s.memoizedState,u]},useDebugValue:up,useDeferredValue:function(s,o){var u=In();return dp(u,s,o)},useTransition:function(){var s=op(!1);return s=p0.bind(null,Wt,s.queue,!0,!1),In().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,u){var f=Wt,g=In();if(ce){if(u===void 0)throw Error(i(407));u=u()}else{if(u=o(),Ee===null)throw Error(i(349));(se&127)!==0||$v(f,o,u)}g.memoizedState=u;var v={value:u,getSnapshot:o};return g.queue=v,s0(Vv.bind(null,f,v,s),[s]),f.flags|=2048,Qa(9,{destroy:void 0},qv.bind(null,f,v,u,o),null),u},useId:function(){var s=In(),o=Ee.identifierPrefix;if(ce){var u=ar,f=sr;u=(f&~(1<<32-be(f)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Mu++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=b2++,o="_"+o+"r_"+u.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:fp,useFormState:t0,useActionState:t0,useOptimistic:function(s){var o=In();o.memoizedState=o.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=pp.bind(null,Wt,!0,u),u.dispatch=o,[s,o]},useMemoCache:rp,useCacheRefresh:function(){return In().memoizedState=A2.bind(null,Wt)},useEffectEvent:function(s){var o=In(),u={impl:s};return o.memoizedState=u,function(){if((ge&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},mp={readContext:Cn,use:Du,useCallback:d0,useContext:Cn,useEffect:cp,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:l0,useMemo:h0,useReducer:Lu,useRef:r0,useState:function(){return Lu(Lr)},useDebugValue:up,useDeferredValue:function(s,o){var u=Qe();return f0(u,Se.memoizedState,s,o)},useTransition:function(){var s=Lu(Lr)[0],o=Qe().memoizedState;return[typeof s=="boolean"?s:Sl(s),o]},useSyncExternalStore:Hv,useId:y0,useHostTransitionStatus:fp,useFormState:e0,useActionState:e0,useOptimistic:function(s,o){var u=Qe();return Yv(u,Se,s,o)},useMemoCache:rp,useCacheRefresh:b0};mp.useEffectEvent=a0;var w0={readContext:Cn,use:Du,useCallback:d0,useContext:Cn,useEffect:cp,useImperativeHandle:u0,useInsertionEffect:o0,useLayoutEffect:l0,useMemo:h0,useReducer:ap,useRef:r0,useState:function(){return ap(Lr)},useDebugValue:up,useDeferredValue:function(s,o){var u=Qe();return Se===null?dp(u,s,o):f0(u,Se.memoizedState,s,o)},useTransition:function(){var s=ap(Lr)[0],o=Qe().memoizedState;return[typeof s=="boolean"?s:Sl(s),o]},useSyncExternalStore:Hv,useId:y0,useHostTransitionStatus:fp,useFormState:i0,useActionState:i0,useOptimistic:function(s,o){var u=Qe();return Se!==null?Yv(u,Se,s,o):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:rp,useCacheRefresh:b0};w0.useEffectEvent=a0;function gp(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:m({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var yp={enqueueSetState:function(s,o,u){s=s._reactInternals;var f=gi(),g=ds(f);g.payload=o,u!=null&&(g.callback=u),o=hs(s,g,f),o!==null&&(Jn(o,s,f),yl(o,s,f))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=gi(),g=ds(f);g.tag=1,g.payload=o,u!=null&&(g.callback=u),o=hs(s,g,f),o!==null&&(Jn(o,s,f),yl(o,s,f))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=gi(),f=ds(u);f.tag=2,o!=null&&(f.callback=o),o=hs(s,f,u),o!==null&&(Jn(o,s,u),yl(o,s,u))}};function A0(s,o,u,f,g,v,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,M):o.prototype&&o.prototype.isPureReactComponent?!cl(u,f)||!cl(g,v):!0}function E0(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&yp.enqueueReplaceState(o,o.state,null)}function ta(s,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(s=s.defaultProps){u===o&&(u=m({},u));for(var g in s)u[g]===void 0&&(u[g]=s[g])}return u}function C0(s){mu(s)}function T0(s){console.error(s)}function k0(s){mu(s)}function Fu(s,o){try{var u=s.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function O0(s,o,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function bp(s,o,u){return u=ds(u),u.tag=3,u.payload={element:null},u.callback=function(){Fu(s,o)},u}function R0(s){return s=ds(s),s.tag=3,s}function M0(s,o,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=f.value;s.payload=function(){return g(v)},s.callback=function(){O0(o,u,f)}}var M=u.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(s.callback=function(){O0(o,u,f),typeof g!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var z=f.stack;this.componentDidCatch(f.value,{componentStack:z!==null?z:""})})}function C2(s,o,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&qa(o,u,g,!0),u=hi.current,u!==null){switch(u.tag){case 31:case 13:return Ni===null?Ku():u.alternate===null&&We===0&&(We=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===Eu?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),$p(s,f,g)),!1;case 22:return u.flags|=65536,f===Eu?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),$p(s,f,g)),!1}throw Error(i(435,u.tag))}return $p(s,f,g),Ku(),!1}if(ce)return o=hi.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,f!==Bf&&(s=Error(i(422),{cause:f}),hl(ki(s,u)))):(f!==Bf&&(o=Error(i(423),{cause:f}),hl(ki(o,u))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,f=ki(f,u),g=bp(s.stateNode,f,g),Yf(s,g),We!==4&&(We=2)),!1;var v=Error(i(520),{cause:f});if(v=ki(v,u),Ml===null?Ml=[v]:Ml.push(v),We!==4&&(We=2),o===null)return!0;f=ki(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,s=g&-g,u.lanes|=s,s=bp(u.stateNode,f,s),Yf(u,s),!1;case 1:if(o=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(bs===null||!bs.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=R0(g),M0(g,s,u,f),Yf(u,g),!1}u=u.return}while(u!==null);return!1}var vp=Error(i(461)),ln=!1;function Tn(s,o,u,f){o.child=s===null?Pv(o,null,u,f):Qs(o,s.child,u,f)}function N0(s,o,u,f,g){u=u.render;var v=o.ref;if("ref"in f){var M={};for(var z in f)z!=="ref"&&(M[z]=f[z])}else M=f;return Ys(o),f=tp(s,o,u,M,v,g),z=ep(),s!==null&&!ln?(np(s,o,g),Pr(s,o,g)):(ce&&z&&Pf(o),o.flags|=1,Tn(s,o,f,g),o.child)}function D0(s,o,u,f,g){if(s===null){var v=u.type;return typeof v=="function"&&!Nf(v)&&v.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=v,L0(s,o,v,f,g)):(s=vu(u.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!Tp(s,g)){var M=v.memoizedProps;if(u=u.compare,u=u!==null?u:cl,u(M,f)&&s.ref===o.ref)return Pr(s,o,g)}return o.flags|=1,s=Or(v,f),s.ref=o.ref,s.return=o,o.child=s}function L0(s,o,u,f,g){if(s!==null){var v=s.memoizedProps;if(cl(v,f)&&s.ref===o.ref)if(ln=!1,o.pendingProps=f=v,Tp(s,g))(s.flags&131072)!==0&&(ln=!0);else return o.lanes=s.lanes,Pr(s,o,g)}return _p(s,o,u,f,g)}function P0(s,o,u,f){var g=f.children,v=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(v=v!==null?v.baseLanes|u:u,s!==null){for(f=o.child=s.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;f=g&~v}else f=0,o.child=null;return j0(s,o,v,u,f)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&wu(o,v!==null?v.cachePool:null),v!==null?Fv(o,v):Kf(),Iv(o);else return f=o.lanes=536870912,j0(s,o,v!==null?v.baseLanes|u:u,u,f)}else v!==null?(wu(o,v.cachePool),Fv(o,v),ps(),o.memoizedState=null):(s!==null&&wu(o,null),Kf(),ps());return Tn(s,o,g,u),o.child}function Al(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function j0(s,o,u,f,g){var v=qf();return v=v===null?null:{parent:an._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},s!==null&&wu(o,null),Kf(),Iv(o),s!==null&&qa(s,o,f,!0),o.childLanes=g,null}function Iu(s,o){return o=Uu({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function B0(s,o,u){return Qs(o,s.child,null,u),s=Iu(o,o.pendingProps),s.flags|=2,fi(o),o.memoizedState=null,s}function T2(s,o,u){var f=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(ce){if(f.mode==="hidden")return s=Iu(o,f),o.lanes=536870912,Al(null,s);if(Qf(o),(s=De)?(s=W1(s,Mi),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:as!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},u=_v(s),u.return=o,o.child=u,En=o,De=null)):s=null,s===null)throw ls(o);return o.lanes=536870912,null}return Iu(o,f)}var v=s.memoizedState;if(v!==null){var M=v.dehydrated;if(Qf(o),g)if(o.flags&256)o.flags&=-257,o=B0(s,o,u);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(i(558));else if(ln||qa(s,o,u,!1),g=(u&s.childLanes)!==0,ln||g){if(f=Ee,f!==null&&(M=Tb(f,u),M!==0&&M!==v.retryLane))throw v.retryLane=M,qs(s,M),Jn(f,s,M),vp;Ku(),o=B0(s,o,u)}else s=v.treeContext,De=Di(M.nextSibling),En=o,ce=!0,os=null,Mi=!1,s!==null&&wv(o,s),o=Iu(o,f),o.flags|=4096;return o}return s=Or(s.child,{mode:f.mode,children:f.children}),s.ref=o.ref,o.child=s,s.return=o,s}function zu(s,o){var u=o.ref;if(u===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(o.flags|=4194816)}}function _p(s,o,u,f,g){return Ys(o),u=tp(s,o,u,f,void 0,g),f=ep(),s!==null&&!ln?(np(s,o,g),Pr(s,o,g)):(ce&&f&&Pf(o),o.flags|=1,Tn(s,o,u,g),o.child)}function F0(s,o,u,f,g,v){return Ys(o),o.updateQueue=null,u=Uv(o,f,u,g),zv(s),f=ep(),s!==null&&!ln?(np(s,o,v),Pr(s,o,v)):(ce&&f&&Pf(o),o.flags|=1,Tn(s,o,u,v),o.child)}function I0(s,o,u,f,g){if(Ys(o),o.stateNode===null){var v=za,M=u.contextType;typeof M=="object"&&M!==null&&(v=Cn(M)),v=new u(f,v),o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=yp,o.stateNode=v,v._reactInternals=o,v=o.stateNode,v.props=f,v.state=o.memoizedState,v.refs={},Gf(o),M=u.contextType,v.context=typeof M=="object"&&M!==null?Cn(M):za,v.state=o.memoizedState,M=u.getDerivedStateFromProps,typeof M=="function"&&(gp(o,u,M,f),v.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(M=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),M!==v.state&&yp.enqueueReplaceState(v,v.state,null),vl(o,f,v,g),bl(),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(s===null){v=o.stateNode;var z=o.memoizedProps,K=ta(u,z);v.props=K;var rt=v.context,ft=u.contextType;M=za,typeof ft=="object"&&ft!==null&&(M=Cn(ft));var mt=u.getDerivedStateFromProps;ft=typeof mt=="function"||typeof v.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,ft||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(z||rt!==M)&&E0(o,v,f,M),us=!1;var at=o.memoizedState;v.state=at,vl(o,f,v,g),bl(),rt=o.memoizedState,z||at!==rt||us?(typeof mt=="function"&&(gp(o,u,mt,f),rt=o.memoizedState),(K=us||A0(o,u,K,f,at,rt,M))?(ft||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(o.flags|=4194308)):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=rt),v.props=f,v.state=rt,v.context=M,f=K):(typeof v.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{v=o.stateNode,Xf(s,o),M=o.memoizedProps,ft=ta(u,M),v.props=ft,mt=o.pendingProps,at=v.context,rt=u.contextType,K=za,typeof rt=="object"&&rt!==null&&(K=Cn(rt)),z=u.getDerivedStateFromProps,(rt=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(M!==mt||at!==K)&&E0(o,v,f,K),us=!1,at=o.memoizedState,v.state=at,vl(o,f,v,g),bl();var ut=o.memoizedState;M!==mt||at!==ut||us||s!==null&&s.dependencies!==null&&Su(s.dependencies)?(typeof z=="function"&&(gp(o,u,z,f),ut=o.memoizedState),(ft=us||A0(o,u,ft,f,at,ut,K)||s!==null&&s.dependencies!==null&&Su(s.dependencies))?(rt||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,ut,K),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,ut,K)),typeof v.componentDidUpdate=="function"&&(o.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof v.componentDidUpdate!="function"||M===s.memoizedProps&&at===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&at===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ut),v.props=f,v.state=ut,v.context=K,f=ft):(typeof v.componentDidUpdate!="function"||M===s.memoizedProps&&at===s.memoizedState||(o.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&at===s.memoizedState||(o.flags|=1024),f=!1)}return v=f,zu(s,o),f=(o.flags&128)!==0,v||f?(v=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),o.flags|=1,s!==null&&f?(o.child=Qs(o,s.child,null,g),o.child=Qs(o,null,u,g)):Tn(s,o,u,g),o.memoizedState=v.state,s=o.child):s=Pr(s,o,g),s}function z0(s,o,u,f){return Gs(),o.flags|=256,Tn(s,o,u,f),o.child}var Sp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(s){return{baseLanes:s,cachePool:Ov()}}function wp(s,o,u){return s=s!==null?s.childLanes&~u:0,o&&(s|=mi),s}function U0(s,o,u){var f=o.pendingProps,g=!1,v=(o.flags&128)!==0,M;if((M=v)||(M=s!==null&&s.memoizedState===null?!1:(Ze.current&2)!==0),M&&(g=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,s===null){if(ce){if(g?fs(o):ps(),(s=De)?(s=W1(s,Mi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:as!==null?{id:sr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},u=_v(s),u.return=o,o.child=u,En=o,De=null)):s=null,s===null)throw ls(o);return sm(s)?o.lanes=32:o.lanes=536870912,null}var z=f.children;return f=f.fallback,g?(ps(),g=o.mode,z=Uu({mode:"hidden",children:z},g),f=Vs(f,g,u,null),z.return=o,f.return=o,z.sibling=f,o.child=z,f=o.child,f.memoizedState=xp(u),f.childLanes=wp(s,M,u),o.memoizedState=Sp,Al(null,f)):(fs(o),Ap(o,z))}var K=s.memoizedState;if(K!==null&&(z=K.dehydrated,z!==null)){if(v)o.flags&256?(fs(o),o.flags&=-257,o=Ep(s,o,u)):o.memoizedState!==null?(ps(),o.child=s.child,o.flags|=128,o=null):(ps(),z=f.fallback,g=o.mode,f=Uu({mode:"visible",children:f.children},g),z=Vs(z,g,u,null),z.flags|=2,f.return=o,z.return=o,f.sibling=z,o.child=f,Qs(o,s.child,null,u),f=o.child,f.memoizedState=xp(u),f.childLanes=wp(s,M,u),o.memoizedState=Sp,o=Al(null,f));else if(fs(o),sm(z)){if(M=z.nextSibling&&z.nextSibling.dataset,M)var rt=M.dgst;M=rt,f=Error(i(419)),f.stack="",f.digest=M,hl({value:f,source:null,stack:null}),o=Ep(s,o,u)}else if(ln||qa(s,o,u,!1),M=(u&s.childLanes)!==0,ln||M){if(M=Ee,M!==null&&(f=Tb(M,u),f!==0&&f!==K.retryLane))throw K.retryLane=f,qs(s,f),Jn(M,s,f),vp;rm(z)||Ku(),o=Ep(s,o,u)}else rm(z)?(o.flags|=192,o.child=s.child,o=null):(s=K.treeContext,De=Di(z.nextSibling),En=o,ce=!0,os=null,Mi=!1,s!==null&&wv(o,s),o=Ap(o,f.children),o.flags|=4096);return o}return g?(ps(),z=f.fallback,g=o.mode,K=s.child,rt=K.sibling,f=Or(K,{mode:"hidden",children:f.children}),f.subtreeFlags=K.subtreeFlags&65011712,rt!==null?z=Or(rt,z):(z=Vs(z,g,u,null),z.flags|=2),z.return=o,f.return=o,f.sibling=z,o.child=f,Al(null,f),f=o.child,z=s.child.memoizedState,z===null?z=xp(u):(g=z.cachePool,g!==null?(K=an._currentValue,g=g.parent!==K?{parent:K,pool:K}:g):g=Ov(),z={baseLanes:z.baseLanes|u,cachePool:g}),f.memoizedState=z,f.childLanes=wp(s,M,u),o.memoizedState=Sp,Al(s.child,f)):(fs(o),u=s.child,s=u.sibling,u=Or(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,s!==null&&(M=o.deletions,M===null?(o.deletions=[s],o.flags|=16):M.push(s)),o.child=u,o.memoizedState=null,u)}function Ap(s,o){return o=Uu({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Uu(s,o){return s=di(22,s,null,o),s.lanes=0,s}function Ep(s,o,u){return Qs(o,s.child,null,u),s=Ap(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function H0(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),zf(s.return,o,u)}function Cp(s,o,u,f,g,v){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g,treeForkCount:v}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=f,M.tail=u,M.tailMode=g,M.treeForkCount=v)}function $0(s,o,u){var f=o.pendingProps,g=f.revealOrder,v=f.tail;f=f.children;var M=Ze.current,z=(M&2)!==0;if(z?(M=M&1|2,o.flags|=128):M&=1,B(Ze,M),Tn(s,o,f,u),f=ce?dl:0,!z&&s!==null&&(s.flags&128)!==0)t:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&H0(s,u,o);else if(s.tag===19)H0(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break t;for(;s.sibling===null;){if(s.return===null||s.return===o)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&Ou(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Cp(o,!1,g,u,v,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Ou(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Cp(o,!0,u,null,v,f);break;case"together":Cp(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function Pr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),ys|=o.lanes,(u&o.childLanes)===0)if(s!==null){if(qa(s,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,u=Or(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Or(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function Tp(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Su(s)))}function k2(s,o,u){switch(o.tag){case 3:wt(o,o.stateNode.containerInfo),cs(o,an,s.memoizedState.cache),Gs();break;case 27:case 5:xt(o);break;case 4:wt(o,o.stateNode.containerInfo);break;case 10:cs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Qf(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(fs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?U0(s,o,u):(fs(o),s=Pr(s,o,u),s!==null?s.sibling:null);fs(o);break;case 19:var g=(s.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(qa(s,o,u,!1),f=(u&o.childLanes)!==0),g){if(f)return $0(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),B(Ze,Ze.current),f)break;return null;case 22:return o.lanes=0,P0(s,o,u,o.pendingProps);case 24:cs(o,an,s.memoizedState.cache)}return Pr(s,o,u)}function q0(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps)ln=!0;else{if(!Tp(s,u)&&(o.flags&128)===0)return ln=!1,k2(s,o,u);ln=(s.flags&131072)!==0}else ln=!1,ce&&(o.flags&1048576)!==0&&xv(o,dl,o.index);switch(o.lanes=0,o.tag){case 16:t:{var f=o.pendingProps;if(s=Ks(o.elementType),o.type=s,typeof s=="function")Nf(s)?(f=ta(s,f),o.tag=1,o=I0(null,o,s,f,u)):(o.tag=0,o=_p(null,o,s,f,u));else{if(s!=null){var g=s.$$typeof;if(g===F){o.tag=11,o=N0(null,o,s,f,u);break t}else if(g===D){o.tag=14,o=D0(null,o,s,f,u);break t}}throw o=G(s)||s,Error(i(306,o,""))}}return o;case 0:return _p(s,o,o.type,o.pendingProps,u);case 1:return f=o.type,g=ta(f,o.pendingProps),I0(s,o,f,g,u);case 3:t:{if(wt(o,o.stateNode.containerInfo),s===null)throw Error(i(387));f=o.pendingProps;var v=o.memoizedState;g=v.element,Xf(s,o),vl(o,f,null,u);var M=o.memoizedState;if(f=M.cache,cs(o,an,f),f!==v.cache&&Uf(o,[an],u,!0),bl(),f=M.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){o=z0(s,o,f,u);break t}else if(f!==g){g=ki(Error(i(424)),o),hl(g),o=z0(s,o,f,u);break t}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(De=Di(s.firstChild),En=o,ce=!0,os=null,Mi=!0,u=Pv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Gs(),f===g){o=Pr(s,o,u);break t}Tn(s,o,f,u)}o=o.child}return o;case 26:return zu(s,o),s===null?(u=e_(o.type,null,o.pendingProps,null))?o.memoizedState=u:ce||(u=o.type,s=o.pendingProps,f=id(st.current).createElement(u),f[An]=o,f[Xn]=s,kn(f,u,s),yn(f),o.stateNode=f):o.memoizedState=e_(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return xt(o),s===null&&ce&&(f=o.stateNode=Q1(o.type,o.pendingProps,st.current),En=o,Mi=!0,g=De,xs(o.type)?(am=g,De=Di(f.firstChild)):De=g),Tn(s,o,o.pendingProps.children,u),zu(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&ce&&((g=f=De)&&(f=rk(f,o.type,o.pendingProps,Mi),f!==null?(o.stateNode=f,En=o,De=Di(f.firstChild),Mi=!1,g=!0):g=!1),g||ls(o)),xt(o),g=o.type,v=o.pendingProps,M=s!==null?s.memoizedProps:null,f=v.children,em(g,v)?f=null:M!==null&&em(g,M)&&(o.flags|=32),o.memoizedState!==null&&(g=tp(s,o,v2,null,null,u),Il._currentValue=g),zu(s,o),Tn(s,o,f,u),o.child;case 6:return s===null&&ce&&((s=u=De)&&(u=sk(u,o.pendingProps,Mi),u!==null?(o.stateNode=u,En=o,De=null,s=!0):s=!1),s||ls(o)),null;case 13:return U0(s,o,u);case 4:return wt(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Qs(o,null,f,u):Tn(s,o,f,u),o.child;case 11:return N0(s,o,o.type,o.pendingProps,u);case 7:return Tn(s,o,o.pendingProps,u),o.child;case 8:return Tn(s,o,o.pendingProps.children,u),o.child;case 12:return Tn(s,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,cs(o,o.type,f.value),Tn(s,o,f.children,u),o.child;case 9:return g=o.type._context,f=o.pendingProps.children,Ys(o),g=Cn(g),f=f(g),o.flags|=1,Tn(s,o,f,u),o.child;case 14:return D0(s,o,o.type,o.pendingProps,u);case 15:return L0(s,o,o.type,o.pendingProps,u);case 19:return $0(s,o,u);case 31:return T2(s,o,u);case 22:return P0(s,o,u,o.pendingProps);case 24:return Ys(o),f=Cn(an),s===null?(g=qf(),g===null&&(g=Ee,v=Hf(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),o.memoizedState={parent:f,cache:g},Gf(o),cs(o,an,g)):((s.lanes&u)!==0&&(Xf(s,o),vl(o,null,null,u),bl()),g=s.memoizedState,v=o.memoizedState,g.parent!==f?(g={parent:f,cache:f},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),cs(o,an,f)):(f=v.cache,cs(o,an,f),f!==g.cache&&Uf(o,[an],u,!0))),Tn(s,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function jr(s){s.flags|=4}function kp(s,o,u,f,g){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(y1())s.flags|=8192;else throw Zs=Eu,Vf}else s.flags&=-16777217}function V0(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!a_(o))if(y1())s.flags|=8192;else throw Zs=Eu,Vf}function Hu(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ab():536870912,s.lanes|=o,no|=o)}function El(s,o){if(!ce)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Le(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function O2(s,o,u){var f=o.pendingProps;switch(jf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(o),null;case 1:return Le(o),null;case 3:return u=o.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Nr(an),_t(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&($a(o)?jr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ff())),Le(o),null;case 26:var g=o.type,v=o.memoizedState;return s===null?(jr(o),v!==null?(Le(o),V0(o,v)):(Le(o),kp(o,g,null,f,u))):v?v!==s.memoizedState?(jr(o),Le(o),V0(o,v)):(Le(o),o.flags&=-16777217):(s=s.memoizedProps,s!==f&&jr(o),Le(o),kp(o,g,s,f,u)),null;case 27:if(It(o),u=st.current,g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&jr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Le(o),null}s=Q.current,$a(o)?Av(o):(s=Q1(g,f,u),o.stateNode=s,jr(o))}return Le(o),null;case 5:if(It(o),g=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==f&&jr(o);else{if(!f){if(o.stateNode===null)throw Error(i(166));return Le(o),null}if(v=Q.current,$a(o))Av(o);else{var M=id(st.current);switch(v){case 1:v=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=M.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?M.createElement("select",{is:f.is}):M.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?M.createElement(g,{is:f.is}):M.createElement(g)}}v[An]=o,v[Xn]=f;t:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)v.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break t;for(;M.sibling===null;){if(M.return===null||M.return===o)break t;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=v;t:switch(kn(v,g,f),g){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&jr(o)}}return Le(o),kp(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,u),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==f&&jr(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(i(166));if(s=st.current,$a(o)){if(s=o.stateNode,u=o.memoizedProps,f=null,g=En,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}s[An]=o,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||U1(s.nodeValue,u)),s||ls(o,!0)}else s=id(s).createTextNode(f),s[An]=o,o.stateNode=s}return Le(o),null;case 31:if(u=o.memoizedState,s===null||s.memoizedState!==null){if(f=$a(o),u!==null){if(s===null){if(!f)throw Error(i(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[An]=o}else Gs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Le(o),s=!1}else u=Ff(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return o.flags&256?(fi(o),o):(fi(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Le(o),null;case 13:if(f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=$a(o),f!==null&&f.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[An]=o}else Gs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Le(o),g=!1}else g=Ff(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(fi(o),o):(fi(o),null)}return fi(o),(o.flags&128)!==0?(o.lanes=u,o):(u=f!==null,s=s!==null&&s.memoizedState!==null,u&&(f=o.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==g&&(f.flags|=2048)),u!==s&&u&&(o.child.flags|=8192),Hu(o,o.updateQueue),Le(o),null);case 4:return _t(),s===null&&Kp(o.stateNode.containerInfo),Le(o),null;case 10:return Nr(o.type),Le(o),null;case 19:if(V(Ze),f=o.memoizedState,f===null)return Le(o),null;if(g=(o.flags&128)!==0,v=f.rendering,v===null)if(g)El(f,!1);else{if(We!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(v=Ou(s),v!==null){for(o.flags|=128,El(f,!1),s=v.updateQueue,o.updateQueue=s,Hu(o,s),o.subtreeFlags=0,s=u,u=o.child;u!==null;)vv(u,s),u=u.sibling;return B(Ze,Ze.current&1|2),ce&&Rr(o,f.treeForkCount),o.child}s=s.sibling}f.tail!==null&&gt()>Xu&&(o.flags|=128,g=!0,El(f,!1),o.lanes=4194304)}else{if(!g)if(s=Ou(v),s!==null){if(o.flags|=128,g=!0,s=s.updateQueue,o.updateQueue=s,Hu(o,s),El(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!ce)return Le(o),null}else 2*gt()-f.renderingStartTime>Xu&&u!==536870912&&(o.flags|=128,g=!0,El(f,!1),o.lanes=4194304);f.isBackwards?(v.sibling=o.child,o.child=v):(s=f.last,s!==null?s.sibling=v:o.child=v,f.last=v)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=gt(),s.sibling=null,u=Ze.current,B(Ze,g?u&1|2:u&1),ce&&Rr(o,f.treeForkCount),s):(Le(o),null);case 22:case 23:return fi(o),Zf(),f=o.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Le(o),o.subtreeFlags&6&&(o.flags|=8192)):Le(o),u=o.updateQueue,u!==null&&Hu(o,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),s!==null&&V(Ws),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Nr(an),Le(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function R2(s,o){switch(jf(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Nr(an),_t(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return It(o),null;case 31:if(o.memoizedState!==null){if(fi(o),o.alternate===null)throw Error(i(340));Gs()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(fi(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Gs()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return V(Ze),null;case 4:return _t(),null;case 10:return Nr(o.type),null;case 22:case 23:return fi(o),Zf(),s!==null&&V(Ws),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Nr(an),null;case 25:return null;default:return null}}function G0(s,o){switch(jf(o),o.tag){case 3:Nr(an),_t();break;case 26:case 27:case 5:It(o);break;case 4:_t();break;case 31:o.memoizedState!==null&&fi(o);break;case 13:fi(o);break;case 19:V(Ze);break;case 10:Nr(o.type);break;case 22:case 23:fi(o),Zf(),s!==null&&V(Ws);break;case 24:Nr(an)}}function Cl(s,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&s)===s){f=void 0;var v=u.create,M=u.inst;f=v(),M.destroy=f}u=u.next}while(u!==g)}}catch(z){_e(o,o.return,z)}}function ms(s,o,u){try{var f=o.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&s)===s){var M=f.inst,z=M.destroy;if(z!==void 0){M.destroy=void 0,g=o;var K=u,rt=z;try{rt()}catch(ft){_e(g,K,ft)}}}f=f.next}while(f!==v)}}catch(ft){_e(o,o.return,ft)}}function X0(s){var o=s.updateQueue;if(o!==null){var u=s.stateNode;try{Bv(o,u)}catch(f){_e(s,s.return,f)}}}function Y0(s,o,u){u.props=ta(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){_e(s,o,f)}}function Tl(s,o){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(g){_e(s,o,g)}}function or(s,o){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){_e(s,o,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){_e(s,o,g)}else u.current=null}function W0(s){var o=s.type,u=s.memoizedProps,f=s.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){_e(s,s.return,g)}}function Op(s,o,u){try{var f=s.stateNode;Q2(f,s.type,u,o),f[Xn]=o}catch(g){_e(s,s.return,g)}}function K0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&xs(s.type)||s.tag===4}function Rp(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||K0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&xs(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mp(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(s),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Tr));else if(f!==4&&(f===27&&xs(s.type)&&(u=s.stateNode,o=null),s=s.child,s!==null))for(Mp(s,o,u),s=s.sibling;s!==null;)Mp(s,o,u),s=s.sibling}function $u(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(f===27&&xs(s.type)&&(u=s.stateNode),s=s.child,s!==null))for($u(s,o,u),s=s.sibling;s!==null;)$u(s,o,u),s=s.sibling}function Z0(s){var o=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);kn(o,f,u),o[An]=s,o[Xn]=u}catch(v){_e(s,s.return,v)}}var Br=!1,cn=!1,Np=!1,Q0=typeof WeakSet=="function"?WeakSet:Set,bn=null;function M2(s,o){if(s=s.containerInfo,Jp=ud,s=uv(s),Ef(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break t}var M=0,z=-1,K=-1,rt=0,ft=0,mt=s,at=null;e:for(;;){for(var ut;mt!==u||g!==0&&mt.nodeType!==3||(z=M+g),mt!==v||f!==0&&mt.nodeType!==3||(K=M+f),mt.nodeType===3&&(M+=mt.nodeValue.length),(ut=mt.firstChild)!==null;)at=mt,mt=ut;for(;;){if(mt===s)break e;if(at===u&&++rt===g&&(z=M),at===v&&++ft===f&&(K=M),(ut=mt.nextSibling)!==null)break;mt=at,at=mt.parentNode}mt=ut}u=z===-1||K===-1?null:{start:z,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(tm={focusedElem:s,selectionRange:u},ud=!1,bn=o;bn!==null;)if(o=bn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,bn=s;else for(;bn!==null;){switch(o=bn,v=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)g=s[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&v!==null){s=void 0,u=o,g=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Ot=ta(u.type,g);s=f.getSnapshotBeforeUpdate(Ot,v),f.__reactInternalSnapshotBeforeUpdate=s}catch(Ft){_e(u,u.return,Ft)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,u=s.nodeType,u===9)im(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":im(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,bn=s;break}bn=o.return}}function J0(s,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ir(s,u),f&4&&Cl(5,u);break;case 1:if(Ir(s,u),f&4)if(s=u.stateNode,o===null)try{s.componentDidMount()}catch(M){_e(u,u.return,M)}else{var g=ta(u.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(g,o,s.__reactInternalSnapshotBeforeUpdate)}catch(M){_e(u,u.return,M)}}f&64&&X0(u),f&512&&Tl(u,u.return);break;case 3:if(Ir(s,u),f&64&&(s=u.updateQueue,s!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{Bv(s,o)}catch(M){_e(u,u.return,M)}}break;case 27:o===null&&f&4&&Z0(u);case 26:case 5:Ir(s,u),o===null&&f&4&&W0(u),f&512&&Tl(u,u.return);break;case 12:Ir(s,u);break;case 31:Ir(s,u),f&4&&n1(s,u);break;case 13:Ir(s,u),f&4&&i1(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=z2.bind(null,u),ak(s,u))));break;case 22:if(f=u.memoizedState!==null||Br,!f){o=o!==null&&o.memoizedState!==null||cn,g=Br;var v=cn;Br=f,(cn=o)&&!v?zr(s,u,(u.subtreeFlags&8772)!==0):Ir(s,u),Br=g,cn=v}break;case 30:break;default:Ir(s,u)}}function t1(s){var o=s.alternate;o!==null&&(s.alternate=null,t1(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&lf(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Pe=null,Wn=!1;function Fr(s,o,u){for(u=u.child;u!==null;)e1(s,o,u),u=u.sibling}function e1(s,o,u){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(pn,u)}catch{}switch(u.tag){case 26:cn||or(u,o),Fr(s,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:cn||or(u,o);var f=Pe,g=Wn;xs(u.type)&&(Pe=u.stateNode,Wn=!1),Fr(s,o,u),jl(u.stateNode),Pe=f,Wn=g;break;case 5:cn||or(u,o);case 6:if(f=Pe,g=Wn,Pe=null,Fr(s,o,u),Pe=f,Wn=g,Pe!==null)if(Wn)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(u.stateNode)}catch(v){_e(u,o,v)}else try{Pe.removeChild(u.stateNode)}catch(v){_e(u,o,v)}break;case 18:Pe!==null&&(Wn?(s=Pe,X1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),uo(s)):X1(Pe,u.stateNode));break;case 4:f=Pe,g=Wn,Pe=u.stateNode.containerInfo,Wn=!0,Fr(s,o,u),Pe=f,Wn=g;break;case 0:case 11:case 14:case 15:ms(2,u,o),cn||ms(4,u,o),Fr(s,o,u);break;case 1:cn||(or(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&Y0(u,o,f)),Fr(s,o,u);break;case 21:Fr(s,o,u);break;case 22:cn=(f=cn)||u.memoizedState!==null,Fr(s,o,u),cn=f;break;default:Fr(s,o,u)}}function n1(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{uo(s)}catch(u){_e(o,o.return,u)}}}function i1(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{uo(s)}catch(u){_e(o,o.return,u)}}function N2(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Q0),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Q0),o;default:throw Error(i(435,s.tag))}}function qu(s,o){var u=N2(s);o.forEach(function(f){if(!u.has(f)){u.add(f);var g=U2.bind(null,s,f);f.then(g,g)}})}function Kn(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],v=s,M=o,z=M;t:for(;z!==null;){switch(z.tag){case 27:if(xs(z.type)){Pe=z.stateNode,Wn=!1;break t}break;case 5:Pe=z.stateNode,Wn=!1;break t;case 3:case 4:Pe=z.stateNode.containerInfo,Wn=!0;break t}z=z.return}if(Pe===null)throw Error(i(160));e1(v,M,g),Pe=null,Wn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)r1(o,s),o=o.sibling}var qi=null;function r1(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Kn(o,s),Zn(s),f&4&&(ms(3,s,s.return),Cl(3,s),ms(5,s,s.return));break;case 1:Kn(o,s),Zn(s),f&512&&(cn||u===null||or(u,u.return)),f&64&&Br&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=qi;if(Kn(o,s),Zn(s),f&512&&(cn||u===null||or(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){t:{f=s.type,u=s.memoizedProps,g=g.ownerDocument||g;e:switch(f){case"title":v=g.getElementsByTagName("title")[0],(!v||v[tl]||v[An]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(f),g.head.insertBefore(v,g.querySelector("head > title"))),kn(v,f,u),v[An]=s,yn(v),f=v;break t;case"link":var M=r_("link","href",g).get(f+(u.href||""));if(M){for(var z=0;z<M.length;z++)if(v=M[z],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){M.splice(z,1);break e}}v=g.createElement(f),kn(v,f,u),g.head.appendChild(v);break;case"meta":if(M=r_("meta","content",g).get(f+(u.content||""))){for(z=0;z<M.length;z++)if(v=M[z],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){M.splice(z,1);break e}}v=g.createElement(f),kn(v,f,u),g.head.appendChild(v);break;default:throw Error(i(468,f))}v[An]=s,yn(v),f=v}s.stateNode=f}else s_(g,s.type,s.stateNode);else s.stateNode=i_(g,f,s.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?s_(g,s.type,s.stateNode):i_(g,f,s.memoizedProps)):f===null&&s.stateNode!==null&&Op(s,s.memoizedProps,u.memoizedProps)}break;case 27:Kn(o,s),Zn(s),f&512&&(cn||u===null||or(u,u.return)),u!==null&&f&4&&Op(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Kn(o,s),Zn(s),f&512&&(cn||u===null||or(u,u.return)),s.flags&32){g=s.stateNode;try{Da(g,"")}catch(Ot){_e(s,s.return,Ot)}}f&4&&s.stateNode!=null&&(g=s.memoizedProps,Op(s,g,u!==null?u.memoizedProps:g)),f&1024&&(Np=!0);break;case 6:if(Kn(o,s),Zn(s),f&4){if(s.stateNode===null)throw Error(i(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(Ot){_e(s,s.return,Ot)}}break;case 3:if(ad=null,g=qi,qi=rd(o.containerInfo),Kn(o,s),qi=g,Zn(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{uo(o.containerInfo)}catch(Ot){_e(s,s.return,Ot)}Np&&(Np=!1,s1(s));break;case 4:f=qi,qi=rd(s.stateNode.containerInfo),Kn(o,s),Zn(s),qi=f;break;case 12:Kn(o,s),Zn(s);break;case 31:Kn(o,s),Zn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,qu(s,f)));break;case 13:Kn(o,s),Zn(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Gu=gt()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,qu(s,f)));break;case 22:g=s.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,rt=Br,ft=cn;if(Br=rt||g,cn=ft||K,Kn(o,s),cn=ft,Br=rt,Zn(s),f&8192)t:for(o=s.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(u===null||K||Br||cn||ea(s)),u=null,o=s;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(v=K.stateNode,g)M=v.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{z=K.stateNode;var mt=K.memoizedProps.style,at=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;z.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(Ot){_e(K,K.return,Ot)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=g?"":K.memoizedProps}catch(Ot){_e(K,K.return,Ot)}}}else if(o.tag===18){if(u===null){K=o;try{var ut=K.stateNode;g?Y1(ut,!0):Y1(K.stateNode,!1)}catch(Ot){_e(K,K.return,Ot)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break t;for(;o.sibling===null;){if(o.return===null||o.return===s)break t;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,qu(s,u))));break;case 19:Kn(o,s),Zn(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,qu(s,f)));break;case 30:break;case 21:break;default:Kn(o,s),Zn(s)}}function Zn(s){var o=s.flags;if(o&2){try{for(var u,f=s.return;f!==null;){if(K0(f)){u=f;break}f=f.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var g=u.stateNode,v=Rp(s);$u(s,v,g);break;case 5:var M=u.stateNode;u.flags&32&&(Da(M,""),u.flags&=-33);var z=Rp(s);$u(s,z,M);break;case 3:case 4:var K=u.stateNode.containerInfo,rt=Rp(s);Mp(s,rt,K);break;default:throw Error(i(161))}}catch(ft){_e(s,s.return,ft)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function s1(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;s1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ir(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)J0(s,o.alternate,o),o=o.sibling}function ea(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:ms(4,o,o.return),ea(o);break;case 1:or(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&Y0(o,o.return,u),ea(o);break;case 27:jl(o.stateNode);case 26:case 5:or(o,o.return),ea(o);break;case 22:o.memoizedState===null&&ea(o);break;case 30:ea(o);break;default:ea(o)}s=s.sibling}}function zr(s,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,g=s,v=o,M=v.flags;switch(v.tag){case 0:case 11:case 15:zr(g,v,u),Cl(4,v);break;case 1:if(zr(g,v,u),f=v,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(rt){_e(f,f.return,rt)}if(f=v,g=f.updateQueue,g!==null){var z=f.stateNode;try{var K=g.shared.hiddenCallbacks;if(K!==null)for(g.shared.hiddenCallbacks=null,g=0;g<K.length;g++)jv(K[g],z)}catch(rt){_e(f,f.return,rt)}}u&&M&64&&X0(v),Tl(v,v.return);break;case 27:Z0(v);case 26:case 5:zr(g,v,u),u&&f===null&&M&4&&W0(v),Tl(v,v.return);break;case 12:zr(g,v,u);break;case 31:zr(g,v,u),u&&M&4&&n1(g,v);break;case 13:zr(g,v,u),u&&M&4&&i1(g,v);break;case 22:v.memoizedState===null&&zr(g,v,u),Tl(v,v.return);break;case 30:break;default:zr(g,v,u)}o=o.sibling}}function Dp(s,o){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&fl(u))}function Lp(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fl(s))}function Vi(s,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)a1(s,o,u,f),o=o.sibling}function a1(s,o,u,f){var g=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(s,o,u,f),g&2048&&Cl(9,o);break;case 1:Vi(s,o,u,f);break;case 3:Vi(s,o,u,f),g&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&fl(s)));break;case 12:if(g&2048){Vi(s,o,u,f),s=o.stateNode;try{var v=o.memoizedProps,M=v.id,z=v.onPostCommit;typeof z=="function"&&z(M,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){_e(o,o.return,K)}}else Vi(s,o,u,f);break;case 31:Vi(s,o,u,f);break;case 13:Vi(s,o,u,f);break;case 23:break;case 22:v=o.stateNode,M=o.alternate,o.memoizedState!==null?v._visibility&2?Vi(s,o,u,f):kl(s,o):v._visibility&2?Vi(s,o,u,f):(v._visibility|=2,Ja(s,o,u,f,(o.subtreeFlags&10256)!==0||!1)),g&2048&&Dp(M,o);break;case 24:Vi(s,o,u,f),g&2048&&Lp(o.alternate,o);break;default:Vi(s,o,u,f)}}function Ja(s,o,u,f,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var v=s,M=o,z=u,K=f,rt=M.flags;switch(M.tag){case 0:case 11:case 15:Ja(v,M,z,K,g),Cl(8,M);break;case 23:break;case 22:var ft=M.stateNode;M.memoizedState!==null?ft._visibility&2?Ja(v,M,z,K,g):kl(v,M):(ft._visibility|=2,Ja(v,M,z,K,g)),g&&rt&2048&&Dp(M.alternate,M);break;case 24:Ja(v,M,z,K,g),g&&rt&2048&&Lp(M.alternate,M);break;default:Ja(v,M,z,K,g)}o=o.sibling}}function kl(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=s,f=o,g=f.flags;switch(f.tag){case 22:kl(u,f),g&2048&&Dp(f.alternate,f);break;case 24:kl(u,f),g&2048&&Lp(f.alternate,f);break;default:kl(u,f)}o=o.sibling}}var Ol=8192;function to(s,o,u){if(s.subtreeFlags&Ol)for(s=s.child;s!==null;)o1(s,o,u),s=s.sibling}function o1(s,o,u){switch(s.tag){case 26:to(s,o,u),s.flags&Ol&&s.memoizedState!==null&&bk(u,qi,s.memoizedState,s.memoizedProps);break;case 5:to(s,o,u);break;case 3:case 4:var f=qi;qi=rd(s.stateNode.containerInfo),to(s,o,u),qi=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=Ol,Ol=16777216,to(s,o,u),Ol=f):to(s,o,u));break;default:to(s,o,u)}}function l1(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function Rl(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];bn=f,u1(f,s)}l1(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)c1(s),s=s.sibling}function c1(s){switch(s.tag){case 0:case 11:case 15:Rl(s),s.flags&2048&&ms(9,s,s.return);break;case 3:Rl(s);break;case 12:Rl(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Vu(s)):Rl(s);break;default:Rl(s)}}function Vu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];bn=f,u1(f,s)}l1(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:ms(8,o,o.return),Vu(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Vu(o));break;default:Vu(o)}s=s.sibling}}function u1(s,o){for(;bn!==null;){var u=bn;switch(u.tag){case 0:case 11:case 15:ms(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:fl(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,bn=f;else t:for(u=s;bn!==null;){f=bn;var g=f.sibling,v=f.return;if(t1(f),f===u){bn=null;break t}if(g!==null){g.return=v,bn=g;break t}bn=v}}}var D2={getCacheForType:function(s){var o=Cn(an),u=o.data.get(s);return u===void 0&&(u=s(),o.data.set(s,u)),u},cacheSignal:function(){return Cn(an).controller.signal}},L2=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ee=null,ie=null,se=0,ve=0,pi=null,gs=!1,eo=!1,Pp=!1,Ur=0,We=0,ys=0,na=0,jp=0,mi=0,no=0,Ml=null,Qn=null,Bp=!1,Gu=0,d1=0,Xu=1/0,Yu=null,bs=null,mn=0,vs=null,io=null,Hr=0,Fp=0,Ip=null,h1=null,Nl=0,zp=null;function gi(){return(ge&2)!==0&&se!==0?se&-se:U.T!==null?Gp():kb()}function f1(){if(mi===0)if((se&536870912)===0||ce){var s=nu;nu<<=1,(nu&3932160)===0&&(nu=262144),mi=s}else mi=536870912;return s=hi.current,s!==null&&(s.flags|=32),mi}function Jn(s,o,u){(s===Ee&&(ve===2||ve===9)||s.cancelPendingCommit!==null)&&(ro(s,0),_s(s,se,mi,!1)),Jo(s,u),((ge&2)===0||s!==Ee)&&(s===Ee&&((ge&2)===0&&(na|=u),We===4&&_s(s,se,mi,!1)),lr(s))}function p1(s,o,u){if((ge&6)!==0)throw Error(i(327));var f=!u&&(o&127)===0&&(o&s.expiredLanes)===0||Qo(s,o),g=f?B2(s,o):Hp(s,o,!0),v=f;do{if(g===0){eo&&!f&&_s(s,o,0,!1);break}else{if(u=s.current.alternate,v&&!P2(u)){g=Hp(s,o,!1),v=!1;continue}if(g===2){if(v=o,s.errorRecoveryDisabledLanes&v)var M=0;else M=s.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;t:{var z=s;g=Ml;var K=z.current.memoizedState.isDehydrated;if(K&&(ro(z,M).flags|=256),M=Hp(z,M,!1),M!==2){if(Pp&&!K){z.errorRecoveryDisabledLanes|=v,na|=v,g=4;break t}v=Qn,Qn=g,v!==null&&(Qn===null?Qn=v:Qn.push.apply(Qn,v))}g=M}if(v=!1,g!==2)continue}}if(g===1){ro(s,0),_s(s,o,0,!0);break}t:{switch(f=s,v=g,v){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:_s(f,o,mi,!gs);break t;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(g=Gu+300-gt(),10<g)){if(_s(f,o,mi,!gs),ru(f,0,!0)!==0)break t;Hr=o,f.timeoutHandle=V1(m1.bind(null,f,u,Qn,Yu,Bp,o,mi,na,no,gs,v,"Throttled",-0,0),g);break t}m1(f,u,Qn,Yu,Bp,o,mi,na,no,gs,v,null,-0,0)}}break}while(!0);lr(s)}function m1(s,o,u,f,g,v,M,z,K,rt,ft,mt,at,ut){if(s.timeoutHandle=-1,mt=o.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tr},o1(o,v,mt);var Ot=(v&62914560)===v?Gu-gt():(v&4194048)===v?d1-gt():0;if(Ot=vk(mt,Ot),Ot!==null){Hr=v,s.cancelPendingCommit=Ot(w1.bind(null,s,o,v,u,f,g,M,z,K,ft,mt,null,at,ut)),_s(s,v,M,!rt);return}}w1(s,o,v,u,f,g,M,z,K)}function P2(s){for(var o=s;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!ui(v(),g))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _s(s,o,u,f){o&=~jp,o&=~na,s.suspendedLanes|=o,s.pingedLanes&=~o,f&&(s.warmLanes|=o),f=s.expirationTimes;for(var g=o;0<g;){var v=31-be(g),M=1<<v;f[v]=-1,g&=~M}u!==0&&Eb(s,u,o)}function Wu(){return(ge&6)===0?(Dl(0),!1):!0}function Up(){if(ie!==null){if(ve===0)var s=ie.return;else s=ie,Mr=Xs=null,ip(s),Ya=null,ml=0,s=ie;for(;s!==null;)G0(s.alternate,s),s=s.return;ie=null}}function ro(s,o){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,ek(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),Hr=0,Up(),Ee=s,ie=u=Or(s.current,null),se=o,ve=0,pi=null,gs=!1,eo=Qo(s,o),Pp=!1,no=mi=jp=na=ys=We=0,Qn=Ml=null,Bp=!1,(o&8)!==0&&(o|=o&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=o;0<f;){var g=31-be(f),v=1<<g;o|=s[g],f&=~v}return Ur=o,gu(),u}function g1(s,o){Wt=null,U.H=wl,o===Xa||o===Au?(o=Nv(),ve=3):o===Vf?(o=Nv(),ve=4):ve=o===vp?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,pi=o,ie===null&&(We=1,Fu(s,ki(o,s.current)))}function y1(){var s=hi.current;return s===null?!0:(se&4194048)===se?Ni===null:(se&62914560)===se||(se&536870912)!==0?s===Ni:!1}function b1(){var s=U.H;return U.H=wl,s===null?wl:s}function v1(){var s=U.A;return U.A=D2,s}function Ku(){We=4,gs||(se&4194048)!==se&&hi.current!==null||(eo=!0),(ys&134217727)===0&&(na&134217727)===0||Ee===null||_s(Ee,se,mi,!1)}function Hp(s,o,u){var f=ge;ge|=2;var g=b1(),v=v1();(Ee!==s||se!==o)&&(Yu=null,ro(s,o)),o=!1;var M=We;t:do try{if(ve!==0&&ie!==null){var z=ie,K=pi;switch(ve){case 8:Up(),M=6;break t;case 3:case 2:case 9:case 6:hi.current===null&&(o=!0);var rt=ve;if(ve=0,pi=null,so(s,z,K,rt),u&&eo){M=0;break t}break;default:rt=ve,ve=0,pi=null,so(s,z,K,rt)}}j2(),M=We;break}catch(ft){g1(s,ft)}while(!0);return o&&s.shellSuspendCounter++,Mr=Xs=null,ge=f,U.H=g,U.A=v,ie===null&&(Ee=null,se=0,gu()),M}function j2(){for(;ie!==null;)_1(ie)}function B2(s,o){var u=ge;ge|=2;var f=b1(),g=v1();Ee!==s||se!==o?(Yu=null,Xu=gt()+500,ro(s,o)):eo=Qo(s,o);t:do try{if(ve!==0&&ie!==null){o=ie;var v=pi;e:switch(ve){case 1:ve=0,pi=null,so(s,o,v,1);break;case 2:case 9:if(Rv(v)){ve=0,pi=null,S1(o);break}o=function(){ve!==2&&ve!==9||Ee!==s||(ve=7),lr(s)},v.then(o,o);break t;case 3:ve=7;break t;case 4:ve=5;break t;case 7:Rv(v)?(ve=0,pi=null,S1(o)):(ve=0,pi=null,so(s,o,v,7));break;case 5:var M=null;switch(ie.tag){case 26:M=ie.memoizedState;case 5:case 27:var z=ie;if(M?a_(M):z.stateNode.complete){ve=0,pi=null;var K=z.sibling;if(K!==null)ie=K;else{var rt=z.return;rt!==null?(ie=rt,Zu(rt)):ie=null}break e}}ve=0,pi=null,so(s,o,v,5);break;case 6:ve=0,pi=null,so(s,o,v,6);break;case 8:Up(),We=6;break t;default:throw Error(i(462))}}F2();break}catch(ft){g1(s,ft)}while(!0);return Mr=Xs=null,U.H=f,U.A=g,ge=u,ie!==null?0:(Ee=null,se=0,gu(),We)}function F2(){for(;ie!==null&&!dt();)_1(ie)}function _1(s){var o=q0(s.alternate,s,Ur);s.memoizedProps=s.pendingProps,o===null?Zu(s):ie=o}function S1(s){var o=s,u=o.alternate;switch(o.tag){case 15:case 0:o=F0(u,o,o.pendingProps,o.type,void 0,se);break;case 11:o=F0(u,o,o.pendingProps,o.type.render,o.ref,se);break;case 5:ip(o);default:G0(u,o),o=ie=vv(o,Ur),o=q0(u,o,Ur)}s.memoizedProps=s.pendingProps,o===null?Zu(s):ie=o}function so(s,o,u,f){Mr=Xs=null,ip(o),Ya=null,ml=0;var g=o.return;try{if(C2(s,g,o,u,se)){We=1,Fu(s,ki(u,s.current)),ie=null;return}}catch(v){if(g!==null)throw ie=g,v;We=1,Fu(s,ki(u,s.current)),ie=null;return}o.flags&32768?(ce||f===1?s=!0:eo||(se&536870912)!==0?s=!1:(gs=s=!0,(f===2||f===9||f===3||f===6)&&(f=hi.current,f!==null&&f.tag===13&&(f.flags|=16384))),x1(o,s)):Zu(o)}function Zu(s){var o=s;do{if((o.flags&32768)!==0){x1(o,gs);return}s=o.return;var u=O2(o.alternate,o,Ur);if(u!==null){ie=u;return}if(o=o.sibling,o!==null){ie=o;return}ie=o=s}while(o!==null);We===0&&(We=5)}function x1(s,o){do{var u=R2(s.alternate,s);if(u!==null){u.flags&=32767,ie=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(s=s.sibling,s!==null)){ie=s;return}ie=s=u}while(s!==null);We=6,ie=null}function w1(s,o,u,f,g,v,M,z,K){s.cancelPendingCommit=null;do Qu();while(mn!==0);if((ge&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(v=o.lanes|o.childLanes,v|=Rf,yT(s,u,v,M,z,K),s===Ee&&(ie=Ee=null,se=0),io=o,vs=s,Hr=u,Fp=v,Ip=g,h1=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,H2(vt,function(){return k1(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=U.T,U.T=null,g=C.p,C.p=2,M=ge,ge|=4;try{M2(s,o,u)}finally{ge=M,C.p=g,U.T=f}}mn=1,A1(),E1(),C1()}}function A1(){if(mn===1){mn=0;var s=vs,o=io,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=U.T,U.T=null;var f=C.p;C.p=2;var g=ge;ge|=4;try{r1(o,s);var v=tm,M=uv(s.containerInfo),z=v.focusedElem,K=v.selectionRange;if(M!==z&&z&&z.ownerDocument&&cv(z.ownerDocument.documentElement,z)){if(K!==null&&Ef(z)){var rt=K.start,ft=K.end;if(ft===void 0&&(ft=rt),"selectionStart"in z)z.selectionStart=rt,z.selectionEnd=Math.min(ft,z.value.length);else{var mt=z.ownerDocument||document,at=mt&&mt.defaultView||window;if(at.getSelection){var ut=at.getSelection(),Ot=z.textContent.length,Ft=Math.min(K.start,Ot),we=K.end===void 0?Ft:Math.min(K.end,Ot);!ut.extend&&Ft>we&&(M=we,we=Ft,Ft=M);var et=lv(z,Ft),Z=lv(z,we);if(et&&Z&&(ut.rangeCount!==1||ut.anchorNode!==et.node||ut.anchorOffset!==et.offset||ut.focusNode!==Z.node||ut.focusOffset!==Z.offset)){var it=mt.createRange();it.setStart(et.node,et.offset),ut.removeAllRanges(),Ft>we?(ut.addRange(it),ut.extend(Z.node,Z.offset)):(it.setEnd(Z.node,Z.offset),ut.addRange(it))}}}}for(mt=[],ut=z;ut=ut.parentNode;)ut.nodeType===1&&mt.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<mt.length;z++){var pt=mt[z];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}ud=!!Jp,tm=Jp=null}finally{ge=g,C.p=f,U.T=u}}s.current=o,mn=2}}function E1(){if(mn===2){mn=0;var s=vs,o=io,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=U.T,U.T=null;var f=C.p;C.p=2;var g=ge;ge|=4;try{J0(s,o.alternate,o)}finally{ge=g,C.p=f,U.T=u}}mn=3}}function C1(){if(mn===4||mn===3){mn=0,St();var s=vs,o=io,u=Hr,f=h1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?mn=5:(mn=0,io=vs=null,T1(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(bs=null),af(u),o=o.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(pn,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=U.T,g=C.p,C.p=2,U.T=null;try{for(var v=s.onRecoverableError,M=0;M<f.length;M++){var z=f[M];v(z.value,{componentStack:z.stack})}}finally{U.T=o,C.p=g}}(Hr&3)!==0&&Qu(),lr(s),g=s.pendingLanes,(u&261930)!==0&&(g&42)!==0?s===zp?Nl++:(Nl=0,zp=s):Nl=0,Dl(0)}}function T1(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,fl(o)))}function Qu(){return A1(),E1(),C1(),k1()}function k1(){if(mn!==5)return!1;var s=vs,o=Fp;Fp=0;var u=af(Hr),f=U.T,g=C.p;try{C.p=32>u?32:u,U.T=null,u=Ip,Ip=null;var v=vs,M=Hr;if(mn=0,io=vs=null,Hr=0,(ge&6)!==0)throw Error(i(331));var z=ge;if(ge|=4,c1(v.current),a1(v,v.current,M,u),ge=z,Dl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(pn,v)}catch{}return!0}finally{C.p=g,U.T=f,T1(s,o)}}function O1(s,o,u){o=ki(u,o),o=bp(s.stateNode,o,2),s=hs(s,o,2),s!==null&&(Jo(s,2),lr(s))}function _e(s,o,u){if(s.tag===3)O1(s,s,u);else for(;o!==null;){if(o.tag===3){O1(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(bs===null||!bs.has(f))){s=ki(u,s),u=R0(2),f=hs(o,u,2),f!==null&&(M0(u,f,o,s),Jo(f,2),lr(f));break}}o=o.return}}function $p(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new L2;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(Pp=!0,g.add(u),s=I2.bind(null,s,o,u),o.then(s,s))}function I2(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Ee===s&&(se&u)===u&&(We===4||We===3&&(se&62914560)===se&&300>gt()-Gu?(ge&2)===0&&ro(s,0):jp|=u,no===se&&(no=0)),lr(s)}function R1(s,o){o===0&&(o=Ab()),s=qs(s,o),s!==null&&(Jo(s,o),lr(s))}function z2(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),R1(s,u)}function U2(s,o){var u=0;switch(s.tag){case 31:case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(o),R1(s,u)}function H2(s,o){return W(s,o)}var Ju=null,ao=null,qp=!1,td=!1,Vp=!1,Ss=0;function lr(s){s!==ao&&s.next===null&&(ao===null?Ju=ao=s:ao=ao.next=s),td=!0,qp||(qp=!0,q2())}function Dl(s,o){if(!Vp&&td){Vp=!0;do for(var u=!1,f=Ju;f!==null;){if(s!==0){var g=f.pendingLanes;if(g===0)var v=0;else{var M=f.suspendedLanes,z=f.pingedLanes;v=(1<<31-be(42|s)+1)-1,v&=g&~(M&~z),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,L1(f,v))}else v=se,v=ru(f,f===Ee?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||Qo(f,v)||(u=!0,L1(f,v));f=f.next}while(u);Vp=!1}}function $2(){M1()}function M1(){td=qp=!1;var s=0;Ss!==0&&tk()&&(s=Ss);for(var o=gt(),u=null,f=Ju;f!==null;){var g=f.next,v=N1(f,o);v===0?(f.next=null,u===null?Ju=g:u.next=g,g===null&&(ao=u)):(u=f,(s!==0||(v&3)!==0)&&(td=!0)),f=g}mn!==0&&mn!==5||Dl(s),Ss!==0&&(Ss=0)}function N1(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes&-62914561;0<v;){var M=31-be(v),z=1<<M,K=g[M];K===-1?((z&u)===0||(z&f)!==0)&&(g[M]=gT(z,o)):K<=o&&(s.expiredLanes|=z),v&=~z}if(o=Ee,u=se,u=ru(s,s===o?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===o&&(ve===2||ve===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&nt(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Qo(s,u)){if(o=u&-u,o===s.callbackPriority)return o;switch(f!==null&&nt(f),af(u)){case 2:case 8:u=ht;break;case 32:u=vt;break;case 268435456:u=ee;break;default:u=vt}return f=D1.bind(null,s),u=W(u,f),s.callbackPriority=o,s.callbackNode=u,o}return f!==null&&f!==null&&nt(f),s.callbackPriority=2,s.callbackNode=null,2}function D1(s,o){if(mn!==0&&mn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Qu()&&s.callbackNode!==u)return null;var f=se;return f=ru(s,s===Ee?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(p1(s,f,o),N1(s,gt()),s.callbackNode!=null&&s.callbackNode===u?D1.bind(null,s):null)}function L1(s,o){if(Qu())return null;p1(s,o,!0)}function q2(){nk(function(){(ge&6)!==0?W(tt,$2):M1()})}function Gp(){if(Ss===0){var s=Va;s===0&&(s=eu,eu<<=1,(eu&261888)===0&&(eu=256)),Ss=s}return Ss}function P1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:lu(""+s)}function j1(s,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,s.id&&u.setAttribute("form",s.id),o.parentNode.insertBefore(u,o),s=new FormData(s),u.parentNode.removeChild(u),s}function V2(s,o,u,f,g){if(o==="submit"&&u&&u.stateNode===g){var v=P1((g[Xn]||null).action),M=f.submitter;M&&(o=(o=M[Xn]||null)?P1(o.formAction):M.getAttribute("formAction"),o!==null&&(v=o,M=null));var z=new hu("action","action",null,f,g);s.push({event:z,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ss!==0){var K=M?j1(g,M):new FormData(g);hp(u,{pending:!0,data:K,method:g.method,action:v},null,K)}}else typeof v=="function"&&(z.preventDefault(),K=M?j1(g,M):new FormData(g),hp(u,{pending:!0,data:K,method:g.method,action:v},v,K))},currentTarget:g}]})}}for(var Xp=0;Xp<Of.length;Xp++){var Yp=Of[Xp],G2=Yp.toLowerCase(),X2=Yp[0].toUpperCase()+Yp.slice(1);$i(G2,"on"+X2)}$i(fv,"onAnimationEnd"),$i(pv,"onAnimationIteration"),$i(mv,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(c2,"onTransitionRun"),$i(u2,"onTransitionStart"),$i(d2,"onTransitionCancel"),$i(gv,"onTransitionEnd"),Ma("onMouseEnter",["mouseout","mouseover"]),Ma("onMouseLeave",["mouseout","mouseover"]),Ma("onPointerEnter",["pointerout","pointerover"]),Ma("onPointerLeave",["pointerout","pointerover"]),zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function B1(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;t:{var v=void 0;if(o)for(var M=f.length-1;0<=M;M--){var z=f[M],K=z.instance,rt=z.currentTarget;if(z=z.listener,K!==v&&g.isPropagationStopped())break t;v=z,g.currentTarget=rt;try{v(g)}catch(ft){mu(ft)}g.currentTarget=null,v=K}else for(M=0;M<f.length;M++){if(z=f[M],K=z.instance,rt=z.currentTarget,z=z.listener,K!==v&&g.isPropagationStopped())break t;v=z,g.currentTarget=rt;try{v(g)}catch(ft){mu(ft)}g.currentTarget=null,v=K}}}}function re(s,o){var u=o[of];u===void 0&&(u=o[of]=new Set);var f=s+"__bubble";u.has(f)||(F1(o,s,2,!1),u.add(f))}function Wp(s,o,u){var f=0;o&&(f|=4),F1(u,s,f,o)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Kp(s){if(!s[ed]){s[ed]=!0,Mb.forEach(function(u){u!=="selectionchange"&&(Y2.has(u)||Wp(u,!1,s),Wp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[ed]||(o[ed]=!0,Wp("selectionchange",!1,o))}}function F1(s,o,u,f){switch(f_(o)){case 2:var g=xk;break;case 8:g=wk;break;default:g=dm}u=g.bind(null,o,u,s),g=void 0,!gf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function Zp(s,o,u,f,g){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var M=f.tag;if(M===3||M===4){var z=f.stateNode.containerInfo;if(z===g)break;if(M===4)for(M=f.return;M!==null;){var K=M.tag;if((K===3||K===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;z!==null;){if(M=ka(z),M===null)return;if(K=M.tag,K===5||K===6||K===26||K===27){f=v=M;continue t}z=z.parentNode}}f=f.return}$b(function(){var rt=v,ft=pf(u),mt=[];t:{var at=yv.get(s);if(at!==void 0){var ut=hu,Ot=s;switch(s){case"keypress":if(uu(u)===0)break t;case"keydown":case"keyup":ut=UT;break;case"focusin":Ot="focus",ut=_f;break;case"focusout":Ot="blur",ut=_f;break;case"beforeblur":case"afterblur":ut=_f;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=OT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=qT;break;case fv:case pv:case mv:ut=NT;break;case gv:ut=GT;break;case"scroll":case"scrollend":ut=TT;break;case"wheel":ut=YT;break;case"copy":case"cut":case"paste":ut=LT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Yb;break;case"toggle":case"beforetoggle":ut=KT}var Ft=(o&4)!==0,we=!Ft&&(s==="scroll"||s==="scrollend"),et=Ft?at!==null?at+"Capture":null:at;Ft=[];for(var Z=rt,it;Z!==null;){var pt=Z;if(it=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||it===null||et===null||(pt=nl(Z,et),pt!=null&&Ft.push(Pl(Z,pt,it))),we)break;Z=Z.return}0<Ft.length&&(at=new ut(at,Ot,null,u,ft),mt.push({event:at,listeners:Ft}))}}if((o&7)===0){t:{if(at=s==="mouseover"||s==="pointerover",ut=s==="mouseout"||s==="pointerout",at&&u!==ff&&(Ot=u.relatedTarget||u.fromElement)&&(ka(Ot)||Ot[Ta]))break t;if((ut||at)&&(at=ft.window===ft?ft:(at=ft.ownerDocument)?at.defaultView||at.parentWindow:window,ut?(Ot=u.relatedTarget||u.toElement,ut=rt,Ot=Ot?ka(Ot):null,Ot!==null&&(we=a(Ot),Ft=Ot.tag,Ot!==we||Ft!==5&&Ft!==27&&Ft!==6)&&(Ot=null)):(ut=null,Ot=rt),ut!==Ot)){if(Ft=Gb,pt="onMouseLeave",et="onMouseEnter",Z="mouse",(s==="pointerout"||s==="pointerover")&&(Ft=Yb,pt="onPointerLeave",et="onPointerEnter",Z="pointer"),we=ut==null?at:el(ut),it=Ot==null?at:el(Ot),at=new Ft(pt,Z+"leave",ut,u,ft),at.target=we,at.relatedTarget=it,pt=null,ka(ft)===rt&&(Ft=new Ft(et,Z+"enter",Ot,u,ft),Ft.target=it,Ft.relatedTarget=we,pt=Ft),we=pt,ut&&Ot)e:{for(Ft=W2,et=ut,Z=Ot,it=0,pt=et;pt;pt=Ft(pt))it++;pt=0;for(var Pt=Z;Pt;Pt=Ft(Pt))pt++;for(;0<it-pt;)et=Ft(et),it--;for(;0<pt-it;)Z=Ft(Z),pt--;for(;it--;){if(et===Z||Z!==null&&et===Z.alternate){Ft=et;break e}et=Ft(et),Z=Ft(Z)}Ft=null}else Ft=null;ut!==null&&I1(mt,at,ut,Ft,!1),Ot!==null&&we!==null&&I1(mt,we,Ot,Ft,!0)}}t:{if(at=rt?el(rt):window,ut=at.nodeName&&at.nodeName.toLowerCase(),ut==="select"||ut==="input"&&at.type==="file")var pe=nv;else if(tv(at))if(iv)pe=a2;else{pe=r2;var Mt=i2}else ut=at.nodeName,!ut||ut.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?rt&&hf(rt.elementType)&&(pe=nv):pe=s2;if(pe&&(pe=pe(s,rt))){ev(mt,pe,u,ft);break t}Mt&&Mt(s,at,rt),s==="focusout"&&rt&&at.type==="number"&&rt.memoizedProps.value!=null&&df(at,"number",at.value)}switch(Mt=rt?el(rt):window,s){case"focusin":(tv(Mt)||Mt.contentEditable==="true")&&(Ba=Mt,Cf=rt,ul=null);break;case"focusout":ul=Cf=Ba=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,dv(mt,u,ft);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":dv(mt,u,ft)}var Zt;if(xf)t:{switch(s){case"compositionstart":var ae="onCompositionStart";break t;case"compositionend":ae="onCompositionEnd";break t;case"compositionupdate":ae="onCompositionUpdate";break t}ae=void 0}else ja?Qb(s,u)&&(ae="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(ae="onCompositionStart");ae&&(Wb&&u.locale!=="ko"&&(ja||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ja&&(Zt=qb()):(ss=ft,yf="value"in ss?ss.value:ss.textContent,ja=!0)),Mt=nd(rt,ae),0<Mt.length&&(ae=new Xb(ae,s,null,u,ft),mt.push({event:ae,listeners:Mt}),Zt?ae.data=Zt:(Zt=Jb(u),Zt!==null&&(ae.data=Zt)))),(Zt=QT?JT(s,u):t2(s,u))&&(ae=nd(rt,"onBeforeInput"),0<ae.length&&(Mt=new Xb("onBeforeInput","beforeinput",null,u,ft),mt.push({event:Mt,listeners:ae}),Mt.data=Zt)),V2(mt,s,rt,u,ft)}B1(mt,o)})}function Pl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function nd(s,o){for(var u=o+"Capture",f=[];s!==null;){var g=s,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=nl(s,u),g!=null&&f.unshift(Pl(s,g,v)),g=nl(s,o),g!=null&&f.push(Pl(s,g,v))),s.tag===3)return f;s=s.return}return[]}function W2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function I1(s,o,u,f,g){for(var v=o._reactName,M=[];u!==null&&u!==f;){var z=u,K=z.alternate,rt=z.stateNode;if(z=z.tag,K!==null&&K===f)break;z!==5&&z!==26&&z!==27||rt===null||(K=rt,g?(rt=nl(u,v),rt!=null&&M.unshift(Pl(u,rt,K))):g||(rt=nl(u,v),rt!=null&&M.push(Pl(u,rt,K)))),u=u.return}M.length!==0&&s.push({event:o,listeners:M})}var K2=/\r\n?/g,Z2=/\u0000|\uFFFD/g;function z1(s){return(typeof s=="string"?s:""+s).replace(K2,`
`).replace(Z2,"")}function U1(s,o){return o=z1(o),z1(s)===o}function xe(s,o,u,f,g,v){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Da(s,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Da(s,""+f);break;case"className":au(s,"class",f);break;case"tabIndex":au(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":au(s,u,f);break;case"style":Ub(s,f,v);break;case"data":if(o!=="object"){au(s,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=lu(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(o!=="input"&&xe(s,o,"name",g.name,g,null),xe(s,o,"formEncType",g.formEncType,g,null),xe(s,o,"formMethod",g.formMethod,g,null),xe(s,o,"formTarget",g.formTarget,g,null)):(xe(s,o,"encType",g.encType,g,null),xe(s,o,"method",g.method,g,null),xe(s,o,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=lu(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Tr);break;case"onScroll":f!=null&&re("scroll",s);break;case"onScrollEnd":f!=null&&re("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=lu(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":re("beforetoggle",s),re("toggle",s),su(s,"popover",f);break;case"xlinkActuate":Cr(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Cr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Cr(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Cr(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Cr(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Cr(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":su(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ET.get(u)||u,su(s,u,f))}}function Qp(s,o,u,f,g,v){switch(u){case"style":Ub(s,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof f=="string"?Da(s,f):(typeof f=="number"||typeof f=="bigint")&&Da(s,""+f);break;case"onScroll":f!=null&&re("scroll",s);break;case"onScrollEnd":f!=null&&re("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nb.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),o=u.slice(2,g?u.length-7:void 0),v=s[Xn]||null,v=v!=null?v[u]:null,typeof v=="function"&&s.removeEventListener(o,v,g),typeof f=="function")){typeof v!="function"&&v!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(o,f,g);break t}u in s?s[u]=f:f===!0?s.setAttribute(u,""):su(s,u,f)}}}function kn(s,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":re("error",s),re("load",s);var f=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var M=u[v];if(M!=null)switch(v){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(s,o,v,M,u,null)}}g&&xe(s,o,"srcSet",u.srcSet,u,null),f&&xe(s,o,"src",u.src,u,null);return;case"input":re("invalid",s);var z=v=M=g=null,K=null,rt=null;for(f in u)if(u.hasOwnProperty(f)){var ft=u[f];if(ft!=null)switch(f){case"name":g=ft;break;case"type":M=ft;break;case"checked":K=ft;break;case"defaultChecked":rt=ft;break;case"value":v=ft;break;case"defaultValue":z=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(i(137,o));break;default:xe(s,o,f,ft,u,null)}}Bb(s,v,z,K,rt,M,g,!1);return;case"select":re("invalid",s),f=M=v=null;for(g in u)if(u.hasOwnProperty(g)&&(z=u[g],z!=null))switch(g){case"value":v=z;break;case"defaultValue":M=z;break;case"multiple":f=z;default:xe(s,o,g,z,u,null)}o=v,u=M,s.multiple=!!f,o!=null?Na(s,!!f,o,!1):u!=null&&Na(s,!!f,u,!0);return;case"textarea":re("invalid",s),v=g=f=null;for(M in u)if(u.hasOwnProperty(M)&&(z=u[M],z!=null))switch(M){case"value":f=z;break;case"defaultValue":g=z;break;case"children":v=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:xe(s,o,M,z,u,null)}Ib(s,f,g,v);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(f=u[K],f!=null))switch(K){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:xe(s,o,K,f,u,null)}return;case"dialog":re("beforetoggle",s),re("toggle",s),re("cancel",s),re("close",s);break;case"iframe":case"object":re("load",s);break;case"video":case"audio":for(f=0;f<Ll.length;f++)re(Ll[f],s);break;case"image":re("error",s),re("load",s);break;case"details":re("toggle",s);break;case"embed":case"source":case"link":re("error",s),re("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in u)if(u.hasOwnProperty(rt)&&(f=u[rt],f!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:xe(s,o,rt,f,u,null)}return;default:if(hf(o)){for(ft in u)u.hasOwnProperty(ft)&&(f=u[ft],f!==void 0&&Qp(s,o,ft,f,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(f=u[z],f!=null&&xe(s,o,z,f,u,null))}function Q2(s,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,M=null,z=null,K=null,rt=null,ft=null;for(ut in u){var mt=u[ut];if(u.hasOwnProperty(ut)&&mt!=null)switch(ut){case"checked":break;case"value":break;case"defaultValue":K=mt;default:f.hasOwnProperty(ut)||xe(s,o,ut,null,f,mt)}}for(var at in f){var ut=f[at];if(mt=u[at],f.hasOwnProperty(at)&&(ut!=null||mt!=null))switch(at){case"type":v=ut;break;case"name":g=ut;break;case"checked":rt=ut;break;case"defaultChecked":ft=ut;break;case"value":M=ut;break;case"defaultValue":z=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(i(137,o));break;default:ut!==mt&&xe(s,o,at,ut,f,mt)}}uf(s,M,z,K,rt,ft,v,g);return;case"select":ut=M=z=at=null;for(v in u)if(K=u[v],u.hasOwnProperty(v)&&K!=null)switch(v){case"value":break;case"multiple":ut=K;default:f.hasOwnProperty(v)||xe(s,o,v,null,f,K)}for(g in f)if(v=f[g],K=u[g],f.hasOwnProperty(g)&&(v!=null||K!=null))switch(g){case"value":at=v;break;case"defaultValue":z=v;break;case"multiple":M=v;default:v!==K&&xe(s,o,g,v,f,K)}o=z,u=M,f=ut,at!=null?Na(s,!!u,at,!1):!!f!=!!u&&(o!=null?Na(s,!!u,o,!0):Na(s,!!u,u?[]:"",!1));return;case"textarea":ut=at=null;for(z in u)if(g=u[z],u.hasOwnProperty(z)&&g!=null&&!f.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:xe(s,o,z,null,f,g)}for(M in f)if(g=f[M],v=u[M],f.hasOwnProperty(M)&&(g!=null||v!=null))switch(M){case"value":at=g;break;case"defaultValue":ut=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==v&&xe(s,o,M,g,f,v)}Fb(s,at,ut);return;case"option":for(var Ot in u)if(at=u[Ot],u.hasOwnProperty(Ot)&&at!=null&&!f.hasOwnProperty(Ot))switch(Ot){case"selected":s.selected=!1;break;default:xe(s,o,Ot,null,f,at)}for(K in f)if(at=f[K],ut=u[K],f.hasOwnProperty(K)&&at!==ut&&(at!=null||ut!=null))switch(K){case"selected":s.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:xe(s,o,K,at,f,ut)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in u)at=u[Ft],u.hasOwnProperty(Ft)&&at!=null&&!f.hasOwnProperty(Ft)&&xe(s,o,Ft,null,f,at);for(rt in f)if(at=f[rt],ut=u[rt],f.hasOwnProperty(rt)&&at!==ut&&(at!=null||ut!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,o));break;default:xe(s,o,rt,at,f,ut)}return;default:if(hf(o)){for(var we in u)at=u[we],u.hasOwnProperty(we)&&at!==void 0&&!f.hasOwnProperty(we)&&Qp(s,o,we,void 0,f,at);for(ft in f)at=f[ft],ut=u[ft],!f.hasOwnProperty(ft)||at===ut||at===void 0&&ut===void 0||Qp(s,o,ft,at,f,ut);return}}for(var et in u)at=u[et],u.hasOwnProperty(et)&&at!=null&&!f.hasOwnProperty(et)&&xe(s,o,et,null,f,at);for(mt in f)at=f[mt],ut=u[mt],!f.hasOwnProperty(mt)||at===ut||at==null&&ut==null||xe(s,o,mt,at,f,ut)}function H1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var g=u[f],v=g.transferSize,M=g.initiatorType,z=g.duration;if(v&&z&&H1(M)){for(M=0,z=g.responseEnd,f+=1;f<u.length;f++){var K=u[f],rt=K.startTime;if(rt>z)break;var ft=K.transferSize,mt=K.initiatorType;ft&&H1(mt)&&(K=K.responseEnd,M+=ft*(K<z?1:(z-rt)/(K-rt)))}if(--f,o+=8*(v+M)/(g.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Jp=null,tm=null;function id(s){return s.nodeType===9?s:s.ownerDocument}function $1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q1(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function em(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var nm=null;function tk(){var s=window.event;return s&&s.type==="popstate"?s===nm?!1:(nm=s,!0):(nm=null,!1)}var V1=typeof setTimeout=="function"?setTimeout:void 0,ek=typeof clearTimeout=="function"?clearTimeout:void 0,G1=typeof Promise=="function"?Promise:void 0,nk=typeof queueMicrotask=="function"?queueMicrotask:typeof G1<"u"?function(s){return G1.resolve(null).then(s).catch(ik)}:V1;function ik(s){setTimeout(function(){throw s})}function xs(s){return s==="head"}function X1(s,o){var u=o,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(f===0){s.removeChild(g),uo(o);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")jl(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,jl(u);for(var v=u.firstChild;v;){var M=v.nextSibling,z=v.nodeName;v[tl]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=M}}else u==="body"&&jl(s.ownerDocument.body);u=g}while(u);uo(o)}function Y1(s,o){var u=s;s=0;do{var f=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=f}while(u)}function im(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":im(u),lf(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function rk(s,o,u,f){for(;s.nodeType===1;){var g=u;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[tl])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(v=s.getAttribute("rel"),v==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(v!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(v=s.getAttribute("src"),(v!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===v)return s}else return s;if(s=Di(s.nextSibling),s===null)break}return null}function sk(s,o,u){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Di(s.nextSibling),s===null))return null;return s}function W1(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Di(s.nextSibling),s===null))return null;return s}function rm(s){return s.data==="$?"||s.data==="$~"}function sm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function ak(s,o){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||u.readyState!=="loading")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Di(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var am=null;function K1(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(o===0)return Di(s.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}s=s.nextSibling}return null}function Z1(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return s;o--}else u!=="/$"&&u!=="/&"||o++}s=s.previousSibling}return null}function Q1(s,o,u){switch(o=id(u),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function jl(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);lf(s)}var Li=new Map,J1=new Set;function rd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var $r=C.d;C.d={f:ok,r:lk,D:ck,C:uk,L:dk,m:hk,X:pk,S:fk,M:mk};function ok(){var s=$r.f(),o=Wu();return s||o}function lk(s){var o=Oa(s);o!==null&&o.tag===5&&o.type==="form"?g0(o):$r.r(s)}var oo=typeof document>"u"?null:document;function t_(s,o,u){var f=oo;if(f&&typeof o=="string"&&o){var g=Ci(o);g='link[rel="'+s+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),J1.has(g)||(J1.add(g),s={rel:s,crossOrigin:u,href:o},f.querySelector(g)===null&&(o=f.createElement("link"),kn(o,"link",s),yn(o),f.head.appendChild(o)))}}function ck(s){$r.D(s),t_("dns-prefetch",s,null)}function uk(s,o){$r.C(s,o),t_("preconnect",s,o)}function dk(s,o,u){$r.L(s,o,u);var f=oo;if(f&&s&&o){var g='link[rel="preload"][as="'+Ci(o)+'"]';o==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Ci(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Ci(u.imageSizes)+'"]')):g+='[href="'+Ci(s)+'"]';var v=g;switch(o){case"style":v=lo(s);break;case"script":v=co(s)}Li.has(v)||(s=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:s,as:o},u),Li.set(v,s),f.querySelector(g)!==null||o==="style"&&f.querySelector(Bl(v))||o==="script"&&f.querySelector(Fl(v))||(o=f.createElement("link"),kn(o,"link",s),yn(o),f.head.appendChild(o)))}}function hk(s,o){$r.m(s,o);var u=oo;if(u&&s){var f=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+Ci(f)+'"][href="'+Ci(s)+'"]',v=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=co(s)}if(!Li.has(v)&&(s=m({rel:"modulepreload",href:s},o),Li.set(v,s),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Fl(v)))return}f=u.createElement("link"),kn(f,"link",s),yn(f),u.head.appendChild(f)}}}function fk(s,o,u){$r.S(s,o,u);var f=oo;if(f&&s){var g=Ra(f).hoistableStyles,v=lo(s);o=o||"default";var M=g.get(v);if(!M){var z={loading:0,preload:null};if(M=f.querySelector(Bl(v)))z.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},u),(u=Li.get(v))&&om(s,u);var K=M=f.createElement("link");yn(K),kn(K,"link",s),K._p=new Promise(function(rt,ft){K.onload=rt,K.onerror=ft}),K.addEventListener("load",function(){z.loading|=1}),K.addEventListener("error",function(){z.loading|=2}),z.loading|=4,sd(M,o,f)}M={type:"stylesheet",instance:M,count:1,state:z},g.set(v,M)}}}function pk(s,o){$r.X(s,o);var u=oo;if(u&&s){var f=Ra(u).hoistableScripts,g=co(s),v=f.get(g);v||(v=u.querySelector(Fl(g)),v||(s=m({src:s,async:!0},o),(o=Li.get(g))&&lm(s,o),v=u.createElement("script"),yn(v),kn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function mk(s,o){$r.M(s,o);var u=oo;if(u&&s){var f=Ra(u).hoistableScripts,g=co(s),v=f.get(g);v||(v=u.querySelector(Fl(g)),v||(s=m({src:s,async:!0,type:"module"},o),(o=Li.get(g))&&lm(s,o),v=u.createElement("script"),yn(v),kn(v,"link",s),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function e_(s,o,u,f){var g=(g=st.current)?rd(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=lo(u.href),u=Ra(g).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=lo(u.href);var v=Ra(g).hoistableStyles,M=v.get(s);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(s,M),(v=g.querySelector(Bl(s)))&&!v._p&&(M.instance=v,M.state.loading=5),Li.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Li.set(s,u),v||gk(g,s,u,M.state))),o&&f===null)throw Error(i(528,""));return M}if(o&&f!==null)throw Error(i(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=co(u),u=Ra(g).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function lo(s){return'href="'+Ci(s)+'"'}function Bl(s){return'link[rel="stylesheet"]['+s+"]"}function n_(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function gk(s,o,u,f){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=s.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),kn(o,"link",u),yn(o),s.head.appendChild(o))}function co(s){return'[src="'+Ci(s)+'"]'}function Fl(s){return"script[async]"+s}function i_(s,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=s.querySelector('style[data-href~="'+Ci(u.href)+'"]');if(f)return o.instance=f,yn(f),f;var g=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),yn(f),kn(f,"style",g),sd(f,u.precedence,s),o.instance=f;case"stylesheet":g=lo(u.href);var v=s.querySelector(Bl(g));if(v)return o.state.loading|=4,o.instance=v,yn(v),v;f=n_(u),(g=Li.get(g))&&om(f,g),v=(s.ownerDocument||s).createElement("link"),yn(v);var M=v;return M._p=new Promise(function(z,K){M.onload=z,M.onerror=K}),kn(v,"link",f),o.state.loading|=4,sd(v,u.precedence,s),o.instance=v;case"script":return v=co(u.src),(g=s.querySelector(Fl(v)))?(o.instance=g,yn(g),g):(f=u,(g=Li.get(v))&&(f=m({},u),lm(f,g)),s=s.ownerDocument||s,g=s.createElement("script"),yn(g),kn(g,"link",f),s.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,sd(f,u.precedence,s));return o.instance}function sd(s,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,v=g,M=0;M<f.length;M++){var z=f[M];if(z.dataset.precedence===o)v=z;else if(v!==g)break}v?v.parentNode.insertBefore(s,v.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(s,o.firstChild))}function om(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function lm(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var ad=null;function r_(s,o,u){if(ad===null){var f=new Map,g=ad=new Map;g.set(u,f)}else g=ad,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),g=0;g<u.length;g++){var v=u[g];if(!(v[tl]||v[An]||s==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var M=v.getAttribute(o)||"";M=s+M;var z=f.get(M);z?z.push(v):f.set(M,[v])}}return f}function s_(s,o,u){s=s.ownerDocument||s,s.head.insertBefore(u,o==="title"?s.querySelector("head > title"):null)}function yk(s,o,u){if(u===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function a_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function bk(s,o,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=lo(f.href),v=o.querySelector(Bl(g));if(v){o=v._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=od.bind(s),o.then(s,s)),u.state.loading|=4,u.instance=v,yn(v);return}v=o.ownerDocument||o,f=n_(f),(g=Li.get(g))&&om(f,g),v=v.createElement("link"),yn(v);var M=v;M._p=new Promise(function(z,K){M.onload=z,M.onerror=K}),kn(v,"link",f),u.instance=v}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=od.bind(s),o.addEventListener("load",u),o.addEventListener("error",u))}}var cm=0;function vk(s,o){return s.stylesheets&&s.count===0&&cd(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var f=setTimeout(function(){if(s.stylesheets&&cd(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4+o);0<s.imgBytes&&cm===0&&(cm=62500*J2());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&cd(s,s.stylesheets),s.unsuspend)){var v=s.unsuspend;s.unsuspend=null,v()}},(s.imgBytes>cm?50:800)+o);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(f),clearTimeout(g)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ld=null;function cd(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ld=new Map,o.forEach(_k,s),ld=null,od.call(s))}function _k(s,o){if(!(o.state.loading&4)){var u=ld.get(s);if(u)var f=u.get(null);else{u=new Map,ld.set(s,u);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var M=g[v];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(u.set(M.dataset.precedence,M),f=M)}f&&u.set(null,f)}g=o.instance,M=g.getAttribute("data-precedence"),v=u.get(M)||f,v===f&&u.set(null,g),u.set(M,g),this.count++,f=od.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),v?v.parentNode.insertBefore(g,v.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),o.state.loading|=4}}var Il={$$typeof:k,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Sk(s,o,u,f,g,v,M,z,K){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rf(0),this.hiddenUpdates=rf(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function o_(s,o,u,f,g,v,M,z,K,rt,ft,mt){return s=new Sk(s,o,u,M,K,rt,ft,mt,z),o=1,v===!0&&(o|=24),v=di(3,null,null,o),s.current=v,v.stateNode=s,o=Hf(),o.refCount++,s.pooledCache=o,o.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:o},Gf(v),s}function l_(s){return s?(s=za,s):za}function c_(s,o,u,f,g,v){g=l_(g),f.context===null?f.context=g:f.pendingContext=g,f=ds(o),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=hs(s,f,o),u!==null&&(Jn(u,s,o),yl(u,s,o))}function u_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function um(s,o){u_(s,o),(s=s.alternate)&&u_(s,o)}function d_(s){if(s.tag===13||s.tag===31){var o=qs(s,67108864);o!==null&&Jn(o,s,67108864),um(s,67108864)}}function h_(s){if(s.tag===13||s.tag===31){var o=gi();o=sf(o);var u=qs(s,o);u!==null&&Jn(u,s,o),um(s,o)}}var ud=!0;function xk(s,o,u,f){var g=U.T;U.T=null;var v=C.p;try{C.p=2,dm(s,o,u,f)}finally{C.p=v,U.T=g}}function wk(s,o,u,f){var g=U.T;U.T=null;var v=C.p;try{C.p=8,dm(s,o,u,f)}finally{C.p=v,U.T=g}}function dm(s,o,u,f){if(ud){var g=hm(f);if(g===null)Zp(s,o,f,dd,u),p_(s,f);else if(Ek(g,s,o,u,f))f.stopPropagation();else if(p_(s,f),o&4&&-1<Ak.indexOf(s)){for(;g!==null;){var v=Oa(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var M=Is(v.pendingLanes);if(M!==0){var z=v;for(z.pendingLanes|=2,z.entangledLanes|=2;M;){var K=1<<31-be(M);z.entanglements[1]|=K,M&=~K}lr(v),(ge&6)===0&&(Xu=gt()+500,Dl(0))}}break;case 31:case 13:z=qs(v,2),z!==null&&Jn(z,v,2),Wu(),um(v,2)}if(v=hm(f),v===null&&Zp(s,o,f,dd,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else Zp(s,o,f,null,u)}}function hm(s){return s=pf(s),fm(s)}var dd=null;function fm(s){if(dd=null,s=ka(s),s!==null){var o=a(s);if(o===null)s=null;else{var u=o.tag;if(u===13){if(s=l(o),s!==null)return s;s=null}else if(u===31){if(s=c(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return dd=s,null}function f_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case tt:return 2;case ht:return 8;case vt:case Dt:return 32;case ee:return 268435456;default:return 32}default:return 32}}var pm=!1,ws=null,As=null,Es=null,zl=new Map,Ul=new Map,Cs=[],Ak="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(s,o){switch(s){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":zl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(o.pointerId)}}function Hl(s,o,u,f,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},o!==null&&(o=Oa(o),o!==null&&d_(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Ek(s,o,u,f,g){switch(o){case"focusin":return ws=Hl(ws,s,o,u,f,g),!0;case"dragenter":return As=Hl(As,s,o,u,f,g),!0;case"mouseover":return Es=Hl(Es,s,o,u,f,g),!0;case"pointerover":var v=g.pointerId;return zl.set(v,Hl(zl.get(v)||null,s,o,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Ul.set(v,Hl(Ul.get(v)||null,s,o,u,f,g)),!0}return!1}function m_(s){var o=ka(s.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){s.blockedOn=o,Ob(s.priority,function(){h_(u)});return}}else if(o===31){if(o=c(u),o!==null){s.blockedOn=o,Ob(s.priority,function(){h_(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function hd(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=hm(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);ff=f,u.target.dispatchEvent(f),ff=null}else return o=Oa(u),o!==null&&d_(o),s.blockedOn=u,!1;o.shift()}return!0}function g_(s,o,u){hd(s)&&u.delete(o)}function Ck(){pm=!1,ws!==null&&hd(ws)&&(ws=null),As!==null&&hd(As)&&(As=null),Es!==null&&hd(Es)&&(Es=null),zl.forEach(g_),Ul.forEach(g_)}function fd(s,o){s.blockedOn===o&&(s.blockedOn=null,pm||(pm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ck)))}var pd=null;function y_(s){pd!==s&&(pd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pd===s&&(pd=null);for(var o=0;o<s.length;o+=3){var u=s[o],f=s[o+1],g=s[o+2];if(typeof f!="function"){if(fm(f||u)===null)continue;break}var v=Oa(u);v!==null&&(s.splice(o,3),o-=3,hp(v,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function uo(s){function o(K){return fd(K,s)}ws!==null&&fd(ws,s),As!==null&&fd(As,s),Es!==null&&fd(Es,s),zl.forEach(o),Ul.forEach(o);for(var u=0;u<Cs.length;u++){var f=Cs[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Cs.length&&(u=Cs[0],u.blockedOn===null);)m_(u),u.blockedOn===null&&Cs.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],v=u[f+1],M=g[Xn]||null;if(typeof v=="function")M||y_(u);else if(M){var z=null;if(v&&v.hasAttribute("formAction")){if(g=v,M=v[Xn]||null)z=M.formAction;else if(fm(g)!==null)continue}else z=M.action;typeof z=="function"?u[f+1]=z:(u.splice(f,3),f-=3),y_(u)}}}function b_(){function s(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(M){return g=M})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function mm(s){this._internalRoot=s}md.prototype.render=mm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var u=o.current,f=gi();c_(u,f,s,o,null,null)},md.prototype.unmount=mm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;c_(s.current,2,null,s,null,null),Wu(),o[Ta]=null}};function md(s){this._internalRoot=s}md.prototype.unstable_scheduleHydration=function(s){if(s){var o=kb();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Cs.length&&o!==0&&o<Cs[u].priority;u++);Cs.splice(u,0,s),u===0&&m_(s)}};var v_=t.version;if(v_!=="19.2.0")throw Error(i(527,v_,"19.2.0"));C.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var Tk={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{pn=gd.inject(Tk),ze=gd}catch{}}return ql.createRoot=function(s,o){if(!r(s))throw Error(i(299));var u=!1,f="",g=C0,v=T0,M=k0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=o_(s,1,!1,null,null,u,f,null,g,v,M,b_),s[Ta]=o.current,Kp(s),new mm(o)},ql.hydrateRoot=function(s,o,u){if(!r(s))throw Error(i(299));var f=!1,g="",v=C0,M=T0,z=k0,K=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(M=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=o_(s,1,!0,o,u??null,f,g,K,v,M,z,b_),o.context=l_(null),u=o.current,f=gi(),f=sf(f),g=ds(f),g.callback=null,hs(u,g,f),u=f,o.current.lanes=u,Jo(o,u),lr(o),s[Ta]=o.current,Kp(s),new md(o)},ql.version="19.2.0",ql}var M_;function Fk(){if(M_)return vm.exports;M_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vm.exports=Bk(),vm.exports}var Ik=Fk();var N_="popstate";function zk(n={}){function t(i,r){let{pathname:a,search:l,hash:c}=i.location;return gg("",{pathname:a,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:bc(r)}return Hk(t,e,null,n)}function Ie(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ui(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Uk(){return Math.random().toString(36).substring(2,10)}function D_(n,t){return{usr:n.state,key:n.key,idx:t}}function gg(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Ho(t):t,state:e,key:t&&t.key||i||Uk()}}function bc({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Ho(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function Hk(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,l=r.history,c="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function m(){c="POP";let E=p(),w=E==null?null:E-h;h=E,d&&d({action:c,location:_.location,delta:w})}function y(E,w){c="PUSH";let T=gg(_.location,E,w);h=p()+1;let k=D_(T,h),F=_.createHref(T);try{l.pushState(k,"",F)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(F)}a&&d&&d({action:c,location:_.location,delta:1})}function b(E,w){c="REPLACE";let T=gg(_.location,E,w);h=p();let k=D_(T,h),F=_.createHref(T);l.replaceState(k,"",F),a&&d&&d({action:c,location:_.location,delta:0})}function S(E){return $k(E)}let _={get action(){return c},get location(){return n(r,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(N_,m),d=E,()=>{r.removeEventListener(N_,m),d=null}},createHref(E){return t(r,E)},createURL:S,encodeLocation(E){let w=S(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:b,go(E){return l.go(E)}};return _}function $k(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ie(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:bc(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function zw(n,t,e="/"){return qk(n,t,e,!1)}function qk(n,t,e,i){let r=typeof t=="string"?Ho(t):t,a=Qr(r.pathname||"/",e);if(a==null)return null;let l=Uw(n);Vk(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=nO(a);c=tO(l[d],h,i)}return c}function Uw(n,t=[],e=[],i="",r=!1){let a=(l,c,d=r,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&d)return;Ie(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let m=Wr([i,p.relativePath]),y=e.concat(p);l.children&&l.children.length>0&&(Ie(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Uw(l.children,t,y,m,d)),!(l.path==null&&!l.index)&&t.push({path:m,score:Qk(m,l.index),routesMeta:y})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of Hw(l.path))a(l,c,!0,d)}),t}function Hw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),a=e.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let l=Hw(i.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),r&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function Vk(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:Jk(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var Gk=/^:[\w-]+$/,Xk=3,Yk=2,Wk=1,Kk=10,Zk=-2,L_=n=>n==="*";function Qk(n,t){let e=n.split("/"),i=e.length;return e.some(L_)&&(i+=Zk),t&&(i+=Yk),e.filter(r=>!L_(r)).reduce((r,a)=>r+(Gk.test(a)?Xk:a===""?Wk:Kk),i)}function Jk(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function tO(n,t,e=!1){let{routesMeta:i}=n,r={},a="/",l=[];for(let c=0;c<i.length;++c){let d=i[c],h=c===i.length-1,p=a==="/"?t:t.slice(a.length)||"/",m=Jd({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!m&&h&&e&&!i[i.length-1].route.index&&(m=Jd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!m)return null;Object.assign(r,m.params),l.push({params:r,pathname:Wr([a,m.pathname]),pathnameBase:oO(Wr([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Wr([a,m.pathnameBase]))}return l}function Jd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=eO(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:m},y)=>{if(p==="*"){let S=c[y]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=c[y];return m&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function eO(n,t=!1,e=!0){Ui(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(i.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function nO(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ui(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Qr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var iO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rO=n=>iO.test(n);function sO(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Ho(n):n,a;if(e)if(rO(e))a=e;else{if(e.includes("//")){let l=e;e=e.replace(/\/\/+/g,"/"),Ui(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${e}`)}e.startsWith("/")?a=P_(e.substring(1),"/"):a=P_(e,t)}else a=t;return{pathname:a,search:lO(i),hash:cO(r)}}function P_(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function wm(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aO(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function hy(n){let t=aO(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function fy(n,t,e,i=!1){let r;typeof n=="string"?r=Ho(n):(r={...n},Ie(!r.pathname||!r.pathname.includes("?"),wm("?","pathname","search",r)),Ie(!r.pathname||!r.pathname.includes("#"),wm("#","pathname","hash",r)),Ie(!r.search||!r.search.includes("#"),wm("#","search","hash",r)));let a=n===""||r.pathname==="",l=a?"/":r.pathname,c;if(l==null)c=e;else{let m=t.length-1;if(!i&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),m-=1;r.pathname=y.join("/")}c=m>=0?t[m]:"/"}let d=sO(r,c),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Wr=n=>n.join("/").replace(/\/\/+/g,"/"),oO=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),lO=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cO=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function uO(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $w=["POST","PUT","PATCH","DELETE"];new Set($w);var dO=["GET",...$w];new Set(dO);var $o=$.createContext(null);$o.displayName="DataRouter";var Ah=$.createContext(null);Ah.displayName="DataRouterState";$.createContext(!1);var qw=$.createContext({isTransitioning:!1});qw.displayName="ViewTransition";var hO=$.createContext(new Map);hO.displayName="Fetchers";var fO=$.createContext(null);fO.displayName="Await";var er=$.createContext(null);er.displayName="Navigation";var Mc=$.createContext(null);Mc.displayName="Location";var nr=$.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var py=$.createContext(null);py.displayName="RouteError";function pO(n,{relative:t}={}){Ie(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=$.useContext(er),{hash:r,pathname:a,search:l}=Nc(n,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:Wr([e,a])),i.createHref({pathname:c,search:l,hash:r})}function qo(){return $.useContext(Mc)!=null}function is(){return Ie(qo(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Mc).location}var Vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gw(n){$.useContext(er).static||$.useLayoutEffect(n)}function Vo(){let{isDataRoute:n}=$.useContext(nr);return n?TO():mO()}function mO(){Ie(qo(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext($o),{basename:t,navigator:e}=$.useContext(er),{matches:i}=$.useContext(nr),{pathname:r}=is(),a=JSON.stringify(hy(i)),l=$.useRef(!1);return Gw(()=>{l.current=!0}),$.useCallback((d,h={})=>{if(Ui(l.current,Vw),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=fy(d,JSON.parse(a),r,h.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Wr([t,p.pathname])),(h.replace?e.replace:e.push)(p,h.state,h)},[t,e,a,r,n])}$.createContext(null);function my(){let{matches:n}=$.useContext(nr),t=n[n.length-1];return t?t.params:{}}function Nc(n,{relative:t}={}){let{matches:e}=$.useContext(nr),{pathname:i}=is(),r=JSON.stringify(hy(e));return $.useMemo(()=>fy(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function gO(n,t){return Xw(n,t)}function Xw(n,t,e,i,r){Ie(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(er),{matches:l}=$.useContext(nr),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";Yw(h,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=is(),b;if(t){let T=typeof t=="string"?Ho(t):t;Ie(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=y;let S=b.pathname||"/",_=S;if(p!=="/"){let T=p.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=zw(n,{pathname:_});Ui(m||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ui(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=SO(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:Wr([p,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Wr([p,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),l,e,i,r);return t&&w?$.createElement(Mc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},w):w}function yO(){let n=CO(),t=uO(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:a},"ErrorBoundary")," or"," ",$.createElement("code",{style:a},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),e?$.createElement("pre",{style:r},e):null,l)}var bO=$.createElement(yO,null),vO=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?$.createElement(nr.Provider,{value:this.props.routeContext},$.createElement(py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _O({routeContext:n,match:t,children:e}){let i=$.useContext($o);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(nr.Provider,{value:n},e)}function SO(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,l=e?.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Ie(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(e)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:b}=e,S=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let h=e&&i?(p,m)=>{i(p,{location:e.location,params:e.matches?.[0]?.params??{},errorInfo:m})}:void 0;return a.reduceRight((p,m,y)=>{let b,S=!1,_=null,E=null;e&&(b=l&&m.route.id?l[m.route.id]:void 0,_=m.route.errorElement||bO,c&&(d<0&&y===0?(Yw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):d===y&&(S=!0,E=m.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,y+1)),T=()=>{let k;return b?k=_:S?k=E:m.route.Component?k=$.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=p,$.createElement(_O,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:e!=null},children:k})};return e&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?$.createElement(vO,{location:e.location,revalidation:e.revalidation,component:_,error:b,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:h}):T()},null)}function gy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xO(n){let t=$.useContext($o);return Ie(t,gy(n)),t}function wO(n){let t=$.useContext(Ah);return Ie(t,gy(n)),t}function AO(n){let t=$.useContext(nr);return Ie(t,gy(n)),t}function yy(n){let t=AO(n),e=t.matches[t.matches.length-1];return Ie(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function EO(){return yy("useRouteId")}function CO(){let n=$.useContext(py),t=wO("useRouteError"),e=yy("useRouteError");return n!==void 0?n:t.errors?.[e]}function TO(){let{router:n}=xO("useNavigate"),t=yy("useNavigate"),e=$.useRef(!1);return Gw(()=>{e.current=!0}),$.useCallback(async(r,a={})=>{Ui(e.current,Vw),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...a}))},[n,t])}var j_={};function Yw(n,t,e){!t&&!j_[n]&&(j_[n]=!0,Ui(!1,e))}$.memo(kO);function kO({routes:n,future:t,state:e,unstable_onError:i}){return Xw(n,void 0,e,i,t)}function Ww({to:n,replace:t,state:e,relative:i}){Ie(qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=$.useContext(er);Ui(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=$.useContext(nr),{pathname:l}=is(),c=Vo(),d=fy(n,hy(a),l,i==="path"),h=JSON.stringify(d);return $.useEffect(()=>{c(JSON.parse(h),{replace:t,state:e,relative:i})},[c,h,i,t,e]),null}function oa(n){Ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OO({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:a=!1}){Ie(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=$.useMemo(()=>({basename:l,navigator:r,static:a,future:{}}),[l,r,a]);typeof e=="string"&&(e=Ho(e));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=e,b=$.useMemo(()=>{let S=Qr(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:m,key:y},navigationType:i}},[l,d,h,p,m,y,i]);return Ui(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:$.createElement(er.Provider,{value:c},$.createElement(Mc.Provider,{children:t,value:b}))}function RO({children:n,location:t}){return gO(yg(n),t)}function yg(n,t=[]){let e=[];return $.Children.forEach(n,(i,r)=>{if(!$.isValidElement(i))return;let a=[...t,r];if(i.type===$.Fragment){e.push.apply(e,yg(i.props.children,a));return}Ie(i.type===oa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ie(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=yg(i.props.children,a)),e.push(l)}),e}var Fd="get",Id="application/x-www-form-urlencoded";function Eh(n){return n!=null&&typeof n.tagName=="string"}function MO(n){return Eh(n)&&n.tagName.toLowerCase()==="button"}function NO(n){return Eh(n)&&n.tagName.toLowerCase()==="form"}function DO(n){return Eh(n)&&n.tagName.toLowerCase()==="input"}function LO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function PO(n,t){return n.button===0&&(!t||t==="_self")&&!LO(n)}var bd=null;function jO(){if(bd===null)try{new FormData(document.createElement("form"),0),bd=!1}catch{bd=!0}return bd}var BO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(n){return n!=null&&!BO.has(n)?(Ui(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):n}function FO(n,t){let e,i,r,a,l;if(NO(n)){let c=n.getAttribute("action");i=c?Qr(c,t):null,e=n.getAttribute("method")||Fd,r=Am(n.getAttribute("enctype"))||Id,a=new FormData(n)}else if(MO(n)||DO(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(i=d?Qr(d,t):null,e=n.getAttribute("formmethod")||c.getAttribute("method")||Fd,r=Am(n.getAttribute("formenctype"))||Am(c.getAttribute("enctype"))||Id,a=new FormData(c,n),!jO()){let{name:h,type:p,value:m}=n;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,m)}}else{if(Eh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Fd,i=null,r=Id,l=n}return a&&r==="text/plain"&&(l=a,a=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function by(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function IO(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Qr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function zO(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function HO(n,t,e){let i=await Promise.all(n.map(async r=>{let a=t.routes[r.route.id];if(a){let l=await zO(a,e);return l.links?l.links():[]}return[]}));return GO(i.flat(1).filter(UO).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function B_(n,t,e,i,r,a){let l=(d,h)=>e[h]?d.route.id!==e[h].route.id:!0,c=(d,h)=>e[h].pathname!==d.pathname||e[h].route.path?.endsWith("*")&&e[h].params["*"]!==d.params["*"];return a==="assets"?t.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?t.filter((d,h)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function $O(n,t,{includeHydrateFallback:e}={}){return qO(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function qO(n){return[...new Set(n)]}function VO(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function GO(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let a=JSON.stringify(VO(r));return e.has(a)||(e.add(a),i.push({key:a,link:r})),i},[])}function Kw(){let n=$.useContext($o);return by(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function XO(){let n=$.useContext(Ah);return by(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var vy=$.createContext(void 0);vy.displayName="FrameworkContext";function Zw(){let n=$.useContext(vy);return by(n,"You must render this element inside a <HydratedRouter> element"),n}function YO(n,t){let e=$.useContext(vy),[i,r]=$.useState(!1),[a,l]=$.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,y=$.useRef(null);$.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let _=w=>{w.forEach(T=>{l(T.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[n]),$.useEffect(()=>{if(i){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[i]);let b=()=>{r(!0)},S=()=>{r(!1),l(!1)};return e?n!=="intent"?[a,y,{}]:[a,y,{onFocus:Vl(c,b),onBlur:Vl(d,S),onMouseEnter:Vl(h,b),onMouseLeave:Vl(p,S),onTouchStart:Vl(m,b)}]:[!1,y,{}]}function Vl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function WO({page:n,...t}){let{router:e}=Kw(),i=$.useMemo(()=>zw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?$.createElement(ZO,{page:n,matches:i,...t}):null}function KO(n){let{manifest:t,routeModules:e}=Zw(),[i,r]=$.useState([]);return $.useEffect(()=>{let a=!1;return HO(n,t,e).then(l=>{a||r(l)}),()=>{a=!0}},[n,t,e]),i}function ZO({page:n,matches:t,...e}){let i=is(),{manifest:r,routeModules:a}=Zw(),{basename:l}=Kw(),{loaderData:c,matches:d}=XO(),h=$.useMemo(()=>B_(n,t,d,r,i,"data"),[n,t,d,r,i]),p=$.useMemo(()=>B_(n,t,d,r,i,"assets"),[n,t,d,r,i]),m=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,_=!1;if(t.forEach(w=>{let T=r.routes[w.route.id];!T||!T.hasLoader||(!h.some(k=>k.route.id===w.route.id)&&w.route.id in c&&a[w.route.id]?.shouldRevalidate||T.hasClientLoader?_=!0:S.add(w.route.id))}),S.size===0)return[];let E=IO(n,l,"data");return _&&S.size>0&&E.searchParams.set("_routes",t.filter(w=>S.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[l,c,i,r,h,t,n,a]),y=$.useMemo(()=>$O(p,r),[p,r]),b=KO(p);return $.createElement($.Fragment,null,m.map(S=>$.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),y.map(S=>$.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),b.map(({key:S,link:_})=>$.createElement("link",{key:S,nonce:e.nonce,..._})))}function QO(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Qw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qw&&(window.__reactRouterVersion="7.9.6")}catch{}function JO({basename:n,children:t,window:e}){let i=$.useRef();i.current==null&&(i.current=zk({window:e,v5Compat:!0}));let r=i.current,[a,l]=$.useState({action:r.action,location:r.location}),c=$.useCallback(d=>{$.startTransition(()=>l(d))},[l]);return $.useLayoutEffect(()=>r.listen(c),[r,c]),$.createElement(OO,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:r})}var Jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,So=$.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:m,...y},b){let{basename:S}=$.useContext(er),_=typeof h=="string"&&Jw.test(h),E,w=!1;if(typeof h=="string"&&_&&(E=h,Qw))try{let N=new URL(window.location.href),L=h.startsWith("//")?new URL(N.protocol+h):new URL(h),I=Qr(L.pathname,S);L.origin===N.origin&&I!=null?h=I+L.search+L.hash:w=!0}catch{Ui(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=pO(h,{relative:r}),[k,F,O]=YO(i,y),R=iR(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:r,viewTransition:m});function D(N){t&&t(N),N.defaultPrevented||R(N)}let j=$.createElement("a",{...y,...O,href:E||T,onClick:w||a?t:D,ref:QO(b,F),target:d,"data-discover":!_&&e==="render"?"true":void 0});return k&&!_?$.createElement($.Fragment,null,j,$.createElement(WO,{page:T})):j});So.displayName="Link";var tR=$.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:a,to:l,viewTransition:c,children:d,...h},p){let m=Nc(l,{relative:h.relative}),y=is(),b=$.useContext(Ah),{navigator:S,basename:_}=$.useContext(er),E=b!=null&&lR(m)&&c===!0,w=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,T=y.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(T=T.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&_&&(k=Qr(k,_)||k);const F=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let O=T===w||!r&&T.startsWith(w)&&T.charAt(F)==="/",R=k!=null&&(k===w||!r&&k.startsWith(w)&&k.charAt(w.length)==="/"),D={isActive:O,isPending:R,isTransitioning:E},j=O?t:void 0,N;typeof i=="function"?N=i(D):N=[i,O?"active":null,R?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return $.createElement(So,{...h,"aria-current":j,className:N,ref:p,style:L,to:l,viewTransition:c},typeof d=="function"?d(D):d)});tR.displayName="NavLink";var eR=$.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:a,method:l=Fd,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:m,...y},b)=>{let S=aR(),_=oR(c,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&Jw.test(c),T=k=>{if(d&&d(k),k.defaultPrevented)return;k.preventDefault();let F=k.nativeEvent.submitter,O=F?.getAttribute("formmethod")||l;S(F||k.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:r,state:a,relative:h,preventScrollReset:p,viewTransition:m})};return $.createElement("form",{ref:b,method:E,action:_,onSubmit:i?d:T,...y,"data-discover":!w&&n==="render"?"true":void 0})});eR.displayName="Form";function nR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tA(n){let t=$.useContext($o);return Ie(t,nR(n)),t}function iR(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:a,viewTransition:l}={}){let c=Vo(),d=is(),h=Nc(n,{relative:a});return $.useCallback(p=>{if(PO(p,t)){p.preventDefault();let m=e!==void 0?e:bc(d)===bc(h);c(n,{replace:m,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[d,c,h,e,i,t,n,r,a,l])}var rR=0,sR=()=>`__${String(++rR)}__`;function aR(){let{router:n}=tA("useSubmit"),{basename:t}=$.useContext(er),e=EO();return $.useCallback(async(i,r={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=FO(i,t);if(r.navigate===!1){let p=r.fetcherKey||sR();await n.fetch(p,e,r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||c,flushSync:r.flushSync})}else await n.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:d,body:h,formMethod:r.method||l,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function oR(n,{relative:t}={}){let{basename:e}=$.useContext(er),i=$.useContext(nr);Ie(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Nc(n||".",{relative:t})},l=is();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();a.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:Wr([e,a.pathname])),bc(a)}function lR(n,{relative:t}={}){let e=$.useContext(qw);Ie(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tA("useViewTransitionState"),r=Nc(n,{relative:t});if(!e.isTransitioning)return!1;let a=Qr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=Qr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Jd(r.pathname,l)!=null||Jd(r.pathname,a)!=null}var Em={exports:{}},Cm={};var F_;function cR(){if(F_)return Cm;F_=1;var n=tr();function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,l=n.useMemo,c=n.useDebugValue;return Cm.useSyncExternalStoreWithSelector=function(d,h,p,m,y){var b=r(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function E(O){if(!w){if(w=!0,T=O,O=m(O),y!==void 0&&S.hasValue){var R=S.value;if(y(R,O))return k=R}return k=O}if(R=k,e(T,O))return R;var D=m(O);return y!==void 0&&y(R,D)?(T=O,R):(T=O,k=D)}var w=!1,T,k,F=p===void 0?null:p;return[function(){return E(h())},F===null?void 0:function(){return E(F())}]},[h,p,m,y]);var _=i(d,b[0],b[1]);return a(function(){S.hasValue=!0,S.value=_},[_]),c(_),_},Cm}var I_;function uR(){return I_||(I_=1,Em.exports=cR()),Em.exports}var dR=uR();function hR(n){n()}function fR(){let n=null,t=null;return{clear(){n=null,t=null},notify(){hR(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var z_={notify(){},get:()=>[]};function pR(n,t){let e,i=z_,r=0,a=!1;function l(_){p();const E=i.subscribe(_);let w=!1;return()=>{w||(w=!0,E(),m())}}function c(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function h(){return a}function p(){r++,e||(e=n.subscribe(d),i=fR())}function m(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=z_)}function y(){a||(a=!0,p())}function b(){a&&(a=!1,m())}const S={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>i};return S}var mR=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gR=mR(),yR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bR=yR(),vR=()=>gR||bR?$.useLayoutEffect:$.useEffect,_R=vR(),SR=Symbol.for("react-redux-context"),xR=typeof globalThis<"u"?globalThis:{};function wR(){if(!$.createContext)return{};const n=xR[SR]??=new Map;let t=n.get($.createContext);return t||(t=$.createContext(null),n.set($.createContext,t)),t}var Ps=wR();function AR(n){const{children:t,context:e,serverState:i,store:r}=n,a=$.useMemo(()=>{const d=pR(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=$.useMemo(()=>r.getState(),[r]);_R(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const c=e||Ps;return $.createElement(c.Provider,{value:a},t)}var ER=AR;function _y(n=Ps){return function(){return $.useContext(n)}}var eA=_y();function nA(n=Ps){const t=n===Ps?eA:_y(n),e=()=>{const{store:i}=t();return i};return Object.assign(e,{withTypes:()=>e}),e}var CR=nA();function TR(n=Ps){const t=n===Ps?CR:nA(n),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var Sy=TR(),kR=(n,t)=>n===t;function OR(n=Ps){const t=n===Ps?eA:_y(n),e=(i,r={})=>{const{equalityFn:a=kR}=typeof r=="function"?{equalityFn:r}:r,l=t(),{store:c,subscription:d,getServerState:h}=l;$.useRef(!0);const p=$.useCallback({[i.name](y){return i(y)}}[i.name],[i]),m=dR.useSyncExternalStoreWithSelector(d.addNestedSub,c.getState,h||c.getState,p,a);return $.useDebugValue(m),m};return Object.assign(e,{withTypes:()=>e}),e}var Dc=OR();function Mn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var RR=typeof Symbol=="function"&&Symbol.observable||"@@observable",U_=RR,Tm=()=>Math.random().toString(36).substring(7).split("").join("."),MR={INIT:`@@redux/INIT${Tm()}`,REPLACE:`@@redux/REPLACE${Tm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tm()}`},th=MR;function xy(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function iA(n,t,e){if(typeof n!="function")throw new Error(Mn(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Mn(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Mn(1));return e(iA)(n,t)}let i=n,r=t,a=new Map,l=a,c=0,d=!1;function h(){l===a&&(l=new Map,a.forEach((E,w)=>{l.set(w,E)}))}function p(){if(d)throw new Error(Mn(3));return r}function m(E){if(typeof E!="function")throw new Error(Mn(4));if(d)throw new Error(Mn(5));let w=!0;h();const T=c++;return l.set(T,E),function(){if(w){if(d)throw new Error(Mn(6));w=!1,h(),l.delete(T),a=null}}}function y(E){if(!xy(E))throw new Error(Mn(7));if(typeof E.type>"u")throw new Error(Mn(8));if(typeof E.type!="string")throw new Error(Mn(17));if(d)throw new Error(Mn(9));try{d=!0,r=i(r,E)}finally{d=!1}return(a=l).forEach(T=>{T()}),E}function b(E){if(typeof E!="function")throw new Error(Mn(10));i=E,y({type:th.REPLACE})}function S(){const E=m;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Mn(11));function T(){const F=w;F.next&&F.next(p())}return T(),{unsubscribe:E(T)}},[U_](){return this}}}return y({type:th.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:b,[U_]:S}}function NR(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:th.INIT})>"u")throw new Error(Mn(12));if(typeof e(void 0,{type:th.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mn(13))})}function DR(n){const t=Object.keys(n),e={};for(let a=0;a<t.length;a++){const l=t[a];typeof n[l]=="function"&&(e[l]=n[l])}const i=Object.keys(e);let r;try{NR(e)}catch(a){r=a}return function(l={},c){if(r)throw r;let d=!1;const h={};for(let p=0;p<i.length;p++){const m=i[p],y=e[m],b=l[m],S=y(b,c);if(typeof S>"u")throw c&&c.type,new Error(Mn(14));h[m]=S,d=d||S!==b}return d=d||i.length!==Object.keys(l).length,d?h:l}}function eh(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function LR(...n){return t=>(e,i)=>{const r=t(e,i);let a=()=>{throw new Error(Mn(15))};const l={getState:r.getState,dispatch:(d,...h)=>a(d,...h)},c=n.map(d=>d(l));return a=eh(...c)(r.dispatch),{...r,dispatch:a}}}function PR(n){return xy(n)&&"type"in n&&typeof n.type=="string"}var rA=Symbol.for("immer-nothing"),H_=Symbol.for("immer-draftable"),Vn=Symbol.for("immer-state");function Xi(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var xi=Object,Do=xi.getPrototypeOf,nh="constructor",Ch="prototype",bg="configurable",ih="enumerable",zd="writable",vc="value",Jr=n=>!!n&&!!n[Vn];function Zi(n){return n?sA(n)||Th(n)||!!n[H_]||!!n[nh]?.[H_]||kh(n)||Oh(n):!1}var jR=xi[Ch][nh].toString(),$_=new WeakMap;function sA(n){if(!n||!wy(n))return!1;const t=Do(n);if(t===null||t===xi[Ch])return!0;const e=xi.hasOwnProperty.call(t,nh)&&t[nh];if(e===Object)return!0;if(!yo(e))return!1;let i=$_.get(e);return i===void 0&&(i=Function.toString.call(e),$_.set(e,i)),i===jR}function Lc(n,t,e=!0){Pc(n)===0?(e?Reflect.ownKeys(n):xi.keys(n)).forEach(r=>{t(r,n[r],n)}):n.forEach((i,r)=>t(r,i,n))}function Pc(n){const t=n[Vn];return t?t.type_:Th(n)?1:kh(n)?2:Oh(n)?3:0}var q_=(n,t,e=Pc(n))=>e===2?n.has(t):xi[Ch].hasOwnProperty.call(n,t),vg=(n,t,e=Pc(n))=>e===2?n.get(t):n[t],rh=(n,t,e,i=Pc(n))=>{i===2?n.set(t,e):i===3?n.add(e):n[t]=e};function BR(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}var Th=Array.isArray,kh=n=>n instanceof Map,Oh=n=>n instanceof Set,wy=n=>typeof n=="object",yo=n=>typeof n=="function",km=n=>typeof n=="boolean",Xr=n=>n.copy_||n.base_,Ay=n=>n.modified_?n.copy_:n.base_;function _g(n,t){if(kh(n))return new Map(n);if(Oh(n))return new Set(n);if(Th(n))return Array[Ch].slice.call(n);const e=sA(n);if(t===!0||t==="class_only"&&!e){const i=xi.getOwnPropertyDescriptors(n);delete i[Vn];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const l=r[a],c=i[l];c[zd]===!1&&(c[zd]=!0,c[bg]=!0),(c.get||c.set)&&(i[l]={[bg]:!0,[zd]:!0,[ih]:c[ih],[vc]:n[l]})}return xi.create(Do(n),i)}else{const i=Do(n);if(i!==null&&e)return{...n};const r=xi.create(i);return xi.assign(r,n)}}function Ey(n,t=!1){return Rh(n)||Jr(n)||!Zi(n)||(Pc(n)>1&&xi.defineProperties(n,{set:vd,add:vd,clear:vd,delete:vd}),xi.freeze(n),t&&Lc(n,(e,i)=>{Ey(i,!0)},!1)),n}function FR(){Xi(2)}var vd={[vc]:FR};function Rh(n){return n===null||!wy(n)?!0:xi.isFrozen(n)}var sh="MapSet",Sg="Patches",aA={};function Lo(n){const t=aA[n];return t||Xi(0,n),t}var IR=n=>!!aA[n],_c,oA=()=>_c,zR=(n,t)=>({drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IR(sh)?Lo(sh):void 0});function V_(n,t){t&&(n.patchPlugin_=Lo(Sg),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function xg(n){wg(n),n.drafts_.forEach(UR),n.drafts_=null}function wg(n){n===_c&&(_c=n.parent_)}var G_=n=>_c=zR(_c,n);function UR(n){const t=n[Vn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function X_(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];if(n!==void 0&&n!==e){e[Vn].modified_&&(xg(t),Xi(4)),Zi(n)&&(n=Y_(t,n));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(e[Vn].base_,n,t)}else n=Y_(t,e);return HR(t,n,!0),xg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==rA?n:void 0}function Y_(n,t){if(Rh(t))return t;const e=t[Vn];if(!e)return Cy(t,n.handledSet_,n);if(!Mh(e,n))return t;if(!e.modified_)return e.base_;if(!e.finalized_){const{callbacks_:i}=e;if(i)for(;i.length>0;)i.pop()(n);uA(e,n)}return e.copy_}function HR(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Ey(t,e)}function lA(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var Mh=(n,t)=>n.scope_===t,$R=[];function cA(n,t,e,i){const r=Xr(n),a=n.type_;if(i!==void 0&&vg(r,i,a)===t){rh(r,i,e,a);return}if(!n.draftLocations_){const c=n.draftLocations_=new Map;Lc(r,(d,h)=>{if(Jr(h)){const p=c.get(h)||[];p.push(d),c.set(h,p)}})}const l=n.draftLocations_.get(t)??$R;for(const c of l)rh(r,c,e,a)}function qR(n,t,e){n.callbacks_.push(function(r){const a=t;if(!a||!Mh(a,r))return;r.mapSetPlugin_?.fixSetContents(a);const l=Ay(a);cA(n,a.draft_??a,l,e),uA(a,r)})}function uA(n,t){if(n.modified_&&!n.finalized_&&(n.type_===3||(n.assigned_?.size??0)>0)){const{patchPlugin_:i}=t;if(i){const r=i.getPath(n);r&&i.generatePatches_(n,r,t)}lA(n)}}function VR(n,t,e){const{scope_:i}=n;if(Jr(e)){const r=e[Vn];Mh(r,i)&&r.callbacks_.push(function(){Ud(n);const l=Ay(r);cA(n,e,l,t)})}else Zi(e)&&n.callbacks_.push(function(){const a=Xr(n);vg(a,t,n.type_)===e&&i.drafts_.length>1&&(n.assigned_.get(t)??!1)===!0&&n.copy_&&Cy(vg(n.copy_,t,n.type_),i.handledSet_,i)})}function Cy(n,t,e){return!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||Jr(n)||t.has(n)||!Zi(n)||Rh(n)||(t.add(n),Lc(n,(i,r)=>{if(Jr(r)){const a=r[Vn];if(Mh(a,e)){const l=Ay(a);rh(n,i,l,n.type_),lA(a)}}else Zi(r)&&Cy(r,t,e)})),n}function GR(n,t){const e=Th(n),i={type_:e?1:0,scope_:t?t.scope_:oA(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,a=Ty;e&&(r=[i],a=Sc);const{revoke:l,proxy:c}=Proxy.revocable(r,a);return i.draft_=c,i.revoke_=l,[c,i]}var Ty={get(n,t){if(t===Vn)return n;const e=Xr(n);if(!q_(e,t,n.type_))return XR(n,e,t);const i=e[t];if(n.finalized_||!Zi(i))return i;if(i===Om(n.base_,t)){Ud(n);const r=n.type_===1?+t:t,a=Eg(n.scope_,i,n,r);return n.copy_[r]=a}return i},has(n,t){return t in Xr(n)},ownKeys(n){return Reflect.ownKeys(Xr(n))},set(n,t,e){const i=dA(Xr(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=Om(Xr(n),t),a=r?.[Vn];if(a&&a.base_===e)return n.copy_[t]=e,n.assigned_.set(t,!1),!0;if(BR(e,r)&&(e!==void 0||q_(n.base_,t,n.type_)))return!0;Ud(n),Ag(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_.set(t,!0),VR(n,t,e)),!0},deleteProperty(n,t){return Ud(n),Om(n.base_,t)!==void 0||t in n.base_?(n.assigned_.set(t,!1),Ag(n)):n.assigned_.delete(t),n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=Xr(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{[zd]:!0,[bg]:n.type_!==1||t!=="length",[ih]:i[ih],[vc]:e[t]}},defineProperty(){Xi(11)},getPrototypeOf(n){return Do(n.base_)},setPrototypeOf(){Xi(12)}},Sc={};Lc(Ty,(n,t)=>{Sc[n]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}});Sc.deleteProperty=function(n,t){return Sc.set.call(this,n,t,void 0)};Sc.set=function(n,t,e){return Ty.set.call(this,n[0],t,e,n[0])};function Om(n,t){const e=n[Vn];return(e?Xr(e):n)[t]}function XR(n,t,e){const i=dA(t,e);return i?vc in i?i[vc]:i.get?.call(n.draft_):void 0}function dA(n,t){if(!(t in n))return;let e=Do(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=Do(e)}}function Ag(n){n.modified_||(n.modified_=!0,n.parent_&&Ag(n.parent_))}function Ud(n){n.copy_||(n.assigned_=new Map,n.copy_=_g(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var YR=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,e,i)=>{if(yo(t)&&!yo(e)){const a=e;e=t;const l=this;return function(d=a,...h){return l.produce(d,p=>e.call(this,p,...h))}}yo(e)||Xi(6),i!==void 0&&!yo(i)&&Xi(7);let r;if(Zi(t)){const a=G_(this),l=Eg(a,t,void 0);let c=!0;try{r=e(l),c=!1}finally{c?xg(a):wg(a)}return V_(a,i),X_(r,a)}else if(!t||!wy(t)){if(r=e(t),r===void 0&&(r=t),r===rA&&(r=void 0),this.autoFreeze_&&Ey(r,!0),i){const a=[],l=[];Lo(Sg).generateReplacementPatches_(t,r,{patches_:a,inversePatches_:l}),i(a,l)}return r}else Xi(1,t)},this.produceWithPatches=(t,e)=>{if(yo(t))return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let i,r;return[this.produce(t,e,(l,c)=>{i=l,r=c}),i,r]},km(n?.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),km(n?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),km(n?.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){Zi(n)||Xi(8),Jr(n)&&(n=WR(n));const t=G_(this),e=Eg(t,n,void 0);return e[Vn].isManual_=!0,wg(t),e}finishDraft(n,t){const e=n&&n[Vn];(!e||!e.isManual_)&&Xi(9);const{scope_:i}=e;return V_(i,t),X_(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}e>-1&&(t=t.slice(e+1));const i=Lo(Sg).applyPatches_;return Jr(n)?i(n,t):this.produce(n,r=>i(r,t))}};function Eg(n,t,e,i){const[r,a]=kh(t)?Lo(sh).proxyMap_(t,e):Oh(t)?Lo(sh).proxySet_(t,e):GR(t,e);return(e?.scope_??oA()).drafts_.push(r),a.callbacks_=e?.callbacks_??[],a.key_=i,e&&i!==void 0?qR(e,a,i):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:h}=d;a.modified_&&h&&h.generatePatches_(a,[],d)}),r}function WR(n){return Jr(n)||Xi(10,n),hA(n)}function hA(n){if(!Zi(n)||Rh(n))return n;const t=n[Vn];let e,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=_g(n,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else e=_g(n,!0);return Lc(e,(r,a)=>{rh(e,r,hA(a))},i),t&&(t.finalized_=!1),e}var KR=new YR,fA=KR.produce;function pA(n){return({dispatch:e,getState:i})=>r=>a=>typeof a=="function"?a(e,i,n):r(a)}var ZR=pA(),QR=pA,JR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?eh:eh.apply(null,arguments)},tM=n=>n&&typeof n.match=="function";function uc(n,t){function e(...i){if(t){let r=t(...i);if(!r)throw new Error(Kr(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>PR(i)&&i.type===n,e}var mA=class ac extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ac.prototype)}static get[Symbol.species](){return ac}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ac(...t[0].concat(this)):new ac(...t.concat(this))}};function W_(n){return Zi(n)?fA(n,()=>{}):n}function _d(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function eM(n){return typeof n=="boolean"}var nM=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=t??{};let l=new mA;return e&&(eM(e)?l.push(ZR):l.push(QR(e.extraArgument))),l},iM="RTK_autoBatch",K_=n=>t=>{setTimeout(t,n)},rM=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let r=!0,a=!1,l=!1;const c=new Set,d=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:K_(10):n.type==="callback"?n.queueNotification:K_(n.timeout),h=()=>{l=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const m=()=>r&&p(),y=i.subscribe(m);return c.add(p),()=>{y(),c.delete(p)}},dispatch(p){try{return r=!p?.meta?.[iM],a=!r,a&&(l||(l=!0,d(h))),i.dispatch(p)}finally{r=!0}}})},sM=n=>function(e){const{autoBatch:i=!0}=e??{};let r=new mA(n);return i&&r.push(rM(typeof i=="object"?i:void 0)),r};function aM(n){const t=nM(),{reducer:e=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:l=void 0}=n||{};let c;if(typeof e=="function")c=e;else if(xy(e))c=DR(e);else throw new Error(Kr(1));let d;typeof i=="function"?d=i(t):d=t();let h=eh;r&&(h=JR({trace:!1,...typeof r=="object"&&r}));const p=LR(...d),m=sM(p);let y=typeof l=="function"?l(m):m();const b=h(...y);return iA(c,a,b)}function gA(n){const t={},e=[];let i;const r={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Kr(28));if(c in t)throw new Error(Kr(29));return t[c]=l,r},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&e.push({matcher:a.settled,reducer:l.settled}),r},addMatcher(a,l){return e.push({matcher:a,reducer:l}),r},addDefaultCase(a){return i=a,r}};return n(r),[t,e,i]}function oM(n){return typeof n=="function"}function lM(n,t){let[e,i,r]=gA(t),a;if(oM(n))a=()=>W_(n());else{const c=W_(n);a=()=>c}function l(c=a(),d){let h=[e[d.type],...i.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[r]),h.reduce((p,m)=>{if(m)if(Jr(p)){const b=m(p,d);return b===void 0?p:b}else{if(Zi(p))return fA(p,y=>m(y,d));{const y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},c)}return l.getInitialState=a,l}var cM=(n,t)=>tM(n)?n.match(t):n(t);function uM(...n){return t=>n.some(e=>cM(e,t))}var dM="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hM=(n=21)=>{let t="",e=n;for(;e--;)t+=dM[Math.random()*64|0];return t},fM=["name","message","stack","code"],Rm=class{constructor(n,t){this.payload=n,this.meta=t}_type},Z_=class{constructor(n,t){this.payload=n,this.meta=t}_type},pM=n=>{if(typeof n=="object"&&n!==null){const t={};for(const e of fM)typeof n[e]=="string"&&(t[e]=n[e]);return t}return{message:String(n)}},Q_="External signal was aborted",Nh=(()=>{function n(t,e,i){const r=uc(t+"/fulfilled",(d,h,p,m)=>({payload:d,meta:{...m||{},arg:p,requestId:h,requestStatus:"fulfilled"}})),a=uc(t+"/pending",(d,h,p)=>({payload:void 0,meta:{...p||{},arg:h,requestId:d,requestStatus:"pending"}})),l=uc(t+"/rejected",(d,h,p,m,y)=>({payload:m,error:(i&&i.serializeError||pM)(d||"Rejected"),meta:{...y||{},arg:p,requestId:h,rejectedWithValue:!!m,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"}}));function c(d,{signal:h}={}){return(p,m,y)=>{const b=i?.idGenerator?i.idGenerator(d):hM(),S=new AbortController;let _,E;function w(k){E=k,S.abort()}h&&(h.aborted?w(Q_):h.addEventListener("abort",()=>w(Q_),{once:!0}));const T=(async function(){let k;try{let O=i?.condition?.(d,{getState:m,extra:y});if(gM(O)&&(O=await O),O===!1||S.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((D,j)=>{_=()=>{j({name:"AbortError",message:E||"Aborted"})},S.signal.addEventListener("abort",_)});p(a(b,d,i?.getPendingMeta?.({requestId:b,arg:d},{getState:m,extra:y}))),k=await Promise.race([R,Promise.resolve(e(d,{dispatch:p,getState:m,extra:y,requestId:b,signal:S.signal,abort:w,rejectWithValue:(D,j)=>new Rm(D,j),fulfillWithValue:(D,j)=>new Z_(D,j)})).then(D=>{if(D instanceof Rm)throw D;return D instanceof Z_?r(D.payload,b,d,D.meta):r(D,b,d)})])}catch(O){k=O instanceof Rm?l(null,b,d,O.payload,O.meta):l(O,b,d)}finally{_&&S.signal.removeEventListener("abort",_)}return i&&!i.dispatchConditionRejection&&l.match(k)&&k.meta.condition||p(k),k})();return Object.assign(T,{abort:w,requestId:b,arg:d,unwrap(){return T.then(mM)}})}}return Object.assign(c,{pending:a,rejected:l,fulfilled:r,settled:uM(l,r),typePrefix:t})}return n.withTypes=()=>n,n})();function mM(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function gM(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var yM=Symbol.for("rtk-slice-createasyncthunk");function bM(n,t){return`${n}/${t}`}function vM({creators:n}={}){const t=n?.asyncThunk?.[yM];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(Kr(11));const l=(typeof i.reducers=="function"?i.reducers(xM()):i.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,F){const O=typeof k=="string"?k:k.type;if(!O)throw new Error(Kr(12));if(O in d.sliceCaseReducersByType)throw new Error(Kr(13));return d.sliceCaseReducersByType[O]=F,h},addMatcher(k,F){return d.sliceMatchers.push({matcher:k,reducer:F}),h},exposeAction(k,F){return d.actionCreators[k]=F,h},exposeCaseReducer(k,F){return d.sliceCaseReducersByName[k]=F,h}};c.forEach(k=>{const F=l[k],O={reducerName:k,type:bM(r,k),createNotation:typeof i.reducers=="function"};AM(F)?CM(O,F,h,t):wM(O,F,h)});function p(){const[k={},F=[],O=void 0]=typeof i.extraReducers=="function"?gA(i.extraReducers):[i.extraReducers],R={...k,...d.sliceCaseReducersByType};return lM(i.initialState,D=>{for(let j in R)D.addCase(j,R[j]);for(let j of d.sliceMatchers)D.addMatcher(j.matcher,j.reducer);for(let j of F)D.addMatcher(j.matcher,j.reducer);O&&D.addDefaultCase(O)})}const m=k=>k,y=new Map,b=new WeakMap;let S;function _(k,F){return S||(S=p()),S(k,F)}function E(){return S||(S=p()),S.getInitialState()}function w(k,F=!1){function O(D){let j=D[k];return typeof j>"u"&&F&&(j=_d(b,O,E)),j}function R(D=m){const j=_d(y,F,()=>new WeakMap);return _d(j,D,()=>{const N={};for(const[L,I]of Object.entries(i.selectors??{}))N[L]=_M(I,D,()=>_d(b,D,E),F);return N})}return{reducerPath:k,getSelectors:R,get selectors(){return R(O)},selectSlice:O}}const T={name:r,reducer:_,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:E,...w(a),injectInto(k,{reducerPath:F,...O}={}){const R=F??a;return k.inject({reducerPath:R,reducer:_},O),{...T,...w(R,!0)}}};return T}}function _M(n,t,e,i){function r(a,...l){let c=t(a);return typeof c>"u"&&i&&(c=e()),n(c,...l)}return r.unwrapped=n,r}var SM=vM();function xM(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function wM({type:n,reducerName:t,createNotation:e},i,r){let a,l;if("reducer"in i){if(e&&!EM(i))throw new Error(Kr(17));a=i.reducer,l=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(t,a).exposeAction(t,l?uc(n,l):uc(n))}function AM(n){return n._reducerDefinitionType==="asyncThunk"}function EM(n){return n._reducerDefinitionType==="reducerWithPrepare"}function CM({type:n,reducerName:t},e,i,r){if(!r)throw new Error(Kr(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:d,settled:h,options:p}=e,m=r(n,a,p);i.exposeAction(t,m),l&&i.addCase(m.fulfilled,l),c&&i.addCase(m.pending,c),d&&i.addCase(m.rejected,d),h&&i.addMatcher(m.settled,h),i.exposeCaseReducer(t,{fulfilled:l||Sd,pending:c||Sd,rejected:d||Sd,settled:h||Sd})}function Sd(){}function Kr(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}function yA(n,t){return function(){return n.apply(t,arguments)}}const{toString:TM}=Object.prototype,{getPrototypeOf:ky}=Object,{iterator:Dh,toStringTag:bA}=Symbol,Lh=(n=>t=>{const e=TM.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),ir=n=>(n=n.toLowerCase(),t=>Lh(t)===n),Ph=n=>t=>typeof t===n,{isArray:Go}=Array,Po=Ph("undefined");function jc(n){return n!==null&&!Po(n)&&n.constructor!==null&&!Po(n.constructor)&&ai(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const vA=ir("ArrayBuffer");function kM(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&vA(n.buffer),t}const OM=Ph("string"),ai=Ph("function"),_A=Ph("number"),Bc=n=>n!==null&&typeof n=="object",RM=n=>n===!0||n===!1,Hd=n=>{if(Lh(n)!=="object")return!1;const t=ky(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(bA in n)&&!(Dh in n)},MM=n=>{if(!Bc(n)||jc(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},NM=ir("Date"),DM=ir("File"),LM=ir("Blob"),PM=ir("FileList"),jM=n=>Bc(n)&&ai(n.pipe),BM=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||ai(n.append)&&((t=Lh(n))==="formdata"||t==="object"&&ai(n.toString)&&n.toString()==="[object FormData]"))},FM=ir("URLSearchParams"),[IM,zM,UM,HM]=["ReadableStream","Request","Response","Headers"].map(ir),$M=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fc(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Go(n))for(i=0,r=n.length;i<r;i++)t.call(null,n[i],i,n);else{if(jc(n))return;const a=e?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let c;for(i=0;i<l;i++)c=a[i],t.call(null,n[c],c,n)}}function SA(n,t){if(jc(n))return null;t=t.toLowerCase();const e=Object.keys(n);let i=e.length,r;for(;i-- >0;)if(r=e[i],t===r.toLowerCase())return r;return null}const ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xA=n=>!Po(n)&&n!==ca;function Cg(){const{caseless:n,skipUndefined:t}=xA(this)&&this||{},e={},i=(r,a)=>{const l=n&&SA(e,a)||a;Hd(e[l])&&Hd(r)?e[l]=Cg(e[l],r):Hd(r)?e[l]=Cg({},r):Go(r)?e[l]=r.slice():(!t||!Po(r))&&(e[l]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Fc(arguments[r],i);return e}const qM=(n,t,e,{allOwnKeys:i}={})=>(Fc(t,(r,a)=>{e&&ai(r)?n[a]=yA(r,e):n[a]=r},{allOwnKeys:i}),n),VM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),GM=(n,t,e,i)=>{n.prototype=Object.create(t.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},XM=(n,t,e,i)=>{let r,a,l;const c={};if(t=t||{},n==null)return t;do{for(r=Object.getOwnPropertyNames(n),a=r.length;a-- >0;)l=r[a],(!i||i(l,n,t))&&!c[l]&&(t[l]=n[l],c[l]=!0);n=e!==!1&&ky(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},YM=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const i=n.indexOf(t,e);return i!==-1&&i===e},WM=n=>{if(!n)return null;if(Go(n))return n;let t=n.length;if(!_A(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},KM=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&ky(Uint8Array)),ZM=(n,t)=>{const i=(n&&n[Dh]).call(n);let r;for(;(r=i.next())&&!r.done;){const a=r.value;t.call(n,a[0],a[1])}},QM=(n,t)=>{let e;const i=[];for(;(e=n.exec(t))!==null;)i.push(e);return i},JM=ir("HTMLFormElement"),tN=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,r){return i.toUpperCase()+r}),J_=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),eN=ir("RegExp"),wA=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),i={};Fc(e,(r,a)=>{let l;(l=t(r,a,n))!==!1&&(i[a]=l||r)}),Object.defineProperties(n,i)},nN=n=>{wA(n,(t,e)=>{if(ai(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=n[e];if(ai(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},iN=(n,t)=>{const e={},i=r=>{r.forEach(a=>{e[a]=!0})};return Go(n)?i(n):i(String(n).split(t)),e},rN=()=>{},sN=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function aN(n){return!!(n&&ai(n.append)&&n[bA]==="FormData"&&n[Dh])}const oN=n=>{const t=new Array(10),e=(i,r)=>{if(Bc(i)){if(t.indexOf(i)>=0)return;if(jc(i))return i;if(!("toJSON"in i)){t[r]=i;const a=Go(i)?[]:{};return Fc(i,(l,c)=>{const d=e(l,r+1);!Po(d)&&(a[c]=d)}),t[r]=void 0,a}}return i};return e(n,0)},lN=ir("AsyncFunction"),cN=n=>n&&(Bc(n)||ai(n))&&ai(n.then)&&ai(n.catch),AA=((n,t)=>n?setImmediate:t?((e,i)=>(ca.addEventListener("message",({source:r,data:a})=>{r===ca&&a===e&&i.length&&i.shift()()},!1),r=>{i.push(r),ca.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",ai(ca.postMessage)),uN=typeof queueMicrotask<"u"?queueMicrotask.bind(ca):typeof process<"u"&&process.nextTick||AA,dN=n=>n!=null&&ai(n[Dh]),lt={isArray:Go,isArrayBuffer:vA,isBuffer:jc,isFormData:BM,isArrayBufferView:kM,isString:OM,isNumber:_A,isBoolean:RM,isObject:Bc,isPlainObject:Hd,isEmptyObject:MM,isReadableStream:IM,isRequest:zM,isResponse:UM,isHeaders:HM,isUndefined:Po,isDate:NM,isFile:DM,isBlob:LM,isRegExp:eN,isFunction:ai,isStream:jM,isURLSearchParams:FM,isTypedArray:KM,isFileList:PM,forEach:Fc,merge:Cg,extend:qM,trim:$M,stripBOM:VM,inherits:GM,toFlatObject:XM,kindOf:Lh,kindOfTest:ir,endsWith:YM,toArray:WM,forEachEntry:ZM,matchAll:QM,isHTMLForm:JM,hasOwnProperty:J_,hasOwnProp:J_,reduceDescriptors:wA,freezeMethods:nN,toObjectSet:iN,toCamelCase:tN,noop:rN,toFiniteNumber:sN,findKey:SA,global:ca,isContextDefined:xA,isSpecCompliantForm:aN,toJSONObject:oN,isAsyncFn:lN,isThenable:cN,setImmediate:AA,asap:uN,isIterable:dN};function Kt(n,t,e,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}lt.inherits(Kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lt.toJSONObject(this.config),code:this.code,status:this.status}}});const EA=Kt.prototype,CA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{CA[n]={value:n}});Object.defineProperties(Kt,CA);Object.defineProperty(EA,"isAxiosError",{value:!0});Kt.from=(n,t,e,i,r,a)=>{const l=Object.create(EA);lt.toFlatObject(n,l,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const c=n&&n.message?n.message:"Error",d=t==null&&n?n.code:t;return Kt.call(l,c,d,e,i,r),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",a&&Object.assign(l,a),l};const hN=null;function Tg(n){return lt.isPlainObject(n)||lt.isArray(n)}function TA(n){return lt.endsWith(n,"[]")?n.slice(0,-2):n}function tS(n,t,e){return n?n.concat(t).map(function(r,a){return r=TA(r),!e&&a?"["+r+"]":r}).join(e?".":""):t}function fN(n){return lt.isArray(n)&&!n.some(Tg)}const pN=lt.toFlatObject(lt,{},null,function(t){return/^is[A-Z]/.test(t)});function jh(n,t,e){if(!lt.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=lt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!lt.isUndefined(E[_])});const i=e.metaTokens,r=e.visitor||p,a=e.dots,l=e.indexes,d=(e.Blob||typeof Blob<"u"&&Blob)&&lt.isSpecCompliantForm(t);if(!lt.isFunction(r))throw new TypeError("visitor must be a function");function h(S){if(S===null)return"";if(lt.isDate(S))return S.toISOString();if(lt.isBoolean(S))return S.toString();if(!d&&lt.isBlob(S))throw new Kt("Blob is not supported. Use a Buffer instead.");return lt.isArrayBuffer(S)||lt.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function p(S,_,E){let w=S;if(S&&!E&&typeof S=="object"){if(lt.endsWith(_,"{}"))_=i?_:_.slice(0,-2),S=JSON.stringify(S);else if(lt.isArray(S)&&fN(S)||(lt.isFileList(S)||lt.endsWith(_,"[]"))&&(w=lt.toArray(S)))return _=TA(_),w.forEach(function(k,F){!(lt.isUndefined(k)||k===null)&&t.append(l===!0?tS([_],F,a):l===null?_:_+"[]",h(k))}),!1}return Tg(S)?!0:(t.append(tS(E,_,a),h(S)),!1)}const m=[],y=Object.assign(pN,{defaultVisitor:p,convertValue:h,isVisitable:Tg});function b(S,_){if(!lt.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+_.join("."));m.push(S),lt.forEach(S,function(w,T){(!(lt.isUndefined(w)||w===null)&&r.call(t,w,lt.isString(T)?T.trim():T,_,y))===!0&&b(w,_?_.concat(T):[T])}),m.pop()}}if(!lt.isObject(n))throw new TypeError("data must be an object");return b(n),t}function eS(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Oy(n,t){this._pairs=[],n&&jh(n,this,t)}const kA=Oy.prototype;kA.append=function(t,e){this._pairs.push([t,e])};kA.toString=function(t){const e=t?function(i){return t.call(this,i,eS)}:eS;return this._pairs.map(function(r){return e(r[0])+"="+e(r[1])},"").join("&")};function mN(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function OA(n,t,e){if(!t)return n;const i=e&&e.encode||mN;lt.isFunction(e)&&(e={serialize:e});const r=e&&e.serialize;let a;if(r?a=r(t,e):a=lt.isURLSearchParams(t)?t.toString():new Oy(t,e).toString(i),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class nS{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){lt.forEach(this.handlers,function(i){i!==null&&t(i)})}}const RA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gN=typeof URLSearchParams<"u"?URLSearchParams:Oy,yN=typeof FormData<"u"?FormData:null,bN=typeof Blob<"u"?Blob:null,vN={isBrowser:!0,classes:{URLSearchParams:gN,FormData:yN,Blob:bN},protocols:["http","https","file","blob","url","data"]},Ry=typeof window<"u"&&typeof document<"u",kg=typeof navigator=="object"&&navigator||void 0,_N=Ry&&(!kg||["ReactNative","NativeScript","NS"].indexOf(kg.product)<0),SN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xN=Ry&&window.location.href||"http://localhost",wN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ry,hasStandardBrowserEnv:_N,hasStandardBrowserWebWorkerEnv:SN,navigator:kg,origin:xN},Symbol.toStringTag,{value:"Module"})),jn={...wN,...vN};function AN(n,t){return jh(n,new jn.classes.URLSearchParams,{visitor:function(e,i,r,a){return jn.isNode&&lt.isBuffer(e)?(this.append(i,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function EN(n){return lt.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function CN(n){const t={},e=Object.keys(n);let i;const r=e.length;let a;for(i=0;i<r;i++)a=e[i],t[a]=n[a];return t}function MA(n){function t(e,i,r,a){let l=e[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=a>=e.length;return l=!l&&lt.isArray(r)?r.length:l,d?(lt.hasOwnProp(r,l)?r[l]=[r[l],i]:r[l]=i,!c):((!r[l]||!lt.isObject(r[l]))&&(r[l]=[]),t(e,i,r[l],a)&&lt.isArray(r[l])&&(r[l]=CN(r[l])),!c)}if(lt.isFormData(n)&&lt.isFunction(n.entries)){const e={};return lt.forEachEntry(n,(i,r)=>{t(EN(i),r,e,0)}),e}return null}function TN(n,t,e){if(lt.isString(n))try{return(t||JSON.parse)(n),lt.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(n)}const Ic={transitional:RA,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",r=i.indexOf("application/json")>-1,a=lt.isObject(t);if(a&&lt.isHTMLForm(t)&&(t=new FormData(t)),lt.isFormData(t))return r?JSON.stringify(MA(t)):t;if(lt.isArrayBuffer(t)||lt.isBuffer(t)||lt.isStream(t)||lt.isFile(t)||lt.isBlob(t)||lt.isReadableStream(t))return t;if(lt.isArrayBufferView(t))return t.buffer;if(lt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return AN(t,this.formSerializer).toString();if((c=lt.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return jh(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return a||r?(e.setContentType("application/json",!1),TN(t)):t}],transformResponse:[function(t){const e=this.transitional||Ic.transitional,i=e&&e.forcedJSONParsing,r=this.responseType==="json";if(lt.isResponse(t)||lt.isReadableStream(t))return t;if(t&&lt.isString(t)&&(i&&!this.responseType||r)){const l=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?Kt.from(c,Kt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lt.forEach(["delete","get","head","post","put","patch"],n=>{Ic.headers[n]={}});const kN=lt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ON=n=>{const t={};let e,i,r;return n&&n.split(`
`).forEach(function(l){r=l.indexOf(":"),e=l.substring(0,r).trim().toLowerCase(),i=l.substring(r+1).trim(),!(!e||t[e]&&kN[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},iS=Symbol("internals");function Gl(n){return n&&String(n).trim().toLowerCase()}function $d(n){return n===!1||n==null?n:lt.isArray(n)?n.map($d):String(n)}function RN(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(n);)t[i[1]]=i[2];return t}const MN=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Mm(n,t,e,i,r){if(lt.isFunction(i))return i.call(this,t,e);if(r&&(t=e),!!lt.isString(t)){if(lt.isString(i))return t.indexOf(i)!==-1;if(lt.isRegExp(i))return i.test(t)}}function NN(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function DN(n,t){const e=lt.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+e,{value:function(r,a,l){return this[i].call(this,t,r,a,l)},configurable:!0})})}let oi=class{constructor(t){t&&this.set(t)}set(t,e,i){const r=this;function a(c,d,h){const p=Gl(d);if(!p)throw new Error("header name must be a non-empty string");const m=lt.findKey(r,p);(!m||r[m]===void 0||h===!0||h===void 0&&r[m]!==!1)&&(r[m||d]=$d(c))}const l=(c,d)=>lt.forEach(c,(h,p)=>a(h,p,d));if(lt.isPlainObject(t)||t instanceof this.constructor)l(t,e);else if(lt.isString(t)&&(t=t.trim())&&!MN(t))l(ON(t),e);else if(lt.isObject(t)&&lt.isIterable(t)){let c={},d,h;for(const p of t){if(!lt.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[h=p[0]]=(d=c[h])?lt.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(c,e)}else t!=null&&a(e,t,i);return this}get(t,e){if(t=Gl(t),t){const i=lt.findKey(this,t);if(i){const r=this[i];if(!e)return r;if(e===!0)return RN(r);if(lt.isFunction(e))return e.call(this,r,i);if(lt.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Gl(t),t){const i=lt.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||Mm(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let r=!1;function a(l){if(l=Gl(l),l){const c=lt.findKey(i,l);c&&(!e||Mm(i,i[c],c,e))&&(delete i[c],r=!0)}}return lt.isArray(t)?t.forEach(a):a(t),r}clear(t){const e=Object.keys(this);let i=e.length,r=!1;for(;i--;){const a=e[i];(!t||Mm(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const e=this,i={};return lt.forEach(this,(r,a)=>{const l=lt.findKey(i,a);if(l){e[l]=$d(r),delete e[a];return}const c=t?NN(a):String(a).trim();c!==a&&delete e[a],e[c]=$d(r),i[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return lt.forEach(this,(i,r)=>{i!=null&&i!==!1&&(e[r]=t&&lt.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[iS]=this[iS]={accessors:{}}).accessors,r=this.prototype;function a(l){const c=Gl(l);i[c]||(DN(r,l),i[c]=!0)}return lt.isArray(t)?t.forEach(a):a(t),this}};oi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);lt.reduceDescriptors(oi.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(i){this[e]=i}}});lt.freezeMethods(oi);function Nm(n,t){const e=this||Ic,i=t||e,r=oi.from(i.headers);let a=i.data;return lt.forEach(n,function(c){a=c.call(e,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function NA(n){return!!(n&&n.__CANCEL__)}function Xo(n,t,e){Kt.call(this,n??"canceled",Kt.ERR_CANCELED,t,e),this.name="CanceledError"}lt.inherits(Xo,Kt,{__CANCEL__:!0});function DA(n,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?n(e):t(new Kt("Request failed with status code "+e.status,[Kt.ERR_BAD_REQUEST,Kt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function LN(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function PN(n,t){n=n||10;const e=new Array(n),i=new Array(n);let r=0,a=0,l;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),p=i[a];l||(l=h),e[r]=d,i[r]=h;let m=a,y=0;for(;m!==r;)y+=e[m++],m=m%n;if(r=(r+1)%n,r===a&&(a=(a+1)%n),h-l<t)return;const b=p&&h-p;return b?Math.round(y*1e3/b):void 0}}function jN(n,t){let e=0,i=1e3/t,r,a;const l=(h,p=Date.now())=>{e=p,r=null,a&&(clearTimeout(a),a=null),n(...h)};return[(...h)=>{const p=Date.now(),m=p-e;m>=i?l(h,p):(r=h,a||(a=setTimeout(()=>{a=null,l(r)},i-m)))},()=>r&&l(r)]}const ah=(n,t,e=3)=>{let i=0;const r=PN(50,250);return jN(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,d=l-i,h=r(d),p=l<=c;i=l;const m={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&p?(c-l)/h:void 0,event:a,lengthComputable:c!=null,[t?"download":"upload"]:!0};n(m)},e)},rS=(n,t)=>{const e=n!=null;return[i=>t[0]({lengthComputable:e,total:n,loaded:i}),t[1]]},sS=n=>(...t)=>lt.asap(()=>n(...t)),BN=jn.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,jn.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,FN=jn.hasStandardBrowserEnv?{write(n,t,e,i,r,a,l){if(typeof document>"u")return;const c=[`${n}=${encodeURIComponent(t)}`];lt.isNumber(e)&&c.push(`expires=${new Date(e).toUTCString()}`),lt.isString(i)&&c.push(`path=${i}`),lt.isString(r)&&c.push(`domain=${r}`),a===!0&&c.push("secure"),lt.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(n){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function IN(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function zN(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function LA(n,t,e){let i=!IN(t);return n&&(i||e==!1)?zN(n,t):t}const aS=n=>n instanceof oi?{...n}:n;function ba(n,t){t=t||{};const e={};function i(h,p,m,y){return lt.isPlainObject(h)&&lt.isPlainObject(p)?lt.merge.call({caseless:y},h,p):lt.isPlainObject(p)?lt.merge({},p):lt.isArray(p)?p.slice():p}function r(h,p,m,y){if(lt.isUndefined(p)){if(!lt.isUndefined(h))return i(void 0,h,m,y)}else return i(h,p,m,y)}function a(h,p){if(!lt.isUndefined(p))return i(void 0,p)}function l(h,p){if(lt.isUndefined(p)){if(!lt.isUndefined(h))return i(void 0,h)}else return i(void 0,p)}function c(h,p,m){if(m in t)return i(h,p);if(m in n)return i(void 0,h)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,p,m)=>r(aS(h),aS(p),m,!0)};return lt.forEach(Object.keys({...n,...t}),function(p){const m=d[p]||r,y=m(n[p],t[p],p);lt.isUndefined(y)&&m!==c||(e[p]=y)}),e}const PA=n=>{const t=ba({},n);let{data:e,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:l,auth:c}=t;if(t.headers=l=oi.from(l),t.url=OA(LA(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),lt.isFormData(e)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(lt.isFunction(e.getHeaders)){const d=e.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([p,m])=>{h.includes(p.toLowerCase())&&l.set(p,m)})}}if(jn.hasStandardBrowserEnv&&(i&&lt.isFunction(i)&&(i=i(t)),i||i!==!1&&BN(t.url))){const d=r&&a&&FN.read(a);d&&l.set(r,d)}return t},UN=typeof XMLHttpRequest<"u",HN=UN&&function(n){return new Promise(function(e,i){const r=PA(n);let a=r.data;const l=oi.from(r.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=r,p,m,y,b,S;function _(){b&&b(),S&&S(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let E=new XMLHttpRequest;E.open(r.method.toUpperCase(),r.url,!0),E.timeout=r.timeout;function w(){if(!E)return;const k=oi.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),O={data:!c||c==="text"||c==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:k,config:n,request:E};DA(function(D){e(D),_()},function(D){i(D),_()},O),E=null}"onloadend"in E?E.onloadend=w:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(w)},E.onabort=function(){E&&(i(new Kt("Request aborted",Kt.ECONNABORTED,n,E)),E=null)},E.onerror=function(F){const O=F&&F.message?F.message:"Network Error",R=new Kt(O,Kt.ERR_NETWORK,n,E);R.event=F||null,i(R),E=null},E.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||RA;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),i(new Kt(F,O.clarifyTimeoutError?Kt.ETIMEDOUT:Kt.ECONNABORTED,n,E)),E=null},a===void 0&&l.setContentType(null),"setRequestHeader"in E&&lt.forEach(l.toJSON(),function(F,O){E.setRequestHeader(O,F)}),lt.isUndefined(r.withCredentials)||(E.withCredentials=!!r.withCredentials),c&&c!=="json"&&(E.responseType=r.responseType),h&&([y,S]=ah(h,!0),E.addEventListener("progress",y)),d&&E.upload&&([m,b]=ah(d),E.upload.addEventListener("progress",m),E.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(p=k=>{E&&(i(!k||k.type?new Xo(null,n,E):k),E.abort(),E=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const T=LN(r.url);if(T&&jn.protocols.indexOf(T)===-1){i(new Kt("Unsupported protocol "+T+":",Kt.ERR_BAD_REQUEST,n));return}E.send(a||null)})},$N=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let i=new AbortController,r;const a=function(h){if(!r){r=!0,c();const p=h instanceof Error?h:this.reason;i.abort(p instanceof Kt?p:new Xo(p instanceof Error?p.message:p))}};let l=t&&setTimeout(()=>{l=null,a(new Kt(`timeout ${t} of ms exceeded`,Kt.ETIMEDOUT))},t);const c=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),n=null)};n.forEach(h=>h.addEventListener("abort",a));const{signal:d}=i;return d.unsubscribe=()=>lt.asap(c),d}},qN=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let i=0,r;for(;i<e;)r=i+t,yield n.slice(i,r),i=r},VN=async function*(n,t){for await(const e of GN(n))yield*qN(e,t)},GN=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},oS=(n,t,e,i)=>{const r=VN(n,t);let a=0,l,c=d=>{l||(l=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await r.next();if(h){c(),d.close();return}let m=p.byteLength;if(e){let y=a+=m;e(y)}d.enqueue(new Uint8Array(p))}catch(h){throw c(h),h}},cancel(d){return c(d),r.return()}},{highWaterMark:2})},lS=64*1024,{isFunction:xd}=lt,XN=(({Request:n,Response:t})=>({Request:n,Response:t}))(lt.global),{ReadableStream:cS,TextEncoder:uS}=lt.global,dS=(n,...t)=>{try{return!!n(...t)}catch{return!1}},YN=n=>{n=lt.merge.call({skipUndefined:!0},XN,n);const{fetch:t,Request:e,Response:i}=n,r=t?xd(t):typeof fetch=="function",a=xd(e),l=xd(i);if(!r)return!1;const c=r&&xd(cS),d=r&&(typeof uS=="function"?(S=>_=>S.encode(_))(new uS):async S=>new Uint8Array(await new e(S).arrayBuffer())),h=a&&c&&dS(()=>{let S=!1;const _=new e(jn.origin,{body:new cS,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!_}),p=l&&c&&dS(()=>lt.isReadableStream(new i("").body)),m={stream:p&&(S=>S.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(_,E)=>{let w=_&&_[S];if(w)return w.call(_);throw new Kt(`Response type '${S}' is not supported`,Kt.ERR_NOT_SUPPORT,E)})});const y=async S=>{if(S==null)return 0;if(lt.isBlob(S))return S.size;if(lt.isSpecCompliantForm(S))return(await new e(jn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(lt.isArrayBufferView(S)||lt.isArrayBuffer(S))return S.byteLength;if(lt.isURLSearchParams(S)&&(S=S+""),lt.isString(S))return(await d(S)).byteLength},b=async(S,_)=>{const E=lt.toFiniteNumber(S.getContentLength());return E??y(_)};return async S=>{let{url:_,method:E,data:w,signal:T,cancelToken:k,timeout:F,onDownloadProgress:O,onUploadProgress:R,responseType:D,headers:j,withCredentials:N="same-origin",fetchOptions:L}=PA(S),I=t||fetch;D=D?(D+"").toLowerCase():"text";let H=$N([T,k&&k.toAbortSignal()],F),q=null;const G=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let Y;try{if(R&&h&&E!=="get"&&E!=="head"&&(Y=await b(j,w))!==0){let P=new e(_,{method:"POST",body:w,duplex:"half"}),V;if(lt.isFormData(w)&&(V=P.headers.get("content-type"))&&j.setContentType(V),P.body){const[B,Q]=rS(Y,ah(sS(R)));w=oS(P.body,lS,B,Q)}}lt.isString(N)||(N=N?"include":"omit");const U=a&&"credentials"in e.prototype,C={...L,signal:H,method:E.toUpperCase(),headers:j.normalize().toJSON(),body:w,duplex:"half",credentials:U?N:void 0};q=a&&new e(_,C);let J=await(a?I(q,L):I(_,C));const X=p&&(D==="stream"||D==="response");if(p&&(O||X&&G)){const P={};["status","statusText","headers"].forEach(ot=>{P[ot]=J[ot]});const V=lt.toFiniteNumber(J.headers.get("content-length")),[B,Q]=O&&rS(V,ah(sS(O),!0))||[];J=new i(oS(J.body,lS,B,()=>{Q&&Q(),G&&G()}),P)}D=D||"text";let A=await m[lt.findKey(m,D)||"text"](J,S);return!X&&G&&G(),await new Promise((P,V)=>{DA(P,V,{data:A,headers:oi.from(J.headers),status:J.status,statusText:J.statusText,config:S,request:q})})}catch(U){throw G&&G(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Kt("Network Error",Kt.ERR_NETWORK,S,q),{cause:U.cause||U}):Kt.from(U,U&&U.code,S,q)}}},WN=new Map,jA=n=>{let t=n&&n.env||{};const{fetch:e,Request:i,Response:r}=t,a=[i,r,e];let l=a.length,c=l,d,h,p=WN;for(;c--;)d=a[c],h=p.get(d),h===void 0&&p.set(d,h=c?new Map:YN(t)),p=h;return h};jA();const My={http:hN,xhr:HN,fetch:{get:jA}};lt.forEach(My,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const hS=n=>`- ${n}`,KN=n=>lt.isFunction(n)||n===null||n===!1;function ZN(n,t){n=lt.isArray(n)?n:[n];const{length:e}=n;let i,r;const a={};for(let l=0;l<e;l++){i=n[l];let c;if(r=i,!KN(i)&&(r=My[(c=String(i)).toLowerCase()],r===void 0))throw new Kt(`Unknown adapter '${c}'`);if(r&&(lt.isFunction(r)||(r=r.get(t))))break;a[c||"#"+l]=r}if(!r){const l=Object.entries(a).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(hS).join(`
`):" "+hS(l[0]):"as no adapter specified";throw new Kt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r}const BA={getAdapter:ZN,adapters:My};function Dm(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Xo(null,n)}function fS(n){return Dm(n),n.headers=oi.from(n.headers),n.data=Nm.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),BA.getAdapter(n.adapter||Ic.adapter,n)(n).then(function(i){return Dm(n),i.data=Nm.call(n,n.transformResponse,i),i.headers=oi.from(i.headers),i},function(i){return NA(i)||(Dm(n),i&&i.response&&(i.response.data=Nm.call(n,n.transformResponse,i.response),i.response.headers=oi.from(i.response.headers))),Promise.reject(i)})}const FA="1.13.2",Bh={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Bh[n]=function(i){return typeof i===n||"a"+(t<1?"n ":" ")+n}});const pS={};Bh.transitional=function(t,e,i){function r(a,l){return"[Axios v"+FA+"] Transitional option '"+a+"'"+l+(i?". "+i:"")}return(a,l,c)=>{if(t===!1)throw new Kt(r(l," has been removed"+(e?" in "+e:"")),Kt.ERR_DEPRECATED);return e&&!pS[l]&&(pS[l]=!0,console.warn(r(l," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(a,l,c):!0}};Bh.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function QN(n,t,e){if(typeof n!="object")throw new Kt("options must be an object",Kt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const a=i[r],l=t[a];if(l){const c=n[a],d=c===void 0||l(c,a,n);if(d!==!0)throw new Kt("option "+a+" must be "+d,Kt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Kt("Unknown option "+a,Kt.ERR_BAD_OPTION)}}const qd={assertOptions:QN,validators:Bh},dr=qd.validators;let ga=class{constructor(t){this.defaults=t||{},this.interceptors={request:new nS,response:new nS}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=ba(this.defaults,e);const{transitional:i,paramsSerializer:r,headers:a}=e;i!==void 0&&qd.assertOptions(i,{silentJSONParsing:dr.transitional(dr.boolean),forcedJSONParsing:dr.transitional(dr.boolean),clarifyTimeoutError:dr.transitional(dr.boolean)},!1),r!=null&&(lt.isFunction(r)?e.paramsSerializer={serialize:r}:qd.assertOptions(r,{encode:dr.function,serialize:dr.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),qd.assertOptions(e,{baseUrl:dr.spelling("baseURL"),withXsrfToken:dr.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let l=a&&lt.merge(a.common,a[e.method]);a&&lt.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),e.headers=oi.concat(l,a);const c=[];let d=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(d=d&&_.synchronous,c.unshift(_.fulfilled,_.rejected))});const h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});let p,m=0,y;if(!d){const S=[fS.bind(this),void 0];for(S.unshift(...c),S.push(...h),y=S.length,p=Promise.resolve(e);m<y;)p=p.then(S[m++],S[m++]);return p}y=c.length;let b=e;for(;m<y;){const S=c[m++],_=c[m++];try{b=S(b)}catch(E){_.call(this,E);break}}try{p=fS.call(this,b)}catch(S){return Promise.reject(S)}for(m=0,y=h.length;m<y;)p=p.then(h[m++],h[m++]);return p}getUri(t){t=ba(this.defaults,t);const e=LA(t.baseURL,t.url,t.allowAbsoluteUrls);return OA(e,t.params,t.paramsSerializer)}};lt.forEach(["delete","get","head","options"],function(t){ga.prototype[t]=function(e,i){return this.request(ba(i||{},{method:t,url:e,data:(i||{}).data}))}});lt.forEach(["post","put","patch"],function(t){function e(i){return function(a,l,c){return this.request(ba(c||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}ga.prototype[t]=e(),ga.prototype[t+"Form"]=e(!0)});let JN=class IA{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(a){e=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const l=new Promise(c=>{i.subscribe(c),a=c}).then(r);return l.cancel=function(){i.unsubscribe(a)},l},t(function(a,l,c){i.reason||(i.reason=new Xo(a,l,c),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new IA(function(r){t=r}),cancel:t}}};function tD(n){return function(e){return n.apply(null,e)}}function eD(n){return lt.isObject(n)&&n.isAxiosError===!0}const Og={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Og).forEach(([n,t])=>{Og[t]=n});function zA(n){const t=new ga(n),e=yA(ga.prototype.request,t);return lt.extend(e,ga.prototype,t,{allOwnKeys:!0}),lt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(r){return zA(ba(n,r))},e}const Ne=zA(Ic);Ne.Axios=ga;Ne.CanceledError=Xo;Ne.CancelToken=JN;Ne.isCancel=NA;Ne.VERSION=FA;Ne.toFormData=jh;Ne.AxiosError=Kt;Ne.Cancel=Ne.CanceledError;Ne.all=function(t){return Promise.all(t)};Ne.spread=tD;Ne.isAxiosError=eD;Ne.mergeConfig=ba;Ne.AxiosHeaders=oi;Ne.formToJSON=n=>MA(lt.isHTMLForm(n)?new FormData(n):n);Ne.getAdapter=BA.getAdapter;Ne.HttpStatusCode=Og;Ne.default=Ne;const{Axios:uV,AxiosError:dV,CanceledError:hV,isCancel:fV,CancelToken:pV,VERSION:mV,all:gV,Cancel:yV,isAxiosError:bV,spread:vV,toFormData:_V,AxiosHeaders:SV,HttpStatusCode:xV,formToJSON:wV,getAdapter:AV,mergeConfig:EV}=Ne,Vd=Nh("auth/login",async(n,{rejectWithValue:t})=>{try{return(await Ne.post("https://study-buddy-2o9t.onrender.com/api/auth/signin",n)).data}catch(e){return t(e.response?.data?.message||"Login failed")}}),Gd=Nh("auth/register",async(n,{rejectWithValue:t})=>{try{return(await Ne.post("https://study-buddy-2o9t.onrender.com/api/auth/signup",n)).data}catch(e){return t(e.response?.data?.message||"Registration failed")}}),Xd=Nh("auth/updateProfile",async(n,{getState:t,rejectWithValue:e})=>{try{const i=t().auth.token;return(await Ne.patch("https://study-buddy-2o9t.onrender.com/api/auth/profile",n,{headers:{Authorization:`Bearer ${i}`}})).data.user}catch(i){return e(i.response?.data?.error||"Update failed")}}),oh=Nh("auth/fetchProfile",async(n,{getState:t,rejectWithValue:e})=>{try{const i=t().auth.token||localStorage.getItem("token");if(!i)throw new Error("No token found");return(await Ne.get("https://study-buddy-2o9t.onrender.com/api/auth/profile",{headers:{Authorization:`Bearer ${i}`}})).data}catch(i){return e(i.response?.data||{error:"Failed to fetch profile"})}}),mS=localStorage.getItem("token"),nD=JSON.parse(localStorage.getItem("user")||"null"),iD={user:nD,token:mS,loading:!1,error:null,isLoggedIn:!!mS},UA=SM({name:"auth",initialState:iD,reducers:{logoutUser:n=>{n.user=null,n.token=null,n.isLoggedIn=!1,localStorage.removeItem("token")}},extraReducers:n=>{n.addCase(Vd.pending,t=>{t.loading=!0,t.error=null}).addCase(Vd.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!0,localStorage.setItem("token",e.payload.token)}).addCase(Vd.rejected,(t,e)=>{t.isLoggedIn=!1,t.loading=!1,t.error=e.payload}).addCase(Gd.pending,t=>{t.loading=!0,t.error=null}).addCase(Gd.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload.user,t.token=e.payload.token,t.isLoggedIn=!1,localStorage.setItem("token",e.payload.token)}).addCase(Gd.rejected,(t,e)=>{t.loading=!1,t.error=e.payload}).addCase(Xd.pending,t=>{t.loading=!0}).addCase(Xd.fulfilled,(t,e)=>{t.loading=!1,t.user=e.payload}).addCase(Xd.rejected,(t,e)=>{t.loading=!1,t.error=e.payload}).addCase(oh.fulfilled,(t,e)=>{t.user=e.payload,t.isLoggedIn=!0,localStorage.setItem("user",JSON.stringify(e.payload))}).addCase(oh.rejected,t=>{t.user=null,t.isLoggedIn=!1,localStorage.removeItem("user"),localStorage.removeItem("token")})}}),{logoutUser:rD}=UA.actions,sD=UA.reducer,aD=aM({reducer:{auth:sD}}),oD="_container_w2yxm_1",lD={container:oD},Rg=({children:n})=>x.jsx("div",{className:lD.container,children:n}),cD="_header_3xxqy_1",uD="_container_3xxqy_14",dD="_left_3xxqy_25",hD="_menuBtn_3xxqy_32",fD="_logoSection_3xxqy_42",pD="_logoLink_3xxqy_48",mD="_logo_3xxqy_42",gD="_title_3xxqy_65",yD="_subtitle_3xxqy_74",bD="_navbar_3xxqy_111",vD="_navItem_3xxqy_118",_D="_active_3xxqy_139",SD="_searchContainer_3xxqy_149",xD="_searchBar_3xxqy_166",wD="_clearSearchBtn_3xxqy_182",AD="_mobileSearchBtn_3xxqy_205",ED="_mobileSearchOverlay_3xxqy_219",CD="_mobileSearchContainer_3xxqy_232",TD="_mobileSearchInput_3xxqy_258",kD="_mobileMenu_3xxqy_274",OD="_mobileMenuBtn_3xxqy_280",RD="_mobileDropdown_3xxqy_289",MD="_mobileNavItem_3xxqy_304",ND="_mobileThemeActive_3xxqy_325",DD="_mobileMenuDivider_3xxqy_331",LD="_mobileSubmenu_3xxqy_337",PD="_mobileSubmenuItem_3xxqy_345",jD="_authLinks_3xxqy_367",BD="_loginLink_3xxqy_372",FD="_themeToggle_3xxqy_421",ID="_mobileThemeToggle_3xxqy_534",zD="_mobileThemeToggleButton_3xxqy_538",UD="_themeToggleButton_3xxqy_593",HD="_themeToggleButtonActive_3xxqy_607",$D="_themeDropdownMenu_3xxqy_642",qD="_themeDropdownItem_3xxqy_657",VD="_themeDropdownItemActive_3xxqy_677",Lt={header:cD,container:uD,left:dD,menuBtn:hD,logoSection:fD,logoLink:pD,logo:mD,title:gD,subtitle:yD,navbar:bD,navItem:vD,active:_D,searchContainer:SD,searchBar:xD,clearSearchBtn:wD,mobileSearchBtn:AD,mobileSearchOverlay:ED,mobileSearchContainer:CD,mobileSearchInput:TD,mobileMenu:kD,mobileMenuBtn:OD,mobileDropdown:RD,mobileNavItem:MD,mobileThemeActive:ND,mobileMenuDivider:DD,mobileSubmenu:LD,mobileSubmenuItem:PD,authLinks:jD,loginLink:BD,themeToggle:FD,mobileThemeToggle:ID,mobileThemeToggleButton:zD,themeToggleButton:UD,themeToggleButtonActive:HD,themeDropdownMenu:$D,themeDropdownItem:qD,themeDropdownItemActive:VD},HA="/Study-Buddy/assets/logo2-nL_AdwE-.png",GD="_overlay_7ovfl_1",XD="_modal_7ovfl_17",YD="_closeIcon_7ovfl_29",WD="_form_7ovfl_65",KD="_actions_7ovfl_103",ZD="_cancel_7ovfl_112",QD="_save_7ovfl_129",Pi={overlay:GD,modal:XD,closeIcon:YD,form:WD,actions:KD,cancel:ZD,save:QD},JD=[{value:"Math",label:"Math"},{value:"Physics",label:"Physics"},{value:"Chemistry",label:"Chemistry"},{value:"Biology",label:"Biology"},{value:"ComputerScience",label:"Computer Science"}],tL=({onClose:n})=>{const t=Sy(),{user:e,token:i,loading:r}=Dc(S=>S.auth),[a,l]=$.useState(""),[c,d]=$.useState(""),[h,p]=$.useState(""),[m,y]=$.useState(!0);$.useEffect(()=>{(async()=>{i&&await t(oh()),y(!1)})()},[t,i]),$.useEffect(()=>{e&&(l(e.username||e.name||""),d(e.email||""),p(e.specialization||""))},[e]);const b=async S=>{S.preventDefault(),await t(Xd({name:a,email:c,specialization:h})),await t(oh()),n()};return m||r?x.jsx("div",{className:Pi.overlay,children:x.jsx("div",{className:Pi.modal,children:x.jsx("p",{children:"Loading profile..."})})}):x.jsx("div",{className:Pi.overlay,children:x.jsxs("div",{className:Pi.modal,children:[x.jsx("button",{className:Pi.closeIcon,onClick:n,children:""}),x.jsx("h2",{children:"Edit Profile"}),x.jsxs("form",{onSubmit:b,className:Pi.form,children:[x.jsx("label",{className:Pi.label,htmlFor:"name",children:"Name"}),x.jsx("input",{id:"name",type:"text",value:a,onChange:S=>l(S.target.value),placeholder:"Your name",required:!0}),x.jsx("label",{className:Pi.label,htmlFor:"email",children:"Email"}),x.jsx("input",{id:"email",type:"email",value:c,onChange:S=>d(S.target.value),placeholder:"Your email",required:!0}),x.jsx("label",{className:Pi.label,htmlFor:"specialization",children:"Specialization"}),x.jsxs("select",{id:"specialization",value:h,onChange:S=>p(S.target.value),required:!0,children:[x.jsx("option",{value:"",children:"Select specialization"}),JD.map(S=>x.jsx("option",{value:S.value,children:S.label},S.value))]}),x.jsxs("div",{className:Pi.actions,children:[x.jsx("button",{type:"button",onClick:n,className:Pi.cancel,children:"Cancel"}),x.jsx("button",{type:"submit",className:Pi.save,children:"Save Changes"})]})]})]})})};const eL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),gS=n=>{const t=nL(n);return t.charAt(0).toUpperCase()+t.slice(1)},$A=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),iL=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var rL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sL=$.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:l,...c},d)=>$.createElement("svg",{ref:d,...rL,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:$A("lucide",r),...!a&&!iL(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>$.createElement(h,p)),...Array.isArray(a)?a:[a]]));const te=(n,t)=>{const e=$.forwardRef(({className:i,...r},a)=>$.createElement(sL,{ref:a,iconNode:t,className:$A(`lucide-${eL(gS(n))}`,`lucide-${n}`,i),...r}));return e.displayName=gS(n),e};const aL=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],oL=te("archive-restore",aL);const lL=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Mg=te("archive",lL);const cL=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],yS=te("book-marked",cL);const uL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],dL=te("book-open",uL);const hL=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],bS=te("book",hL);const fL=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],pL=te("bot",fL);const mL=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],gL=te("chart-column",mL);const yL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qA=te("chevron-down",yL);const bL=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vL=te("chevron-up",bL);const _L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],SL=te("circle-alert",_L);const xL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wL=te("circle-check-big",xL);const AL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vS=te("circle-x",AL);const EL=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VA=te("clock",EL);const CL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ng=te("file-text",CL);const TL=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],_S=te("folder-open",TL);const kL=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SS=te("house",kL);const OL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],RL=te("image",OL);const ML=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],NL=te("info",ML);const DL=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],xS=te("lightbulb",DL);const LL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wS=te("log-out",LL);const PL=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],jL=te("menu",PL);const BL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],AS=te("moon",BL);const FL=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],IL=te("pause",FL);const zL=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],GA=te("play",zL);const UL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ES=te("plus",UL);const HL=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],$L=te("rotate-ccw",HL);const qL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],VL=te("search",qL);const GL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],XL=te("send",GL);const YL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WL=te("settings",YL);const KL=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ZL=te("share-2",KL);const QL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],JL=te("sparkles",QL);const tP=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],CS=te("sun",tP);const eP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],TS=te("trash-2",eP);const nP=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],iP=te("trending-up",nP);const rP=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ny=te("upload",rP);const sP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kS=te("users",sP);const aP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Dg=te("user",aP);const oP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lg=te("x",oP);const lP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],XA=te("zap",lP);const cP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],uP=te("zoom-in",cP);const dP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],hP=te("zoom-out",dP),xc=({onMenuClick:n,hasSidebar:t=!1,searchQuery:e="",onSearchChange:i=()=>{},hideSearch:r=!1})=>{const[a,l]=$.useState(!1),[c,d]=$.useState(!1),[h,p]=$.useState(!1),[m,y]=$.useState(!1),[b,S]=$.useState(!1),[_,E]=$.useState(()=>{if(typeof window>"u")return"light";const j=window.localStorage.getItem("sb-theme");return j==="light"||j==="dark"||j==="sepia"?j:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),w=$.useRef(),T=$.useRef(),k=$.useRef(),F=Sy(),O=is(),{isLoggedIn:R}=Dc(j=>j.auth);$.useEffect(()=>{typeof document>"u"||(document.documentElement.dataset.theme=_,window.localStorage.setItem("sb-theme",_))},[_]),$.useEffect(()=>{const j=N=>{w.current&&!w.current.contains(N.target)&&d(!1),T.current&&!T.current.contains(N.target)&&p(!1),k.current&&!k.current.contains(N.target)&&y(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const D=()=>{F(rD()),d(!1)};return x.jsxs(x.Fragment,{children:[x.jsx("header",{className:Lt.header,children:x.jsxs("div",{className:Lt.container,children:[x.jsxs("div",{className:Lt.left,children:[t&&x.jsx("button",{className:Lt.menuBtn,onClick:n,children:""}),x.jsx("div",{className:Lt.logoSection,children:x.jsxs(So,{to:"/",className:Lt.logoLink,children:[x.jsx("img",{src:HA,alt:"Study Buddy Logo",className:Lt.logo}),x.jsxs("div",{children:[x.jsx("h1",{className:Lt.title,children:"Study Buddy"}),x.jsx("p",{className:Lt.subtitle,children:"Your smart learning partner"})]})]})})]}),R&&x.jsxs(x.Fragment,{children:[!r&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:Lt.searchContainer,children:[x.jsx("input",{type:"text",placeholder:"Search modules...",className:Lt.searchBar,value:e,onChange:j=>i(j.target.value)}),e&&x.jsx("button",{className:Lt.clearSearchBtn,onClick:()=>i(""),title:"Clear search","aria-label":"Clear search",children:x.jsx(vS,{size:18})})]}),x.jsx("button",{className:Lt.mobileSearchBtn,onClick:()=>p(!h),title:"Search",children:x.jsx(VL,{size:20})})]}),x.jsxs("nav",{className:Lt.navbar,children:[x.jsxs(So,{to:"/",className:`${Lt.navItem} ${O.pathname==="/"?Lt.active:""}`,children:[x.jsx(SS,{size:18}),x.jsx("span",{children:"Dashboard"})]}),x.jsxs("button",{className:Lt.navItem,onClick:()=>l(!0),children:[x.jsx(Dg,{size:18}),x.jsx("span",{children:"My Account"})]}),x.jsxs("button",{className:Lt.navItem,onClick:D,children:[x.jsx(wS,{size:18}),x.jsx("span",{children:"Logout"})]})]})]}),x.jsxs("div",{className:Lt.themeToggle,role:"group","aria-label":"Theme toggle",children:[x.jsx("button",{type:"button",className:`${Lt.themeToggleButton} ${_==="light"?Lt.themeToggleButtonActive:""}`,onClick:()=>E("light"),"aria-pressed":_==="light",title:"Light mode",children:""}),x.jsx("button",{type:"button",className:`${Lt.themeToggleButton} ${_==="sepia"?Lt.themeToggleButtonActive:""}`,onClick:()=>E("sepia"),"aria-pressed":_==="sepia",title:"Sepia mode",children:""}),x.jsx("button",{type:"button",className:`${Lt.themeToggleButton} ${_==="dark"?Lt.themeToggleButtonActive:""}`,onClick:()=>E("dark"),"aria-pressed":_==="dark",title:"Dark mode",children:""})]}),x.jsxs("div",{className:Lt.mobileThemeToggle,ref:k,role:"group","aria-label":"Theme toggle",children:[x.jsx("button",{type:"button",className:Lt.mobileThemeToggleButton,onClick:()=>y(!m),"aria-label":"Theme options",title:"Change theme",children:_==="light"?"":_==="dark"?"":""}),m&&x.jsxs("div",{className:Lt.themeDropdownMenu,children:[x.jsx("button",{type:"button",className:`${Lt.themeDropdownItem} ${_==="light"?Lt.themeDropdownItemActive:""}`,onClick:()=>{E("light"),y(!1)},"aria-label":"Light mode",children:" Light"}),x.jsx("button",{type:"button",className:`${Lt.themeDropdownItem} ${_==="sepia"?Lt.themeDropdownItemActive:""}`,onClick:()=>{E("sepia"),y(!1)},"aria-label":"Sepia mode",children:" Sepia"}),x.jsx("button",{type:"button",className:`${Lt.themeDropdownItem} ${_==="dark"?Lt.themeDropdownItemActive:""}`,onClick:()=>{E("dark"),y(!1)},"aria-label":"Dark mode",children:" Dark"})]})]}),x.jsx("div",{className:Lt.mobileMenu,ref:w,children:R?x.jsxs(x.Fragment,{children:[x.jsx("button",{className:Lt.mobileMenuBtn,onClick:()=>d(!c),children:c?x.jsx(Lg,{size:24}):x.jsx(jL,{size:24})}),c&&x.jsxs("div",{className:Lt.mobileDropdown,children:[x.jsxs(So,{to:"/",className:Lt.mobileNavItem,onClick:()=>d(!1),children:[x.jsx(SS,{size:18}),"Dashboard"]}),x.jsxs("button",{className:Lt.mobileNavItem,onClick:()=>{l(!0),d(!1)},children:[x.jsx(Dg,{size:18}),"My Account"]}),x.jsx("div",{className:Lt.mobileMenuDivider}),x.jsxs("button",{className:Lt.mobileNavItem,onClick:()=>S(!b),children:[_==="light"?x.jsx(CS,{size:18}):_==="dark"?x.jsx(AS,{size:18}):x.jsx(bS,{size:18}),"Theme"]}),b&&x.jsxs("div",{className:Lt.mobileSubmenu,children:[x.jsxs("button",{className:`${Lt.mobileSubmenuItem} ${_==="light"?Lt.mobileThemeActive:""}`,onClick:()=>{E("light"),S(!1),d(!1)},title:"Light mode",children:[x.jsx(CS,{size:18}),"Light"]}),x.jsxs("button",{className:`${Lt.mobileSubmenuItem} ${_==="sepia"?Lt.mobileThemeActive:""}`,onClick:()=>{E("sepia"),S(!1),d(!1)},title:"Sepia mode",children:[x.jsx(bS,{size:18}),"Sepia"]}),x.jsxs("button",{className:`${Lt.mobileSubmenuItem} ${_==="dark"?Lt.mobileThemeActive:""}`,onClick:()=>{E("dark"),S(!1),d(!1)},title:"Dark mode",children:[x.jsx(AS,{size:18}),"Dark"]})]}),x.jsx("div",{className:Lt.mobileMenuDivider}),x.jsxs("button",{className:Lt.mobileNavItem,onClick:D,children:[x.jsx(wS,{size:18}),"Logout"]})]})]}):x.jsx("div",{className:Lt.authLinks,children:x.jsx(So,{to:"/login",className:Lt.loginLink,children:"Sign In"})})})]})}),h&&x.jsx("div",{className:Lt.mobileSearchOverlay,ref:T,children:x.jsxs("div",{className:Lt.mobileSearchContainer,children:[x.jsx("input",{type:"text",placeholder:"Search modules...",className:Lt.mobileSearchInput,value:e,onChange:j=>i(j.target.value),autoFocus:!0}),e&&x.jsx("button",{className:Lt.clearSearchBtn,onClick:()=>i(""),title:"Clear search","aria-label":"Clear search",children:x.jsx(vS,{size:18})})]})}),a&&x.jsx(tL,{onClose:()=>l(!1)})]})},fP="_card_hvjox_1",pP="_cardHeader_hvjox_20",mP="_withImage_hvjox_30",gP="_dateOnImage_hvjox_43",yP="_headerOverlay_hvjox_54",bP="_cardFooter_hvjox_72",vP="_footerContent_hvjox_83",_P="_titleSection_hvjox_91",SP="_title_hvjox_91",xP="_actions_hvjox_129",wP="_iconButton_hvjox_136",AP="_archiveButton_hvjox_156",EP="_deleteButton_hvjox_160",CP="_manageButton_hvjox_164",TP="_leaveButton_hvjox_168",kP="_studyOverlay_hvjox_172",OP="_overlayContent_hvjox_191",RP="_overlayIcon_hvjox_204",MP="_overlayText_hvjox_209",NP="_collabLabel_hvjox_217",Ue={card:fP,cardHeader:pP,withImage:mP,dateOnImage:gP,headerOverlay:yP,cardFooter:bP,footerContent:vP,titleSection:_P,title:SP,actions:xP,iconButton:wP,archiveButton:AP,deleteButton:EP,manageButton:CP,leaveButton:TP,studyOverlay:kP,overlayContent:OP,overlayIcon:RP,overlayText:MP,collabLabel:NP},Ve=Ne.create({baseURL:"https://study-buddy-2o9t.onrender.com/api"});Ve.interceptors.request.use(n=>{const t=localStorage.getItem("token");return t&&(n.headers.Authorization=`Bearer ${t}`),n});const OS=({id:n,title:t,date:e,archived:i,onArchive:r,onDelete:a,onManage:l,coverImage:c,isOwner:d})=>{const h=Vo(),p=async()=>{try{await Ve.post("/streak/study",{date:new Date().toISOString().split("T")[0]})}catch(_){console.error("Failed to track study activity",_)}h(`/modules/${n}`)},m=_=>{_.stopPropagation(),r(n,i)},y=_=>{_.stopPropagation(),a(n)},b=_=>{_.stopPropagation(),l(n,t,c)},S=async _=>{_.stopPropagation();try{const E=await Ve.get(`/modules/${n}/leave`);alert(E.data.message),a&&a(n)}catch(E){console.error("Failed to leave module",E),alert(E.response?.data?.error||"Failed to leave module")}};return x.jsxs("div",{className:Ue.card,children:[x.jsx("div",{className:`${Ue.cardHeader} ${c?Ue.withImage:""}`,style:c?{backgroundImage:`url(${c})`,backgroundSize:"cover",backgroundPosition:"center"}:{},children:x.jsxs("div",{className:Ue.headerOverlay,children:[x.jsx("p",{className:Ue.dateOnImage,children:e}),x.jsx("div",{className:Ue.studyOverlay,onClick:p,children:x.jsxs("div",{className:Ue.overlayContent,children:[x.jsx(GA,{size:28,className:Ue.overlayIcon}),x.jsx("span",{className:Ue.overlayText,children:"Continue Studying"})]})})]})}),x.jsx("div",{className:Ue.cardFooter,children:x.jsxs("div",{className:Ue.footerContent,children:[x.jsx("div",{className:Ue.titleSection,children:x.jsx("p",{className:Ue.title,children:t})}),x.jsx("div",{className:Ue.actions,children:d?x.jsxs(x.Fragment,{children:[x.jsx("button",{className:`${Ue.iconButton} ${Ue.manageButton}`,onClick:b,title:"Manage",children:x.jsx(WL,{size:16})}),x.jsx("button",{className:`${Ue.iconButton} ${Ue.archiveButton}`,onClick:m,title:i?"Unarchive":"Archive",children:i?x.jsx(oL,{size:16}):x.jsx(Mg,{size:16})}),x.jsx("button",{className:`${Ue.iconButton} ${Ue.deleteButton}`,onClick:y,title:"Delete",children:x.jsx(TS,{size:16})})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{className:Ue.collabLabel,children:"Collaborator"}),x.jsx("button",{className:`${Ue.iconButton} ${Ue.leaveButton}`,onClick:S,title:"Leave Module",children:x.jsx(TS,{size:16})})]})})]})})]})},DP="_container_esf8w_1",LP="_stepsWrapper_esf8w_12",PP="_stepCard_esf8w_20",jP="_active_esf8w_40",BP="_stepNumber_esf8w_46",FP="_stepIcon_esf8w_47",IP="_stepContent_esf8w_72",zP="_actionBtn_esf8w_104",ks={container:DP,stepsWrapper:LP,stepCard:PP,active:jP,stepNumber:BP,stepIcon:FP,stepContent:IP,actionBtn:zP},UP=({onClick:n})=>{const[t,e]=$.useState(-1),i=[{number:1,title:"Create Module",description:"Give your study module a name",icon:ES},{number:2,title:"Upload Files",description:"Add your notes, slides, and resources",icon:Ny},{number:3,title:"Start Learning",description:"Organize and study your materials",icon:XA}];return x.jsxs("div",{className:ks.container,children:[x.jsx("div",{className:ks.stepsWrapper,children:i.map((r,a)=>{const l=r.icon;return x.jsxs("div",{className:`${ks.stepCard} ${t===a?ks.active:""}`,onClick:()=>e(a),children:[x.jsx("div",{className:ks.stepNumber,children:r.number}),x.jsxs("div",{className:ks.stepContent,children:[x.jsx(l,{size:24,className:ks.stepIcon}),x.jsx("h3",{children:r.title}),x.jsx("p",{children:r.description})]})]},a)})}),x.jsxs("button",{className:ks.actionBtn,onClick:n,children:[x.jsx(ES,{size:20}),"Create Your First Module"]})]})},HP="_overlay_fw7eg_1",$P="_modal_fw7eg_16",qP="_closeButton_fw7eg_31",VP="_title_fw7eg_54",GP="_subtitle_fw7eg_65",XP="_uploadButtonContainer_fw7eg_73",YP="_infoTooltip_fw7eg_80",WP="_tooltipContent_fw7eg_96",KP="_supportedText_fw7eg_103",ZP="_tooltipTitle_fw7eg_130",QP="_formatsList_fw7eg_136",JP="_formGroup_fw7eg_142",tj="_input_fw7eg_155",ej="_fileName_fw7eg_253",nj="_uploadSection_fw7eg_266",ij="_uploadList_fw7eg_277",rj="_footer_fw7eg_284",sj="_actions_fw7eg_295",aj="_cancelButton_fw7eg_300",oj="_createButton_fw7eg_317",lj="_hiddenFileInput_fw7eg_346",cj="_uploadButton_fw7eg_73",uj="_uploadedFile_fw7eg_377",dj="_fileIcon_fw7eg_388",hj="_imagePickerSection_fw7eg_393",fj="_imageGrid_fw7eg_400",pj="_imageItem_fw7eg_407",mj="_selectedImage_fw7eg_429",gj="_rejectedSection_fw7eg_437",yj="_rejectedTitle_fw7eg_446",bj="_rejectedList_fw7eg_456",vj="_rejectedFile_fw7eg_465",_j="_rejectedIcon_fw7eg_476",Sj="_rejectedFileName_fw7eg_487",xj="_removeFileBtn_fw7eg_493",oe={overlay:HP,modal:$P,closeButton:qP,title:VP,subtitle:GP,uploadButtonContainer:XP,infoTooltip:YP,tooltipContent:WP,supportedText:KP,tooltipTitle:ZP,formatsList:QP,formGroup:JP,input:tj,fileName:ej,uploadSection:nj,uploadList:ij,footer:rj,actions:sj,cancelButton:aj,createButton:oj,hiddenFileInput:lj,uploadButton:cj,uploadedFile:uj,fileIcon:dj,imagePickerSection:hj,imageGrid:fj,imageItem:pj,selectedImage:mj,rejectedSection:gj,rejectedTitle:yj,rejectedList:bj,rejectedFile:vj,rejectedIcon:_j,rejectedFileName:Sj,removeFileBtn:xj},jo=Ne.create({baseURL:"http://localhost:3000/"});jo.interceptors.request.use(n=>{const t=localStorage.getItem("token");return t&&(n.headers.Authorization=`Bearer ${t}`),n});function YA(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(t=0;t<r;t++)n[t]&&(e=YA(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function Ki(){for(var n,t,e=0,i="",r=arguments.length;e<r;e++)(n=arguments[e])&&(t=YA(n))&&(i&&(i+=" "),i+=t);return i}function wj(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}wj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zc=n=>typeof n=="number"&&!isNaN(n),va=n=>typeof n=="string",ts=n=>typeof n=="function",Aj=n=>va(n)||zc(n),Pg=n=>va(n)||ts(n)?n:null,Ej=(n,t)=>n===!1||zc(n)&&n>0?n:t,jg=n=>$.isValidElement(n)||va(n)||ts(n)||zc(n);function Cj(n,t,e=300){let{scrollHeight:i,style:r}=n;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${e}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,e)})})}function Tj({enter:n,exit:t,appendPosition:e=!1,collapse:i=!0,collapseDuration:r=300}){return function({children:a,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:p,playToast:m}){let y=e?`${n}--${l}`:n,b=e?`${t}--${l}`:t,S=$.useRef(0);return $.useLayoutEffect(()=>{let _=h.current,E=y.split(" "),w=T=>{T.target===h.current&&(m(),_.removeEventListener("animationend",w),_.removeEventListener("animationcancel",w),S.current===0&&T.type!=="animationcancel"&&_.classList.remove(...E))};_.classList.add(...E),_.addEventListener("animationend",w),_.addEventListener("animationcancel",w)},[]),$.useEffect(()=>{let _=h.current,E=()=>{_.removeEventListener("animationend",E),i?Cj(_,d,r):d()};p||(c?E():(S.current=1,_.className+=` ${b}`,_.addEventListener("animationend",E)))},[p]),Vt.createElement(Vt.Fragment,null,a)}}function RS(n,t){return{content:WA(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:t}}function WA(n,t,e=!1){return $.isValidElement(n)&&!va(n.type)?$.cloneElement(n,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ts(n)?n({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):n}function kj({closeToast:n,theme:t,ariaLabel:e="close"}){return Vt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),n(!0)},"aria-label":e},Vt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Vt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Oj({delay:n,isRunning:t,closeToast:e,type:i="default",hide:r,className:a,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:p}){let m=r||l&&c===0,y={animationDuration:`${n}ms`,animationPlayState:t?"running":"paused"};l&&(y.transform=`scaleX(${c})`);let b=Ki("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=ts(a)?a({rtl:d,type:i,defaultClassName:b}):Ki(b,a),_={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&e()}};return Vt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Vt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),Vt.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:S,style:y,..._}))}var Rj=1,KA=()=>`${Rj++}`;function Mj(n,t,e){let i=1,r=0,a=[],l=[],c=t,d=new Map,h=new Set,p=T=>(h.add(T),()=>h.delete(T)),m=()=>{l=Array.from(d.values()),h.forEach(T=>T())},y=({containerId:T,toastId:k,updateId:F})=>{let O=T?T!==n:n!==1,R=d.has(k)&&F==null;return O||R},b=(T,k)=>{d.forEach(F=>{var O;(k==null||k===F.props.toastId)&&((O=F.toggle)==null||O.call(F,T))})},S=T=>{var k,F;(F=(k=T.props)==null?void 0:k.onClose)==null||F.call(k,T.removalReason),T.isActive=!1},_=T=>{if(T==null)d.forEach(S);else{let k=d.get(T);k&&S(k)}m()},E=()=>{r-=a.length,a=[]},w=T=>{var k,F;let{toastId:O,updateId:R}=T.props,D=R==null;T.staleId&&d.delete(T.staleId),T.isActive=!0,d.set(O,T),m(),e(RS(T,D?"added":"updated")),D&&((F=(k=T.props).onOpen)==null||F.call(k))};return{id:n,props:c,observe:p,toggle:b,removeToast:_,toasts:d,clearQueue:E,buildToast:(T,k)=>{if(y(k))return;let{toastId:F,updateId:O,data:R,staleId:D,delay:j}=k,N=O==null;N&&r++;let L={...c,style:c.toastStyle,key:i++,...Object.fromEntries(Object.entries(k).filter(([H,q])=>q!=null)),toastId:F,updateId:O,data:R,isIn:!1,className:Pg(k.className||c.toastClassName),progressClassName:Pg(k.progressClassName||c.progressClassName),autoClose:k.isLoading?!1:Ej(k.autoClose,c.autoClose),closeToast(H){d.get(F).removalReason=H,_(F)},deleteToast(){let H=d.get(F);if(H!=null){if(e(RS(H,"removed")),d.delete(F),r--,r<0&&(r=0),a.length>0){w(a.shift());return}m()}}};L.closeButton=c.closeButton,k.closeButton===!1||jg(k.closeButton)?L.closeButton=k.closeButton:k.closeButton===!0&&(L.closeButton=jg(c.closeButton)?c.closeButton:!0);let I={content:T,props:L,staleId:D};c.limit&&c.limit>0&&r>c.limit&&N?a.push(I):zc(j)?setTimeout(()=>{w(I)},j):w(I)},setProps(T){c=T},setToggle:(T,k)=>{let F=d.get(T);F&&(F.toggle=k)},isToastActive:T=>{var k;return(k=d.get(T))==null?void 0:k.isActive},getSnapshot:()=>l}}var $n=new Map,wc=[],Bg=new Set,Nj=n=>Bg.forEach(t=>t(n)),ZA=()=>$n.size>0;function Dj(){wc.forEach(n=>JA(n.content,n.options)),wc=[]}var Lj=(n,{containerId:t})=>{var e;return(e=$n.get(t||1))==null?void 0:e.toasts.get(n)};function QA(n,t){var e;if(t)return!!((e=$n.get(t))!=null&&e.isToastActive(n));let i=!1;return $n.forEach(r=>{r.isToastActive(n)&&(i=!0)}),i}function Pj(n){if(!ZA()){wc=wc.filter(t=>n!=null&&t.options.toastId!==n);return}if(n==null||Aj(n))$n.forEach(t=>{t.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let t=$n.get(n.containerId);t?t.removeToast(n.id):$n.forEach(e=>{e.removeToast(n.id)})}}var jj=(n={})=>{$n.forEach(t=>{t.props.limit&&(!n.containerId||t.id===n.containerId)&&t.clearQueue()})};function JA(n,t){jg(n)&&(ZA()||wc.push({content:n,options:t}),$n.forEach(e=>{e.buildToast(n,t)}))}function Bj(n){var t;(t=$n.get(n.containerId||1))==null||t.setToggle(n.id,n.fn)}function tE(n,t){$n.forEach(e=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===e.id)&&e.toggle(n,t?.id)})}function Fj(n){let t=n.containerId||1;return{subscribe(e){let i=Mj(t,n,Nj);$n.set(t,i);let r=i.observe(e);return Dj(),()=>{r(),$n.delete(t)}},setProps(e){var i;(i=$n.get(t))==null||i.setProps(e)},getSnapshot(){var e;return(e=$n.get(t))==null?void 0:e.getSnapshot()}}}function Ij(n){return Bg.add(n),()=>{Bg.delete(n)}}function zj(n){return n&&(va(n.toastId)||zc(n.toastId))?n.toastId:KA()}function Uc(n,t){return JA(n,t),t.toastId}function Fh(n,t){return{...t,type:t&&t.type||n,toastId:zj(t)}}function Ih(n){return(t,e)=>Uc(t,Fh(n,e))}function ne(n,t){return Uc(n,Fh("default",t))}ne.loading=(n,t)=>Uc(n,Fh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Uj(n,{pending:t,error:e,success:i},r){let a;t&&(a=va(t)?ne.loading(t,r):ne.loading(t.render,{...r,...t}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(h,p,m)=>{if(p==null){ne.dismiss(a);return}let y={type:h,...l,...r,data:m},b=va(p)?{render:p}:p;return a?ne.update(a,{...y,...b}):ne(b.render,{...y,...b}),m},d=ts(n)?n():n;return d.then(h=>c("success",i,h)).catch(h=>c("error",e,h)),d}ne.promise=Uj;ne.success=Ih("success");ne.info=Ih("info");ne.error=Ih("error");ne.warning=Ih("warning");ne.warn=ne.warning;ne.dark=(n,t)=>Uc(n,Fh("default",{theme:"dark",...t}));function Hj(n){Pj(n)}ne.dismiss=Hj;ne.clearWaitingQueue=jj;ne.isActive=QA;ne.update=(n,t={})=>{let e=Lj(n,t);if(e){let{props:i,content:r}=e,a={delay:100,...i,...t,toastId:t.toastId||n,updateId:KA()};a.toastId!==n&&(a.staleId=n);let l=a.render||r;delete a.render,Uc(l,a)}};ne.done=n=>{ne.update(n,{progress:1})};ne.onChange=Ij;ne.play=n=>tE(!0,n);ne.pause=n=>tE(!1,n);function $j(n){var t;let{subscribe:e,getSnapshot:i,setProps:r}=$.useRef(Fj(n)).current;r(n);let a=(t=$.useSyncExternalStore(e,i,i))==null?void 0:t.slice();function l(c){if(!a)return[];let d=new Map;return n.newestOnTop&&a.reverse(),a.forEach(h=>{let{position:p}=h.props;d.has(p)||d.set(p,[]),d.get(p).push(h)}),Array.from(d,h=>c(h[0],h[1]))}return{getToastToRender:l,isToastActive:QA,count:a?.length}}function qj(n){let[t,e]=$.useState(!1),[i,r]=$.useState(!1),a=$.useRef(null),l=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:d,closeToast:h,onClick:p,closeOnClick:m}=n;Bj({id:n.toastId,containerId:n.containerId,fn:e}),$.useEffect(()=>{if(n.pauseOnFocusLoss)return y(),()=>{b()}},[n.pauseOnFocusLoss]);function y(){document.hasFocus()||w(),window.addEventListener("focus",E),window.addEventListener("blur",w)}function b(){window.removeEventListener("focus",E),window.removeEventListener("blur",w)}function S(D){if(n.draggable===!0||n.draggable===D.pointerType){T();let j=a.current;l.canCloseOnClick=!0,l.canDrag=!0,j.style.transition="none",n.draggableDirection==="x"?(l.start=D.clientX,l.removalDistance=j.offsetWidth*(n.draggablePercent/100)):(l.start=D.clientY,l.removalDistance=j.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function _(D){let{top:j,bottom:N,left:L,right:I}=a.current.getBoundingClientRect();D.nativeEvent.type!=="touchend"&&n.pauseOnHover&&D.clientX>=L&&D.clientX<=I&&D.clientY>=j&&D.clientY<=N?w():E()}function E(){e(!0)}function w(){e(!1)}function T(){l.didMove=!1,document.addEventListener("pointermove",F),document.addEventListener("pointerup",O)}function k(){document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",O)}function F(D){let j=a.current;if(l.canDrag&&j){l.didMove=!0,t&&w(),n.draggableDirection==="x"?l.delta=D.clientX-l.start:l.delta=D.clientY-l.start,l.start!==D.clientX&&(l.canCloseOnClick=!1);let N=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;j.style.transform=`translate3d(${N},0)`,j.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function O(){k();let D=a.current;if(l.canDrag&&l.didMove&&D){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){r(!0),n.closeToast(!0),n.collapseAll();return}D.style.transition="transform 0.2s, opacity 0.2s",D.style.removeProperty("transform"),D.style.removeProperty("opacity")}}let R={onPointerDown:S,onPointerUp:_};return c&&d&&(R.onMouseEnter=w,n.stacked||(R.onMouseLeave=E)),m&&(R.onClick=D=>{p&&p(D),l.canCloseOnClick&&h(!0)}),{playToast:E,pauseToast:w,isRunning:t,preventExitTransition:i,toastRef:a,eventHandlers:R}}var Vj=typeof window<"u"?$.useLayoutEffect:$.useEffect,zh=({theme:n,type:t,isLoading:e,...i})=>Vt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function Gj(n){return Vt.createElement(zh,{...n},Vt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Xj(n){return Vt.createElement(zh,{...n},Vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Yj(n){return Vt.createElement(zh,{...n},Vt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Wj(n){return Vt.createElement(zh,{...n},Vt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Kj(){return Vt.createElement("div",{className:"Toastify__spinner"})}var Fg={info:Xj,warning:Gj,success:Yj,error:Wj,spinner:Kj},Zj=n=>n in Fg;function Qj({theme:n,type:t,isLoading:e,icon:i}){let r=null,a={theme:n,type:t};return i===!1||(ts(i)?r=i({...a,isLoading:e}):$.isValidElement(i)?r=$.cloneElement(i,a):e?r=Fg.spinner():Zj(t)&&(r=Fg[t](a))),r}var Jj=n=>{let{isRunning:t,preventExitTransition:e,toastRef:i,eventHandlers:r,playToast:a}=qj(n),{closeButton:l,children:c,autoClose:d,onClick:h,type:p,hideProgressBar:m,closeToast:y,transition:b,position:S,className:_,style:E,progressClassName:w,updateId:T,role:k,progress:F,rtl:O,toastId:R,deleteToast:D,isIn:j,isLoading:N,closeOnClick:L,theme:I,ariaLabel:H}=n,q=Ki("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":L}),G=ts(_)?_({rtl:O,position:S,type:p,defaultClassName:q}):Ki(q,_),Y=Qj(n),U=!!F||!d,C={closeToast:y,type:p,theme:I},J=null;return l===!1||(ts(l)?J=l(C):$.isValidElement(l)?J=$.cloneElement(l,C):J=kj(C)),Vt.createElement(b,{isIn:j,done:D,position:S,preventExitTransition:e,nodeRef:i,playToast:a},Vt.createElement("div",{id:R,tabIndex:0,onClick:h,"data-in":j,className:G,...r,style:E,ref:i,...j&&{role:k,"aria-label":H}},Y!=null&&Vt.createElement("div",{className:Ki("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},Y),WA(c,n,!t),J,!n.customProgressBar&&Vt.createElement(Oj,{...T&&!U?{key:`p-${T}`}:{},rtl:O,theme:I,delay:d,isRunning:t,isIn:j,closeToast:y,hide:m,type:p,className:w,controlledProgress:U,progress:F||0})))},t3=(n,t=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}),e3=Tj(t3("bounce",!0)),n3={position:"top-right",transition:e3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function i3(n){let t={...n3,...n},e=n.stacked,[i,r]=$.useState(!0),a=$.useRef(null),{getToastToRender:l,isToastActive:c,count:d}=$j(t),{className:h,style:p,rtl:m,containerId:y,hotKeys:b}=t;function S(E){let w=Ki("Toastify__toast-container",`Toastify__toast-container--${E}`,{"Toastify__toast-container--rtl":m});return ts(h)?h({position:E,rtl:m,defaultClassName:w}):Ki(w,Pg(h))}function _(){e&&(r(!0),ne.play())}return Vj(()=>{var E;if(e){let w=a.current.querySelectorAll('[data-in="true"]'),T=12,k=(E=t.position)==null?void 0:E.includes("top"),F=0,O=0;Array.from(w).reverse().forEach((R,D)=>{let j=R;j.classList.add("Toastify__toast--stacked"),D>0&&(j.dataset.collapsed=`${i}`),j.dataset.pos||(j.dataset.pos=k?"top":"bot");let N=F*(i?.2:1)+(i?0:T*D);j.style.setProperty("--y",`${k?N:N*-1}px`),j.style.setProperty("--g",`${T}`),j.style.setProperty("--s",`${1-(i?O:0)}`),F+=j.offsetHeight,O+=.025})}},[i,d,e]),$.useEffect(()=>{function E(w){var T;let k=a.current;b(w)&&((T=k.querySelector('[tabIndex="0"]'))==null||T.focus(),r(!1),ne.pause()),w.key==="Escape"&&(document.activeElement===k||k!=null&&k.contains(document.activeElement))&&(r(!0),ne.play())}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[b]),Vt.createElement("section",{ref:a,className:"Toastify",id:y,onMouseEnter:()=>{e&&(r(!1),ne.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l((E,w)=>{let T=w.length?{...p}:{...p,pointerEvents:"none"};return Vt.createElement("div",{tabIndex:-1,className:S(E),"data-stacked":e,style:T,key:`c-${E}`},w.map(({content:k,props:F})=>Vt.createElement(Jj,{...F,stacked:e,collapseAll:_,isIn:c(F.toastId,F.containerId),key:`t-${F.key}`},k)))}))}const r3="_container_78puh_1",s3="_animationWrapper_78puh_25",a3="_iconContainer_78puh_47",o3="_orbitContainer_78puh_54",l3="_orbit_78puh_54",c3="_iconWrapper_78puh_77",u3="_label_78puh_99",d3="_message_78puh_110",h3="_stagesIndicator_78puh_130",f3="_stageDot_78puh_137",p3="_active_78puh_146",m3="_completed_78puh_152",g3="_loadingBar_78puh_168",y3="_progress_78puh_177",b3="_tips_78puh_185",v3="_tipText_78puh_190",vn={container:r3,animationWrapper:s3,iconContainer:a3,orbitContainer:o3,orbit:l3,iconWrapper:c3,label:u3,message:d3,stagesIndicator:h3,stageDot:f3,active:p3,completed:m3,loadingBar:g3,progress:y3,tips:b3,tipText:v3},_3=({stage:n})=>{const t=[{id:"uploading",icon:Ny,label:"Uploading files...",message:"Getting your files ready"},{id:"processing",icon:XA,label:"Processing with AI...",message:"Teaching the AI about your content"},{id:"creating",icon:JL,label:"Creating module...",message:"Putting it all together"},{id:"complete",icon:wL,label:"Done!",message:"Your module is ready!"}],e=t.find(r=>r.id===n)||t[0],i=e.icon;return x.jsx("div",{className:vn.container,children:x.jsxs("div",{className:vn.animationWrapper,children:[x.jsxs("div",{className:vn.iconContainer,children:[x.jsxs("div",{className:vn.orbitContainer,children:[x.jsx("div",{className:vn.orbit}),x.jsx("div",{className:vn.orbit,style:{animationDelay:"0.5s"}}),x.jsx("div",{className:vn.orbit,style:{animationDelay:"1s"}})]}),x.jsx("div",{className:vn.iconWrapper,children:x.jsx(i,{size:48})})]}),x.jsx("h3",{className:vn.label,children:e.label}),x.jsx("p",{className:vn.message,children:e.message}),x.jsx("div",{className:vn.stagesIndicator,children:t.slice(0,3).map((r,a)=>x.jsx("div",{className:`${vn.stageDot} ${n===r.id?vn.active:t.indexOf(t.find(l=>l.id===n))>a?vn.completed:""}`},r.id))}),x.jsx("div",{className:vn.loadingBar,children:x.jsx("div",{className:vn.progress,style:{width:n==="uploading"?"33%":n==="processing"?"66%":"100%"}})}),x.jsx("div",{className:vn.tips,children:x.jsx("p",{className:vn.tipText,children:" Grab a coffee, this might take a moment!"})})]})})},S3=Array.from({length:10},(n,t)=>`c${t+1}.jpg`),MS=["docx","doc","pptx","ppt","xlsx","xls","pdf","png","jpg","jpeg","bmp","gif","webp","tiff","txt"],eE=({isOpen:n,onClose:t,onCreate:e,onUploadSuccess:i,moduleId:r,mode:a="create"})=>{const l=Vo(),[c,d]=$.useState(""),[h,p]=$.useState([]),[m,y]=$.useState(!1),[b,S]=$.useState("uploading"),[_,E]=$.useState(null),[w,T]=$.useState([]);if($.useEffect(()=>{a==="upload"&&d("")},[a]),!n)return null;const k=N=>N?N.toLowerCase().split(".").pop():"",F=N=>{const L=k(N);return MS.includes(L)},O=N=>{const L=Array.from(N.target.files),I=[],H=[];L.forEach(q=>{F(q.name)?I.push(q):H.push(q.name)}),H.length>0&&(T(q=>[...q,...H]),ne.error(` Unsupported file format(s): ${H.join(", ")}. Please use supported formats.`,{autoClose:5e3})),I.length>0&&(p(q=>[...q,...I]),H.length===0&&ne.success(` ${I.length} file(s) added successfully`,{autoClose:2e3}))},R=N=>{p(L=>L.filter((I,H)=>H!==N))},D=N=>{T(L=>L.filter((I,H)=>H!==N))},j=async()=>{if(a==="create"&&!c.trim()){ne.warning(" Please enter a module name.");return}if(h.length===0){ne.warning(" Please upload at least one file.");return}y(!0),S("uploading");try{const N=new FormData;a==="upload"&&N.append("moduleId",r),h.forEach(H=>N.append("files",H));const L=await jo.post("/upload-files",N,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("Python Upload successful:",L.data),S("processing"),L.data.errors&&L.data.errors.length>0){console.error("Python upload errors:",L.data.errors);const H=L.data.errors.map(q=>q.file_name).join(", ");ne.error(` Some files failed to process: ${H}`)}if(!L.data.uploaded||L.data.uploaded.length===0){ne.error(" No files were successfully processed."),y(!1);return}S("creating");let I=null;for(let H=0;H<L.data.uploaded.length;H++){const q=L.data.uploaded[H],G={...a==="create"&&H===0&&{moduleName:c},...a==="create"&&H>0&&I&&{moduleId:I.id},...a==="upload"&&{moduleId:Number(r)},file_id:q.file_id,file_name:q.file_name,s3Url:q.s3_url,s3Key:q.s3_key,html:q.html||"",...a==="create"&&H===0&&{coverImage:_}};console.log(`Sending to Node.js (file ${H+1}/${L.data.uploaded.length}):`,G);const Y=await Ve.post("/files/upload",G,{headers:{"Content-Type":"application/json"}});console.log("Node.js response:",Y.data),a==="create"&&H===0&&Y.data.module&&(I=Y.data.module)}a==="create"&&e&&I&&e(I),a==="upload"&&i&&i(),d(""),p([]),E(null),S("uploading"),t(),a==="create"&&I&&setTimeout(()=>{l(`/modules/${I.id}`)},500)}catch(N){console.error("Upload failed:",N),console.error("Error details:",N.response?.data);const L=N.response?.data?.error||N.message||"Upload failed";ne.error(` Upload failed: ${L}`),S("uploading")}finally{y(!1)}};return m?x.jsx(_3,{stage:b}):x.jsx("div",{className:oe.overlay,children:x.jsxs("div",{className:oe.modal,children:[x.jsx("button",{className:oe.closeButton,onClick:t,children:""}),x.jsx("h2",{className:oe.title,children:a==="create"?"Create New Study Module":"Add Files to Module"}),x.jsx("p",{className:oe.subtitle,children:a==="create"?"Upload your study materials to create a new module.":"Select and upload additional files for this module."}),a==="create"&&x.jsxs("div",{className:oe.formGroup,children:[x.jsx("label",{htmlFor:"moduleName",children:"Module Name"}),x.jsx("input",{id:"moduleName",type:"text",className:oe.input,placeholder:"e.g., Calculus I - Chapter 3",value:c,onChange:N=>d(N.target.value),disabled:m})]}),a==="create"&&x.jsxs("div",{className:oe.imagePickerSection,children:[x.jsx("label",{children:"Choose a Cover Image"}),x.jsx("div",{className:oe.imageGrid,children:S3.map((N,L)=>x.jsx("div",{className:`${oe.imageItem} ${_===N?oe.selectedImage:""}`,onClick:()=>E(N),children:x.jsx("img",{src:N,alt:"cover"})},L))})]}),x.jsxs("div",{className:oe.uploadSection,children:[x.jsx("input",{id:"fileInput",type:"file",multiple:!0,className:oe.hiddenFileInput,onChange:O,disabled:m,accept:MS.map(N=>`.${N}`).join(",")}),x.jsxs("div",{className:oe.uploadButtonContainer,children:[x.jsx("label",{htmlFor:"fileInput",className:oe.uploadButton,children:" Upload Files"}),x.jsxs("div",{className:oe.infoTooltip,children:[x.jsx("span",{className:oe.supportedText,children:"Supported file types"}),x.jsx(NL,{size:16}),x.jsxs("div",{className:oe.tooltipContent,children:[x.jsx("p",{className:oe.tooltipTitle,children:"Supported Formats"}),x.jsxs("div",{className:oe.formatsList,children:[x.jsx("div",{children:"Documents: DOCX, DOC, PPTX, PPT, XLSX, XLS"}),x.jsx("div",{children:"PDF: PDF"}),x.jsx("div",{children:"Images: PNG, JPG, JPEG, BMP, GIF, WEBP, TIFF"}),x.jsx("div",{children:"Text: TXT"})]})]})]})]}),h.length>0&&x.jsx("ul",{className:oe.uploadList,children:h.map((N,L)=>x.jsxs("li",{className:oe.uploadedFile,children:[x.jsx("span",{className:oe.fileIcon,children:""}),x.jsx("span",{className:oe.fileName,children:N.name}),x.jsx("button",{type:"button",className:oe.removeFileBtn,onClick:()=>R(L),title:"Remove file",children:""})]},L))}),w.length>0&&x.jsxs("div",{className:oe.rejectedSection,children:[x.jsxs("p",{className:oe.rejectedTitle,children:[x.jsx(SL,{size:14})," Unsupported files (",w.length,")"]}),x.jsx("ul",{className:oe.rejectedList,children:w.map((N,L)=>x.jsxs("li",{className:oe.rejectedFile,children:[x.jsx("span",{className:oe.rejectedIcon,children:""}),x.jsx("span",{className:oe.rejectedFileName,children:N}),x.jsx("button",{type:"button",className:oe.removeFileBtn,onClick:()=>D(L),title:"Dismiss",children:""})]},L))})]})]}),x.jsxs("div",{className:oe.footer,children:[x.jsxs("span",{children:["Total files: ",h.length]}),x.jsxs("div",{className:oe.actions,children:[x.jsx("button",{className:oe.cancelButton,onClick:t,disabled:m,children:"Cancel"}),x.jsx("button",{className:oe.createButton,onClick:j,disabled:h.length===0||m,children:m?"Uploading...":a==="create"?"Create Module":"Add Files"})]})]})]})})},x3="_homePage_1jsrz_1",w3="_progressCollapsed_1jsrz_12",A3="_headerSection_1jsrz_16",E3="_viewAllBtn_1jsrz_31",C3="_modulesGrid_1jsrz_49",T3="_content_1jsrz_57",k3="_mainContent_1jsrz_67",O3="_modulesSection_1jsrz_87",R3="_toggleButtons_1jsrz_215",M3="_progressSection_1jsrz_237",N3="_collapsed_1jsrz_253",D3="_progressHeader_1jsrz_257",L3="_collapseBtn_1jsrz_409",P3="_emptyState_1jsrz_416",j3="_emptyStateBtn_1jsrz_434",B3="_activeBtn_1jsrz_463",F3="_inactiveBtn_1jsrz_474",Je={homePage:x3,progressCollapsed:w3,headerSection:A3,viewAllBtn:E3,modulesGrid:C3,content:T3,mainContent:k3,modulesSection:O3,toggleButtons:R3,progressSection:M3,collapsed:N3,progressHeader:D3,collapseBtn:L3,emptyState:P3,emptyStateBtn:j3,activeBtn:B3,inactiveBtn:F3},I3="_addCard_1tcxu_1",z3={addCard:I3},U3="/Study-Buddy/assets/symbol-defs-CAKCujkI.svg",H3=({onClick:n})=>x.jsx("div",{className:z3.addCard,onClick:n,children:x.jsx("span",{children:x.jsx("svg",{width:"24",height:"24",fill:"#ffffff",children:x.jsx("use",{href:`${U3}#icon-plus`})})})}),$3="_overlay_14er8_1",q3="_fadeIn_14er8_1",V3="_modal_14er8_13",G3="_slideUp_14er8_1",X3="_header_14er8_25",Y3="_titleSection_14er8_34",W3="_icon_14er8_40",K3="_title_14er8_34",Z3="_closeBtn_14er8_52",Q3="_errorAlert_14er8_71",J3="_sectionContainer_14er8_86",tB="_section_14er8_86",eB="_sectionHeader_14er8_99",nB="_sectionIcon_14er8_105",iB="_divider_14er8_117",rB="_formRow_14er8_123",sB="_formGroup_14er8_129",aB="_input_14er8_135",oB="_select_14er8_136",lB="_primaryBtn_14er8_165",cB="_emptyState_14er8_193",uB="_emptyIcon_14er8_204",dB="_collaboratorsList_14er8_214",hB="_collaboratorItem_14er8_220",fB="_collaboratorInfo_14er8_236",pB="_collaboratorName_14er8_242",mB="_badge_14er8_249",gB="_editor_14er8_261",yB="_viewer_14er8_266",bB="_removeBtn_14er8_271",vB="_imagePickerSection_14er8_297",_B="_imageGrid_14er8_303",SB="_imageItem_14er8_310",xB="_selectedImage_14er8_332",qt={overlay:$3,fadeIn:q3,modal:V3,slideUp:G3,header:X3,titleSection:Y3,icon:W3,title:K3,closeBtn:Z3,errorAlert:Q3,sectionContainer:J3,section:tB,sectionHeader:eB,sectionIcon:nB,divider:iB,formRow:rB,formGroup:sB,input:aB,select:oB,primaryBtn:lB,emptyState:cB,emptyIcon:uB,collaboratorsList:dB,collaboratorItem:hB,collaboratorInfo:fB,collaboratorName:pB,badge:mB,editor:gB,viewer:yB,removeBtn:bB,imagePickerSection:vB,imageGrid:_B,imageItem:SB,selectedImage:xB},wB=Array.from({length:10},(n,t)=>`c${t+1}.jpg`),AB=({isOpen:n,onClose:t,moduleId:e,moduleTitle:i,onUpdate:r,moduleCoverImage:a})=>{const[l,c]=$.useState(i||""),[d,h]=$.useState(""),[p,m]=$.useState("editor"),[y,b]=$.useState([]),[S,_]=$.useState(a||null),[E,w]=$.useState(!1),[T,k]=$.useState("");$.useEffect(()=>{e&&n&&F()},[e,n]);const F=async()=>{try{const N=await Ve.get(`/files/modules/${e}/collaborators`);b(N.data.collaborators||[])}catch(N){console.error("Failed to fetch collaborators:",N),k("Failed to load collaborators")}},O=async()=>{if(!l.trim()){k("Title cannot be empty");return}try{w(!0),k("");const N=await Ve.put(`/files/modules/${e}/title`,{title:l});r(N.data.module),t()}catch(N){console.error("Failed to update title:",N),k(N.response?.data?.error||"Failed to update title")}finally{w(!1)}},R=async()=>{if(!d.trim()){k("Email cannot be empty");return}try{w(!0),k(""),await Ve.post(`/files/modules/${e}/collaborators`,{collaboratorEmail:d,role:p}),h(""),F()}catch(N){console.error("Failed to add collaborator:",N),k(N.response?.data?.error||"Failed to add collaborator")}finally{w(!1)}},D=async N=>{try{w(!0),k(""),await Ve.delete(`/files/modules/${e}/collaborators/${N}`),F()}catch(L){console.error("Failed to remove collaborator:",L),k("Failed to remove collaborator")}finally{w(!1)}},j=async()=>{if(!S){k("Please select a cover image");return}try{w(!0),k("");const N=await Ve.put(`/files/modules/${e}/cover-image`,{coverImage:S});r(N.data.module),ne.success(" Cover image updated successfully"),t()}catch(N){console.error("Failed to update cover image:",N),k(N.response?.data?.error||"Failed to update cover image"),ne.error(" Failed to update cover image")}finally{w(!1)}};return n?x.jsx("div",{className:qt.overlay,onClick:t,children:x.jsxs("div",{className:qt.modal,onClick:N=>N.stopPropagation(),children:[x.jsxs("div",{className:qt.header,children:[x.jsxs("div",{className:qt.titleSection,children:[x.jsx(Ng,{size:24,className:qt.icon}),x.jsx("h2",{className:qt.title,children:"Module Settings"})]}),x.jsx("button",{className:qt.closeBtn,onClick:t,title:"Close",children:x.jsx(Lg,{size:24})})]}),T&&x.jsx("div",{className:qt.errorAlert,children:x.jsx("p",{children:T})}),x.jsxs("div",{className:qt.sectionContainer,children:[x.jsxs("div",{className:qt.section,children:[x.jsxs("div",{className:qt.sectionHeader,children:[x.jsx(Ng,{size:20,className:qt.sectionIcon}),x.jsx("h3",{children:"Module Title"})]}),x.jsxs("div",{className:qt.formRow,children:[x.jsx("input",{type:"text",value:l,onChange:N=>c(N.target.value),placeholder:"Enter module title",className:qt.input,disabled:E}),x.jsx("button",{className:qt.primaryBtn,onClick:O,disabled:E,children:E?"Saving...":"Update"})]})]}),x.jsx("div",{className:qt.divider}),x.jsxs("div",{className:qt.section,children:[x.jsxs("div",{className:qt.sectionHeader,children:[x.jsx(RL,{size:20,className:qt.sectionIcon}),x.jsx("h3",{children:"Module Cover Image"})]}),x.jsxs("div",{className:qt.imagePickerSection,children:[x.jsx("div",{className:qt.imageGrid,children:wB.map((N,L)=>x.jsx("div",{className:`${qt.imageItem} ${S===N?qt.selectedImage:""}`,onClick:()=>_(N),children:x.jsx("img",{src:N,alt:`cover-${L+1}`})},L))}),x.jsx("button",{className:qt.primaryBtn,onClick:j,disabled:E||!S,children:E?"Saving...":"Update Cover Image"})]})]}),x.jsx("div",{className:qt.divider}),x.jsxs("div",{className:qt.section,children:[x.jsxs("div",{className:qt.sectionHeader,children:[x.jsx(ZL,{size:20,className:qt.sectionIcon}),x.jsx("h3",{children:"Add Collaborator"})]}),x.jsxs("div",{className:qt.formGroup,children:[x.jsxs("div",{className:qt.formRow,children:[x.jsx("input",{type:"email",value:d,onChange:N=>h(N.target.value),placeholder:"Enter collaborator email",className:qt.input,disabled:E}),x.jsxs("select",{value:p,onChange:N=>m(N.target.value),className:qt.select,disabled:E,children:[x.jsx("option",{value:"editor",children:"Editor"}),x.jsx("option",{value:"viewer",children:"Viewer"})]})]}),x.jsx("button",{className:qt.primaryBtn,onClick:R,disabled:E,children:E?"Adding...":"Add Collaborator"})]})]}),x.jsx("div",{className:qt.divider}),x.jsxs("div",{className:qt.section,children:[x.jsxs("div",{className:qt.sectionHeader,children:[x.jsx(kS,{size:20,className:qt.sectionIcon}),x.jsxs("h3",{children:["Collaborators (",y.length,")"]})]}),y.length===0?x.jsxs("div",{className:qt.emptyState,children:[x.jsx(kS,{size:32,className:qt.emptyIcon}),x.jsx("p",{children:"No collaborators yet"})]}):x.jsx("div",{className:qt.collaboratorsList,children:y.map(N=>x.jsxs("div",{className:qt.collaboratorItem,children:[x.jsxs("div",{className:qt.collaboratorInfo,children:[x.jsx("p",{className:qt.collaboratorName,children:N.user.name||N.user.email}),x.jsx("span",{className:`${qt.badge} ${qt[N.role]}`,children:N.role})]}),x.jsx("button",{className:qt.removeBtn,onClick:()=>D(N.user.id),disabled:E,title:"Remove collaborator",children:x.jsx(Lg,{size:18})})]},N.user.id))})]})]})]})}):null};var EB={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function CB(n){if(typeof n=="number")return{value:n,unit:"px"};var t,e=(n.match(/^[0-9.]*/)||"").toString();e.includes(".")?t=parseFloat(e):t=parseInt(e,10);var i=(n.match(/[^0-9]*$/)||"").toString();return EB[i]?{value:t,unit:i}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function NS(n){var t=CB(n);return"".concat(t.value).concat(t.unit)}var TB=function(n,t,e){var i="react-spinners-".concat(n,"-").concat(e);if(typeof window>"u"||!window.document)return i;var r=document.createElement("style");document.head.appendChild(r);var a=r.sheet,l=`
    @keyframes `.concat(i,` {
      `).concat(t,`
    }
  `);return a&&a.insertRule(l,0),i},lh=function(){return lh=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++){t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lh.apply(this,arguments)},kB=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e},OB=TB("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Dy(n){var t=n.loading,e=t===void 0?!0:t,i=n.color,r=i===void 0?"#000000":i,a=n.speedMultiplier,l=a===void 0?1:a,c=n.cssOverride,d=c===void 0?{}:c,h=n.size,p=h===void 0?35:h,m=kB(n,["loading","color","speedMultiplier","cssOverride","size"]),y=lh({background:"transparent !important",width:NS(p),height:NS(p),borderRadius:"100%",border:"2px solid",borderTopColor:r,borderBottomColor:"transparent",borderLeftColor:r,borderRightColor:r,display:"inline-block",animation:"".concat(OB," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return e?$.createElement("span",lh({style:y},m)):null}const RB="_overlay_tgfw2_1",MB={overlay:RB},nE=()=>x.jsx("div",{className:MB.overlay,children:x.jsx(Dy,{size:60,color:"#3498db"})}),NB="_statsOverview_sv2z3_1",DB="_statsGrid_sv2z3_12",LB="_statCard_sv2z3_19",PB="_iconWrapper_sv2z3_37",jB="_colorBlue_sv2z3_48",BB="_colorCyan_sv2z3_52",FB="_colorAmber_sv2z3_56",IB="_colorGreen_sv2z3_60",zB="_content_sv2z3_64",UB="_label_sv2z3_68",HB="_value_sv2z3_77",$B="_sublabel_sv2z3_85",ji={statsOverview:NB,statsGrid:DB,statCard:LB,iconWrapper:PB,colorBlue:jB,colorCyan:BB,colorAmber:FB,colorGreen:IB,content:zB,label:UB,value:HB,sublabel:$B},qB=()=>{const n=[{id:1,label:"Overall Progress",value:"65%",icon:iP,color:"blue",sublabel:"+5% this week"},{id:2,label:"Modules Completed",value:"4 / 6",icon:dL,color:"cyan",sublabel:"67% done"},{id:3,label:"Hours Studied",value:"52",icon:VA,color:"amber",sublabel:"+8 this week"},{id:4,label:"Average Test Score",value:"84%",icon:gL,color:"green",sublabel:"Best: 92%"}],t=e=>{const i={blue:ji.colorBlue,cyan:ji.colorCyan,amber:ji.colorAmber,green:ji.colorGreen};return i[e]||i.blue};return x.jsx("div",{className:ji.statsOverview,children:x.jsx("div",{className:ji.statsGrid,children:n.map(e=>{const i=e.icon;return x.jsxs("div",{className:`${ji.statCard} ${t(e.color)}`,children:[x.jsx("div",{className:ji.iconWrapper,children:x.jsx(i,{size:24})}),x.jsxs("div",{className:ji.content,children:[x.jsx("p",{className:ji.label,children:e.label}),x.jsx("h3",{className:ji.value,children:e.value}),x.jsx("p",{className:ji.sublabel,children:e.sublabel})]})]},e.id)})})})},VB=()=>{const[n,t]=$.useState([]),[e,i]=$.useState(!0),[r,a]=$.useState(!1),[l,c]=$.useState({open:!1,moduleId:null,title:"",coverImage:null}),[d,h]=$.useState("active"),[p,m]=$.useState(""),[y,b]=$.useState(()=>window.innerWidth<=768);$.useEffect(()=>{(async()=>{try{const q=await Ve.get("/files/modules");t(q.data.modules||[])}catch(q){console.error("Failed to fetch modules:",q)}finally{i(!1)}})()},[]);const S=()=>a(!0),_=()=>a(!1),E=H=>{t(q=>[...q,H]),a(!1)},w=async(H,q)=>{try{const G=q?`/files/modules/${H}/unarchive`:`/files/modules/${H}/archive`;await Ve.put(G),t(Y=>Y.map(U=>U.id===H?{...U,archived:!q}:U))}catch(G){console.error("Failed to toggle archive:",G)}},T=async H=>{if(window.confirm("Are you sure you want to delete this module and all its files?"))try{await Ve.delete(`/files/modules/${H}`),t(G=>G.filter(Y=>Y.id!==H))}catch(G){console.error("Failed to delete module:",G)}},k=(H,q,G)=>{c({open:!0,moduleId:H,title:q,coverImage:G})},F=H=>{t(q=>q.map(G=>G.id===H.id?H:G))};if(e)return x.jsxs(x.Fragment,{children:[x.jsx(xc,{}),x.jsx(Rg,{children:x.jsx("div",{className:Je.homePage,children:x.jsx(nE,{})})})]});const O=n.filter(H=>!H.archived),R=n.filter(H=>H.archived),D=H=>[...H].sort((q,G)=>{const Y=new Date(q.lastAccessedAt||q.createdAt).getTime();return new Date(G.lastAccessedAt||G.createdAt).getTime()-Y}),j=D(O),N=D(R),L=j.filter(H=>H.title.toLowerCase().includes(p.toLowerCase())),I=N.filter(H=>H.title.toLowerCase().includes(p.toLowerCase()));return x.jsxs(x.Fragment,{children:[x.jsx(xc,{searchQuery:p,onSearchChange:m}),x.jsxs(Rg,{children:[x.jsx("div",{className:`${Je.homePage} ${y?Je.progressCollapsed:""}`,children:n.length===0?x.jsx(UP,{onClick:S}):x.jsxs("div",{className:Je.content,children:[x.jsxs("div",{className:`${Je.progressSection} ${y?Je.collapsed:""}`,children:[x.jsxs("div",{className:Je.progressHeader,children:[x.jsx("h3",{children:"Your Progress"}),x.jsx("button",{className:Je.collapseBtn,onClick:()=>b(!y),title:y?"Show progress":"Hide progress",children:y?x.jsx(qA,{size:20}):x.jsx(vL,{size:20})})]}),!y&&x.jsx(qB,{})]}),x.jsx("div",{className:Je.mainContent,children:x.jsxs("div",{className:Je.modulesSection,children:[x.jsxs("div",{className:Je.headerSection,children:[x.jsx("h2",{children:"Modules"}),d==="active"&&O.length>3&&x.jsx("button",{className:Je.viewAllBtn,onClick:S,children:"Add more modules"})]}),x.jsxs("div",{className:Je.toggleButtons,children:[x.jsxs("button",{className:d==="active"?Je.activeBtn:Je.inactiveBtn,onClick:()=>h("active"),children:[x.jsx(_S,{size:18}),x.jsx("span",{children:"Current"})]}),x.jsxs("button",{className:d==="archived"?Je.activeBtn:Je.inactiveBtn,onClick:()=>h("archived"),children:[x.jsx(Mg,{size:18}),x.jsx("span",{children:"Archive"})]})]}),d==="active"&&L.length===0?x.jsxs("div",{className:Je.emptyState,children:[x.jsx(_S,{size:48}),x.jsx("h3",{children:p?"No modules found":"No Active Modules"}),x.jsx("p",{children:p?"Try a different search term":"Create your first module to get started"}),!p&&x.jsx("button",{className:Je.emptyStateBtn,onClick:S,children:"Create Module"})]}):x.jsxs("div",{className:Je.modulesGrid,children:[d==="active"&&L.map(H=>x.jsx(OS,{id:H.id,title:H.title,date:new Date(H.createdAt).toLocaleDateString(),archived:H.archived,onArchive:w,onDelete:T,onManage:k,coverImage:H.coverImage,isOwner:H.isOwner},H.id)),d==="archived"&&I.map(H=>x.jsx(OS,{id:H.id,title:H.title,date:new Date(H.createdAt).toLocaleDateString(),archived:H.archived,onArchive:w,onDelete:T,onManage:k,coverImage:H.coverImage,isOwner:H.isOwner},H.id)),d==="active"&&O.length<=3&&x.jsx(H3,{onClick:S})]}),d==="archived"&&I.length===0&&x.jsxs("div",{className:Je.emptyState,children:[x.jsx(Mg,{size:48}),x.jsx("h3",{children:p?"No modules found":"No Archived Modules"}),x.jsx("p",{children:p?"Try a different search term":"Archive modules to organize your workspace"})]})]})})]})}),r&&x.jsx(eE,{isOpen:r,onClose:_,onCreate:E}),l.open&&x.jsx(AB,{isOpen:l.open,onClose:()=>c({open:!1,moduleId:null,title:"",coverImage:null}),moduleId:l.moduleId,moduleTitle:l.title,moduleCoverImage:l.coverImage,onUpdate:F})]})]})},GB="_pageWrapper_1ujek_1",XB="_card_1ujek_16",YB="_header_1ujek_33",WB="_logo_1ujek_37",KB="_title_1ujek_45",ZB="_subtitle_1ujek_52",QB="_formContainer_1ujek_58",JB="_toggleText_1ujek_62",t4="_toggleButton_1ujek_68",hr={pageWrapper:GB,card:XB,header:YB,logo:WB,title:KB,subtitle:ZB,formContainer:QB,toggleText:JB,toggleButton:t4};var Hc=n=>n.type==="checkbox",ua=n=>n instanceof Date,si=n=>n==null;const iE=n=>typeof n=="object";var fn=n=>!si(n)&&!Array.isArray(n)&&iE(n)&&!ua(n),e4=n=>fn(n)&&n.target?Hc(n.target)?n.target.checked:n.target.value:n,n4=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,i4=(n,t)=>n.has(n4(t)),r4=n=>{const t=n.constructor&&n.constructor.prototype;return fn(t)&&t.hasOwnProperty("isPrototypeOf")},Ly=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _n(n){let t;const e=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)t=new Date(n);else if(!(Ly&&(n instanceof Blob||i))&&(e||fn(n)))if(t=e?[]:Object.create(Object.getPrototypeOf(n)),!e&&!r4(n))t=n;else for(const r in n)n.hasOwnProperty(r)&&(t[r]=_n(n[r]));else return n;return t}var Uh=n=>/^\w*$/.test(n),sn=n=>n===void 0,Py=n=>Array.isArray(n)?n.filter(Boolean):[],jy=n=>Py(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Rt=(n,t,e)=>{if(!t||!fn(n))return e;const i=(Uh(t)?[t]:jy(t)).reduce((r,a)=>si(r)?r:r[a],n);return sn(i)||i===n?sn(n[t])?e:n[t]:i},vr=n=>typeof n=="boolean",Te=(n,t,e)=>{let i=-1;const r=Uh(t)?[t]:jy(t),a=r.length,l=a-1;for(;++i<a;){const c=r[i];let d=e;if(i!==l){const h=n[c];d=fn(h)||Array.isArray(h)?h:isNaN(+r[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;n[c]=d,n=n[c]}};const DS={BLUR:"blur",FOCUS_OUT:"focusout"},Yi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},s4=Vt.createContext(null);s4.displayName="HookFormContext";var a4=(n,t,e,i=!0)=>{const r={defaultValues:t._defaultValues};for(const a in n)Object.defineProperty(r,a,{get:()=>{const l=a;return t._proxyFormState[l]!==Yi.all&&(t._proxyFormState[l]=!i||Yi.all),n[l]}});return r};const o4=typeof window<"u"?Vt.useLayoutEffect:Vt.useEffect;var Si=n=>typeof n=="string",l4=(n,t,e,i,r)=>Si(n)?(i&&t.watch.add(n),Rt(e,n,r)):Array.isArray(n)?n.map(a=>(i&&t.watch.add(a),Rt(e,a))):(i&&(t.watchAll=!0),e),Ig=n=>si(n)||!iE(n);function Ms(n,t,e=new WeakSet){if(Ig(n)||Ig(t))return Object.is(n,t);if(ua(n)&&ua(t))return n.getTime()===t.getTime();const i=Object.keys(n),r=Object.keys(t);if(i.length!==r.length)return!1;if(e.has(n)||e.has(t))return!0;e.add(n),e.add(t);for(const a of i){const l=n[a];if(!r.includes(a))return!1;if(a!=="ref"){const c=t[a];if(ua(l)&&ua(c)||fn(l)&&fn(c)||Array.isArray(l)&&Array.isArray(c)?!Ms(l,c,e):!Object.is(l,c))return!1}}return!0}var rE=(n,t,e,i,r)=>t?{...e[n],types:{...e[n]&&e[n].types?e[n].types:{},[i]:r||!0}}:{},dc=n=>Array.isArray(n)?n:[n],LS=()=>{let n=[];return{get observers(){return n},next:r=>{for(const a of n)a.next&&a.next(r)},subscribe:r=>(n.push(r),{unsubscribe:()=>{n=n.filter(a=>a!==r)}}),unsubscribe:()=>{n=[]}}};function sE(n,t){const e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i],a=t[i];if(r&&fn(r)&&a){const l=sE(r,a);fn(l)&&(e[i]=l)}else n[i]&&(e[i]=a)}return e}var zn=n=>fn(n)&&!Object.keys(n).length,By=n=>n.type==="file",Wi=n=>typeof n=="function",ch=n=>{if(!Ly)return!1;const t=n?n.ownerDocument:0;return n instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aE=n=>n.type==="select-multiple",Fy=n=>n.type==="radio",c4=n=>Fy(n)||Hc(n),Lm=n=>ch(n)&&n.isConnected;function u4(n,t){const e=t.slice(0,-1).length;let i=0;for(;i<e;)n=sn(n)?i++:n[t[i++]];return n}function d4(n){for(const t in n)if(n.hasOwnProperty(t)&&!sn(n[t]))return!1;return!0}function dn(n,t){const e=Array.isArray(t)?t:Uh(t)?[t]:jy(t),i=e.length===1?n:u4(n,e),r=e.length-1,a=e[r];return i&&delete i[a],r!==0&&(fn(i)&&zn(i)||Array.isArray(i)&&d4(i))&&dn(n,e.slice(0,-1)),n}var h4=n=>{for(const t in n)if(Wi(n[t]))return!0;return!1};function oE(n){return Array.isArray(n)||fn(n)&&!h4(n)}function zg(n,t={}){for(const e in n){const i=n[e];oE(i)?(t[e]=Array.isArray(i)?[]:{},zg(i,t[e])):sn(i)||(t[e]=!0)}return t}function bo(n,t,e){e||(e=zg(t));for(const i in n){const r=n[i];if(oE(r))sn(t)||Ig(e[i])?e[i]=zg(r,Array.isArray(r)?[]:{}):bo(r,si(t)?{}:t[i],e[i]);else{const a=t[i];e[i]=!Ms(r,a)}}return e}const PS={value:!1,isValid:!1},jS={value:!0,isValid:!0};var lE=n=>{if(Array.isArray(n)){if(n.length>1){const t=n.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!sn(n[0].attributes.value)?sn(n[0].value)||n[0].value===""?jS:{value:n[0].value,isValid:!0}:jS:PS}return PS},cE=(n,{valueAsNumber:t,valueAsDate:e,setValueAs:i})=>sn(n)?n:t?n===""?NaN:n&&+n:e&&Si(n)?new Date(n):i?i(n):n;const BS={isValid:!1,value:null};var uE=n=>Array.isArray(n)?n.reduce((t,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:t,BS):BS;function FS(n){const t=n.ref;return By(t)?t.files:Fy(t)?uE(n.refs).value:aE(t)?[...t.selectedOptions].map(({value:e})=>e):Hc(t)?lE(n.refs).value:cE(sn(t.value)?n.ref.value:t.value,n)}var f4=(n,t,e,i)=>{const r={};for(const a of n){const l=Rt(t,a);l&&Te(r,a,l._f)}return{criteriaMode:e,names:[...n],fields:r,shouldUseNativeValidation:i}},uh=n=>n instanceof RegExp,Xl=n=>sn(n)?n:uh(n)?n.source:fn(n)?uh(n.value)?n.value.source:n.value:n,IS=n=>({isOnSubmit:!n||n===Yi.onSubmit,isOnBlur:n===Yi.onBlur,isOnChange:n===Yi.onChange,isOnAll:n===Yi.all,isOnTouch:n===Yi.onTouched});const zS="AsyncFunction";var p4=n=>!!n&&!!n.validate&&!!(Wi(n.validate)&&n.validate.constructor.name===zS||fn(n.validate)&&Object.values(n.validate).find(t=>t.constructor.name===zS)),m4=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),US=(n,t,e)=>!e&&(t.watchAll||t.watch.has(n)||[...t.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const hc=(n,t,e,i)=>{for(const r of e||Object.keys(n)){const a=Rt(n,r);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],r)&&!i)return!0;if(l.ref&&t(l.ref,l.name)&&!i)return!0;if(hc(c,t))break}else if(fn(c)&&hc(c,t))break}}};function HS(n,t,e){const i=Rt(n,e);if(i||Uh(e))return{error:i,name:e};const r=e.split(".");for(;r.length;){const a=r.join("."),l=Rt(t,a),c=Rt(n,a);if(l&&!Array.isArray(l)&&e!==a)return{name:e};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};r.pop()}return{name:e}}var g4=(n,t,e,i)=>{e(n);const{name:r,...a}=n;return zn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!i||Yi.all))},y4=(n,t,e)=>!n||!t||n===t||dc(n).some(i=>i&&(e?i===t:i.startsWith(t)||t.startsWith(i))),b4=(n,t,e,i,r)=>r.isOnAll?!1:!e&&r.isOnTouch?!(t||n):(e?i.isOnBlur:r.isOnBlur)?!n:(e?i.isOnChange:r.isOnChange)?n:!0,v4=(n,t)=>!Py(Rt(n,t)).length&&dn(n,t),_4=(n,t,e)=>{const i=dc(Rt(n,e));return Te(i,"root",t[e]),Te(n,e,i),n};function $S(n,t,e="validate"){if(Si(n)||Array.isArray(n)&&n.every(Si)||vr(n)&&!n)return{type:e,message:Si(n)?n:"",ref:t}}var ho=n=>fn(n)&&!uh(n)?n:{value:n,message:""},qS=async(n,t,e,i,r,a)=>{const{ref:l,refs:c,required:d,maxLength:h,minLength:p,min:m,max:y,pattern:b,validate:S,name:_,valueAsNumber:E,mount:w}=n._f,T=Rt(e,_);if(!w||t.has(_))return{};const k=c?c[0]:l,F=H=>{r&&k.reportValidity&&(k.setCustomValidity(vr(H)?"":H||""),k.reportValidity())},O={},R=Fy(l),D=Hc(l),j=R||D,N=(E||By(l))&&sn(l.value)&&sn(T)||ch(l)&&l.value===""||T===""||Array.isArray(T)&&!T.length,L=rE.bind(null,_,i,O),I=(H,q,G,Y=qr.maxLength,U=qr.minLength)=>{const C=H?q:G;O[_]={type:H?Y:U,message:C,ref:l,...L(H?Y:U,C)}};if(a?!Array.isArray(T)||!T.length:d&&(!j&&(N||si(T))||vr(T)&&!T||D&&!lE(c).isValid||R&&!uE(c).isValid)){const{value:H,message:q}=Si(d)?{value:!!d,message:d}:ho(d);if(H&&(O[_]={type:qr.required,message:q,ref:k,...L(qr.required,q)},!i))return F(q),O}if(!N&&(!si(m)||!si(y))){let H,q;const G=ho(y),Y=ho(m);if(!si(T)&&!isNaN(T)){const U=l.valueAsNumber||T&&+T;si(G.value)||(H=U>G.value),si(Y.value)||(q=U<Y.value)}else{const U=l.valueAsDate||new Date(T),C=A=>new Date(new Date().toDateString()+" "+A),J=l.type=="time",X=l.type=="week";Si(G.value)&&T&&(H=J?C(T)>C(G.value):X?T>G.value:U>new Date(G.value)),Si(Y.value)&&T&&(q=J?C(T)<C(Y.value):X?T<Y.value:U<new Date(Y.value))}if((H||q)&&(I(!!H,G.message,Y.message,qr.max,qr.min),!i))return F(O[_].message),O}if((h||p)&&!N&&(Si(T)||a&&Array.isArray(T))){const H=ho(h),q=ho(p),G=!si(H.value)&&T.length>+H.value,Y=!si(q.value)&&T.length<+q.value;if((G||Y)&&(I(G,H.message,q.message),!i))return F(O[_].message),O}if(b&&!N&&Si(T)){const{value:H,message:q}=ho(b);if(uh(H)&&!T.match(H)&&(O[_]={type:qr.pattern,message:q,ref:l,...L(qr.pattern,q)},!i))return F(q),O}if(S){if(Wi(S)){const H=await S(T,e),q=$S(H,k);if(q&&(O[_]={...q,...L(qr.validate,q.message)},!i))return F(q.message),O}else if(fn(S)){let H={};for(const q in S){if(!zn(H)&&!i)break;const G=$S(await S[q](T,e),k,q);G&&(H={...G,...L(q,G.message)},F(G.message),i&&(O[_]=H))}if(!zn(H)&&(O[_]={ref:k,...H},!i))return O}}return F(!0),O};const S4={mode:Yi.onSubmit,reValidateMode:Yi.onChange,shouldFocusError:!0};function x4(n={}){let t={...S4,...n},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},r=fn(t.defaultValues)||fn(t.values)?_n(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:_n(r),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...p};const y={array:LS(),state:LS()},b=t.criteriaMode===Yi.all,S=W=>nt=>{clearTimeout(h),h=setTimeout(W,nt)},_=async W=>{if(!t.disabled&&(p.isValid||m.isValid||W)){const nt=t.resolver?zn((await D()).errors):await N(i,!0);nt!==e.isValid&&y.state.next({isValid:nt})}},E=(W,nt)=>{!t.disabled&&(p.isValidating||p.validatingFields||m.isValidating||m.validatingFields)&&((W||Array.from(c.mount)).forEach(dt=>{dt&&(nt?Te(e.validatingFields,dt,nt):dn(e.validatingFields,dt))}),y.state.next({validatingFields:e.validatingFields,isValidating:!zn(e.validatingFields)}))},w=(W,nt=[],dt,St,gt=!0,yt=!0)=>{if(St&&dt&&!t.disabled){if(l.action=!0,yt&&Array.isArray(Rt(i,W))){const tt=dt(Rt(i,W),St.argA,St.argB);gt&&Te(i,W,tt)}if(yt&&Array.isArray(Rt(e.errors,W))){const tt=dt(Rt(e.errors,W),St.argA,St.argB);gt&&Te(e.errors,W,tt),v4(e.errors,W)}if((p.touchedFields||m.touchedFields)&&yt&&Array.isArray(Rt(e.touchedFields,W))){const tt=dt(Rt(e.touchedFields,W),St.argA,St.argB);gt&&Te(e.touchedFields,W,tt)}(p.dirtyFields||m.dirtyFields)&&(e.dirtyFields=bo(r,a)),y.state.next({name:W,isDirty:I(W,nt),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else Te(a,W,nt)},T=(W,nt)=>{Te(e.errors,W,nt),y.state.next({errors:e.errors})},k=W=>{e.errors=W,y.state.next({errors:e.errors,isValid:!1})},F=(W,nt,dt,St)=>{const gt=Rt(i,W);if(gt){const yt=Rt(a,W,sn(dt)?Rt(r,W):dt);sn(yt)||St&&St.defaultChecked||nt?Te(a,W,nt?yt:FS(gt._f)):G(W,yt),l.mount&&!l.action&&_()}},O=(W,nt,dt,St,gt)=>{let yt=!1,tt=!1;const ht={name:W};if(!t.disabled){if(!dt||St){(p.isDirty||m.isDirty)&&(tt=e.isDirty,e.isDirty=ht.isDirty=I(),yt=tt!==ht.isDirty);const vt=Ms(Rt(r,W),nt);tt=!!Rt(e.dirtyFields,W),vt?dn(e.dirtyFields,W):Te(e.dirtyFields,W,!0),ht.dirtyFields=e.dirtyFields,yt=yt||(p.dirtyFields||m.dirtyFields)&&tt!==!vt}if(dt){const vt=Rt(e.touchedFields,W);vt||(Te(e.touchedFields,W,dt),ht.touchedFields=e.touchedFields,yt=yt||(p.touchedFields||m.touchedFields)&&vt!==dt)}yt&&gt&&y.state.next(ht)}return yt?ht:{}},R=(W,nt,dt,St)=>{const gt=Rt(e.errors,W),yt=(p.isValid||m.isValid)&&vr(nt)&&e.isValid!==nt;if(t.delayError&&dt?(d=S(()=>T(W,dt)),d(t.delayError)):(clearTimeout(h),d=null,dt?Te(e.errors,W,dt):dn(e.errors,W)),(dt?!Ms(gt,dt):gt)||!zn(St)||yt){const tt={...St,...yt&&vr(nt)?{isValid:nt}:{},errors:e.errors,name:W};e={...e,...tt},y.state.next(tt)}},D=async W=>{E(W,!0);const nt=await t.resolver(a,t.context,f4(W||c.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return E(W),nt},j=async W=>{const{errors:nt}=await D(W);if(W)for(const dt of W){const St=Rt(nt,dt);St?Te(e.errors,dt,St):dn(e.errors,dt)}else e.errors=nt;return nt},N=async(W,nt,dt={valid:!0})=>{for(const St in W){const gt=W[St];if(gt){const{_f:yt,...tt}=gt;if(yt){const ht=c.array.has(yt.name),vt=gt._f&&p4(gt._f);vt&&p.validatingFields&&E([yt.name],!0);const Dt=await qS(gt,c.disabled,a,b,t.shouldUseNativeValidation&&!nt,ht);if(vt&&p.validatingFields&&E([yt.name]),Dt[yt.name]&&(dt.valid=!1,nt))break;!nt&&(Rt(Dt,yt.name)?ht?_4(e.errors,Dt,yt.name):Te(e.errors,yt.name,Dt[yt.name]):dn(e.errors,yt.name))}!zn(tt)&&await N(tt,nt,dt)}}return dt.valid},L=()=>{for(const W of c.unMount){const nt=Rt(i,W);nt&&(nt._f.refs?nt._f.refs.every(dt=>!Lm(dt)):!Lm(nt._f.ref))&&ct(W)}c.unMount=new Set},I=(W,nt)=>!t.disabled&&(W&&nt&&Te(a,W,nt),!Ms(A(),r)),H=(W,nt,dt)=>l4(W,c,{...l.mount?a:sn(nt)?r:Si(W)?{[W]:nt}:nt},dt,nt),q=W=>Py(Rt(l.mount?a:r,W,t.shouldUnregister?Rt(r,W,[]):[])),G=(W,nt,dt={})=>{const St=Rt(i,W);let gt=nt;if(St){const yt=St._f;yt&&(!yt.disabled&&Te(a,W,cE(nt,yt)),gt=ch(yt.ref)&&si(nt)?"":nt,aE(yt.ref)?[...yt.ref.options].forEach(tt=>tt.selected=gt.includes(tt.value)):yt.refs?Hc(yt.ref)?yt.refs.forEach(tt=>{(!tt.defaultChecked||!tt.disabled)&&(Array.isArray(gt)?tt.checked=!!gt.find(ht=>ht===tt.value):tt.checked=gt===tt.value||!!gt)}):yt.refs.forEach(tt=>tt.checked=tt.value===gt):By(yt.ref)?yt.ref.value="":(yt.ref.value=gt,yt.ref.type||y.state.next({name:W,values:_n(a)})))}(dt.shouldDirty||dt.shouldTouch)&&O(W,gt,dt.shouldTouch,dt.shouldDirty,!0),dt.shouldValidate&&X(W)},Y=(W,nt,dt)=>{for(const St in nt){if(!nt.hasOwnProperty(St))return;const gt=nt[St],yt=W+"."+St,tt=Rt(i,yt);(c.array.has(W)||fn(gt)||tt&&!tt._f)&&!ua(gt)?Y(yt,gt,dt):G(yt,gt,dt)}},U=(W,nt,dt={})=>{const St=Rt(i,W),gt=c.array.has(W),yt=_n(nt);Te(a,W,yt),gt?(y.array.next({name:W,values:_n(a)}),(p.isDirty||p.dirtyFields||m.isDirty||m.dirtyFields)&&dt.shouldDirty&&y.state.next({name:W,dirtyFields:bo(r,a),isDirty:I(W,yt)})):St&&!St._f&&!si(yt)?Y(W,yt,dt):G(W,yt,dt),US(W,c)&&y.state.next({...e,name:W}),y.state.next({name:l.mount?W:void 0,values:_n(a)})},C=async W=>{l.mount=!0;const nt=W.target;let dt=nt.name,St=!0;const gt=Rt(i,dt),yt=vt=>{St=Number.isNaN(vt)||ua(vt)&&isNaN(vt.getTime())||Ms(vt,Rt(a,dt,vt))},tt=IS(t.mode),ht=IS(t.reValidateMode);if(gt){let vt,Dt;const ee=nt.type?FS(gt._f):e4(W),Xe=W.type===DS.BLUR||W.type===DS.FOCUS_OUT,Hi=!m4(gt._f)&&!t.resolver&&!Rt(e.errors,dt)&&!gt._f.deps||b4(Xe,Rt(e.touchedFields,dt),e.isSubmitted,ht,tt),pn=US(dt,c,Xe);Te(a,dt,ee),Xe?(!nt||!nt.readOnly)&&(gt._f.onBlur&&gt._f.onBlur(W),d&&d(0)):gt._f.onChange&&gt._f.onChange(W);const ze=O(dt,ee,Xe),Dn=!zn(ze)||pn;if(!Xe&&y.state.next({name:dt,type:W.type,values:_n(a)}),Hi)return(p.isValid||m.isValid)&&(t.mode==="onBlur"?Xe&&_():Xe||_()),Dn&&y.state.next({name:dt,...pn?{}:ze});if(!Xe&&pn&&y.state.next({...e}),t.resolver){const{errors:be}=await D([dt]);if(yt(ee),St){const rr=HS(e.errors,i,dt),Gn=HS(be,i,rr.name||dt);vt=Gn.error,dt=Gn.name,Dt=zn(be)}}else E([dt],!0),vt=(await qS(gt,c.disabled,a,b,t.shouldUseNativeValidation))[dt],E([dt]),yt(ee),St&&(vt?Dt=!1:(p.isValid||m.isValid)&&(Dt=await N(i,!0)));St&&(gt._f.deps&&(!Array.isArray(gt._f.deps)||gt._f.deps.length>0)&&X(gt._f.deps),R(dt,Dt,vt,ze))}},J=(W,nt)=>{if(Rt(e.errors,nt)&&W.focus)return W.focus(),1},X=async(W,nt={})=>{let dt,St;const gt=dc(W);if(t.resolver){const yt=await j(sn(W)?W:gt);dt=zn(yt),St=W?!gt.some(tt=>Rt(yt,tt)):dt}else W?(St=(await Promise.all(gt.map(async yt=>{const tt=Rt(i,yt);return await N(tt&&tt._f?{[yt]:tt}:tt)}))).every(Boolean),!(!St&&!e.isValid)&&_()):St=dt=await N(i);return y.state.next({...!Si(W)||(p.isValid||m.isValid)&&dt!==e.isValid?{}:{name:W},...t.resolver||!W?{isValid:dt}:{},errors:e.errors}),nt.shouldFocus&&!St&&hc(i,J,W?gt:c.mount),St},A=(W,nt)=>{let dt={...l.mount?a:r};return nt&&(dt=sE(nt.dirtyFields?e.dirtyFields:e.touchedFields,dt)),sn(W)?dt:Si(W)?Rt(dt,W):W.map(St=>Rt(dt,St))},P=(W,nt)=>({invalid:!!Rt((nt||e).errors,W),isDirty:!!Rt((nt||e).dirtyFields,W),error:Rt((nt||e).errors,W),isValidating:!!Rt(e.validatingFields,W),isTouched:!!Rt((nt||e).touchedFields,W)}),V=W=>{W&&dc(W).forEach(nt=>dn(e.errors,nt)),y.state.next({errors:W?e.errors:{}})},B=(W,nt,dt)=>{const St=(Rt(i,W,{_f:{}})._f||{}).ref,gt=Rt(e.errors,W)||{},{ref:yt,message:tt,type:ht,...vt}=gt;Te(e.errors,W,{...vt,...nt,ref:St}),y.state.next({name:W,errors:e.errors,isValid:!1}),dt&&dt.shouldFocus&&St&&St.focus&&St.focus()},Q=(W,nt)=>Wi(W)?y.state.subscribe({next:dt=>"values"in dt&&W(H(void 0,nt),dt)}):H(W,nt,!0),ot=W=>y.state.subscribe({next:nt=>{y4(W.name,nt.name,W.exact)&&g4(nt,W.formState||p,Bt,W.reRenderRoot)&&W.callback({values:{...a},...e,...nt,defaultValues:r})}}).unsubscribe,st=W=>(l.mount=!0,m={...m,...W.formState},ot({...W,formState:m})),ct=(W,nt={})=>{for(const dt of W?dc(W):c.mount)c.mount.delete(dt),c.array.delete(dt),nt.keepValue||(dn(i,dt),dn(a,dt)),!nt.keepError&&dn(e.errors,dt),!nt.keepDirty&&dn(e.dirtyFields,dt),!nt.keepTouched&&dn(e.touchedFields,dt),!nt.keepIsValidating&&dn(e.validatingFields,dt),!t.shouldUnregister&&!nt.keepDefaultValue&&dn(r,dt);y.state.next({values:_n(a)}),y.state.next({...e,...nt.keepDirty?{isDirty:I()}:{}}),!nt.keepIsValid&&_()},wt=({disabled:W,name:nt})=>{(vr(W)&&l.mount||W||c.disabled.has(nt))&&(W?c.disabled.add(nt):c.disabled.delete(nt))},_t=(W,nt={})=>{let dt=Rt(i,W);const St=vr(nt.disabled)||vr(t.disabled);return Te(i,W,{...dt||{},_f:{...dt&&dt._f?dt._f:{ref:{name:W}},name:W,mount:!0,...nt}}),c.mount.add(W),dt?wt({disabled:vr(nt.disabled)?nt.disabled:t.disabled,name:W}):F(W,!0,nt.value),{...St?{disabled:nt.disabled||t.disabled}:{},...t.progressive?{required:!!nt.required,min:Xl(nt.min),max:Xl(nt.max),minLength:Xl(nt.minLength),maxLength:Xl(nt.maxLength),pattern:Xl(nt.pattern)}:{},name:W,onChange:C,onBlur:C,ref:gt=>{if(gt){_t(W,nt),dt=Rt(i,W);const yt=sn(gt.value)&&gt.querySelectorAll&&gt.querySelectorAll("input,select,textarea")[0]||gt,tt=c4(yt),ht=dt._f.refs||[];if(tt?ht.find(vt=>vt===yt):yt===dt._f.ref)return;Te(i,W,{_f:{...dt._f,...tt?{refs:[...ht.filter(Lm),yt,...Array.isArray(Rt(r,W))?[{}]:[]],ref:{type:yt.type,name:W}}:{ref:yt}}}),F(W,!1,void 0,yt)}else dt=Rt(i,W,{}),dt._f&&(dt._f.mount=!1),(t.shouldUnregister||nt.shouldUnregister)&&!(i4(c.array,W)&&l.action)&&c.unMount.add(W)}}},xt=()=>t.shouldFocusError&&hc(i,J,c.mount),It=W=>{vr(W)&&(y.state.next({disabled:W}),hc(i,(nt,dt)=>{const St=Rt(i,dt);St&&(nt.disabled=St._f.disabled||W,Array.isArray(St._f.refs)&&St._f.refs.forEach(gt=>{gt.disabled=St._f.disabled||W}))},0,!1))},Ut=(W,nt)=>async dt=>{let St;dt&&(dt.preventDefault&&dt.preventDefault(),dt.persist&&dt.persist());let gt=_n(a);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:yt,values:tt}=await D();e.errors=yt,gt=_n(tt)}else await N(i);if(c.disabled.size)for(const yt of c.disabled)dn(gt,yt);if(dn(e.errors,"root"),zn(e.errors)){y.state.next({errors:{}});try{await W(gt,dt)}catch(yt){St=yt}}else nt&&await nt({...e.errors},dt),xt(),setTimeout(xt);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zn(e.errors)&&!St,submitCount:e.submitCount+1,errors:e.errors}),St)throw St},Ct=(W,nt={})=>{Rt(i,W)&&(sn(nt.defaultValue)?U(W,_n(Rt(r,W))):(U(W,nt.defaultValue),Te(r,W,_n(nt.defaultValue))),nt.keepTouched||dn(e.touchedFields,W),nt.keepDirty||(dn(e.dirtyFields,W),e.isDirty=nt.defaultValue?I(W,_n(Rt(r,W))):I()),nt.keepError||(dn(e.errors,W),p.isValid&&_()),y.state.next({...e}))},At=(W,nt={})=>{const dt=W?_n(W):r,St=_n(dt),gt=zn(W),yt=gt?r:St;if(nt.keepDefaultValues||(r=dt),!nt.keepValues){if(nt.keepDirtyValues){const tt=new Set([...c.mount,...Object.keys(bo(r,a))]);for(const ht of Array.from(tt))Rt(e.dirtyFields,ht)?Te(yt,ht,Rt(a,ht)):U(ht,Rt(yt,ht))}else{if(Ly&&sn(W))for(const tt of c.mount){const ht=Rt(i,tt);if(ht&&ht._f){const vt=Array.isArray(ht._f.refs)?ht._f.refs[0]:ht._f.ref;if(ch(vt)){const Dt=vt.closest("form");if(Dt){Dt.reset();break}}}}if(nt.keepFieldsRef)for(const tt of c.mount)U(tt,Rt(yt,tt));else i={}}a=t.shouldUnregister?nt.keepDefaultValues?_n(r):{}:_n(yt),y.array.next({values:{...yt}}),y.state.next({values:{...yt}})}c={mount:nt.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!nt.keepIsValid||!!nt.keepDirtyValues||!t.shouldUnregister&&!zn(yt),l.watch=!!t.shouldUnregister,y.state.next({submitCount:nt.keepSubmitCount?e.submitCount:0,isDirty:gt?!1:nt.keepDirty?e.isDirty:!!(nt.keepDefaultValues&&!Ms(W,r)),isSubmitted:nt.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:gt?{}:nt.keepDirtyValues?nt.keepDefaultValues&&a?bo(r,a):e.dirtyFields:nt.keepDefaultValues&&W?bo(r,W):nt.keepDirty?e.dirtyFields:{},touchedFields:nt.keepTouched?e.touchedFields:{},errors:nt.keepErrors?e.errors:{},isSubmitSuccessful:nt.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Nt=(W,nt)=>At(Wi(W)?W(a):W,nt),Ht=(W,nt={})=>{const dt=Rt(i,W),St=dt&&dt._f;if(St){const gt=St.refs?St.refs[0]:St.ref;gt.focus&&(gt.focus(),nt.shouldSelect&&Wi(gt.select)&&gt.select())}},Bt=W=>{e={...e,...W}},fe={control:{register:_t,unregister:ct,getFieldState:P,handleSubmit:Ut,setError:B,_subscribe:ot,_runSchema:D,_focusError:xt,_getWatch:H,_getDirty:I,_setValid:_,_setFieldArray:w,_setDisabledField:wt,_setErrors:k,_getFieldArray:q,_reset:At,_resetDefaultValues:()=>Wi(t.defaultValues)&&t.defaultValues().then(W=>{Nt(W,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:It,_subjects:y,_proxyFormState:p,get _fields(){return i},get _formValues(){return a},get _state(){return l},set _state(W){l=W},get _defaultValues(){return r},get _names(){return c},set _names(W){c=W},get _formState(){return e},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:st,trigger:X,register:_t,handleSubmit:Ut,watch:Q,setValue:U,getValues:A,reset:Nt,resetField:Ct,clearErrors:V,unregister:ct,setError:B,setFocus:Ht,getFieldState:P};return{...fe,formControl:fe}}function dE(n={}){const t=Vt.useRef(void 0),e=Vt.useRef(void 0),[i,r]=Vt.useState({isDirty:!1,isValidating:!1,isLoading:Wi(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Wi(n.defaultValues)?void 0:n.defaultValues});if(!t.current)if(n.formControl)t.current={...n.formControl,formState:i},n.defaultValues&&!Wi(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:l,...c}=x4(n);t.current={...c,formState:i}}const a=t.current.control;return a._options=n,o4(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(c=>({...c,isReady:!0})),a._formState.isReady=!0,l},[a]),Vt.useEffect(()=>a._disableForm(n.disabled),[a,n.disabled]),Vt.useEffect(()=>{n.mode&&(a._options.mode=n.mode),n.reValidateMode&&(a._options.reValidateMode=n.reValidateMode)},[a,n.mode,n.reValidateMode]),Vt.useEffect(()=>{n.errors&&(a._setErrors(n.errors),a._focusError())},[a,n.errors]),Vt.useEffect(()=>{n.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,n.shouldUnregister]),Vt.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==i.isDirty&&a._subjects.state.next({isDirty:l})}},[a,i.isDirty]),Vt.useEffect(()=>{var l;n.values&&!Ms(n.values,e.current)?(a._reset(n.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((l=a._options.resetOptions)===null||l===void 0)&&l.keepIsValid||a._setValid(),e.current=n.values,r(c=>({...c}))):a._resetDefaultValues()},[a,n.values]),Vt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=a4(i,a),t.current}var hE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VS=Vt.createContext&&Vt.createContext(hE),w4=["attr","size","title"];function A4(n,t){if(n==null)return{};var e=E4(n,t),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function E4(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function dh(){return dh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},dh.apply(this,arguments)}function GS(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function hh(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(e),!0).forEach(function(i){C4(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):GS(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function C4(n,t,e){return t=T4(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function T4(n){var t=k4(n,"string");return typeof t=="symbol"?t:t+""}function k4(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function fE(n){return n&&n.map((t,e)=>Vt.createElement(t.tag,hh({key:e},t.attr),fE(t.child)))}function Bs(n){return t=>Vt.createElement(O4,dh({attr:hh({},n.attr)},t),fE(n.child))}function O4(n){var t=e=>{var{attr:i,size:r,title:a}=n,l=A4(n,w4),c=r||e.size||"1em",d;return e.className&&(d=e.className),n.className&&(d=(d?d+" ":"")+n.className),Vt.createElement("svg",dh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,l,{className:d,style:hh(hh({color:n.color||e.color},e.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Vt.createElement("title",null,a),n.children)};return VS!==void 0?Vt.createElement(VS.Consumer,null,e=>t(e)):t(hE)}function R4(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"},child:[]}]})(n)}function M4(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"},child:[]}]})(n)}function pE(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"},child:[]}]})(n)}function N4(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.97308 18H14.0269C14.1589 16.7984 14.7721 15.8065 15.7676 14.7226C15.8797 14.6006 16.5988 13.8564 16.6841 13.7501C17.5318 12.6931 18 11.385 18 10C18 6.68629 15.3137 4 12 4C8.68629 4 6 6.68629 6 10C6 11.3843 6.46774 12.6917 7.31462 13.7484C7.40004 13.855 8.12081 14.6012 8.23154 14.7218C9.22766 15.8064 9.84103 16.7984 9.97308 18ZM14 20H10V21H14V20ZM5.75395 14.9992C4.65645 13.6297 4 11.8915 4 10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10C20 11.8925 19.3428 13.6315 18.2443 15.0014C17.624 15.7748 16 17 16 18.5V21C16 22.1046 15.1046 23 14 23H10C8.89543 23 8 22.1046 8 21V18.5C8 17 6.37458 15.7736 5.75395 14.9992ZM13 10.0048H15.5L11 16.0048V12.0048H8.5L13 6V10.0048Z"},child:[]}]})(n)}function mE(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.34268 18.7819L7.41083 18.2642L8.1983 15.3254C7.00919 14.8874 5.91661 14.2498 4.96116 13.4534L2.80783 15.6067L1.39362 14.1925L3.54695 12.0392C2.35581 10.6103 1.52014 8.87466 1.17578 6.96818L3.14386 6.61035C3.90289 10.8126 7.57931 14.0001 12.0002 14.0001C16.4211 14.0001 20.0976 10.8126 20.8566 6.61035L22.8247 6.96818C22.4803 8.87466 21.6446 10.6103 20.4535 12.0392L22.6068 14.1925L21.1926 15.6067L19.0393 13.4534C18.0838 14.2498 16.9912 14.8874 15.8021 15.3254L16.5896 18.2642L14.6578 18.7819L13.87 15.8418C13.2623 15.9459 12.6376 16.0001 12.0002 16.0001C11.3629 16.0001 10.7381 15.9459 10.1305 15.8418L9.34268 18.7819Z"},child:[]}]})(n)}function Iy(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"},child:[]}]})(n)}function gE(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM5 12V20H19V12H5ZM11 14H13V18H11V14ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17Z"},child:[]}]})(n)}function D4(n){return Bs({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"},child:[]}]})(n)}var Pm,XS;function L4(){if(XS)return Pm;XS=1;function n(w){this._maxSize=w,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(w){return this._values[w]},n.prototype.set=function(w,T){return this._size>=this._maxSize&&this.clear(),w in this._values||this._size++,this._values[w]=T};var t=/[^.^\]^[]+|(?=\[\]|\.\.)/g,e=/^\d+$/,i=/^\d/,r=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,l=512,c=new n(l),d=new n(l),h=new n(l);Pm={Cache:n,split:m,normalizePath:p,setter:function(w){var T=p(w);return d.get(w)||d.set(w,function(F,O){for(var R=0,D=T.length,j=F;R<D-1;){var N=T[R];if(N==="__proto__"||N==="constructor"||N==="prototype")return F;j=j[T[R++]]}j[T[R]]=O})},getter:function(w,T){var k=p(w);return h.get(w)||h.set(w,function(O){for(var R=0,D=k.length;R<D;)if(O!=null||!T)O=O[k[R++]];else return;return O})},join:function(w){return w.reduce(function(T,k){return T+(b(k)||e.test(k)?"["+k+"]":(T?".":"")+k)},"")},forEach:function(w,T,k){y(Array.isArray(w)?w:m(w),T,k)}};function p(w){return c.get(w)||c.set(w,m(w).map(function(T){return T.replace(a,"$2")}))}function m(w){return w.match(t)||[""]}function y(w,T,k){var F=w.length,O,R,D,j;for(R=0;R<F;R++)O=w[R],O&&(E(O)&&(O='"'+O+'"'),j=b(O),D=!j&&/^\d+$/.test(O),T.call(k,O,j,D,R,w))}function b(w){return typeof w=="string"&&w&&["'",'"'].indexOf(w.charAt(0))!==-1}function S(w){return w.match(i)&&!w.match(e)}function _(w){return r.test(w)}function E(w){return!b(w)&&(S(w)||_(w))}return Pm}var ya=L4(),jm,YS;function P4(){if(YS)return jm;YS=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,t=p=>p.match(n)||[],e=p=>p[0].toUpperCase()+p.slice(1),i=(p,m)=>t(p).join(m).toLowerCase(),r=p=>t(p).reduce((m,y)=>`${m}${m?y[0].toUpperCase()+y.slice(1).toLowerCase():y.toLowerCase()}`,"");return jm={words:t,upperFirst:e,camelCase:r,pascalCase:p=>e(r(p)),snakeCase:p=>i(p,"_"),kebabCase:p=>i(p,"-"),sentenceCase:p=>e(i(p," ")),titleCase:p=>t(p).map(e).join(" ")},jm}var Bm=P4(),wd={exports:{}},WS;function j4(){if(WS)return wd.exports;WS=1,wd.exports=function(r){return n(t(r),r)},wd.exports.array=n;function n(r,a){var l=r.length,c=new Array(l),d={},h=l,p=e(a),m=i(r);for(a.forEach(function(b){if(!m.has(b[0])||!m.has(b[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});h--;)d[h]||y(r[h],h,new Set);return c;function y(b,S,_){if(_.has(b)){var E;try{E=", node was:"+JSON.stringify(b)}catch{E=""}throw new Error("Cyclic dependency"+E)}if(!m.has(b))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(b));if(!d[S]){d[S]=!0;var w=p.get(b)||new Set;if(w=Array.from(w),S=w.length){_.add(b);do{var T=w[--S];y(T,m.get(T),_)}while(S);_.delete(b)}c[--l]=b}}}function t(r){for(var a=new Set,l=0,c=r.length;l<c;l++){var d=r[l];a.add(d[0]),a.add(d[1])}return Array.from(a)}function e(r){for(var a=new Map,l=0,c=r.length;l<c;l++){var d=r[l];a.has(d[0])||a.set(d[0],new Set),a.has(d[1])||a.set(d[1],new Set),a.get(d[0]).add(d[1])}return a}function i(r){for(var a=new Map,l=0,c=r.length;l<c;l++)a.set(r[l],l);return a}return wd.exports}var B4=j4();const F4=Uo(B4),I4=Object.prototype.toString,z4=Error.prototype.toString,U4=RegExp.prototype.toString,H4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",$4=/^Symbol\((.*)\)(.*)$/;function q4(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function KS(n,t=!1){if(n==null||n===!0||n===!1)return""+n;const e=typeof n;if(e==="number")return q4(n);if(e==="string")return t?`"${n}"`:n;if(e==="function")return"[Function "+(n.name||"anonymous")+"]";if(e==="symbol")return H4.call(n).replace($4,"Symbol($1)");const i=I4.call(n).slice(8,-1);return i==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):i==="Error"||n instanceof Error?"["+z4.call(n)+"]":i==="RegExp"?U4.call(n):null}function Ds(n,t){let e=KS(n,t);return e!==null?e:JSON.stringify(n,function(i,r){let a=KS(this[i],t);return a!==null?a:r},2)}function yE(n){return n==null?[]:[].concat(n)}let bE,vE,_E,V4=/\$\{\s*(\w+)\s*\}/g;bE=Symbol.toStringTag;class ZS{constructor(t,e,i,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[bE]="Error",this.name="ValidationError",this.value=e,this.path=i,this.type=r,this.errors=[],this.inner=[],yE(t).forEach(a=>{if(Hn.isError(a)){this.errors.push(...a.errors);const l=a.inner.length?a.inner:[a];this.inner.push(...l)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}vE=Symbol.hasInstance;_E=Symbol.toStringTag;class Hn extends Error{static formatError(t,e){const i=e.label||e.path||"this";return e=Object.assign({},e,{path:i,originalPath:e.path}),typeof t=="string"?t.replace(V4,(r,a)=>Ds(e[a])):typeof t=="function"?t(e):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,e,i,r,a){const l=new ZS(t,e,i,r);if(a)return l;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[_E]="Error",this.name=l.name,this.message=l.message,this.type=l.type,this.value=l.value,this.path=l.path,this.errors=l.errors,this.inner=l.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Hn)}static[vE](t){return ZS[Symbol.hasInstance](t)||super[Symbol.hasInstance](t)}}let _r={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:t,value:e,originalValue:i})=>{const r=i!=null&&i!==e?` (cast from the value \`${Ds(i,!0)}\`).`:".";return t!=="mixed"?`${n} must be a \`${t}\` type, but the final value was: \`${Ds(e,!0)}\``+r:`${n} must match the configured type. The validated value was: \`${Ds(e,!0)}\``+r}},ei={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},G4={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ug={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},X4={isValue:"${path} field must be ${value}"},Yd={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Y4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},W4={notType:n=>{const{path:t,value:e,spec:i}=n,r=i.types.length;if(Array.isArray(e)){if(e.length<r)return`${t} tuple value has too few items, expected a length of ${r} but got ${e.length} for value: \`${Ds(e,!0)}\``;if(e.length>r)return`${t} tuple value has too many items, expected a length of ${r} but got ${e.length} for value: \`${Ds(e,!0)}\``}return Hn.formatError(_r.notType,n)}};Object.assign(Object.create(null),{mixed:_r,string:ei,number:G4,date:Ug,object:Yd,array:Y4,boolean:X4,tuple:W4});const zy=n=>n&&n.__isYupSchema__;class fh{static fromOptions(t,e){if(!e.then&&!e.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:r,otherwise:a}=e,l=typeof i=="function"?i:(...c)=>c.every(d=>d===i);return new fh(t,(c,d)=>{var h;let p=l(...c)?r:a;return(h=p?.(d))!=null?h:d})}constructor(t,e){this.fn=void 0,this.refs=t,this.refs=t,this.fn=e}resolve(t,e){let i=this.refs.map(a=>a.getValue(e?.value,e?.parent,e?.context)),r=this.fn(i,t,e);if(r===void 0||r===t)return t;if(!zy(r))throw new TypeError("conditions must return a schema object");return r.resolve(e)}}const Ad={context:"$",value:"."};class wa{constructor(t,e={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ad.context,this.isValue=this.key[0]===Ad.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Ad.context:this.isValue?Ad.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&ya.getter(this.path,!0),this.map=e.map}getValue(t,e,i){let r=this.isContext?i:this.isValue?t:e;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(t,e){return this.getValue(t,e?.parent,e?.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}wa.prototype.__isYupRef=!0;const da=n=>n==null;function fo(n){function t({value:e,path:i="",options:r,originalValue:a,schema:l},c,d){const{name:h,test:p,params:m,message:y,skipAbsent:b}=n;let{parent:S,context:_,abortEarly:E=l.spec.abortEarly,disableStackTrace:w=l.spec.disableStackTrace}=r;const T={value:e,parent:S,context:_};function k(I={}){const H=SE(Object.assign({value:e,originalValue:a,label:l.spec.label,path:I.path||i,spec:l.spec,disableStackTrace:I.disableStackTrace||w},m,I.params),T),q=new Hn(Hn.formatError(I.message||y,H),e,H.path,I.type||h,H.disableStackTrace);return q.params=H,q}const F=E?c:d;let O={path:i,parent:S,type:h,from:r.from,createError:k,resolve(I){return xE(I,T)},options:r,originalValue:a,schema:l};const R=I=>{Hn.isError(I)?F(I):I?d(null):F(k())},D=I=>{Hn.isError(I)?F(I):c(I)};if(b&&da(e))return R(!0);let N;try{var L;if(N=p.call(O,e,O),typeof((L=N)==null?void 0:L.then)=="function"){if(r.sync)throw new Error(`Validation test of type: "${O.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(N).then(R,D)}}catch(I){D(I);return}R(N)}return t.OPTIONS=n,t}function SE(n,t){if(!n)return n;for(const e of Object.keys(n))n[e]=xE(n[e],t);return n}function xE(n,t){return wa.isRef(n)?n.getValue(t.value,t.parent,t.context):n}function K4(n,t,e,i=e){let r,a,l;return t?(ya.forEach(t,(c,d,h)=>{let p=d?c.slice(1,c.length-1):c;n=n.resolve({context:i,parent:r,value:e});let m=n.type==="tuple",y=h?parseInt(p,10):0;if(n.innerType||m){if(m&&!h)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${l}" must contain an index to the tuple element, e.g. "${l}[0]"`);if(e&&y>=e.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${c}, in the path: ${t}. because there is no value at that index. `);r=e,e=e&&e[y],n=m?n.spec.types[y]:n.innerType}if(!h){if(!n.fields||!n.fields[p])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${l} which is a type: "${n.type}")`);r=e,e=e&&e[p],n=n.fields[p]}a=p,l=d?"["+c+"]":"."+c}),{schema:n,parent:r,parentPath:a}):{parent:r,parentPath:t,schema:n}}class ph extends Set{describe(){const t=[];for(const e of this.values())t.push(wa.isRef(e)?e.describe():e);return t}resolveAll(t){let e=[];for(const i of this.values())e.push(t(i));return e}clone(){return new ph(this.values())}merge(t,e){const i=this.clone();return t.forEach(r=>i.add(r)),e.forEach(r=>i.delete(r)),i}}function xo(n,t=new Map){if(zy(n)||!n||typeof n!="object")return n;if(t.has(n))return t.get(n);let e;if(n instanceof Date)e=new Date(n.getTime()),t.set(n,e);else if(n instanceof RegExp)e=new RegExp(n),t.set(n,e);else if(Array.isArray(n)){e=new Array(n.length),t.set(n,e);for(let i=0;i<n.length;i++)e[i]=xo(n[i],t)}else if(n instanceof Map){e=new Map,t.set(n,e);for(const[i,r]of n.entries())e.set(i,xo(r,t))}else if(n instanceof Set){e=new Set,t.set(n,e);for(const i of n)e.add(xo(i,t))}else if(n instanceof Object){e={},t.set(n,e);for(const[i,r]of Object.entries(n))e[i]=xo(r,t)}else throw Error(`Unable to clone ${n}`);return e}function Z4(n){if(!(n!=null&&n.length))return;const t=[];let e="",i=!1,r=!1;for(let a=0;a<n.length;a++){const l=n[a];if(l==="["&&!r){e&&(t.push(...e.split(".").filter(Boolean)),e=""),i=!0;continue}if(l==="]"&&!r){e&&(/^\d+$/.test(e)?t.push(e):t.push(e.replace(/^"|"$/g,"")),e=""),i=!1;continue}if(l==='"'){r=!r;continue}if(l==="."&&!i&&!r){e&&(t.push(e),e="");continue}e+=l}return e&&t.push(...e.split(".").filter(Boolean)),t}function Q4(n,t){const e=t?`${t}.${n.path}`:n.path;return n.errors.map(i=>({message:i,path:Z4(e)}))}function wE(n,t){var e;if(!((e=n.inner)!=null&&e.length)&&n.errors.length)return Q4(n,t);const i=t?`${t}.${n.path}`:n.path;return n.inner.flatMap(r=>wE(r,i))}let Qi=class{constructor(t){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ph,this._blacklist=new ph,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(_r.notType)}),this.type=t.type,this._typeCheck=t.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},t?.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const e=Object.create(Object.getPrototypeOf(this));return e.type=this.type,e._typeCheck=this._typeCheck,e._whitelist=this._whitelist.clone(),e._blacklist=this._blacklist.clone(),e.internalTests=Object.assign({},this.internalTests),e.exclusiveTests=Object.assign({},this.exclusiveTests),e.deps=[...this.deps],e.conditions=[...this.conditions],e.tests=[...this.tests],e.transforms=[...this.transforms],e.spec=xo(Object.assign({},this.spec,t)),e}label(t){let e=this.clone();return e.spec.label=t,e}meta(...t){if(t.length===0)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},t[0]),e}withMutation(t){let e=this._mutate;this._mutate=!0;let i=t(this);return this._mutate=e,i}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let e=this,i=t.clone();const r=Object.assign({},e.spec,i.spec);return i.spec=r,i.internalTests=Object.assign({},e.internalTests,i.internalTests),i._whitelist=e._whitelist.merge(t._whitelist,t._blacklist),i._blacklist=e._blacklist.merge(t._blacklist,t._whitelist),i.tests=e.tests,i.exclusiveTests=e.exclusiveTests,i.withMutation(a=>{t.tests.forEach(l=>{a.test(l.OPTIONS)})}),i.transforms=[...e.transforms,...i.transforms],i}isType(t){return t==null?!!(this.spec.nullable&&t===null||this.spec.optional&&t===void 0):this._typeCheck(t)}resolve(t){let e=this;if(e.conditions.length){let i=e.conditions;e=e.clone(),e.conditions=[],e=i.reduce((r,a)=>a.resolve(r,t),e),e=e.resolve(t)}return e}resolveOptions(t){var e,i,r,a;return Object.assign({},t,{from:t.from||[],strict:(e=t.strict)!=null?e:this.spec.strict,abortEarly:(i=t.abortEarly)!=null?i:this.spec.abortEarly,recursive:(r=t.recursive)!=null?r:this.spec.recursive,disableStackTrace:(a=t.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(t,e={}){let i=this.resolve(Object.assign({},e,{value:t})),r=e.assert==="ignore-optionality",a=i._cast(t,e);if(e.assert!==!1&&!i.isType(a)){if(r&&da(a))return a;let l=Ds(t),c=Ds(a);throw new TypeError(`The value of ${e.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${l} 
`+(c!==l?`result of cast: ${c}`:""))}return a}_cast(t,e){let i=t===void 0?t:this.transforms.reduce((r,a)=>a.call(this,r,t,this,e),t);return i===void 0&&(i=this.getDefault(e)),i}_validate(t,e={},i,r){let{path:a,originalValue:l=t,strict:c=this.spec.strict}=e,d=t;c||(d=this._cast(d,Object.assign({assert:!1},e)));let h=[];for(let p of Object.values(this.internalTests))p&&h.push(p);this.runTests({path:a,value:d,originalValue:l,options:e,tests:h},i,p=>{if(p.length)return r(p,d);this.runTests({path:a,value:d,originalValue:l,options:e,tests:this.tests},i,r)})}runTests(t,e,i){let r=!1,{tests:a,value:l,originalValue:c,path:d,options:h}=t,p=_=>{r||(r=!0,e(_,l))},m=_=>{r||(r=!0,i(_,l))},y=a.length,b=[];if(!y)return m([]);let S={value:l,originalValue:c,path:d,options:h,schema:this};for(let _=0;_<a.length;_++){const E=a[_];E(S,p,function(T){T&&(Array.isArray(T)?b.push(...T):b.push(T)),--y<=0&&m(b)})}}asNestedTest({key:t,index:e,parent:i,parentPath:r,originalParent:a,options:l}){const c=t??e;if(c==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof c=="number";let h=i[c];const p=Object.assign({},l,{strict:!0,parent:i,value:h,originalValue:a[c],key:void 0,[d?"index":"key"]:c,path:d||c.includes(".")?`${r||""}[${d?c:`"${c}"`}]`:(r?`${r}.`:"")+t});return(m,y,b)=>this.resolve(p)._validate(h,p,y,b)}validate(t,e){var i;let r=this.resolve(Object.assign({},e,{value:t})),a=(i=e?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return new Promise((l,c)=>r._validate(t,e,(d,h)=>{Hn.isError(d)&&(d.value=h),c(d)},(d,h)=>{d.length?c(new Hn(d,h,void 0,void 0,a)):l(h)}))}validateSync(t,e){var i;let r=this.resolve(Object.assign({},e,{value:t})),a,l=(i=e?.disableStackTrace)!=null?i:r.spec.disableStackTrace;return r._validate(t,Object.assign({},e,{sync:!0}),(c,d)=>{throw Hn.isError(c)&&(c.value=d),c},(c,d)=>{if(c.length)throw new Hn(c,t,void 0,void 0,l);a=d}),a}isValid(t,e){return this.validate(t,e).then(()=>!0,i=>{if(Hn.isError(i))return!1;throw i})}isValidSync(t,e){try{return this.validateSync(t,e),!0}catch(i){if(Hn.isError(i))return!1;throw i}}_getDefault(t){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this,t):xo(e)}getDefault(t){return this.resolve(t||{})._getDefault(t)}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){return this.clone({strict:t})}nullability(t,e){const i=this.clone({nullable:t});return i.internalTests.nullable=fo({message:e,name:"nullable",test(r){return r===null?this.schema.spec.nullable:!0}}),i}optionality(t,e){const i=this.clone({optional:t});return i.internalTests.optionality=fo({message:e,name:"optionality",test(r){return r===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(t=_r.defined){return this.optionality(!1,t)}nullable(){return this.nullability(!0)}nonNullable(t=_r.notNull){return this.nullability(!1,t)}required(t=_r.required){return this.clone().withMutation(e=>e.nonNullable(t).defined(t))}notRequired(){return this.clone().withMutation(t=>t.nullable().optional())}transform(t){let e=this.clone();return e.transforms.push(t),e}test(...t){let e;if(t.length===1?typeof t[0]=="function"?e={test:t[0]}:e=t[0]:t.length===2?e={name:t[0],test:t[1]}:e={name:t[0],message:t[1],test:t[2]},e.message===void 0&&(e.message=_r.default),typeof e.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),r=fo(e),a=e.exclusive||e.name&&i.exclusiveTests[e.name]===!0;if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(i.exclusiveTests[e.name]=!!e.exclusive),i.tests=i.tests.filter(l=>!(l.OPTIONS.name===e.name&&(a||l.OPTIONS.test===r.OPTIONS.test))),i.tests.push(r),i}when(t,e){!Array.isArray(t)&&typeof t!="string"&&(e=t,t=".");let i=this.clone(),r=yE(t).map(a=>new wa(a));return r.forEach(a=>{a.isSibling&&i.deps.push(a.key)}),i.conditions.push(typeof e=="function"?new fh(r,e):fh.fromOptions(r,e)),i}typeError(t){let e=this.clone();return e.internalTests.typeError=fo({message:t,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),e}oneOf(t,e=_r.oneOf){let i=this.clone();return t.forEach(r=>{i._whitelist.add(r),i._blacklist.delete(r)}),i.internalTests.whiteList=fo({message:e,name:"oneOf",skipAbsent:!0,test(r){let a=this.schema._whitelist,l=a.resolveAll(this.resolve);return l.includes(r)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:l}})}}),i}notOneOf(t,e=_r.notOneOf){let i=this.clone();return t.forEach(r=>{i._blacklist.add(r),i._whitelist.delete(r)}),i.internalTests.blacklist=fo({message:e,name:"notOneOf",test(r){let a=this.schema._blacklist,l=a.resolveAll(this.resolve);return l.includes(r)?this.createError({params:{values:Array.from(a).join(", "),resolved:l}}):!0}}),i}strip(t=!0){let e=this.clone();return e.spec.strip=t,e}describe(t){const e=(t?this.resolve(t):this).clone(),{label:i,meta:r,optional:a,nullable:l}=e.spec;return{meta:r,label:i,optional:a,nullable:l,default:e.getDefault(t),type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.filter((d,h,p)=>p.findIndex(m=>m.OPTIONS.name===d.OPTIONS.name)===h).map(d=>{const h=d.OPTIONS.params&&t?SE(Object.assign({},d.OPTIONS.params),t):d.OPTIONS.params;return{name:d.OPTIONS.name,params:h}})}}get"~standard"(){const t=this;return{version:1,vendor:"yup",async validate(i){try{return{value:await t.validate(i,{abortEarly:!1})}}catch(r){if(r instanceof Hn)return{issues:wE(r)};throw r}}}}};Qi.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Qi.prototype[`${n}At`]=function(t,e,i={}){const{parent:r,parentPath:a,schema:l}=K4(this,t,e,i.context);return l[n](r&&r[a],Object.assign({},i,{parent:r,path:t}))};for(const n of["equals","is"])Qi.prototype[n]=Qi.prototype.oneOf;for(const n of["not","nope"])Qi.prototype[n]=Qi.prototype.notOneOf;const J4=()=>!0;function AE(n){return new EE(n)}class EE extends Qi{constructor(t){super(typeof t=="function"?{type:"mixed",check:t}:Object.assign({type:"mixed",check:J4},t))}}AE.prototype=EE.prototype;const tF=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function eF(n){const t=Hg(n);if(!t)return Date.parse?Date.parse(n):Number.NaN;if(t.z===void 0&&t.plusMinus===void 0)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let e=0;return t.z!=="Z"&&t.plusMinus!==void 0&&(e=t.hourOffset*60+t.minuteOffset,t.plusMinus==="+"&&(e=0-e)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+e,t.second,t.millisecond)}function Hg(n){var t,e;const i=tF.exec(n);return i?{year:Vr(i[1]),month:Vr(i[2],1)-1,day:Vr(i[3],1),hour:Vr(i[4]),minute:Vr(i[5]),second:Vr(i[6]),millisecond:i[7]?Vr(i[7].substring(0,3)):0,precision:(t=(e=i[7])==null?void 0:e.length)!=null?t:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Vr(i[10]),minuteOffset:Vr(i[11])}:null}function Vr(n,t=0){return Number(n)||t}let nF=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,iF=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sF="^\\d{4}-\\d{2}-\\d{2}",aF="\\d{2}:\\d{2}:\\d{2}",oF="(([+-]\\d{2}(:?\\d{2})?)|Z)",lF=new RegExp(`${sF}T${aF}(\\.\\d+)?${oF}$`),cF=n=>da(n)||n===n.trim(),uF={}.toString();function Zr(){return new CE}class CE extends Qi{constructor(){super({type:"string",check(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}}),this.withMutation(()=>{this.transform((t,e)=>{if(!this.spec.coerce||this.isType(t)||Array.isArray(t))return t;const i=t!=null&&t.toString?t.toString():t;return i===uF?t:i})})}required(t){return super.required(t).withMutation(e=>e.test({message:t||_r.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(t=>(t.tests=t.tests.filter(e=>e.OPTIONS.name!=="required"),t))}length(t,e=ei.length){return this.test({message:e,name:"length",exclusive:!0,params:{length:t},skipAbsent:!0,test(i){return i.length===this.resolve(t)}})}min(t,e=ei.min){return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(i){return i.length>=this.resolve(t)}})}max(t,e=ei.max){return this.test({name:"max",exclusive:!0,message:e,params:{max:t},skipAbsent:!0,test(i){return i.length<=this.resolve(t)}})}matches(t,e){let i=!1,r,a;return e&&(typeof e=="object"?{excludeEmptyString:i=!1,message:r,name:a}=e:r=e),this.test({name:a||"matches",message:r||ei.matches,params:{regex:t},skipAbsent:!0,test:l=>l===""&&i||l.search(t)!==-1})}email(t=ei.email){return this.matches(nF,{name:"email",message:t,excludeEmptyString:!0})}url(t=ei.url){return this.matches(iF,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=ei.uuid){return this.matches(rF,{name:"uuid",message:t,excludeEmptyString:!1})}datetime(t){let e="",i,r;return t&&(typeof t=="object"?{message:e="",allowOffset:i=!1,precision:r=void 0}=t:e=t),this.matches(lF,{name:"datetime",message:e||ei.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:e||ei.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:a=>{if(!a||i)return!0;const l=Hg(a);return l?!!l.z:!1}}).test({name:"datetime_precision",message:e||ei.datetime_precision,params:{precision:r},skipAbsent:!0,test:a=>{if(!a||r==null)return!0;const l=Hg(a);return l?l.precision===r:!1}})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=ei.trim){return this.transform(e=>e!=null?e.trim():e).test({message:t,name:"trim",test:cF})}lowercase(t=ei.lowercase){return this.transform(e=>da(e)?e:e.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>da(e)||e===e.toLowerCase()})}uppercase(t=ei.uppercase){return this.transform(e=>da(e)?e:e.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>da(e)||e===e.toUpperCase()})}}Zr.prototype=CE.prototype;let dF=new Date(""),hF=n=>Object.prototype.toString.call(n)==="[object Date]";class Uy extends Qi{constructor(){super({type:"date",check(t){return hF(t)&&!isNaN(t.getTime())}}),this.withMutation(()=>{this.transform((t,e)=>!this.spec.coerce||this.isType(t)||t===null?t:(t=eF(t),isNaN(t)?Uy.INVALID_DATE:new Date(t)))})}prepareParam(t,e){let i;if(wa.isRef(t))i=t;else{let r=this.cast(t);if(!this._typeCheck(r))throw new TypeError(`\`${e}\` must be a Date or a value that can be \`cast()\` to a Date`);i=r}return i}min(t,e=Ug.min){let i=this.prepareParam(t,"min");return this.test({message:e,name:"min",exclusive:!0,params:{min:t},skipAbsent:!0,test(r){return r>=this.resolve(i)}})}max(t,e=Ug.max){let i=this.prepareParam(t,"max");return this.test({message:e,name:"max",exclusive:!0,params:{max:t},skipAbsent:!0,test(r){return r<=this.resolve(i)}})}}Uy.INVALID_DATE=dF;function fF(n,t=[]){let e=[],i=new Set,r=new Set(t.map(([l,c])=>`${l}-${c}`));function a(l,c){let d=ya.split(l)[0];i.add(d),r.has(`${c}-${d}`)||e.push([c,d])}for(const l of Object.keys(n)){let c=n[l];i.add(l),wa.isRef(c)&&c.isSibling?a(c.path,l):zy(c)&&"deps"in c&&c.deps.forEach(d=>a(d,l))}return F4.array(Array.from(i),e).reverse()}function QS(n,t){let e=1/0;return n.some((i,r)=>{var a;if((a=t.path)!=null&&a.includes(i))return e=r,!0}),e}function TE(n){return(t,e)=>QS(n,t)-QS(n,e)}const pF=(n,t,e)=>{if(typeof n!="string")return n;let i=n;try{i=JSON.parse(n)}catch{}return e.isType(i)?i:n};function Wd(n){if("fields"in n){const t={};for(const[e,i]of Object.entries(n.fields))t[e]=Wd(i);return n.setFields(t)}if(n.type==="array"){const t=n.optional();return t.innerType&&(t.innerType=Wd(t.innerType)),t}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(Wd)}):"optional"in n?n.optional():n}const mF=(n,t)=>{const e=[...ya.normalizePath(t)];if(e.length===1)return e[0]in n;let i=e.pop(),r=ya.getter(ya.join(e),!0)(n);return!!(r&&i in r)};let JS=n=>Object.prototype.toString.call(n)==="[object Object]";function tx(n,t){let e=Object.keys(n.fields);return Object.keys(t).filter(i=>e.indexOf(i)===-1)}const gF=TE([]);function Hh(n){return new kE(n)}class kE extends Qi{constructor(t){super({type:"object",check(e){return JS(e)||typeof e=="function"}}),this.fields=Object.create(null),this._sortErrors=gF,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{t&&this.shape(t)})}_cast(t,e={}){var i;let r=super._cast(t,e);if(r===void 0)return this.getDefault(e);if(!this._typeCheck(r))return r;let a=this.fields,l=(i=e.stripUnknown)!=null?i:this.spec.noUnknown,c=[].concat(this._nodes,Object.keys(r).filter(m=>!this._nodes.includes(m))),d={},h=Object.assign({},e,{parent:d,__validating:e.__validating||!1}),p=!1;for(const m of c){let y=a[m],b=m in r,S=r[m];if(y){let _;h.path=(e.path?`${e.path}.`:"")+m,y=y.resolve({value:S,context:e.context,parent:d});let E=y instanceof Qi?y.spec:void 0,w=E?.strict;if(E!=null&&E.strip){p=p||m in r;continue}_=!e.__validating||!w?y.cast(S,h):S,_!==void 0&&(d[m]=_)}else b&&!l&&(d[m]=S);(b!==m in d||d[m]!==S)&&(p=!0)}return p?d:r}_validate(t,e={},i,r){let{from:a=[],originalValue:l=t,recursive:c=this.spec.recursive}=e;e.from=[{schema:this,value:l},...a],e.__validating=!0,e.originalValue=l,super._validate(t,e,i,(d,h)=>{if(!c||!JS(h)){r(d,h);return}l=l||h;let p=[];for(let m of this._nodes){let y=this.fields[m];!y||wa.isRef(y)||p.push(y.asNestedTest({options:e,key:m,parent:h,parentPath:e.path,originalParent:l}))}this.runTests({tests:p,value:h,originalValue:l,options:e},i,m=>{r(m.sort(this._sortErrors).concat(d),h)})})}clone(t){const e=super.clone(t);return e.fields=Object.assign({},this.fields),e._nodes=this._nodes,e._excludedEdges=this._excludedEdges,e._sortErrors=this._sortErrors,e}concat(t){let e=super.concat(t),i=e.fields;for(let[r,a]of Object.entries(this.fields)){const l=i[r];i[r]=l===void 0?a:l}return e.withMutation(r=>r.setFields(i,[...this._excludedEdges,...t._excludedEdges]))}_getDefault(t){if("default"in this.spec)return super._getDefault(t);if(!this._nodes.length)return;let e={};return this._nodes.forEach(i=>{var r;const a=this.fields[i];let l=t;(r=l)!=null&&r.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[i]})),e[i]=a&&"getDefault"in a?a.getDefault(l):void 0}),e}setFields(t,e){let i=this.clone();return i.fields=t,i._nodes=fF(t,e),i._sortErrors=TE(Object.keys(t)),e&&(i._excludedEdges=e),i}shape(t,e=[]){return this.clone().withMutation(i=>{let r=i._excludedEdges;return e.length&&(Array.isArray(e[0])||(e=[e]),r=[...i._excludedEdges,...e]),i.setFields(Object.assign(i.fields,t),r)})}partial(){const t={};for(const[e,i]of Object.entries(this.fields))t[e]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(t)}deepPartial(){return Wd(this)}pick(t){const e={};for(const i of t)this.fields[i]&&(e[i]=this.fields[i]);return this.setFields(e,this._excludedEdges.filter(([i,r])=>t.includes(i)&&t.includes(r)))}omit(t){const e=[];for(const i of Object.keys(this.fields))t.includes(i)||e.push(i);return this.pick(e)}from(t,e,i){let r=ya.getter(t,!0);return this.transform(a=>{if(!a)return a;let l=a;return mF(a,t)&&(l=Object.assign({},a),i||delete l[t],l[e]=r(a)),l})}json(){return this.transform(pF)}exact(t){return this.test({name:"exact",exclusive:!0,message:t||Yd.exact,test(e){if(e==null)return!0;const i=tx(this.schema,e);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(t=!0,e=Yd.noUnknown){typeof t!="boolean"&&(e=t,t=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:e,test(r){if(r==null)return!0;const a=tx(this.schema,r);return!t||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return i.spec.noUnknown=t,i}unknown(t=!0,e=Yd.noUnknown){return this.noUnknown(!t,e)}transformKeys(t){return this.transform(e=>{if(!e)return e;const i={};for(const r of Object.keys(e))i[t(r)]=e[r];return i})}camelCase(){return this.transformKeys(Bm.camelCase)}snakeCase(){return this.transformKeys(Bm.snakeCase)}constantCase(){return this.transformKeys(t=>Bm.snakeCase(t).toUpperCase())}describe(t){const e=(t?this.resolve(t):this).clone(),i=super.describe(t);i.fields={};for(const[a,l]of Object.entries(e.fields)){var r;let c=t;(r=c)!=null&&r.value&&(c=Object.assign({},c,{parent:c.value,value:c.value[a]})),i.fields[a]=l.describe(c)}return i}}Hh.prototype=kE.prototype;const yF=Hh().shape({name:Zr().required("Name is required").matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:Zr().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',n=>(n.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',n=>{const t=n.indexOf("@");return n.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:Zr().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format").required("Password is required")}),bF=Hh().shape({email:Zr().required("Email is required").test("has-one-at-symbol",'Email must contain exactly one "@" symbol',n=>(n.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',n=>{const t=n.indexOf("@");return n.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:Zr().required("Password is required").min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});Hh().shape({avatar:AE(),name:Zr().matches(/^[a-zA-Z--0-9\s!@#$%^&*()_+-=`~[\]{}|\\:;"'<>,.?/]+$/,"Invalid characters in name").min(2,"Name must be at least 2 characters").max(32,"Name cannot exceed 32 characters"),email:Zr().test("has-one-at-symbol",'Email must contain exactly one "@" symbol',n=>(n.match(/@/g)||[]).length===1).test("has-dot-after-at-symbol",'Email must contain a dot after the "@" symbol',n=>{const t=n.indexOf("@");return n.indexOf(".",t)>t}).matches(/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,"Invalid email format"),password:Zr().min(8,"Password must be at least 8 characters long").max(64,"The password length should not exceed 64 characters").matches(/^[a-zA-Z0-9!@#$%^&*()_+{}|:"<>?]{8,64}$/,"Invalid password format")});const OE={validationLoginSchema:bF,validationRegistrSchema:yF},ex=(n,t,e)=>{if(n&&"reportValidity"in n){const i=Rt(e,t);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},RE=(n,t)=>{for(const e in t.fields){const i=t.fields[e];i&&i.ref&&"reportValidity"in i.ref?ex(i.ref,e,n):i&&i.refs&&i.refs.forEach(r=>ex(r,e,n))}},vF=(n,t)=>{t.shouldUseNativeValidation&&RE(n,t);const e={};for(const i in n){const r=Rt(t.fields,i),a=Object.assign(n[i]||{},{ref:r&&r.ref});if(_F(t.names||Object.keys(n),i)){const l=Object.assign({},Rt(e,i));Te(l,"root",a),Te(e,i,l)}else Te(e,i,a)}return e},_F=(n,t)=>{const e=nx(t);return n.some(i=>nx(i).match(`^${e}\\.\\d+`))};function nx(n){return n.replace(/\]|\[/g,"")}function ME(n,t,e){return e===void 0&&(e={}),function(i,r,a){try{return Promise.resolve((function(l,c){try{var d=(t?.context,Promise.resolve(n[e.mode==="sync"?"validateSync":"validate"](i,Object.assign({abortEarly:!1},t,{context:r}))).then(function(h){return a.shouldUseNativeValidation&&RE({},a),{values:e.raw?Object.assign({},i):h,errors:{}}}))}catch(h){return c(h)}return d&&d.then?d.then(void 0,c):d})(0,function(l){if(!l.inner)throw l;return{values:{},errors:vF((c=l,d=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(c.inner||[]).reduce(function(h,p){if(h[p.path]||(h[p.path]={message:p.message,type:p.type}),d){var m=h[p.path].types,y=m&&m[p.type];h[p.path]=rE(p.path,d,h,p.type,y?[].concat(y,p.message):p.message)}return h},{})),a)};var c,d}))}catch(l){return Promise.reject(l)}}}const SF="_form_1xhav_1",xF="_inputGroup_1xhav_11",wF="_label_1xhav_18",AF="_inputContainer_1xhav_24",EF="_input_1xhav_11",CF="_iconLeft_1xhav_54",TF="_iconRight_1xhav_63",kF="_icon_1xhav_54",OF="_error_1xhav_81",RF="_optionsRow_1xhav_92",MF="_remember_1xhav_100",NF="_link_1xhav_106",DF="_button_1xhav_118",tn={form:SF,inputGroup:xF,label:wF,inputContainer:AF,input:EF,iconLeft:CF,iconRight:TF,icon:kF,error:OF,optionsRow:RF,remember:MF,link:NF,button:DF},LF=({onSubmit:n,loading:t,error:e})=>{const{register:i,handleSubmit:r,formState:{errors:a}}=dE({resolver:ME(OE.validationLoginSchema)}),[l,c]=$.useState(!1),d=()=>c(!l);return x.jsxs("form",{className:tn.form,onSubmit:r(n),noValidate:!0,children:[x.jsxs("div",{className:tn.inputGroup,children:[x.jsx("label",{htmlFor:"email",className:tn.label,children:"Email Address"}),x.jsxs("div",{className:tn.inputContainer,children:[x.jsx(pE,{className:tn.iconLeft}),x.jsx("input",{id:"email",className:tn.input,...i("email"),type:"email",placeholder:"your.email@example.com"})]}),a.email&&x.jsx("p",{className:tn.error,children:a.email.message})]}),x.jsxs("div",{className:tn.inputGroup,children:[x.jsx("label",{htmlFor:"password",className:tn.label,children:"Password"}),x.jsxs("div",{className:tn.inputContainer,children:[x.jsx(gE,{className:tn.iconLeft}),x.jsx("input",{id:"password",className:tn.input,...i("password"),type:l?"text":"password",placeholder:"Enter your password"}),x.jsx("div",{className:tn.iconRight,onClick:d,children:l?x.jsx(Iy,{className:tn.icon}):x.jsx(mE,{className:tn.icon})})]}),a.password&&x.jsx("p",{className:tn.error,children:a.password.message})]}),x.jsxs("div",{className:tn.optionsRow,children:[x.jsxs("label",{className:tn.remember,children:[x.jsx("input",{type:"checkbox"})," Remember me"]}),x.jsx("a",{href:"/forgot-password",className:tn.link,children:"Forgot password?"})]}),e&&x.jsx("p",{className:tn.error,children:e}),x.jsx("button",{className:tn.button,type:"submit",disabled:t,children:t?x.jsx(Dy,{size:20,color:"#fff"}):"Sign in"})]})},PF="_form_17xjg_1",jF="_inputGroup_17xjg_11",BF="_label_17xjg_18",FF="_inputContainer_17xjg_24",IF="_input_17xjg_11",zF="_iconLeft_17xjg_54",UF="_iconRight_17xjg_63",HF="_icon_17xjg_54",$F="_error_17xjg_81",qF="_button_17xjg_92",Be={form:PF,inputGroup:jF,label:BF,inputContainer:FF,input:IF,iconLeft:zF,iconRight:UF,icon:HF,error:$F,button:qF},VF=({onSubmit:n,loading:t,error:e})=>{const{register:i,handleSubmit:r,formState:{errors:a}}=dE({resolver:ME(OE.validationRegistrSchema)}),[l,c]=$.useState(!1),[d,h]=$.useState(""),p=()=>c(!l),m=y=>h(y.target.value);return x.jsxs("form",{className:Be.form,onSubmit:r(y=>n(y)),noValidate:!0,children:[x.jsxs("div",{className:Be.inputGroup,children:[x.jsx("label",{htmlFor:"name",className:Be.label,children:"Full Name"}),x.jsxs("div",{className:Be.inputContainer,children:[x.jsx(D4,{className:Be.iconLeft}),x.jsx("input",{id:"name",className:Be.input,...i("name",{required:!0}),type:"text",placeholder:"Enter your name"})]}),a.name&&x.jsx("p",{className:Be.error,children:a.name.message})]}),x.jsxs("div",{className:Be.inputGroup,children:[x.jsx("label",{htmlFor:"email",className:Be.label,children:"Email Address"}),x.jsxs("div",{className:Be.inputContainer,children:[x.jsx(pE,{className:Be.iconLeft}),x.jsx("input",{id:"email",className:Be.input,...i("email",{required:!0}),type:"email",placeholder:"your.email@example.com"})]}),a.email&&x.jsx("p",{className:Be.error,children:a.email.message})]}),x.jsxs("div",{className:Be.inputGroup,children:[x.jsx("label",{htmlFor:"password",className:Be.label,children:"Password"}),x.jsxs("div",{className:Be.inputContainer,children:[x.jsx(gE,{className:Be.iconLeft}),x.jsx("input",{id:"password",className:Be.input,...i("password",{required:!0}),value:d,onChange:m,type:l?"text":"password",placeholder:"Create a password"}),x.jsx("div",{className:Be.iconRight,onClick:p,children:l?x.jsx(Iy,{className:Be.icon}):x.jsx(mE,{className:Be.icon})})]}),a.password&&x.jsx("p",{className:Be.error,children:a.password.message})]}),e&&x.jsx("p",{className:Be.error,children:e}),x.jsx("button",{className:Be.button,type:"submit",disabled:t,children:t?x.jsx(Dy,{size:20,color:"#fff"}):"Register"})]})},ix=()=>{const n=Sy(),t=Vo(),{isLoggedIn:e,loading:i}=Dc(y=>y.auth),[r,a]=$.useState(!0),[l,c]=$.useState(""),[d,h]=$.useState(""),p=async y=>{c("");try{await n(Vd(y)).unwrap(),ne.success(" Login successful!")}catch(b){c(b||"Login failed. Please try again.")}},m=async y=>{h("");try{await n(Gd(y)).unwrap(),ne.success(" Registration successful! Redirecting to login..."),setTimeout(()=>a(!0),1500)}catch(b){h(b||"Registration failed. Please try again.")}};return $.useEffect(()=>{e&&t("/")},[e,t]),x.jsx("div",{className:hr.pageWrapper,children:x.jsxs("div",{className:hr.card,children:[x.jsxs("div",{className:hr.header,children:[x.jsx("img",{src:HA,alt:"Study Buddy Logo",className:hr.logo}),x.jsx("h2",{className:hr.title,children:r?"Welcome Back":"Create Account"}),x.jsx("p",{className:hr.subtitle,children:r?"Sign in to continue your learning journey":"Join Study Buddy and start learning today"})]}),x.jsx("div",{className:hr.formContainer,children:r?x.jsx(LF,{onSubmit:p,loading:i,error:l}):x.jsx(VF,{onSubmit:m,loading:i,error:d})}),x.jsx("div",{className:hr.toggleText,children:r?x.jsxs("p",{children:["Dont have an account?"," ",x.jsx("button",{onClick:()=>a(!1),className:hr.toggleButton,children:"Register"})]}):x.jsxs("p",{children:["Already have an account?"," ",x.jsx("button",{onClick:()=>a(!0),className:hr.toggleButton,children:"Log In"})]})})]})})},GF="_wrapper_1j2cc_1",XF="_emptyState_1j2cc_8",YF="_studySpaceContainer_1j2cc_17",WF="_pdfPane_1j2cc_25",KF="_chatPane_1j2cc_35",ZF="_resizeHandle_1j2cc_44",ia={wrapper:GF,emptyState:XF,studySpaceContainer:YF,pdfPane:WF,chatPane:KF,resizeHandle:ZF},Un=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),$g=[.001,0,0,.001,0,0],Fm=1.35,bi={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ac="pdfjs_internal_editor_",Xt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},le={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},NE={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Rn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fc={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},nn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},vo={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},$c={ERRORS:0,WARNINGS:1,INFOS:5},Bo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Ed={moveTo:0,lineTo:1,curveTo:2,closePath:3},DE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let $h=$c.WARNINGS;function QF(n){Number.isInteger(n)&&($h=n)}function JF(){return $h}function qh(n){$h>=$c.INFOS&&console.info(`Info: ${n}`)}function Yt(n){$h>=$c.WARNINGS&&console.warn(`Warning: ${n}`)}function Oe(n){throw new Error(n)}function ue(n,t){n||Oe(t)}function tI(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Hy(n,t=null,e=null){if(!n)return null;if(e&&typeof n=="string"&&(e.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),e.tryConvertEncoding))try{n=sI(n)}catch{}const i=t?URL.parse(n,t):URL.parse(n);return tI(i)?i:null}function $y(n,t,e=!1){const i=URL.parse(n);return i?(i.hash=t,i.href):e&&Hy(n,"http://example.com")?n.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Jt(n,t,e,i=!1){return Object.defineProperty(n,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Aa=(function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class rx extends Aa{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Im extends Aa{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class mh extends Aa{constructor(t){super(t,"InvalidPDFException")}}class Ec extends Aa{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class eI extends Aa{constructor(t){super(t,"FormatError")}}class es extends Aa{constructor(t){super(t,"AbortException")}}function LE(n){(typeof n!="object"||n?.length===void 0)&&Oe("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<t;r+=e){const a=Math.min(r+e,t),l=n.subarray(r,a);i.push(String.fromCharCode.apply(null,l))}return i.join("")}function qc(n){typeof n!="string"&&Oe("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=n.charCodeAt(i)&255;return e}function nI(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function iI(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function rI(){try{return new Function(""),!0}catch{return!1}}class wn{static get isLittleEndian(){return Jt(this,"isLittleEndian",iI())}static get isEvalSupported(){return Jt(this,"isEvalSupported",rI())}static get isOffscreenCanvasSupported(){return Jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Jt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Jt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Jt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const zm=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class kt{static makeHexColor(t,e,i){return`#${zm[t]}${zm[e]}${zm[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,i=0){const r=t[i],a=t[i+1];t[i]=r*e[0]+a*e[2]+e[4],t[i+1]=r*e[1]+a*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const r=e[0],a=e[1],l=e[2],c=e[3],d=e[4],h=e[5];for(let p=0;p<6;p+=2){const m=t[i+p],y=t[i+p+1];t[i+p]=m*r+y*l+d,t[i+p+1]=m*a+y*c+h}}static applyInverseTransform(t,e){const i=t[0],r=t[1],a=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-r*e[2]+e[2]*e[5]-e[4]*e[3])/a,t[1]=(-i*e[1]+r*e[0]+e[4]*e[1]-e[5]*e[0])/a}static axialAlignedBoundingBox(t,e,i){const r=e[0],a=e[1],l=e[2],c=e[3],d=e[4],h=e[5],p=t[0],m=t[1],y=t[2],b=t[3];let S=r*p+d,_=S,E=r*y+d,w=E,T=c*m+h,k=T,F=c*b+h,O=F;if(a!==0||l!==0){const R=a*p,D=a*y,j=l*m,N=l*b;S+=j,w+=j,E+=N,_+=N,T+=R,O+=R,F+=D,k+=D}i[0]=Math.min(i[0],S,E,_,w),i[1]=Math.min(i[1],T,F,k,O),i[2]=Math.max(i[2],S,E,_,w),i[3]=Math.max(i[3],T,F,k,O)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],r=t[1],a=t[2],l=t[3],c=i**2+r**2,d=i*a+r*l,h=a**2+l**2,p=(c+h)/2,m=Math.sqrt(p**2-(c*h-d**2));e[0]=Math.sqrt(p+m||1),e[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>r)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[i,a,r,l]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,r,a){a[0]=Math.min(a[0],t,i),a[1]=Math.min(a[1],e,r),a[2]=Math.max(a[2],t,i),a[3]=Math.max(a[3],e,r)}static#t(t,e,i,r,a,l,c,d,h,p){if(h<=0||h>=1)return;const m=1-h,y=h*h,b=y*h,S=m*(m*(m*t+3*h*e)+3*y*i)+b*r,_=m*(m*(m*a+3*h*l)+3*y*c)+b*d;p[0]=Math.min(p[0],S),p[1]=Math.min(p[1],_),p[2]=Math.max(p[2],S),p[3]=Math.max(p[3],_)}static#e(t,e,i,r,a,l,c,d,h,p,m,y){if(Math.abs(h)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,i,r,a,l,c,d,-m/p,y);return}const b=p**2-4*m*h;if(b<0)return;const S=Math.sqrt(b),_=2*h;this.#t(t,e,i,r,a,l,c,d,(-p+S)/_,y),this.#t(t,e,i,r,a,l,c,d,(-p-S)/_,y)}static bezierBoundingBox(t,e,i,r,a,l,c,d,h){h[0]=Math.min(h[0],t,c),h[1]=Math.min(h[1],e,d),h[2]=Math.max(h[2],t,c),h[3]=Math.max(h[3],e,d),this.#e(t,i,a,c,e,r,l,d,3*(-t+3*(i-a)+c),6*(t-2*i+a),3*(i-t),h),this.#e(t,i,a,c,e,r,l,d,3*(-e+3*(r-l)+d),6*(e-2*r+l),3*(r-e),h)}}function sI(n){return decodeURIComponent(escape(n))}let Um=null,sx=null;function PE(n){return Um||(Um=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,sx=new Map([["","t"]])),n.replaceAll(Um,(t,e,i)=>e?e.normalize("NFKC"):sx.get(i))}function qy(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),LE(n)}const Vy="pdfjs_internal_id_";function aI(n,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,r,...a]=e;if(!n(i)&&!Number.isInteger(i)||!t(r))return!1;const l=a.length;let c=!0;switch(r.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const d of a)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function Pn(n,t,e){return Math.min(Math.max(n,t),e)}function jE(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(LE(n))}function oI(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):qc(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...t){return new Promise(e=>{e(n(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((t,e)=>t+e,0)});class Cc{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function r(a){if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Cc.shouldBuildText(c))a?.attributes?.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const d of a.children)r(d)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Gy{static setupStorage(t,e,i,r,a){const l=r.getValue(e,{value:null});switch(i.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(l.value===i.attributes.xfaOn?t.setAttribute("checked",!0):l.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{r.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of i.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const d=c.target.options,h=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(e,{value:h})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:r,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${r}`);for(const[d,h]of Object.entries(l))if(h!=null)switch(d){case"class":h.length&&t.setAttribute(d,h.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",h);break;case"style":Object.assign(t.style,h);break;case"textContent":t.textContent=h;break;default:(!c||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,h)}c&&a.addLinkAttributes(t,l.href,l.newWindow),i&&l.dataId&&this.setupStorage(t,l.dataId,e,i)}static render(t){const e=t.annotationStorage,i=t.linkService,r=t.xfaHtml,a=t.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:a,linkService:i});const c=a!=="richText",d=t.div;if(d.append(l),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}c&&d.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);l.append(m),c&&Cc.shouldBuildText(r.name)&&h.push(m)}return{textDivs:h}}const p=[[r,-1,l]];for(;p.length>0;){const[m,y,b]=p.at(-1);if(y+1===m.children.length){p.pop();continue}const S=m.children[++p.at(-1)[1]];if(S===null)continue;const{name:_}=S;if(_==="#text"){const w=document.createTextNode(S.value);h.push(w),b.append(w);continue}const E=S?.attributes?.xmlns?document.createElementNS(S.attributes.xmlns,_):document.createElement(_);if(b.append(E),S.attributes&&this.setAttributes({html:E,element:S,storage:e,intent:a,linkService:i}),S.children?.length>0)p.push([S,-1,E]);else if(S.value){const w=document.createTextNode(S.value);c&&Cc.shouldBuildText(_)&&h.push(w),E.append(w)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:h}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Gr="http://www.w3.org/2000/svg";class _a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Yo(n,t="text"){if(oc(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(r.response);return}e(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Vc{constructor({viewBox:t,userUnit:e,scale:i,rotation:r,offsetX:a=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=r,this.offsetX=a,this.offsetY=l,i*=e;const d=(t[2]+t[0])/2,h=(t[3]+t[1])/2;let p,m,y,b;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,y=0,b=1;break;case 90:p=0,m=1,y=1,b=0;break;case 270:p=0,m=-1,y=-1,b=0;break;case 0:p=1,m=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,b=-b);let S,_,E,w;p===0?(S=Math.abs(h-t[1])*i+a,_=Math.abs(d-t[0])*i+l,E=(t[3]-t[1])*i,w=(t[2]-t[0])*i):(S=Math.abs(d-t[0])*i+a,_=Math.abs(h-t[1])*i+l,E=(t[2]-t[0])*i,w=(t[3]-t[1])*i),this.transform=[p*i,m*i,y*i,b*i,S-p*i*d-y*i*h,_-m*i*d-b*i*h],this.width=E,this.height=w}get rawDims(){const t=this.viewBox;return Jt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new Vc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:a})}convertToViewportPoint(t,e){const i=[t,e];return kt.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];kt.applyTransform(e,this.transform);const i=[t[2],t[3]];return kt.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return kt.applyInverseTransform(i,this.transform),i}}class Vh extends Aa{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Gc(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function Gh(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function BE(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function FE(n,t="document.pdf"){if(typeof n!="string")return t;if(Gc(n))return Yt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return t;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},a=/\.pdf$/i,l=i.pathname.split("/").at(-1);if(a.test(l))return r(l);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const h of c)if(a.test(h))return r(h);const d=Array.from(i.searchParams.keys()).reverse();for(const h of d)if(a.test(h))return r(h)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return t}class ax{started=Object.create(null);times=[];time(t){t in this.started&&Yt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Yt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:r,end:a}of this.times)t.push(`${i.padEnd(e)} ${a-r}ms
`);return t.join("")}}function oc(n,t){const e=t?URL.parse(n,t):URL.parse(n);return e?.protocol==="http:"||e?.protocol==="https:"}function Ai(n){n.preventDefault()}function qe(n){n.preventDefault(),n.stopPropagation()}function lI(n){console.log("Deprecated API usage: "+n)}class gh{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const i=parseInt(e[1],10);let r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const h=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(e[9],10)||0;return m=m>=0&&m<=59?m:0,h==="-"?(l+=p,c+=m):h==="+"&&(l-=p,c-=m),new Date(Date.UTC(i,r,a,l,c,d))}}function IE(n,{scale:t=1,rotation:e=0}){const{width:i,height:r}=n.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new Vc({viewBox:a,userUnit:1,scale:t,rotation:e})}function Wo(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Yt(`Not a valid color format: "${n}"`),[0,0,0])}function cI(n){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of n.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;n.set(e,Wo(i))}t.remove()}function $e(n){const{a:t,b:e,c:i,d:r,e:a,f:l}=n.getTransform();return[t,e,i,r,a,l]}function fr(n){const{a:t,b:e,c:i,d:r,e:a,f:l}=n.getTransform().invertSelf();return[t,e,i,r,a,l]}function js(n,t,e=!1,i=!0){if(t instanceof Vc){const{pageWidth:r,pageHeight:a}=t.rawDims,{style:l}=n,c=wn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,h=`var(--total-scale-factor) * ${a}px`,p=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!e||t.rotation%180===0?(l.width=p,l.height=m):(l.width=m,l.height=p)}i&&n.setAttribute("data-main-rotation",t.rotation)}class Ji{constructor(){const{pixelRatio:t}=Ji;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,r,a=-1){let l=1/0,c=1/0,d=1/0;i=Ji.capPixels(i,a),i>0&&(l=Math.sqrt(i/(t*e))),r!==-1&&(c=r/t,d=r/e);const h=Math.min(l,c,d);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const yh=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class uI{static get isDarkMode(){return Jt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class zE{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),Jt(this,"commentForegroundColor",Wo(i))}}function UE(n,t,e,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),t=Math.round(t*i+r),e=Math.round(e*i+r),[n,t,e]}function ox(n,t){const e=n[0]/255,i=n[1]/255,r=n[2]/255,a=Math.max(e,i,r),l=Math.min(e,i,r),c=(a+l)/2;if(a===l)t[0]=t[1]=0;else{const d=a-l;switch(t[1]=c<.5?d/(a+l):d/(2-a-l),a){case e:t[0]=((i-r)/d+(i<r?6:0))*60;break;case i:t[0]=((r-e)/d+2)*60;break;case r:t[0]=((e-i)/d+4)*60;break}}t[2]=c}function qg(n,t){const e=n[0],i=n[1],r=n[2],a=(1-Math.abs(2*r-1))*i,l=a*(1-Math.abs(e/60%2-1)),c=r-a/2;switch(Math.floor(e/60)){case 0:t[0]=a+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=a+c,t[2]=c;break;case 2:t[0]=c,t[1]=a+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=a+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=a+c;break;case 5:case 6:t[0]=a+c,t[1]=c,t[2]=l+c;break}}function lx(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function cx(n,t,e){qg(n,e),e.map(lx);const i=.2126*e[0]+.7152*e[1]+.0722*e[2];qg(t,e),e.map(lx);const r=.2126*e[0]+.7152*e[1]+.0722*e[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const ux=new Map;function HE(n,t){const e=n[0]+n[1]*256+n[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=ux.get(e);if(i)return i;const r=new Float32Array(9),a=r.subarray(0,3),l=r.subarray(3,6);ox(n,l);const c=r.subarray(6,9);ox(t,c);const d=c[2]<.5,h=d?12:4.5;if(l[2]=d?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),cx(l,c,a)<h){let p,m;d?(p=l[2],m=1):(p=0,m=l[2]);const y=.005;for(;m-p>y;){const b=l[2]=(p+m)/2;d===cx(l,c,a)<h?p=b:m=b}l[2]=d?m:p}return qg(l,a),i=kt.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),ux.set(e,i),i}function Xy({html:n,dir:t,className:e},i){const r=document.createDocumentFragment();if(typeof n=="string"){const a=document.createElement("p");a.dir=t||"auto";const l=n.split(/(?:\r\n?|\n)/);for(let c=0,d=l.length;c<d;++c){const h=l[c];a.append(document.createTextNode(h)),c<d-1&&a.append(document.createElement("br"))}r.append(a)}else Gy.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",e),i.append(r)}class pc{#t=null;#e=null;#i;#n=null;#a=null;#r=null;#s=null;#o=null;static#c=null;constructor(t){this.#i=t,pc.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",Ai,{signal:e}),t.addEventListener("pointerdown",pc.#l,{signal:e}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const r=this.#i.toolbarPosition;if(r){const{style:a}=t,l=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#h(t){this.#i._focusEventsAllowed=!1,qe(t)}#d(t){this.#i._focusEventsAllowed=!0,qe(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ai,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",pc.#c[t]),this.#f(i)&&i.addEventListener("click",r=>{e.delete()},{signal:e._signal}),this.#n.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#g),this.#a=t}addComment(t,e=null){if(this.#r)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const r=this.#s=this.#g;e?(this.#n.insertBefore(i,e),this.#n.insertBefore(r,e)):this.#n.append(i,r),this.#r=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#g)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#g)}removeButton(t){switch(t){case"comment":this.#r?.removeToolbarCommentButton(),this.#r=null,this.#s?.remove(),this.#s=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,i){const r=this.#n.querySelector(i);r&&t==="comment"&&this.addComment(e,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class dI{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",Ai,{signal:e});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let i=0,r=0;for(const a of t){const l=a.y+a.height;if(l<i)continue;const c=a.x+(e?a.width:0);if(l>i){r=c,i=l;continue}e?c>r&&(r=c):c<r&&(r=c)}return[e?1-r:r,i]}show(t,e,i){const[r,a]=this.#a(e,i),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*r}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#r(t,e,i,r){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",e);const l=document.createElement("span");a.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",i);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(a.addEventListener("contextmenu",Ai,{signal:c}),a.addEventListener("click",r,{signal:c})),this.#t.append(a)}}function $E(n,t,e){for(const i of e)t.addEventListener(i,n[i].bind(n))}class hI{#t=0;get id(){return`${Ac}${this.#t++}`}}class Yy{#t=qy();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const a=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Jt(this,"_isSVGFittingCanvas",a)}async#n(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof e=="string"?(i.url=e,r=await Yo(e,"blob")):e instanceof File?r=i.file=e:e instanceof Blob&&(r=e),r.type==="image/svg+xml"){const a=Yy._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((h,p)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,h()},l.onload=async()=>{const m=i.svgUrl=l.result;c.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=l.onerror=p});l.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Yt(r),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:e,name:i,size:r,type:a}=t;return this.#n(`${e}_${i}_${r}_${a}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const i=await e;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(e.width,e.height);return r.getContext("2d").drawImage(e,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}i.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class fI{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:i,mustExec:r,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:e,post:i,type:a};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(l&&this.#t[this.#n].type===a){c&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const h=this.#n+1;h===this.#i?this.#t.splice(0,1):(this.#n=h,h<this.#t.length&&this.#t.splice(h)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Xc{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=wn.platform;for(const[i,r,a={}]of t)for(const l of i){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:r,options:a}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(this.#t(e));if(!i)return;const{callback:r,options:{bubbles:a=!1,args:l=[],checker:c=null}}=i;c&&!c(t,e)||(r.bind(t,...l,e)(),a||qe(e))}}class Wy{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return cI(t),Jt(this,"_colors",t)}convert(t){const e=Wo(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,r]of this._colors)if(r.every((a,l)=>a===e[l]))return Wy._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?kt.makeHexColor(...e):t}}class ns{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#r=null;#s=null;#o=null;#c=new fI;#l=null;#h=null;#d=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#v=!1;#b=!1;#E=null;#w=null;#_=null;#T=null;#x=!1;#A=null;#R=new hI;#k=!1;#O=!1;#B=!1;#N=null;#L=null;#F=null;#P=null;#q=null;#C=Xt.NONE;#S=new Set;#D=null;#I=null;#U=null;#X=null;#G=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#j=null;#V=null;#Q=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=ns.prototype,e=l=>l.#V.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),i=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new Xc([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#V.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#V.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}constructor(t,e,i,r,a,l,c,d,h,p,m,y,b,S,_,E){const w=this._signal=this.#t.signal;this.#V=t,this.#Q=e,this.#J=i,this.#r=r,this.#l=a,this.#I=l,this.#G=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:w}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),c._on("setpreference",this.onSetPreference.bind(this),{signal:w}),c._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#O=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#O=!1},{capture:!0,signal:w}),this.#lt(),this.#ht(),this.#et(),this.#s=d.annotationStorage,this.#E=d.filterFactory,this.#U=h,this.#T=p||null,this.#y=m,this.#v=y,this.#b=b,this.#q=S||null,this.viewParameters={realScale:_a.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=E!==!1,a?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#m.clear(),this.#P?.clear(),this.#e=null,this.#S.clear(),this.#c.destroy(),this.#r?.destroy(),this.#l?.destroy(),this.#I?.destroy(),this.#A?.hide(),this.#A=null,this.#F?.destroy(),this.#F=null,this.#i=null,this.#w&&(clearTimeout(this.#w),this.#w=null),this.#j&&(clearTimeout(this.#j),this.#j=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#b}get hcmFilter(){return Jt(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Jt(this,"direction",getComputedStyle(this.#V).direction)}get _highlightColors(){return Jt(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Jt(this,"highlightColors",null);const e=new Map,i=!!this.#U;for(const[r,a]of t){const l=r.endsWith("_HCM");if(i&&l){e.set(r.replace("_HCM",""),a);continue}!i&&!l&&e.set(r,a)}return Jt(this,"highlightColors",e)}get highlightColorNames(){return Jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=t}setMainHighlightColorPicker(t){this.#F=t}editAltText(t,e=!1){this.#r?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,i,r){this.#l?.showDialog(this,t,e,i,r)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,i=void 0){this.#l?.toggleCommentPopup(t,e,i)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:i}=Promise.withResolvers(),r=a=>{a.pageNumber===t&&(this._eventBus._off("editorsrendered",r),e())};this._eventBus.on("editorsrendered",r),await i}getSignature(t){this.#I?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#I}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#b=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#V.focus()}findParent(t,e){for(const i of this.#a.values()){const{x:r,y:a,width:l,height:c}=i.div.getBoundingClientRect();if(t>=r&&t<=r+l&&e>=a&&e<=a+c)return i}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#m.add(t)}removeShouldRescale(t){this.#m.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*_a.PDF_TO_CSS_UNITS;for(const e of this.#m)e.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Z({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of this.#a.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",e=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:a,focusNode:l,focusOffset:c}=i,d=i.toString(),p=this.#Z(i).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;i.empty();const y=this.#tt(p),b=this.#C===Xt.NONE,S=()=>{const _=y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:r,anchorOffset:a,focusNode:l,focusOffset:c,text:d});b&&this.showAllEditors("highlight",!0,!0),e&&_?.editComment()};if(b){this.switchToMode(Xt.HIGHLIGHT,S);return}S()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#Z(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#A||=new dI(this),this.#A.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#s)return null;const e=`${Ac}${t}`,i=this.#s.getRawValue(e);return i&&this.#s.remove(e),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#D&&(this.#A?.hide(),this.#D=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#D)return;const r=this.#Z(t).closest(".textLayer");if(!r){this.#D&&(this.#A?.hide(),this.#D=null,this.#M({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#D=e,this.#M({hasSelectedText:!0}),!(this.#C!==Xt.HIGHLIGHT&&this.#C!==Xt.NONE)&&(this.#C===Xt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#C===Xt.HIGHLIGHT?this.#tt(r):null;if(a?.toggleDrawing(),this.#O){const l=new AbortController,c=this.combinedSignal(l),d=h=>{h.type==="pointerup"&&h.button!==0||(l.abort(),a?.toggleDrawing(!0),h.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else a?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#C===Xt.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#S)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#N)return;this.#N=new AbortController;const t=this.combinedSignal(this.#N);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#dt(){this.#N?.abort(),this.#N=null}#nt(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#h?.abort(),this.#h=null}#ht(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#dt(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of this.#S){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){Yt(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const d of i){const h=await r.deserialize(d);if(!h)return;a.push(h)}const l=()=>{for(const d of a)this.#rt(d);this.#st(a)},c=()=>{for(const d of a)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){Yt(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Xt.NONE&&!this.isEditorHandlingKeyboard&&ns._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#M(t){Object.entries(t).some(([i,r])=>this.#Y[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===Xt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#$([[le.HIGHLIGHT_FREE,!0]]))}#$(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#M({isEditing:this.#C!==Xt.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#$(e.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#k?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,i=!1,r=!1,a=!1){if(this.#C!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#C===Xt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===Xt.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===Xt.SIGNATURE&&await this.#I?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===Xt.POPUP){this.#i||=await this.#G.getAnnotationsByType(new Set(this.#u.map(d=>d._editorType)));const l=new Set,c=[];for(const d of this.#n.values()){const{annotationElementId:h,hasComment:p,deleted:m}=d;h&&l.add(h),p&&!m&&c.push(d.getData())}for(const d of this.#i){const{id:h,popupRef:p,contentsObj:m}=d;p&&m?.str&&!l.has(h)&&!this.#g.has(h)&&c.push(d)}this.#l?.showSidebar(c)}if(!e){i&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),a?l.editComment():r?l.enterInEditMode():l.focus()):l.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case le.CREATE:this.currentLayer.addNewEditor(e);return;case le.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#X||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of this.#S)i.updateParams(t,e);else for(const i of this.#u)i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){for(const a of this.#n.values())a.editorType===t&&a.show(e);(this.#X?.get(le.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#$([[le.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#B!==t){this.#B=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#k){this.#k=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#k){this.#k=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#w&&clearTimeout(this.#w),this.#w=setTimeout(()=>{this.focusMainContainer(),this.#w=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#rt(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#$(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#S);return t}updateUI(t){this.#mt===t&&this.#$(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#$(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#S.has(t)){this.#S.delete(t),t.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#S.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#d?.commitOrRemove();for(const e of this.#S)e!==t&&e.unselect();this.#S.clear(),this.#S.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(t){return this.#S.has(t)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(t){t.unselect(),this.#S.delete(t),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#M({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#S],i=()=>{this._editorUndoBar?.show(r,e.length===1?e[0].editorType:e.length);for(const a of e)a.remove()},r=()=>{for(const a of e)this.#rt(a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#st(t){for(const e of this.#S)e.unselect();this.#S.clear();for(const e of t)e.isEmpty()||(this.#S.add(e),e.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#S)t.commit();this.#st(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==Xt.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const t of this.#S)t.unselect();this.#S.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[r,a]=this.#H,l=[...this.#S],c=1e3;this.#j&&clearTimeout(this.#j),this.#j=setTimeout(()=>{this.#j=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(r,a),d.translationDone())},undo:()=>{for(const d of l)this.#n.has(d.id)&&(d.translateInPage(-r,-a),d.translationDone())},mustExec:!1})},c);for(const d of l)d.translateInPage(t,e),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#S)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:r,y:a,pageIndex:l},c]of t)c.newX=r,c.newY=a,c.newPageIndex=l,e||=r!==c.savedX||a!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const i=(r,a,l,c)=>{if(this.#n.has(r.id)){const d=this.#a.get(c);d?r._setParentAndPosition(d,a,l):(r.pageIndex=c,r.x=a,r.y=l)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:l,newPageIndex:c}]of t)i(r,a,l,c)},undo:()=>{for(const[r,{savedX:a,savedY:l,savedPageIndex:c}]of t)i(r,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const i of this.#p.keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==Xt.NONE}get imageManager(){return Jt(this,"imageManager",new Yy)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let h=0,p=e.rangeCount;h<p;h++)if(!t.contains(e.getRangeAt(h).commonAncestorContainer))return null;const{x:i,y:r,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(h,p,m,y)=>({x:(p-r)/l,y:1-(h+m-i)/a,width:y/l,height:m/a});break;case"180":c=(h,p,m,y)=>({x:1-(h+m-i)/a,y:1-(p+y-r)/l,width:m/a,height:y/l});break;case"270":c=(h,p,m,y)=>({x:1-(p+y-r)/l,y:(h-i)/a,width:y/l,height:m/a});break;default:c=(h,p,m,y)=>({x:(h-i)/a,y:(p-r)/l,width:m/a,height:y/l});break}const d=[];for(let h=0,p=e.rangeCount;h<p;h++){const m=e.getRangeAt(h);if(!m.collapsed)for(const{x:y,y:b,width:S,height:_}of m.getClientRects())S===0||_===0||d.push(c(y,b,S,_))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const i=this.#s.getRawValue(e);i&&(this.#C===Xt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){const r=this.#P?.get(t);r&&(r.setCanvas(e,i),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class Sr{#t=null;#e=!1;#i=null;#n=null;#a=null;#r=null;#s=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#d=t._uiManager.useNewAltTextFlow,Sr.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Sr._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#d?(t.classList.add("new"),t.setAttribute("data-l10n-id",Sr.#f.missing),e.setAttribute("data-l10n-id",Sr.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",Ai,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#s=!0,r(a))},{signal:i}),await this.#p(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#d?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#d?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await Sr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#d||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#h),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:r,cancel:a=!1}){i&&(this.#l=i,this.#h=r),!(this.#t===t&&this.#e===e)&&(a||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#d){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Sr.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Sr.#f[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const r=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#a?.classList.remove("show")},{signal:a})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Cd{#t=null;#e=null;#i=!1;#n=null;#a=null;#r=null;#s=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#h(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#h(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:i}=this.#t.getBoundingClientRect(),{x:r,y:a,width:l,height:c}=this.#n.parent.boundingClientRect;return[(t-r)/l,(e+i-a)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#h(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",Ai,{signal:i}),e&&(t.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,qe(a)},{capture:!0,signal:i}),t.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,qe(a)},{capture:!0,signal:i})),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#i=!0,r(a))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const e=this.commentPopupPositionInLayer;let i,r;if(e)[i,r]=e;else{[i,r]=this.#n.commentButtonPosition;const{width:p,height:m,x:y,y:b}=this.#n;i=y+i*p,r=b+r*m}const a=this.#n.parent.boundingClientRect,{x:l,y:c,width:d,height:h}=a;this.#n._uiManager.editComment(this.#n,l+i*d,c+r*h,{...t,parentDimensions:a})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#a}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#r,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#s&&(this.#r=null),t===null){this.#s="",this.#c=!0;return}this.#s=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#r=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#s="",this.#r=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Yc{#t;#e=!1;#i=null;#n;#a;#r;#s;#o=null;#c;#l=null;#h;#d=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#i=i,this.#n=e,this.#a=r,this.#r=a,this.#s=l,this.#h=new AbortController,this.#c=AbortSignal.any([c,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ji.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,a=AbortSignal.any([this.#c,r.signal]),l=this.#t,c={capture:!0,signal:a,passive:!1},d=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(qe(h),d(h))},c),l.addEventListener("pointerup",d,c),l.addEventListener("pointercancel",d,c);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),a=this.#t,l={signal:r,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),l);const c=this.#p.bind(this);a.addEventListener("touchend",c,l),a.addEventListener("touchcancel",c,l),l.capture=!0,a.addEventListener("pointerdown",qe,l),a.addEventListener("pointermove",qe,l),a.addEventListener("pointercancel",qe,l),a.addEventListener("pointerup",qe,l),this.#a?.()}if(qe(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;qe(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:r,screenY:a}=e,{screenX:l,screenY:c}=i,d=this.#l,{touch0X:h,touch0Y:p,touch1X:m,touch1Y:y}=d,b=m-h,S=y-p,_=l-r,E=c-a,w=Math.hypot(_,E)||1,T=Math.hypot(b,S)||1;if(!this.#e&&Math.abs(T-w)<=Yc.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=a,d.touch1X=l,d.touch1Y=c,!this.#e){this.#e=!0;return}const k=[(r+l)/2,(a+c)/2];this.#r?.(k,T,w)}#p(t){t.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#s?.()),this.#l&&(qe(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class jt{#t=null;#e=null;#i=null;#n=null;#a=null;#r=!1;#s=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#v=!1;#b=null;#E=0;#w=0;#_=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#A=jt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Wy;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=jt.prototype._resizeWithKeyboard,e=ns.TRANSLATE_SMALL,i=ns.TRANSLATE_BIG;return Jt(this,"_resizerKeyboardManager",new Xc([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],jt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[a,l];const[c,d]=this.parentDimensions;this.x=t.x/c,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new pI({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(jt._l10n??=t,jt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),jt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);jt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Oe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(t){this.#x=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#j(),this.#d?.remove(),this.#d=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,r){const[a,l]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/a,this.y=(e+r)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,r]=this.parentDimensions;this.setAt(t*i,e*r,this.width*i,this.height*r),this._onTranslated()}#R([t,e],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#R(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,a]}=this;if(this.x+=t/r,this.y+=e/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[d,h]=this.getBaseTranslation();l+=d,c+=h;const{style:p}=i;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=jt,r=i/t,a=i/e;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,r]}=this;let{x:a,y:l,width:c,height:d}=this;if(c*=i,d*=r,a*=i,l*=r,this._mustFixPosition)switch(t){case 0:a=Pn(a,0,i-c),l=Pn(l,0,r-d);break;case 90:a=Pn(a,0,i-d),l=Pn(l,c,r);break;case 180:a=Pn(a,c,i),l=Pn(l,d,r);break;case 270:a=Pn(a,d,i),l=Pn(l,0,r-c);break}this.x=a/=i,this.y=l/=r;const[h,p]=this.getBaseTranslation();a+=h,l+=p,e.left=`${(100*a).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#k(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return jt.#k(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return jt.#k(t,e,360-this.parentRotation)}#O(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(){const{div:{style:t},width:e,height:i}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#B(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#N.bind(this,i),{signal:e}),r.addEventListener("contextmenu",Ai,{signal:e}),r.tabIndex=-1}this.div.prepend(this.#c)}#N(t,e){e.preventDefault();const{isMac:i}=wn.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const a=new AbortController,l=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",qe,{passive:!1,signal:l}),window.addEventListener("contextmenu",Ai,{signal:l}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const h=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#F()};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})}#L(t,e,i,r){this.width=i,this.height=r,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#h)return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:r}=this.#h;this.#h=null;const a=this.x,l=this.y,c=this.width,d=this.height;a===t&&l===e&&c===i&&d===r||this.addCommands({cmd:this.#L.bind(this,a,l,c,d),undo:this.#L.bind(this,t,e,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[i,r]=this.parentDimensions,a=this.x,l=this.y,c=this.width,d=this.height,h=jt.MIN_SIZE/i,p=jt.MIN_SIZE/r,m=this.#O(this.rotation),y=(U,C)=>[m[0]*U+m[2]*C,m[1]*U+m[3]*C],b=this.#O(360-this.rotation),S=(U,C)=>[b[0]*U+b[2]*C,b[1]*U+b[3]*C];let _,E,w=!1,T=!1;switch(t){case"topLeft":w=!0,_=(U,C)=>[0,0],E=(U,C)=>[U,C];break;case"topMiddle":_=(U,C)=>[U/2,0],E=(U,C)=>[U/2,C];break;case"topRight":w=!0,_=(U,C)=>[U,0],E=(U,C)=>[0,C];break;case"middleRight":T=!0,_=(U,C)=>[U,C/2],E=(U,C)=>[0,C/2];break;case"bottomRight":w=!0,_=(U,C)=>[U,C],E=(U,C)=>[0,0];break;case"bottomMiddle":_=(U,C)=>[U/2,C],E=(U,C)=>[U/2,0];break;case"bottomLeft":w=!0,_=(U,C)=>[0,C],E=(U,C)=>[U,0];break;case"middleLeft":T=!0,_=(U,C)=>[0,C/2],E=(U,C)=>[U,C/2];break}const k=_(c,d),F=E(c,d);let O=y(...F);const R=jt._round(a+O[0]),D=jt._round(l+O[1]);let j=1,N=1,L,I;if(e.fromKeyboard)({deltaX:L,deltaY:I}=e);else{const{screenX:U,screenY:C}=e,[J,X]=this.#l;[L,I]=this.screenToPageTranslation(U-J,C-X),this.#l[0]=U,this.#l[1]=C}if([L,I]=S(L/i,I/r),w){const U=Math.hypot(c,d);j=N=Math.max(Math.min(Math.hypot(F[0]-k[0]-L,F[1]-k[1]-I)/U,1/c,1/d),h/c,p/d)}else T?j=Pn(Math.abs(F[0]-k[0]-L),h,1)/c:N=Pn(Math.abs(F[1]-k[1]-I),p,1)/d;const H=jt._round(c*j),q=jt._round(d*N);O=y(...E(H,q));const G=R-O[0],Y=D-O[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=H,this.height=q,this.x=G,this.y=Y,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new pc(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Sr.initialize(jt._l10n),this.#i=new Sr(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Cd(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:i,deleted:r}}=this.#n;return{text:e,richText:t,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Cd(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:i}){if(!e||(this.#n||=new Cd(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Cd(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[a]=this.pageDimensions,[l]=this.pageTranslation,c=l+a+1,d=r-100,h=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,h,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#r?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),$E(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Yc({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#q(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,i){let a=.7*(i/e)+1-.7;if(a===1)return;const l=this.#O(this.rotation),c=(R,D)=>[l[0]*R+l[2]*D,l[1]*R+l[3]*D],[d,h]=this.parentDimensions,p=this.x,m=this.y,y=this.width,b=this.height,S=jt.MIN_SIZE/d,_=jt.MIN_SIZE/h;a=Math.max(Math.min(a,1/y,1/b),S/y,_/b);const E=jt._round(y*a),w=jt._round(b*a);if(E===y&&w===b)return;this.#u||=[p,m,y,b];const T=c(y/2,b/2),k=jt._round(p+T[0]),F=jt._round(m+T[1]),O=c(E/2,w/2);this.x=k-O[0],this.y=F-O[1],this.width=E,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(t){const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#I(t);return}this.#D(t)}#D(t){const{isMac:e}=wn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#I(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r),l={capture:!0,passive:!1,signal:a},c=h=>{r.abort(),this.#s=null,this.#p=!1,this._uiManager.endDragSession()||this.#D(h),i&&this._onStopDragging()};e&&(this.#E=t.clientX,this.#w=t.clientY,this.#s=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",h=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:y}=h;if(y!==this.#s){qe(h);return}const[b,S]=this.screenToPageTranslation(p-this.#E,m-this.#w);this.#E=p,this.#w=m,this._uiManager.dragSelectedEditors(b,S)},l),window.addEventListener("touchmove",qe,l),window.addEventListener("pointerdown",h=>{h.pointerType===this.#o&&(this.#T||h.isPrimary)&&c(h),qe(h)},l));const d=h=>{if(!this.#s||this.#s===h.pointerId){c(h);return}qe(h)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.#b=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const r=this.parentScale,[a,l]=this.pageDimensions,[c,d]=this.pageTranslation,h=t/r,p=e/r,m=this.x*a,y=this.y*l,b=this.width*a,S=this.height*l;switch(i){case 0:return[m+h+c,l-y-p-S+d,m+h+b+c,l-y-p+d];case 90:return[m+p+c,l-y+h+d,m+p+S+c,l-y+h+b+d];case 180:return[m-h-b+c,l-y+p+d,m-h+c,l-y+p+S+d];case 270:return[m-p-S+c,l-y-h-b+d,m-p+c,l-y-h+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,r,a,l]=t,c=a-i,d=l-r;switch(this.rotation){case 0:return[i,e-l,c,d];case 90:return[i,e-r,d,c];case 180:return[a,e-r,c,d];case 270:return[a,e-l,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&jt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:i,opacity:r,deleted:a,richText:l},uid:c,pageIndex:d,creationDate:h,modificationDate:p}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:h,modificationDate:i||p,popupRef:!a,color:e,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:a,innerWidth:l}=window;return e<l&&r>0&&t<a&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,i){const r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[a,l]=r.pageDimensions,[c,d,h,p]=r.getRectInCurrentCoords(t.rect,l);return r.x=c/a,r.y=d/l,r.width=h/a,r.height=p/l,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#b&&(clearTimeout(this.#b),this.#b=null),this.#j(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null,this.#T?.destroy(),this.#T=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#B(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[i,r,a,l]=this.getPDFRect();return[jt._round(i+(a-i)*t),jt._round(r+(l-r)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#X.bind(this),c=this.#G.bind(this),d=this._uiManager._signal;for(const h of this.#e){const p=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",l,{signal:d}),h.addEventListener("blur",c,{signal:d}),h.addEventListener("focus",this.#Y.bind(this,p),{signal:d}),h.setAttribute("data-l10n-id",jt._l10nResizer[p])}}const i=this.#e[0];let r=0;for(const l of e){if(l===i)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(a!==r){if(a<r)for(let c=0;c<r-a;c++)this.#c.append(this.#c.firstChild);else if(a>r)for(let c=0;c<a-r;c++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const c of e){const h=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",jt._l10nResizer[h])}}this.#H(0),this.#v=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#X(t){jt._resizerKeyboardManager.exec(this,t)}#G(t){this.#v&&t.relatedTarget?.parentNode!==this.#c&&this.#j()}#Y(t){this.#g=this.#v?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#P(this.#g,{deltaX:t,deltaY:e,fromKeyboard:!0})}#j(){this.#v=!1,this.#H(-1),this.#F()}_stopResizingWithKeyboard(){this.#j(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(t){this.#m=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#_||=new Map;const{action:i}=t;let r=this.#_.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(i),this.#_.size===0&&(this.#_=null)},jt._telemetryTimeout),this.#_.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}updateFakeAnnotationElement(t){if(!this.#d&&!this.deleted){this.#d=t.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class pI extends jt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dx=3285377520,Bi=4294901760,pr=65535;class qE{constructor(t){this.h1=t?t&4294967295:dx,this.h2=t?t&4294967295:dx}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let _=0,E=t.length;_<E;_++){const w=t.charCodeAt(_);w<=255?e[i++]=w:(e[i++]=w>>>8,e[i++]=w&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,a=i-r*4,l=new Uint32Array(e.buffer,0,r);let c=0,d=0,h=this.h1,p=this.h2;const m=3432918353,y=461845907,b=m&pr,S=y&pr;for(let _=0;_<r;_++)_&1?(c=l[_],c=c*m&Bi|c*b&pr,c=c<<15|c>>>17,c=c*y&Bi|c*S&pr,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(d=l[_],d=d*m&Bi|d*b&pr,d=d<<15|d>>>17,d=d*y&Bi|d*S&pr,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,a){case 3:c^=e[r*4+2]<<16;case 2:c^=e[r*4+1]<<8;case 1:c^=e[r*4],c=c*m&Bi|c*b&pr,c=c<<15|c>>>17,c=c*y&Bi|c*S&pr,r&1?h^=c:p^=c}this.h1=h,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Bi|t*36045&pr,e=e*4283543511&Bi|((e<<16|t>>>16)*2950163797&Bi)>>>16,t^=e>>>1,t=t*444984403&Bi|t*60499&pr,e=e*3301882366&Bi|((e<<16|t>>>16)*3120437893&Bi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Vg=Object.freeze({map:null,hash:"",transfer:void 0});class Ky{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=this.#n.get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof jt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof jt)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[a,l]of Object.entries(e))i[a]!==l&&(r=!0,i[a]=l);else r=!0,this.#n.set(t,e);r&&this.#a(),e instanceof jt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new VE(this)}get serializable(){if(this.#n.size===0)return Vg;const t=new Map,e=new qE,i=[],r=Object.create(null);let a=!1;for(const[l,c]of this.#n){const d=c instanceof jt?c.serialize(!1,r):c;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),a||=!!d.bitmap)}if(a)for(const l of t.values())l.bitmap&&i.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Vg}get editorStats(){let t=null;const e=new Map;let i=0,r=0;for(const a of this.#n.values()){if(!(a instanceof jt)){a.popup&&(a.popup.deleted?r+=1:i+=1);continue}a.isCommentDeleted?r+=1:a.hasEditedComment&&(i+=1);const l=a.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(a).constructor),t||=Object.create(null);const d=t[c]||=new Map;for(const[h,p]of Object.entries(l)){if(h==="type")continue;let m=d.get(h);m||(m=new Map,d.set(h,m));const y=m.get(p)??0;m.set(p,y+1)}}if((r>0||i>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:i}),!t)return null;for(const[a,l]of e)t[a]=l.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class VE extends Ky{#t;constructor(t){super();const{map:e,hash:i,transfer:r}=t.serializable,a=structuredClone(e,r?{transfer:r}:null);this.#t={map:a,hash:i,transfer:r}}get print(){Oe("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Jt(this,"modifiedIds",{ids:new Set,hash:""})}}class mI{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(ue(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:l}=t,c=new FontFace(r,a,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(r),i?.(t)}catch{Yt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Oe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Yt(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Jt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Jt(this,"isSyncFontLoadingSupported",Un||wn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(ue(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:e,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Jt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(F,O){return F.charCodeAt(O)<<24|F.charCodeAt(O+1)<<16|F.charCodeAt(O+2)<<8|F.charCodeAt(O+3)&255}function r(F,O,R,D){const j=F.substring(0,O),N=F.substring(O+R);return j+D+N}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let h=0;function p(F,O){if(++h>30){Yt("Load test font never loaded."),O();return}if(d.font="30px "+F,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(p.bind(null,F,O))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,m.length,m);const S=16,_=1482184792;let E=i(y,S);for(a=0,l=m.length-3;a<l;a+=4)E=E-_+i(m,a)|0;a<m.length&&(E=E-_+i(m+"XXX",a)|0),y=r(y,S,4,nI(E));const w=`url(data:font/opentype;base64,${btoa(y)});`,T=`@font-face {font-family:"${m}";src:${w}}`;this.insertRule(T);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const F of[t.loadedName,m]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=F,k.append(O)}this._document.body.append(k),p(m,()=>{k.remove(),e.complete()})}}class gI{#t;constructor(t,e=null,i,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${jE(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let r;try{r=t.get(i)}catch(l){Yt(`getPathGenerator - ignoring character: "${l}".`)}const a=new Path2D(r||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=a}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function yI(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Un)return n;const t=URL.parse(n,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function bI(n){if(Un&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return qc(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Td(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Gg=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,vI=n=>typeof n=="object"&&typeof n?.name=="string",GE=aI.bind(null,Gg,vI);class _I{#t=new Map;#e=Promise.resolve();postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,e,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:a}=i;if(a.aborted){Yt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);r=()=>a.removeEventListener("abort",l),a.addEventListener("abort",l)}this.#t.set(e,r)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const kd={DATA:1,ERROR:2},un={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function hx(){}function ii(n){if(n instanceof es||n instanceof mh||n instanceof rx||n instanceof Ec||n instanceof Im)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Oe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new es(n.message);case"InvalidPDFException":return new mh(n.message);case"PasswordException":return new rx(n.message,n.code);case"ResponseException":return new Ec(n.message,n.status,n.missing);case"UnknownErrorException":return new Im(n.message,n.details)}return new Im(n.message,n.toString())}class lc{#t=new AbortController;constructor(t,e,i){this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===kd.DATA)r.resolve(t.data);else if(t.callback===kd.ERROR)r.reject(ii(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,a=this.comObj;Promise.try(e,t.data).then(function(l){a.postMessage({sourceName:i,targetName:r,callback:kd.DATA,callbackId:t.callbackId,data:l})},function(l){a.postMessage({sourceName:i,targetName:r,callback:kd.ERROR,callbackId:t.callbackId,reason:ii(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},i)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,i,r){const a=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:h=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:h,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:h.desiredSize},r),p.promise},pull:h=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,d.postMessage({sourceName:l,targetName:c,stream:un.PULL,streamId:a,desiredSize:h.desiredSize}),p.promise},cancel:h=>{ue(h instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:un.CANCEL,streamId:a,reason:ii(h)}),p.promise}},i)}#i(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],d={enqueue(h,p=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:r,stream:un.ENQUEUE,streamId:e,chunk:h},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:un.CLOSE,streamId:e}),delete l.streamSinks[e])},error(h){ue(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:un.ERROR,streamId:e,reason:ii(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,Promise.try(c,t.data,d).then(function(){a.postMessage({sourceName:i,targetName:r,stream:un.START_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:i,targetName:r,stream:un.START_COMPLETE,streamId:e,reason:ii(h)})})}#n(t){const e=t.streamId,i=this.sourceName,r=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case un.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(ii(t.reason));break;case un.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(ii(t.reason));break;case un.PULL:if(!c){a.postMessage({sourceName:i,targetName:r,stream:un.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||hx).then(function(){a.postMessage({sourceName:i,targetName:r,stream:un.PULL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:i,targetName:r,stream:un.PULL_COMPLETE,streamId:e,reason:ii(h)})});break;case un.ENQUEUE:if(ue(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case un.CLOSE:if(ue(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case un.ERROR:ue(l,"error should have stream controller"),l.controller.error(ii(t.reason)),this.#a(l,e);break;case un.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(ii(t.reason)),this.#a(l,e);break;case un.CANCEL:if(!c)break;const d=ii(t.reason);Promise.try(c.onCancel||hx,d).then(function(){a.postMessage({sourceName:i,targetName:r,stream:un.CANCEL_COMPLETE,streamId:e,success:!0})},function(h){a.postMessage({sourceName:i,targetName:r,stream:un.CANCEL_COMPLETE,streamId:e,reason:ii(h)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class XE{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Oe("Abstract method `_createCanvas` called.")}}class SI extends XE{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class YE{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Oe("Abstract method `_fetch` called.")}}class fx extends YE{async _fetch(t){const e=await Yo(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):qc(e)}}class WE{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,r,a){return"none"}destroy(t=!1){}}class xI extends WE{#t;#e;#i;#n;#a;#r;#s=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#r||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const i=this.#a.createElementNS(Gr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#a.createElementNS(Gr,"defs"),t.append(i),i.append(this.#i),this.#a.body.append(t)}return this.#i}#h(t){if(t.length===1){const d=t[0],h=new Array(256);for(let m=0;m<256;m++)h[m]=d[m]/255;const p=h.join(",");return[p,p,p]}const[e,i,r]=t,a=new Array(256),l=new Array(256),c=new Array(256);for(let d=0;d<256;d++)a[d]=e[d]/255,l[d]=i[d]/255,c[d]=r[d]/255;return[a.join(","),l.join(","),c.join(",")]}#d(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Gc(e)?Yt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=$y(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[i,r,a]=this.#h(t),l=t.length===1?i:`${i}${r}${a}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const c=`g_${this.#n}_transfer_map_${this.#s++}`,d=this.#d(c);this.#o.set(t,d),this.#o.set(l,d);const h=this.#p(c);return this.#m(i,r,a,h),d}addHCMFilter(t,e){const i=`${t}-${e}`,r="base";let a=this.#c.get(r);if(a?.key===i||(a?(a.filter?.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},this.#c.set(r,a)),!t||!e))return a.url;const l=this.#v(t);t=kt.makeHexColor(...l);const c=this.#v(e);if(e=kt.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const d=new Array(256);for(let b=0;b<=255;b++){const S=b/255;d[b]=S<=.03928?S/12.92:((S+.055)/1.055)**2.4}const h=d.join(","),p=`g_${this.#n}_hcm_filter`,m=a.filter=this.#p(p);this.#m(h,h,h,m),this.#g(m);const y=(b,S)=>{const _=l[b]/255,E=c[b]/255,w=new Array(S+1);for(let T=0;T<=S;T++)w[T]=_+T/S*(E-_);return w.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),m),a.url=this.#d(p),a.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[i]=this.#h([t]),r=`alpha_${i}`;if(e=this.#o.get(r),e)return this.#o.set(t,e),e;const a=`g_${this.#n}_alpha_map_${this.#s++}`,l=this.#d(a);this.#o.set(t,l),this.#o.set(r,l);const c=this.#p(a);return this.#y(i,c),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let i,r;if(t?([i]=this.#h([t]),r=`luminosity_${i}`):r="luminosity",e=this.#o.get(r),e)return this.#o.set(t,e),e;const a=`g_${this.#n}_luminosity_map_${this.#s++}`,l=this.#d(a);this.#o.set(t,l),this.#o.set(r,l);const c=this.#p(a);return this.#f(c),t&&this.#y(i,c),l}addHighlightHCMFilter(t,e,i,r,a){const l=`${e}-${i}-${r}-${a}`;let c=this.#c.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(t,c)),!e||!i))return c.url;const[d,h]=[e,i].map(this.#v.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[y,b]=[r,a].map(this.#v.bind(this));m<p&&([p,m,y,b]=[m,p,b,y]),this.#l.style.color="";const S=(w,T,k)=>{const F=new Array(256),O=(m-p)/k,R=w/255,D=(T-w)/(255*k);let j=0;for(let N=0;N<=k;N++){const L=Math.round(p+N*O),I=R+N*D;for(let H=j;H<=L;H++)F[H]=I;j=L+1}for(let N=j;N<256;N++)F[N]=F[j-1];return F.join(",")},_=`g_${this.#n}_hcm_${t}_filter`,E=c.filter=this.#p(_);return this.#g(E),this.#m(S(y[0],b[0],5),S(y[1],b[1],5),S(y[2],b[2],5),E),c.url=this.#d(_),c.url}destroy(t=!1){t&&this.#r?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#r?.clear(),this.#r=null,this.#s=0)}#f(t){const e=this.#a.createElementNS(Gr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(Gr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(Gr,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,i){const r=this.#a.createElementNS(Gr,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#m(t,e,i,r){const a=this.#a.createElementNS(Gr,"feComponentTransfer");r.append(a),this.#u(a,"feFuncR",t),this.#u(a,"feFuncG",e),this.#u(a,"feFuncB",i)}#y(t,e){const i=this.#a.createElementNS(Gr,"feComponentTransfer");e.append(i),this.#u(i,"feFuncA",t)}#v(t){return this.#l.style.color=t,Wo(getComputedStyle(this.#l).getPropertyValue("color"))}}class KE{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Oe("Abstract method `_fetch` called.")}}class px extends KE{async _fetch(t){const e=await Yo(t,"arraybuffer");return new Uint8Array(e)}}class ZE{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Oe("Abstract method `_fetch` called.")}}class mx extends ZE{async _fetch(t){const e=await Yo(t,"arraybuffer");return new Uint8Array(e)}}Un&&Yt("Please use the `legacy` build in Node.js environments.");async function Zy(n){const e=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(e)}class wI extends WE{}class AI extends XE{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class EI extends YE{async _fetch(t){return Zy(t)}}class CI extends KE{async _fetch(t){return Zy(t)}}class TI extends ZE{async _fetch(t){return Zy(t)}}const po="__forcedDependency",{floor:gx,ceil:yx}=Math;function Od(n,t,e,i,r,a){n[t*4+0]=Math.min(n[t*4+0],e),n[t*4+1]=Math.min(n[t*4+1],i),n[t*4+2]=Math.max(n[t*4+2],r),n[t*4+3]=Math.max(n[t*4+3],a)}const Xg=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class kI{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Xg}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Rd=(n,t)=>{if(!n)return;let e=n.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},n.set(t,e)),e};class OI{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[po]:[]};#i=new Map;#n=[];#a=[];#r=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#p;#u;#m;constructor(t,e,i=!1){this.#f=t.width,this.#g=t.height,this.#y(e),i&&(this.#m=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const i=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),e&&e.length>0?(this.#u.set(e),this.#u.fill(Xg,e.length)):this.#u.fill(Xg)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[po]:{__proto__:this.#e[po]}},this.#s={__proto__:this.#s},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#s=Object.getPrototypeOf(this.#s);const i=this.#n.pop();return i!==void 0&&(Rd(this.#m,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Rd(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(Rd(this.#m,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#r.push(kt.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,i){this.#t[t]=this.#i.get(e)??i}recordFutureForcedDependency(t,e){return this.recordIncrementalData(po,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(po,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,i,r,a,l){const c=kt.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform()),d=[1/0,1/0,-1/0,-1/0];kt.axialAlignedBoundingBox([i,a,r,l],c,d);const h=kt.intersect(this.#s,d);return h?(this.#s[0]=h[0],this.#s[1]=h[1],this.#s[2]=h[2],this.#s[3]=h[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(t,e,i,r,a,l){const c=this.#s;if(c[0]===1/0)return this;const d=kt.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform());if(c[0]===-1/0)return kt.axialAlignedBoundingBox([i,a,r,l],d,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return kt.axialAlignedBoundingBox([i,a,r,l],d,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],c[3])),this}recordCharacterBBox(t,e,i,r=1,a=0,l=0,c){const d=i.bbox;let h,p;if(d&&(h=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(i),h!==!1&&(p=[0,0,0,0],kt.axialAlignedBoundingBox(d,i.fontMatrix,p),(r!==1||a!==0||l!==0)&&kt.scaleMinMax([r,0,0,-r,a,l],p),h)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(t);const m=c();return d&&p&&h===void 0&&(h=p[0]<=a-m.actualBoundingBoxLeft&&p[2]>=a+m.actualBoundingBoxRight&&p[1]<=l-m.actualBoundingBoxAscent&&p[3]>=l+m.actualBoundingBoxDescent,this.#d.set(i,h),h)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,a-m.actualBoundingBoxLeft,a+m.actualBoundingBoxRight,l-m.actualBoundingBoxAscent,l+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#f,this.#s[2]),this.#o[3]=Math.min(this.#g,this.#s[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const i=this.#l,r=this.#t,a=this.#e;for(const l of e)l in this.#t?i.add(r[l]):l in a&&a[l].forEach(i.add,i);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[po]),this.#m){const i=Rd(this.#m,t),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=gx(this.#o[0]*256/this.#f),r=gx(this.#o[1]*256/this.#g),a=yx(this.#o[2]*256/this.#f),l=yx(this.#o[3]*256/this.#g);Od(this.#p,t,i,r,a,l);for(const c of this.#l)c!==t&&Od(this.#p,c,i,r,a,l);for(const c of this.#n)c!==t&&Od(this.#p,c,i,r,a,l);for(const c of this.#a)c!==t&&Od(this.#p,c,i,r,a,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const i=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#h.get(t);return this.#h.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#d.clear(),new kI(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class bh{#t;#e;#i;#n=0;#a=0;constructor(t,e,i){if(t instanceof bh&&t.#i===!!i)return t;this.#t=t,this.#e=e,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,i){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,i,r,a,l){return this.#i||this.#t.recordClipBox(this.#e,e,i,r,a,l),this}recordBBox(t,e,i,r,a,l){return this.#i||this.#t.recordBBox(this.#e,e,i,r,a,l),this}recordCharacterBBox(t,e,i,r,a,l,c){return this.#i||this.#t.recordCharacterBBox(this.#e,e,i,r,a,l,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Fi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Nn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Yg(n,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],e,i),n.clip(r)}class Qy{isModifyingCurrentTransform(){return!1}getPattern(){Oe("Abstract method `getPattern` called.")}}class RI extends Qy{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,r){let a;if(r===Nn.STROKE||r===Nn.FILL){const l=e.current.getClippedPathBoundingBox(r,$e(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,h=e.cachedCanvases.getCanvas("pattern",c,d),p=h.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),i=kt.transform(i,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Yg(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=t.createPattern(h.canvas,"no-repeat");const m=new DOMMatrix(i);a.setTransform(m)}else Yg(t,this._bbox),a=this._createGradient(t);return a}}function Hm(n,t,e,i,r,a,l,c){const d=t.coords,h=t.colors,p=n.data,m=n.width*4;let y;d[e+1]>d[i+1]&&(y=e,e=i,i=y,y=a,a=l,l=y),d[i+1]>d[r+1]&&(y=i,i=r,r=y,y=l,l=c,c=y),d[e+1]>d[i+1]&&(y=e,e=i,i=y,y=a,a=l,l=y);const b=(d[e]+t.offsetX)*t.scaleX,S=(d[e+1]+t.offsetY)*t.scaleY,_=(d[i]+t.offsetX)*t.scaleX,E=(d[i+1]+t.offsetY)*t.scaleY,w=(d[r]+t.offsetX)*t.scaleX,T=(d[r+1]+t.offsetY)*t.scaleY;if(S>=T)return;const k=h[a],F=h[a+1],O=h[a+2],R=h[l],D=h[l+1],j=h[l+2],N=h[c],L=h[c+1],I=h[c+2],H=Math.round(S),q=Math.round(T);let G,Y,U,C,J,X,A,P;for(let V=H;V<=q;V++){if(V<E){const ct=V<S?0:(S-V)/(S-E);G=b-(b-_)*ct,Y=k-(k-R)*ct,U=F-(F-D)*ct,C=O-(O-j)*ct}else{let ct;V>T?ct=1:E===T?ct=0:ct=(E-V)/(E-T),G=_-(_-w)*ct,Y=R-(R-N)*ct,U=D-(D-L)*ct,C=j-(j-I)*ct}let B;V<S?B=0:V>T?B=1:B=(S-V)/(S-T),J=b-(b-w)*B,X=k-(k-N)*B,A=F-(F-L)*B,P=O-(O-I)*B;const Q=Math.round(Math.min(G,J)),ot=Math.round(Math.max(G,J));let st=m*V+Q*4;for(let ct=Q;ct<=ot;ct++)B=(G-ct)/(G-J),B<0?B=0:B>1&&(B=1),p[st++]=Y-(Y-X)*B|0,p[st++]=U-(U-A)*B|0,p[st++]=C-(C-P)*B|0,p[st++]=255}}function MI(n,t,e){const i=t.coords,r=t.colors;let a,l;switch(t.type){case"lattice":const c=t.verticesPerRow,d=Math.floor(i.length/c)-1,h=c-1;for(a=0;a<d;a++){let p=a*c;for(let m=0;m<h;m++,p++)Hm(n,e,i[p],i[p+1],i[p+c],r[p],r[p+1],r[p+c]),Hm(n,e,i[p+c+1],i[p+1],i[p+c],r[p+c+1],r[p+1],r[p+c])}break;case"triangles":for(a=0,l=i.length;a<l;a+=3)Hm(n,e,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class NI extends Qy{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(h*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=h/m,S=p/y,_={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/b,scaleY:1/S},E=m+4,w=y+4,T=i.getCanvas("mesh",E,w),k=T.context,F=k.createImageData(m,y);if(e){const R=F.data;for(let D=0,j=R.length;D<j;D+=4)R[D]=e[0],R[D+1]=e[1],R[D+2]=e[2],R[D+3]=255}for(const R of this._figures)MI(F,R,_);return k.putImageData(F,2,2),{canvas:T.canvas,offsetX:c-2*b,offsetY:d-2*S,scaleX:b,scaleY:S}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,r){Yg(t,this._bbox);const a=new Float32Array(2);if(r===Nn.SHADING)kt.singularValueDecompose2dScale($e(t),a);else if(this.matrix){kt.singularValueDecompose2dScale(this.matrix,a);const[c,d]=a;kt.singularValueDecompose2dScale(e.baseTransform,a),a[0]*=c,a[1]*=d}else kt.singularValueDecompose2dScale(e.baseTransform,a);const l=this._createMeshCanvas(a,r===Nn.SHADING?null:this._background,e.cachedCanvases);return r!==Nn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class DI extends Qy{getPattern(){return"hotpink"}}function LI(n){switch(n[0]){case"RadialAxial":return new RI(n);case"Mesh":return new NI(n);case"Dummy":return new DI}throw new Error(`Unknown IR type: ${n[0]}`)}const bx={COLORED:1,UNCOLORED:2};class Jy{static MAX_PATTERN_SIZE=3e3;constructor(t,e,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t,e){const{bbox:i,operatorList:r,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),qh("TilingType: "+l);const m=i[0],y=i[1],b=i[2],S=i[3],_=b-m,E=S-y,w=new Float32Array(2);kt.singularValueDecompose2dScale(this.matrix,w);const[T,k]=w;kt.singularValueDecompose2dScale(this.baseTransform,w);const F=T*w[0],O=k*w[1];let R=_,D=E,j=!1,N=!1;const L=Math.ceil(h*F),I=Math.ceil(p*O),H=Math.ceil(_*F),q=Math.ceil(E*O);L>=H?R=h:j=!0,I>=q?D=p:N=!0;const G=this.getSizeAndScale(R,this.ctx.canvas.width,F),Y=this.getSizeAndScale(D,this.ctx.canvas.height,O),U=t.cachedCanvases.getCanvas("pattern",G.size,Y.size),C=U.context,J=d.createCanvasGraphics(C,e);if(J.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(J,a,c),C.translate(-G.scale*m,-Y.scale*y),J.transform(0,G.scale,0,0,Y.scale,0,0),C.save(),J.dependencyTracker?.save(),this.clipBbox(J,m,y,b,S),J.baseTransform=$e(J.ctx),J.executeOperatorList(r),J.endDrawing(),J.dependencyTracker?.restore(),C.restore(),j||N){const X=U.canvas;j&&(R=h),N&&(D=p);const A=this.getSizeAndScale(R,this.ctx.canvas.width,F),P=this.getSizeAndScale(D,this.ctx.canvas.height,O),V=A.size,B=P.size,Q=t.cachedCanvases.getCanvas("pattern-workaround",V,B),ot=Q.context,st=j?Math.floor(_/h):0,ct=N?Math.floor(E/p):0;for(let wt=0;wt<=st;wt++)for(let _t=0;_t<=ct;_t++)ot.drawImage(X,V*wt,B*_t,V,B,0,0,V,B);return{canvas:Q.canvas,scaleX:A.scale,scaleY:P.scale,offsetX:m,offsetY:y}}return{canvas:U.canvas,scaleX:G.scale,scaleY:Y.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,e,i){const r=Math.max(Jy.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*i);return a>=r?a=r:i=a/t,{scale:i,size:a}}clipBbox(t,e,i,r,a){const l=r-e,c=a-i;t.ctx.rect(e,i,l,c),kt.axialAlignedBoundingBox([e,i,r,a],$e(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const r=t.ctx,a=t.current;switch(e){case bx.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;r.fillStyle=a.fillColor=l,r.strokeStyle=a.strokeColor=c;break;case bx.UNCOLORED:r.fillStyle=r.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new eI(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,r,a){let l=i;r!==Nn.SHADING&&(l=kt.transform(l,e.baseTransform),this.matrix&&(l=kt.transform(l,this.matrix)));const c=this.createPatternCanvas(e,a);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const h=t.createPattern(c.canvas,"repeat");return h.setTransform(d),h}}function PI({src:n,srcPos:t=0,dest:e,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=wn.isLittleEndian?4278190080:255,[d,h]=l?[a,c]:[c,a],p=i>>3,m=i&7,y=n.length;e=new Uint32Array(e.buffer);let b=0;for(let S=0;S<r;S++){for(const E=t+p;t<E;t++){const w=t<y?n[t]:255;e[b++]=w&128?h:d,e[b++]=w&64?h:d,e[b++]=w&32?h:d,e[b++]=w&16?h:d,e[b++]=w&8?h:d,e[b++]=w&4?h:d,e[b++]=w&2?h:d,e[b++]=w&1?h:d}if(m===0)continue;const _=t<y?n[t++]:255;for(let E=0;E<m;E++)e[b++]=_&1<<7-E?h:d}return{srcPos:t,destPos:b}}const vx=16,_x=100,jI=15,Sx=10,ri=16,$m=new DOMMatrix,_i=new Float32Array(2),wo=new Float32Array([1/0,1/0,-1/0,-1/0]);function BI(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},n.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},n.transform=function(e,i,r,a,l,c){t.transform(e,i,r,a,l,c),this.__originalTransform(e,i,r,a,l,c)},n.setTransform=function(e,i,r,a,l,c){t.setTransform(e,i,r,a,l,c),this.__originalSetTransform(e,i,r,a,l,c)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){t.rotate(e),this.__originalRotate(e)},n.clip=function(e){t.clip(e),this.__originalClip(e)},n.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},n.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},n.bezierCurveTo=function(e,i,r,a,l,c){t.bezierCurveTo(e,i,r,a,l,c),this.__originalBezierCurveTo(e,i,r,a,l,c)},n.rect=function(e,i,r,a){t.rect(e,i,r,a),this.__originalRect(e,i,r,a)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class FI{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,e,i)):(r=this.canvasFactory.create(e,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Md(n,t,e,i,r,a,l,c,d,h){const[p,m,y,b,S,_]=$e(n);if(m===0&&y===0){const T=l*p+S,k=Math.round(T),F=c*b+_,O=Math.round(F),R=(l+d)*p+S,D=Math.abs(Math.round(R)-k)||1,j=(c+h)*b+_,N=Math.abs(Math.round(j)-O)||1;return n.setTransform(Math.sign(p),0,0,Math.sign(b),k,O),n.drawImage(t,e,i,r,a,0,0,D,N),n.setTransform(p,m,y,b,S,_),[D,N]}if(p===0&&b===0){const T=c*y+S,k=Math.round(T),F=l*m+_,O=Math.round(F),R=(c+h)*y+S,D=Math.abs(Math.round(R)-k)||1,j=(l+d)*m+_,N=Math.abs(Math.round(j)-O)||1;return n.setTransform(0,Math.sign(m),Math.sign(y),0,k,O),n.drawImage(t,e,i,r,a,0,0,N,D),n.setTransform(p,m,y,b,S,_),[N,D]}n.drawImage(t,e,i,r,a,l,c,d,h);const E=Math.hypot(p,m),w=Math.hypot(y,b);return[E*d,w*h]}class xx{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=$g;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Rn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,i){i?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=wo.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Nn.FILL,e=null){const i=this.minMax.slice();if(t===Nn.STROKE){e||Oe("Stroke bounding box must include transform."),kt.singularValueDecompose2dScale(e,_i);const r=_i[0]*this.lineWidth/2,a=_i[1]*this.lineWidth/2;i[0]-=r,i[1]-=a,i[2]+=r,i[3]+=a}return i}updateClipFromPath(){const t=kt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(wo,0)}getClippedPathBoundingBox(t=Nn.FILL,e=null){return kt.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function wx(n,t){if(t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,i=t.width,r=e%ri,a=(e-r)/ri,l=r===0?a:a+1,c=n.createImageData(i,ri);let d=0,h;const p=t.data,m=c.data;let y,b,S,_;if(t.kind===fc.GRAYSCALE_1BPP){const E=p.byteLength,w=new Uint32Array(m.buffer,0,m.byteLength>>2),T=w.length,k=i+7>>3,F=4294967295,O=wn.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(S=y<a?ri:r,h=0,b=0;b<S;b++){const R=E-d;let D=0;const j=R>k?i:R*8-7,N=j&-8;let L=0,I=0;for(;D<N;D+=8)I=p[d++],w[h++]=I&128?F:O,w[h++]=I&64?F:O,w[h++]=I&32?F:O,w[h++]=I&16?F:O,w[h++]=I&8?F:O,w[h++]=I&4?F:O,w[h++]=I&2?F:O,w[h++]=I&1?F:O;for(;D<j;D++)L===0&&(I=p[d++],L=128),w[h++]=I&L?F:O,L>>=1}for(;h<T;)w[h++]=0;n.putImageData(c,0,y*ri)}}else if(t.kind===fc.RGBA_32BPP){for(b=0,_=i*ri*4,y=0;y<a;y++)m.set(p.subarray(d,d+_)),d+=_,n.putImageData(c,0,b),b+=ri;y<l&&(_=i*r*4,m.set(p.subarray(d,d+_)),n.putImageData(c,0,b))}else if(t.kind===fc.RGB_24BPP)for(S=ri,_=i*S,y=0;y<l;y++){for(y>=a&&(S=r,_=i*S),h=0,b=_;b--;)m[h++]=p[d++],m[h++]=p[d++],m[h++]=p[d++],m[h++]=255;n.putImageData(c,0,y*ri)}else throw new Error(`bad image kind: ${t.kind}`)}function Ax(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,r=e%ri,a=(e-r)/ri,l=r===0?a:a+1,c=n.createImageData(i,ri);let d=0;const h=t.data,p=c.data;for(let m=0;m<l;m++){const y=m<a?ri:r;({srcPos:d}=PI({src:h,srcPos:d,dest:p,width:i,height:y,nonBlackColor:0})),n.putImageData(c,0,m*ri)}}function Yl(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)n[i]!==void 0&&(t[i]=n[i]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function Nd(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}function Ex(n,t){if(t)return!0;kt.singularValueDecompose2dScale(n,_i);const e=Math.fround(Ji.pixelRatio*_a.PDF_TO_CSS_UNITS);return _i[0]<=e&&_i[1]<=e}const II=["butt","round","square"],zI=["miter","round","bevel"],UI={},Cx={};class Eo{constructor(t,e,i,r,a,{optionalContentConfig:l,markedContentStack:c=null},d,h,p){this.ctx=t,this.current=new xx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new FI(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,i=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):i}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:r=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,i){const d=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...$e(this.compositeCtx))}this.ctx.save(),Nd(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=$e(this.ctx)}executeOperatorList(t,e,i,r,a){const l=t.argsArray,c=t.fnArray;let d=e||0;const h=l.length;if(h===d)return d;const p=h-d>Sx&&typeof i=="function",m=p?Date.now()+jI:0;let y=0;const b=this.commonObjs,S=this.objs;let _,E;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!a||a(d))if(_=c[d],E=l[d]??null,_!==Bo.dependency)E===null?this[_](d):this[_](d,...E);else for(const w of E){this.dependencyTracker?.recordNamedData(w,d);const T=w.startsWith("g_")?b:S;if(!T.has(w))return T.get(w,i),d}if(d++,d===h)return d;if(p&&++y>Sx){if(Date.now()>m)return i(),d;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=i,d=r,h="prescale1",p,m;for(;a>2&&c>1||l>2&&d>1;){let y=c,b=d;a>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/y),l>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/b),p=this.cachedCanvases.getCanvas(h,y,b),m=p.context,m.clearRect(0,0,y,b),m.drawImage(t,0,0,c,d,0,0,y,b),t=p.canvas,c=y,d=b,h=h==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:d}}_createMaskCanvas(t,e){const i=this.ctx,{width:r,height:a}=e,l=this.current.fillColor,c=this.current.patternFill,d=$e(i);let h,p,m,y;if((e.bitmap||e.data)&&e.count>1){const L=e.bitmap||e.data.buffer;p=JSON.stringify(c?d:[d.slice(0,4),l]),h=this._cachedBitmapsMap.get(L),h||(h=new Map,this._cachedBitmapsMap.set(L,h));const I=h.get(p);if(I&&!c){const H=Math.round(Math.min(d[0],d[2])+d[4]),q=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Fi.transformAndFill),{canvas:I,offsetX:H,offsetY:q}}m=I}m||(y=this.cachedCanvases.getCanvas("maskCanvas",r,a),Ax(y.context,e));let b=kt.transform(d,[1/r,0,0,-1/a,0,0]);b=kt.transform(b,[1,0,0,1,0,-a]);const S=wo.slice();kt.axialAlignedBoundingBox([0,0,r,a],b,S);const[_,E,w,T]=S,k=Math.round(w-_)||1,F=Math.round(T-E)||1,O=this.cachedCanvases.getCanvas("fillCanvas",k,F),R=O.context,D=_,j=E;R.translate(-D,-j),R.transform(...b),m||(m=this._scaleImage(y.canvas,fr(R)),m=m.img,h&&c&&h.set(p,m)),R.imageSmoothingEnabled=Ex($e(R),e.interpolate),Md(R,m,0,0,m.width,m.height,0,0,r,a),R.globalCompositeOperation="source-in";const N=kt.transform(fr(R),[1,0,0,1,-D,-j]);return R.fillStyle=c?l.getPattern(i,this,N,Nn.FILL,t):l,R.fillRect(0,0,r,a),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,O.canvas)),this.dependencyTracker?.recordDependencies(t,Fi.transformAndFill),{canvas:O.canvas,offsetX:Math.round(D),offsetY:Math.round(j)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=II[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=zI[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,i){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=i)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[i,r]of e)switch(i){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,e,i);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),Yl(this.suspendedCtx,l),BI(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Yl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,r){const a=r[0],l=r[1],c=r[2]-a,d=r[3]-l;c===0||d===0||(this.genericComposeSMask(e.context,i,c,d,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,r,a,l,c,d,h,p,m){let y=t.canvas,b=d-p,S=h-m;if(l)if(b<0||S<0||b+i>y.width||S+r>y.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),w=E.context;w.drawImage(y,-b,-S),w.globalCompositeOperation="destination-atop",w.fillStyle=l,w.fillRect(0,0,i,r),w.globalCompositeOperation="source-over",y=E.canvas,b=S=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(b,S,i,r),t.clip(E),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(b,S,i,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const _=new Path2D;_.rect(d,h,i,r),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(y,b,S,i,r,d,h,i,r),e.restore()}save(t){this.inSMaskMode&&Yl(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Yl(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,r,a,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,i,r,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i,r){let[a]=i;if(!r){a||=i[0]=new Path2D,this[e](t,a);return}if(this.dependencyTracker!==null){const l=e===Bo.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-l,r[2]+l,r[1]-l,r[3]+l).recordDependencies(t,["transform"])}if(!(a instanceof Path2D)){const l=i[0]=new Path2D;for(let c=0,d=a.length;c<d;)switch(a[c++]){case Ed.moveTo:l.moveTo(a[c++],a[c++]);break;case Ed.lineTo:l.lineTo(a[c++],a[c++]);break;case Ed.curveTo:l.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);break;case Ed.closePath:l.closePath();break;default:Yt(`Unrecognized drawing path operator: ${a[c-1]}`);break}a=l}kt.axialAlignedBoundingBox(r,$e(this.ctx),this.current.minMax),this[e](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,i=!0){const r=this.ctx,a=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=a.getPattern(r,this,fr(r),Nn.STROKE,t),l){const c=new Path2D;c.addPath(e,r.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Fi.stroke),i&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Nn.STROKE,$e(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,i=!0){const r=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const h=a.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=a.getPattern(r,this,fr(r),Nn.FILL,t),h){const p=new Path2D;p.addPath(e,r.getTransform().invertSelf().multiplySelf(h)),e=p}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),this.dependencyTracker?.recordDependencies(t,Fi.fill),c&&(r.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,e,d)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Fi.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=UI}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Cx}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;e!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(e!==void 0){const r=new Path2D,a=i.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:h,path:p}of e)p&&r.addPath(p,new DOMMatrix(l).preMultiplySelf(a).translate(c,d).scale(h,-h));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const r=this.commonObjs.get(e),a=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=r.fontMatrix||$g,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Yt("Invalid font matrix for font "+e),i<0?(i=-i,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const l=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${l}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const h=r.italic?"italic":"normal";let p=i;i<vx?p=vx:i>_x&&(p=_x),this.current.fontSizeScale=i/p,this.ctx.font=`${h} ${d} ${p}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,e,i){this.setLeading(t,-i),this.moveText(t,e,i)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=e,i.textMatrixScale=Math.hypot(e[0],e[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),r}paintChar(t,e,i,r,a,l){const c=this.ctx,d=this.current,h=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,y=p&Rn.FILL_STROKE_MASK,b=!!(p&Rn.ADD_TO_PATH_FLAG),S=d.patternFill&&!h.missingFile,_=d.patternStroke&&!h.missingFile;let E;if((h.disableFontFace||b||S||_)&&!h.missingFile&&(E=h.getPathGenerator(this.commonObjs,e)),E&&(h.disableFontFace||S||_)){c.save(),c.translate(i,r),c.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,c,h);let w;if(y===Rn.FILL||y===Rn.FILL_STROKE)if(a){w=c.getTransform(),c.setTransform(...a);const T=this.#i(E,w,a);c.fill(T)}else c.fill(E);if(y===Rn.STROKE||y===Rn.FILL_STROKE)if(l){w||=c.getTransform(),c.setTransform(...l);const{a:T,b:k,c:F,d:O}=w,R=kt.inverseTransform(l),D=kt.transform([T,k,F,O,0,0],R);kt.singularValueDecompose2dScale(D,_i),c.lineWidth*=Math.max(_i[0],_i[1])/m,c.stroke(this.#i(E,w,l))}else c.lineWidth/=m,c.stroke(E);c.restore()}else(y===Rn.FILL||y===Rn.FILL_STROKE)&&(c.fillText(e,i,r),this.dependencyTracker?.recordCharacterBBox(t,c,h,m,i,r,()=>c.measureText(e))),(y===Rn.STROKE||y===Rn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,h,m,i,r,()=>c.measureText(e)).recordDependencies(t,Fi.stroke),c.strokeText(e,i,r));b&&((this.pendingTextPaths||=[]).push({transform:$e(c),x:i,y:r,fontSize:m,path:E}),this.dependencyTracker?.recordCharacterBBox(t,c,h,m,i,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){i=!0;break}return Jt(this,"isFontSubpixelAAEnabled",i)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Fi.showText).resetBBox(t),this.current.textRenderingMode&Rn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const a=i.fontSize;if(a===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=i.fontSizeScale,d=i.charSpacing,h=i.wordSpacing,p=i.fontDirection,m=i.textHScale*p,y=e.length,b=r.vertical,S=b?1:-1,_=r.defaultVMetrics,E=a*i.fontMatrix[0],w=i.textRenderingMode===Rn.FILL&&!r.disableFontFace&&!i.patternFill;l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),p>0?l.scale(m,-1):l.scale(m,1);let T,k;if(i.patternFill){l.save();const j=i.fillColor.getPattern(l,this,fr(l),Nn.FILL,t);T=$e(l),l.restore(),l.fillStyle=j}if(i.patternStroke){l.save();const j=i.strokeColor.getPattern(l,this,fr(l),Nn.STROKE,t);k=$e(l),l.restore(),l.strokeStyle=j}let F=i.lineWidth;const O=i.textMatrixScale;if(O===0||F===0){const j=i.textRenderingMode&Rn.FILL_STROKE_MASK;(j===Rn.STROKE||j===Rn.FILL_STROKE)&&(F=this.getSinglePixelWidth())}else F/=O;if(c!==1&&(l.scale(c,c),F/=c),l.lineWidth=F,r.isInvalidPDFjsFont){const j=[];let N=0;for(const I of e)j.push(I.unicode),N+=I.width;const L=j.join("");if(l.fillText(L,0,0),this.dependencyTracker!==null){const I=l.measureText(L);this.dependencyTracker.recordBBox(t,this.ctx,-I.actualBoundingBoxLeft,I.actualBoundingBoxRight,-I.actualBoundingBoxAscent,I.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=N*E*m,l.restore(),this.compose();return}let R=0,D;for(D=0;D<y;++D){const j=e[D];if(typeof j=="number"){R+=S*j*a/1e3;continue}let N=!1;const L=(j.isSpace?h:0)+d,I=j.fontChar,H=j.accent;let q,G,Y=j.width;if(b){const J=j.vmetric||_,X=-(j.vmetric?J[1]:Y*.5)*E,A=J[2]*E;Y=J?-J[0]:Y,q=X/c,G=(R+A)/c}else q=R/c,G=0;let U;if(r.remeasure&&Y>0){U=l.measureText(I);const J=U.width*1e3/a*c;if(Y<J&&this.isFontSubpixelAAEnabled){const X=Y/J;N=!0,l.save(),l.scale(X,1),q/=X}else Y!==J&&(q+=(Y-J)/2e3*a/c)}if(this.contentVisible&&(j.isInFont||r.missingFile)){if(w&&!H)l.fillText(I,q,G),this.dependencyTracker?.recordCharacterBBox(t,l,U?{bbox:null}:r,a/c,q,G,()=>U??l.measureText(I));else if(this.paintChar(t,I,q,G,T,k),H){const J=q+a*H.offset.x/c,X=G-a*H.offset.y/c;this.paintChar(t,H.fontChar,J,X,T,k)}}const C=b?Y*E-L*p:Y*E+L*p;R+=C,N&&l.restore()}b?i.y-=R:i.x+=R*m,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const i=this.ctx,r=this.current,a=r.font,l=r.fontSize,c=r.fontDirection,d=a.vertical?1:-1,h=r.charSpacing,p=r.wordSpacing,m=r.textHScale*c,y=r.fontMatrix||$g,b=e.length,S=r.textRenderingMode===Rn.INVISIBLE;let _,E,w,T;if(S||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(m,c);const k=this.dependencyTracker;for(this.dependencyTracker=k?new bh(k,t):null,_=0;_<b;++_){if(E=e[_],typeof E=="number"){T=d*E*l/1e3,this.ctx.translate(T,0),r.x+=T*m;continue}const F=(E.isSpace?p:0)+h,O=a.charProcOperatorList[E.operatorListId];O?this.contentVisible&&(this.save(),i.scale(l,l),i.transform(...y),this.executeOperatorList(O),this.restore()):Yt(`Type3 character "${E.operatorListId}" is not available.`);const R=[E.width,0];kt.applyTransform(R,y),w=R[0]*l+F,i.translate(w,0),r.x+=w*m}i.restore(),k&&(this.dependencyTracker=k)}setCharWidth(t,e,i){}setCharWidthAndBounds(t,e,i,r,a,l,c){const d=new Path2D;d.rect(r,a,l-r,c-a),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,l,a,c).recordClipBox(t,this.ctx,r,l,a,c),this.endPath(t)}getColorN_Pattern(t,e){let i;if(e[0]==="TilingPattern"){const r=this.baseTransform||$e(this.ctx),a={createCanvasGraphics:(l,c)=>new Eo(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new bh(this.dependencyTracker,c,!0):null)};i=new Jy(e,this.ctx,a,r)}else i=this._getPattern(t,e[1],e[2]);return i}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,i=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=LI(this.getObject(t,e)),this.cachedPatterns.set(e,r)),i&&(r.matrix=i),r}shadingFill(t,e){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,e);i.fillStyle=r.getPattern(i,this,fr(i),Nn.SHADING,t);const a=fr(i);if(a){const{width:l,height:c}=i.canvas,d=wo.slice();kt.axialAlignedBoundingBox([0,0,l,c],a,d);const[h,p,m,y]=d;this.ctx.fillRect(h,p,m-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Fi.transform).recordDependencies(t,Fi.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Oe("Should not call beginInlineImage")}beginImageData(){Oe("Should not call beginImageData")}paintFormXObjectBegin(t,e,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=$e(this.ctx),i)){kt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,a,l,c]=i,d=new Path2D;d.rect(r,a,l-r,c-a),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,l,a,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||qh("TODO: Support non-isolated groups."),e.knockout&&Yt("Knockout groups not supported.");const r=$e(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=wo.slice();kt.axialAlignedBoundingBox(e.bbox,$e(i),a);const l=[0,0,i.canvas.width,i.canvas.height];a=kt.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),d=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-c,1),p=Math.max(Math.ceil(a[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,p]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,h,p),b=y.context;b.translate(-c,-d),b.transform(...r);let S=new Path2D;const[_,E,w,T]=e.bbox;if(S.rect(_,E,w-_,T-E),e.matrix){const k=new Path2D;k.addPath(S,new DOMMatrix(e.matrix)),S=k}b.clip(S),e.smask&&this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,d),i.save()),Yl(i,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=$e(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const l=wo.slice();kt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,l),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,i,r,a,l){if(this.#t(),Nd(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],d=i[3]-i[1];if(l&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=d,kt.singularValueDecompose2dScale($e(this.ctx),_i);const{viewportScale:h}=this,p=Math.ceil(c*this.outputScaleX*h),m=Math.ceil(d*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(_i[0],0,0,-_i[1],0,d*_i[1]),Nd(this.ctx)}else{Nd(this.ctx),this.endPath(t);const h=new Path2D;h.rect(i[0],i[1],c,d),this.ctx.clip(h)}}this.current=new xx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(t,e.data,e),e.count=i;const r=this.ctx,a=this._createMaskCanvas(t,e),l=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(l,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+l.width,a.offsetY,a.offsetY+l.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i,r=0,a=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const d=this.ctx;d.save();const h=$e(d);d.transform(i,r,a,l,0,0);const p=this._createMaskCanvas(t,e);d.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,y=c.length;m<y;m+=2){const b=kt.transform(h,[i,r,a,l,c[m],c[m+1]]);d.drawImage(p.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(t,this.ctx,b[4],b[4]+p.canvas.width,b[5],b[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Fi.transformAndFill);for(const l of e){const{data:c,width:d,height:h,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",d,h),y=m.context;y.save();const b=this.getObject(t,c,l);Ax(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?r.getPattern(y,this,fr(i),Nn.FILL,t):r,y.fillRect(0,0,d,h),y.restore(),i.save(),i.transform(...p),i.scale(1,-1),Md(i,m.canvas,0,0,d,h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,h),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const i=this.getObject(t,e);if(!i){Yt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,e,i,r,a){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Yt("Dependent image isn't ready yet");return}const c=l.width,d=l.height,h=[];for(let p=0,m=a.length;p<m;p+=2)h.push({transform:[i,0,0,r,a[p],a[p+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(t,l,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:r}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,r),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const i=e.width,r=e.height,a=this.ctx;this.save(t);const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/i,-1/r);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,r).context;wx(p,e),c=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(c,fr(a));a.imageSmoothingEnabled=Ex($e(a),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,a,0,i,-r,0).recordDependencies(t,Fi.imageXObject).recordOperation(t),Md(a,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,i){if(!this.contentVisible)return;const r=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const l=e.width,c=e.height,h=this.cachedCanvases.getCanvas("inlineImage",l,c).context;wx(h,e),a=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(t);for(const l of i)r.save(),r.transform(...l.transform),r.scale(1,-1),Md(r,a,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Fi.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,i){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,i){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const a=this.ctx;this.pendingClip?(r||(this.pendingClip===Cx?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=$e(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:r,d:a}=this.ctx.getTransform();let l,c;if(i===0&&r===0){const d=Math.abs(e),h=Math.abs(a);if(d===h)if(t===0)l=c=1/d;else{const p=d*t;l=c=p<1?1/p:1}else if(t===0)l=1/d,c=1/h;else{const p=d*t,m=h*t;l=p<1?1/p:1,c=m<1?1/m:1}}else{const d=Math.abs(e*a-i*r),h=Math.hypot(e,i),p=Math.hypot(r,a);if(t===0)l=p/d,c=h/d;else{const m=t*d;l=p>m?p/m:1,c=h>m?h/m:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:r}}=this,[a,l]=this.getScaleForStroking();if(a===l){i.lineWidth=(r||1)*a,i.stroke(t);return}const c=i.getLineDash();e&&i.save(),i.scale(a,l),$m.a=1/a,$m.d=1/l;const d=new Path2D;if(d.addPath(t,$m),c.length>0){const h=Math.max(a,l);i.setLineDash(c.map(p=>p/h)),i.lineDashOffset/=h}i.lineWidth=r||1,i.stroke(d),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const n in Bo)Eo.prototype[n]!==void 0&&(Eo.prototype[Bo[n]]=Eo.prototype[n]);class Co{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,i={};let r=0;for(const h of Co.strings){const p=e.encode(t[h]);i[h]=p,r+=4+p.length}const a=new ArrayBuffer(r),l=new Uint8Array(a),c=new DataView(a);let d=0;for(const h of Co.strings){const p=i[h],m=p.length;c.setUint32(d,m),l.set(p,d+4),d+=4+m}return ue(d===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){ue(t<Co.strings.length,"Invalid string index");let e=0;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class To{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,i={};let r=0;for(const y of To.strings){const b=e.encode(t[y]);i[y]=b,r+=4+b.length}r+=4;let a,l,c=1+r;t.style&&(a=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+a.length+4+l.length);const d=new ArrayBuffer(c),h=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,r=0;for(const y of To.strings){const b=i[y],S=b.length;r+=4+S,p.setUint32(m,S),h.set(b,m+4),m+=4+S}return p.setUint32(m-r-4,r),t.style&&(p.setUint32(m,a.length),h.set(a,m+4),m+=4+a.length,p.setUint32(m,l.length),h.set(l,m+4),m+=4+l.length),ue(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){ue(t<To.strings.length,"Invalid string index");let e=5;for(let r=0;r<t;r++)e+=this.#e.getUint32(e)+4;const i=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const r=this.#e.getUint32(t),a=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:i,weight:a}}}class Ae{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#r;#s;#o;constructor({data:t,extra:e}){this.#r=t,this.#s=new TextDecoder,this.#o=new DataView(this.#r),e&&Object.assign(this,e)}#c(t){ue(t<Ae.bools.length,"Invalid boolean index");const e=Math.floor(t/4),i=t*2%8,r=this.#o.getUint8(e)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return ue(t<Ae.numbers.length,"Invalid number index"),this.#o.getFloat64(Ae.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Ae.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=Ae.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=Ae.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#h(t){ue(t<Ae.strings.length,"Invalid string index");let e=Ae.#a+4;for(let a=0;a<t;a++)e+=this.#o.getUint32(e)+4;const i=this.#o.getUint32(e),r=new Uint8Array(i);return r.set(new Uint8Array(this.#r,e+4,i)),this.#s.decode(r)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let t=Ae.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const a=this.#o.getUint32(t);if(a!==0)return new Uint8Array(this.#r,t+4,a)}clearData(){let t=Ae.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const a=this.#o.getUint32(t);new Uint8Array(this.#r,t+4,a).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Ae.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);if(r===0)return null;const a=new Uint8Array(r);return a.set(new Uint8Array(this.#r,t+4,r)),new Co(a.buffer)}get systemFontInfo(){let t=Ae.#a;const e=this.#o.getUint32(t);t+=4+e;const i=this.#o.getUint32(t);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#r,t+4,i)),new To(r.buffer)}static write(t){const e=t.systemFontInfo?To.write(t.systemFontInfo):null,i=t.cssFontInfo?Co.write(t.cssFontInfo):null,r=new TextEncoder,a={};let l=0;for(const _ of Ae.strings)a[_]=r.encode(t[_]),l+=4+a[_].length;const c=Ae.#a+4+l+4+(e?e.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(c),h=new Uint8Array(d),p=new DataView(d);let m=0;const y=Ae.bools.length;let b=0,S=0;for(let _=0;_<y;_++){const E=t[Ae.bools[_]];b|=(E===void 0?0:E?2:1)<<S,S+=2,(S===8||_===y-1)&&(p.setUint8(m++,b),b=0,S=0)}ue(m===Ae.#t,"FontInfo.write: Boolean properties offset mismatch");for(const _ of Ae.numbers)p.setFloat64(m,t[_]),m+=8;if(ue(m===Ae.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const _ of t.bbox)p.setInt16(m,_,!0),m+=2}else p.setUint8(m++,0),m+=8;if(ue(m===Ae.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const _ of t.fontMatrix)p.setFloat64(m,_,!0),m+=8}else p.setUint8(m++,0),m+=48;if(ue(m===Ae.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const _ of t.defaultVMetrics)p.setInt16(m,_,!0),m+=2}else p.setUint8(m++,0),m+=6;ue(m===Ae.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Ae.#a,0),m+=4;for(const _ of Ae.strings){const E=a[_],w=E.length;p.setUint32(m,w),h.set(E,m+4),m+=4+w}if(p.setUint32(Ae.#a,m-Ae.#a-4),!e)p.setUint32(m,0),m+=4;else{const _=e.byteLength;p.setUint32(m,_),ue(m+4+_<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(e),m+4),m+=4+_}if(!i)p.setUint32(m,0),m+=4;else{const _=i.byteLength;p.setUint32(m,_),ue(m+4+_<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(i),m+4),m+=4+_}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),h.set(t.data,m+4),m+=4+t.data.length),ue(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class Ls{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class HI{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const _o=Symbol("INTERNAL");class $I{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:i,usage:r,rbGroups:a}){this.#t=!!(t&bi.DISPLAY),this.#e=!!(t&bi.PRINT),this.name=e,this.intent=i,this.usage=r,this.rbGroups=a}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,i=!1){t!==_o&&Oe("Internal method `_setVisible` called."),this.#i=i,this.#n=e}}class qI{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=bi.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new $I(e,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(_o,!1);for(const i of t.on)this.#e.get(i)._setVisible(_o,!0);for(const i of t.off)this.#e.get(i)._setVisible(_o,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let r=1;r<e;r++){const a=t[r];let l;if(Array.isArray(a))l=this.#a(a);else if(this.#e.has(a))l=this.#e.get(a).visible;else return Yt(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return qh("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Yt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Yt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Yt(`Unknown optional content policy ${t.policy}.`),!0}return Yt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){const r=this.#e.get(t);if(!r){Yt(`Optional content group not found: ${t}`);return}if(i&&e&&r.rbGroups.length)for(const a of r.rbGroups)for(const l of a)l!==t&&this.#e.get(l)?._setVisible(_o,!1,!0);r._setVisible(_o,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const a=this.#e.get(r);if(a)switch(i){case"ON":this.setVisibility(r,!0,e);break;case"OFF":this.setVisibility(r,!1,e);break;case"Toggle":this.setVisibility(r,!a.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new qE;for(const[e,i]of this.#e)t.update(`${e}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class VI{constructor(t,{disableRange:e=!1,disableStream:i=!1}){ue(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,a?.length>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,h)=>{this._onReceiveData({begin:d,chunk:h})}),t.addProgressListener((d,h)=>{this._onProgress({loaded:d,total:h})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(i),!0)});ue(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){ue(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new GI(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new XI(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class GI{constructor(t,e,i=!1,r=null){this._stream=t,this._done=i||!1,this._filename=Gh(r)?r:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class XI{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function YI(n){let t=!0,e=i("filename\\*","i").exec(n);if(e){e=e[1];let p=c(e);return p=unescape(p),p=d(p),p=h(p),a(p)}if(e=l(n),e){const p=h(e);return a(p)}if(e=i("filename","i").exec(n),e){e=e[1];let p=c(e);return p=h(p),a(p)}function i(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(p,{fatal:!0}),b=qc(m);m=y.decode(b),t=!1}catch{}}return m}function a(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function l(p){const m=[];let y;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(p))!==null;){let[,_,E,w]=y;if(_=parseInt(_,10),_ in m){if(_===0)break;continue}m[_]=[E,w]}const S=[];for(let _=0;_<m.length&&_ in m;++_){let[E,w]=m[_];w=c(w),E&&(w=unescape(w),_===0&&(w=d(w))),S.push(w)}return S.join("")}function c(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let y=0;y<m.length;++y){const b=m[y].indexOf('"');b!==-1&&(m[y]=m[y].slice(0,b),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const y=p.slice(0,m),S=p.slice(m+1).replace(/^[^']*'/,"");return r(y,S)}function h(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,b,S){if(b==="q"||b==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,E){return String.fromCharCode(parseInt(E,16))}),r(y,S);try{S=atob(S)}catch{}return r(y,S)})}return""}function QE(n,t){const e=new Headers;if(!n||!t||typeof t!="object")return e;for(const i in t){const r=t[i];r!==void 0&&e.append(i,r)}return e}function Xh(n){return URL.parse(n)?.origin??null}function JE({responseHeaders:n,isHttp:t,rangeChunkSize:e,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*e)||i||!t||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function tC(n){const t=n.get("Content-Disposition");if(t){let e=YI(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Gh(e))return e}return null}function Wc(n,t){return new Ec(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n,n===404||n===0&&t.startsWith("file:"))}function eC(n){return n===200||n===206}function nC(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function iC(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Yt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class WI{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=QE(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ue(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new KI(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new ZI(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class KI{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),r=e.url;fetch(r,nC(i,this._withCredentials,this._abortController)).then(a=>{if(t._responseOrigin=Xh(a.url),!eC(a.status))throw Wc(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const l=a.headers,{allowRangeRequests:c,suggestedLength:d}=JE({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=d||this._contentLength,this._filename=tC(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new es("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:iC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class ZI{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const a=new Headers(t.headers);a.append("Range",`bytes=${e}-${i-1}`);const l=r.url;fetch(l,nC(a,this._withCredentials,this._abortController)).then(c=>{const d=Xh(c.url);if(d!==t._responseOrigin)throw new Error(`Expected range response-origin "${d}" to match "${t._responseOrigin}".`);if(!eC(c.status))throw Wc(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:iC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const qm=200,Vm=206;function QI(n){const t=n.response;return typeof t!="string"?t:qc(t).buffer}class JI{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:i}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=QE(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[a,l]of this.headers)e.setRequestHeader(a,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Vm):r.expectedStatus=qm,e.responseType="arraybuffer",ue(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){const i=this.pendingRequests[t];i&&i.onProgress?.(e)}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){i.onError(r.status);return}const a=r.status||qm;if(!(a===qm&&i.expectedStatus===Vm)&&a!==i.expectedStatus){i.onError(r.status);return}const c=QI(r);if(a===Vm){const d=r.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);h?i.onDone({begin:parseInt(h[1],10),chunk:c}):(Yt('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class tz{constructor(t){this._source=t,this._manager=new JI(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return ue(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ez(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new nz(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class ez{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Xh(e.responseURL);const i=e.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[d,...h]=c.split(": ");return[d,h.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:l}=JE({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=tC(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Wc(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class nz{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Xh(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Wc(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const iz=/^[a-z][a-z0-9\-+.]+:/i;function rz(n){if(iz.test(n))return new URL(n);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(n))}class sz{constructor(t){this.source=t,this.url=rz(t.url),ue(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ue(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new az(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new oz(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class az{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Wc(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new es("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class oz{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Wl=Symbol("INITIAL_DATA");class rC{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Wl}}get(t,e=null){if(e){const r=this.#e(t);return r.promise.then(()=>e(r.data)),null}const i=this.#t[t];if(!i||i.data===Wl)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=this.#t[t];return!!e&&e.data!==Wl}delete(t){const e=this.#t[t];return!e||e.data===Wl?!1:(delete this.#t[t],!0)}resolve(t,e=null){const i=this.#e(t);i.data=e,i.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Wl&&(yield[t,e])}}}const lz=1e5,Tx=30;let Tc=class Ii{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#r=null;#s=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#v=new Map;static#b=new Map;static#E=new WeakMap;static#w=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:i}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#d=i.scale*Ji.pixelRatio,this.#h=i.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:a,pageX:l,pageY:c}=i.rawDims;this.#y=[1,0,0,-1,-l,c+a],this.#o=r,this.#s=a,Ii.#O(),js(e,i),this.#t.promise.finally(()=>{Ii.#_.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=wn.platform;return Jt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:i})=>{if(i){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#T(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),Ii.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const i=t.scale*Ji.pixelRatio,r=t.rotation;if(r!==this.#h&&(e?.(),this.#h=r,js(this.#l,{rotation:r})),i!==this.#d){e?.(),this.#d=i;const a={div:null,properties:null,ctx:Ii.#R(this.#a)};for(const l of this.#u)a.properties=this.#m.get(l),a.div=l,this.#A(a)}}cancel(){const t=new es("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(t){if(this.#i)return;this.#r.ctx??=Ii.#R(this.#a);const e=this.#u,i=this.#g;for(const r of t){if(e.length>lz){Yt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),a.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#x(r)}}#x(t){const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const r=kt.transform(this.#y,t.transform);let a=Math.atan2(r[1],r[0]);const l=this.#f[t.fontName];l.vertical&&(a+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=Ii.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),h=d*Ii.#B(c,l,this.#a);let p,m;a===0?(p=r[4],m=r[5]-h):(p=r[4]+h*Math.sin(a),m=r[5]-h*Math.cos(a));const y="calc(var(--total-scale-factor) *",b=e.style;this.#e===this.#l?(b.left=`${(100*p/this.#o).toFixed(2)}%`,b.top=`${(100*m/this.#s).toFixed(2)}%`):(b.left=`${y}${p.toFixed(2)}px)`,b.top=`${y}${m.toFixed(2)}px)`),b.fontSize=`${y}${(Ii.#w*d).toFixed(2)}px)`,b.fontFamily=c,i.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const _=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);_!==E&&Math.max(_,E)/Math.min(_,E)>1.5&&(S=!0)}if(S&&(i.canvasWidth=l.vertical?t.height:t.width),this.#m.set(e,i),this.#r.div=e,this.#r.properties=i,this.#A(this.#r),i.hasText&&this.#e.append(e),i.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this.#e.append(_)}}#A(t){const{div:e,properties:i,ctx:r}=t,{style:a}=e;let l="";if(Ii.#w>1&&(l=`scale(${1/Ii.#w})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=a,{canvasWidth:d,fontSize:h}=i;Ii.#k(r,h*this.#d,c);const{width:p}=r.measureText(e.textContent);p>0&&(l=`scaleX(${d*this.#d/p}) ${l}`)}i.angle!==0&&(l=`rotate(${i.angle}deg) ${l}`),l.length>0&&(a.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#v.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#R(t=null){let e=this.#b.get(t||="");if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,e),this.#E.set(e,{size:0,family:""})}return e}static#k(t,e,i){const r=this.#E.get(t);e===r.size&&i===r.family||(t.font=`${e}px ${i}`,r.size=e,r.family=i)}static#O(){if(this.#w!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#w=t.getBoundingClientRect().height,t.remove()}static#B(t,e,i){const r=this.#v.get(t);if(r)return r;const a=this.#R(i);a.canvas.width=a.canvas.height=Tx,this.#k(a,Tx,t);const l=a.measureText(""),c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let h=.8;return c?h=c/(c+d):(wn.platform.isFirefox&&Yt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?h=e.ascent:e.descent&&(h=1+e.descent)),this.#v.set(t,h),h}};const cz=100;function tb(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new eb,{docId:e}=t,i=n.url?yI(n.url):null,r=n.data?bI(n.data):null,a=n.httpHeaders||null,l=n.withCredentials===!0,c=n.password??null,d=n.range instanceof nb?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let p=n.worker instanceof Fo?n.worker:null;const m=n.verbosity,y=typeof n.docBaseUrl=="string"&&!Gc(n.docBaseUrl)?n.docBaseUrl:null,b=Td(n.cMapUrl),S=n.cMapPacked!==!1,_=n.CMapReaderFactory||(Un?EI:fx),E=Td(n.iccUrl),w=Td(n.standardFontDataUrl),T=n.StandardFontDataFactory||(Un?CI:px),k=Td(n.wasmUrl),F=n.WasmFactory||(Un?TI:mx),O=n.stopAtErrors!==!0,R=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,D=n.isEvalSupported!==!1,j=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Un,N=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Un&&(wn.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,I=typeof n.disableFontFace=="boolean"?n.disableFontFace:Un,H=n.fontExtraProperties===!0,q=n.enableXfa===!0,G=n.ownerDocument||globalThis.document,Y=n.disableRange===!0,U=n.disableStream===!0,C=n.disableAutoFetch===!0,J=n.pdfBug===!0,X=n.CanvasFactory||(Un?AI:SI),A=n.FilterFactory||(Un?wI:xI),P=n.enableHWA===!0,V=n.useWasm!==!1,B=d?d.length:n.length??NaN,Q=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Un&&!I,ot=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(_===fx&&T===px&&F===mx&&b&&w&&k&&oc(b,document.baseURI)&&oc(w,document.baseURI)&&oc(k,document.baseURI)),st=null;QF(m);const ct={canvasFactory:new X({ownerDocument:G,enableHWA:P}),filterFactory:new A({docId:e,ownerDocument:G}),cMapReaderFactory:ot?null:new _({baseUrl:b,isCompressed:S}),standardFontDataFactory:ot?null:new T({baseUrl:w}),wasmFactory:ot?null:new F({baseUrl:k})};p||(p=Fo.create({verbosity:m,port:Ls.workerPort}),t._worker=p);const wt={docId:e,apiVersion:"5.4.296",data:r,password:c,disableAutoFetch:C,rangeChunkSize:h,length:B,docBaseUrl:y,enableXfa:q,evaluatorOptions:{maxImageSize:R,disableFontFace:I,ignoreErrors:O,isEvalSupported:D,isOffscreenCanvasSupported:j,isImageDecoderSupported:N,canvasMaxAreaInBytes:L,fontExtraProperties:H,useSystemFonts:Q,useWasm:V,useWorkerFetch:ot,cMapUrl:b,iccUrl:E,standardFontDataUrl:w,wasmUrl:k}},_t={ownerDocument:G,pdfBug:J,styleElement:st,loadingParams:{disableAutoFetch:C,enableXfa:q}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const xt=p.messageHandler.sendWithPromise("GetDocRequest",wt,r?[r.buffer]:null);let It;if(d)It=new VI(d,{disableRange:Y,disableStream:U});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Ut=oc(i)?WI:Un?sz:tz;It=new Ut({url:i,length:B,httpHeaders:a,withCredentials:l,rangeChunkSize:h,disableRange:Y,disableStream:U})}return xt.then(Ut=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ct=new lc(e,Ut,p.port),At=new hz(Ct,t,It,_t,ct,P);t._transport=At,Ct.send("Ready",null)})}).catch(t._capability.reject),t}class eb{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${eb.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let nb=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,i=!1,r=null){this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const i of this.#a)i(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const i of this.#n)i(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Oe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class uz{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class dz{#t=!1;constructor(t,e,i,r=!1){this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=r?new ax:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new rC,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}={}){return new Vc({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:r,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:r="display",annotationMode:a=wr.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:y=!1,recordOperations:b=!1,operationsFilter:S=null}){this._stats?.time("Overall");const _=this._transport.getRenderingIntent(r,a,m,y),{renderingIntent:E,cacheKey:w}=_;this.#t=!1,d||=this._transport.getOptionalContentConfig(E);let T=this._intentStates.get(w);T||(T=Object.create(null),this._intentStates.set(w,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const k=!!(E&bi.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(_));const F=!!(this._pdfBug&&globalThis.StepperManager?.enabled),O=!this.recordedBBoxes&&(b||F),R=N=>{if(T.renderTasks.delete(D),O){const L=D.gfx?.dependencyTracker.take();L&&(D.stepper&&D.stepper.setOperatorBBoxes(L,D.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=L))}k&&(this.#t=!0),this.#e(),N?(D.capability.reject(N),this._abortOperatorList({intentState:T,reason:N instanceof Error?N:new Error(N)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new Ao({callback:R,params:{canvas:e,canvasContext:t,dependencyTracker:O?new OI(e,T.operatorList.length,F):null,viewport:i,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:S});(T.renderTasks||=new Set).add(D);const j=D.task;return Promise.all([T.displayReadyCapability.promise,d]).then(([N,L])=>{if(this.destroyed){R();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:N,optionalContentConfig:L}),D.operatorListChanged()}).catch(R),j}getOperatorList({intent:t="display",annotationMode:e=wr.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const l=this._transport.getRenderingIntent(t,e,i,r,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Cc.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,r){function a(){l.read().then(function({value:d,done:h}){if(h){i(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),a()},r)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new ax),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const i=this._intentStates.get(e);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let i=0,r=t.length;i<r;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:r}){const{map:a,transfer:l}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:a,modifiedIds:r},l).getReader(),h=this._intentStates.get(e);h.streamReader=d;const p=()=>{d.read().then(({value:m,done:y})=>{if(y){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,h),p())},m=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const y of h.renderTasks)y.operatorListChanged();this.#e()}if(h.displayReadyCapability)h.displayReadyCapability.reject(m);else if(h.opListReadCapability)h.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof Vh){let r=cz;e.extraDelay>0&&e.extraDelay<1e3&&(r+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},r);return}}if(t.streamReader.cancel(new es(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Ns,Gi,Yr,fa,wh,pa,ma,qn,Kd,sC,aC,cc,No,Zd;const Fe=class Fe{constructor({name:t=null,port:e=null,verbosity:i=JF()}={}){cr(this,qn);cr(this,Ns,Promise.withResolvers());cr(this,Gi,null);cr(this,Yr,null);cr(this,fa,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(je(Fe,ma).has(e))throw new Error("Cannot use more than one PDFWorker per port.");je(Fe,ma).set(e,this),ur(this,qn,sC).call(this,e)}else ur(this,qn,aC).call(this)}get promise(){return je(this,Ns).promise}get port(){return je(this,Yr)}get messageHandler(){return je(this,Gi)}destroy(){this.destroyed=!0,je(this,fa)?.terminate(),ti(this,fa,null),je(Fe,ma).delete(je(this,Yr)),ti(this,Yr,null),je(this,Gi)?.destroy(),ti(this,Gi,null)}static create(t){const e=je(this,ma).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Fe(t)}static get workerSrc(){if(Ls.workerSrc)return Ls.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Jt(this,"_setupFakeWorkerGlobal",(async()=>je(this,No,Zd)?je(this,No,Zd):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ns=new WeakMap,Gi=new WeakMap,Yr=new WeakMap,fa=new WeakMap,wh=new WeakMap,pa=new WeakMap,ma=new WeakMap,qn=new WeakSet,Kd=function(){je(this,Ns).resolve(),je(this,Gi).send("configure",{verbosity:this.verbosity})},sC=function(t){ti(this,Yr,t),ti(this,Gi,new lc("main","worker",t)),je(this,Gi).on("ready",()=>{}),ur(this,qn,Kd).call(this)},aC=function(){if(je(Fe,pa)||je(Fe,No,Zd)){ur(this,qn,cc).call(this);return}let{workerSrc:t}=Fe;try{Fe._isSameOrigin(window.location,t)||(t=Fe._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new lc("main","worker",e),r=()=>{a.abort(),i.destroy(),e.terminate(),this.destroyed?je(this,Ns).reject(new Error("Worker was destroyed")):ur(this,qn,cc).call(this)},a=new AbortController;e.addEventListener("error",()=>{je(this,fa)||r()},{signal:a.signal}),i.on("test",c=>{if(a.abort(),this.destroyed||!c){r();return}ti(this,Gi,i),ti(this,Yr,e),ti(this,fa,e),ur(this,qn,Kd).call(this)}),i.on("ready",c=>{if(a.abort(),this.destroyed){r();return}try{l()}catch{ur(this,qn,cc).call(this)}});const l=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};l();return}catch{qh("The worker has been disabled.")}ur(this,qn,cc).call(this)},cc=function(){je(Fe,pa)||(Yt("Setting up fake worker."),ti(Fe,pa,!0)),Fe._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){je(this,Ns).reject(new Error("Worker was destroyed"));return}const e=new _I;ti(this,Yr,e);const i=`fake${S_(Fe,wh)._++}`,r=new lc(i+"_worker",i,e);t.setup(r,e),ti(this,Gi,new lc(i,i+"_worker",e)),ur(this,qn,Kd).call(this)}).catch(t=>{je(this,Ns).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},No=new WeakSet,Zd=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},cr(Fe,No),cr(Fe,wh,0),cr(Fe,pa,!1),cr(Fe,ma,new WeakMap),Un&&(ti(Fe,pa,!0),Ls.workerSrc||="./pdf.worker.mjs"),Fe._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(e,i);return i.origin===r.origin},Fe._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Fe.fromPort=t=>{if(lI("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Fe.create(t)};let Fo=Fe;class hz{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,i,r,a,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new rC,this.fontLoader=new mI({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#r(t,e=null){const i=this.#t.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,r),r}get annotationStorage(){return Jt(this,"annotationStorage",new Ky)}getRenderingIntent(t,e=wr.ENABLE,i=null,r=!1,a=!1){let l=bi.DISPLAY,c=Vg;switch(t){case"any":l=bi.ANY;break;case"display":break;case"print":l=bi.PRINT;break;default:Yt(`getRenderingIntent - invalid intent: ${t}`)}const d=l&bi.PRINT&&i instanceof VE?i:this.annotationStorage;switch(e){case wr.DISABLE:l+=bi.ANNOTATIONS_DISABLE;break;case wr.ENABLE:break;case wr.ENABLE_FORMS:l+=bi.ANNOTATIONS_FORMS;break;case wr.ENABLE_STORAGE:l+=bi.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Yt(`getRenderingIntent - invalid annotationMode: ${e}`)}r&&(l+=bi.IS_EDITING),a&&(l+=bi.OPLIST);const{ids:h,hash:p}=d.modifiedIds,m=[l,c.hash,p];return{renderingIntent:l,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#e.values())t.push(i._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Tc.cleanup(),this._networkStream?.cancelAllRequests(new es("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,r)=>{ue(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},r.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){r.close();return}ue(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this._fullReader.cancel(a),r.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:l}=this._fullReader;return(!r||!a)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:l}}),t.on("GetRangeReader",(i,r)=>{ue(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){r.close();return}ue(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{a.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new uz(i,this))}),t.on("DocException",i=>{e._capability.reject(ii(i))}),t.on("PasswordRequest",i=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw ii(i);const r=a=>{a instanceof Error?this.#a.reject(a):this.#a.resolve({password:a})};e.onPassword(r,i.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",i=>{e.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#e.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,a])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in a){const p=a.error;Yt(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const l=new Ae(a),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,d=new gI(l,c,a.extra,a.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:h}=a;ue(h,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,m]of p.objs)if(m?.ref===h)return m.dataLen?(this.commonObjs.resolve(i,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,a);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,a,l])=>{if(this.destroyed)return;const c=this.#e.get(r);if(!c.objs.has(i)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(i,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{this.destroyed||e.onProgress?.({loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Yt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=this.#i.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&this.#n.set(a.refStr,t);const l=new dz(e,a,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,r),r}getPageIndex(t){return Gg(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#r("GetOptionalContentConfig").then(e=>new qI(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new HI(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Tc.cleanup()}}cachedPageNumber(t){if(!Gg(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class fz{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ao{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:i,commonObjs:r,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:h,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:y=null,enableHWA:b=!1,operationsFilter:S=null}){this.callback=t,this.params=e,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=h,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new fz(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=b,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=S}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ao.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ao.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:a,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Eo(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ao.#e.delete(this._canvas),t||=new Vh(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ao.#e.delete(this._canvas),this.callback())))}}const ib="5.4.296",oC="f56dc8601";class vi{#t=null;#e=null;#i;#n=null;#a=!1;#r=!1;#s=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Jt(this,"_keyboardManager",new Xc([[["Escape","mac+Escape"],vi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],vi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],vi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],vi.prototype._moveToPrevious],[["Home","mac+Home"],vi.prototype._moveToBeginning],[["End","mac+End"],vi.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#r=!1,this.#s=t):this.#r=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",vi.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#s&&(t.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#g.bind(this),{signal:e});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#d();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#d(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",Ai,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(t.id=`${this.#s.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=i,a.setAttribute("data-l10n-id",vi.#h[i]);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=r,a.ariaSelected=r===this.#i,a.addEventListener("click",this.#f.bind(this,r),{signal:e}),t.append(a)}return t.addEventListener("keydown",this.#g.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:le.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#m){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#m){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#m){this.#p(t);return}this.#n.lastChild?.focus()}#g(t){vi._keyboardManager.exec(this,t)}#p(t){if(this.#m){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#d();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#m){this.#s?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class kc{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,kc.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:i}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",kc.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(e,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function kx(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Kl(n){return Math.max(0,Math.min(255,255*n))}class Ox{static CMYK_G([t,e,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Kl(t),[t,t,t]}static G_HTML([t]){const e=kx(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(Kl)}static RGB_HTML(t){return`#${t.map(kx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,e+r)]}static CMYK_rgb([t,e,i,r]){return[Kl(1-Math.min(1,t+r)),Kl(1-Math.min(1,i+r)),Kl(1-Math.min(1,e+r))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const r=1-t,a=1-e,l=1-i,c=Math.min(r,a,l);return["CMYK",r,a,l,c]}}class pz{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${e}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${e}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Oe("Abstract method `_createSVG` called.")}}class Oc extends pz{_createSVG(t){return document.createElementNS(Gr,t)}}const mz=9,Sa=new WeakSet,gz=new Date().getTimezoneOffset()*60*1e3;class Rx{static create(t){switch(t.data.annotationType){case nn.LINK:return new rb(t);case nn.TEXT:return new bz(t);case nn.WIDGET:switch(t.data.fieldType){case"Tx":return new vz(t);case"Btn":return t.data.radioButton?new lC(t):t.data.checkBox?new Sz(t):new xz(t);case"Ch":return new wz(t);case"Sig":return new _z(t)}return new Ea(t);case nn.POPUP:return new Wg(t);case nn.FREETEXT:return new cC(t);case nn.LINE:return new Ez(t);case nn.SQUARE:return new Cz(t);case nn.CIRCLE:return new Tz(t);case nn.POLYLINE:return new uC(t);case nn.CARET:return new Oz(t);case nn.INK:return new sb(t);case nn.POLYGON:return new kz(t);case nn.HIGHLIGHT:return new dC(t);case nn.UNDERLINE:return new Rz(t);case nn.SQUIGGLY:return new Mz(t);case nn.STRIKEOUT:return new Nz(t);case nn.STAMP:return new hC(t);case nn.FILEATTACHMENT:return new Dz(t);default:return new Ge(t)}}}class Ge{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ge._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:i,rect:r}=this.data;let a=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],a=e[c+2]):e[c+1]===l&&(a=Math.max(a,e[c+2]));return[a,l]}if(i?.length>=1){for(const c of i)for(let d=0,h=c.length;d<h;d+=2)c[d+1]>l?(l=c[d+1],a=c[d]):c[d+1]===l&&(a=Math.max(a,c[d]));if(a!==1/0)return[a,l]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-a)/i,t[1]=100*(t[1]-l)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Ac}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:i})||this.annotationStorage.setValue(`${Ac}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:i}=t;e&&this.#n(e);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(t),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:d}}}}=this;i?.splice(0,4,...t),e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+d)/l}%`,r===0?(e.width=`${100*(t[2]-t[0])/a}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(r)}_createContainer(t){const{data:e,parent:{page:i,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),!(this instanceof Ea)&&!(this instanceof rb)&&(a.tabIndex=0);const{style:l}=a;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof Wg){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,a),a}const{width:c,height:d}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,E=e.borderStyle.verticalCornerRadius;if(_>0||E>0){const T=`calc(${_}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof lC){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;l.borderRadius=T}switch(e.borderStyle.style){case vo.SOLID:l.borderStyle="solid";break;case vo.DASHED:l.borderStyle="dashed";break;case vo.BEVELED:Yt("Unimplemented border style: beveled");break;case vo.INSET:Yt("Unimplemented border style: inset");break;case vo.UNDERLINE:l.borderBottomStyle="solid";break}const w=e.borderColor||null;w?(this.#e=!0,l.borderColor=kt.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):l.borderWidth=0}const h=kt.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:m,pageX:y,pageY:b}=r.rawDims;l.left=`${100*(h[0]-y)/p}%`,l.top=`${100*(h[1]-b)/m}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(l.width=`${100*c/p}%`,l.height=`${100*d/m}%`):this.setRotation(S,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:a,height:l}=this;t%180!==0&&([a,l]=[l,a]),e.style.width=`${100*a/i}%`,e.style.height=`${100*l/r}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,r)=>{const a=r.detail[e],l=a[0],c=a.slice(1);r.target.style[i]=Ox[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:Ox[`${l}_rgb`](c)})};return Jt(this,"_commonActions",{display:e=>{const{display:i}=e.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const r of Object.keys(e.detail))(t[r]||i[r])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[r,a]of Object.entries(e)){const l=i[r];if(l){const c={detail:{[r]:a},target:t};l(c),delete e[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,r,a]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,E,w,T]=t.subarray(2,6);if(r===_&&a===E&&e===w&&i===T)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:_,borderWidth:E}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const d=r-e,h=a-i,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const y=p.createElement("defs");m.append(y);const b=p.createElement("clipPath"),S=`clippath_${this.data.id}`;b.setAttribute("id",S),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let _=2,E=t.length;_<E;_+=8){const w=t[_],T=t[_+1],k=t[_+2],F=t[_+3],O=p.createElement("rect"),R=(k-e)/d,D=(a-T)/h,j=(w-k)/d,N=(T-F)/h;O.setAttribute("x",R),O.setAttribute("y",D),O.setAttribute("width",j),O.setAttribute("height",N),b.append(O),c?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${D}" width="${j}" height="${N}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${S})`}_createPopup(t=null){const{data:e}=this;let i,r;t?(i={str:t.text},r=t.date):(i=e.contentsObj,r=e.modificationDate);const a=this.#i=new Wg({data:{color:e.color,titleObj:e.titleObj,modificationDate:r,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(a.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Oe("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:a,id:l,exportValues:c}of r){if(a===-1||l===e)continue;const d=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${l}"]`);if(h&&!Sa.has(h)){Yt(`_getElementsByName - element not allowed: ${l}`);continue}i.push({id:l,exportValue:d,domElement:h})}return i}for(const r of document.getElementsByName(t)){const{exportValue:a}=r,l=r.getAttribute("data-element-id");l!==e&&Sa.has(r)&&i.push({id:l,exportValue:a,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class yz extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class rb extends Ge{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(e.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,i=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),i&&(t.title=i),this.#t()}#e(t,e,i="",r=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,r),!1),this.#t()}#i(t,e,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(e.actions)){const a=i.get(r);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:r}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Yt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:a,include:l}=e,c=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const m of r){const y=this._fieldObjects[m]||[];for(const{id:b}of y)p.add(b)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===l&&c.push(y)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const d=this.annotationStorage,h=[];for(const p of c){const{id:m}=p;switch(h.push(m),p.type){case"text":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;d.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!Sa.has(y)){Yt(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class bz extends Ge{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ea extends Ge{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return wn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,r,a){i.includes("mouse")?t.addEventListener(i,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(i,l=>{if(i==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(l)}})})}_setEventListeners(t,e,i,r){for(const[a,l]of i)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,a,l,r),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":kt.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||mz,a=t.style;let l;const c=2,d=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(h/(Fm*r))||1,m=h/p;l=Math.min(r,d(m/Fm))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(r,d(h/Fm))}a.fontSize=`calc(${l}px * var(--total-scale-factor))`,a.color=kt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class vz extends Ea{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,r){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=i),a.setValue(l.id,{[r]:i})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(e,{value:this.data.fieldValue});let a=r.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Sa.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:p,timeStep:m}=this.data,y=!!p&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",S=>{t.setValue(e,{value:S.target.value}),this.setPropertyOnSiblings(i,"value",S.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",S=>{const _=this.data.defaultFieldValue??"";i.value=d.userValue=_,d.formattedValue=null});let b=S=>{const{formattedValue:_}=d;_!=null&&(S.target.value=_),S.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",_=>{if(d.focused)return;const{target:E}=_;if(y&&(E.type=p,m&&(E.step=m)),d.userValue){const w=d.userValue;if(y)if(p==="time"){const T=new Date(w),k=[T.getHours(),T.getMinutes(),T.getSeconds()];E.value=k.map(F=>F.toString().padStart(2,"0")).join(":")}else E.value=new Date(w-gz).toISOString().split(p==="date"?"T":".",1)[0];else E.value=w}d.lastCommittedValue=E.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const E={value(w){d.userValue=w.detail.value??"",y||t.setValue(e,{value:d.userValue.toString()}),w.target.value=d.userValue},formattedValue(w){const{formattedValue:T}=w.detail;d.formattedValue=T,T!=null&&w.target!==document.activeElement&&(w.target.value=T);const k={formattedValue:T};y&&(k.value=T),t.setValue(e,k)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:T}=w.detail,{target:k}=w;if(T===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",T);let F=d.userValue;!F||F.length<=T||(F=F.slice(0,T),k.value=d.userValue=F,t.setValue(e,{value:F}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:F,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(E,_)}),i.addEventListener("keydown",_=>{d.commitKey=1;let E=-1;if(_.key==="Escape"?E=0:_.key==="Enter"&&!this.data.multiLine?E=2:_.key==="Tab"&&(d.commitKey=3),E===-1)return;const{value:w}=_.target;d.lastCommittedValue!==w&&(d.lastCommittedValue=w,d.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:E,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const S=b;b=null,i.addEventListener("blur",_=>{if(!d.focused||!_.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:E}=_;let{value:w}=E;if(y){if(w&&p==="time"){const T=w.split(":").map(k=>parseInt(k,10));w=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),E.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();E.type="text"}d.userValue=w,d.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:d.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}),S(_)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",_=>{d.lastCommittedValue=null;const{data:E,target:w}=_,{value:T,selectionStart:k,selectionEnd:F}=w;let O=k,R=F;switch(_.inputType){case"deleteWordBackward":{const D=T.substring(0,k).match(/\w*[^\w]*$/);D&&(O-=D[0].length);break}case"deleteWordForward":{const D=T.substring(k).match(/^[^\w]*\w*/);D&&(R+=D[0].length);break}case"deleteContentBackward":k===F&&(O-=1);break;case"deleteContentForward":k===F&&(R+=1);break}_.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:E||"",willCommit:!1,selStart:O,selEnd:R}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class _z extends Ea{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Sz extends Ea{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Sa.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const h of this._getElementsByName(c,i)){const p=d&&h.exportValue===e.exportValue;h.domElement&&(h.domElement.checked=p),t.setValue(h.id,{value:p})}t.setValue(i,{value:d})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class lC extends Ea{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let r=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof r=="string"&&(r=r!==e.buttonValue,t.setValue(i,{value:r})),r)for(const l of this._getElementsByName(e.fieldName,i))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(Sa.add(a),a.setAttribute("data-element-id",i),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const h of this._getElementsByName(c,i))t.setValue(h.id,{value:!1});t.setValue(i,{value:d})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const d={value:h=>{const p=l===h.detail.value;for(const m of this._getElementsByName(h.target.name)){const y=p&&m.id===i;m.domElement&&(m.domElement.checked=y),t.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class xz extends rb{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class wz extends Ea{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),r=document.createElement("select");Sa.add(r),r.setAttribute("data-element-id",e),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,i.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),a=!1),r.append(m)}let l=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),l=()=>{p.remove(),r.removeEventListener("input",l),l=null},r.addEventListener("input",l)}const c=p=>{const m=p?"value":"textContent",{options:y,multiple:b}=r;return b?Array.prototype.filter.call(y,S=>S.selected).map(S=>S[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let d=c(!1);const h=p=>{const m=p.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(y){l?.();const b=y.detail.value,S=new Set(Array.isArray(b)?b:[b]);for(const _ of r.options)_.selected=S.has(_.value);t.setValue(e,{value:c(!0)}),d=c(!1)},multipleSelection(y){r.multiple=!0},remove(y){const b=r.options,S=y.detail.remove;b[S].selected=!1,r.remove(S),b.length>0&&Array.prototype.findIndex.call(b,E=>E.selected)===-1&&(b[0].selected=!0),t.setValue(e,{value:c(!0),items:h(y)}),d=c(!1)},clear(y){for(;r.length!==0;)r.remove(0);t.setValue(e,{value:null,items:[]}),d=c(!1)},insert(y){const{index:b,displayValue:S,exportValue:_}=y.detail.insert,E=r.children[b],w=document.createElement("option");w.textContent=S,w.value=_,E?E.before(w):r.append(w),t.setValue(e,{value:c(!0),items:h(y)}),d=c(!1)},items(y){const{items:b}=y.detail;for(;r.length!==0;)r.remove(0);for(const S of b){const{displayValue:_,exportValue:E}=S,w=document.createElement("option");w.textContent=_,w.value=E,r.append(w)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(e,{value:c(!0),items:h(y)}),d=c(!1)},indices(y){const b=new Set(y.detail.indices);for(const S of y.target.options)S.selected=b.has(S.index);t.setValue(e,{value:c(!0)}),d=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=c(!0),y=c(!1);t.setValue(e,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Wg extends Ge{constructor(t){const{data:e,elements:i,parent:r}=t,a=!!r._commentManager;if(super(t,{isRenderable:!a&&Ge._hasPopupData(e)}),this.elements=i,a&&Ge._hasPopupData(e)){const l=this.popup=this.#t();for(const c of i)c.popup=l}else this.popup=null}#t(){return new Az({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),i=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${Vy}${r}`).join(",")),this.container}}class Az{#t=null;#e=this.#q.bind(this);#i=this.#I.bind(this);#n=this.#D.bind(this);#a=this.#S.bind(this);#r=null;#s=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#v=null;#b=null;#E=null;#w=null;#_=null;#T=!1;#x=null;#A=null;constructor({container:t,color:e,elements:i,titleObj:r,modificationDate:a,contentsObj:l,richText:c,parent:d,rect:h,parentRect:p,open:m,commentManager:y=null}){this.#s=t,this.#w=r,this.#o=l,this.#E=c,this.#h=d,this.#r=e,this.#b=h,this.#d=p,this.#l=i,this.#t=y,this.#x=i[0],this.#c=gh.toDateObject(a),this.trigger=i.flatMap(b=>b.getElementsToTriggerPopup()),y?this.renderCommentButton():(this.#R(),this.#s.hidden=!0,m&&this.#S())}#R(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#k(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#k(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#x.extraPopupElement,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},a=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#m=this.#x.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",a,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#m=document.createElement("button");l.className="annotationCommentButton";const c=this.#x.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#B(),this.#O(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",i,{signal:t}),l.addEventListener("pointerenter",r,{signal:t}),l.addEventListener("pointerleave",a,{signal:t}),c.after(l)}}#O(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:i}=this.#m;i.left=`calc(${t}%)`,i.top=`calc(${e}% - var(--comment-button-dim))`}#B(){this.#x.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#x.commentData;return t?this.#h._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:t,color:e,opacity:i,creationDate:r,modificationDate:a}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:i,creationDate:r,modificationDate:a}}get elementBeforePopup(){return this.#m}get comment(){return this.#A||=this.#x.commentText,this.#A}set comment(t){t!==this.comment&&(this.#x.commentText=this.#A=t)}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#m&&(this.#m.classList.toggle("selected",t),this.#m.ariaExpanded=e)}setSelectedCommentButton(t){this.#m.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:i}=this.#m.getBoundingClientRect(),{x:r,y:a,width:l,height:c}=this.#x.layer.getBoundingClientRect();return[(t-r)/l,(e+i-a)/c]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,i]=this.#v||this.commentButtonPosition.map(h=>h/100),r=this.parentBoundingClientRect,{x:a,y:l,width:c,height:d}=r;this.#t.showDialog(null,this,a+e*c,l+i*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#r){const i=t.style.outlineColor=kt.makeHexColor(...this.#r);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#w?.str){const i=document.createElement("span");i.className="title",e.append(i),{dir:i.dir,str:i.textContent}=this.#w}if(t.append(e),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),e.append(i)}Xy({html:this.#N||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#s.append(t)}get#N(){const t=this.#E,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#E.html||null}get#L(){return this.#N?.attributes?.style?.fontSize||0}get#F(){return this.#N?.attributes?.style?.color||null}#P(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},r={style:{color:this.#F,fontSize:this.#L?`calc(${this.#L}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:r});return i}#q(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:t,popup:e,deleted:i}){if(this.#t){i?(this.remove(),this.#A=null):e&&(e.deleted?this.remove():(this.#B(),this.#A=e.text)),t&&(this.#y=null,this.#k(),this.#O());return}if(i||e?.deleted){this.remove();return}this.#R(),this.#_||={contentsObj:this.#o,richText:this.#E},t&&(this.#u=null),e&&e.text&&(this.#E=this.#P(e.text),this.#c=gh.toDateObject(e.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#E}=this.#_,this.#_=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:r,pageY:a}}}=this.#h;let l=!!this.#d,c=l?this.#d:this.#b;for(const S of this.#l)if(!c||kt.intersect(S.data.rect,c)!==null){c=S.data.rect,l=!0;break}const d=kt.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,m=d[0]+p,y=d[1];this.#u=[100*(m-r)/e,100*(y-a)/i];const{style:b}=this.#s;b.left=`${this.#u[0]}%`,b.top=`${this.#u[1]}%`}#S(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#D(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#e)):(this.#I(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#e))}#D(){this.#g||this.render(),this.isVisible?this.#f&&this.#s.classList.add("focused"):(this.#C(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#I(){this.#s.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#s.hidden=!0)}maybeShow(){this.#t||(this.#R(),this.#T&&(this.#g||this.#D(),this.#T=!1,this.#s.hidden=!1))}get isVisible(){return this.#t?!1:this.#s.hidden===!1}}class cC extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Xt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Ez extends Ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),a=this.#t=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Cz extends Ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",e-a),l.setAttribute("height",i-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Tz extends Ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:i}=this,r=this.svgFactory.create(e,i,!0),a=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",i/2),l.setAttribute("rx",e/2-a/2),l.setAttribute("ry",i/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class uC extends Ge{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:i,popupRef:r},width:a,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(a,l,!0);let d=[];for(let p=0,m=e.length;p<m;p+=2){const y=e[p]-t[0],b=t[3]-e[p+1];d.push(`${y},${b}`)}d=d.join(" ");const h=this.#t=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",d),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class kz extends uC{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Oz extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class sb extends Ge{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xt.HIGHLIGHT:Xt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:i,borderStyle:r,popupRef:a}}=this,{transform:l,width:c,height:d}=this.#i(e,t),h=this.svgFactory.create(c,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");h.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let m=0,y=i.length;m<y;m++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",i[m].join(",")),p.append(b)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:i,rect:r}=t,a=this.#t;if(e>=0&&a.setAttribute("stroke-width",e||1),i)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",i[l].join(","));if(r){const{transform:l,width:c,height:d}=this.#i(this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class dC extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Rz extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Mz extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class Nz extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class hC extends Ge{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Dz extends Ge{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let i;e.hasAppearance||e.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=wn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let ab=class fC{#t=null;#e=null;#i=null;#n=new Map;#a=null;#r=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:r,page:a,viewport:l,structTreeLayer:c,commentManager:d,linkService:h,annotationStorage:p}){this.div=t,this.#t=e,this.#e=i,this.#a=c||null,this.#r=h||null,this.#i=p||new Ky,this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async#s(t,e,i){const r=t.firstChild||t,a=r.id=`${Vy}${e}`,l=await this.#a?.getAriaAttributes(a);if(l)for(const[c,d]of l)r.setAttribute(c,d);i?i.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,r,!1))}async render(t){const{annotations:e}=t,i=this.div;js(i,this.viewport);const r=new Map,a={data:null,layer:i,linkService:this.#r,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Oc,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const c=l.annotationType===nn.POPUP;if(c){const p=r.get(l.id);if(!p)continue;a.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const d=Rx.create(a);if(!d.isRenderable)continue;if(!c&&l.popupRef){const p=r.get(l.popupRef);p?p.push(d):r.set(l.popupRef,[d])}const h=d.render();l.hidden&&(h.style.visibility="hidden"),await this.#s(h,l.id,a.elements),d.extraPopupElement?.popup?.renderCommentButton(),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#r,svgFactory:new Oc,parent:this};for(const i of t){i.borderStyle||=fC._defaultBorderStyle,e.data=i;const r=Rx.create(e);if(!r.isRenderable)continue;const a=r.render();await this.#s(a,i.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,js(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${e}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):r.append(i);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,r.id,i),l._hasNoCanvas=!1):l.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:i,rotation:r}=t,a=new yz({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#r,annotationStorage:this.#i}),l=a.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),a.createOrUpdatePopup(),a}static get _defaultBorderStyle(){return Jt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:vo.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Dd=/\r\n?|\n/g;class Sn extends jt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Sn.prototype,e=a=>a.isEmpty(),i=ns.TRANSLATE_SMALL,r=ns.TRANSLATE_BIG;return Jt(this,"_keyboardManager",new Xc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:e}]]))}static _type="freetext";static _editorType=Xt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Sn._defaultColor||jt._defaultLineColor,this.#n=t.fontSize||Sn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){jt.initialize(t,e);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case le.FREETEXT_SIZE:Sn._defaultFontSize=e;break;case le.FREETEXT_COLOR:Sn._defaultColor=e;break}}updateParams(t,e){switch(t){case le.FREETEXT_SIZE:this.#a(e);break;case le.FREETEXT_COLOR:this.#r(e);break}}static get defaultPropertiesToUpdate(){return[[le.FREETEXT_SIZE,Sn._defaultFontSize],[le.FREETEXT_COLOR,Sn._defaultColor||jt._defaultLineColor]]}get propertiesToUpdate(){return[[le.FREETEXT_SIZE,this.#n],[le.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new kc(this),[["colorPicker",this._colorPicker]]}get colorType(){return le.FREETEXT_COLOR}#a(t){const e=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#r(t){const e=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-Sn._internalPadding*t,-(Sn._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Sn.#c(i)),e=i);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/e):(this.width=i.height/t,this.height=i.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#s().trimEnd();if(t===e)return;const i=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(e)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Sn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[h,p]=this.pageDimensions,[m,y]=this.pageTranslation;let b,S;switch(this.rotation){case 0:b=t+(l[0]-m)/h,S=e+this.height-(l[1]-y)/p;break;case 90:b=t+(l[0]-m)/h,S=e-(l[1]-y)/p,[c,d]=[d,-c];break;case 180:b=t-this.width+(l[0]-m)/h,S=e-(l[1]-y)/p,[c,d]=[-c,-d];break;case 270:b=t+(l[0]-m-this.height*p)/h,S=e+(l[1]-y-this.width*h)/p,[c,d]=[-d,c];break}this.setAt(b*r,S*a,c,d)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Dd,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:i}=e;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=Sn.#d(e.getData("text")||"").replaceAll(Dd,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:d}=l,h=[],p=[];if(c.nodeType===Node.TEXT_NODE){const b=c.parentElement;if(p.push(c.nodeValue.slice(d).replaceAll(Dd,"")),b!==this.editorDiv){let S=h;for(const _ of this.editorDiv.childNodes){if(_===b){S=p;continue}S.push(Sn.#c(_))}}h.push(c.nodeValue.slice(0,d).replaceAll(Dd,""))}else if(c===this.editorDiv){let b=h,S=0;for(const _ of this.editorDiv.childNodes)S++===d&&(b=p),b.push(Sn.#c(_))}this.#t=`${h.join(`
`)}${r}${p.join(`
`)}`,this.#l();const m=new Range;let y=Math.sumPrecise(h.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const S=b.nodeValue.length;if(y<=S){m.setStart(b,y),m.setEnd(b,y);break}y-=S}a.removeAllRanges(),a.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#h(){return this.#t.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Sn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,i){let r=null;if(t instanceof cC){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:d,rotation:h,id:p,popupRef:m,richText:y,contentsObj:b,creationDate:S,modificationDate:_},textContent:E,textPosition:w,parent:{page:{pageNumber:T}}}=t;if(!E||E.length===0)return null;r=t={annotationType:Xt.FREETEXT,color:Array.from(c),fontSize:l,value:E.join(`
`),position:w,pageIndex:T-1,rect:d.slice(0),rotation:h,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:b?.str||null,richText:y,creationDate:S,modificationDate:_}}const a=await super.deserialize(t,e,i);return a.#n=t.fontSize,a.color=kt.makeHexColor(...t.color),a.#t=Sn.#d(t.value),a._initialData=r,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=jt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#h()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:e,fontSize:i,color:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==i||t.color.some((l,c)=>l!==r[c])||t.pageIndex!==a}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:i}=e;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,e.replaceChildren();for(const r of this.#t.split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),e.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Tt{static PRECISION=1e-4;toSVGPath(){Oe("Abstract method `toSVGPath` must be implemented.")}get box(){Oe("Abstract getter `box` must be implemented.")}serialize(t,e){Oe("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,r,a,l){l||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=e+t[c]*r,l[c+1]=i+t[c+1]*a;return l}static _rescaleAndSwap(t,e,i,r,a,l){l||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)l[c]=e+t[c+1]*r,l[c+1]=i+t[c]*a;return l}static _translate(t,e,i,r){r||=new Float32Array(t.length);for(let a=0,l=t.length;a<l;a+=2)r[a]=e+t[a],r[a+1]=i+t[a+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,r,a){switch(a){case 90:return[1-e/i,t/r];case 180:return[1-t/i,1-e/r];case 270:return[e/i,1-t/r];default:return[t/i,e/r]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,r,a,l){return[(t+5*i)/6,(e+5*r)/6,(5*i+a)/6,(5*r+l)/6,(i+a)/2,(r+l)/2]}}class ha{#t;#e=[];#i;#n;#a=[];#r=new Float32Array(18);#s;#o;#c;#l;#h;#d;#f=[];static#g=8;static#p=2;static#u=ha.#g+ha.#p;constructor({x:t,y:e},i,r,a,l,c=0){this.#t=i,this.#d=a*r,this.#n=l,this.#r.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=c,this.#l=ha.#g*r,this.#c=ha.#u*r,this.#h=r,this.#f.push(t,e)}isEmpty(){return isNaN(this.#r[8])}#m(){const t=this.#r.subarray(4,6),e=this.#r.subarray(16,18),[i,r,a,l]=this.#t;return[(this.#s+(t[0]-e[0])/2-i)/a,(this.#o+(t[1]-e[1])/2-r)/l,(this.#s+(e[0]-t[0])/2-i)/a,(this.#o+(e[1]-t[1])/2-r)/l]}add({x:t,y:e}){this.#s=t,this.#o=e;const[i,r,a,l]=this.#t;let[c,d,h,p]=this.#r.subarray(8,12);const m=t-h,y=e-p,b=Math.hypot(m,y);if(b<this.#c)return!1;const S=b-this.#l,_=S/b,E=_*m,w=_*y;let T=c,k=d;c=h,d=p,h+=E,p+=w,this.#f?.push(t,e);const F=-w/S,O=E/S,R=F*this.#d,D=O*this.#d;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([h+R,p+D],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([h-R,p-D],16),isNaN(this.#r[6])?(this.#a.length===0&&(this.#r.set([c+R,d+D],2),this.#a.push(NaN,NaN,NaN,NaN,(c+R-i)/a,(d+D-r)/l),this.#r.set([c-R,d-D],14),this.#e.push(NaN,NaN,NaN,NaN,(c-R-i)/a,(d-D-r)/l)),this.#r.set([T,k,c,d,h,p],6),!this.isEmpty()):(this.#r.set([T,k,c,d,h,p],6),Math.abs(Math.atan2(k-d,T-c)-Math.atan2(w,E))<Math.PI/2?([c,d,h,p]=this.#r.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+h)/2-i)/a,((d+p)/2-r)/l),[c,d,T,k]=this.#r.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+c)/2-i)/a,((k+d)/2-r)/l),!0):([T,k,c,d,h,p]=this.#r.subarray(0,6),this.#a.push(((T+5*c)/6-i)/a,((k+5*d)/6-r)/l,((5*c+h)/6-i)/a,((5*d+p)/6-r)/l,((c+h)/2-i)/a,((d+p)/2-r)/l),[h,p,c,d,T,k]=this.#r.subarray(12,18),this.#e.push(((T+5*c)/6-i)/a,((k+5*d)/6-r)/l,((5*c+h)/6-i)/a,((5*d+p)/6-r)/l,((c+h)/2-i)/a,((d+p)/2-r)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#b(i);for(let r=e.length-6;r>=6;r-=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);return this.#v(i),i.join(" ")}#y(){const[t,e,i,r]=this.#t,[a,l,c,d]=this.#m();return`M${(this.#r[2]-t)/i} ${(this.#r[3]-e)/r} L${(this.#r[4]-t)/i} ${(this.#r[5]-e)/r} L${a} ${l} L${c} ${d} L${(this.#r[16]-t)/i} ${(this.#r[17]-e)/r} L${(this.#r[14]-t)/i} ${(this.#r[15]-e)/r} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#b(t){const[e,i,r,a]=this.#t,l=this.#r.subarray(4,6),c=this.#r.subarray(16,18),[d,h,p,m]=this.#m();t.push(`L${(l[0]-e)/r} ${(l[1]-i)/a} L${d} ${h} L${p} ${m} L${(c[0]-e)/r} ${(c[1]-i)/a}`)}newFreeDrawOutline(t,e,i,r,a,l){return new pC(t,e,i,r,a,l)}getOutlines(){const t=this.#a,e=this.#e,i=this.#r,[r,a,l,c]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,y=d.length-2;m<y;m+=2)d[m]=(this.#f[m]-r)/l,d[m+1]=(this.#f[m+1]-a)/c;if(d[d.length-2]=(this.#s-r)/l,d[d.length-1]=(this.#o-a)/c,isNaN(i[6])&&!this.isEmpty())return this.#E(d);const h=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){h[m]=h[m+1]=NaN;continue}h[m]=t[m],h[m+1]=t[m+1]}p=this.#_(h,p);for(let m=e.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(e[m+y])){h[p]=h[p+1]=NaN,p+=2;continue}h[p]=e[m+y],h[p+1]=e[m+y+1],p+=2}return this.#w(h,p),this.newFreeDrawOutline(h,d,this.#t,this.#h,this.#i,this.#n)}#E(t){const e=this.#r,[i,r,a,l]=this.#t,[c,d,h,p]=this.#m(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(e[2]-i)/a,(e[3]-r)/l,NaN,NaN,NaN,NaN,(e[4]-i)/a,(e[5]-r)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(e[16]-i)/a,(e[17]-r)/l,NaN,NaN,NaN,NaN,(e[14]-i)/a,(e[15]-r)/l],0),this.newFreeDrawOutline(m,t,this.#t,this.#h,this.#i,this.#n)}#w(t,e){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6}#_(t,e){const i=this.#r.subarray(4,6),r=this.#r.subarray(16,18),[a,l,c,d]=this.#t,[h,p,m,y]=this.#m();return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-l)/d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-l)/d],e),e+=24}}class pC extends Tt{#t;#e=new Float32Array(4);#i;#n;#a;#r;#s;constructor(t,e,i,r,a,l){super(),this.#s=t,this.#a=e,this.#t=i,this.#r=r,this.#i=a,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,d,h,p]=this.#e;for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-c)/h,t[m+1]=(t[m+1]-d)/p;for(let m=0,y=e.length;m<y;m+=2)e[m]=(e[m]-c)/h,e[m+1]=(e[m+1]-d)/p}toSVGPath(){const t=[`M${this.#s[4]} ${this.#s[5]}`];for(let e=6,i=this.#s.length;e<i;e+=6){if(isNaN(this.#s[e])){t.push(`L${this.#s[e+4]} ${this.#s[e+5]}`);continue}t.push(`C${this.#s[e]} ${this.#s[e+1]} ${this.#s[e+2]} ${this.#s[e+3]} ${this.#s[e+4]} ${this.#s[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,i,r],a){const l=i-t,c=r-e;let d,h;switch(a){case 0:d=Tt._rescale(this.#s,t,r,l,-c),h=Tt._rescale(this.#a,t,r,l,-c);break;case 90:d=Tt._rescaleAndSwap(this.#s,t,e,l,c),h=Tt._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:d=Tt._rescale(this.#s,i,e,-l,c),h=Tt._rescale(this.#a,i,e,-l,c);break;case 270:d=Tt._rescaleAndSwap(this.#s,i,r,-l,-c),h=Tt._rescaleAndSwap(this.#a,i,r,-l,-c);break}return{outline:Array.from(d),points:[Array.from(h)]}}#o(t){const e=this.#s;let i=e[4],r=e[5];const a=[i,r,i,r];let l=i,c=r,d=i,h=r;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let b=6,S=e.length;b<S;b+=6){const _=e[b+4],E=e[b+5];isNaN(e[b])?(kt.pointBoundingBox(_,E,a),c>E?(l=_,c=E):c===E&&(l=p(l,_)),h<E?(d=_,h=E):h===E&&(d=p(d,_))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,kt.bezierBoundingBox(i,r,...e.slice(b,b+6),m),kt.rectBoundingBox(m[0],m[1],m[2],m[3],a),c>m[1]?(l=m[0],c=m[1]):c===m[1]&&(l=p(l,m[0])),h<m[3]?(d=m[2],h=m[3]):h===m[3]&&(d=p(d,m[2]))),i=_,r=E}const y=this.#e;y[0]=a[0]-this.#i,y[1]=a[1]-this.#i,y[2]=a[2]-a[0]+2*this.#i,y[3]=a[3]-a[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[d,h]}get box(){return this.#e}newOutliner(t,e,i,r,a,l=0){return new ha(t,e,i,r,a,l)}getNewOutline(t,e){const[i,r,a,l]=this.#e,[c,d,h,p]=this.#t,m=a*h,y=l*p,b=i*h+c,S=r*p+d,_=this.newOutliner({x:this.#a[0]*m+b,y:this.#a[1]*y+S},this.#t,this.#r,t,this.#n,e??this.#i);for(let E=2;E<this.#a.length;E+=2)_.add({x:this.#a[E]*m+b,y:this.#a[E+1]*y+S});return _.getOutlines()}}class Kg{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,i=0,r=!0){const a=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:_,y:E,width:w,height:T}of t){const k=Math.floor((_-e)/l)*l,F=Math.ceil((_+w+e)/l)*l,O=Math.floor((E-e)/l)*l,R=Math.ceil((E+T+e)/l)*l,D=[k,O,R,!0],j=[F,O,R,!1];this.#n.push(D,j),kt.rectBoundingBox(k,O,F,R,a)}const c=a[2]-a[0]+2*i,d=a[3]-a[1]+2*i,h=a[0]-i,p=a[1]-i;let m=r?-1/0:1/0,y=1/0;const b=this.#n.at(r?-1:-2),S=[b[0],b[2]];for(const _ of this.#n){const[E,w,T,k]=_;!k&&r?w<y?(y=w,m=E):w===y&&(m=Math.max(m,E)):k&&!r&&(w<y?(y=w,m=E):w===y&&(m=Math.min(m,E))),_[0]=(E-h)/c,_[1]=(w-p)/d,_[2]=(T-p)/d}this.#t=new Float32Array([h,p,c,d]),this.#e=[m,y],this.#i=S}getOutlines(){this.#n.sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#r(t)}#r(t){const e=[],i=new Set;for(const l of t){const[c,d,h]=l;e.push([c,d,l],[c,h,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const d=e[l][2],h=e[l+1][2];d.push(h),h.push(d),i.add(d),i.add(h)}const r=[];let a;for(;i.size>0;){const l=i.values().next().value;let[c,d,h,p,m]=l;i.delete(l);let y=c,b=d;for(a=[c,h],r.push(a);;){let S;if(i.has(p))S=p;else if(i.has(m))S=m;else break;i.delete(S),[c,d,h,p,m]=S,y!==c&&(a.push(y,b,c,b===d?d:h),y=c),b=b===d?h:d}a.push(y,b)}return new Lz(r,this.#t,this.#e,this.#i)}#s(t){const e=this.#a;let i=0,r=e.length-1;for(;i<=r;){const a=i+r>>1,l=e[a][0];if(l===t)return a;l<t?i=a+1:r=a-1}return r+1}#o([,t,e]){const i=this.#s(t);this.#a.splice(i,0,[t,e])}#c([,t,e]){const i=this.#s(t);for(let r=i;r<this.#a.length;r++){const[a,l]=this.#a[r];if(a!==t)break;if(a===t&&l===e){this.#a.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[a,l]=this.#a[r];if(a!==t)break;if(a===t&&l===e){this.#a.splice(r,1);return}}}#l(t){const[e,i,r]=t,a=[[e,i,r]],l=this.#s(r);for(let c=0;c<l;c++){const[d,h]=this.#a[c];for(let p=0,m=a.length;p<m;p++){const[,y,b]=a[p];if(!(h<=y||b<=d)){if(y>=d){if(b>h)a[p][1]=h;else{if(m===1)return[];a.splice(p,1),p--,m--}continue}a[p][2]=d,b>h&&a.push([e,h,b])}}}return a}}class Lz extends Tt{#t;#e;constructor(t,e,i,r){super(),this.#e=t,this.#t=e,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const t=[];for(const e of this.#e){let[i,r]=e;t.push(`M${i} ${r}`);for(let a=2;a<e.length;a+=2){const l=e[a],c=e[a+1];l===i?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${l}`),i=l)}t.push("Z")}return t.join(" ")}serialize([t,e,i,r],a){const l=[],c=i-t,d=r-e;for(const h of this.#e){const p=new Array(h.length);for(let m=0;m<h.length;m+=2)p[m]=t+h[m]*c,p[m+1]=r-h[m+1]*d;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Zg extends ha{newFreeDrawOutline(t,e,i,r,a,l){return new Pz(t,e,i,r,a,l)}}class Pz extends pC{newOutliner(t,e,i,r,a,l=0){return new Zg(t,e,i,r,a,l)}}class rn extends jt{#t=null;#e=0;#i;#n=null;#a=null;#r=null;#s=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Xt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=rn.prototype;return Jt(this,"_keyboardManager",new Xc([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||rn._defaultColor,this.#m=t.thickness||rn._defaultThickness,this.opacity=t.opacity||rn._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#d=!0,this.#b(t),this.#x()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#s=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new Kg(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Kg(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#r=e.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#r;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:e,clipPathId:i}){this.#l=t;const r=1.5;if(this.#r=t.getNewOutline(this.#m/2+r,.0025),e>=0)this.#h=e,this.#n=i,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:rn.#A(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:rn.#A(this.#r.box,m),path:{d:this.#r.toSVGPath()}})}const[a,l,c,d]=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=d;break;case 90:{const[m,y]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*y/m,this.height=d*m/y;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=d;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*y/m,this.height=d*m/y;break}}const{firstPoint:h}=t;this.#f=[(h[0]-a)/c,(h[1]-l)/d];const{lastPoint:p}=this.#r;this.#g=[(p[0]-a)/c,(p[1]-l)/d]}static initialize(t,e){jt.initialize(t,e),rn._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case le.HIGHLIGHT_COLOR:rn._defaultColor=e;break;case le.HIGHLIGHT_THICKNESS:rn._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case le.HIGHLIGHT_COLOR:this.#E(e);break;case le.HIGHLIGHT_THICKNESS:this.#w(e);break}}static get defaultPropertiesToUpdate(){return[[le.HIGHLIGHT_COLOR,rn._defaultColor],[le.HIGHLIGHT_THICKNESS,rn._defaultThickness]]}get propertiesToUpdate(){return[[le.HIGHLIGHT_COLOR,this.color||rn._defaultColor],[le.HIGHLIGHT_THICKNESS,this.#m||rn._defaultThickness],[le.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(t){const e=(a,l)=>{this.color=a,this.opacity=l,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:e.bind(this,t,rn._defaultOpacity),undo:e.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#w(t){const e=this.#m,i=r=>{this.#m=r,this.#_(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new vi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#O())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#O())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#T():t&&(this.#x(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){this.#d&&(this.#b({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#x(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([t,e,i,r],a){switch(a){case 90:return[1-e-r,t,r,i];case 180:return[1-t-i,1-e-r,i,r];case 270:return[e,1-t-i,r,i]}return[t,e,i,r]}rotate(t){const{drawLayer:e}=this.parent;let i;this.#d?(t=(t-this.rotation+360)%360,i=rn.#A(this.#l.box,t)):i=rn.#A([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:rn.#A(this.#r.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#R.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),$E(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#R(t){rn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#k(!0);break;case 1:case 3:this.#k(!1);break}}#k(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#s,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#d||this.#k(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#O(){return this.#d?this.rotation:0}#B(){if(this.#d)return null;const[t,e]=this.pageDimensions,[i,r]=this.pageTranslation,a=this.#i,l=new Float32Array(a.length*8);let c=0;for(const{x:d,y:h,width:p,height:m}of a){const y=d*t+i,b=(1-h)*e+r;l[c]=l[c+4]=y,l[c+1]=l[c+3]=b,l[c+2]=l[c+6]=y+p*t,l[c+5]=l[c+7]=b-m*e,c+=8}return l}#N(t){return this.#l.serialize(t,this.#O())}static startHighlighting(t,e,{target:i,x:r,y:a}){const{x:l,y:c,width:d,height:h}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),y=b=>{p.abort(),this.#F(t,b)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",qe,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Ai,{signal:m}),i.addEventListener("pointermove",this.#L.bind(this,t),{signal:m}),this._freeHighlight=new Zg({x:r,y:a},[l,c,d,h],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#L(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,i){let r=null;if(t instanceof dC){const{data:{quadPoints:S,rect:_,rotation:E,id:w,color:T,opacity:k,popupRef:F,richText:O,contentsObj:R,creationDate:D,modificationDate:j},parent:{page:{pageNumber:N}}}=t;r=t={annotationType:Xt.HIGHLIGHT,color:Array.from(T),opacity:k,quadPoints:S,boxes:null,pageIndex:N-1,rect:_.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,popupRef:F,richText:O,comment:R?.str||null,creationDate:D,modificationDate:j}}else if(t instanceof sb){const{data:{inkLists:S,rect:_,rotation:E,id:w,color:T,borderStyle:{rawWidth:k},popupRef:F,richText:O,contentsObj:R,creationDate:D,modificationDate:j},parent:{page:{pageNumber:N}}}=t;r=t={annotationType:Xt.HIGHLIGHT,color:Array.from(T),thickness:k,inkLists:S,boxes:null,pageIndex:N-1,rect:_.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,popupRef:F,richText:O,comment:R?.str||null,creationDate:D,modificationDate:j}}const{color:a,quadPoints:l,inkLists:c,opacity:d}=t,h=await super.deserialize(t,e,i);h.color=kt.makeHexColor(...a),h.opacity=d||1,c&&(h.#m=t.thickness),h._initialData=r,t.comment&&h.setCommentData(t);const[p,m]=h.pageDimensions,[y,b]=h.pageTranslation;if(l){const S=h.#i=[];for(let _=0;_<l.length;_+=8)S.push({x:(l[_]-y)/p,y:1-(l[_+1]-b)/m,width:(l[_+2]-l[_])/p,height:(l[_+1]-l[_+5])/m});h.#v(),h.#x(),h.rotate(h.rotation)}else if(c){h.#d=!0;const S=c[0],_={x:S[0]-y,y:m-(S[1]-b)},E=new Zg(_,[0,0,p,m],1,h.#m/2,!0,.001);for(let k=0,F=S.length;k<F;k+=2)_.x=S[k]-y,_.y=m-(S[k+1]-b),E.add(_);const{id:w,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);h.#b({highlightOutlines:E.getOutlines(),highlightId:w,clipPathId:T}),h.#x(),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=jt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:e,opacity:this.opacity,thickness:this.#m,quadPoints:this.#B(),outlines:this.#N(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#P(i)?null:(i.id=this.annotationElementId,i)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((i,r)=>i!==e[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class mC{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Oe("Not implemented")}}class zt extends jt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#r=NaN;static#s=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#h(t,this.parent),this.#u(t.box)}#h(t,e){const{id:i}=e.drawLayer.draw(zt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,e){const i=new Set(Object.keys(t));for(const[r,a]of Object.entries(e))i.has(r)?Object.assign(t[r],a):t[r]=a;return t}static getDefaultDrawingOptions(t){Oe("Not implemented")}static get typesMap(){Oe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,e),this._currentParent&&(zt.#i.updateProperty(i,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,e[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,e[r]]);return t}_updateProperty(t,e,i){const r=this._drawingOptions,a=r[e],l=c=>{r.updateProperty(e,c);const d=this.#t.updateProperty(e,c);d&&this.#u(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,zt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,zt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,zt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#d(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#d()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#d(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#t,t)}}#g([t,e,i,r]){const{parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[e,1-t,i*(l/a),r*(a/l)];case 180:return[1-t,1-e,i,r];case 270:return[1-e,t,i*(l/a),r*(a/l)];default:return[t,e,i,r]}}#p(){const{x:t,y:e,width:i,height:r,parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[1-e,t,i*(a/l),r*(l/a)];case 180:return[1-t,1-e,i,r];case 270:return[e,1-t,i*(a/l),r*(l/a)];default:return[t,e,i,r]}}#u(t){[this.x,this.y,this.width,this.height]=this.#g(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:t,y:e,width:i,height:r,rotation:a,parentRotation:l,parentDimensions:[c,d]}=this;switch((a*4+l)/90){case 1:return[1-e-r,t,r,i];case 2:return[1-t-i,1-e-r,i,r];case 3:return[e,1-t-i,r,i];case 4:return[t,e-i*(c/d),r*(d/c),i*(c/d)];case 5:return[1-e,t,i*(c/d),r*(d/c)];case 6:return[1-t-r*(d/c),1-e,r*(d/c),i*(c/d)];case 7:return[e-i*(c/d),1-t-r*(d/c),i*(c/d),r*(d/c)];case 8:return[t-i,e-r,i,r];case 9:return[1-e,t-i,r,i];case 10:return[1-t,1-e,i,r];case 11:return[e-r,1-t,r,i];case 12:return[t-r*(d/c),e,r*(d/c),i*(c/d)];case 13:return[1-e-i*(c/d),t-r*(d/c),i*(c/d),r*(d/c)];case 14:return[1-t,1-e-i*(c/d),r*(d/c),i*(c/d)];case 15:return[e,1-t,i*(c/d),r*(d/c)];default:return[t,e,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,zt._mergeSVGProperties({bbox:this.#m()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),i}static createDrawerInstance(t,e,i,r,a){Oe("Not implemented")}static startDrawing(t,e,i,r){const{target:a,offsetX:l,offsetY:c,pointerId:d,pointerType:h}=r;if(zt.#s&&zt.#s!==h)return;const{viewport:{rotation:p}}=t,{width:m,height:y}=a.getBoundingClientRect(),b=zt.#n=new AbortController,S=t.combinedSignal(b);if(zt.#r||=d,zt.#s??=h,window.addEventListener("pointerup",_=>{zt.#r===_.pointerId?this._endDraw(_):zt.#o?.delete(_.pointerId)},{signal:S}),window.addEventListener("pointercancel",_=>{zt.#r===_.pointerId?this._currentParent.endDrawingSession():zt.#o?.delete(_.pointerId)},{signal:S}),window.addEventListener("pointerdown",_=>{zt.#s===_.pointerType&&((zt.#o||=new Set).add(_.pointerId),zt.#i.isCancellable()&&(zt.#i.removeLastElement(),zt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",Ai,{signal:S}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),a.addEventListener("touchmove",_=>{_.timeStamp===zt.#c&&qe(_)},{signal:S}),t.toggleDrawing(),e._editorUndoBar?.hide(),zt.#i){t.drawLayer.updateProperties(this._currentDrawId,zt.#i.startNew(l,c,m,y,p));return}e.updateUIForDefaultProperties(this),zt.#i=this.createDrawerInstance(l,c,m,y,p),zt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(zt.#a.toSVGProperties(),zt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(zt.#c=-1,!zt.#i)return;const{offsetX:e,offsetY:i,pointerId:r}=t;if(zt.#r===r){if(zt.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,zt.#i.add(e,i)),zt.#c=t.timeStamp,qe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,zt.#i=null,zt.#a=null,zt.#s=null,zt.#c=NaN),zt.#n&&(zt.#n.abort(),zt.#n=null,zt.#r=NaN,zt.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,zt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=zt.#i,r=this._currentDrawId,a=i.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(r,i.setLastElement(a))},undo:()=>{e.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:le.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(le.DRAW_STEP),!zt.#i.isEmpty()){const{pageDimensions:[i,r],scale:a}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:zt.#i.getOutlines(i*a,r*a,a,this._INNER_MARGIN),drawingOptions:zt.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,i,r,a,l){Oe("Not implemented")}static async deserialize(t,e,i){const{rawDims:{pageWidth:r,pageHeight:a,pageX:l,pageY:c}}=e.viewport,d=this.deserializeDraw(l,c,r,a,this._INNER_MARGIN,t),h=await super.deserialize(t,e,i);return h.createDrawingOptions(t),h.#l({drawOutlines:d}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[e,i]=this.pageTranslation,[r,a]=this.pageDimensions;return this.#t.serialize([e,i,r,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class jz{#t=new Float64Array(6);#e;#i;#n;#a;#r;#s="";#o=0;#c=new Kc;#l;#h;constructor(t,e,i,r,a,l){this.#l=i,this.#h=r,this.#n=a,this.#a=l,[t,e]=this.#d(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e],this.#i=[{line:c,points:this.#r}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#d(t,e){return Tt._normalizePoint(t,e,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#r.length<=10}add(t,e){[t,e]=this.#d(t,e);const[i,r,a,l]=this.#t.subarray(2,6),c=t-a,d=e-l;return Math.hypot(this.#l*c,this.#h*d)<=2?null:(this.#r.push(t,e),isNaN(i)?(this.#t.set([a,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,a,l,t,e],0),this.#e.push(...Tt.createBezierPoints(i,r,a,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,r,a){this.#l=i,this.#h=r,this.#n=a,[t,e]=this.#d(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#r}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#r=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#s="";for(let t=0,e=this.#i.length;t<e;t++){const{line:i,points:r}=this.#i[t];this.#e=i,this.#r=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const t=Tt.svgRound(this.#e[4]),e=Tt.svgRound(this.#e[5]);if(this.#r.length===2)return this.#s=`${this.#s} M ${t} ${e} Z`,this.#s;if(this.#r.length<=6){const r=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,r)} M ${t} ${e}`,this.#o=6}if(this.#r.length===4){const r=Tt.svgRound(this.#e[10]),a=Tt.svgRound(this.#e[11]);return this.#s=`${this.#s} L ${r} ${a}`,this.#o=12,this.#s}const i=[];this.#o===0&&(i.push(`M ${t} ${e}`),this.#o=6);for(let r=this.#o,a=this.#e.length;r<a;r+=6){const[l,c,d,h,p,m]=this.#e.slice(r,r+6).map(Tt.svgRound);i.push(`C${l} ${c} ${d} ${h} ${p} ${m}`)}return this.#s+=i.join(" "),this.#o=this.#e.length,this.#s}getOutlines(t,e,i,r){const a=this.#i.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#i,t,e,i,this.#n,this.#a,r),this.#t=null,this.#e=null,this.#i=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Kc extends Tt{#t;#e=0;#i;#n;#a;#r;#s;#o;#c;build(t,e,i,r,a,l,c){this.#a=e,this.#r=i,this.#s=r,this.#o=a,this.#c=l,this.#i=c??0,this.#n=t,this.#d()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${Tt.svgRound(e[4])} ${Tt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${Tt.svgRound(e[10])} ${Tt.svgRound(e[11])}`);continue}for(let i=6,r=e.length;i<r;i+=6){const[a,l,c,d,h,p]=e.subarray(i,i+6).map(Tt.svgRound);t.push(`C${a} ${l} ${c} ${d} ${h} ${p}`)}}return t.join("")}serialize([t,e,i,r],a){const l=[],c=[],[d,h,p,m]=this.#h();let y,b,S,_,E,w,T,k,F;switch(this.#o){case 0:F=Tt._rescale,y=t,b=e+r,S=i,_=-r,E=t+d*i,w=e+(1-h-m)*r,T=t+(d+p)*i,k=e+(1-h)*r;break;case 90:F=Tt._rescaleAndSwap,y=t,b=e,S=i,_=r,E=t+h*i,w=e+d*r,T=t+(h+m)*i,k=e+(d+p)*r;break;case 180:F=Tt._rescale,y=t+i,b=e,S=-i,_=r,E=t+(1-d-p)*i,w=e+h*r,T=t+(1-d)*i,k=e+(h+m)*r;break;case 270:F=Tt._rescaleAndSwap,y=t+i,b=e+r,S=-i,_=-r,E=t+(1-h-m)*i,w=e+(1-d-p)*r,T=t+(1-h)*i,k=e+(1-d)*r;break}for(const{line:O,points:R}of this.#n)l.push(F(O,y,b,S,_,a?new Array(O.length):null)),c.push(F(R,y,b,S,_,a?new Array(R.length):null));return{lines:l,points:c,rect:[E,w,T,k]}}static deserialize(t,e,i,r,a,{paths:{lines:l,points:c},rotation:d,thickness:h}){const p=[];let m,y,b,S,_;switch(d){case 0:_=Tt._rescale,m=-t/i,y=e/r+1,b=1/i,S=-1/r;break;case 90:_=Tt._rescaleAndSwap,m=-e/r,y=-t/i,b=1/r,S=1/i;break;case 180:_=Tt._rescale,m=t/i+1,y=-e/r,b=-1/i,S=1/r;break;case 270:_=Tt._rescaleAndSwap,m=e/r+1,y=t/i+1,b=-1/r,S=-1/i;break}if(!l){l=[];for(const w of c){const T=w.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const k=new Float32Array(3*(T-2));l.push(k);let[F,O,R,D]=w.subarray(0,4);k.set([NaN,NaN,NaN,NaN,F,O],0);for(let j=4;j<T;j+=2){const N=w[j],L=w[j+1];k.set(Tt.createBezierPoints(F,O,R,D,N,L),(j-2)*3),[F,O,R,D]=[R,D,N,L]}}}for(let w=0,T=l.length;w<T;w++)p.push({line:_(l[w].map(k=>k??NaN),m,y,b,S),points:_(c[w].map(k=>k??NaN),m,y,b,S)});const E=new this.prototype.constructor;return E.build(p,i,r,1,d,h,a),E}#l(t=this.#c){const e=this.#i+t/2*this.#s;return this.#o%180===0?[e/this.#a,e/this.#r]:[e/this.#r,e/this.#a]}#h(){const[t,e,i,r]=this.#t,[a,l]=this.#l(0);return[t+a,e+l,i-2*a,r-2*l]}#d(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,d=r.length;c<d;c+=6)kt.pointBoundingBox(r[c],r[c+1],t);continue}let a=r[4],l=r[5];for(let c=6,d=r.length;c<d;c+=6){const[h,p,m,y,b,S]=r.subarray(c,c+6);kt.bezierBoundingBox(a,l,h,p,m,y,b,S,t),a=b,l=S}}const[e,i]=this.#l();t[0]=Pn(t[0]-e,0,1),t[1]=Pn(t[1]-i,0,1),t[2]=Pn(t[2]+e,0,1),t[3]=Pn(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,i]=this.#l();this.#c=t;const[r,a]=this.#l(),[l,c]=[r-e,a-i],d=this.#t;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateParentDimensions([t,e],i){const[r,a]=this.#l();this.#a=t,this.#r=e,this.#s=i;const[l,c]=this.#l(),d=l-r,h=c-a,p=this.#t;return p[0]-=d,p[1]-=h,p[2]+=2*d,p[3]+=2*h,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Tt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Tt.svgRound(t)} ${Tt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let i=0,r=0,a=0,l=0,c=0,d=0;switch(this.#e){case 90:r=e/t,a=-t/e,c=t;break;case 180:i=-1,l=-1,c=t,d=e;break;case 270:r=-e/t,a=t/e,d=e;break;default:return""}return`matrix(${i} ${r} ${a} ${l} ${Tt.svgRound(c)} ${Tt.svgRound(d)})`}getPathResizingSVGProperties([t,e,i,r]){const[a,l]=this.#l(),[c,d,h,p]=this.#t;if(Math.abs(h-a)<=Tt.PRECISION||Math.abs(p-l)<=Tt.PRECISION){const _=t+i/2-(c+h/2),E=e+r/2-(d+p/2);return{path:{"transform-origin":`${Tt.svgRound(t)} ${Tt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${_} ${E})`}}}const m=(i-2*a)/(h-2*a),y=(r-2*l)/(p-2*l),b=h/i,S=p/r;return{path:{"transform-origin":`${Tt.svgRound(c)} ${Tt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${S}) translate(${Tt.svgRound(a)} ${Tt.svgRound(l)}) scale(${m} ${y}) translate(${Tt.svgRound(-a)} ${Tt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,i,r]){const[a,l]=this.#l(),c=this.#t,[d,h,p,m]=c;if(c[0]=t,c[1]=e,c[2]=i,c[3]=r,Math.abs(p-a)<=Tt.PRECISION||Math.abs(m-l)<=Tt.PRECISION){const E=t+i/2-(d+p/2),w=e+r/2-(h+m/2);for(const{line:T,points:k}of this.#n)Tt._translate(T,E,w,T),Tt._translate(k,E,w,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Tt.svgRound(t)} ${Tt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(i-2*a)/(p-2*a),b=(r-2*l)/(m-2*l),S=-y*(d+a)+t+a,_=-b*(h+l)+e+l;if(y!==1||b!==1||S!==0||_!==0)for(const{line:E,points:w}of this.#n)Tt._rescale(E,S,_,y,b,E),Tt._rescale(w,S,_,y,b,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Tt.svgRound(t)} ${Tt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],i){const[r,a]=i,l=this.#t,c=t-l[0],d=e-l[1];if(this.#a===r&&this.#r===a)for(const{line:h,points:p}of this.#n)Tt._translate(h,c,d,h),Tt._translate(p,c,d,p);else{const h=this.#a/r,p=this.#r/a;this.#a=r,this.#r=a;for(const{line:m,points:y}of this.#n)Tt._rescale(m,c,d,h,p,m),Tt._rescale(y,c,d,h,p,y);l[2]*=h,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Tt.svgRound(t)} ${Tt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Tt.svgRound(t[0])} ${Tt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Yh extends mC{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:jt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Yh(this._viewParameters);return t.updateAll(this),t}}class ob extends zt{static _type="ink";static _editorType=Xt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){jt.initialize(t,e),this._defaultDrawingOptions=new Yh(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Jt(this,"typesMap",new Map([[le.INK_THICKNESS,"stroke-width"],[le.INK_COLOR,"stroke"],[le.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,i,r,a){return new jz(t,e,i,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,i,r,a,l){return Kc.deserialize(t,e,i,r,a,l)}static async deserialize(t,e,i){let r=null;if(t instanceof sb){const{data:{inkLists:l,rect:c,rotation:d,id:h,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:b,richText:S,contentsObj:_,creationDate:E,modificationDate:w},parent:{page:{pageNumber:T}}}=t;r=t={annotationType:Xt.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:l},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:d,annotationElementId:h,id:h,deleted:!1,popupRef:b,richText:S,comment:_?.str||null,creationDate:E,modificationDate:w}}const a=await super.deserialize(t,e,i);return a._initialData=r,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||=new kc(this),[["colorPicker",this._colorPicker]]}get colorType(){return le.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:i}=this;e.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:i}){this._drawingOptions=ob.getDefaultDrawingOptions({stroke:kt.makeHexColor(...t),"stroke-width":e,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":a,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:jt._colorManager.convert(r),opacity:a,thickness:l,paths:{lines:e,points:i}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:i,opacity:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==i||t.opacity!==r||t.pageIndex!==a}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Qg extends Kc{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Ld=8,Zl=3;class la{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,i,r){return i-=t,r-=e,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,i,r,a,l,c){const d=this.#e(i,r,a,l);for(let h=0;h<8;h++){const p=(-h+d-c+16)%8,m=this.#i[2*p],y=this.#i[2*p+1];if(t[(i+m)*e+(r+y)]!==0)return p}return-1}static#a(t,e,i,r,a,l,c){const d=this.#e(i,r,a,l);for(let h=0;h<8;h++){const p=(h+d+c+16)%8,m=this.#i[2*p],y=this.#i[2*p+1];if(t[(i+m)*e+(r+y)]!==0)return p}return-1}static#r(t,e,i,r){const a=t.length,l=new Int32Array(a);for(let p=0;p<a;p++)l[p]=t[p]<=r?1:0;for(let p=1;p<i-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*i-1-p]=0;let c=1,d;const h=[];for(let p=1;p<i-1;p++){d=1;for(let m=1;m<e-1;m++){const y=p*e+m,b=l[y];if(b===0)continue;let S=p,_=m;if(b===1&&l[y-1]===0)c+=1,_-=1;else if(b>=1&&l[y+1]===0)c+=1,_+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const E=[m,p],w=_===m+1,T={isHole:w,points:E,id:c,parent:0};h.push(T);let k;for(const I of h)if(I.id===d){k=I;break}k?k.isHole?T.parent=w?k.parent:d:T.parent=w?d:k.parent:T.parent=w?d:0;const F=this.#n(l,e,p,m,S,_,0);if(F===-1){l[y]=-c,l[y]!==1&&(d=Math.abs(l[y]));continue}let O=this.#i[2*F],R=this.#i[2*F+1];const D=p+O,j=m+R;S=D,_=j;let N=p,L=m;for(;;){const I=this.#a(l,e,N,L,S,_,1);O=this.#i[2*I],R=this.#i[2*I+1];const H=N+O,q=L+R;E.push(q,H);const G=N*e+L;if(l[G+1]===0?l[G]=-c:l[G]===1&&(l[G]=c),H===p&&q===m&&N===D&&L===j){l[y]!==1&&(d=Math.abs(l[y]));break}else S=N,_=L,N=H,L=q}}}return h}static#s(t,e,i,r){if(i-e<=4){for(let D=e;D<i-2;D+=2)r.push(t[D],t[D+1]);return}const a=t[e],l=t[e+1],c=t[i-4]-a,d=t[i-3]-l,h=Math.hypot(c,d),p=c/h,m=d/h,y=p*l-m*a,b=d/c,S=1/h,_=Math.atan(b),E=Math.cos(_),w=Math.sin(_),T=S*(Math.abs(E)+Math.abs(w)),k=S*(1-T+T**2),F=Math.max(Math.atan(Math.abs(w+E)*k),Math.atan(Math.abs(w-E)*k));let O=0,R=e;for(let D=e+2;D<i-2;D+=2){const j=Math.abs(y-p*t[D+1]+m*t[D]);j>O&&(R=D,O=j)}O>(h*F)**2?(this.#s(t,e,R+2,r),this.#s(t,R,i,r)):r.push(a,l)}static#o(t){const e=[],i=t.length;return this.#s(t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e}static#c(t,e,i,r,a,l){const c=new Float32Array(l**2),d=-2*r**2,h=l>>1;for(let _=0;_<l;_++){const E=(_-h)**2;for(let w=0;w<l;w++)c[_*l+w]=Math.exp((E+(w-h)**2)/d)}const p=new Float32Array(256),m=-2*a**2;for(let _=0;_<256;_++)p[_]=Math.exp(_**2/m);const y=t.length,b=new Uint8Array(y),S=new Uint32Array(256);for(let _=0;_<i;_++)for(let E=0;E<e;E++){const w=_*e+E,T=t[w];let k=0,F=0;for(let R=0;R<l;R++){const D=_+R-h;if(!(D<0||D>=i))for(let j=0;j<l;j++){const N=E+j-h;if(N<0||N>=e)continue;const L=t[D*e+N],I=c[R*l+j]*p[Math.abs(L-T)];k+=L*I,F+=I}}const O=b[w]=Math.round(k/F);S[O]++}return[b,S]}static#l(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e}static#h(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let r=-1/0,a=1/0;for(let c=0,d=i.length;c<d;c++){const h=i[c]=t[c<<2];r=Math.max(r,h),a=Math.min(a,h)}const l=255/(r-a);for(let c=0,d=i.length;c<d;c++)i[c]=(i[c]-a)*l;return i}static#d(t){let e,i=-1/0,r=-1/0;const a=t.findIndex(d=>d!==0);let l=a,c=a;for(e=a;e<256;e++){const d=t[e];d>i&&(e-l>r&&(r=e-l,c=e-1),i=d,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:i,height:r}=t,{maxDim:a}=this.#t;let l=i,c=r;if(i>a||r>a){let y=i,b=r,S=Math.log2(Math.max(i,r)/a);const _=Math.floor(S);S=S===_?_-1:_;for(let w=0;w<S;w++){l=Math.ceil(y/2),c=Math.ceil(b/2);const T=new OffscreenCanvas(l,c);T.getContext("2d").drawImage(t,0,0,y,b,0,0,l,c),y=l,b=c,t!==e&&t.close(),t=T.transferToImageBitmap()}const E=Math.min(a/l,a/c);l=Math.round(l*E),c=Math.round(c*E)}const h=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,l,c),h.filter="grayscale(1)",h.drawImage(t,0,0,t.width,t.height,0,0,l,c);const p=h.getImageData(0,0,l,c).data;return[this.#h(p),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:r},a,l,c,d){let h=new OffscreenCanvas(1,1),p=h.getContext("2d",{alpha:!1});const m=200,y=p.font=`${i} ${r} ${m}px ${e}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:S,actualBoundingBoxAscent:_,actualBoundingBoxDescent:E,fontBoundingBoxAscent:w,fontBoundingBoxDescent:T,width:k}=p.measureText(t),F=1.5,O=Math.ceil(Math.max(Math.abs(b)+Math.abs(S)||0,k)*F),R=Math.ceil(Math.max(Math.abs(_)+Math.abs(E)||m,Math.abs(w)+Math.abs(T)||m)*F);h=new OffscreenCanvas(O,R),p=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,O,R),p.fillStyle="black",p.fillText(t,O*(F-1)/2,R*(3-F)/2);const D=this.#h(p.getImageData(0,0,O,R).data),j=this.#l(D),N=this.#d(j),L=this.#r(D,O,R,N);return this.processDrawnLines({lines:{curves:L,width:O,height:R},pageWidth:a,pageHeight:l,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,e,i,r,a){const[l,c,d]=this.#f(t),[h,p]=this.#c(l,c,d,Math.hypot(c,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#d(p),y=this.#r(h,c,d,m);return this.processDrawnLines({lines:{curves:y,width:c,height:d},pageWidth:e,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:l,areContours:c}){r%180!==0&&([e,i]=[i,e]);const{curves:d,width:h,height:p}=t,m=t.thickness??0,y=[],b=Math.min(e/h,i/p),S=b/e,_=b/i,E=[];for(const{points:T}of d){const k=l?this.#o(T):T;if(!k)continue;E.push(k);const F=k.length,O=new Float32Array(F),R=new Float32Array(3*(F===2?2:F-2));if(y.push({line:R,points:O}),F===2){O[0]=k[0]*S,O[1]=k[1]*_,R.set([NaN,NaN,NaN,NaN,O[0],O[1]],0);continue}let[D,j,N,L]=k;D*=S,j*=_,N*=S,L*=_,O.set([D,j,N,L],0),R.set([NaN,NaN,NaN,NaN,D,j],0);for(let I=4;I<F;I+=2){const H=O[I]=k[I]*S,q=O[I+1]=k[I+1]*_;R.set(Tt.createBezierPoints(D,j,N,L,H,q),(I-2)*3),[D,j,N,L]=[N,L,H,q]}}if(y.length===0)return null;const w=c?new Qg:new Kc;return w.build(y,e,i,1,r,c?0:m,a),{outline:w,newCurves:E,areContours:c,thickness:m,width:h,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:r,height:a}){let l=1/0,c=-1/0,d=0;for(const k of t){d+=k.length;for(let F=2,O=k.length;F<O;F++){const R=k[F]-k[F-2];l=Math.min(l,R),c=Math.max(c,R)}}let h;l>=-128&&c<=127?h=Int8Array:l>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const p=t.length,m=Ld+Zl*p,y=new Uint32Array(m);let b=0;y[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*h.BYTES_PER_ELEMENT,y[b++]=0,y[b++]=r,y[b++]=a,y[b++]=e?0:1,y[b++]=Math.max(0,Math.floor(i??0)),y[b++]=p,y[b++]=h.BYTES_PER_ELEMENT;for(const k of t)y[b++]=k.length-2,y[b++]=k[0],y[b++]=k[1];const S=new CompressionStream("deflate-raw"),_=S.writable.getWriter();await _.ready,_.write(y);const E=h.prototype.constructor;for(const k of t){const F=new E(k.length-2);for(let O=2,R=k.length;O<R;O++)F[O-2]=k[O]-k[O-2];_.write(F)}_.close();const w=await new Response(S.readable).arrayBuffer(),T=new Uint8Array(w);return jE(T)}static async decompressSignature(t){try{const e=oI(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(e).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let l=null,c=0;for await(const k of i)l||=new Uint8Array(new Uint32Array(k.buffer,0,4)[0]),l.set(k,c),c+=k.length;const d=new Uint32Array(l.buffer,0,l.length>>2),h=d[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const p=d[2],m=d[3],y=d[4]===0,b=d[5],S=d[6],_=d[7],E=[],w=(Ld+Zl*S)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(_){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,w);break}c=0;for(let k=0;k<S;k++){const F=d[Zl*k+Ld],O=new Float32Array(F+2);E.push(O);for(let R=0;R<Zl-1;R++)O[R]=d[Zl*k+Ld+R+1];for(let R=0;R<F;R++)O[R+2]=O[R]+T[c++]}return{areContours:y,thickness:b,outlines:E,width:p,height:m}}catch(e){return Yt(`decompressSignature: ${e}`),null}}}class lb extends mC{constructor(){super(),super.updateProperties({fill:jt._defaultLineColor,"stroke-width":0})}clone(){const t=new lb;return t.updateAll(this),t}}class cb extends Yh{constructor(t){super(t),super.updateProperties({stroke:jt._defaultLineColor,"stroke-width":1})}clone(){const t=new cb(this._viewParameters);return t.updateAll(this),t}}class yr extends zt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Xt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){jt.initialize(t,e),this._defaultDrawingOptions=new lb,this._defaultDrawnSignatureOptions=new cb(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Jt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:a,areContours:l,description:c,uuid:d,heightInPage:h}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,b=la.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:y,innerMargin:yr._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(b,h,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:i,width:r,height:a}=this.#i,l=Math.max(r,a),c=la.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:r,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,i,r){const{x:a,y:l}=this,{outline:c}=this.#i=t;this.#t=c instanceof Qg,this.description=i;let d;this.#t?d=yr.getDefaultDrawingOptions():(d=yr._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,h]=this.pageDimensions;let p=e/h;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return la.process(t,e,i,r,yr._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return la.extractContoursFromText(t,e,i,r,a,yr._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:i},rotation:r}=this.parent.viewport;return la.processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:r,innerMargin:yr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=yr.getDefaultDrawingOptions():(this._drawingOptions=yr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(a),t?(a.paths={lines:e,points:i},a.uuid=this.#n,a.isCopy=!0):a.lines=e,this.#e&&(a.accessibilityData={type:"Figure",alt:this.#e}),a}static deserializeDraw(t,e,i,r,a,l){return l.areContours?Qg.deserialize(t,e,i,r,a,l):Kc.deserialize(t,e,i,r,a,l)}static async deserialize(t,e,i){const r=await super.deserialize(t,e,i);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class Bz extends jt{#t=null;#e=null;#i=null;#n=null;#a=null;#r="";#s=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Xt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){jt.initialize(t,e)}static isHandlingMimeForPasting(t){return yh.includes(t)}static paste(t,e){e.pasteEditor({mode:Xt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#d(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#r=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:r,width:a,height:l,channels:r.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),e&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#d(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#d(r)).finally(()=>this.#f());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#d(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=yh.join(",");const e=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}i()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#s===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},t)}#p(){const{div:t}=this;let{width:e,height:i}=this.#t;const[r,a]=this.pageDimensions,l=.75;if(this.width)e=this.width*r,i=this.height*a;else if(e>l*r||i>l*a){const d=Math.min(l*r/e,l*a/i);e*=d,i*=d}this._uiManager.enableWaiting(!1);const c=this.#s=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/r,this.height=i/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#m(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,i=!1){t||(t=224);const{width:r,height:a}=this.#t,l=new Ji;let c=this.#t,d=r,h=a,p=null;if(e){if(r>e||a>e){const R=Math.min(e/r,e/a);d=Math.floor(r*R),h=Math.floor(a*R)}p=document.createElement("canvas");const y=p.width=Math.ceil(d*l.sx),b=p.height=Math.ceil(h*l.sy);this.#l||(c=this.#u(y,b));const S=p.getContext("2d");S.filter=this._uiManager.hcmFilter;let _="white",E="#cfcfd8";this._uiManager.hcmFilter!=="none"?E="black":uI.isDarkMode&&(_="#8f8f9d",E="#42414d");const w=15,T=w*l.sx,k=w*l.sy,F=new OffscreenCanvas(T*2,k*2),O=F.getContext("2d");O.fillStyle=_,O.fillRect(0,0,T*2,k*2),O.fillStyle=E,O.fillRect(0,0,T,k),O.fillRect(T,k,T,k),S.fillStyle=S.createPattern(F,"repeat"),S.fillRect(0,0,y,b),S.drawImage(c,0,0,c.width,c.height,0,0,y,b)}let m=null;if(i){let y,b;if(l.symmetric&&c.width<t&&c.height<t)y=c.width,b=c.height;else if(c=this.#t,r>t||a>t){const E=Math.min(t/r,t/a);y=Math.floor(r*E),b=Math.floor(a*E),this.#l||(c=this.#u(y,b))}const _=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});_.drawImage(c,0,0,c.width,c.height,0,0,y,b),m={width:y,height:b,data:_.getImageData(0,0,y,b).data}}return{canvas:p,width:d,height:h,imageData:m}}#u(t,e){const{width:i,height:r}=this.#t;let a=i,l=r,c=this.#t;for(;a>2*t||l>2*e;){const d=a,h=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(a,l);p.getContext("2d").drawImage(c,0,0,d,h,0,0,a,l),c=p.transferToImageBitmap()}return c}#m(){const[t,e]=this.parentDimensions,{width:i,height:r}=this,a=new Ji,l=Math.ceil(i*t*a.sx),c=Math.ceil(r*e*a.sy),d=this.#s;if(!d||d.width===l&&d.height===c)return;d.width=l,d.height=c;const h=this.#l?this.#t:this.#u(l,c),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(h,0,0,h.width,h.height,0,0,l,c)}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,i]=this.pageDimensions,r=Math.round(this.width*e*_a.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*_a.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,a);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,a),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,i){let r=null,a=!1;if(t instanceof hC){const{data:{rect:_,rotation:E,id:w,structParent:T,popupRef:k,richText:F,contentsObj:O,creationDate:R,modificationDate:D},container:j,parent:{page:{pageNumber:N}},canvas:L}=t;let I,H;L?(delete t.canvas,{id:I,bitmap:H}=i.imageManager.getFromCanvas(j.id,L),L.remove()):(a=!0,t._hasNoCanvas=!0);const q=(await e._structTree.getAriaAttributes(`${Vy}${w}`))?.get("aria-label")||"";r=t={annotationType:Xt.STAMP,bitmapId:I,bitmap:H,pageIndex:N-1,rect:_.slice(0),rotation:E,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:q},isSvg:!1,structParent:T,popupRef:k,richText:F,comment:O?.str||null,creationDate:R,modificationDate:D}}const l=await super.deserialize(t,e,i),{rect:c,bitmap:d,bitmapUrl:h,bitmapId:p,isSvg:m,accessibilityData:y}=t;a?(i.addMissingCanvas(t.id,l),l.#o=!0):p&&i.imageManager.isValidId(p)?(l.#e=p,d&&(l.#t=d)):l.#n=h,l.#l=m;const[b,S]=l.pageDimensions;return l.width=(c[2]-c[0])/b,l.height=(c[3]-c[1])/S,y&&(l.altTextData=y),l._initialData=r,t.comment&&l.setCommentData(t),l.#h=!!r,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#y(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#v(i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(e===null)return i;e.stamps||=new Map;const l=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:i}),i.bitmap=this.#y(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return i}#v(t){const{pageIndex:e,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===e,a=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class xr{#t;#e=!1;#i=null;#n=null;#a=null;#r=new Map;#s=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([Sn,ob,Bz,rn,yr].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:l,drawLayer:c,textLayer:d,viewport:h,l10n:p}){const m=[...xr.#m.values()];if(!xr._initialized){xr._initialized=!0;for(const y of m)y.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=e,this.div=i,this.#t=a,this.#i=l,this.viewport=h,this.#d=d,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Xt.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#_(),t){case Xt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Xt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const i of xr.#m.values())e.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#d?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#r.size!==0?this.#r.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#y)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const e=this.#i;if(e)for(const i of e.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",r=>{const{clientX:l,clientY:c,timeStamp:d}=r,h=this.#p;if(d-h>500){this.#p=d;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const m=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(m[0]))return;let y;const b=new RegExp(`^${Ac}[0-9]+$`);for(const _ of m)if(b.test(_.id)){y=_.id;break}if(!y)return;const S=this.#r.get(y);S?.annotationElementId===null&&(r.stopPropagation(),r.preventDefault(),S.dblclick(r))},{signal:i,capture:!0})}const t=this.#i;if(t){const i=new Map,r=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){i.set(l.annotationElementId,l);continue}else r.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const a=t.getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(this.#u.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let d=r.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=i.get(c),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const i of xr.#m.values())e.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#v(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#d.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#d.div.contains(e)){const{isMac:i}=wn.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),rn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:t.x,y:t.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#r.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#r.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),jt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getEditorByUID(t){for(const e of this.#r.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#b(){return xr.#m.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#E(t){const e=this.#b;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#w(),a=this.getNextId(),l=this.#E({parent:this,id:a,x:i,y:r,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await xr.#m.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,i={}){const r=this.getNextId(),a=this.#E({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...i});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#w(){const{x:t,y:e,width:i,height:r}=this.boundingClientRect,a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,e+r),h=(a+c)/2-t,p=(l+d)/2-e,[m,y]=this.viewport.rotation%180===0?[h,p]:[p,h];return{offsetX:m,offsetY:y}}addNewEditor(t={}){this.createAndAddNewEditor(this.#w(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#s||(this.#s=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===Xt.STAMP||i===Xt.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Xt.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:e}=wn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#s=!0,this.#b?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:e}),this.#b.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#h=e);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(t)):null}findNewParent(t,e,i){const r=this.#u.findParent(e,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#r.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#r.clear(),this.#u.removeLayer(this)}#_(){for(const t of this.#r.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,js(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#_();const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,js(this.div,{rotation:i}),e!==i)for(const r of this.#r.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class xn{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Jt(this,"_svgFactory",new Oc)}static#a(t,[e,i,r,a]){const{style:l}=t;l.top=`${100*i}%`,l.left=`${100*e}%`,l.width=`${100*r}%`,l.height=`${100*a}%`}#r(){const t=xn._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#s(t,e){const i=xn._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${e}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const a=xn._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),r}#o(t,e){for(const[i,r]of Object.entries(e))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,e=!1,i=!1){const r=xn.#n++,a=this.#r(),l=xn._svgFactory.createElement("defs");a.append(l);const c=xn._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(r,c);const h=i?this.#s(l,d):null,p=xn._svgFactory.createElement("use");return a.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(a,t),this.#e.set(r,a),{id:r,clipPathId:`url(#${h})`}}drawOutline(t,e){const i=xn.#n++,r=this.#r(),a=xn._svgFactory.createElement("defs");r.append(a);const l=xn._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let d;if(e){const m=xn._svgFactory.createElement("mask");a.append(m),d=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=xn._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=xn._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const h=xn._svgFactory.createElement("use");r.append(h),h.setAttribute("href",`#${c}`),d&&h.setAttribute("mask",`url(#${d})`);const p=h.cloneNode();return r.append(p),h.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:i,bbox:r,rootClass:a,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(i&&this.#o(c,i),r&&xn.#a(c,r),a){const{classList:d}=c;for(const[h,p]of Object.entries(a))d.toggle(h,p)}if(l){const h=c.firstChild.firstChild;this.#o(h,l)}}}updateParent(t,e){if(e===this)return;const i=this.#e.get(t);i&&(e.#t.append(i),this.#e.delete(t),e.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Kg};globalThis.pdfjsLib={AbortException:es,AnnotationEditorLayer:xr,AnnotationEditorParamsType:le,AnnotationEditorType:Xt,AnnotationEditorUIManager:ns,AnnotationLayer:ab,AnnotationMode:wr,AnnotationType:nn,applyOpacity:UE,build:oC,ColorPicker:vi,createValidAbsoluteUrl:Hy,CSSConstants:zE,DOMSVGFactory:Oc,DrawLayer:xn,FeatureTest:wn,fetchData:Yo,findContrastColor:HE,getDocument:tb,getFilenameFromUrl:BE,getPdfFilenameFromUrl:FE,getRGB:Wo,getUuid:qy,getXfaPageViewport:IE,GlobalWorkerOptions:Ls,ImageKind:fc,InvalidPDFException:mh,isDataScheme:Gc,isPdfFile:Gh,isValidExplicitDest:GE,MathClamp:Pn,noContextMenu:Ai,normalizeUnicode:PE,OPS:Bo,OutputScale:Ji,PasswordResponses:DE,PDFDataRangeTransport:nb,PDFDateString:gh,PDFWorker:Fo,PermissionFlag:NE,PixelsPerInch:_a,RenderingCancelledException:Vh,renderRichText:Xy,ResponseException:Ec,setLayerDimensions:js,shadow:Jt,SignatureExtractor:la,stopEvent:qe,SupportedImageMimeTypes:yh,TextLayer:Tc,TouchManager:Yc,updateUrlHash:$y,Util:kt,VerbosityLevel:$c,version:ib,XfaLayer:Gy};const Fz=Object.freeze(Object.defineProperty({__proto__:null,AbortException:es,AnnotationEditorLayer:xr,AnnotationEditorParamsType:le,AnnotationEditorType:Xt,AnnotationEditorUIManager:ns,AnnotationLayer:ab,AnnotationMode:wr,AnnotationType:nn,CSSConstants:zE,ColorPicker:vi,DOMSVGFactory:Oc,DrawLayer:xn,FeatureTest:wn,GlobalWorkerOptions:Ls,ImageKind:fc,InvalidPDFException:mh,MathClamp:Pn,OPS:Bo,OutputScale:Ji,PDFDataRangeTransport:nb,PDFDateString:gh,PDFWorker:Fo,PasswordResponses:DE,PermissionFlag:NE,PixelsPerInch:_a,RenderingCancelledException:Vh,ResponseException:Ec,SignatureExtractor:la,SupportedImageMimeTypes:yh,TextLayer:Tc,TouchManager:Yc,Util:kt,VerbosityLevel:$c,XfaLayer:Gy,applyOpacity:UE,build:oC,createValidAbsoluteUrl:Hy,fetchData:Yo,findContrastColor:HE,getDocument:tb,getFilenameFromUrl:BE,getPdfFilenameFromUrl:FE,getRGB:Wo,getUuid:qy,getXfaPageViewport:IE,isDataScheme:Gc,isPdfFile:Gh,isValidExplicitDest:GE,noContextMenu:Ai,normalizeUnicode:PE,renderRichText:Xy,setLayerDimensions:js,shadow:Jt,stopEvent:qe,updateUrlHash:$y,version:ib},Symbol.toStringTag,{value:"Module"}));var Mx=Object.prototype.hasOwnProperty;function Nx(n,t,e){for(e of n.keys())if(ko(e,t))return e}function ko(n,t){var e,i,r;if(n===t)return!0;if(n&&t&&(e=n.constructor)===t.constructor){if(e===Date)return n.getTime()===t.getTime();if(e===RegExp)return n.toString()===t.toString();if(e===Array){if((i=n.length)===t.length)for(;i--&&ko(n[i],t[i]););return i===-1}if(e===Set){if(n.size!==t.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=Nx(t,r),!r)||!t.has(r))return!1;return!0}if(e===Map){if(n.size!==t.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=Nx(t,r),!r)||!ko(i[1],t.get(r)))return!1;return!0}if(e===ArrayBuffer)n=new Uint8Array(n),t=new Uint8Array(t);else if(e===DataView){if((i=n.byteLength)===t.byteLength)for(;i--&&n.getInt8(i)===t.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===t.byteLength)for(;i--&&n[i]===t[i];);return i===-1}if(!e||typeof n=="object"){i=0;for(e in n)if(Mx.call(n,e)&&++i&&!Mx.call(t,e)||!(e in t)||!ko(n[e],t[e]))return!1;return Object.keys(t).length===i}}return n!==n&&t!==t}function Zc(n){let t=!1;return{promise:new Promise((i,r)=>{n.then(a=>!t&&i(a)).catch(a=>!t&&r(a))}),cancel(){t=!0}}}const Iz=["onCopy","onCut","onPaste"],zz=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Uz=["onFocus","onBlur"],Hz=["onInput","onInvalid","onReset","onSubmit"],$z=["onLoad","onError"],qz=["onKeyDown","onKeyPress","onKeyUp"],Vz=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Gz=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Xz=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Yz=["onSelect"],Wz=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Kz=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Zz=["onScroll"],Qz=["onWheel"],Jz=["onAnimationStart","onAnimationEnd","onAnimationIteration"],t5=["onTransitionEnd"],e5=["onToggle"],n5=["onChange"],i5=[...Iz,...zz,...Uz,...Hz,...$z,...qz,...Vz,...Gz,...Xz,...Yz,...Wz,...Kz,...Zz,...Qz,...Jz,...t5,...n5,...e5];function gC(n,t){const e={};for(const i of i5){const r=n[i];r&&(t?e[i]=(a=>r(a,t(i))):e[i]=r)}return e}var r5="Invariant failed";function ke(n,t){if(!n)throw new Error(r5)}var Gm,Dx;function s5(){if(Dx)return Gm;Dx=1;var n=function(){};return Gm=n,Gm}var a5=s5();const Bn=Uo(a5),yC=$.createContext(null),o5="noopener noreferrer nofollow";class l5{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ke(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ke(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,i){t.href=e,t.rel=this.externalLinkRel||o5,t.target=i?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{ke(this.pdfDocument),ke(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{ke(Array.isArray(e));const i=e[0];new Promise(r=>{ke(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(a=>{r(a)}).catch(()=>{ke(!1)}):typeof i=="number"?r(i):ke(!1)}).then(r=>{const a=r+1;ke(this.pdfViewer),ke(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:r,pageNumber:a})})})}goToPage(t){const e=t-1;ke(this.pdfViewer),ke(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Oo({children:n,type:t}){return x.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:n})}const Lx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function c5(n,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Io(){return $.useReducer(c5,{value:void 0,error:void 0})}const Wh=typeof window<"u",bC=Wh&&window.location.protocol==="file:";function u5(n){return typeof n<"u"}function ra(n){return u5(n)&&n!==null}function d5(n){return typeof n=="string"}function h5(n){return n instanceof ArrayBuffer}function f5(n){return ke(Wh),n instanceof Blob}function Jg(n){return d5(n)&&/^data:/.test(n)}function Px(n){ke(Jg(n));const[t="",e=""]=n.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function p5(){return Wh&&window.devicePixelRatio||1}const vC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function jx(){Bn(!bC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${vC}`)}function m5(){Bn(!bC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${vC}`)}function xa(n){n?.cancel&&n.cancel()}function ty(n,t){return Object.defineProperty(n,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function g5(n){return n.name==="RenderingCancelledException"}function y5(n){return new Promise((t,e)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return e(new Error("Error while reading a file."));t(i.result)},i.onerror=r=>{if(!r.target)return e(new Error("Error while reading a file."));const{error:a}=r.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:b5}=Fz,v5=(n,t)=>{switch(t){case Lx.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");n(e);break}case Lx.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");n(e);break}}};function Bx(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const _5=$.forwardRef(function({children:t,className:e,error:i="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:a,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF",noData:p="No PDF file specified.",onItemClick:m,onLoadError:y,onLoadProgress:b,onLoadSuccess:S,onPassword:_=v5,onSourceError:E,onSourceSuccess:w,options:T,renderMode:k,rotate:F,scale:O,...R},D){const[j,N]=Io(),{value:L,error:I}=j,[H,q]=Io(),{value:G,error:Y}=H,U=$.useRef(new l5),C=$.useRef([]),J=$.useRef(void 0),X=$.useRef(void 0);l&&l!==J.current&&Bx(l)&&(Bn(!ko(l,J.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),J.current=l),T&&T!==X.current&&(Bn(!ko(T,X.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),X.current=T);const A=$.useRef({scrollPageIntoView:Ct=>{const{dest:At,pageNumber:Nt,pageIndex:Ht=Nt-1}=Ct;if(m){m({dest:At,pageIndex:Ht,pageNumber:Nt});return}const Bt=C.current[Ht];if(Bt){Bt.scrollIntoView();return}Bn(!1,`An internal link leading to page ${Nt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});$.useImperativeHandle(D,()=>({linkService:U,pages:C,viewer:A}),[]);function P(){w&&w()}function V(){I&&(Bn(!1,I.toString()),E&&E(I))}function B(){N({type:"RESET"})}$.useEffect(B,[l,N]);const Q=$.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Jg(l)?{data:Px(l)}:(jx(),{url:l});if(l instanceof b5)return{range:l};if(h5(l))return{data:l};if(Wh&&f5(l))return{data:await y5(l)};if(ke(typeof l=="object"),ke(Bx(l)),"url"in l&&typeof l.url=="string"){if(Jg(l.url)){const{url:Ct,...At}=l;return{data:Px(Ct),...At}}jx()}return l},[l]);$.useEffect(()=>{const Ct=Zc(Q());return Ct.promise.then(At=>{N({type:"RESOLVE",value:At})}).catch(At=>{N({type:"REJECT",error:At})}),()=>{xa(Ct)}},[Q,N]),$.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){V();return}P()}},[L]);function ot(){G&&(S&&S(G),C.current=new Array(G.numPages),U.current.setDocument(G))}function st(){Y&&(Bn(!1,Y.toString()),y&&y(Y))}$.useEffect(function(){q({type:"RESET"})},[q,L]),$.useEffect(function(){if(!L)return;const At=T?{...L,...T}:L,Nt=tb(At);b&&(Nt.onProgress=b),_&&(Nt.onPassword=_);const Ht=Nt,Bt=Ht.promise.then(he=>{q({type:"RESOLVE",value:he})}).catch(he=>{Ht.destroyed||q({type:"REJECT",error:he})});return()=>{Bt.finally(()=>Ht.destroy())}},[T,q,L]),$.useEffect(()=>{if(!(typeof G>"u")){if(G===!1){st();return}ot()}},[G]),$.useEffect(function(){U.current.setViewer(A.current),U.current.setExternalLinkRel(r),U.current.setExternalLinkTarget(a)},[r,a]);const ct=$.useCallback((Ct,At)=>{C.current[Ct]=At},[]),wt=$.useCallback(Ct=>{delete C.current[Ct]},[]),_t=$.useMemo(()=>({imageResourcesPath:d,linkService:U.current,onItemClick:m,pdf:G,registerPage:ct,renderMode:k,rotate:F,scale:O,unregisterPage:wt}),[d,m,G,ct,k,F,O,wt]),xt=$.useMemo(()=>gC(R,()=>G),[R,G]);function It(){function Ct(Nt){return!!Nt?.pdf}if(!Ct(_t))throw new Error("pdf is undefined");const At=typeof t=="function"?t(_t):t;return x.jsx(yC.Provider,{value:_t,children:At})}function Ut(){return l?G==null?x.jsx(Oo,{type:"loading",children:typeof h=="function"?h():h}):G===!1?x.jsx(Oo,{type:"error",children:typeof i=="function"?i():i}):It():x.jsx(Oo,{type:"no-data",children:typeof p=="function"?p():p})}return x.jsx("div",{className:Ki("react-pdf__Document",e),ref:c,...xt,children:Ut()})});function _C(){return $.useContext(yC)}function SC(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n.filter(Boolean);if(e.length<=1){var i=e[0];return i||null}return function(a){for(var l=0,c=e;l<c.length;l++){var d=c[l];typeof d=="function"?d(a):d&&(d.current=a)}}}const xC=$.createContext(null);function Kh(){return $.useContext(xC)}function S5(){const n=_C(),t=Kh();ke(t);const e={...n,...t},{imageResourcesPath:i,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:h,pdf:p,renderForms:m,rotate:y,scale:b=1}=e;ke(p),ke(h),ke(r);const[S,_]=Io(),{value:E,error:w}=S,T=$.useRef(null);Bn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){E&&l&&l(E)}function F(){w&&(Bn(!1,w.toString()),a&&a(w))}$.useEffect(function(){_({type:"RESET"})},[_,h]),$.useEffect(function(){if(!h)return;const N=Zc(h.getAnnotations()),L=N;return N.promise.then(I=>{_({type:"RESOLVE",value:I})}).catch(I=>{_({type:"REJECT",error:I})}),()=>{xa(L)}},[_,h]),$.useEffect(()=>{if(E!==void 0){if(E===!1){F();return}k()}},[E]);function O(){d&&d()}function R(j){Bn(!1,`${j}`),c&&c(j)}const D=$.useMemo(()=>h.getViewport({scale:b,rotation:y}),[h,y,b]);return $.useEffect(function(){if(!p||!h||!r||!E)return;const{current:N}=T;if(!N)return;const L=D.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:N,l10n:null,linkService:r,page:h,structTreeLayer:null,viewport:L},H={annotations:E,annotationStorage:p.annotationStorage,div:N,imageResourcesPath:i,linkService:r,page:h,renderForms:m,viewport:L};N.innerHTML="";try{new ab(I).render(H),O()}catch(q){R(q)}return()=>{}},[E,i,r,h,p,m,D]),x.jsx("div",{className:Ki("react-pdf__Page__annotations","annotationLayer"),ref:T})}const wC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},x5=/^H(\d+)$/;function w5(n){return n in wC}function Zh(n){return"children"in n}function AC(n){return Zh(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function A5(n){const t={};if(Zh(n)){const{role:e}=n,i=e.match(x5);if(i)t.role="heading",t["aria-level"]=Number(i[1]);else if(w5(e)){const r=wC[e];r&&(t.role=r)}}return t}function EC(n){const t={};if(Zh(n)){if(n.alt!==void 0&&(t["aria-label"]=n.alt),n.lang!==void 0&&(t.lang=n.lang),AC(n)){const[e]=n.children;if(e){const i=EC(e);return{...t,...i}}}}else"id"in n&&(t["aria-owns"]=n.id);return t}function E5(n){return n?{...A5(n),...EC(n)}:null}function CC({className:n,node:t}){const e=$.useMemo(()=>E5(t),[t]),i=$.useMemo(()=>!Zh(t)||AC(t)?null:t.children.map((r,a)=>x.jsx(CC,{node:r},a)),[t]);return x.jsx("span",{className:n,...e,children:i})}function C5(){const n=Kh();ke(n);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=n,[i,r]=Io(),{value:a,error:l}=i,{customTextRenderer:c,page:d}=n;function h(){a&&e&&e(a)}function p(){l&&(Bn(!1,l.toString()),t&&t(l))}return $.useEffect(function(){r({type:"RESET"})},[r,d]),$.useEffect(function(){if(c||!d)return;const y=Zc(d.getStructTree()),b=y;return y.promise.then(S=>{r({type:"RESOLVE",value:S})}).catch(S=>{r({type:"REJECT",error:S})}),()=>xa(b)},[c,d,r]),$.useEffect(()=>{if(a!==void 0){if(a===!1){p();return}h()}},[a]),a?x.jsx(CC,{className:"react-pdf__Page__structTree structTree",node:a}):null}const Fx=wr;function T5(n){const t=Kh();ke(t);const e={...t,...n},{_className:i,canvasBackground:r,devicePixelRatio:a=p5(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:h,renderTextLayer:p,rotate:m,scale:y}=e,{canvasRef:b}=n;ke(d);const S=$.useRef(null);function _(){d&&c&&c(ty(d,y))}function E(F){g5(F)||(Bn(!1,F.toString()),l&&l(F))}const w=$.useMemo(()=>d.getViewport({scale:y*a,rotation:m}),[a,d,m,y]),T=$.useMemo(()=>d.getViewport({scale:y,rotation:m}),[d,m,y]);$.useEffect(function(){if(!d)return;d.cleanup();const{current:O}=S;if(!O)return;O.width=w.width,O.height=w.height,O.style.width=`${Math.floor(T.width)}px`,O.style.height=`${Math.floor(T.height)}px`,O.style.visibility="hidden";const R={annotationMode:h?Fx.ENABLE_FORMS:Fx.ENABLE,canvas:O,canvasContext:O.getContext("2d",{alpha:!1}),viewport:w};r&&(R.background=r);const D=d.render(R),j=D;return D.promise.then(()=>{O.style.visibility="",_()}).catch(E),()=>xa(j)},[r,d,h,w,T]);const k=$.useCallback(()=>{const{current:F}=S;F&&(F.width=0,F.height=0)},[]);return $.useEffect(()=>k,[k]),x.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:SC(b,S),style:{display:"block",userSelect:"none"},children:p?x.jsx(C5,{}):null})}function k5(n){return"str"in n}function O5(){const n=Kh();ke(n);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:d,rotate:h,scale:p}=n;ke(l);const[m,y]=Io(),{value:b,error:S}=m,_=$.useRef(null);Bn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){b&&i&&i(b)}function w(){S&&(Bn(!1,S.toString()),e&&e(S))}$.useEffect(function(){y({type:"RESET"})},[l,y]),$.useEffect(function(){if(!l)return;const j=Zc(l.getTextContent()),N=j;return j.promise.then(L=>{y({type:"RESOLVE",value:L})}).catch(L=>{y({type:"REJECT",error:L})}),()=>xa(N)},[l,y]),$.useEffect(()=>{if(b!==void 0){if(b===!1){w();return}E()}},[b]);const T=$.useCallback(()=>{a&&a()},[a]),k=$.useCallback(D=>{Bn(!1,D.toString()),r&&r(D)},[r]);function F(){const D=_.current;D&&D.classList.add("selecting")}function O(){const D=_.current;D&&D.classList.remove("selecting")}const R=$.useMemo(()=>l.getViewport({scale:p,rotation:h}),[l,h,p]);return $.useLayoutEffect(function(){if(!l||!b)return;const{current:j}=_;if(!j)return;j.innerHTML="";const N=l.streamTextContent({includeMarkedContent:!0}),L={container:j,textContentSource:N,viewport:R},I=new Tc(L),H=I;return I.render().then(()=>{const q=document.createElement("div");q.className="endOfContent",j.append(q);const G=j.querySelectorAll('[role="presentation"]');if(t){let Y=0;b.items.forEach((U,C)=>{if(!k5(U))return;const J=G[Y];if(!J)return;const X=t({pageIndex:c,pageNumber:d,itemIndex:C,...U});J.innerHTML=X,Y+=U.str&&U.hasEOL?2:1})}T()}).catch(k),()=>xa(H)},[t,k,T,l,c,d,b,R]),x.jsx("div",{className:Ki("react-pdf__Page__textContent","textLayer"),onMouseUp:O,onMouseDown:F,ref:_})}const Ix=1;function R5(n){const e={..._C(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:a,canvasRef:l,children:c,className:d,customRenderer:h,customTextRenderer:p,devicePixelRatio:m,error:y="Failed to load the page.",height:b,inputRef:S,loading:_="Loading page",noData:E="No page specified.",onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:k,onGetStructTreeSuccess:F,onGetTextError:O,onGetTextSuccess:R,onLoadError:D,onLoadSuccess:j,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:L,onRenderError:I,onRenderSuccess:H,onRenderTextLayerError:q,onRenderTextLayerSuccess:G,pageIndex:Y,pageNumber:U,pdf:C,registerPage:J,renderAnnotationLayer:X=!0,renderForms:A=!1,renderMode:P="canvas",renderTextLayer:V=!0,rotate:B,scale:Q=Ix,unregisterPage:ot,width:st,...ct}=e,[wt,_t]=Io(),{value:xt,error:It}=wt,Ut=$.useRef(null);ke(C);const Ct=ra(U)?U-1:Y??null,At=U??(ra(Y)?Y+1:null),Nt=B??(xt?xt.rotate:null),Ht=$.useMemo(()=>{if(!xt)return null;let ht=1;const vt=Q??Ix;if(st||b){const Dt=xt.getViewport({scale:1,rotation:Nt});st?ht=st/Dt.width:b&&(ht=b/Dt.height)}return vt*ht},[b,xt,Nt,Q,st]);$.useEffect(function(){return()=>{ra(Ct)&&r&&ot&&ot(Ct)}},[r,C,Ct,ot]);function Bt(){if(j){if(!xt||!Ht)return;j(ty(xt,Ht))}if(r&&J){if(!ra(Ct)||!Ut.current)return;J(Ct,Ut.current)}}function he(){It&&(Bn(!1,It.toString()),D&&D(It))}$.useEffect(function(){_t({type:"RESET"})},[_t,C,Ct]),$.useEffect(function(){if(!C||!At)return;const vt=Zc(C.getPage(At)),Dt=vt;return vt.promise.then(ee=>{_t({type:"RESOLVE",value:ee})}).catch(ee=>{_t({type:"REJECT",error:ee})}),()=>xa(Dt)},[_t,C,At]),$.useEffect(()=>{if(xt!==void 0){if(xt===!1){he();return}Bt()}},[xt,Ht]);const fe=$.useMemo(()=>ra(Ct)&&At&&ra(Nt)&&ra(Ht)?{_className:i,canvasBackground:a,customTextRenderer:p,devicePixelRatio:m,onGetAnnotationsError:w,onGetAnnotationsSuccess:T,onGetStructTreeError:k,onGetStructTreeSuccess:F,onGetTextError:O,onGetTextSuccess:R,onRenderAnnotationLayerError:N,onRenderAnnotationLayerSuccess:L,onRenderError:I,onRenderSuccess:H,onRenderTextLayerError:q,onRenderTextLayerSuccess:G,page:xt,pageIndex:Ct,pageNumber:At,renderForms:A,renderTextLayer:V,rotate:Nt,scale:Ht}:null,[i,a,p,m,w,T,k,F,O,R,N,L,I,H,q,G,xt,Ct,At,A,V,Nt,Ht]),W=$.useMemo(()=>gC(ct,()=>xt&&(Ht?ty(xt,Ht):void 0)),[ct,xt,Ht]),nt=`${Ct}@${Ht}/${Nt}`;function dt(){switch(P){case"custom":return ke(h),x.jsx(h,{},`${nt}_custom`);case"none":return null;case"canvas":default:return x.jsx(T5,{canvasRef:l},`${nt}_canvas`)}}function St(){return V?x.jsx(O5,{},`${nt}_text`):null}function gt(){return X?x.jsx(S5,{},`${nt}_annotations`):null}function yt(){function ht(Dt){return!!Dt?.page}if(!ht(fe))throw new Error("page is undefined");const vt=typeof c=="function"?c(fe):c;return x.jsxs(xC.Provider,{value:fe,children:[dt(),St(),gt(),vt]})}function tt(){return At?C===null||xt===void 0||xt===null?x.jsx(Oo,{type:"loading",children:typeof _=="function"?_():_}):C===!1||xt===!1?x.jsx(Oo,{type:"error",children:typeof y=="function"?y():y}):yt():x.jsx(Oo,{type:"no-data",children:typeof E=="function"?E():E})}return x.jsx("div",{className:Ki(i,d),"data-page-number":At,ref:SC(S,Ut),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Ht}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...W,children:tt()})}m5();Ls.workerSrc="pdf.worker.mjs";const M5="_viewerWrapper_1pzpf_1",N5="_header_1pzpf_13",D5="_fileSelector_1pzpf_26",L5="_fileName_1pzpf_34",P5="_fileDropdown_1pzpf_42",j5="_dropdownChevron_1pzpf_74",B5="_controls_1pzpf_82",F5="_uploadBtn_1pzpf_89",I5="_zoomControls_1pzpf_107",z5="_zoomBtn_1pzpf_113",U5="_resetBtn_1pzpf_114",H5="_zoomLevel_1pzpf_135",$5="_pdfContainer_1pzpf_143",q5="_pdfPage_1pzpf_152",V5="_footer_1pzpf_158",G5="_footerContent_1pzpf_164",X5="_inlinePageInput_1pzpf_173",en={viewerWrapper:M5,header:N5,fileSelector:D5,fileName:L5,fileDropdown:P5,dropdownChevron:j5,controls:B5,uploadBtn:F5,zoomControls:I5,zoomBtn:z5,resetBtn:U5,zoomLevel:H5,pdfContainer:$5,pdfPage:q5,footer:V5,footerContent:G5,inlinePageInput:X5};async function Y5(n){try{const t=await Ve.get(`/files/modules/${n}`);return console.log("Response from getFileUrl:",t.data),t.data}catch(t){throw console.error(" Failed to fetch file URL:",t),new Error("Failed to fetch file URL")}}Ls.workerSrc=`//unpkg.com/pdfjs-dist@${ib}/build/pdf.worker.min.mjs`;function TC({fileId:n,fileName:t="PDF Document",height:e="700px",allFiles:i=[],selectedFileId:r,onFileSelect:a,onUploadMore:l}){const[c,d]=$.useState(null),[h,p]=$.useState(null),[m,y]=$.useState(1.6),[b,S]=$.useState(1),[_,E]=$.useState("1"),w=$.useRef(),T=window.innerWidth<=768;$.useEffect(()=>{if(!n)return;(async()=>{try{const L=await Y5(n);console.log("Fetched file URL:",L),d(L.url)}catch(L){console.error("Error fetching PDF file:",L)}})()},[n]),$.useEffect(()=>{const N=()=>{if(!w.current)return;const L=w.current.offsetWidth;L<=480?y(L/300):y(L/600)};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]);const k=({numPages:N})=>{p(N),E("1")};$.useEffect(()=>{const N=w.current;if(!N||!h)return;const L=()=>{const I=Array.from(N.querySelectorAll(`.${en.pdfPage}`)),q=N.scrollTop+N.clientHeight/2;let G=1;for(let Y=0;Y<I.length;Y++){const U=I[Y],C=U.offsetTop,J=C+U.offsetHeight;if(q>=C&&q<J){G=Y+1;break}}S(G),E(String(G))};return N.addEventListener("scroll",L),()=>N.removeEventListener("scroll",L)},[h]);const F=()=>{y(N=>Math.min(N+.2,3))},O=()=>{y(N=>Math.max(N-.2,.5))},R=()=>{y(1.6)},D=N=>E(N.target.value),j=N=>{if(N.key==="Enter"&&w.current){const L=parseInt(_,10);if(!isNaN(L)&&L>=1&&L<=h){const I=w.current.querySelector(`.${en.pdfPage}:nth-child(${L})`);I&&w.current.scrollTo({top:I.offsetTop-10,behavior:"smooth"})}else E(String(b))}};return x.jsxs("div",{className:en.viewerWrapper,children:[x.jsxs("div",{className:en.header,children:[x.jsx("div",{className:en.fileSelector,children:i.length>1?x.jsxs(x.Fragment,{children:[x.jsx("select",{value:r||"",onChange:N=>{const L=i.find(I=>I.id===parseInt(N.target.value));L&&a&&a(L)},className:en.fileDropdown,children:i.map(N=>x.jsx("option",{value:N.id,children:N.displayTitle},N.id))}),x.jsx(qA,{size:16,className:en.dropdownChevron})]}):x.jsx("span",{className:en.fileName,children:t})}),x.jsxs("div",{className:en.controls,children:[l&&x.jsx("button",{onClick:l,className:en.uploadBtn,title:"Upload more files",children:x.jsx(Ny,{size:16})}),x.jsxs("div",{className:en.zoomControls,children:[x.jsx("button",{onClick:O,className:en.zoomBtn,title:"Zoom Out",children:x.jsx(hP,{size:16})}),x.jsxs("span",{className:en.zoomLevel,children:[Math.round(m*100),"%"]}),x.jsx("button",{onClick:F,className:en.zoomBtn,title:"Zoom In",children:x.jsx(uP,{size:16})}),x.jsx("button",{onClick:R,className:en.resetBtn,title:"Reset Zoom",children:"Reset"})]})]})]}),x.jsx("div",{className:en.pdfContainer,style:{height:e},ref:w,children:c?x.jsx(_5,{file:c,onLoadSuccess:k,onLoadError:N=>console.error("PDF load error:",N),children:Array.from(new Array(h),(N,L)=>x.jsx("div",{className:en.pdfPage,children:x.jsx(R5,{pageNumber:L+1,scale:m,renderMode:"canvas",renderAnnotationLayer:!1,renderTextLayer:!1,width:T?w.current?.offsetWidth:void 0})},L))},c):x.jsx("div",{className:en.loading,children:"Loading PDF..."})}),c&&x.jsx("div",{className:en.footer,children:x.jsxs("div",{className:en.footerContent,children:[x.jsx("span",{children:"Page"}),x.jsx("input",{type:"number",min:"1",max:h||1,value:_,onChange:D,onKeyDown:j,className:en.inlinePageInput}),x.jsxs("span",{children:["/ ",h||"--"]})]})})]})}const W5="_wrapper_159kb_1",K5="_chatContainer_159kb_10",Z5="_chatBox_159kb_31",Q5="_inputArea_159kb_92",J5="_input_159kb_92",t6="_sendBtn_159kb_133",e6="_actionButtons_159kb_174",n6="_actionBtn_159kb_183",i6="_messageWrapper_159kb_217",r6="_addToNotesBtn_159kb_221",s6="_loadingContainer_159kb_265",a6="_loadingSkeleton_159kb_273",o6="_skeletonLine_159kb_283",l6="_emptyState_159kb_314",c6="_emptyContent_159kb_322",He={wrapper:W5,chatContainer:K5,chatBox:Z5,inputArea:Q5,input:J5,sendBtn:t6,actionButtons:e6,actionBtn:n6,messageWrapper:i6,addToNotesBtn:r6,loadingContainer:s6,loadingSkeleton:a6,skeletonLine:o6,emptyState:l6,emptyContent:c6};function u6(n,t){const e={};return(n[n.length-1]===""?[...n,""]:n).join((e.padRight?" ":"")+","+(e.padLeft===!1?"":" ")).trim()}const d6=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,h6=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,f6={};function zx(n,t){return(f6.jsx?h6:d6).test(n)}const p6=/[ \t\n\f\r]/g;function m6(n){return typeof n=="object"?n.type==="text"?Ux(n.value):!1:Ux(n)}function Ux(n){return n.replace(p6,"")===""}class Qc{constructor(t,e,i){this.normal=e,this.property=t,i&&(this.space=i)}}Qc.prototype.normal={};Qc.prototype.property={};Qc.prototype.space=void 0;function kC(n,t){const e={},i={};for(const r of n)Object.assign(e,r.property),Object.assign(i,r.normal);return new Qc(e,i,t)}function ey(n){return n.toLowerCase()}class ci{constructor(t,e){this.attribute=e,this.property=t}}ci.prototype.attribute="";ci.prototype.booleanish=!1;ci.prototype.boolean=!1;ci.prototype.commaOrSpaceSeparated=!1;ci.prototype.commaSeparated=!1;ci.prototype.defined=!1;ci.prototype.mustUseProperty=!1;ci.prototype.number=!1;ci.prototype.overloadedBoolean=!1;ci.prototype.property="";ci.prototype.spaceSeparated=!1;ci.prototype.space=void 0;let g6=0;const Qt=Ca(),hn=Ca(),ny=Ca(),bt=Ca(),Re=Ca(),Ro=Ca(),yi=Ca();function Ca(){return 2**++g6}const iy=Object.freeze(Object.defineProperty({__proto__:null,boolean:Qt,booleanish:hn,commaOrSpaceSeparated:yi,commaSeparated:Ro,number:bt,overloadedBoolean:ny,spaceSeparated:Re},Symbol.toStringTag,{value:"Module"})),Xm=Object.keys(iy);class ub extends ci{constructor(t,e,i,r){let a=-1;if(super(t,e),Hx(this,"space",r),typeof i=="number")for(;++a<Xm.length;){const l=Xm[a];Hx(this,Xm[a],(i&iy[l])===iy[l])}}}ub.prototype.defined=!0;function Hx(n,t,e){e&&(n[t]=e)}function Ko(n){const t={},e={};for(const[i,r]of Object.entries(n.properties)){const a=new ub(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(a.mustUseProperty=!0),t[i]=a,e[ey(i)]=i,e[ey(a.attribute)]=i}return new Qc(t,e,n.space)}const OC=Ko({properties:{ariaActiveDescendant:null,ariaAtomic:hn,ariaAutoComplete:null,ariaBusy:hn,ariaChecked:hn,ariaColCount:bt,ariaColIndex:bt,ariaColSpan:bt,ariaControls:Re,ariaCurrent:null,ariaDescribedBy:Re,ariaDetails:null,ariaDisabled:hn,ariaDropEffect:Re,ariaErrorMessage:null,ariaExpanded:hn,ariaFlowTo:Re,ariaGrabbed:hn,ariaHasPopup:null,ariaHidden:hn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Re,ariaLevel:bt,ariaLive:null,ariaModal:hn,ariaMultiLine:hn,ariaMultiSelectable:hn,ariaOrientation:null,ariaOwns:Re,ariaPlaceholder:null,ariaPosInSet:bt,ariaPressed:hn,ariaReadOnly:hn,ariaRelevant:null,ariaRequired:hn,ariaRoleDescription:Re,ariaRowCount:bt,ariaRowIndex:bt,ariaRowSpan:bt,ariaSelected:hn,ariaSetSize:bt,ariaSort:null,ariaValueMax:bt,ariaValueMin:bt,ariaValueNow:bt,ariaValueText:null,role:null},transform(n,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function RC(n,t){return t in n?n[t]:t}function MC(n,t){return RC(n,t.toLowerCase())}const y6=Ko({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ro,acceptCharset:Re,accessKey:Re,action:null,allow:null,allowFullScreen:Qt,allowPaymentRequest:Qt,allowUserMedia:Qt,alt:null,as:null,async:Qt,autoCapitalize:null,autoComplete:Re,autoFocus:Qt,autoPlay:Qt,blocking:Re,capture:null,charSet:null,checked:Qt,cite:null,className:Re,cols:bt,colSpan:null,content:null,contentEditable:hn,controls:Qt,controlsList:Re,coords:bt|Ro,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qt,defer:Qt,dir:null,dirName:null,disabled:Qt,download:ny,draggable:hn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qt,formTarget:null,headers:Re,height:bt,hidden:ny,high:bt,href:null,hrefLang:null,htmlFor:Re,httpEquiv:Re,id:null,imageSizes:null,imageSrcSet:null,inert:Qt,inputMode:null,integrity:null,is:null,isMap:Qt,itemId:null,itemProp:Re,itemRef:Re,itemScope:Qt,itemType:Re,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qt,low:bt,manifest:null,max:null,maxLength:bt,media:null,method:null,min:null,minLength:bt,multiple:Qt,muted:Qt,name:null,nonce:null,noModule:Qt,noValidate:Qt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qt,optimum:bt,pattern:null,ping:Re,placeholder:null,playsInline:Qt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Qt,referrerPolicy:null,rel:Re,required:Qt,reversed:Qt,rows:bt,rowSpan:bt,sandbox:Re,scope:null,scoped:Qt,seamless:Qt,selected:Qt,shadowRootClonable:Qt,shadowRootDelegatesFocus:Qt,shadowRootMode:null,shape:null,size:bt,sizes:null,slot:null,span:bt,spellCheck:hn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:bt,step:null,style:null,tabIndex:bt,target:null,title:null,translate:null,type:null,typeMustMatch:Qt,useMap:null,value:hn,width:bt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Re,axis:null,background:null,bgColor:null,border:bt,borderColor:null,bottomMargin:bt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qt,declare:Qt,event:null,face:null,frame:null,frameBorder:null,hSpace:bt,leftMargin:bt,link:null,longDesc:null,lowSrc:null,marginHeight:bt,marginWidth:bt,noResize:Qt,noHref:Qt,noShade:Qt,noWrap:Qt,object:null,profile:null,prompt:null,rev:null,rightMargin:bt,rules:null,scheme:null,scrolling:hn,standby:null,summary:null,text:null,topMargin:bt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:bt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qt,disableRemotePlayback:Qt,prefix:null,property:null,results:bt,security:null,unselectable:null},space:"html",transform:MC}),b6=Ko({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:yi,accentHeight:bt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:bt,amplitude:bt,arabicForm:null,ascent:bt,attributeName:null,attributeType:null,azimuth:bt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:bt,by:null,calcMode:null,capHeight:bt,className:Re,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:bt,diffuseConstant:bt,direction:null,display:null,dur:null,divisor:bt,dominantBaseline:null,download:Qt,dx:null,dy:null,edgeMode:null,editable:null,elevation:bt,enableBackground:null,end:null,event:null,exponent:bt,externalResourcesRequired:null,fill:null,fillOpacity:bt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ro,g2:Ro,glyphName:Ro,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:bt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:bt,horizOriginX:bt,horizOriginY:bt,id:null,ideographic:bt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:bt,k:bt,k1:bt,k2:bt,k3:bt,k4:bt,kernelMatrix:yi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:bt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:bt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:bt,overlineThickness:bt,paintOrder:null,panose1:null,path:null,pathLength:bt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Re,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:bt,pointsAtY:bt,pointsAtZ:bt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:yi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:yi,rev:yi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:yi,requiredFeatures:yi,requiredFonts:yi,requiredFormats:yi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:bt,specularExponent:bt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:bt,strikethroughThickness:bt,string:null,stroke:null,strokeDashArray:yi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:bt,strokeOpacity:bt,strokeWidth:null,style:null,surfaceScale:bt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:yi,tabIndex:bt,tableValues:null,target:null,targetX:bt,targetY:bt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:yi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:bt,underlineThickness:bt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:bt,values:null,vAlphabetic:bt,vMathematical:bt,vectorEffect:null,vHanging:bt,vIdeographic:bt,version:null,vertAdvY:bt,vertOriginX:bt,vertOriginY:bt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:bt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:RC}),NC=Ko({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,t){return"xlink:"+t.slice(5).toLowerCase()}}),DC=Ko({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:MC}),LC=Ko({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,t){return"xml:"+t.slice(3).toLowerCase()}}),v6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},_6=/[A-Z]/g,$x=/-[a-z]/g,S6=/^data[-\w.:]+$/i;function x6(n,t){const e=ey(t);let i=t,r=ci;if(e in n.normal)return n.property[n.normal[e]];if(e.length>4&&e.slice(0,4)==="data"&&S6.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace($x,A6);i="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!$x.test(a)){let l=a.replace(_6,w6);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}r=ub}return new r(i,t)}function w6(n){return"-"+n.toLowerCase()}function A6(n){return n.charAt(1).toUpperCase()}const E6=kC([OC,y6,NC,DC,LC],"html"),db=kC([OC,b6,NC,DC,LC],"svg");function C6(n){return n.join(" ").trim()}var mo={},Ym,qx;function T6(){if(qx)return Ym;qx=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,h="/",p="*",m="",y="comment",b="declaration";function S(E,w){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];w=w||{};var T=1,k=1;function F(G){var Y=G.match(t);Y&&(T+=Y.length);var U=G.lastIndexOf(d);k=~U?G.length-U:k+G.length}function O(){var G={line:T,column:k};return function(Y){return Y.position=new R(G),N(),Y}}function R(G){this.start=G,this.end={line:T,column:k},this.source=w.source}R.prototype.content=E;function D(G){var Y=new Error(w.source+":"+T+":"+k+": "+G);if(Y.reason=G,Y.filename=w.source,Y.line=T,Y.column=k,Y.source=E,!w.silent)throw Y}function j(G){var Y=G.exec(E);if(Y){var U=Y[0];return F(U),E=E.slice(U.length),Y}}function N(){j(e)}function L(G){var Y;for(G=G||[];Y=I();)Y!==!1&&G.push(Y);return G}function I(){var G=O();if(!(h!=E.charAt(0)||p!=E.charAt(1))){for(var Y=2;m!=E.charAt(Y)&&(p!=E.charAt(Y)||h!=E.charAt(Y+1));)++Y;if(Y+=2,m===E.charAt(Y-1))return D("End of comment missing");var U=E.slice(2,Y-2);return k+=2,F(U),E=E.slice(Y),k+=2,G({type:y,comment:U})}}function H(){var G=O(),Y=j(i);if(Y){if(I(),!j(r))return D("property missing ':'");var U=j(a),C=G({type:b,property:_(Y[0].replace(n,m)),value:U?_(U[0].replace(n,m)):m});return j(l),C}}function q(){var G=[];L(G);for(var Y;Y=H();)Y!==!1&&(G.push(Y),L(G));return G}return N(),q()}function _(E){return E?E.replace(c,m):m}return Ym=S,Ym}var Vx;function k6(){if(Vx)return mo;Vx=1;var n=mo&&mo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(mo,"__esModule",{value:!0}),mo.default=e;const t=n(T6());function e(i,r){let a=null;if(!i||typeof i!="string")return a;const l=(0,t.default)(i),c=typeof r=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:h,value:p}=d;c?r(h,p,d):p&&(a=a||{},a[h]=p)}),a}return mo}var Ql={},Gx;function O6(){if(Gx)return Ql;Gx=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,e=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,a=function(h){return!h||e.test(h)||n.test(h)},l=function(h,p){return p.toUpperCase()},c=function(h,p){return"".concat(p,"-")},d=function(h,p){return p===void 0&&(p={}),a(h)?h:(h=h.toLowerCase(),p.reactCompat?h=h.replace(r,c):h=h.replace(i,c),h.replace(t,l))};return Ql.camelCase=d,Ql}var Jl,Xx;function R6(){if(Xx)return Jl;Xx=1;var n=Jl&&Jl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},t=n(k6()),e=O6();function i(r,a){var l={};return!r||typeof r!="string"||(0,t.default)(r,function(c,d){c&&d&&(l[(0,e.camelCase)(c,a)]=d)}),l}return i.default=i,Jl=i,Jl}var M6=R6();const N6=Uo(M6),PC=jC("end"),hb=jC("start");function jC(n){return t;function t(e){const i=e&&e.position&&e.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function D6(n){const t=hb(n),e=PC(n);if(t&&e)return{start:t,end:e}}function mc(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?Yx(n.position):"start"in n||"end"in n?Yx(n):"line"in n||"column"in n?ry(n):""}function ry(n){return Wx(n&&n.line)+":"+Wx(n&&n.column)}function Yx(n){return ry(n&&n.start)+"-"+ry(n&&n.end)}function Wx(n){return n&&typeof n=="number"?n:1}class Fn extends Error{constructor(t,e,i){super(),typeof e=="string"&&(i=e,e=void 0);let r="",a={},l=!1;if(e&&("line"in e&&"column"in e?a={place:e}:"start"in e&&"end"in e?a={place:e}:"type"in e?a={ancestors:[e],place:e.position}:a={...e}),typeof t=="string"?r=t:!a.cause&&t&&(l=!0,r=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof i=="string"){const d=i.indexOf(":");d===-1?a.ruleId=i:(a.source=i.slice(0,d),a.ruleId=i.slice(d+1))}if(!a.place&&a.ancestors&&a.ancestors){const d=a.ancestors[a.ancestors.length-1];d&&(a.place=d.position)}const c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=c?c.line:void 0,this.name=mc(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Fn.prototype.file="";Fn.prototype.name="";Fn.prototype.reason="";Fn.prototype.message="";Fn.prototype.stack="";Fn.prototype.column=void 0;Fn.prototype.line=void 0;Fn.prototype.ancestors=void 0;Fn.prototype.cause=void 0;Fn.prototype.fatal=void 0;Fn.prototype.place=void 0;Fn.prototype.ruleId=void 0;Fn.prototype.source=void 0;const fb={}.hasOwnProperty,L6=new Map,P6=/[A-Z]/g,j6=new Set(["table","tbody","thead","tfoot","tr"]),B6=new Set(["td","th"]),BC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function F6(n,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const e=t.filePath||void 0;let i;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=G6(e,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=V6(e,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:e,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?db:E6,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=FC(r,n,void 0);return a&&typeof a!="string"?a:r.create(n,r.Fragment,{children:a||void 0},void 0)}function FC(n,t,e){if(t.type==="element")return I6(n,t,e);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return z6(n,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return H6(n,t,e);if(t.type==="mdxjsEsm")return U6(n,t);if(t.type==="root")return $6(n,t,e);if(t.type==="text")return q6(n,t)}function I6(n,t,e){const i=n.schema;let r=i;t.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=db,n.schema=r),n.ancestors.push(t);const a=zC(n,t.tagName,!1),l=X6(n,t);let c=mb(n,t);return j6.has(t.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!m6(d):!0})),IC(n,l,a,t),pb(l,c),n.ancestors.pop(),n.schema=i,n.create(t,a,l,e)}function z6(n,t){if(t.data&&t.data.estree&&n.evaluater){const i=t.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Rc(n,t.position)}function U6(n,t){if(t.data&&t.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(t.data.estree);Rc(n,t.position)}function H6(n,t,e){const i=n.schema;let r=i;t.name==="svg"&&i.space==="html"&&(r=db,n.schema=r),n.ancestors.push(t);const a=t.name===null?n.Fragment:zC(n,t.name,!0),l=Y6(n,t),c=mb(n,t);return IC(n,l,a,t),pb(l,c),n.ancestors.pop(),n.schema=i,n.create(t,a,l,e)}function $6(n,t,e){const i={};return pb(i,mb(n,t)),n.create(t,n.Fragment,i,e)}function q6(n,t){return t.value}function IC(n,t,e,i){typeof e!="string"&&e!==n.Fragment&&n.passNode&&(t.node=i)}function pb(n,t){if(t.length>0){const e=t.length>1?t:t[0];e&&(n.children=e)}}function V6(n,t,e){return i;function i(r,a,l,c){const h=Array.isArray(l.children)?e:t;return c?h(a,l,c):h(a,l)}}function G6(n,t){return e;function e(i,r,a,l){const c=Array.isArray(a.children),d=hb(i);return t(r,a,l,c,{columnNumber:d?d.column-1:void 0,fileName:n,lineNumber:d?d.line:void 0},void 0)}}function X6(n,t){const e={};let i,r;for(r in t.properties)if(r!=="children"&&fb.call(t.properties,r)){const a=W6(n,r,t.properties[r]);if(a){const[l,c]=a;n.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&B6.has(t.tagName)?i=c:e[l]=c}}if(i){const a=e.style||(e.style={});a[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return e}function Y6(n,t){const e={};for(const i of t.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const a=i.data.estree.body[0];a.type;const l=a.expression;l.type;const c=l.properties[0];c.type,Object.assign(e,n.evaluater.evaluateExpression(c.argument))}else Rc(n,t.position);else{const r=i.name;let a;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const c=i.value.data.estree.body[0];c.type,a=n.evaluater.evaluateExpression(c.expression)}else Rc(n,t.position);else a=i.value===null?!0:i.value;e[r]=a}return e}function mb(n,t){const e=[];let i=-1;const r=n.passKeys?new Map:L6;for(;++i<t.children.length;){const a=t.children[i];let l;if(n.passKeys){const d=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(d){const h=r.get(d)||0;l=d+"-"+h,r.set(d,h+1)}}const c=FC(n,a,l);c!==void 0&&e.push(c)}return e}function W6(n,t,e){const i=x6(n.schema,t);if(!(e==null||typeof e=="number"&&Number.isNaN(e))){if(Array.isArray(e)&&(e=i.commaSeparated?u6(e):C6(e)),i.property==="style"){let r=typeof e=="object"?e:K6(n,String(e));return n.stylePropertyNameCase==="css"&&(r=Z6(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?v6[i.property]||i.property:i.attribute,e]}}function K6(n,t){try{return N6(t,{reactCompat:!0})}catch(e){if(n.ignoreInvalidStyle)return{};const i=e,r=new Fn("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=BC+"#cannot-parse-style-attribute",r}}function zC(n,t,e){let i;if(!e)i={type:"Literal",value:t};else if(t.includes(".")){const r=t.split(".");let a=-1,l;for(;++a<r.length;){const c=zx(r[a])?{type:"Identifier",name:r[a]}:{type:"Literal",value:r[a]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(a&&c.type==="Literal"),optional:!1}:c}i=l}else i=zx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(i.type==="Literal"){const r=i.value;return fb.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Rc(n)}function Rc(n,t){const e=new Fn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw e.file=n.filePath||void 0,e.url=BC+"#cannot-handle-mdx-estrees-without-createevaluater",e}function Z6(n){const t={};let e;for(e in n)fb.call(n,e)&&(t[Q6(e)]=n[e]);return t}function Q6(n){let t=n.replace(P6,J6);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function J6(n){return"-"+n.toLowerCase()}const Wm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},t8={};function e8(n,t){const e=t8,i=typeof e.includeImageAlt=="boolean"?e.includeImageAlt:!0,r=typeof e.includeHtml=="boolean"?e.includeHtml:!0;return UC(n,i,r)}function UC(n,t,e){if(n8(n)){if("value"in n)return n.type==="html"&&!e?"":n.value;if(t&&"alt"in n&&n.alt)return n.alt;if("children"in n)return Kx(n.children,t,e)}return Array.isArray(n)?Kx(n,t,e):""}function Kx(n,t,e){const i=[];let r=-1;for(;++r<n.length;)i[r]=UC(n[r],t,e);return i.join("")}function n8(n){return!!(n&&typeof n=="object")}const Zx=document.createElement("i");function gb(n){const t="&"+n+";";Zx.innerHTML=t;const e=Zx.textContent;return e.charCodeAt(e.length-1)===59&&n!=="semi"||e===t?!1:e}function Er(n,t,e,i){const r=n.length;let a=0,l;if(t<0?t=-t>r?0:r+t:t=t>r?r:t,e=e>0?e:0,i.length<1e4)l=Array.from(i),l.unshift(t,e),n.splice(...l);else for(e&&n.splice(t,e);a<i.length;)l=i.slice(a,a+1e4),l.unshift(t,0),n.splice(...l),a+=1e4,t+=1e4}function zi(n,t){return n.length>0?(Er(n,n.length,0,t),n):t}const Qx={}.hasOwnProperty;function i8(n){const t={};let e=-1;for(;++e<n.length;)r8(t,n[e]);return t}function r8(n,t){let e;for(e in t){const r=(Qx.call(n,e)?n[e]:void 0)||(n[e]={}),a=t[e];let l;if(a)for(l in a){Qx.call(r,l)||(r[l]=[]);const c=a[l];s8(r[l],Array.isArray(c)?c:c?[c]:[])}}}function s8(n,t){let e=-1;const i=[];for(;++e<t.length;)(t[e].add==="after"?n:i).push(t[e]);Er(n,0,0,i)}function HC(n,t){const e=Number.parseInt(n,t);return e<9||e===11||e>13&&e<32||e>126&&e<160||e>55295&&e<57344||e>64975&&e<65008||(e&65535)===65535||(e&65535)===65534||e>1114111?"":String.fromCodePoint(e)}function Mo(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ar=Fs(/[A-Za-z]/),wi=Fs(/[\dA-Za-z]/),a8=Fs(/[#-'*+\--9=?A-Z^-~]/);function sy(n){return n!==null&&(n<32||n===127)}const ay=Fs(/\d/),o8=Fs(/[\dA-Fa-f]/),l8=Fs(/[!-/:-@[-`{-~]/);function $t(n){return n!==null&&n<-2}function li(n){return n!==null&&(n<0||n===32)}function ye(n){return n===-2||n===-1||n===32}const c8=Fs(new RegExp("\\p{P}|\\p{S}","u")),u8=Fs(/\s/);function Fs(n){return t;function t(e){return e!==null&&e>-1&&n.test(String.fromCharCode(e))}}function Zo(n){const t=[];let e=-1,i=0,r=0;for(;++e<n.length;){const a=n.charCodeAt(e);let l="";if(a===37&&wi(n.charCodeAt(e+1))&&wi(n.charCodeAt(e+2)))r=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(l=String.fromCharCode(a));else if(a>55295&&a<57344){const c=n.charCodeAt(e+1);a<56320&&c>56319&&c<57344?(l=String.fromCharCode(a,c),r=1):l=""}else l=String.fromCharCode(a);l&&(t.push(n.slice(i,e),encodeURIComponent(l)),i=e+r+1,l=""),r&&(e+=r,r=0)}return t.join("")+n.slice(i)}function Me(n,t,e,i){const r=i?i-1:Number.POSITIVE_INFINITY;let a=0;return l;function l(d){return ye(d)?(n.enter(e),c(d)):t(d)}function c(d){return ye(d)&&a++<r?(n.consume(d),c):(n.exit(e),t(d))}}const d8={tokenize:h8};function h8(n){const t=n.attempt(this.parser.constructs.contentInitial,i,r);let e;return t;function i(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),Me(n,t,"linePrefix")}function r(c){return n.enter("paragraph"),a(c)}function a(c){const d=n.enter("chunkText",{contentType:"text",previous:e});return e&&(e.next=d),e=d,l(c)}function l(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return $t(c)?(n.consume(c),n.exit("chunkText"),a):(n.consume(c),l)}}const f8={tokenize:p8},Jx={tokenize:m8};function p8(n){const t=this,e=[];let i=0,r,a,l;return c;function c(k){if(i<e.length){const F=e[i];return t.containerState=F[1],n.attempt(F[0].continuation,d,h)(k)}return h(k)}function d(k){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&T();const F=t.events.length;let O=F,R;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){R=t.events[O][1].end;break}w(i);let D=F;for(;D<t.events.length;)t.events[D][1].end={...R},D++;return Er(t.events,O+1,0,t.events.slice(F)),t.events.length=D,h(k)}return c(k)}function h(k){if(i===e.length){if(!r)return y(k);if(r.currentConstruct&&r.currentConstruct.concrete)return S(k);t.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},n.check(Jx,p,m)(k)}function p(k){return r&&T(),w(i),y(k)}function m(k){return t.parser.lazy[t.now().line]=i!==e.length,l=t.now().offset,S(k)}function y(k){return t.containerState={},n.attempt(Jx,b,S)(k)}function b(k){return i++,e.push([t.currentConstruct,t.containerState]),y(k)}function S(k){if(k===null){r&&T(),w(0),n.consume(k);return}return r=r||t.parser.flow(t.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:a}),_(k)}function _(k){if(k===null){E(n.exit("chunkFlow"),!0),w(0),n.consume(k);return}return $t(k)?(n.consume(k),E(n.exit("chunkFlow")),i=0,t.interrupt=void 0,c):(n.consume(k),_)}function E(k,F){const O=t.sliceStream(k);if(F&&O.push(null),k.previous=a,a&&(a.next=k),a=k,r.defineSkip(k.start),r.write(O),t.parser.lazy[k.start.line]){let R=r.events.length;for(;R--;)if(r.events[R][1].start.offset<l&&(!r.events[R][1].end||r.events[R][1].end.offset>l))return;const D=t.events.length;let j=D,N,L;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(N){L=t.events[j][1].end;break}N=!0}for(w(i),R=D;R<t.events.length;)t.events[R][1].end={...L},R++;Er(t.events,j+1,0,t.events.slice(D)),t.events.length=R}}function w(k){let F=e.length;for(;F-- >k;){const O=e[F];t.containerState=O[1],O[0].exit.call(t,n)}e.length=k}function T(){r.write([null]),a=void 0,r=void 0,t.containerState._closeFlow=void 0}}function m8(n,t,e){return Me(n,n.attempt(this.parser.constructs.document,t,e),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tw(n){if(n===null||li(n)||u8(n))return 1;if(c8(n))return 2}function yb(n,t,e){const i=[];let r=-1;for(;++r<n.length;){const a=n[r].resolveAll;a&&!i.includes(a)&&(t=a(t,e),i.push(a))}return t}const oy={name:"attention",resolveAll:g8,tokenize:y8};function g8(n,t){let e=-1,i,r,a,l,c,d,h,p;for(;++e<n.length;)if(n[e][0]==="enter"&&n[e][1].type==="attentionSequence"&&n[e][1]._close){for(i=e;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&t.sliceSerialize(n[i][1]).charCodeAt(0)===t.sliceSerialize(n[e][1]).charCodeAt(0)){if((n[i][1]._close||n[e][1]._open)&&(n[e][1].end.offset-n[e][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[e][1].end.offset-n[e][1].start.offset)%3))continue;d=n[i][1].end.offset-n[i][1].start.offset>1&&n[e][1].end.offset-n[e][1].start.offset>1?2:1;const m={...n[i][1].end},y={...n[e][1].start};ew(m,-d),ew(y,d),l={type:d>1?"strongSequence":"emphasisSequence",start:m,end:{...n[i][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...n[e][1].start},end:y},a={type:d>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[e][1].start}},r={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},n[i][1].end={...l.start},n[e][1].start={...c.end},h=[],n[i][1].end.offset-n[i][1].start.offset&&(h=zi(h,[["enter",n[i][1],t],["exit",n[i][1],t]])),h=zi(h,[["enter",r,t],["enter",l,t],["exit",l,t],["enter",a,t]]),h=zi(h,yb(t.parser.constructs.insideSpan.null,n.slice(i+1,e),t)),h=zi(h,[["exit",a,t],["enter",c,t],["exit",c,t],["exit",r,t]]),n[e][1].end.offset-n[e][1].start.offset?(p=2,h=zi(h,[["enter",n[e][1],t],["exit",n[e][1],t]])):p=0,Er(n,i-1,e-i+3,h),e=i+h.length-p-2;break}}for(e=-1;++e<n.length;)n[e][1].type==="attentionSequence"&&(n[e][1].type="data");return n}function y8(n,t){const e=this.parser.constructs.attentionMarkers.null,i=this.previous,r=tw(i);let a;return l;function l(d){return a=d,n.enter("attentionSequence"),c(d)}function c(d){if(d===a)return n.consume(d),c;const h=n.exit("attentionSequence"),p=tw(d),m=!p||p===2&&r||e.includes(d),y=!r||r===2&&p||e.includes(i);return h._open=!!(a===42?m:m&&(r||!y)),h._close=!!(a===42?y:y&&(p||!m)),t(d)}}function ew(n,t){n.column+=t,n.offset+=t,n._bufferIndex+=t}const b8={name:"autolink",tokenize:v8};function v8(n,t,e){let i=0;return r;function r(b){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),a}function a(b){return Ar(b)?(n.consume(b),l):b===64?e(b):h(b)}function l(b){return b===43||b===45||b===46||wi(b)?(i=1,c(b)):h(b)}function c(b){return b===58?(n.consume(b),i=0,d):(b===43||b===45||b===46||wi(b))&&i++<32?(n.consume(b),c):(i=0,h(b))}function d(b){return b===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),t):b===null||b===32||b===60||sy(b)?e(b):(n.consume(b),d)}function h(b){return b===64?(n.consume(b),p):a8(b)?(n.consume(b),h):e(b)}function p(b){return wi(b)?m(b):e(b)}function m(b){return b===46?(n.consume(b),i=0,p):b===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(b),n.exit("autolinkMarker"),n.exit("autolink"),t):y(b)}function y(b){if((b===45||wi(b))&&i++<63){const S=b===45?y:m;return n.consume(b),S}return e(b)}}const Qh={partial:!0,tokenize:_8};function _8(n,t,e){return i;function i(a){return ye(a)?Me(n,r,"linePrefix")(a):r(a)}function r(a){return a===null||$t(a)?t(a):e(a)}}const $C={continuation:{tokenize:x8},exit:w8,name:"blockQuote",tokenize:S8};function S8(n,t,e){const i=this;return r;function r(l){if(l===62){const c=i.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(l),n.exit("blockQuoteMarker"),a}return e(l)}function a(l){return ye(l)?(n.enter("blockQuotePrefixWhitespace"),n.consume(l),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),t):(n.exit("blockQuotePrefix"),t(l))}}function x8(n,t,e){const i=this;return r;function r(l){return ye(l)?Me(n,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return n.attempt($C,t,e)(l)}}function w8(n){n.exit("blockQuote")}const qC={name:"characterEscape",tokenize:A8};function A8(n,t,e){return i;function i(a){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(a),n.exit("escapeMarker"),r}function r(a){return l8(a)?(n.enter("characterEscapeValue"),n.consume(a),n.exit("characterEscapeValue"),n.exit("characterEscape"),t):e(a)}}const VC={name:"characterReference",tokenize:E8};function E8(n,t,e){const i=this;let r=0,a,l;return c;function c(m){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),d}function d(m){return m===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(m),n.exit("characterReferenceMarkerNumeric"),h):(n.enter("characterReferenceValue"),a=31,l=wi,p(m))}function h(m){return m===88||m===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(m),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),a=6,l=o8,p):(n.enter("characterReferenceValue"),a=7,l=ay,p(m))}function p(m){if(m===59&&r){const y=n.exit("characterReferenceValue");return l===wi&&!gb(i.sliceSerialize(y))?e(m):(n.enter("characterReferenceMarker"),n.consume(m),n.exit("characterReferenceMarker"),n.exit("characterReference"),t)}return l(m)&&r++<a?(n.consume(m),p):e(m)}}const nw={partial:!0,tokenize:T8},iw={concrete:!0,name:"codeFenced",tokenize:C8};function C8(n,t,e){const i=this,r={partial:!0,tokenize:O};let a=0,l=0,c;return d;function d(R){return h(R)}function h(R){const D=i.events[i.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,c=R,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),p(R)}function p(R){return R===c?(l++,n.consume(R),p):l<3?e(R):(n.exit("codeFencedFenceSequence"),ye(R)?Me(n,m,"whitespace")(R):m(R))}function m(R){return R===null||$t(R)?(n.exit("codeFencedFence"),i.interrupt?t(R):n.check(nw,_,F)(R)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),y(R))}function y(R){return R===null||$t(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),m(R)):ye(R)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Me(n,b,"whitespace")(R)):R===96&&R===c?e(R):(n.consume(R),y)}function b(R){return R===null||$t(R)?m(R):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),S(R))}function S(R){return R===null||$t(R)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),m(R)):R===96&&R===c?e(R):(n.consume(R),S)}function _(R){return n.attempt(r,F,E)(R)}function E(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),w}function w(R){return a>0&&ye(R)?Me(n,T,"linePrefix",a+1)(R):T(R)}function T(R){return R===null||$t(R)?n.check(nw,_,F)(R):(n.enter("codeFlowValue"),k(R))}function k(R){return R===null||$t(R)?(n.exit("codeFlowValue"),T(R)):(n.consume(R),k)}function F(R){return n.exit("codeFenced"),t(R)}function O(R,D,j){let N=0;return L;function L(Y){return R.enter("lineEnding"),R.consume(Y),R.exit("lineEnding"),I}function I(Y){return R.enter("codeFencedFence"),ye(Y)?Me(R,H,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):H(Y)}function H(Y){return Y===c?(R.enter("codeFencedFenceSequence"),q(Y)):j(Y)}function q(Y){return Y===c?(N++,R.consume(Y),q):N>=l?(R.exit("codeFencedFenceSequence"),ye(Y)?Me(R,G,"whitespace")(Y):G(Y)):j(Y)}function G(Y){return Y===null||$t(Y)?(R.exit("codeFencedFence"),D(Y)):j(Y)}}}function T8(n,t,e){const i=this;return r;function r(l){return l===null?e(l):(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?e(l):t(l)}}const Km={name:"codeIndented",tokenize:O8},k8={partial:!0,tokenize:R8};function O8(n,t,e){const i=this;return r;function r(h){return n.enter("codeIndented"),Me(n,a,"linePrefix",5)(h)}function a(h){const p=i.events[i.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?l(h):e(h)}function l(h){return h===null?d(h):$t(h)?n.attempt(k8,l,d)(h):(n.enter("codeFlowValue"),c(h))}function c(h){return h===null||$t(h)?(n.exit("codeFlowValue"),l(h)):(n.consume(h),c)}function d(h){return n.exit("codeIndented"),t(h)}}function R8(n,t,e){const i=this;return r;function r(l){return i.parser.lazy[i.now().line]?e(l):$t(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),r):Me(n,a,"linePrefix",5)(l)}function a(l){const c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):$t(l)?r(l):e(l)}}const M8={name:"codeText",previous:D8,resolve:N8,tokenize:L8};function N8(n){let t=n.length-4,e=3,i,r;if((n[e][1].type==="lineEnding"||n[e][1].type==="space")&&(n[t][1].type==="lineEnding"||n[t][1].type==="space")){for(i=e;++i<t;)if(n[i][1].type==="codeTextData"){n[e][1].type="codeTextPadding",n[t][1].type="codeTextPadding",e+=2,t-=2;break}}for(i=e-1,t++;++i<=t;)r===void 0?i!==t&&n[i][1].type!=="lineEnding"&&(r=i):(i===t||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),t-=i-r-2,i=r+2),r=void 0);return n}function D8(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function L8(n,t,e){let i=0,r,a;return l;function l(m){return n.enter("codeText"),n.enter("codeTextSequence"),c(m)}function c(m){return m===96?(n.consume(m),i++,c):(n.exit("codeTextSequence"),d(m))}function d(m){return m===null?e(m):m===32?(n.enter("space"),n.consume(m),n.exit("space"),d):m===96?(a=n.enter("codeTextSequence"),r=0,p(m)):$t(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),d):(n.enter("codeTextData"),h(m))}function h(m){return m===null||m===32||m===96||$t(m)?(n.exit("codeTextData"),d(m)):(n.consume(m),h)}function p(m){return m===96?(n.consume(m),r++,p):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),t(m)):(a.type="codeTextData",h(m))}}class P8{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,e){const i=e??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(t,i):t>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(t,e,i){const r=e||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&tc(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),tc(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),tc(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const e=this.left.splice(t,Number.POSITIVE_INFINITY);tc(this.right,e.reverse())}else{const e=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);tc(this.left,e.reverse())}}}function tc(n,t){let e=0;if(t.length<1e4)n.push(...t);else for(;e<t.length;)n.push(...t.slice(e,e+1e4)),e+=1e4}function GC(n){const t={};let e=-1,i,r,a,l,c,d,h;const p=new P8(n);for(;++e<p.length;){for(;e in t;)e=t[e];if(i=p.get(e),e&&i[1].type==="chunkFlow"&&p.get(e-1)[1].type==="listItemPrefix"&&(d=i[1]._tokenizer.events,a=0,a<d.length&&d[a][1].type==="lineEndingBlank"&&(a+=2),a<d.length&&d[a][1].type==="content"))for(;++a<d.length&&d[a][1].type!=="content";)d[a][1].type==="chunkText"&&(d[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(t,j8(p,e)),e=t[e],h=!0);else if(i[1]._container){for(a=e,r=void 0;a--;)if(l=p.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(r&&(p.get(r)[1].type="lineEndingBlank"),l[1].type="lineEnding",r=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;r&&(i[1].end={...p.get(r)[1].start},c=p.slice(r,e),c.unshift(i),p.splice(r,e-r+1,c))}}return Er(n,0,Number.POSITIVE_INFINITY,p.slice(0)),!h}function j8(n,t){const e=n.get(t)[1],i=n.get(t)[2];let r=t-1;const a=[];let l=e._tokenizer;l||(l=i.parser[e.contentType](e.start),e._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],h={};let p,m,y=-1,b=e,S=0,_=0;const E=[_];for(;b;){for(;n.get(++r)[1]!==b;);a.push(r),b._tokenizer||(p=i.sliceStream(b),b.next||p.push(null),m&&l.defineSkip(b.start),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(p),b._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=b,b=b.next}for(b=e;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(_=y+1,E.push(_),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(l.events=[],b?(b._tokenizer=void 0,b.previous=void 0):E.pop(),y=E.length;y--;){const w=c.slice(E[y],E[y+1]),T=a.pop();d.push([T,T+w.length-1]),n.splice(T,2,w)}for(d.reverse(),y=-1;++y<d.length;)h[S+d[y][0]]=S+d[y][1],S+=d[y][1]-d[y][0]-1;return h}const B8={resolve:I8,tokenize:z8},F8={partial:!0,tokenize:U8};function I8(n){return GC(n),n}function z8(n,t){let e;return i;function i(c){return n.enter("content"),e=n.enter("chunkContent",{contentType:"content"}),r(c)}function r(c){return c===null?a(c):$t(c)?n.check(F8,l,a)(c):(n.consume(c),r)}function a(c){return n.exit("chunkContent"),n.exit("content"),t(c)}function l(c){return n.consume(c),n.exit("chunkContent"),e.next=n.enter("chunkContent",{contentType:"content",previous:e}),e=e.next,r}}function U8(n,t,e){const i=this;return r;function r(l){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),Me(n,a,"linePrefix")}function a(l){if(l===null||$t(l))return e(l);const c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):n.interrupt(i.parser.constructs.flow,e,t)(l)}}function XC(n,t,e,i,r,a,l,c,d){const h=d||Number.POSITIVE_INFINITY;let p=0;return m;function m(w){return w===60?(n.enter(i),n.enter(r),n.enter(a),n.consume(w),n.exit(a),y):w===null||w===32||w===41||sy(w)?e(w):(n.enter(i),n.enter(l),n.enter(c),n.enter("chunkString",{contentType:"string"}),_(w))}function y(w){return w===62?(n.enter(a),n.consume(w),n.exit(a),n.exit(r),n.exit(i),t):(n.enter(c),n.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===62?(n.exit("chunkString"),n.exit(c),y(w)):w===null||w===60||$t(w)?e(w):(n.consume(w),w===92?S:b)}function S(w){return w===60||w===62||w===92?(n.consume(w),b):b(w)}function _(w){return!p&&(w===null||w===41||li(w))?(n.exit("chunkString"),n.exit(c),n.exit(l),n.exit(i),t(w)):p<h&&w===40?(n.consume(w),p++,_):w===41?(n.consume(w),p--,_):w===null||w===32||w===40||sy(w)?e(w):(n.consume(w),w===92?E:_)}function E(w){return w===40||w===41||w===92?(n.consume(w),_):_(w)}}function YC(n,t,e,i,r,a){const l=this;let c=0,d;return h;function h(b){return n.enter(i),n.enter(r),n.consume(b),n.exit(r),n.enter(a),p}function p(b){return c>999||b===null||b===91||b===93&&!d||b===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?e(b):b===93?(n.exit(a),n.enter(r),n.consume(b),n.exit(r),n.exit(i),t):$t(b)?(n.enter("lineEnding"),n.consume(b),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===null||b===91||b===93||$t(b)||c++>999?(n.exit("chunkString"),p(b)):(n.consume(b),d||(d=!ye(b)),b===92?y:m)}function y(b){return b===91||b===92||b===93?(n.consume(b),c++,m):m(b)}}function WC(n,t,e,i,r,a){let l;return c;function c(y){return y===34||y===39||y===40?(n.enter(i),n.enter(r),n.consume(y),n.exit(r),l=y===40?41:y,d):e(y)}function d(y){return y===l?(n.enter(r),n.consume(y),n.exit(r),n.exit(i),t):(n.enter(a),h(y))}function h(y){return y===l?(n.exit(a),d(l)):y===null?e(y):$t(y)?(n.enter("lineEnding"),n.consume(y),n.exit("lineEnding"),Me(n,h,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===l||y===null||$t(y)?(n.exit("chunkString"),h(y)):(n.consume(y),y===92?m:p)}function m(y){return y===l||y===92?(n.consume(y),p):p(y)}}function gc(n,t){let e;return i;function i(r){return $t(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),e=!0,i):ye(r)?Me(n,i,e?"linePrefix":"lineSuffix")(r):t(r)}}const H8={name:"definition",tokenize:q8},$8={partial:!0,tokenize:V8};function q8(n,t,e){const i=this;let r;return a;function a(b){return n.enter("definition"),l(b)}function l(b){return YC.call(i,n,c,e,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function c(b){return r=Mo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),b===58?(n.enter("definitionMarker"),n.consume(b),n.exit("definitionMarker"),d):e(b)}function d(b){return li(b)?gc(n,h)(b):h(b)}function h(b){return XC(n,p,e,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function p(b){return n.attempt($8,m,m)(b)}function m(b){return ye(b)?Me(n,y,"whitespace")(b):y(b)}function y(b){return b===null||$t(b)?(n.exit("definition"),i.parser.defined.push(r),t(b)):e(b)}}function V8(n,t,e){return i;function i(c){return li(c)?gc(n,r)(c):e(c)}function r(c){return WC(n,a,e,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return ye(c)?Me(n,l,"whitespace")(c):l(c)}function l(c){return c===null||$t(c)?t(c):e(c)}}const G8={name:"hardBreakEscape",tokenize:X8};function X8(n,t,e){return i;function i(a){return n.enter("hardBreakEscape"),n.consume(a),r}function r(a){return $t(a)?(n.exit("hardBreakEscape"),t(a)):e(a)}}const Y8={name:"headingAtx",resolve:W8,tokenize:K8};function W8(n,t){let e=n.length-2,i=3,r,a;return n[i][1].type==="whitespace"&&(i+=2),e-2>i&&n[e][1].type==="whitespace"&&(e-=2),n[e][1].type==="atxHeadingSequence"&&(i===e-1||e-4>i&&n[e-2][1].type==="whitespace")&&(e-=i+1===e?2:4),e>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[e][1].end},a={type:"chunkText",start:n[i][1].start,end:n[e][1].end,contentType:"text"},Er(n,i,e-i+1,[["enter",r,t],["enter",a,t],["exit",a,t],["exit",r,t]])),n}function K8(n,t,e){let i=0;return r;function r(p){return n.enter("atxHeading"),a(p)}function a(p){return n.enter("atxHeadingSequence"),l(p)}function l(p){return p===35&&i++<6?(n.consume(p),l):p===null||li(p)?(n.exit("atxHeadingSequence"),c(p)):e(p)}function c(p){return p===35?(n.enter("atxHeadingSequence"),d(p)):p===null||$t(p)?(n.exit("atxHeading"),t(p)):ye(p)?Me(n,c,"whitespace")(p):(n.enter("atxHeadingText"),h(p))}function d(p){return p===35?(n.consume(p),d):(n.exit("atxHeadingSequence"),c(p))}function h(p){return p===null||p===35||li(p)?(n.exit("atxHeadingText"),c(p)):(n.consume(p),h)}}const Z8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],rw=["pre","script","style","textarea"],Q8={concrete:!0,name:"htmlFlow",resolveTo:eU,tokenize:nU},J8={partial:!0,tokenize:rU},tU={partial:!0,tokenize:iU};function eU(n){let t=n.length;for(;t--&&!(n[t][0]==="enter"&&n[t][1].type==="htmlFlow"););return t>1&&n[t-2][1].type==="linePrefix"&&(n[t][1].start=n[t-2][1].start,n[t+1][1].start=n[t-2][1].start,n.splice(t-2,2)),n}function nU(n,t,e){const i=this;let r,a,l,c,d;return h;function h(B){return p(B)}function p(B){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(B),m}function m(B){return B===33?(n.consume(B),y):B===47?(n.consume(B),a=!0,_):B===63?(n.consume(B),r=3,i.interrupt?t:A):Ar(B)?(n.consume(B),l=String.fromCharCode(B),E):e(B)}function y(B){return B===45?(n.consume(B),r=2,b):B===91?(n.consume(B),r=5,c=0,S):Ar(B)?(n.consume(B),r=4,i.interrupt?t:A):e(B)}function b(B){return B===45?(n.consume(B),i.interrupt?t:A):e(B)}function S(B){const Q="CDATA[";return B===Q.charCodeAt(c++)?(n.consume(B),c===Q.length?i.interrupt?t:H:S):e(B)}function _(B){return Ar(B)?(n.consume(B),l=String.fromCharCode(B),E):e(B)}function E(B){if(B===null||B===47||B===62||li(B)){const Q=B===47,ot=l.toLowerCase();return!Q&&!a&&rw.includes(ot)?(r=1,i.interrupt?t(B):H(B)):Z8.includes(l.toLowerCase())?(r=6,Q?(n.consume(B),w):i.interrupt?t(B):H(B)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?e(B):a?T(B):k(B))}return B===45||wi(B)?(n.consume(B),l+=String.fromCharCode(B),E):e(B)}function w(B){return B===62?(n.consume(B),i.interrupt?t:H):e(B)}function T(B){return ye(B)?(n.consume(B),T):L(B)}function k(B){return B===47?(n.consume(B),L):B===58||B===95||Ar(B)?(n.consume(B),F):ye(B)?(n.consume(B),k):L(B)}function F(B){return B===45||B===46||B===58||B===95||wi(B)?(n.consume(B),F):O(B)}function O(B){return B===61?(n.consume(B),R):ye(B)?(n.consume(B),O):k(B)}function R(B){return B===null||B===60||B===61||B===62||B===96?e(B):B===34||B===39?(n.consume(B),d=B,D):ye(B)?(n.consume(B),R):j(B)}function D(B){return B===d?(n.consume(B),d=null,N):B===null||$t(B)?e(B):(n.consume(B),D)}function j(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||li(B)?O(B):(n.consume(B),j)}function N(B){return B===47||B===62||ye(B)?k(B):e(B)}function L(B){return B===62?(n.consume(B),I):e(B)}function I(B){return B===null||$t(B)?H(B):ye(B)?(n.consume(B),I):e(B)}function H(B){return B===45&&r===2?(n.consume(B),U):B===60&&r===1?(n.consume(B),C):B===62&&r===4?(n.consume(B),P):B===63&&r===3?(n.consume(B),A):B===93&&r===5?(n.consume(B),X):$t(B)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(J8,V,q)(B)):B===null||$t(B)?(n.exit("htmlFlowData"),q(B)):(n.consume(B),H)}function q(B){return n.check(tU,G,V)(B)}function G(B){return n.enter("lineEnding"),n.consume(B),n.exit("lineEnding"),Y}function Y(B){return B===null||$t(B)?q(B):(n.enter("htmlFlowData"),H(B))}function U(B){return B===45?(n.consume(B),A):H(B)}function C(B){return B===47?(n.consume(B),l="",J):H(B)}function J(B){if(B===62){const Q=l.toLowerCase();return rw.includes(Q)?(n.consume(B),P):H(B)}return Ar(B)&&l.length<8?(n.consume(B),l+=String.fromCharCode(B),J):H(B)}function X(B){return B===93?(n.consume(B),A):H(B)}function A(B){return B===62?(n.consume(B),P):B===45&&r===2?(n.consume(B),A):H(B)}function P(B){return B===null||$t(B)?(n.exit("htmlFlowData"),V(B)):(n.consume(B),P)}function V(B){return n.exit("htmlFlow"),t(B)}}function iU(n,t,e){const i=this;return r;function r(l){return $t(l)?(n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),a):e(l)}function a(l){return i.parser.lazy[i.now().line]?e(l):t(l)}}function rU(n,t,e){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(Qh,t,e)}}const sU={name:"htmlText",tokenize:aU};function aU(n,t,e){const i=this;let r,a,l;return c;function c(A){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(A),d}function d(A){return A===33?(n.consume(A),h):A===47?(n.consume(A),O):A===63?(n.consume(A),k):Ar(A)?(n.consume(A),j):e(A)}function h(A){return A===45?(n.consume(A),p):A===91?(n.consume(A),a=0,S):Ar(A)?(n.consume(A),T):e(A)}function p(A){return A===45?(n.consume(A),b):e(A)}function m(A){return A===null?e(A):A===45?(n.consume(A),y):$t(A)?(l=m,C(A)):(n.consume(A),m)}function y(A){return A===45?(n.consume(A),b):m(A)}function b(A){return A===62?U(A):A===45?y(A):m(A)}function S(A){const P="CDATA[";return A===P.charCodeAt(a++)?(n.consume(A),a===P.length?_:S):e(A)}function _(A){return A===null?e(A):A===93?(n.consume(A),E):$t(A)?(l=_,C(A)):(n.consume(A),_)}function E(A){return A===93?(n.consume(A),w):_(A)}function w(A){return A===62?U(A):A===93?(n.consume(A),w):_(A)}function T(A){return A===null||A===62?U(A):$t(A)?(l=T,C(A)):(n.consume(A),T)}function k(A){return A===null?e(A):A===63?(n.consume(A),F):$t(A)?(l=k,C(A)):(n.consume(A),k)}function F(A){return A===62?U(A):k(A)}function O(A){return Ar(A)?(n.consume(A),R):e(A)}function R(A){return A===45||wi(A)?(n.consume(A),R):D(A)}function D(A){return $t(A)?(l=D,C(A)):ye(A)?(n.consume(A),D):U(A)}function j(A){return A===45||wi(A)?(n.consume(A),j):A===47||A===62||li(A)?N(A):e(A)}function N(A){return A===47?(n.consume(A),U):A===58||A===95||Ar(A)?(n.consume(A),L):$t(A)?(l=N,C(A)):ye(A)?(n.consume(A),N):U(A)}function L(A){return A===45||A===46||A===58||A===95||wi(A)?(n.consume(A),L):I(A)}function I(A){return A===61?(n.consume(A),H):$t(A)?(l=I,C(A)):ye(A)?(n.consume(A),I):N(A)}function H(A){return A===null||A===60||A===61||A===62||A===96?e(A):A===34||A===39?(n.consume(A),r=A,q):$t(A)?(l=H,C(A)):ye(A)?(n.consume(A),H):(n.consume(A),G)}function q(A){return A===r?(n.consume(A),r=void 0,Y):A===null?e(A):$t(A)?(l=q,C(A)):(n.consume(A),q)}function G(A){return A===null||A===34||A===39||A===60||A===61||A===96?e(A):A===47||A===62||li(A)?N(A):(n.consume(A),G)}function Y(A){return A===47||A===62||li(A)?N(A):e(A)}function U(A){return A===62?(n.consume(A),n.exit("htmlTextData"),n.exit("htmlText"),t):e(A)}function C(A){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(A),n.exit("lineEnding"),J}function J(A){return ye(A)?Me(n,X,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):X(A)}function X(A){return n.enter("htmlTextData"),l(A)}}const bb={name:"labelEnd",resolveAll:uU,resolveTo:dU,tokenize:hU},oU={tokenize:fU},lU={tokenize:pU},cU={tokenize:mU};function uU(n){let t=-1;const e=[];for(;++t<n.length;){const i=n[t][1];if(e.push(n[t]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",t+=r}}return n.length!==e.length&&Er(n,0,n.length,e),n}function dU(n,t){let e=n.length,i=0,r,a,l,c;for(;e--;)if(r=n[e][1],a){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[e][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(l){if(n[e][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(a=e,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(l=e);const d={type:n[a][1].type==="labelLink"?"link":"image",start:{...n[a][1].start},end:{...n[n.length-1][1].end}},h={type:"label",start:{...n[a][1].start},end:{...n[l][1].end}},p={type:"labelText",start:{...n[a+i+2][1].end},end:{...n[l-2][1].start}};return c=[["enter",d,t],["enter",h,t]],c=zi(c,n.slice(a+1,a+i+3)),c=zi(c,[["enter",p,t]]),c=zi(c,yb(t.parser.constructs.insideSpan.null,n.slice(a+i+4,l-3),t)),c=zi(c,[["exit",p,t],n[l-2],n[l-1],["exit",h,t]]),c=zi(c,n.slice(l+1)),c=zi(c,[["exit",d,t]]),Er(n,a,n.length,c),n}function hU(n,t,e){const i=this;let r=i.events.length,a,l;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){a=i.events[r][1];break}return c;function c(y){return a?a._inactive?m(y):(l=i.parser.defined.includes(Mo(i.sliceSerialize({start:a.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(y),n.exit("labelMarker"),n.exit("labelEnd"),d):e(y)}function d(y){return y===40?n.attempt(oU,p,l?p:m)(y):y===91?n.attempt(lU,p,l?h:m)(y):l?p(y):m(y)}function h(y){return n.attempt(cU,p,m)(y)}function p(y){return t(y)}function m(y){return a._balanced=!0,e(y)}}function fU(n,t,e){return i;function i(m){return n.enter("resource"),n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),r}function r(m){return li(m)?gc(n,a)(m):a(m)}function a(m){return m===41?p(m):XC(n,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return li(m)?gc(n,d)(m):p(m)}function c(m){return e(m)}function d(m){return m===34||m===39||m===40?WC(n,h,e,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):p(m)}function h(m){return li(m)?gc(n,p)(m):p(m)}function p(m){return m===41?(n.enter("resourceMarker"),n.consume(m),n.exit("resourceMarker"),n.exit("resource"),t):e(m)}}function pU(n,t,e){const i=this;return r;function r(c){return YC.call(i,n,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(Mo(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(c):e(c)}function l(c){return e(c)}}function mU(n,t,e){return i;function i(a){return n.enter("reference"),n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),r}function r(a){return a===93?(n.enter("referenceMarker"),n.consume(a),n.exit("referenceMarker"),n.exit("reference"),t):e(a)}}const gU={name:"labelStartImage",resolveAll:bb.resolveAll,tokenize:yU};function yU(n,t,e){const i=this;return r;function r(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),a}function a(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),l):e(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(c):t(c)}}const bU={name:"labelStartLink",resolveAll:bb.resolveAll,tokenize:vU};function vU(n,t,e){const i=this;return r;function r(l){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(l),n.exit("labelMarker"),n.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?e(l):t(l)}}const Zm={name:"lineEnding",tokenize:_U};function _U(n,t){return e;function e(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Me(n,t,"linePrefix")}}const Qd={name:"thematicBreak",tokenize:SU};function SU(n,t,e){let i=0,r;return a;function a(h){return n.enter("thematicBreak"),l(h)}function l(h){return r=h,c(h)}function c(h){return h===r?(n.enter("thematicBreakSequence"),d(h)):i>=3&&(h===null||$t(h))?(n.exit("thematicBreak"),t(h)):e(h)}function d(h){return h===r?(n.consume(h),i++,d):(n.exit("thematicBreakSequence"),ye(h)?Me(n,c,"whitespace")(h):c(h))}}const ni={continuation:{tokenize:EU},exit:TU,name:"list",tokenize:AU},xU={partial:!0,tokenize:kU},wU={partial:!0,tokenize:CU};function AU(n,t,e){const i=this,r=i.events[i.events.length-1];let a=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,l=0;return c;function c(b){const S=i.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!i.containerState.marker||b===i.containerState.marker:ay(b)){if(i.containerState.type||(i.containerState.type=S,n.enter(S,{_container:!0})),S==="listUnordered")return n.enter("listItemPrefix"),b===42||b===45?n.check(Qd,e,h)(b):h(b);if(!i.interrupt||b===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),d(b)}return e(b)}function d(b){return ay(b)&&++l<10?(n.consume(b),d):(!i.interrupt||l<2)&&(i.containerState.marker?b===i.containerState.marker:b===41||b===46)?(n.exit("listItemValue"),h(b)):e(b)}function h(b){return n.enter("listItemMarker"),n.consume(b),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||b,n.check(Qh,i.interrupt?e:p,n.attempt(xU,y,m))}function p(b){return i.containerState.initialBlankLine=!0,a++,y(b)}function m(b){return ye(b)?(n.enter("listItemPrefixWhitespace"),n.consume(b),n.exit("listItemPrefixWhitespace"),y):e(b)}function y(b){return i.containerState.size=a+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,t(b)}}function EU(n,t,e){const i=this;return i.containerState._closeFlow=void 0,n.check(Qh,r,a);function r(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Me(n,t,"listItemIndent",i.containerState.size+1)(c)}function a(c){return i.containerState.furtherBlankLines||!ye(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(wU,t,l)(c))}function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,Me(n,n.attempt(ni,t,e),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function CU(n,t,e){const i=this;return Me(n,r,"listItemIndent",i.containerState.size+1);function r(a){const l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?t(a):e(a)}}function TU(n){n.exit(this.containerState.type)}function kU(n,t,e){const i=this;return Me(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(a){const l=i.events[i.events.length-1];return!ye(a)&&l&&l[1].type==="listItemPrefixWhitespace"?t(a):e(a)}}const sw={name:"setextUnderline",resolveTo:OU,tokenize:RU};function OU(n,t){let e=n.length,i,r,a;for(;e--;)if(n[e][0]==="enter"){if(n[e][1].type==="content"){i=e;break}n[e][1].type==="paragraph"&&(r=e)}else n[e][1].type==="content"&&n.splice(e,1),!a&&n[e][1].type==="definition"&&(a=e);const l={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",a?(n.splice(r,0,["enter",l,t]),n.splice(a+1,0,["exit",n[i][1],t]),n[i][1].end={...n[a][1].end}):n[i][1]=l,n.push(["exit",l,t]),n}function RU(n,t,e){const i=this;let r;return a;function a(h){let p=i.events.length,m;for(;p--;)if(i.events[p][1].type!=="lineEnding"&&i.events[p][1].type!=="linePrefix"&&i.events[p][1].type!=="content"){m=i.events[p][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||m)?(n.enter("setextHeadingLine"),r=h,l(h)):e(h)}function l(h){return n.enter("setextHeadingLineSequence"),c(h)}function c(h){return h===r?(n.consume(h),c):(n.exit("setextHeadingLineSequence"),ye(h)?Me(n,d,"lineSuffix")(h):d(h))}function d(h){return h===null||$t(h)?(n.exit("setextHeadingLine"),t(h)):e(h)}}const MU={tokenize:NU};function NU(n){const t=this,e=n.attempt(Qh,i,n.attempt(this.parser.constructs.flowInitial,r,Me(n,n.attempt(this.parser.constructs.flow,r,n.attempt(B8,r)),"linePrefix")));return e;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEndingBlank"),n.consume(a),n.exit("lineEndingBlank"),t.currentConstruct=void 0,e}function r(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),t.currentConstruct=void 0,e}}const DU={resolveAll:ZC()},LU=KC("string"),PU=KC("text");function KC(n){return{resolveAll:ZC(n==="text"?jU:void 0),tokenize:t};function t(e){const i=this,r=this.parser.constructs[n],a=e.attempt(r,l,c);return l;function l(p){return h(p)?a(p):c(p)}function c(p){if(p===null){e.consume(p);return}return e.enter("data"),e.consume(p),d}function d(p){return h(p)?(e.exit("data"),a(p)):(e.consume(p),d)}function h(p){if(p===null)return!0;const m=r[p];let y=-1;if(m)for(;++y<m.length;){const b=m[y];if(!b.previous||b.previous.call(i,i.previous))return!0}return!1}}}function ZC(n){return t;function t(e,i){let r=-1,a;for(;++r<=e.length;)a===void 0?e[r]&&e[r][1].type==="data"&&(a=r,r++):(!e[r]||e[r][1].type!=="data")&&(r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),r=a+2),a=void 0);return n?n(e,i):e}}function jU(n,t){let e=0;for(;++e<=n.length;)if((e===n.length||n[e][1].type==="lineEnding")&&n[e-1][1].type==="data"){const i=n[e-1][1],r=t.sliceStream(i);let a=r.length,l=-1,c=0,d;for(;a--;){const h=r[a];if(typeof h=="string"){for(l=h.length;h.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(h===-2)d=!0,c++;else if(h!==-1){a++;break}}if(t._contentTypeTextTrailing&&e===n.length&&(c=0),c){const h={type:e===n.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(n.splice(e,0,["enter",h,t],["exit",h,t]),e+=2)}e++}return n}const BU={42:ni,43:ni,45:ni,48:ni,49:ni,50:ni,51:ni,52:ni,53:ni,54:ni,55:ni,56:ni,57:ni,62:$C},FU={91:H8},IU={[-2]:Km,[-1]:Km,32:Km},zU={35:Y8,42:Qd,45:[sw,Qd],60:Q8,61:sw,95:Qd,96:iw,126:iw},UU={38:VC,92:qC},HU={[-5]:Zm,[-4]:Zm,[-3]:Zm,33:gU,38:VC,42:oy,60:[b8,sU],91:bU,92:[G8,qC],93:bb,95:oy,96:M8},$U={null:[oy,DU]},qU={null:[42,95]},VU={null:[]},GU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qU,contentInitial:FU,disable:VU,document:BU,flow:zU,flowInitial:IU,insideSpan:$U,string:UU,text:HU},Symbol.toStringTag,{value:"Module"}));function XU(n,t,e){let i={_bufferIndex:-1,_index:0,line:e&&e.line||1,column:e&&e.column||1,offset:e&&e.offset||0};const r={},a=[];let l=[],c=[];const d={attempt:D(O),check:D(R),consume:T,enter:k,exit:F,interrupt:D(R,{interrupt:!0})},h={code:null,containerState:{},defineSkip:_,events:[],now:S,parser:n,previous:null,sliceSerialize:y,sliceStream:b,write:m};let p=t.tokenize.call(h,d);return t.resolveAll&&a.push(t),h;function m(I){return l=zi(l,I),E(),l[l.length-1]!==null?[]:(j(t,0),h.events=yb(a,h.events,h),h.events)}function y(I,H){return WU(b(I),H)}function b(I){return YU(l,I)}function S(){const{_bufferIndex:I,_index:H,line:q,column:G,offset:Y}=i;return{_bufferIndex:I,_index:H,line:q,column:G,offset:Y}}function _(I){r[I.line]=I.column,L()}function E(){let I;for(;i._index<l.length;){const H=l[i._index];if(typeof H=="string")for(I=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===I&&i._bufferIndex<H.length;)w(H.charCodeAt(i._bufferIndex));else w(H)}}function w(I){p=p(I)}function T(I){$t(I)?(i.line++,i.column=1,i.offset+=I===-3?2:1,L()):I!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=I}function k(I,H){const q=H||{};return q.type=I,q.start=S(),h.events.push(["enter",q,h]),c.push(q),q}function F(I){const H=c.pop();return H.end=S(),h.events.push(["exit",H,h]),H}function O(I,H){j(I,H.from)}function R(I,H){H.restore()}function D(I,H){return q;function q(G,Y,U){let C,J,X,A;return Array.isArray(G)?V(G):"tokenize"in G?V([G]):P(G);function P(st){return ct;function ct(wt){const _t=wt!==null&&st[wt],xt=wt!==null&&st.null,It=[...Array.isArray(_t)?_t:_t?[_t]:[],...Array.isArray(xt)?xt:xt?[xt]:[]];return V(It)(wt)}}function V(st){return C=st,J=0,st.length===0?U:B(st[J])}function B(st){return ct;function ct(wt){return A=N(),X=st,st.partial||(h.currentConstruct=st),st.name&&h.parser.constructs.disable.null.includes(st.name)?ot():st.tokenize.call(H?Object.assign(Object.create(h),H):h,d,Q,ot)(wt)}}function Q(st){return I(X,A),Y}function ot(st){return A.restore(),++J<C.length?B(C[J]):U}}}function j(I,H){I.resolveAll&&!a.includes(I)&&a.push(I),I.resolve&&Er(h.events,H,h.events.length-H,I.resolve(h.events.slice(H),h)),I.resolveTo&&(h.events=I.resolveTo(h.events,h))}function N(){const I=S(),H=h.previous,q=h.currentConstruct,G=h.events.length,Y=Array.from(c);return{from:G,restore:U};function U(){i=I,h.previous=H,h.currentConstruct=q,h.events.length=G,c=Y,L()}}function L(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function YU(n,t){const e=t.start._index,i=t.start._bufferIndex,r=t.end._index,a=t.end._bufferIndex;let l;if(e===r)l=[n[e].slice(i,a)];else{if(l=n.slice(e,r),i>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(n[r].slice(0,a))}return l}function WU(n,t){let e=-1;const i=[];let r;for(;++e<n.length;){const a=n[e];let l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&r)continue;l=" ";break}default:l=String.fromCharCode(a)}r=a===-2,i.push(l)}return i.join("")}function KU(n){const i={constructs:i8([GU,...(n||{}).extensions||[]]),content:r(d8),defined:[],document:r(f8),flow:r(MU),lazy:{},string:r(LU),text:r(PU)};return i;function r(a){return l;function l(c){return XU(i,a,c)}}}function ZU(n){for(;!GC(n););return n}const aw=/[\0\t\n\r]/g;function QU(){let n=1,t="",e=!0,i;return r;function r(a,l,c){const d=[];let h,p,m,y,b;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),m=0,t="",e&&(a.charCodeAt(0)===65279&&m++,e=void 0);m<a.length;){if(aw.lastIndex=m,h=aw.exec(a),y=h&&h.index!==void 0?h.index:a.length,b=a.charCodeAt(y),!h){t=a.slice(m);break}if(b===10&&m===y&&i)d.push(-3),i=void 0;else switch(i&&(d.push(-5),i=void 0),m<y&&(d.push(a.slice(m,y)),n+=y-m),b){case 0:{d.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,d.push(-2);n++<p;)d.push(-1);break}case 10:{d.push(-4),n=1;break}default:i=!0,n=1}m=y+1}return c&&(i&&d.push(-5),t&&d.push(t),d.push(null)),d}}const JU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tH(n){return n.replace(JU,eH)}function eH(n,t,e){if(t)return t;if(e.charCodeAt(0)===35){const r=e.charCodeAt(1),a=r===120||r===88;return HC(e.slice(a?2:1),a?16:10)}return gb(e)||n}const QC={}.hasOwnProperty;function nH(n,t,e){return typeof t!="string"&&(e=t,t=void 0),iH(e)(ZU(KU(e).document().write(QU()(n,t,!0))))}function iH(n){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(fe),autolinkProtocol:N,autolinkEmail:N,atxHeading:a(Nt),blockQuote:a(xt),characterEscape:N,characterReference:N,codeFenced:a(It),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(It,l),codeText:a(Ut,l),codeTextData:N,data:N,codeFlowValue:N,definition:a(Ct),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(At),hardBreakEscape:a(Ht),hardBreakTrailing:a(Ht),htmlFlow:a(Bt,l),htmlFlowData:N,htmlText:a(Bt,l),htmlTextData:N,image:a(he),label:l,link:a(fe),listItem:a(nt),listItemValue:y,listOrdered:a(W,m),listUnordered:a(W),paragraph:a(dt),reference:B,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Nt),strong:a(St),thematicBreak:a(yt)},exit:{atxHeading:d(),atxHeadingSequence:O,autolink:d(),autolinkEmail:_t,autolinkProtocol:wt,blockQuote:d(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:ot,characterReferenceMarkerNumeric:ot,characterReferenceValue:st,characterReference:ct,codeFenced:d(E),codeFencedFence:_,codeFencedFenceInfo:b,codeFencedFenceMeta:S,codeFlowValue:L,codeIndented:d(w),codeText:d(Y),codeTextData:L,data:L,definition:d(),definitionDestinationString:F,definitionLabelString:T,definitionTitleString:k,emphasis:d(),hardBreakEscape:d(H),hardBreakTrailing:d(H),htmlFlow:d(q),htmlFlowData:L,htmlText:d(G),htmlTextData:L,image:d(C),label:X,labelText:J,lineEnding:I,link:d(U),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:Q,resourceDestinationString:A,resourceTitleString:P,resource:V,setextHeading:d(j),setextHeadingLineSequence:D,setextHeadingText:R,strong:d(),thematicBreak:d()}};JC(t,(n||{}).mdastExtensions||[]);const e={};return i;function i(tt){let ht={type:"root",children:[]};const vt={stack:[ht],tokenStack:[],config:t,enter:c,exit:h,buffer:l,resume:p,data:e},Dt=[];let ee=-1;for(;++ee<tt.length;)if(tt[ee][1].type==="listOrdered"||tt[ee][1].type==="listUnordered")if(tt[ee][0]==="enter")Dt.push(ee);else{const Xe=Dt.pop();ee=r(tt,Xe,ee)}for(ee=-1;++ee<tt.length;){const Xe=t[tt[ee][0]];QC.call(Xe,tt[ee][1].type)&&Xe[tt[ee][1].type].call(Object.assign({sliceSerialize:tt[ee][2].sliceSerialize},vt),tt[ee][1])}if(vt.tokenStack.length>0){const Xe=vt.tokenStack[vt.tokenStack.length-1];(Xe[1]||ow).call(vt,void 0,Xe[0])}for(ht.position={start:Os(tt.length>0?tt[0][1].start:{line:1,column:1,offset:0}),end:Os(tt.length>0?tt[tt.length-2][1].end:{line:1,column:1,offset:0})},ee=-1;++ee<t.transforms.length;)ht=t.transforms[ee](ht)||ht;return ht}function r(tt,ht,vt){let Dt=ht-1,ee=-1,Xe=!1,Hi,pn,ze,Dn;for(;++Dt<=vt;){const be=tt[Dt];switch(be[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{be[0]==="enter"?ee++:ee--,Dn=void 0;break}case"lineEndingBlank":{be[0]==="enter"&&(Hi&&!Dn&&!ee&&!ze&&(ze=Dt),Dn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dn=void 0}if(!ee&&be[0]==="enter"&&be[1].type==="listItemPrefix"||ee===-1&&be[0]==="exit"&&(be[1].type==="listUnordered"||be[1].type==="listOrdered")){if(Hi){let rr=Dt;for(pn=void 0;rr--;){const Gn=tt[rr];if(Gn[1].type==="lineEnding"||Gn[1].type==="lineEndingBlank"){if(Gn[0]==="exit")continue;pn&&(tt[pn][1].type="lineEndingBlank",Xe=!0),Gn[1].type="lineEnding",pn=rr}else if(!(Gn[1].type==="linePrefix"||Gn[1].type==="blockQuotePrefix"||Gn[1].type==="blockQuotePrefixWhitespace"||Gn[1].type==="blockQuoteMarker"||Gn[1].type==="listItemIndent"))break}ze&&(!pn||ze<pn)&&(Hi._spread=!0),Hi.end=Object.assign({},pn?tt[pn][1].start:be[1].end),tt.splice(pn||Dt,0,["exit",Hi,be[2]]),Dt++,vt++}if(be[1].type==="listItemPrefix"){const rr={type:"listItem",_spread:!1,start:Object.assign({},be[1].start),end:void 0};Hi=rr,tt.splice(Dt,0,["enter",rr,be[2]]),Dt++,vt++,ze=void 0,Dn=!0}}}return tt[ht][1]._spread=Xe,vt}function a(tt,ht){return vt;function vt(Dt){c.call(this,tt(Dt),Dt),ht&&ht.call(this,Dt)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(tt,ht,vt){this.stack[this.stack.length-1].children.push(tt),this.stack.push(tt),this.tokenStack.push([ht,vt||void 0]),tt.position={start:Os(ht.start),end:void 0}}function d(tt){return ht;function ht(vt){tt&&tt.call(this,vt),h.call(this,vt)}}function h(tt,ht){const vt=this.stack.pop(),Dt=this.tokenStack.pop();if(Dt)Dt[0].type!==tt.type&&(ht?ht.call(this,tt,Dt[0]):(Dt[1]||ow).call(this,tt,Dt[0]));else throw new Error("Cannot close `"+tt.type+"` ("+mc({start:tt.start,end:tt.end})+"): its not open");vt.position.end=Os(tt.end)}function p(){return e8(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function y(tt){if(this.data.expectingFirstListItemValue){const ht=this.stack[this.stack.length-2];ht.start=Number.parseInt(this.sliceSerialize(tt),10),this.data.expectingFirstListItemValue=void 0}}function b(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.lang=tt}function S(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.meta=tt}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.value=tt.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.value=tt.replace(/(\r?\n|\r)$/g,"")}function T(tt){const ht=this.resume(),vt=this.stack[this.stack.length-1];vt.label=ht,vt.identifier=Mo(this.sliceSerialize(tt)).toLowerCase()}function k(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.title=tt}function F(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.url=tt}function O(tt){const ht=this.stack[this.stack.length-1];if(!ht.depth){const vt=this.sliceSerialize(tt).length;ht.depth=vt}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function D(tt){const ht=this.stack[this.stack.length-1];ht.depth=this.sliceSerialize(tt).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function N(tt){const vt=this.stack[this.stack.length-1].children;let Dt=vt[vt.length-1];(!Dt||Dt.type!=="text")&&(Dt=gt(),Dt.position={start:Os(tt.start),end:void 0},vt.push(Dt)),this.stack.push(Dt)}function L(tt){const ht=this.stack.pop();ht.value+=this.sliceSerialize(tt),ht.position.end=Os(tt.end)}function I(tt){const ht=this.stack[this.stack.length-1];if(this.data.atHardBreak){const vt=ht.children[ht.children.length-1];vt.position.end=Os(tt.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ht.type)&&(N.call(this,tt),L.call(this,tt))}function H(){this.data.atHardBreak=!0}function q(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.value=tt}function G(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.value=tt}function Y(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.value=tt}function U(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const ht=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=ht,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function C(){const tt=this.stack[this.stack.length-1];if(this.data.inReference){const ht=this.data.referenceType||"shortcut";tt.type+="Reference",tt.referenceType=ht,delete tt.url,delete tt.title}else delete tt.identifier,delete tt.label;this.data.referenceType=void 0}function J(tt){const ht=this.sliceSerialize(tt),vt=this.stack[this.stack.length-2];vt.label=tH(ht),vt.identifier=Mo(ht).toLowerCase()}function X(){const tt=this.stack[this.stack.length-1],ht=this.resume(),vt=this.stack[this.stack.length-1];if(this.data.inReference=!0,vt.type==="link"){const Dt=tt.children;vt.children=Dt}else vt.alt=ht}function A(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.url=tt}function P(){const tt=this.resume(),ht=this.stack[this.stack.length-1];ht.title=tt}function V(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function Q(tt){const ht=this.resume(),vt=this.stack[this.stack.length-1];vt.label=ht,vt.identifier=Mo(this.sliceSerialize(tt)).toLowerCase(),this.data.referenceType="full"}function ot(tt){this.data.characterReferenceType=tt.type}function st(tt){const ht=this.sliceSerialize(tt),vt=this.data.characterReferenceType;let Dt;vt?(Dt=HC(ht,vt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Dt=gb(ht);const ee=this.stack[this.stack.length-1];ee.value+=Dt}function ct(tt){const ht=this.stack.pop();ht.position.end=Os(tt.end)}function wt(tt){L.call(this,tt);const ht=this.stack[this.stack.length-1];ht.url=this.sliceSerialize(tt)}function _t(tt){L.call(this,tt);const ht=this.stack[this.stack.length-1];ht.url="mailto:"+this.sliceSerialize(tt)}function xt(){return{type:"blockquote",children:[]}}function It(){return{type:"code",lang:null,meta:null,value:""}}function Ut(){return{type:"inlineCode",value:""}}function Ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function At(){return{type:"emphasis",children:[]}}function Nt(){return{type:"heading",depth:0,children:[]}}function Ht(){return{type:"break"}}function Bt(){return{type:"html",value:""}}function he(){return{type:"image",title:null,url:"",alt:null}}function fe(){return{type:"link",title:null,url:"",children:[]}}function W(tt){return{type:"list",ordered:tt.type==="listOrdered",start:null,spread:tt._spread,children:[]}}function nt(tt){return{type:"listItem",spread:tt._spread,checked:null,children:[]}}function dt(){return{type:"paragraph",children:[]}}function St(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function yt(){return{type:"thematicBreak"}}}function Os(n){return{line:n.line,column:n.column,offset:n.offset}}function JC(n,t){let e=-1;for(;++e<t.length;){const i=t[e];Array.isArray(i)?JC(n,i):rH(n,i)}}function rH(n,t){let e;for(e in t)if(QC.call(t,e))switch(e){case"canContainEols":{const i=t[e];i&&n[e].push(...i);break}case"transforms":{const i=t[e];i&&n[e].push(...i);break}case"enter":case"exit":{const i=t[e];i&&Object.assign(n[e],i);break}}}function ow(n,t){throw n?new Error("Cannot close `"+n.type+"` ("+mc({start:n.start,end:n.end})+"): a different token (`"+t.type+"`, "+mc({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+mc({start:t.start,end:t.end})+") is still open")}function sH(n){const t=this;t.parser=e;function e(i){return nH(i,{...t.data("settings"),...n,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function aH(n,t){const e={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(t),!0)};return n.patch(t,e),n.applyData(t,e)}function oH(n,t){const e={type:"element",tagName:"br",properties:{},children:[]};return n.patch(t,e),[n.applyData(t,e),{type:"text",value:`
`}]}function lH(n,t){const e=t.value?t.value+`
`:"",i={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:e}]};return t.meta&&(a.data={meta:t.meta}),n.patch(t,a),a=n.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},n.patch(t,a),a}function cH(n,t){const e={type:"element",tagName:"del",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function uH(n,t){const e={type:"element",tagName:"em",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function dH(n,t){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=Zo(i.toLowerCase()),a=n.footnoteOrder.indexOf(i);let l,c=n.footnoteCounts.get(i);c===void 0?(c=0,n.footnoteOrder.push(i),l=n.footnoteOrder.length):l=a+1,c+=1,n.footnoteCounts.set(i,c);const d={type:"element",tagName:"a",properties:{href:"#"+e+"fn-"+r,id:e+"fnref-"+r+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};n.patch(t,d);const h={type:"element",tagName:"sup",properties:{},children:[d]};return n.patch(t,h),n.applyData(t,h)}function hH(n,t){const e={type:"element",tagName:"h"+t.depth,properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function fH(n,t){if(n.options.allowDangerousHtml){const e={type:"raw",value:t.value};return n.patch(t,e),n.applyData(t,e)}}function tT(n,t){const e=t.referenceType;let i="]";if(e==="collapsed"?i+="[]":e==="full"&&(i+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+i}];const r=n.all(t),a=r[0];a&&a.type==="text"?a.value="["+a.value:r.unshift({type:"text",value:"["});const l=r[r.length-1];return l&&l.type==="text"?l.value+=i:r.push({type:"text",value:i}),r}function pH(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return tT(n,t);const r={src:Zo(i.url||""),alt:t.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"img",properties:r,children:[]};return n.patch(t,a),n.applyData(t,a)}function mH(n,t){const e={src:Zo(t.url)};t.alt!==null&&t.alt!==void 0&&(e.alt=t.alt),t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"img",properties:e,children:[]};return n.patch(t,i),n.applyData(t,i)}function gH(n,t){const e={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};n.patch(t,e);const i={type:"element",tagName:"code",properties:{},children:[e]};return n.patch(t,i),n.applyData(t,i)}function yH(n,t){const e=String(t.identifier).toUpperCase(),i=n.definitionById.get(e);if(!i)return tT(n,t);const r={href:Zo(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const a={type:"element",tagName:"a",properties:r,children:n.all(t)};return n.patch(t,a),n.applyData(t,a)}function bH(n,t){const e={href:Zo(t.url)};t.title!==null&&t.title!==void 0&&(e.title=t.title);const i={type:"element",tagName:"a",properties:e,children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function vH(n,t,e){const i=n.all(t),r=e?_H(e):eT(t),a={},l=[];if(typeof t.checked=="boolean"){const p=i[0];let m;p&&p.type==="element"&&p.tagName==="p"?m=p:(m={type:"element",tagName:"p",properties:{},children:[]},i.unshift(m)),m.children.length>0&&m.children.unshift({type:"text",value:" "}),m.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let c=-1;for(;++c<i.length;){const p=i[c];(r||c!==0||p.type!=="element"||p.tagName!=="p")&&l.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!r?l.push(...p.children):l.push(p)}const d=i[i.length-1];d&&(r||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:a,children:l};return n.patch(t,h),n.applyData(t,h)}function _H(n){let t=!1;if(n.type==="list"){t=n.spread||!1;const e=n.children;let i=-1;for(;!t&&++i<e.length;)t=eT(e[i])}return t}function eT(n){const t=n.spread;return t??n.children.length>1}function SH(n,t){const e={},i=n.all(t);let r=-1;for(typeof t.start=="number"&&t.start!==1&&(e.start=t.start);++r<i.length;){const l=i[r];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){e.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:e,children:n.wrap(i,!0)};return n.patch(t,a),n.applyData(t,a)}function xH(n,t){const e={type:"element",tagName:"p",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function wH(n,t){const e={type:"root",children:n.wrap(n.all(t))};return n.patch(t,e),n.applyData(t,e)}function AH(n,t){const e={type:"element",tagName:"strong",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}function EH(n,t){const e=n.all(t),i=e.shift(),r=[];if(i){const l={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(t.children[0],l),r.push(l)}if(e.length>0){const l={type:"element",tagName:"tbody",properties:{},children:n.wrap(e,!0)},c=hb(t.children[1]),d=PC(t.children[t.children.length-1]);c&&d&&(l.position={start:c,end:d}),r.push(l)}const a={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(t,a),n.applyData(t,a)}function CH(n,t,e){const i=e?e.children:void 0,a=(i?i.indexOf(t):1)===0?"th":"td",l=e&&e.type==="table"?e.align:void 0,c=l?l.length:t.children.length;let d=-1;const h=[];for(;++d<c;){const m=t.children[d],y={},b=l?l[d]:void 0;b&&(y.align=b);let S={type:"element",tagName:a,properties:y,children:[]};m&&(S.children=n.all(m),n.patch(m,S),S=n.applyData(m,S)),h.push(S)}const p={type:"element",tagName:"tr",properties:{},children:n.wrap(h,!0)};return n.patch(t,p),n.applyData(t,p)}function TH(n,t){const e={type:"element",tagName:"td",properties:{},children:n.all(t)};return n.patch(t,e),n.applyData(t,e)}const lw=9,cw=32;function kH(n){const t=String(n),e=/\r?\n|\r/g;let i=e.exec(t),r=0;const a=[];for(;i;)a.push(uw(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=e.exec(t);return a.push(uw(t.slice(r),r>0,!1)),a.join("")}function uw(n,t,e){let i=0,r=n.length;if(t){let a=n.codePointAt(i);for(;a===lw||a===cw;)i++,a=n.codePointAt(i)}if(e){let a=n.codePointAt(r-1);for(;a===lw||a===cw;)r--,a=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function OH(n,t){const e={type:"text",value:kH(String(t.value))};return n.patch(t,e),n.applyData(t,e)}function RH(n,t){const e={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(t,e),n.applyData(t,e)}const MH={blockquote:aH,break:oH,code:lH,delete:cH,emphasis:uH,footnoteReference:dH,heading:hH,html:fH,imageReference:pH,image:mH,inlineCode:gH,linkReference:yH,link:bH,listItem:vH,list:SH,paragraph:xH,root:wH,strong:AH,table:EH,tableCell:TH,tableRow:CH,text:OH,thematicBreak:RH,toml:Pd,yaml:Pd,definition:Pd,footnoteDefinition:Pd};function Pd(){}const nT=-1,Jh=0,yc=1,vh=2,vb=3,_b=4,Sb=5,xb=6,iT=7,rT=8,dw=typeof self=="object"?self:globalThis,NH=(n,t)=>{const e=(r,a)=>(n.set(a,r),r),i=r=>{if(n.has(r))return n.get(r);const[a,l]=t[r];switch(a){case Jh:case nT:return e(l,r);case yc:{const c=e([],r);for(const d of l)c.push(i(d));return c}case vh:{const c=e({},r);for(const[d,h]of l)c[i(d)]=i(h);return c}case vb:return e(new Date(l),r);case _b:{const{source:c,flags:d}=l;return e(new RegExp(c,d),r)}case Sb:{const c=e(new Map,r);for(const[d,h]of l)c.set(i(d),i(h));return c}case xb:{const c=e(new Set,r);for(const d of l)c.add(i(d));return c}case iT:{const{name:c,message:d}=l;return e(new dw[c](d),r)}case rT:return e(BigInt(l),r);case"BigInt":return e(Object(BigInt(l)),r);case"ArrayBuffer":return e(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return e(new DataView(c),l)}}return e(new dw[a](l),r)};return i},hw=n=>NH(new Map,n)(0),go="",{toString:DH}={},{keys:LH}=Object,ec=n=>{const t=typeof n;if(t!=="object"||!n)return[Jh,t];const e=DH.call(n).slice(8,-1);switch(e){case"Array":return[yc,go];case"Object":return[vh,go];case"Date":return[vb,go];case"RegExp":return[_b,go];case"Map":return[Sb,go];case"Set":return[xb,go];case"DataView":return[yc,e]}return e.includes("Array")?[yc,e]:e.includes("Error")?[iT,e]:[vh,e]},jd=([n,t])=>n===Jh&&(t==="function"||t==="symbol"),PH=(n,t,e,i)=>{const r=(l,c)=>{const d=i.push(l)-1;return e.set(c,d),d},a=l=>{if(e.has(l))return e.get(l);let[c,d]=ec(l);switch(c){case Jh:{let p=l;switch(d){case"bigint":c=rT,p=l.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+d);p=null;break;case"undefined":return r([nT],l)}return r([c,p],l)}case yc:{if(d){let y=l;return d==="DataView"?y=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(y=new Uint8Array(l)),r([d,[...y]],l)}const p=[],m=r([c,p],l);for(const y of l)p.push(a(y));return m}case vh:{if(d)switch(d){case"BigInt":return r([d,l.toString()],l);case"Boolean":case"Number":case"String":return r([d,l.valueOf()],l)}if(t&&"toJSON"in l)return a(l.toJSON());const p=[],m=r([c,p],l);for(const y of LH(l))(n||!jd(ec(l[y])))&&p.push([a(y),a(l[y])]);return m}case vb:return r([c,l.toISOString()],l);case _b:{const{source:p,flags:m}=l;return r([c,{source:p,flags:m}],l)}case Sb:{const p=[],m=r([c,p],l);for(const[y,b]of l)(n||!(jd(ec(y))||jd(ec(b))))&&p.push([a(y),a(b)]);return m}case xb:{const p=[],m=r([c,p],l);for(const y of l)(n||!jd(ec(y)))&&p.push(a(y));return m}}const{message:h}=l;return r([c,{name:d,message:h}],l)};return a},fw=(n,{json:t,lossy:e}={})=>{const i=[];return PH(!(t||e),!!t,new Map,i)(n),i},_h=typeof structuredClone=="function"?(n,t)=>t&&("json"in t||"lossy"in t)?hw(fw(n,t)):structuredClone(n):(n,t)=>hw(fw(n,t));function jH(n,t){const e=[{type:"text",value:""}];return t>1&&e.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),e}function BH(n,t){return"Back to reference "+(n+1)+(t>1?"-"+t:"")}function FH(n){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",e=n.options.footnoteBackContent||jH,i=n.options.footnoteBackLabel||BH,r=n.options.footnoteLabel||"Footnotes",a=n.options.footnoteLabelTagName||"h2",l=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<n.footnoteOrder.length;){const h=n.footnoteById.get(n.footnoteOrder[d]);if(!h)continue;const p=n.all(h),m=String(h.identifier).toUpperCase(),y=Zo(m.toLowerCase());let b=0;const S=[],_=n.footnoteCounts.get(m);for(;_!==void 0&&++b<=_;){S.length>0&&S.push({type:"text",value:" "});let T=typeof e=="string"?e:e(d,b);typeof T=="string"&&(T={type:"text",value:T}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(d,b),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const E=p[p.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const T=E.children[E.children.length-1];T&&T.type==="text"?T.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...S)}else p.push(...S);const w={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:n.wrap(p,!0)};n.patch(h,w),c.push(w)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{..._h(l),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const sT=(function(n){if(n==null)return HH;if(typeof n=="function")return tf(n);if(typeof n=="object")return Array.isArray(n)?IH(n):zH(n);if(typeof n=="string")return UH(n);throw new Error("Expected function, string, or object as test")});function IH(n){const t=[];let e=-1;for(;++e<n.length;)t[e]=sT(n[e]);return tf(i);function i(...r){let a=-1;for(;++a<t.length;)if(t[a].apply(this,r))return!0;return!1}}function zH(n){const t=n;return tf(e);function e(i){const r=i;let a;for(a in n)if(r[a]!==t[a])return!1;return!0}}function UH(n){return tf(t);function t(e){return e&&e.type===n}}function tf(n){return t;function t(e,i,r){return!!($H(e)&&n.call(this,e,typeof i=="number"?i:void 0,r||void 0))}}function HH(){return!0}function $H(n){return n!==null&&typeof n=="object"&&"type"in n}const aT=[],qH=!0,pw=!1,VH="skip";function GH(n,t,e,i){let r;typeof t=="function"&&typeof e!="function"?(i=e,e=t):r=t;const a=sT(r),l=i?-1:1;c(n,void 0,[])();function c(d,h,p){const m=d&&typeof d=="object"?d:{};if(typeof m.type=="string"){const b=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(d.type+(b?"<"+b+">":""))+")"})}return y;function y(){let b=aT,S,_,E;if((!t||a(d,h,p[p.length-1]||void 0))&&(b=XH(e(d,p)),b[0]===pw))return b;if("children"in d&&d.children){const w=d;if(w.children&&b[0]!==VH)for(_=(i?w.children.length:-1)+l,E=p.concat(w);_>-1&&_<w.children.length;){const T=w.children[_];if(S=c(T,_,E)(),S[0]===pw)return S;_=typeof S[1]=="number"?S[1]:_+l}}return b}}}function XH(n){return Array.isArray(n)?n:typeof n=="number"?[qH,n]:n==null?aT:[n]}function oT(n,t,e,i){let r,a,l;typeof t=="function"&&typeof e!="function"?(a=void 0,l=t,r=e):(a=t,l=e,r=i),GH(n,a,c,r);function c(d,h){const p=h[h.length-1],m=p?p.children.indexOf(d):void 0;return l(d,m,p)}}const ly={}.hasOwnProperty,YH={};function WH(n,t){const e=t||YH,i=new Map,r=new Map,a=new Map,l={...MH,...e.handlers},c={all:h,applyData:ZH,definitionById:i,footnoteById:r,footnoteCounts:a,footnoteOrder:[],handlers:l,one:d,options:e,patch:KH,wrap:JH};return oT(n,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const m=p.type==="definition"?i:r,y=String(p.identifier).toUpperCase();m.has(y)||m.set(y,p)}}),c;function d(p,m){const y=p.type,b=c.handlers[y];if(ly.call(c.handlers,y)&&b)return b(c,p,m);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in p){const{children:_,...E}=p,w=_h(E);return w.children=c.all(p),w}return _h(p)}return(c.options.unknownHandler||QH)(c,p,m)}function h(p){const m=[];if("children"in p){const y=p.children;let b=-1;for(;++b<y.length;){const S=c.one(y[b],p);if(S){if(b&&y[b-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=mw(S.value)),!Array.isArray(S)&&S.type==="element")){const _=S.children[0];_&&_.type==="text"&&(_.value=mw(_.value))}Array.isArray(S)?m.push(...S):m.push(S)}}}return m}}function KH(n,t){n.position&&(t.position=D6(n))}function ZH(n,t){let e=t;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,a=n.data.hProperties;if(typeof i=="string")if(e.type==="element")e.tagName=i;else{const l="children"in e?e.children:[e];e={type:"element",tagName:i,properties:{},children:l}}e.type==="element"&&a&&Object.assign(e.properties,_h(a)),"children"in e&&e.children&&r!==null&&r!==void 0&&(e.children=r)}return e}function QH(n,t){const e=t.data||{},i="value"in t&&!(ly.call(e,"hProperties")||ly.call(e,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:n.all(t)};return n.patch(t,i),n.applyData(t,i)}function JH(n,t){const e=[];let i=-1;for(t&&e.push({type:"text",value:`
`});++i<n.length;)i&&e.push({type:"text",value:`
`}),e.push(n[i]);return t&&n.length>0&&e.push({type:"text",value:`
`}),e}function mw(n){let t=0,e=n.charCodeAt(t);for(;e===9||e===32;)t++,e=n.charCodeAt(t);return n.slice(t)}function gw(n,t){const e=WH(n,t),i=e.one(n,void 0),r=FH(e),a=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&a.children.push({type:"text",value:`
`},r),a}function t9(n,t){return n&&"run"in n?async function(e,i){const r=gw(e,{file:i,...t});await n.run(r,i)}:function(e,i){return gw(e,{file:i,...n||t})}}function yw(n){if(n)throw n}var Qm,bw;function e9(){if(bw)return Qm;bw=1;var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(h){return typeof Array.isArray=="function"?Array.isArray(h):t.call(h)==="[object Array]"},a=function(h){if(!h||t.call(h)!=="[object Object]")return!1;var p=n.call(h,"constructor"),m=h.constructor&&h.constructor.prototype&&n.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!p&&!m)return!1;var y;for(y in h);return typeof y>"u"||n.call(h,y)},l=function(h,p){e&&p.name==="__proto__"?e(h,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):h[p.name]=p.newValue},c=function(h,p){if(p==="__proto__")if(n.call(h,p)){if(i)return i(h,p).value}else return;return h[p]};return Qm=function d(){var h,p,m,y,b,S,_=arguments[0],E=1,w=arguments.length,T=!1;for(typeof _=="boolean"&&(T=_,_=arguments[1]||{},E=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});E<w;++E)if(h=arguments[E],h!=null)for(p in h)m=c(_,p),y=c(h,p),_!==y&&(T&&y&&(a(y)||(b=r(y)))?(b?(b=!1,S=m&&r(m)?m:[]):S=m&&a(m)?m:{},l(_,{name:p,newValue:d(T,S,y)})):typeof y<"u"&&l(_,{name:p,newValue:y}));return _},Qm}var n9=e9();const Jm=Uo(n9);function cy(n){if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function i9(){const n=[],t={run:e,use:i};return t;function e(...r){let a=-1;const l=r.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...r);function c(d,...h){const p=n[++a];let m=-1;if(d){l(d);return}for(;++m<r.length;)(h[m]===null||h[m]===void 0)&&(h[m]=r[m]);r=h,p?r9(p,c)(...h):l(null,...h)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),t}}function r9(n,t){let e;return i;function i(...l){const c=n.length>l.length;let d;c&&l.push(r);try{d=n.apply(this,l)}catch(h){const p=h;if(c&&e)throw p;return r(p)}c||(d&&d.then&&typeof d.then=="function"?d.then(a,r):d instanceof Error?r(d):a(d))}function r(l,...c){e||(e=!0,t(l,...c))}function a(l){r(null,l)}}const br={basename:s9,dirname:a9,extname:o9,join:l9,sep:"/"};function s9(n,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jc(n);let e=0,i=-1,r=n.length,a;if(t===void 0||t.length===0||t.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(a){e=r+1;break}}else i<0&&(a=!0,i=r+1);return i<0?"":n.slice(e,i)}if(t===n)return"";let l=-1,c=t.length-1;for(;r--;)if(n.codePointAt(r)===47){if(a){e=r+1;break}}else l<0&&(a=!0,l=r+1),c>-1&&(n.codePointAt(r)===t.codePointAt(c--)?c<0&&(i=r):(c=-1,i=l));return e===i?i=l:i<0&&(i=n.length),n.slice(e,i)}function a9(n){if(Jc(n),n.length===0)return".";let t=-1,e=n.length,i;for(;--e;)if(n.codePointAt(e)===47){if(i){t=e;break}}else i||(i=!0);return t<0?n.codePointAt(0)===47?"/":".":t===1&&n.codePointAt(0)===47?"//":n.slice(0,t)}function o9(n){Jc(n);let t=n.length,e=-1,i=0,r=-1,a=0,l;for(;t--;){const c=n.codePointAt(t);if(c===47){if(l){i=t+1;break}continue}e<0&&(l=!0,e=t+1),c===46?r<0?r=t:a!==1&&(a=1):r>-1&&(a=-1)}return r<0||e<0||a===0||a===1&&r===e-1&&r===i+1?"":n.slice(r,e)}function l9(...n){let t=-1,e;for(;++t<n.length;)Jc(n[t]),n[t]&&(e=e===void 0?n[t]:e+"/"+n[t]);return e===void 0?".":c9(e)}function c9(n){Jc(n);const t=n.codePointAt(0)===47;let e=u9(n,!t);return e.length===0&&!t&&(e="."),e.length>0&&n.codePointAt(n.length-1)===47&&(e+="/"),t?"/"+e:e}function u9(n,t){let e="",i=0,r=-1,a=0,l=-1,c,d;for(;++l<=n.length;){if(l<n.length)c=n.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(r===l-1||a===1))if(r!==l-1&&a===2){if(e.length<2||i!==2||e.codePointAt(e.length-1)!==46||e.codePointAt(e.length-2)!==46){if(e.length>2){if(d=e.lastIndexOf("/"),d!==e.length-1){d<0?(e="",i=0):(e=e.slice(0,d),i=e.length-1-e.lastIndexOf("/")),r=l,a=0;continue}}else if(e.length>0){e="",i=0,r=l,a=0;continue}}t&&(e=e.length>0?e+"/..":"..",i=2)}else e.length>0?e+="/"+n.slice(r+1,l):e=n.slice(r+1,l),i=l-r-1;r=l,a=0}else c===46&&a>-1?a++:a=-1}return e}function Jc(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const d9={cwd:h9};function h9(){return"/"}function uy(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function f9(n){if(typeof n=="string")n=new URL(n);else if(!uy(n)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(n.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return p9(n)}function p9(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const t=n.pathname;let e=-1;for(;++e<t.length;)if(t.codePointAt(e)===37&&t.codePointAt(e+1)===50){const i=t.codePointAt(e+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(t)}const tg=["history","path","basename","stem","extname","dirname"];class lT{constructor(t){let e;t?uy(t)?e={path:t}:typeof t=="string"||m9(t)?e={value:t}:e=t:e={},this.cwd="cwd"in e?"":d9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<tg.length;){const a=tg[i];a in e&&e[a]!==void 0&&e[a]!==null&&(this[a]=a==="history"?[...e[a]]:e[a])}let r;for(r in e)tg.includes(r)||(this[r]=e[r])}get basename(){return typeof this.path=="string"?br.basename(this.path):void 0}set basename(t){ng(t,"basename"),eg(t,"basename"),this.path=br.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?br.dirname(this.path):void 0}set dirname(t){vw(this.basename,"dirname"),this.path=br.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?br.extname(this.path):void 0}set extname(t){if(eg(t,"extname"),vw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=br.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){uy(t)&&(t=f9(t)),ng(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?br.basename(this.path,this.extname):void 0}set stem(t){ng(t,"stem"),eg(t,"stem"),this.path=br.join(this.dirname||"",t+(this.extname||""))}fail(t,e,i){const r=this.message(t,e,i);throw r.fatal=!0,r}info(t,e,i){const r=this.message(t,e,i);return r.fatal=void 0,r}message(t,e,i){const r=new Fn(t,e,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function eg(n,t){if(n&&n.includes(br.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+br.sep+"`")}function ng(n,t){if(!n)throw new Error("`"+t+"` cannot be empty")}function vw(n,t){if(!n)throw new Error("Setting `"+t+"` requires `path` to be set too")}function m9(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const g9=(function(n){const i=this.constructor.prototype,r=i[n],a=function(){return r.apply(a,arguments)};return Object.setPrototypeOf(a,i),a}),y9={}.hasOwnProperty;class wb extends g9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i9()}copy(){const t=new wb;let e=-1;for(;++e<this.attachers.length;){const i=this.attachers[e];t.use(...i)}return t.data(Jm(!0,{},this.namespace)),t}data(t,e){return typeof t=="string"?arguments.length===2?(sg("data",this.frozen),this.namespace[t]=e,this):y9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(sg("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[e,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=e.call(t,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const e=Bd(t),i=this.parser||this.Parser;return ig("parse",i),i(String(e),e)}process(t,e){const i=this;return this.freeze(),ig("process",this.parser||this.Parser),rg("process",this.compiler||this.Compiler),e?r(void 0,e):new Promise(r);function r(a,l){const c=Bd(t),d=i.parse(c);i.run(d,c,function(p,m,y){if(p||!m||!y)return h(p);const b=m,S=i.stringify(b,y);_9(S)?y.value=S:y.result=S,h(p,y)});function h(p,m){p||!m?l(p):a?a(m):e(void 0,m)}}}processSync(t){let e=!1,i;return this.freeze(),ig("processSync",this.parser||this.Parser),rg("processSync",this.compiler||this.Compiler),this.process(t,r),Sw("processSync","process",e),i;function r(a,l){e=!0,yw(a),i=l}}run(t,e,i){_w(t),this.freeze();const r=this.transformers;return!i&&typeof e=="function"&&(i=e,e=void 0),i?a(void 0,i):new Promise(a);function a(l,c){const d=Bd(e);r.run(t,d,h);function h(p,m,y){const b=m||t;p?c(p):l?l(b):i(void 0,b,y)}}}runSync(t,e){let i=!1,r;return this.run(t,e,a),Sw("runSync","run",i),r;function a(l,c){yw(l),r=c,i=!0}}stringify(t,e){this.freeze();const i=Bd(e),r=this.compiler||this.Compiler;return rg("stringify",r),_w(t),r(t,i)}use(t,...e){const i=this.attachers,r=this.namespace;if(sg("use",this.frozen),t!=null)if(typeof t=="function")d(t,e);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(h){if(typeof h=="function")d(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[p,...m]=h;d(p,m)}else l(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function l(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(h.plugins),h.settings&&(r.settings=Jm(!0,r.settings,h.settings))}function c(h){let p=-1;if(h!=null)if(Array.isArray(h))for(;++p<h.length;){const m=h[p];a(m)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function d(h,p){let m=-1,y=-1;for(;++m<i.length;)if(i[m][0]===h){y=m;break}if(y===-1)i.push([h,...p]);else if(p.length>0){let[b,...S]=p;const _=i[y][1];cy(_)&&cy(b)&&(b=Jm(!0,_,b)),i[y]=[h,b,...S]}}}}const b9=new wb().freeze();function ig(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function rg(n,t){if(typeof t!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function sg(n,t){if(t)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function _w(n){if(!cy(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Sw(n,t,e){if(!e)throw new Error("`"+n+"` finished async. Use `"+t+"` instead")}function Bd(n){return v9(n)?n:new lT(n)}function v9(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function _9(n){return typeof n=="string"||S9(n)}function S9(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const x9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xw=[],ww={allowDangerousHtml:!0},w9=/^(https?|ircs?|mailto|xmpp)$/i,A9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function E9(n){const t=C9(n),e=T9(n);return k9(t.runSync(t.parse(e),e),n)}function C9(n){const t=n.rehypePlugins||xw,e=n.remarkPlugins||xw,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...ww}:ww;return b9().use(sH).use(e).use(t9,i).use(t)}function T9(n){const t=n.children||"",e=new lT;return typeof t=="string"&&(e.value=t),e}function k9(n,t){const e=t.allowedElements,i=t.allowElement,r=t.components,a=t.disallowedElements,l=t.skipHtml,c=t.unwrapDisallowed,d=t.urlTransform||O9;for(const p of A9)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+x9+p.id,void 0);return oT(n,h),F6(n,{Fragment:x.Fragment,components:r,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function h(p,m,y){if(p.type==="raw"&&y&&typeof m=="number")return l?y.children.splice(m,1):y.children[m]={type:"text",value:p.value},m;if(p.type==="element"){let b;for(b in Wm)if(Object.hasOwn(Wm,b)&&Object.hasOwn(p.properties,b)){const S=p.properties[b],_=Wm[b];(_===null||_.includes(p.tagName))&&(p.properties[b]=d(String(S||""),b,p))}}if(p.type==="element"){let b=e?!e.includes(p.tagName):a?a.includes(p.tagName):!1;if(!b&&i&&typeof m=="number"&&(b=!i(p,m,y)),b&&y&&typeof m=="number")return c&&p.children?y.children.splice(m,1,...p.children):y.children.splice(m,1),m}}}function O9(n){const t=n.indexOf(":"),e=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return t===-1||r!==-1&&t>r||e!==-1&&t>e||i!==-1&&t>i||w9.test(n.slice(0,t))?n:""}const R9="_message_1l7yp_1",M9="_userMsg_1l7yp_20",N9="_botMsg_1l7yp_24",D9="_avatar_1l7yp_28",L9="_text_1l7yp_48",P9="_inlineCode_1l7yp_86",j9="_codeBlock_1l7yp_99",B9="_list_1l7yp_114",F9="_blockquote_1l7yp_123",mr={message:R9,userMsg:M9,botMsg:N9,avatar:D9,text:L9,inlineCode:P9,codeBlock:j9,list:B9,blockquote:F9},Aw=({sender:n,text:t})=>{const e=n==="user";return x.jsxs("div",{className:`${mr.message} ${e?mr.userMsg:mr.botMsg}`,children:[x.jsx("div",{className:mr.avatar,children:e?x.jsx(Dg,{size:20}):x.jsx(pL,{size:20})}),x.jsx("div",{className:mr.text,children:e?t:x.jsx(E9,{components:{p:i=>x.jsx("p",{...i}),strong:i=>x.jsx("strong",{...i}),em:i=>x.jsx("em",{...i}),code:({inline:i,...r})=>i?x.jsx("code",{className:mr.inlineCode,...r}):x.jsx("pre",{className:mr.codeBlock,children:x.jsx("code",{...r})}),ul:i=>x.jsx("ul",{className:mr.list,...i}),ol:i=>x.jsx("ol",{className:mr.list,...i}),li:i=>x.jsx("li",{...i}),h1:i=>x.jsx("h2",{...i}),h2:i=>x.jsx("h3",{...i}),h3:i=>x.jsx("h4",{...i}),blockquote:i=>x.jsx("blockquote",{className:mr.blockquote,...i})},children:t})})]})},I9=({externalId:n,onAddNote:t,onGenerateFlashcards:e,onGenerateQuiz:i,testsExist:r})=>{const[a,l]=$.useState([]),[c,d]=$.useState(""),[h,p]=$.useState(!1),[m,y]=$.useState(!0);$.useEffect(()=>{if(!n)return;y(!0),(async()=>{try{const w=((await jo.get("/chat-history",{params:{"file_ids[]":n,limit:50}})).data.chat_history||[]).sort((T,k)=>new Date(T.timestamp)-new Date(k.timestamp)).flatMap(T=>[{sender:"user",text:T.question},{sender:"bot",text:T.answer}]);l(w)}catch(_){console.error("Failed to load chat history:",_)}finally{y(!1)}})()},[n]);const b=async S=>{if(S.preventDefault(),!c.trim())return;const _={sender:"user",text:c};l(E=>[...E,_]),d(""),p(!0);try{const w={sender:"bot",text:(await jo.post("/ask",{question:c,file_ids:[n]})).data?.answer||"No answer returned."};l(T=>[...T,w])}catch(E){console.error("Chat request failed:",E),l(w=>[...w,{sender:"bot",text:" Sorry, something went wrong."}])}finally{p(!1)}};return x.jsx("div",{className:He.wrapper,children:x.jsxs("div",{className:He.chatContainer,children:[x.jsx("div",{className:He.chatBox,children:m?x.jsxs("div",{className:He.loadingContainer,children:[x.jsxs("div",{className:He.loadingSkeleton,children:[x.jsx("div",{className:He.skeletonLine}),x.jsx("div",{className:He.skeletonLine,style:{width:"90%"}})]}),x.jsxs("div",{className:He.loadingSkeleton,style:{marginTop:"16px",alignSelf:"flex-end"},children:[x.jsx("div",{className:He.skeletonLine}),x.jsx("div",{className:He.skeletonLine,style:{width:"70%"}})]}),x.jsxs("div",{className:He.loadingSkeleton,style:{marginTop:"16px"},children:[x.jsx("div",{className:He.skeletonLine}),x.jsx("div",{className:He.skeletonLine,style:{width:"85%"}})]})]}):a.length===0?x.jsx("div",{className:He.emptyState,children:x.jsxs("div",{className:He.emptyContent,children:[x.jsx(xS,{size:48}),x.jsx("h3",{children:"No conversation yet"}),x.jsx("p",{children:"Start by asking a question about your notes or the document."})]})}):x.jsxs(x.Fragment,{children:[a.map((S,_)=>x.jsxs("div",{className:He.messageWrapper,children:[x.jsx(Aw,{sender:S.sender,text:S.text}),S.sender==="bot"&&x.jsxs("button",{className:He.addToNotesBtn,onClick:()=>t(S.text),title:"Add this response to notes",children:[x.jsx(yS,{size:14}),"Add to Notes"]})]},_)),h&&x.jsx(Aw,{sender:"bot",text:"Thinking..."})]})}),x.jsxs("form",{onSubmit:b,className:He.inputArea,children:[x.jsx("input",{type:"text",placeholder:"Ask a question about your notes...",value:c,onChange:S=>d(S.target.value),className:He.input,disabled:h}),x.jsx("button",{type:"submit",className:He.sendBtn,disabled:h||!n,title:n?"Send message":"Select a file first",children:x.jsx(XL,{size:18})})]}),x.jsxs("div",{className:He.actionButtons,children:[x.jsxs("button",{className:He.actionBtn,onClick:e,disabled:!n,title:n?"Generate flashcards":"Select a file first",children:[x.jsx(yS,{size:16}),"Generate Flashcards"]}),!r&&x.jsxs("button",{className:He.actionBtn,onClick:i,disabled:!n,title:n?"Generate quiz":"Select a file first",children:[x.jsx(xS,{size:16}),"Generate Quiz"]})]})]})})},z9="_container_c9f4y_1",U9="_card_c9f4y_12",H9="_header_c9f4y_30",$9="_tag_c9f4y_37",q9="_hintBtn_c9f4y_46",V9="_hintIcon_c9f4y_65",G9="_hint_c9f4y_46",X9="_content_c9f4y_89",Y9="_question_c9f4y_99",W9="_answer_c9f4y_106",K9="_showBtn_c9f4y_118",Z9="_icon_c9f4y_80",Q9="_nav_c9f4y_148",J9="_navBtn_c9f4y_158",t7="_next_c9f4y_204",e7="_flipWrapper_c9f4y_245",n7="_flipCard_c9f4y_250",i7="_flip_c9f4y_245",r7="_front_c9f4y_270",s7="_back_c9f4y_274",Ce={container:z9,card:U9,header:H9,tag:$9,hintBtn:q9,hintIcon:V9,hint:G9,content:X9,question:Y9,answer:W9,showBtn:K9,icon:Z9,nav:Q9,navBtn:J9,next:t7,flipWrapper:e7,flipCard:n7,flip:i7,front:r7,back:s7},a7=({cards:n=[],onFinish:t})=>{const[e,i]=$.useState(0),[r,a]=$.useState(!1),[l,c]=$.useState(!1),d=n[e],h=()=>{e<n.length-1?(i(m=>m+1),a(!1)):t?.()},p=()=>{e>0&&(i(m=>m-1),a(!1))};return x.jsxs("div",{className:Ce.container,children:[x.jsx("div",{className:Ce.flipWrapper,children:x.jsxs("div",{className:`${Ce.flipCard} ${r?Ce.flip:""}`,children:[x.jsx("div",{className:Ce.front,children:x.jsxs("div",{className:Ce.card,children:[x.jsxs("div",{className:Ce.header,children:[x.jsxs("span",{className:Ce.tag,children:["Flashcard ",e+1," / ",n.length]}),x.jsx("button",{className:Ce.hintBtn,onClick:()=>c(!l),title:"Show hint",children:x.jsx(N4,{className:Ce.hintIcon})})]}),x.jsxs("div",{className:Ce.content,children:[x.jsx("h2",{className:Ce.question,children:d.question}),l&&x.jsxs("div",{className:Ce.hint,children:[x.jsx("strong",{children:"Hint:"})," ",d.answer.substring(0,100),"..."]}),x.jsxs("button",{className:Ce.showBtn,onClick:()=>a(!0),children:[x.jsx(Iy,{className:Ce.icon})," Show Answer"]})]})]})}),x.jsx("div",{className:`${Ce.back}`,children:x.jsxs("div",{className:Ce.card,children:[x.jsx("div",{className:Ce.header,children:x.jsx("span",{className:Ce.tag,children:"Answer"})}),x.jsxs("div",{className:Ce.content,children:[x.jsx("p",{className:Ce.answer,children:d.answer}),x.jsx("button",{className:Ce.showBtn,onClick:()=>a(!1),children:" Show Question"})]})]})})]})}),x.jsxs("div",{className:Ce.nav,children:[x.jsxs("button",{className:`${Ce.navBtn} ${Ce.prev}`,onClick:p,disabled:e===0,children:[x.jsx(R4,{})," Previous"]}),x.jsxs("button",{className:`${Ce.navBtn} ${Ce.next}`,onClick:h,children:["Next ",x.jsx(M4,{})]})]})]})},o7="_container_wpv9m_1",l7="_header_wpv9m_10",c7="_title_wpv9m_17",u7="_createBtn_wpv9m_24",d7="_empty_wpv9m_52",h7="_list_wpv9m_59",f7="_testCard_wpv9m_65",p7="_testInfo_wpv9m_84",m7="_testName_wpv9m_91",g7="_testDesc_wpv9m_98",y7="_cardRight_wpv9m_104",b7="_scoreBadge_wpv9m_111",v7="_scorePercentage_wpv9m_122",_7="_scoreFraction_wpv9m_127",S7="_good_wpv9m_133",x7="_average_wpv9m_139",w7="_poor_wpv9m_145",A7="_loading_wpv9m_171",E7="_takeTestBtn_wpv9m_178",On={container:o7,header:l7,title:c7,createBtn:u7,empty:d7,list:h7,testCard:f7,testInfo:p7,testName:m7,testDesc:g7,cardRight:y7,scoreBadge:b7,scorePercentage:v7,scoreFraction:_7,good:S7,average:x7,poor:w7,loading:A7,takeTestBtn:E7},C7=({fileId:n,onSelectTest:t})=>{const[e,i]=$.useState([]),[r,a]=$.useState(!0);$.useEffect(()=>{if(!n)return;(async()=>{try{const p=(await Ve.get(`/test/file/${n}`)).data||[];i(p)}catch(h){console.error("Failed to load tests:",h)}finally{a(!1)}})()},[n]);const l=d=>d+1,c=async()=>{try{const h=(await jo.post("/generate-mcq",{file_ids:[n],num_questions:5})).data.mcqs,p=e.length+1,m=await Ve.post("/test/create-from-mcqs",{file_id:n,title:`Test ${p}`,description:`Auto-generated test (${h.length} questions)`,mcqs:h});i(y=>[m.data,...y])}catch(d){console.error("Failed to create test:",d)}};return r?x.jsx("div",{className:On.loading,children:"Loading tests..."}):x.jsxs("div",{className:On.container,children:[x.jsxs("div",{className:On.header,children:[x.jsx("h2",{className:On.title,children:"Tests"}),x.jsx("button",{className:On.createBtn,onClick:c,children:"+ Create Test"})]}),e.length===0&&x.jsx("div",{className:On.empty,children:"No tests found for this file."}),x.jsx("div",{className:On.list,children:e.map((d,h)=>{const p=d.userScore!==null&&d.userScore!==void 0,m=p?Math.round(d.userScore/d.questions.length*100):null,y=m>=70?"good":m>=50?"average":"poor";return x.jsxs("div",{className:On.testCard,children:[x.jsxs("div",{className:On.testInfo,children:[x.jsx("h3",{className:On.testName,children:d.title||`Test ${l(h)}`}),x.jsx("p",{className:On.testDesc,children:d.description})]}),x.jsxs("div",{className:On.cardRight,children:[p&&x.jsxs("div",{className:`${On.scoreBadge} ${On[y]}`,children:[x.jsxs("div",{className:On.scorePercentage,children:[m,"%"]}),x.jsxs("div",{className:On.scoreFraction,children:[d.userScore,"/",d.questions.length]})]}),x.jsx("button",{className:On.takeTestBtn,onClick:()=>t(d.id),children:p?"Retake":"Take Test"})]})]},d.id)})})]})},T7="_container_5uo5r_1",k7="_card_5uo5r_6",O7="_header_5uo5r_24",R7="_tag_5uo5r_30",M7="_mode_5uo5r_45",N7="_question_5uo5r_58",D7="_options_5uo5r_70",L7="_option_5uo5r_70",P7="_selected_5uo5r_109",j7="_actions_5uo5r_121",B7="_button_5uo5r_127",F7="_prev_5uo5r_154",I7="_resultContainer_5uo5r_183",z7="_fadeIn_5uo5r_1",U7="_score_5uo5r_215",H7="_popIn_5uo5r_1",$7="_scoreBg_5uo5r_251",q7="_perfect_5uo5r_256",V7="_good_5uo5r_267",G7="_average_5uo5r_278",X7="_poor_5uo5r_289",Y7="_scoreEmoji_5uo5r_300",W7="_bounceIn_5uo5r_1",K7="_bounce_5uo5r_1",Z7="_scorePercent_5uo5r_310",Q7="_slideUp_5uo5r_1",J7="_scoreFraction_5uo5r_337",t$="_motivationText_5uo5r_350",e$="_encouragement_5uo5r_373",n$="_confettiPiece_5uo5r_438",i$="_confetti_5uo5r_438",Ke={container:T7,card:k7,header:O7,tag:R7,mode:M7,question:N7,options:D7,option:L7,selected:P7,actions:j7,button:B7,prev:F7,resultContainer:I7,fadeIn:z7,score:U7,popIn:H7,scoreBg:$7,perfect:q7,good:V7,average:G7,poor:X7,scoreEmoji:Y7,bounceIn:W7,bounce:K7,scorePercent:Z7,slideUp:Q7,scoreFraction:J7,motivationText:t$,encouragement:e$,confettiPiece:n$,confetti:i$},r$=({questions:n=[],onSubmit:t})=>{const[e,i]=$.useState(0),[r,a]=$.useState({}),[l,c]=$.useState(!1),[d,h]=$.useState(0),p=T=>{if(n.length===0)return{level:"good",percentage:0};const k=T/n.length*100;return k===100?{level:"perfect",percentage:k}:k>=70?{level:"good",percentage:k}:k>=50?{level:"average",percentage:k}:{level:"poor",percentage:k}},m=()=>{if(typeof window>"u")return;const T=30;for(let k=0;k<T;k++){const F=document.createElement("div");F.className=Ke.confettiPiece,F.style.left=Math.random()*100+"%",F.style.backgroundColor=["#fbbf24","#34d399","#60a5fa","#f87171","#a78bfa"][Math.floor(Math.random()*5)],F.style.animation=`confetti ${2+Math.random()*1}s ease-in forwards`,F.style.delay=Math.random()*.3+"s",document.body.appendChild(F),setTimeout(()=>F.remove(),3e3)}},y=(T,k)=>{const F={perfect:{emoji:"",motivation:"Perfect Score! Outstanding! ",encouragement:"You absolutely crushed it! Keep up this amazing performance!"},good:{emoji:"",motivation:"Great Job! Well Done!",encouragement:"You've got a solid grasp of this material. Keep practicing!"},average:{emoji:"",motivation:"Good Effort! You Can Do Better!",encouragement:"You're on the right track. Review and practice more concepts."},poor:{emoji:"",motivation:"Keep Learning!",encouragement:"This is a learning journey! Review the material and try again."}};return F[T]||F.good},b=n[e],S=(T,k)=>{const F=k.trim().charAt(0);a(O=>({...O,[T]:F}))},_=()=>{e<n.length-1&&i(T=>T+1)},E=()=>{e>0&&i(T=>T-1)},w=()=>{let T=0;n.forEach((F,O)=>{const R=r[O]||"",D=(F.correct_answer||"").trim();R===D&&T++}),h(T),c(!0),p(T).level==="perfect"&&setTimeout(()=>m(),300),t?.(r,T)};if(l){const T=p(d),k=y(T.level,T.percentage),F=Math.round(T.percentage);return x.jsxs("div",{className:`${Ke.resultContainer} ${Ke.scoreBg} ${Ke[T.level]}`,children:[x.jsx("div",{className:Ke.scoreEmoji,children:k.emoji}),x.jsxs("p",{className:Ke.scorePercent,children:[F,"%"]}),x.jsxs("p",{className:Ke.scoreFraction,children:[d," out of ",n.length," correct"]}),x.jsx("p",{className:Ke.motivationText,children:k.motivation}),x.jsx("p",{className:Ke.encouragement,children:k.encouragement})]})}return x.jsx("div",{className:Ke.container,children:x.jsxs("div",{className:Ke.card,children:[x.jsx("div",{className:Ke.header,children:x.jsx("span",{className:Ke.mode,children:" MCQ"})}),x.jsx("h2",{className:Ke.question,children:b.question}),x.jsx("div",{className:Ke.options,children:b.options.map((T,k)=>{const F=T.trim().charAt(0);return x.jsxs("label",{className:`${Ke.option} ${r[e]===F?Ke.selected:""}`,children:[x.jsx("input",{type:"radio",name:`q-${e}`,value:T,checked:r[e]===F,onChange:()=>S(e,T)}),x.jsx("span",{children:T})]},k)})}),x.jsxs("div",{className:Ke.actions,children:[x.jsx("button",{onClick:E,className:`${Ke.button} ${Ke.prev}`,disabled:e===0,children:"Previous"}),e===n.length-1?x.jsx("button",{className:Ke.button,onClick:w,children:"Submit"}):x.jsx("button",{className:Ke.button,onClick:_,children:"Next"})]})]})})},s$="_container_7h8kl_1",a$="_title_7h8kl_10",o$="_loading_7h8kl_18",l$="_empty_7h8kl_19",c$="_list_7h8kl_25",u$="_item_7h8kl_31",d$="_rank_7h8kl_46",h$="_userInfo_7h8kl_61",f$="_name_7h8kl_65",p$="_score_7h8kl_72",gr={container:s$,title:a$,loading:o$,empty:l$,list:c$,item:u$,rank:d$,userInfo:h$,name:f$,score:p$};function m$({testId:n,moduleId:t}){const[e,i]=$.useState([]),[r,a]=$.useState(!0);return $.useEffect(()=>{(async()=>{try{const c=await Ve.get("/test/leaderboard",{params:{testId:n,moduleId:t}});i(c.data)}catch(c){console.error("Failed to load leaderboard",c)}finally{a(!1)}})()},[n,t]),r?x.jsx("p",{className:gr.loading,children:"Loading leaderboard"}):x.jsxs("div",{className:gr.container,children:[x.jsx("h2",{className:gr.title,children:"Leaderboard"}),e.length===0&&x.jsx("p",{className:gr.empty,children:"No results yet."}),x.jsx("div",{className:gr.list,children:e.map((l,c)=>x.jsxs("div",{className:gr.item,children:[x.jsx("div",{className:gr.rank,children:c+1}),x.jsxs("div",{className:gr.userInfo,children:[x.jsx("p",{className:gr.name,children:l.user?.name||"Unknown User"}),x.jsxs("p",{className:gr.score,children:["Score: ",l.score]})]})]},l.id))})]})}const g$="_timerContainer_1elm9_1",y$="_timerToggle_1elm9_7",b$="_timeDisplay_1elm9_27",v$="_timerPanel_1elm9_33",_$="_timerHeader_1elm9_59",S$="_closeBtn_1elm9_75",x$="_timerContent_1elm9_89",w$="_timerCircle_1elm9_95",A$="_breakMode_1elm9_107",E$="_timerDisplay_1elm9_112",C$="_modeLabel_1elm9_125",T$="_stats_1elm9_132",k$="_controls_1elm9_150",O$="_btn_1elm9_156",R$="_playPauseBtn_1elm9_170",M$="_breakBtn_1elm9_180",N$="_resetBtn_1elm9_195",gn={timerContainer:g$,timerToggle:y$,timeDisplay:b$,timerPanel:v$,timerHeader:_$,closeBtn:S$,timerContent:x$,timerCircle:w$,breakMode:A$,timerDisplay:E$,modeLabel:C$,stats:T$,controls:k$,btn:O$,playPauseBtn:R$,breakBtn:M$,resetBtn:N$},D$=()=>{const[n,t]=$.useState(1200),[e,i]=$.useState(!0),[r,a]=$.useState(!1),[l,c]=$.useState(!1),[d,h]=$.useState(0),p=$.useRef(null);$.useRef(new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAAB9AAACABAAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj==")),$.useEffect(()=>{if(e)return p.current=setInterval(()=>{t(E=>E<=1?(i(!1),m(),r?(a(!1),t(1200)):(h(w=>w+1),a(!0),t(300),i(!0)),0):E-1)},1e3),()=>clearInterval(p.current)},[e,r]);const m=()=>{const E=new(window.AudioContext||window.webkitAudioContext),w=E.createOscillator(),T=E.createGain();w.connect(T),T.connect(E.destination),w.frequency.value=800,w.type="sine",T.gain.setValueAtTime(.3,E.currentTime),T.gain.exponentialRampToValueAtTime(.01,E.currentTime+.5),w.start(E.currentTime),w.stop(E.currentTime+.5)},y=E=>{const w=Math.floor(E/60),T=E%60;return`${w.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`},b=()=>{i(!e)},S=()=>{i(!1),a(!1),t(1200)},_=()=>{i(!1),a(!0),t(300),i(!0)};return x.jsxs("div",{className:gn.timerContainer,children:[x.jsxs("button",{className:gn.timerToggle,onClick:()=>c(!l),title:"Pomodoro Timer",children:[x.jsx(VA,{size:20}),x.jsx("span",{className:gn.timeDisplay,children:y(n)})]}),l&&x.jsxs("div",{className:gn.timerPanel,children:[x.jsxs("div",{className:gn.timerHeader,children:[x.jsx("h3",{children:"Pomodoro Timer"}),x.jsx("button",{className:gn.closeBtn,onClick:()=>c(!1),title:"Close",children:""})]}),x.jsxs("div",{className:gn.timerContent,children:[x.jsxs("div",{className:`${gn.timerCircle} ${r?gn.breakMode:""}`,children:[x.jsx("div",{className:gn.timerDisplay,children:y(n)}),x.jsx("div",{className:gn.modeLabel,children:r?"Break Time ":"Study Time "})]}),x.jsx("div",{className:gn.stats,children:x.jsxs("p",{children:["Sessions completed: ",x.jsx("strong",{children:d})]})}),x.jsxs("div",{className:gn.controls,children:[x.jsxs("button",{className:`${gn.btn} ${gn.playPauseBtn}`,onClick:b,title:e?"Pause":"Play",children:[e?x.jsx(IL,{size:18}):x.jsx(GA,{size:18}),e?"Pause":"Resume"]}),x.jsx("button",{className:`${gn.btn} ${gn.breakBtn}`,onClick:_,disabled:r,title:"Start break now",children:"Take Break"}),x.jsxs("button",{className:`${gn.btn} ${gn.resetBtn}`,onClick:S,title:"Reset timer",children:[x.jsx($L,{size:18}),"Reset"]})]})]})]})]})},L$="_wrapper_1b872_1",P$="_tabs_1b872_11",j$="_tabButtons_1b872_22",B$="_timerWrapper_1b872_27",F$="_tab_1b872_11",I$="_active_1b872_51",z$="_notesPanel_1b872_63",U$="_emptyNotes_1b872_72",H$="_emptyIcon_1b872_83",$$="_notesDisplay_1b872_103",q$="_textArea_1b872_135",V$="_editBtn_1b872_170",G$="_saveBtn_1b872_171",X$="_content_1b872_202",Y$="_flashcardsPanel_1b872_209",W$="_quizPanel_1b872_210",K$="_pdfPanel_1b872_211",Z$="_loadingIndicator_1b872_223",Q$="_generatingOverlay_1b872_239",J$="_generatingContent_1b872_248",tq="_spinner_1b872_255",eq="_dot_1b872_277",de={wrapper:L$,tabs:P$,tabButtons:j$,timerWrapper:B$,tab:F$,active:I$,notesPanel:z$,emptyNotes:U$,emptyIcon:H$,notesDisplay:$$,textArea:q$,editBtn:V$,saveBtn:G$,content:X$,flashcardsPanel:Y$,quizPanel:W$,pdfPanel:K$,loadingIndicator:Z$,generatingOverlay:Q$,generatingContent:J$,spinner:tq,dot:eq},nq=({externalId:n,userId:t,fileid:e,pdfFile:i})=>{const{moduleId:r}=my(),[a,l]=$.useState("chat"),[c,d]=$.useState(""),[h,p]=$.useState(!1),[m,y]=$.useState([]),[b,S]=$.useState(!1),[_,E]=$.useState(null),[w,T]=$.useState(!1),[k,F]=$.useState(!1),[O,R]=$.useState(!1),[D,j]=$.useState(null),[N,L]=$.useState(window.innerWidth);$.useEffect(()=>{const J=()=>L(window.innerWidth);return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),$.useEffect(()=>{if(!n)return;(async()=>{try{const X=await Ve.get("/notes",{params:{userId:t,fileId:e}});d(X.data?.content||"")}catch(X){console.error("Failed to load notes",X)}})()},[n,t,e]),$.useEffect(()=>{if(!n)return;(async()=>{try{const A=(await Ve.get(`/test/file/${n}`)).data||[];R(A.length>0),F(A.length>0)}catch(X){console.error("Failed to load tests:",X),R(!1)}})()},[n]);const I=async()=>{console.log("Saving notes for fileId:",e,"notes:",c);try{await Ve.post("/notes",{userId:t,fileId:e,content:c}),p(!1)}catch(J){console.error("Failed to save notes",J)}},H=async J=>{try{const X=await Ve.post("/notes/append",{userId:t,fileId:e,text:J});d(X.data.content),l("notes")}catch(X){console.error("Failed to append note",X)}},q=async()=>{S(!0),E(null);try{const J=await jo.post("/generate-flashcards",{file_ids:[n],num_flashcards:5});if(!J.data||!J.data.flashcards)throw new Error("Invalid response format");y(J.data.flashcards),T(!0),l("flashcards")}catch(J){console.error("Failed to load flashcards:",J),E(J?.response?.data?.error||J.message||"Failed to load flashcards.")}finally{S(!1)}},G=()=>{F(!0),l("quiz")},Y=async J=>{try{const X=await Ve.get(`/test/${J}`);j(X.data)}catch(X){console.error("Failed to load test:",X)}},U=async(J,X)=>{try{await Ve.post("/test/score",{testId:D.id,score:X}),console.log("Score saved:",X)}catch(A){console.error("Failed to save score:",A)}},C=()=>{j(null)};return x.jsxs("div",{className:de.wrapper,children:[x.jsxs("div",{className:de.tabs,children:[x.jsxs("div",{className:de.tabButtons,children:[x.jsx("button",{className:`${de.tab} ${a==="chat"?de.active:""}`,onClick:()=>l("chat"),children:"AI Chat"}),x.jsx("button",{className:`${de.tab} ${a==="notes"?de.active:""}`,onClick:()=>l("notes"),children:"Notes"}),w&&x.jsxs("button",{className:`${de.tab} ${a==="flashcards"?de.active:""}`,onClick:()=>l("flashcards"),children:["Flashcards",b&&x.jsx("span",{className:de.loadingIndicator,children:"..."})]}),k&&x.jsx("button",{className:`${de.tab} ${a==="quiz"?de.active:""}`,onClick:()=>l("quiz"),children:"Quiz"}),N<=1024&&x.jsxs("button",{className:`${de.tab} ${a==="pdf"?de.active:""}`,onClick:()=>l("pdf"),title:"View PDF",children:[x.jsx(Ng,{size:16}),x.jsx("span",{children:"PDF"})]})]}),x.jsx("div",{className:de.timerWrapper,children:x.jsx(D$,{})})]}),x.jsxs("div",{className:de.content,children:[a==="chat"&&x.jsx(I9,{externalId:n,onAddNote:H,onGenerateFlashcards:q,onGenerateQuiz:G,testsExist:O}),a==="notes"&&x.jsx("div",{className:de.notesPanel,children:h?x.jsxs(x.Fragment,{children:[x.jsx("textarea",{className:de.textArea,value:c,onChange:J=>d(J.target.value),placeholder:"Write or paste your notes here..."}),x.jsx("button",{className:de.saveBtn,onClick:I,children:"Save"})]}):x.jsx(x.Fragment,{children:c?x.jsxs(x.Fragment,{children:[x.jsx("div",{className:de.notesDisplay,children:c}),x.jsx("button",{className:de.editBtn,onClick:()=>p(!0),children:"Edit"})]}):x.jsxs("div",{className:de.emptyNotes,children:[x.jsx("p",{className:de.emptyIcon,children:""}),x.jsx("h3",{children:"No notes yet"}),x.jsx("p",{children:"Add notes from the AI chat or write your own here."}),x.jsx("button",{className:de.editBtn,onClick:()=>p(!0),children:"Write Notes"})]})})}),a==="flashcards"&&x.jsx("div",{className:de.flashcardsPanel,children:b?x.jsx("div",{className:de.generatingOverlay,children:x.jsxs("div",{className:de.generatingContent,children:[x.jsx("div",{className:de.spinner}),x.jsx("p",{children:"Generating flashcards..."}),x.jsx("span",{className:de.dot,children:"."}),x.jsx("span",{className:de.dot,style:{animationDelay:"0.2s"},children:"."}),x.jsx("span",{className:de.dot,style:{animationDelay:"0.4s"},children:"."})]})}):_?x.jsxs("div",{style:{padding:20},children:[x.jsx("h2",{style:{color:"red"},children:"Failed to load flashcards"}),x.jsx("button",{onClick:q,style:{padding:"10px 20px",background:"var(--color-primary)",color:"white",borderRadius:"6px",marginTop:"10px"},children:"Retry"})]}):m.length>0?x.jsx(a7,{cards:m}):x.jsx("p",{style:{padding:20},children:"No flashcards available."})}),a==="quiz"&&x.jsx("div",{className:de.quizPanel,children:D?x.jsxs("div",{children:[x.jsx("button",{onClick:C,style:{padding:"8px 14px",marginBottom:"10px",background:"linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"500",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)",transition:"all 0.2s ease"},onMouseEnter:J=>{J.target.style.boxShadow="0 4px 12px rgba(59, 130, 246, 0.3)",J.target.style.transform="translateY(-1px)"},onMouseLeave:J=>{J.target.style.boxShadow="0 2px 8px rgba(59, 130, 246, 0.2)",J.target.style.transform="translateY(0)"},children:" Back to Test List"}),x.jsx(r$,{questions:D.questions,onSubmit:U}),x.jsx(m$,{testId:D.id,moduleId:r})]}):x.jsx(C7,{fileId:n,onSelectTest:Y})}),a==="pdf"&&i&&x.jsx("div",{className:de.pdfPanel,children:i})]})]})},iq=()=>{const{moduleId:n}=my(),[t,e]=$.useState(!0),[i,r]=$.useState(1),[a,l]=$.useState(!1),[c,d]=$.useState(window.innerWidth),h=$.useRef(null),[p,m]=$.useState(!1),[y,b]=$.useState([]),[S,_]=$.useState(()=>{const D=localStorage.getItem("selectedFile");return D?JSON.parse(D):null}),E=$.useRef(n),w=$.useCallback(async()=>{try{const N=((await Ve.get(`/files/modules/${n}/files`)).data.files||[]).map((I,H)=>({title:`${I.filename}`,displayTitle:`${H+1}. ${I.filename}`,id:I.id,externalId:I.externalId}));if(b(N),N.length===0)return;const L=localStorage.getItem("selectedFile");if(L){const I=JSON.parse(L),H=N.find(q=>q.id===I.id);if(H){_(H);return}}_(N[0])}catch(D){console.error("Failed to fetch files:",D)}finally{e(!1)}},[n]);$.useEffect(()=>{w()},[w]),$.useEffect(()=>{const D=()=>d(window.innerWidth);return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),$.useEffect(()=>{E.current!==n&&(localStorage.removeItem("selectedFile"),_(null),E.current=n)},[n]);const T=D=>{_(D),localStorage.setItem("selectedFile",JSON.stringify(D))},k=()=>{m(!1),w()},F=()=>{l(!0)};if($.useEffect(()=>{const D=N=>{if(!a||!h.current)return;const I=h.current.getBoundingClientRect(),H=N.clientX-I.left,q=I.width,G=H/(q-H);H>300&&q-H>300&&r(G)},j=()=>{l(!1)};return a&&(document.addEventListener("mousemove",D),document.addEventListener("mouseup",j)),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",j)}},[a]),t)return x.jsx(nE,{});if(!S)return x.jsxs("div",{className:ia.wrapper,children:[x.jsx(xc,{hideSearch:!0}),x.jsx("div",{className:ia.emptyState,children:x.jsx("p",{children:"No files available in this module"})})]});const O=c>1024,R=x.jsx(TC,{fileId:S?.id,fileName:`${S?.title}`,height:"100%",allFiles:y,selectedFileId:S?.id,onFileSelect:T,onUploadMore:()=>m(!0)});return x.jsxs("div",{className:ia.wrapper,children:[x.jsx(xc,{hideSearch:!0}),x.jsxs("div",{className:ia.studySpaceContainer,ref:h,children:[O&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:ia.pdfPane,style:{flex:i},children:R}),x.jsx("div",{className:ia.resizeHandle,onMouseDown:F,title:"Drag to resize panels"})]}),x.jsx("div",{className:ia.chatPane,style:{flex:1},children:x.jsx(nq,{externalId:S?.externalId,fileid:S?.id,pdfFile:O?null:R})})]}),x.jsx(eE,{isOpen:p,onClose:()=>m(!1),onCreate:k,onUploadSuccess:k,moduleId:n,mode:"upload"})]})};var ag={},og={},nc={},lg={},Ew;function rq(){return Ew||(Ew=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=t})(lg)),lg}var cg,Cw;function sq(){if(Cw)return cg;Cw=1;var n="Expected a function",t=NaN,e="[object Symbol]",i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d=typeof yd=="object"&&yd&&yd.Object===Object&&yd,h=typeof self=="object"&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),m=Object.prototype,y=m.toString,b=Math.max,S=Math.min,_=function(){return p.Date.now()};function E(O,R,D){var j,N,L,I,H,q,G=0,Y=!1,U=!1,C=!0;if(typeof O!="function")throw new TypeError(n);R=F(R)||0,w(D)&&(Y=!!D.leading,U="maxWait"in D,L=U?b(F(D.maxWait)||0,R):L,C="trailing"in D?!!D.trailing:C);function J(ct){var wt=j,_t=N;return j=N=void 0,G=ct,I=O.apply(_t,wt),I}function X(ct){return G=ct,H=setTimeout(V,R),Y?J(ct):I}function A(ct){var wt=ct-q,_t=ct-G,xt=R-wt;return U?S(xt,L-_t):xt}function P(ct){var wt=ct-q,_t=ct-G;return q===void 0||wt>=R||wt<0||U&&_t>=L}function V(){var ct=_();if(P(ct))return B(ct);H=setTimeout(V,A(ct))}function B(ct){return H=void 0,C&&j?J(ct):(j=N=void 0,I)}function Q(){H!==void 0&&clearTimeout(H),G=0,j=q=N=H=void 0}function ot(){return H===void 0?I:B(_())}function st(){var ct=_(),wt=P(ct);if(j=arguments,N=this,q=ct,wt){if(H===void 0)return X(q);if(U)return H=setTimeout(V,R),J(q)}return H===void 0&&(H=setTimeout(V,R)),I}return st.cancel=Q,st.flush=ot,st}function w(O){var R=typeof O;return!!O&&(R=="object"||R=="function")}function T(O){return!!O&&typeof O=="object"}function k(O){return typeof O=="symbol"||T(O)&&y.call(O)==e}function F(O){if(typeof O=="number")return O;if(k(O))return t;if(w(O)){var R=typeof O.valueOf=="function"?O.valueOf():O;O=w(R)?R+"":R}if(typeof O!="string")return O===0?O:+O;O=O.replace(i,"");var D=a.test(O);return D||l.test(O)?c(O.slice(2),D?2:8):r.test(O)?t:+O}return cg=E,cg}var ug={exports:{}};var Tw;function ef(){return Tw||(Tw=1,(function(n){(function(){var t={}.hasOwnProperty;function e(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return e.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)t.call(a,c)&&a[c]&&(l=r(l,c));return l}function r(a,l){return l?a?a+" "+l:a+l:a}n.exports?(e.default=e,n.exports=e):window.classNames=e})()})(ug)),ug.exports}var Et={},dg={},kw;function cT(){return kw||(kw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(tr());function e(r){return r&&r.__esModule?r:{default:r}}var i={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(a){return t.default.createElement("ul",{style:{display:"block"}},a)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(a){return t.default.createElement("button",null,a+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};n.default=i})(dg)),dg}var Ow;function tu(){if(Ow)return Et;Ow=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.checkSpecKeys=Et.checkNavigable=Et.changeSlide=Et.canUseDOM=Et.canGoNext=void 0,Et.clamp=h,Et.extractObject=void 0,Et.filterSettings=J,Et.validSettings=Et.swipeStart=Et.swipeMove=Et.swipeEnd=Et.slidesOnRight=Et.slidesOnLeft=Et.slideHandler=Et.siblingDirection=Et.safePreventDefault=Et.lazyStartIndex=Et.lazySlidesOnRight=Et.lazySlidesOnLeft=Et.lazyEndIndex=Et.keyHandler=Et.initializedState=Et.getWidth=Et.getTrackLeft=Et.getTrackCSS=Et.getTrackAnimateCSS=Et.getTotalSlides=Et.getSwipeDirection=Et.getSlideCount=Et.getRequiredLazySlides=Et.getPreClones=Et.getPostClones=Et.getOnDemandLazySlides=Et.getNavigableIndexes=Et.getHeight=void 0;var n=e(tr()),t=e(cT());function e(X){return X&&X.__esModule?X:{default:X}}function i(X){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},i(X)}function r(X,A){var P=Object.keys(X);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(X);A&&(V=V.filter(function(B){return Object.getOwnPropertyDescriptor(X,B).enumerable})),P.push.apply(P,V)}return P}function a(X){for(var A=1;A<arguments.length;A++){var P=arguments[A]!=null?arguments[A]:{};A%2?r(Object(P),!0).forEach(function(V){l(X,V,P[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(P)):r(Object(P)).forEach(function(V){Object.defineProperty(X,V,Object.getOwnPropertyDescriptor(P,V))})}return X}function l(X,A,P){return(A=c(A))in X?Object.defineProperty(X,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):X[A]=P,X}function c(X){var A=d(X,"string");return i(A)=="symbol"?A:A+""}function d(X,A){if(i(X)!="object"||!X)return X;var P=X[Symbol.toPrimitive];if(P!==void 0){var V=P.call(X,A);if(i(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(X)}function h(X,A,P){return Math.max(A,Math.min(X,P))}var p=Et.safePreventDefault=function(A){var P=["onTouchStart","onTouchMove","onWheel"];P.includes(A._reactName)||A.preventDefault()},m=Et.getOnDemandLazySlides=function(A){for(var P=[],V=y(A),B=b(A),Q=V;Q<B;Q++)A.lazyLoadedList.indexOf(Q)<0&&P.push(Q);return P};Et.getRequiredLazySlides=function(A){for(var P=[],V=y(A),B=b(A),Q=V;Q<B;Q++)P.push(Q);return P};var y=Et.lazyStartIndex=function(A){return A.currentSlide-S(A)},b=Et.lazyEndIndex=function(A){return A.currentSlide+_(A)},S=Et.lazySlidesOnLeft=function(A){return A.centerMode?Math.floor(A.slidesToShow/2)+(parseInt(A.centerPadding)>0?1:0):0},_=Et.lazySlidesOnRight=function(A){return A.centerMode?Math.floor((A.slidesToShow-1)/2)+1+(parseInt(A.centerPadding)>0?1:0):A.slidesToShow},E=Et.getWidth=function(A){return A&&A.offsetWidth||0},w=Et.getHeight=function(A){return A&&A.offsetHeight||0},T=Et.getSwipeDirection=function(A){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,V,B,Q,ot;return V=A.startX-A.curX,B=A.startY-A.curY,Q=Math.atan2(B,V),ot=Math.round(Q*180/Math.PI),ot<0&&(ot=360-Math.abs(ot)),ot<=45&&ot>=0||ot<=360&&ot>=315?"left":ot>=135&&ot<=225?"right":P===!0?ot>=35&&ot<=135?"up":"down":"vertical"},k=Et.canGoNext=function(A){var P=!0;return A.infinite||(A.centerMode&&A.currentSlide>=A.slideCount-1||A.slideCount<=A.slidesToShow||A.currentSlide>=A.slideCount-A.slidesToShow)&&(P=!1),P};Et.extractObject=function(A,P){var V={};return P.forEach(function(B){return V[B]=A[B]}),V},Et.initializedState=function(A){var P=n.default.Children.count(A.children),V=A.listRef,B=Math.ceil(E(V)),Q=A.trackRef&&A.trackRef.node,ot=Math.ceil(E(Q)),st;if(A.vertical)st=B;else{var ct=A.centerMode&&parseInt(A.centerPadding)*2;typeof A.centerPadding=="string"&&A.centerPadding.slice(-1)==="%"&&(ct*=B/100),st=Math.ceil((B-ct)/A.slidesToShow)}var wt=V&&w(V.querySelector('[data-index="0"]')),_t=wt*A.slidesToShow,xt=A.currentSlide===void 0?A.initialSlide:A.currentSlide;A.rtl&&A.currentSlide===void 0&&(xt=P-1-A.initialSlide);var It=A.lazyLoadedList||[],Ut=m(a(a({},A),{},{currentSlide:xt,lazyLoadedList:It}));It=It.concat(Ut);var Ct={slideCount:P,slideWidth:st,listWidth:B,trackWidth:ot,currentSlide:xt,slideHeight:wt,listHeight:_t,lazyLoadedList:It};return A.autoplaying===null&&A.autoplay&&(Ct.autoplaying="playing"),Ct},Et.slideHandler=function(A){var P=A.waitForAnimate,V=A.animating,B=A.fade,Q=A.infinite,ot=A.index,st=A.slideCount,ct=A.lazyLoad,wt=A.currentSlide,_t=A.centerMode,xt=A.slidesToScroll,It=A.slidesToShow,Ut=A.useCSS,Ct=A.lazyLoadedList;if(P&&V)return{};var At=ot,Nt,Ht,Bt,he={},fe={},W=Q?ot:h(ot,0,st-1);if(B){if(!Q&&(ot<0||ot>=st))return{};ot<0?At=ot+st:ot>=st&&(At=ot-st),ct&&Ct.indexOf(At)<0&&(Ct=Ct.concat(At)),he={animating:!0,currentSlide:At,lazyLoadedList:Ct,targetSlide:At},fe={animating:!1,targetSlide:At}}else Nt=At,At<0?(Nt=At+st,Q?st%xt!==0&&(Nt=st-st%xt):Nt=0):!k(A)&&At>wt?At=Nt=wt:_t&&At>=st?(At=Q?st:st-1,Nt=Q?0:st-1):At>=st&&(Nt=At-st,Q?st%xt!==0&&(Nt=0):Nt=st-It),!Q&&At+It>=st&&(Nt=st-It),Ht=L(a(a({},A),{},{slideIndex:At})),Bt=L(a(a({},A),{},{slideIndex:Nt})),Q||(Ht===Bt&&(At=Nt),Ht=Bt),ct&&(Ct=Ct.concat(m(a(a({},A),{},{currentSlide:At})))),Ut?(he={animating:!0,currentSlide:Nt,trackStyle:N(a(a({},A),{},{left:Ht})),lazyLoadedList:Ct,targetSlide:W},fe={animating:!1,currentSlide:Nt,trackStyle:j(a(a({},A),{},{left:Bt})),swipeLeft:null,targetSlide:W}):he={currentSlide:Nt,trackStyle:j(a(a({},A),{},{left:Bt})),lazyLoadedList:Ct,targetSlide:W};return{state:he,nextState:fe}},Et.changeSlide=function(A,P){var V,B,Q,ot,st,ct=A.slidesToScroll,wt=A.slidesToShow,_t=A.slideCount,xt=A.currentSlide,It=A.targetSlide,Ut=A.lazyLoad,Ct=A.infinite;if(ot=_t%ct!==0,V=ot?0:(_t-xt)%ct,P.message==="previous")Q=V===0?ct:wt-V,st=xt-Q,Ut&&!Ct&&(B=xt-Q,st=B===-1?_t-1:B),Ct||(st=It-ct);else if(P.message==="next")Q=V===0?ct:V,st=xt+Q,Ut&&!Ct&&(st=(xt+ct)%_t+V),Ct||(st=It+ct);else if(P.message==="dots")st=P.index*P.slidesToScroll;else if(P.message==="children"){if(st=P.index,Ct){var At=G(a(a({},A),{},{targetSlide:st}));st>P.currentSlide&&At==="left"?st=st-_t:st<P.currentSlide&&At==="right"&&(st=st+_t)}}else P.message==="index"&&(st=Number(P.index));return st},Et.keyHandler=function(A,P,V){return A.target.tagName.match("TEXTAREA|INPUT|SELECT")||!P?"":A.keyCode===37?V?"next":"previous":A.keyCode===39?V?"previous":"next":""},Et.swipeStart=function(A,P,V){return A.target.tagName==="IMG"&&p(A),!P||!V&&A.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:A.touches?A.touches[0].pageX:A.clientX,startY:A.touches?A.touches[0].pageY:A.clientY,curX:A.touches?A.touches[0].pageX:A.clientX,curY:A.touches?A.touches[0].pageY:A.clientY}}},Et.swipeMove=function(A,P){var V=P.scrolling,B=P.animating,Q=P.vertical,ot=P.swipeToSlide,st=P.verticalSwiping,ct=P.rtl,wt=P.currentSlide,_t=P.edgeFriction,xt=P.edgeDragged,It=P.onEdge,Ut=P.swiped,Ct=P.swiping,At=P.slideCount,Nt=P.slidesToScroll,Ht=P.infinite,Bt=P.touchObject,he=P.swipeEvent,fe=P.listHeight,W=P.listWidth;if(!V){if(B)return p(A);Q&&ot&&st&&p(A);var nt,dt={},St=L(P);Bt.curX=A.touches?A.touches[0].pageX:A.clientX,Bt.curY=A.touches?A.touches[0].pageY:A.clientY,Bt.swipeLength=Math.round(Math.sqrt(Math.pow(Bt.curX-Bt.startX,2)));var gt=Math.round(Math.sqrt(Math.pow(Bt.curY-Bt.startY,2)));if(!st&&!Ct&&gt>10)return{scrolling:!0};st&&(Bt.swipeLength=gt);var yt=(ct?-1:1)*(Bt.curX>Bt.startX?1:-1);st&&(yt=Bt.curY>Bt.startY?1:-1);var tt=Math.ceil(At/Nt),ht=T(P.touchObject,st),vt=Bt.swipeLength;return Ht||(wt===0&&(ht==="right"||ht==="down")||wt+1>=tt&&(ht==="left"||ht==="up")||!k(P)&&(ht==="left"||ht==="up"))&&(vt=Bt.swipeLength*_t,xt===!1&&It&&(It(ht),dt.edgeDragged=!0)),!Ut&&he&&(he(ht),dt.swiped=!0),Q?nt=St+vt*(fe/W)*yt:ct?nt=St-vt*yt:nt=St+vt*yt,st&&(nt=St+vt*yt),dt=a(a({},dt),{},{touchObject:Bt,swipeLeft:nt,trackStyle:j(a(a({},P),{},{left:nt}))}),Math.abs(Bt.curX-Bt.startX)<Math.abs(Bt.curY-Bt.startY)*.8||Bt.swipeLength>10&&(dt.swiping=!0,p(A)),dt}},Et.swipeEnd=function(A,P){var V=P.dragging,B=P.swipe,Q=P.touchObject,ot=P.listWidth,st=P.touchThreshold,ct=P.verticalSwiping,wt=P.listHeight,_t=P.swipeToSlide,xt=P.scrolling,It=P.onSwipe,Ut=P.targetSlide,Ct=P.currentSlide,At=P.infinite;if(!V)return B&&p(A),{};var Nt=ct?wt/st:ot/st,Ht=T(Q,ct),Bt={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(xt||!Q.swipeLength)return Bt;if(Q.swipeLength>Nt){p(A),It&&It(Ht);var he,fe,W=At?Ct:Ut;switch(Ht){case"left":case"up":fe=W+R(P),he=_t?O(P,fe):fe,Bt.currentDirection=0;break;case"right":case"down":fe=W-R(P),he=_t?O(P,fe):fe,Bt.currentDirection=1;break;default:he=W}Bt.triggerSlideHandler=he}else{var nt=L(P);Bt.trackStyle=N(a(a({},P),{},{left:nt}))}return Bt};var F=Et.getNavigableIndexes=function(A){for(var P=A.infinite?A.slideCount*2:A.slideCount,V=A.infinite?A.slidesToShow*-1:0,B=A.infinite?A.slidesToShow*-1:0,Q=[];V<P;)Q.push(V),V=B+A.slidesToScroll,B+=Math.min(A.slidesToScroll,A.slidesToShow);return Q},O=Et.checkNavigable=function(A,P){var V=F(A),B=0;if(P>V[V.length-1])P=V[V.length-1];else for(var Q in V){if(P<V[Q]){P=B;break}B=V[Q]}return P},R=Et.getSlideCount=function(A){var P=A.centerMode?A.slideWidth*Math.floor(A.slidesToShow/2):0;if(A.swipeToSlide){var V,B=A.listRef,Q=B.querySelectorAll&&B.querySelectorAll(".slick-slide")||[];if(Array.from(Q).every(function(ct){if(A.vertical){if(ct.offsetTop+w(ct)/2>A.swipeLeft*-1)return V=ct,!1}else if(ct.offsetLeft-P+E(ct)/2>A.swipeLeft*-1)return V=ct,!1;return!0}),!V)return 0;var ot=A.rtl===!0?A.slideCount-A.currentSlide:A.currentSlide,st=Math.abs(V.dataset.index-ot)||1;return st}else return A.slidesToScroll},D=Et.checkSpecKeys=function(A,P){return P.reduce(function(V,B){return V&&A.hasOwnProperty(B)},!0)?null:console.error("Keys Missing:",A)},j=Et.getTrackCSS=function(A){D(A,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var P,V;if(!A.vertical)P=q(A)*A.slideWidth;else{var B=A.unslick?A.slideCount:A.slideCount+2*A.slidesToShow;V=B*A.slideHeight}var Q={opacity:1,transition:"",WebkitTransition:""};if(A.useTransform){var ot=A.vertical?"translate3d(0px, "+A.left+"px, 0px)":"translate3d("+A.left+"px, 0px, 0px)",st=A.vertical?"translate3d(0px, "+A.left+"px, 0px)":"translate3d("+A.left+"px, 0px, 0px)",ct=A.vertical?"translateY("+A.left+"px)":"translateX("+A.left+"px)";Q=a(a({},Q),{},{WebkitTransform:ot,transform:st,msTransform:ct})}else A.vertical?Q.top=A.left:Q.left=A.left;return A.fade&&(Q={opacity:1}),P&&(Q.width=P),V&&(Q.height=V),window&&!window.addEventListener&&window.attachEvent&&(A.vertical?Q.marginTop=A.left+"px":Q.marginLeft=A.left+"px"),Q},N=Et.getTrackAnimateCSS=function(A){D(A,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var P=j(A);return A.useTransform?(P.WebkitTransition="-webkit-transform "+A.speed+"ms "+A.cssEase,P.transition="transform "+A.speed+"ms "+A.cssEase):A.vertical?P.transition="top "+A.speed+"ms "+A.cssEase:P.transition="left "+A.speed+"ms "+A.cssEase,P},L=Et.getTrackLeft=function(A){if(A.unslick)return 0;D(A,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var P=A.slideIndex,V=A.trackRef,B=A.infinite,Q=A.centerMode,ot=A.slideCount,st=A.slidesToShow,ct=A.slidesToScroll,wt=A.slideWidth,_t=A.listWidth,xt=A.variableWidth,It=A.slideHeight,Ut=A.fade,Ct=A.vertical,At=0,Nt,Ht,Bt=0;if(Ut||A.slideCount===1)return 0;var he=0;if(B?(he=-I(A),ot%ct!==0&&P+ct>ot&&(he=-(P>ot?st-(P-ot):ot%ct)),Q&&(he+=parseInt(st/2))):(ot%ct!==0&&P+ct>ot&&(he=st-ot%ct),Q&&(he=parseInt(st/2))),At=he*wt,Bt=he*It,Ct?Nt=P*It*-1+Bt:Nt=P*wt*-1+At,xt===!0){var fe,W=V&&V.node;if(fe=P+I(A),Ht=W&&W.childNodes[fe],Nt=Ht?Ht.offsetLeft*-1:0,Q===!0){fe=B?P+I(A):P,Ht=W&&W.children[fe],Nt=0;for(var nt=0;nt<fe;nt++)Nt-=W&&W.children[nt]&&W.children[nt].offsetWidth;Nt-=parseInt(A.centerPadding),Nt+=Ht&&(_t-Ht.offsetWidth)/2}}return Nt},I=Et.getPreClones=function(A){return A.unslick||!A.infinite?0:A.variableWidth?A.slideCount:A.slidesToShow+(A.centerMode?1:0)},H=Et.getPostClones=function(A){return A.unslick||!A.infinite?0:A.variableWidth?A.slideCount:A.slidesToShow+(A.centerMode?1:0)},q=Et.getTotalSlides=function(A){return A.slideCount===1?1:I(A)+A.slideCount+H(A)},G=Et.siblingDirection=function(A){return A.targetSlide>A.currentSlide?A.targetSlide>A.currentSlide+Y(A)?"left":"right":A.targetSlide<A.currentSlide-U(A)?"right":"left"},Y=Et.slidesOnRight=function(A){var P=A.slidesToShow,V=A.centerMode,B=A.rtl,Q=A.centerPadding;if(V){var ot=(P-1)/2+1;return parseInt(Q)>0&&(ot+=1),B&&P%2===0&&(ot+=1),ot}return B?0:P-1},U=Et.slidesOnLeft=function(A){var P=A.slidesToShow,V=A.centerMode,B=A.rtl,Q=A.centerPadding;if(V){var ot=(P-1)/2+1;return parseInt(Q)>0&&(ot+=1),!B&&P%2===0&&(ot+=1),ot}return B?P-1:0};Et.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var C=Et.validSettings=Object.keys(t.default);function J(X){return C.reduce(function(A,P){return X.hasOwnProperty(P)&&(A[P]=X[P]),A},{})}return Et}var ic={},Rw;function aq(){if(Rw)return ic;Rw=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.Track=void 0;var n=i(tr()),t=i(ef()),e=tu();function i(N){return N&&N.__esModule?N:{default:N}}function r(N){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},r(N)}function a(){return a=Object.assign?Object.assign.bind():function(N){for(var L=1;L<arguments.length;L++){var I=arguments[L];for(var H in I)({}).hasOwnProperty.call(I,H)&&(N[H]=I[H])}return N},a.apply(null,arguments)}function l(N,L){if(!(N instanceof L))throw new TypeError("Cannot call a class as a function")}function c(N,L){for(var I=0;I<L.length;I++){var H=L[I];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(N,k(H.key),H)}}function d(N,L,I){return L&&c(N.prototype,L),Object.defineProperty(N,"prototype",{writable:!1}),N}function h(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(L&&L.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),L&&p(N,L)}function p(N,L){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,H){return I.__proto__=H,I},p(N,L)}function m(N){var L=S();return function(){var I,H=_(N);if(L){var q=_(this).constructor;I=Reflect.construct(H,arguments,q)}else I=H.apply(this,arguments);return y(this,I)}}function y(N,L){if(L&&(r(L)=="object"||typeof L=="function"))return L;if(L!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(N)}function b(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function S(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!N})()}function _(N){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},_(N)}function E(N,L){var I=Object.keys(N);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(N);L&&(H=H.filter(function(q){return Object.getOwnPropertyDescriptor(N,q).enumerable})),I.push.apply(I,H)}return I}function w(N){for(var L=1;L<arguments.length;L++){var I=arguments[L]!=null?arguments[L]:{};L%2?E(Object(I),!0).forEach(function(H){T(N,H,I[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(I)):E(Object(I)).forEach(function(H){Object.defineProperty(N,H,Object.getOwnPropertyDescriptor(I,H))})}return N}function T(N,L,I){return(L=k(L))in N?Object.defineProperty(N,L,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[L]=I,N}function k(N){var L=F(N,"string");return r(L)=="symbol"?L:L+""}function F(N,L){if(r(N)!="object"||!N)return N;var I=N[Symbol.toPrimitive];if(I!==void 0){var H=I.call(N,L);if(r(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(N)}var O=function(L){var I,H,q,G,Y;L.rtl?Y=L.slideCount-1-L.index:Y=L.index,q=Y<0||Y>=L.slideCount,L.centerMode?(G=Math.floor(L.slidesToShow/2),H=(Y-L.currentSlide)%L.slideCount===0,Y>L.currentSlide-G-1&&Y<=L.currentSlide+G&&(I=!0)):I=L.currentSlide<=Y&&Y<L.currentSlide+L.slidesToShow;var U;L.targetSlide<0?U=L.targetSlide+L.slideCount:L.targetSlide>=L.slideCount?U=L.targetSlide-L.slideCount:U=L.targetSlide;var C=Y===U;return{"slick-slide":!0,"slick-active":I,"slick-center":H,"slick-cloned":q,"slick-current":C}},R=function(L){var I={};return(L.variableWidth===void 0||L.variableWidth===!1)&&(I.width=L.slideWidth),L.fade&&(I.position="relative",L.vertical?I.top=-L.index*parseInt(L.slideHeight):I.left=-L.index*parseInt(L.slideWidth),I.opacity=L.currentSlide===L.index?1:0,I.zIndex=L.currentSlide===L.index?999:998,L.useCSS&&(I.transition="opacity "+L.speed+"ms "+L.cssEase+", visibility "+L.speed+"ms "+L.cssEase)),I},D=function(L,I){return L.key||I},j=function(L){var I,H=[],q=[],G=[],Y=n.default.Children.count(L.children),U=(0,e.lazyStartIndex)(L),C=(0,e.lazyEndIndex)(L);return n.default.Children.forEach(L.children,function(J,X){var A,P={message:"children",index:X,slidesToScroll:L.slidesToScroll,currentSlide:L.currentSlide};!L.lazyLoad||L.lazyLoad&&L.lazyLoadedList.indexOf(X)>=0?A=J:A=n.default.createElement("div",null);var V=R(w(w({},L),{},{index:X})),B=A.props.className||"",Q=O(w(w({},L),{},{index:X}));if(H.push(n.default.cloneElement(A,{key:"original"+D(A,X),"data-index":X,className:(0,t.default)(Q,B),tabIndex:"-1","aria-hidden":!Q["slick-active"],style:w(w({outline:"none"},A.props.style||{}),V),onClick:function(ct){A.props&&A.props.onClick&&A.props.onClick(ct),L.focusOnSelect&&L.focusOnSelect(P)}})),L.infinite&&Y>1&&L.fade===!1&&!L.unslick){var ot=Y-X;ot<=(0,e.getPreClones)(L)&&(I=-ot,I>=U&&(A=J),Q=O(w(w({},L),{},{index:I})),q.push(n.default.cloneElement(A,{key:"precloned"+D(A,I),"data-index":I,tabIndex:"-1",className:(0,t.default)(Q,B),"aria-hidden":!Q["slick-active"],style:w(w({},A.props.style||{}),V),onClick:function(ct){A.props&&A.props.onClick&&A.props.onClick(ct),L.focusOnSelect&&L.focusOnSelect(P)}}))),X<(0,e.getPostClones)(L)&&(I=Y+X,I<C&&(A=J),Q=O(w(w({},L),{},{index:I})),G.push(n.default.cloneElement(A,{key:"postcloned"+D(A,I),"data-index":I,tabIndex:"-1",className:(0,t.default)(Q,B),"aria-hidden":!Q["slick-active"],style:w(w({},A.props.style||{}),V),onClick:function(ct){A.props&&A.props.onClick&&A.props.onClick(ct),L.focusOnSelect&&L.focusOnSelect(P)}})))}}),L.rtl?q.concat(H,G).reverse():q.concat(H,G)};return ic.Track=(function(N){h(I,N);var L=m(I);function I(){var H;l(this,I);for(var q=arguments.length,G=new Array(q),Y=0;Y<q;Y++)G[Y]=arguments[Y];return H=L.call.apply(L,[this].concat(G)),T(b(H),"node",null),T(b(H),"handleRef",function(U){H.node=U}),H}return d(I,[{key:"render",value:function(){var q=j(this.props),G=this.props,Y=G.onMouseEnter,U=G.onMouseOver,C=G.onMouseLeave,J={onMouseEnter:Y,onMouseOver:U,onMouseLeave:C};return n.default.createElement("div",a({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},J),q)}}]),I})(n.default.PureComponent),ic}var rc={},Mw;function oq(){if(Mw)return rc;Mw=1;function n(O){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(O)}Object.defineProperty(rc,"__esModule",{value:!0}),rc.Dots=void 0;var t=r(tr()),e=r(ef()),i=tu();function r(O){return O&&O.__esModule?O:{default:O}}function a(O,R){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(O);R&&(j=j.filter(function(N){return Object.getOwnPropertyDescriptor(O,N).enumerable})),D.push.apply(D,j)}return D}function l(O){for(var R=1;R<arguments.length;R++){var D=arguments[R]!=null?arguments[R]:{};R%2?a(Object(D),!0).forEach(function(j){c(O,j,D[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):a(Object(D)).forEach(function(j){Object.defineProperty(O,j,Object.getOwnPropertyDescriptor(D,j))})}return O}function c(O,R,D){return(R=m(R))in O?Object.defineProperty(O,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[R]=D,O}function d(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function h(O,R){for(var D=0;D<R.length;D++){var j=R[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,m(j.key),j)}}function p(O,R,D){return R&&h(O.prototype,R),Object.defineProperty(O,"prototype",{writable:!1}),O}function m(O){var R=y(O,"string");return n(R)=="symbol"?R:R+""}function y(O,R){if(n(O)!="object"||!O)return O;var D=O[Symbol.toPrimitive];if(D!==void 0){var j=D.call(O,R);if(n(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function b(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),R&&S(O,R)}function S(O,R){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,j){return D.__proto__=j,D},S(O,R)}function _(O){var R=T();return function(){var D,j=k(O);if(R){var N=k(this).constructor;D=Reflect.construct(j,arguments,N)}else D=j.apply(this,arguments);return E(this,D)}}function E(O,R){if(R&&(n(R)=="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(O)}function w(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function T(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!O})()}function k(O){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},k(O)}var F=function(R){var D;return R.infinite?D=Math.ceil(R.slideCount/R.slidesToScroll):D=Math.ceil((R.slideCount-R.slidesToShow)/R.slidesToScroll)+1,D};return rc.Dots=(function(O){b(D,O);var R=_(D);function D(){return d(this,D),R.apply(this,arguments)}return p(D,[{key:"clickHandler",value:function(N,L){L.preventDefault(),this.props.clickHandler(N)}},{key:"render",value:function(){for(var N=this.props,L=N.onMouseEnter,I=N.onMouseOver,H=N.onMouseLeave,q=N.infinite,G=N.slidesToScroll,Y=N.slidesToShow,U=N.slideCount,C=N.currentSlide,J=F({slideCount:U,slidesToScroll:G,slidesToShow:Y,infinite:q}),X={onMouseEnter:L,onMouseOver:I,onMouseLeave:H},A=[],P=0;P<J;P++){var V=(P+1)*G-1,B=q?V:(0,i.clamp)(V,0,U-1),Q=B-(G-1),ot=q?Q:(0,i.clamp)(Q,0,U-1),st=(0,e.default)({"slick-active":q?C>=ot&&C<=B:C===ot}),ct={message:"dots",index:P,slidesToScroll:G,currentSlide:C},wt=this.clickHandler.bind(this,ct);A=A.concat(t.default.createElement("li",{key:P,className:st},t.default.cloneElement(this.props.customPaging(P),{onClick:wt})))}return t.default.cloneElement(this.props.appendDots(A),l({className:this.props.dotsClass},X))}}]),D})(t.default.PureComponent),rc}var sa={},Nw;function lq(){if(Nw)return sa;Nw=1;function n(O){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n(O)}Object.defineProperty(sa,"__esModule",{value:!0}),sa.PrevArrow=sa.NextArrow=void 0;var t=r(tr()),e=r(ef()),i=tu();function r(O){return O&&O.__esModule?O:{default:O}}function a(){return a=Object.assign?Object.assign.bind():function(O){for(var R=1;R<arguments.length;R++){var D=arguments[R];for(var j in D)({}).hasOwnProperty.call(D,j)&&(O[j]=D[j])}return O},a.apply(null,arguments)}function l(O,R){var D=Object.keys(O);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(O);R&&(j=j.filter(function(N){return Object.getOwnPropertyDescriptor(O,N).enumerable})),D.push.apply(D,j)}return D}function c(O){for(var R=1;R<arguments.length;R++){var D=arguments[R]!=null?arguments[R]:{};R%2?l(Object(D),!0).forEach(function(j){d(O,j,D[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(D)):l(Object(D)).forEach(function(j){Object.defineProperty(O,j,Object.getOwnPropertyDescriptor(D,j))})}return O}function d(O,R,D){return(R=y(R))in O?Object.defineProperty(O,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):O[R]=D,O}function h(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function p(O,R){for(var D=0;D<R.length;D++){var j=R[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(O,y(j.key),j)}}function m(O,R,D){return R&&p(O.prototype,R),Object.defineProperty(O,"prototype",{writable:!1}),O}function y(O){var R=b(O,"string");return n(R)=="symbol"?R:R+""}function b(O,R){if(n(O)!="object"||!O)return O;var D=O[Symbol.toPrimitive];if(D!==void 0){var j=D.call(O,R);if(n(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function S(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),R&&_(O,R)}function _(O,R){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,j){return D.__proto__=j,D},_(O,R)}function E(O){var R=k();return function(){var D,j=F(O);if(R){var N=F(this).constructor;D=Reflect.construct(j,arguments,N)}else D=j.apply(this,arguments);return w(this,D)}}function w(O,R){if(R&&(n(R)=="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(O)}function T(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function k(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k=function(){return!!O})()}function F(O){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},F(O)}return sa.PrevArrow=(function(O){S(D,O);var R=E(D);function D(){return h(this,D),R.apply(this,arguments)}return m(D,[{key:"clickHandler",value:function(N,L){L&&L.preventDefault(),this.props.clickHandler(N,L)}},{key:"render",value:function(){var N={"slick-arrow":!0,"slick-prev":!0},L=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(N["slick-disabled"]=!0,L=null);var I={key:"0","data-role":"none",className:(0,e.default)(N),style:{display:"block"},onClick:L},H={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},q;return this.props.prevArrow?q=t.default.cloneElement(this.props.prevArrow,c(c({},I),H)):q=t.default.createElement("button",a({key:"0",type:"button"},I)," ","Previous"),q}}]),D})(t.default.PureComponent),sa.NextArrow=(function(O){S(D,O);var R=E(D);function D(){return h(this,D),R.apply(this,arguments)}return m(D,[{key:"clickHandler",value:function(N,L){L&&L.preventDefault(),this.props.clickHandler(N,L)}},{key:"render",value:function(){var N={"slick-arrow":!0,"slick-next":!0},L=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(N["slick-disabled"]=!0,L=null);var I={key:"1","data-role":"none",className:(0,e.default)(N),style:{display:"block"},onClick:L},H={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},q;return this.props.nextArrow?q=t.default.cloneElement(this.props.nextArrow,c(c({},I),H)):q=t.default.createElement("button",a({key:"1",type:"button"},I)," ","Next"),q}}]),D})(t.default.PureComponent),sa}var uT=(function(){if(typeof Map<"u")return Map;function n(t,e){var i=-1;return t.some(function(r,a){return r[0]===e?(i=a,!0):!1}),i}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(e){var i=n(this.__entries__,e),r=this.__entries__[i];return r&&r[1]},t.prototype.set=function(e,i){var r=n(this.__entries__,e);~r?this.__entries__[r][1]=i:this.__entries__.push([e,i])},t.prototype.delete=function(e){var i=this.__entries__,r=n(i,e);~r&&i.splice(r,1)},t.prototype.has=function(e){return!!~n(this.__entries__,e)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,i){i===void 0&&(i=null);for(var r=0,a=this.__entries__;r<a.length;r++){var l=a[r];e.call(i,l[1],l[0])}},t})()})(),dy=typeof window<"u"&&typeof document<"u"&&window.document===document,Sh=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),cq=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Sh):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}})(),uq=2;function dq(n,t){var e=!1,i=!1,r=0;function a(){e&&(e=!1,n()),i&&c()}function l(){cq(a)}function c(){var d=Date.now();if(e){if(d-r<uq)return;i=!0}else e=!0,i=!1,setTimeout(l,t);r=d}return c}var hq=20,fq=["top","right","bottom","left","width","height","size","weight"],pq=typeof MutationObserver<"u",mq=(function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=dq(this.refresh.bind(this),hq)}return n.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},n.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},n.prototype.updateObservers_=function(){var t=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return t.forEach(function(e){return e.broadcastActive()}),t.length>0},n.prototype.connect_=function(){!dy||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pq?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!dy||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=e===void 0?"":e,r=fq.some(function(a){return!!~i.indexOf(a)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n})(),dT=(function(n,t){for(var e=0,i=Object.keys(t);e<i.length;e++){var r=i[e];Object.defineProperty(n,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return n}),zo=(function(n){var t=n&&n.ownerDocument&&n.ownerDocument.defaultView;return t||Sh}),hT=nf(0,0,0,0);function xh(n){return parseFloat(n)||0}function Dw(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return t.reduce(function(i,r){var a=n["border-"+r+"-width"];return i+xh(a)},0)}function gq(n){for(var t=["top","right","bottom","left"],e={},i=0,r=t;i<r.length;i++){var a=r[i],l=n["padding-"+a];e[a]=xh(l)}return e}function yq(n){var t=n.getBBox();return nf(0,0,t.width,t.height)}function bq(n){var t=n.clientWidth,e=n.clientHeight;if(!t&&!e)return hT;var i=zo(n).getComputedStyle(n),r=gq(i),a=r.left+r.right,l=r.top+r.bottom,c=xh(i.width),d=xh(i.height);if(i.boxSizing==="border-box"&&(Math.round(c+a)!==t&&(c-=Dw(i,"left","right")+a),Math.round(d+l)!==e&&(d-=Dw(i,"top","bottom")+l)),!_q(n)){var h=Math.round(c+a)-t,p=Math.round(d+l)-e;Math.abs(h)!==1&&(c-=h),Math.abs(p)!==1&&(d-=p)}return nf(r.left,r.top,c,d)}var vq=(function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof zo(n).SVGGraphicsElement}:function(n){return n instanceof zo(n).SVGElement&&typeof n.getBBox=="function"}})();function _q(n){return n===zo(n).document.documentElement}function Sq(n){return dy?vq(n)?yq(n):bq(n):hT}function xq(n){var t=n.x,e=n.y,i=n.width,r=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(a.prototype);return dT(l,{x:t,y:e,width:i,height:r,top:e,right:t+i,bottom:r+e,left:t}),l}function nf(n,t,e,i){return{x:n,y:t,width:e,height:i}}var wq=(function(){function n(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nf(0,0,0,0),this.target=t}return n.prototype.isActive=function(){var t=Sq(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},n})(),Aq=(function(){function n(t,e){var i=xq(e);dT(this,{target:t,contentRect:i})}return n})(),Eq=(function(){function n(t,e,i){if(this.activeObservations_=[],this.observations_=new uT,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=i}return n.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof zo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new wq(t)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof zo(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map(function(i){return new Aq(i.target,i.broadcastRect())});this.callback_.call(t,e,t),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n})(),fT=typeof WeakMap<"u"?new WeakMap:new uT,pT=(function(){function n(t){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var e=mq.getInstance(),i=new Eq(t,e,this);fT.set(this,i)}return n})();["observe","unobserve","disconnect"].forEach(function(n){pT.prototype[n]=function(){var t;return(t=fT.get(this))[n].apply(t,arguments)}});var Cq=(function(){return typeof Sh.ResizeObserver<"u"?Sh.ResizeObserver:pT})();const Tq=Object.freeze(Object.defineProperty({__proto__:null,default:Cq},Symbol.toStringTag,{value:"Module"})),kq=Ok(Tq);var Lw;function Oq(){if(Lw)return nc;Lw=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.InnerSlider=void 0;var n=h(tr()),t=h(rq()),e=h(sq()),i=h(ef()),r=tu(),a=aq(),l=oq(),c=lq(),d=h(kq);function h(q){return q&&q.__esModule?q:{default:q}}function p(q){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},p(q)}function m(){return m=Object.assign?Object.assign.bind():function(q){for(var G=1;G<arguments.length;G++){var Y=arguments[G];for(var U in Y)({}).hasOwnProperty.call(Y,U)&&(q[U]=Y[U])}return q},m.apply(null,arguments)}function y(q,G){if(q==null)return{};var Y,U,C=b(q,G);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(q);for(U=0;U<J.length;U++)Y=J[U],G.includes(Y)||{}.propertyIsEnumerable.call(q,Y)&&(C[Y]=q[Y])}return C}function b(q,G){if(q==null)return{};var Y={};for(var U in q)if({}.hasOwnProperty.call(q,U)){if(G.includes(U))continue;Y[U]=q[U]}return Y}function S(q,G){var Y=Object.keys(q);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(q);G&&(U=U.filter(function(C){return Object.getOwnPropertyDescriptor(q,C).enumerable})),Y.push.apply(Y,U)}return Y}function _(q){for(var G=1;G<arguments.length;G++){var Y=arguments[G]!=null?arguments[G]:{};G%2?S(Object(Y),!0).forEach(function(U){L(q,U,Y[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Y)):S(Object(Y)).forEach(function(U){Object.defineProperty(q,U,Object.getOwnPropertyDescriptor(Y,U))})}return q}function E(q,G){if(!(q instanceof G))throw new TypeError("Cannot call a class as a function")}function w(q,G){for(var Y=0;Y<G.length;Y++){var U=G[Y];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(q,I(U.key),U)}}function T(q,G,Y){return G&&w(q.prototype,G),Object.defineProperty(q,"prototype",{writable:!1}),q}function k(q,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(G&&G.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),G&&F(q,G)}function F(q,G){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,U){return Y.__proto__=U,Y},F(q,G)}function O(q){var G=j();return function(){var Y,U=N(q);if(G){var C=N(this).constructor;Y=Reflect.construct(U,arguments,C)}else Y=U.apply(this,arguments);return R(this,Y)}}function R(q,G){if(G&&(p(G)=="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(q)}function D(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function j(){try{var q=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!q})()}function N(q){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(G){return G.__proto__||Object.getPrototypeOf(G)},N(q)}function L(q,G,Y){return(G=I(G))in q?Object.defineProperty(q,G,{value:Y,enumerable:!0,configurable:!0,writable:!0}):q[G]=Y,q}function I(q){var G=H(q,"string");return p(G)=="symbol"?G:G+""}function H(q,G){if(p(q)!="object"||!q)return q;var Y=q[Symbol.toPrimitive];if(Y!==void 0){var U=Y.call(q,G);if(p(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(q)}return nc.InnerSlider=(function(q){k(Y,q);var G=O(Y);function Y(U){var C;E(this,Y),C=G.call(this,U),L(D(C),"listRefHandler",function(X){return C.list=X}),L(D(C),"trackRefHandler",function(X){return C.track=X}),L(D(C),"adaptHeight",function(){if(C.props.adaptiveHeight&&C.list){var X=C.list.querySelector('[data-index="'.concat(C.state.currentSlide,'"]'));C.list.style.height=(0,r.getHeight)(X)+"px"}}),L(D(C),"componentDidMount",function(){if(C.props.onInit&&C.props.onInit(),C.props.lazyLoad){var X=(0,r.getOnDemandLazySlides)(_(_({},C.props),C.state));X.length>0&&(C.setState(function(P){return{lazyLoadedList:P.lazyLoadedList.concat(X)}}),C.props.onLazyLoad&&C.props.onLazyLoad(X))}var A=_({listRef:C.list,trackRef:C.track},C.props);C.updateState(A,!0,function(){C.adaptHeight(),C.props.autoplay&&C.autoPlay("update")}),C.props.lazyLoad==="progressive"&&(C.lazyLoadTimer=setInterval(C.progressiveLazyLoad,1e3)),C.ro=new d.default(function(){C.state.animating?(C.onWindowResized(!1),C.callbackTimers.push(setTimeout(function(){return C.onWindowResized()},C.props.speed))):C.onWindowResized()}),C.ro.observe(C.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(P){P.onfocus=C.props.pauseOnFocus?C.onSlideFocus:null,P.onblur=C.props.pauseOnFocus?C.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",C.onWindowResized):window.attachEvent("onresize",C.onWindowResized)}),L(D(C),"componentWillUnmount",function(){C.animationEndCallback&&clearTimeout(C.animationEndCallback),C.lazyLoadTimer&&clearInterval(C.lazyLoadTimer),C.callbackTimers.length&&(C.callbackTimers.forEach(function(X){return clearTimeout(X)}),C.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",C.onWindowResized):window.detachEvent("onresize",C.onWindowResized),C.autoplayTimer&&clearInterval(C.autoplayTimer),C.ro.disconnect()}),L(D(C),"componentDidUpdate",function(X){if(C.checkImagesLoad(),C.props.onReInit&&C.props.onReInit(),C.props.lazyLoad){var A=(0,r.getOnDemandLazySlides)(_(_({},C.props),C.state));A.length>0&&(C.setState(function(B){return{lazyLoadedList:B.lazyLoadedList.concat(A)}}),C.props.onLazyLoad&&C.props.onLazyLoad(A))}C.adaptHeight();var P=_(_({listRef:C.list,trackRef:C.track},C.props),C.state),V=C.didPropsChange(X);V&&C.updateState(P,V,function(){C.state.currentSlide>=n.default.Children.count(C.props.children)&&C.changeSlide({message:"index",index:n.default.Children.count(C.props.children)-C.props.slidesToShow,currentSlide:C.state.currentSlide}),C.props.autoplay?C.autoPlay("update"):C.pause("paused")})}),L(D(C),"onWindowResized",function(X){C.debouncedResize&&C.debouncedResize.cancel(),C.debouncedResize=(0,e.default)(function(){return C.resizeWindow(X)},50),C.debouncedResize()}),L(D(C),"resizeWindow",function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,A=!!(C.track&&C.track.node);if(A){var P=_(_({listRef:C.list,trackRef:C.track},C.props),C.state);C.updateState(P,X,function(){C.props.autoplay?C.autoPlay("update"):C.pause("paused")}),C.setState({animating:!1}),clearTimeout(C.animationEndCallback),delete C.animationEndCallback}}),L(D(C),"updateState",function(X,A,P){var V=(0,r.initializedState)(X);X=_(_(_({},X),V),{},{slideIndex:V.currentSlide});var B=(0,r.getTrackLeft)(X);X=_(_({},X),{},{left:B});var Q=(0,r.getTrackCSS)(X);(A||n.default.Children.count(C.props.children)!==n.default.Children.count(X.children))&&(V.trackStyle=Q),C.setState(V,P)}),L(D(C),"ssrInit",function(){if(C.props.variableWidth){var X=0,A=0,P=[],V=(0,r.getPreClones)(_(_(_({},C.props),C.state),{},{slideCount:C.props.children.length})),B=(0,r.getPostClones)(_(_(_({},C.props),C.state),{},{slideCount:C.props.children.length}));C.props.children.forEach(function(Ht){P.push(Ht.props.style.width),X+=Ht.props.style.width});for(var Q=0;Q<V;Q++)A+=P[P.length-1-Q],X+=P[P.length-1-Q];for(var ot=0;ot<B;ot++)X+=P[ot];for(var st=0;st<C.state.currentSlide;st++)A+=P[st];var ct={width:X+"px",left:-A+"px"};if(C.props.centerMode){var wt="".concat(P[C.state.currentSlide],"px");ct.left="calc(".concat(ct.left," + (100% - ").concat(wt,") / 2 ) ")}return{trackStyle:ct}}var _t=n.default.Children.count(C.props.children),xt=_(_(_({},C.props),C.state),{},{slideCount:_t}),It=(0,r.getPreClones)(xt)+(0,r.getPostClones)(xt)+_t,Ut=100/C.props.slidesToShow*It,Ct=100/It,At=-Ct*((0,r.getPreClones)(xt)+C.state.currentSlide)*Ut/100;C.props.centerMode&&(At+=(100-Ct*Ut/100)/2);var Nt={width:Ut+"%",left:At+"%"};return{slideWidth:Ct+"%",trackStyle:Nt}}),L(D(C),"checkImagesLoad",function(){var X=C.list&&C.list.querySelectorAll&&C.list.querySelectorAll(".slick-slide img")||[],A=X.length,P=0;Array.prototype.forEach.call(X,function(V){var B=function(){return++P&&P>=A&&C.onWindowResized()};if(!V.onclick)V.onclick=function(){return V.parentNode.focus()};else{var Q=V.onclick;V.onclick=function(ot){Q(ot),V.parentNode.focus()}}V.onload||(C.props.lazyLoad?V.onload=function(){C.adaptHeight(),C.callbackTimers.push(setTimeout(C.onWindowResized,C.props.speed))}:(V.onload=B,V.onerror=function(){B(),C.props.onLazyLoadError&&C.props.onLazyLoadError()}))})}),L(D(C),"progressiveLazyLoad",function(){for(var X=[],A=_(_({},C.props),C.state),P=C.state.currentSlide;P<C.state.slideCount+(0,r.getPostClones)(A);P++)if(C.state.lazyLoadedList.indexOf(P)<0){X.push(P);break}for(var V=C.state.currentSlide-1;V>=-(0,r.getPreClones)(A);V--)if(C.state.lazyLoadedList.indexOf(V)<0){X.push(V);break}X.length>0?(C.setState(function(B){return{lazyLoadedList:B.lazyLoadedList.concat(X)}}),C.props.onLazyLoad&&C.props.onLazyLoad(X)):C.lazyLoadTimer&&(clearInterval(C.lazyLoadTimer),delete C.lazyLoadTimer)}),L(D(C),"slideHandler",function(X){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=C.props,V=P.asNavFor,B=P.beforeChange,Q=P.onLazyLoad,ot=P.speed,st=P.afterChange,ct=C.state.currentSlide,wt=(0,r.slideHandler)(_(_(_({index:X},C.props),C.state),{},{trackRef:C.track,useCSS:C.props.useCSS&&!A})),_t=wt.state,xt=wt.nextState;if(_t){B&&B(ct,_t.currentSlide);var It=_t.lazyLoadedList.filter(function(Ut){return C.state.lazyLoadedList.indexOf(Ut)<0});Q&&It.length>0&&Q(It),!C.props.waitForAnimate&&C.animationEndCallback&&(clearTimeout(C.animationEndCallback),st&&st(ct),delete C.animationEndCallback),C.setState(_t,function(){V&&C.asNavForIndex!==X&&(C.asNavForIndex=X,V.innerSlider.slideHandler(X)),xt&&(C.animationEndCallback=setTimeout(function(){var Ut=xt.animating,Ct=y(xt,["animating"]);C.setState(Ct,function(){C.callbackTimers.push(setTimeout(function(){return C.setState({animating:Ut})},10)),st&&st(_t.currentSlide),delete C.animationEndCallback})},ot))})}}),L(D(C),"changeSlide",function(X){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=_(_({},C.props),C.state),V=(0,r.changeSlide)(P,X);if(!(V!==0&&!V)&&(A===!0?C.slideHandler(V,A):C.slideHandler(V),C.props.autoplay&&C.autoPlay("update"),C.props.focusOnSelect)){var B=C.list.querySelectorAll(".slick-current");B[0]&&B[0].focus()}}),L(D(C),"clickHandler",function(X){C.clickable===!1&&(X.stopPropagation(),X.preventDefault()),C.clickable=!0}),L(D(C),"keyHandler",function(X){var A=(0,r.keyHandler)(X,C.props.accessibility,C.props.rtl);A!==""&&C.changeSlide({message:A})}),L(D(C),"selectHandler",function(X){C.changeSlide(X)}),L(D(C),"disableBodyScroll",function(){var X=function(P){P=P||window.event,P.preventDefault&&P.preventDefault(),P.returnValue=!1};window.ontouchmove=X}),L(D(C),"enableBodyScroll",function(){window.ontouchmove=null}),L(D(C),"swipeStart",function(X){C.props.verticalSwiping&&C.disableBodyScroll();var A=(0,r.swipeStart)(X,C.props.swipe,C.props.draggable);A!==""&&C.setState(A)}),L(D(C),"swipeMove",function(X){var A=(0,r.swipeMove)(X,_(_(_({},C.props),C.state),{},{trackRef:C.track,listRef:C.list,slideIndex:C.state.currentSlide}));A&&(A.swiping&&(C.clickable=!1),C.setState(A))}),L(D(C),"swipeEnd",function(X){var A=(0,r.swipeEnd)(X,_(_(_({},C.props),C.state),{},{trackRef:C.track,listRef:C.list,slideIndex:C.state.currentSlide}));if(A){var P=A.triggerSlideHandler;delete A.triggerSlideHandler,C.setState(A),P!==void 0&&(C.slideHandler(P),C.props.verticalSwiping&&C.enableBodyScroll())}}),L(D(C),"touchEnd",function(X){C.swipeEnd(X),C.clickable=!0}),L(D(C),"slickPrev",function(){C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"previous"})},0))}),L(D(C),"slickNext",function(){C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"next"})},0))}),L(D(C),"slickGoTo",function(X){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(X=Number(X),isNaN(X))return"";C.callbackTimers.push(setTimeout(function(){return C.changeSlide({message:"index",index:X,currentSlide:C.state.currentSlide},A)},0))}),L(D(C),"play",function(){var X;if(C.props.rtl)X=C.state.currentSlide-C.props.slidesToScroll;else if((0,r.canGoNext)(_(_({},C.props),C.state)))X=C.state.currentSlide+C.props.slidesToScroll;else return!1;C.slideHandler(X)}),L(D(C),"autoPlay",function(X){C.autoplayTimer&&clearInterval(C.autoplayTimer);var A=C.state.autoplaying;if(X==="update"){if(A==="hovered"||A==="focused"||A==="paused")return}else if(X==="leave"){if(A==="paused"||A==="focused")return}else if(X==="blur"&&(A==="paused"||A==="hovered"))return;C.autoplayTimer=setInterval(C.play,C.props.autoplaySpeed+50),C.setState({autoplaying:"playing"})}),L(D(C),"pause",function(X){C.autoplayTimer&&(clearInterval(C.autoplayTimer),C.autoplayTimer=null);var A=C.state.autoplaying;X==="paused"?C.setState({autoplaying:"paused"}):X==="focused"?(A==="hovered"||A==="playing")&&C.setState({autoplaying:"focused"}):A==="playing"&&C.setState({autoplaying:"hovered"})}),L(D(C),"onDotsOver",function(){return C.props.autoplay&&C.pause("hovered")}),L(D(C),"onDotsLeave",function(){return C.props.autoplay&&C.state.autoplaying==="hovered"&&C.autoPlay("leave")}),L(D(C),"onTrackOver",function(){return C.props.autoplay&&C.pause("hovered")}),L(D(C),"onTrackLeave",function(){return C.props.autoplay&&C.state.autoplaying==="hovered"&&C.autoPlay("leave")}),L(D(C),"onSlideFocus",function(){return C.props.autoplay&&C.pause("focused")}),L(D(C),"onSlideBlur",function(){return C.props.autoplay&&C.state.autoplaying==="focused"&&C.autoPlay("blur")}),L(D(C),"render",function(){var X=(0,i.default)("slick-slider",C.props.className,{"slick-vertical":C.props.vertical,"slick-initialized":!0}),A=_(_({},C.props),C.state),P=(0,r.extractObject)(A,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),V=C.props.pauseOnHover;P=_(_({},P),{},{onMouseEnter:V?C.onTrackOver:null,onMouseLeave:V?C.onTrackLeave:null,onMouseOver:V?C.onTrackOver:null,focusOnSelect:C.props.focusOnSelect&&C.clickable?C.selectHandler:null});var B;if(C.props.dots===!0&&C.state.slideCount>=C.props.slidesToShow){var Q=(0,r.extractObject)(A,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ot=C.props.pauseOnDotsHover;Q=_(_({},Q),{},{clickHandler:C.changeSlide,onMouseEnter:ot?C.onDotsLeave:null,onMouseOver:ot?C.onDotsOver:null,onMouseLeave:ot?C.onDotsLeave:null}),B=n.default.createElement(l.Dots,Q)}var st,ct,wt=(0,r.extractObject)(A,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);wt.clickHandler=C.changeSlide,C.props.arrows&&(st=n.default.createElement(c.PrevArrow,wt),ct=n.default.createElement(c.NextArrow,wt));var _t=null;C.props.vertical&&(_t={height:C.state.listHeight});var xt=null;C.props.vertical===!1?C.props.centerMode===!0&&(xt={padding:"0px "+C.props.centerPadding}):C.props.centerMode===!0&&(xt={padding:C.props.centerPadding+" 0px"});var It=_(_({},_t),xt),Ut=C.props.touchMove,Ct={className:"slick-list",style:It,onClick:C.clickHandler,onMouseDown:Ut?C.swipeStart:null,onMouseMove:C.state.dragging&&Ut?C.swipeMove:null,onMouseUp:Ut?C.swipeEnd:null,onMouseLeave:C.state.dragging&&Ut?C.swipeEnd:null,onTouchStart:Ut?C.swipeStart:null,onTouchMove:C.state.dragging&&Ut?C.swipeMove:null,onTouchEnd:Ut?C.touchEnd:null,onTouchCancel:C.state.dragging&&Ut?C.swipeEnd:null,onKeyDown:C.props.accessibility?C.keyHandler:null},At={className:X,dir:"ltr",style:C.props.style};return C.props.unslick&&(Ct={className:"slick-list"},At={className:X,style:C.props.style}),n.default.createElement("div",At,C.props.unslick?"":st,n.default.createElement("div",m({ref:C.listRefHandler},Ct),n.default.createElement(a.Track,m({ref:C.trackRefHandler},P),C.props.children)),C.props.unslick?"":ct,C.props.unslick?"":B)}),C.list=null,C.track=null,C.state=_(_({},t.default),{},{currentSlide:C.props.initialSlide,targetSlide:C.props.initialSlide?C.props.initialSlide:0,slideCount:n.default.Children.count(C.props.children)}),C.callbackTimers=[],C.clickable=!0,C.debouncedResize=null;var J=C.ssrInit();return C.state=_(_({},C.state),J),C}return T(Y,[{key:"didPropsChange",value:function(C){for(var J=!1,X=0,A=Object.keys(this.props);X<A.length;X++){var P=A[X];if(!C.hasOwnProperty(P)){J=!0;break}if(!(p(C[P])==="object"||typeof C[P]=="function"||isNaN(C[P]))&&C[P]!==this.props[P]){J=!0;break}}return J||n.default.Children.count(this.props.children)!==n.default.Children.count(C.children)}}]),Y})(n.default.Component),nc}var hg,Pw;function Rq(){if(Pw)return hg;Pw=1;var n=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()};return hg=n,hg}var fg,jw;function Mq(){if(jw)return fg;jw=1;var n=Rq(),t=function(r){var a=/[height|width]$/;return a.test(r)},e=function(r){var a="",l=Object.keys(r);return l.forEach(function(c,d){var h=r[c];c=n(c),t(c)&&typeof h=="number"&&(h=h+"px"),h===!0?a+=c:h===!1?a+="not "+c:a+="("+c+": "+h+")",d<l.length-1&&(a+=" and ")}),a},i=function(r){var a="";return typeof r=="string"?r:r instanceof Array?(r.forEach(function(l,c){a+=e(l),c<r.length-1&&(a+=", ")}),a):e(r)};return fg=i,fg}var Bw;function Nq(){return Bw||(Bw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=l(tr()),e=Oq(),i=l(Mq()),r=l(cT()),a=tu();function l(j){return j&&j.__esModule?j:{default:j}}function c(j){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},c(j)}function d(){return d=Object.assign?Object.assign.bind():function(j){for(var N=1;N<arguments.length;N++){var L=arguments[N];for(var I in L)({}).hasOwnProperty.call(L,I)&&(j[I]=L[I])}return j},d.apply(null,arguments)}function h(j,N){var L=Object.keys(j);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(j);N&&(I=I.filter(function(H){return Object.getOwnPropertyDescriptor(j,H).enumerable})),L.push.apply(L,I)}return L}function p(j){for(var N=1;N<arguments.length;N++){var L=arguments[N]!=null?arguments[N]:{};N%2?h(Object(L),!0).forEach(function(I){O(j,I,L[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(L)):h(Object(L)).forEach(function(I){Object.defineProperty(j,I,Object.getOwnPropertyDescriptor(L,I))})}return j}function m(j,N){if(!(j instanceof N))throw new TypeError("Cannot call a class as a function")}function y(j,N){for(var L=0;L<N.length;L++){var I=N[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(j,R(I.key),I)}}function b(j,N,L){return N&&y(j.prototype,N),Object.defineProperty(j,"prototype",{writable:!1}),j}function S(j,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(N&&N.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),N&&_(j,N)}function _(j,N){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,I){return L.__proto__=I,L},_(j,N)}function E(j){var N=k();return function(){var L,I=F(j);if(N){var H=F(this).constructor;L=Reflect.construct(I,arguments,H)}else L=I.apply(this,arguments);return w(this,L)}}function w(j,N){if(N&&(c(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(j)}function T(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function k(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k=function(){return!!j})()}function F(j){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},F(j)}function O(j,N,L){return(N=R(N))in j?Object.defineProperty(j,N,{value:L,enumerable:!0,configurable:!0,writable:!0}):j[N]=L,j}function R(j){var N=D(j,"string");return c(N)=="symbol"?N:N+""}function D(j,N){if(c(j)!="object"||!j)return j;var L=j[Symbol.toPrimitive];if(L!==void 0){var I=L.call(j,N);if(c(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(j)}n.default=(function(j){S(L,j);var N=E(L);function L(I){var H;return m(this,L),H=N.call(this,I),O(T(H),"innerSliderRefHandler",function(q){return H.innerSlider=q}),O(T(H),"slickPrev",function(){return H.innerSlider.slickPrev()}),O(T(H),"slickNext",function(){return H.innerSlider.slickNext()}),O(T(H),"slickGoTo",function(q){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return H.innerSlider.slickGoTo(q,G)}),O(T(H),"slickPause",function(){return H.innerSlider.pause("paused")}),O(T(H),"slickPlay",function(){return H.innerSlider.autoPlay("play")}),H.state={breakpoint:null},H._responsiveMediaHandlers=[],H}return b(L,[{key:"media",value:function(H,q){var G=window.matchMedia(H),Y=function(C){var J=C.matches;J&&q()};G.addListener(Y),this._responsiveMediaHandlers.push({mql:G,query:H,listener:Y})}},{key:"componentDidMount",value:function(){var H=this;if(this.props.responsive){var q=this.props.responsive.map(function(Y){return Y.breakpoint});q.sort(function(Y,U){return Y-U}),q.forEach(function(Y,U){var C;U===0?C=(0,i.default)({minWidth:0,maxWidth:Y}):C=(0,i.default)({minWidth:q[U-1]+1,maxWidth:Y}),(0,a.canUseDOM)()&&H.media(C,function(){H.setState({breakpoint:Y})})});var G=(0,i.default)({minWidth:q.slice(-1)[0]});(0,a.canUseDOM)()&&this.media(G,function(){H.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(H){H.mql.removeListener(H.listener)})}},{key:"render",value:function(){var H=this,q,G;this.state.breakpoint?(G=this.props.responsive.filter(function(Q){return Q.breakpoint===H.state.breakpoint}),q=G[0].settings==="unslick"?"unslick":p(p(p({},r.default),this.props),G[0].settings)):q=p(p({},r.default),this.props),q.centerMode&&(q.slidesToScroll>1,q.slidesToScroll=1),q.fade&&(q.slidesToShow>1,q.slidesToScroll>1,q.slidesToShow=1,q.slidesToScroll=1);var Y=t.default.Children.toArray(this.props.children);Y=Y.filter(function(Q){return typeof Q=="string"?!!Q.trim():!!Q}),q.variableWidth&&(q.rows>1||q.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),q.variableWidth=!1);for(var U=[],C=null,J=0;J<Y.length;J+=q.rows*q.slidesPerRow){for(var X=[],A=J;A<J+q.rows*q.slidesPerRow;A+=q.slidesPerRow){for(var P=[],V=A;V<A+q.slidesPerRow&&(q.variableWidth&&Y[V].props.style&&(C=Y[V].props.style.width),!(V>=Y.length));V+=1)P.push(t.default.cloneElement(Y[V],{key:100*J+10*A+V,tabIndex:-1,style:{width:"".concat(100/q.slidesPerRow,"%"),display:"inline-block"}}));X.push(t.default.createElement("div",{key:10*J+A},P))}q.variableWidth?U.push(t.default.createElement("div",{key:J,style:{width:C}},X)):U.push(t.default.createElement("div",{key:J},X))}if(q==="unslick"){var B="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:B},Y)}else U.length<=q.slidesToShow&&(q.unslick=!0);return t.default.createElement(e.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,a.filterSettings)(q)),U)}}]),L})(t.default.Component)})(og)),og}var Fw;function Dq(){return Fw||(Fw=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(Nq());function e(i){return i&&i.__esModule?i:{default:i}}n.default=t.default})(ag)),ag}var Lq=Dq();const Pq=Uo(Lq),jq="_container_166ef_1",Bq="_title_166ef_7",Fq="_subtitle_166ef_13",Iq="_button_166ef_19",zq="_head_166ef_49",aa={container:jq,title:Bq,subtitle:Fq,button:Iq,head:zq},Uq="_card_3jt6y_1",Hq="_title_3jt6y_41",$q="_content_3jt6y_50",qq="_image_3jt6y_58",Vq="_text_3jt6y_66",sc={card:Uq,title:Hq,content:$q,image:qq,text:Vq},Gq=({title:n,color:t,image:e,text:i})=>x.jsxs("div",{className:sc.card,style:{backgroundColor:t},children:[x.jsx("h3",{className:sc.title,children:n}),x.jsxs("div",{className:sc.content,children:[x.jsx("img",{src:e,alt:n,className:sc.image}),x.jsx("p",{className:sc.text,children:i})]})]}),Xq=()=>{const n=[{title:"Matching",color:"#FFDAD6",image:"https://cdn-icons-png.flaticon.com/512/616/616408.png"},{title:"Expert Solutions",color:"#C6F7E2",image:"https://cdn-icons-png.flaticon.com/512/2920/2920214.png"},{title:"Memorization",color:"#C7E9FB",image:"https://cdn-icons-png.flaticon.com/512/2830/2830308.png"},{title:"Flashcards",color:"#5A4FF3",image:"https://cdn-icons-png.flaticon.com/512/821/821484.png"},{title:"Definitions",color:"#FFF0C9",image:"https://cdn-icons-png.flaticon.com/512/2721/2721298.png"},{title:"Practice Tests",color:"#E9D8FD",image:"https://cdn-icons-png.flaticon.com/512/2593/2593448.png"},{title:"Diagrams",color:"#FEE2E2",image:"https://cdn-icons-png.flaticon.com/512/3075/3075977.png"},{title:"Games",color:"#DCFCE7",image:"https://cdn-icons-png.flaticon.com/512/2784/2784463.png"},{title:"Study Plan",color:"#FEF9C3",image:"https://cdn-icons-png.flaticon.com/512/3707/3707225.png"},{title:"Notes",color:"#FDE68A",image:"https://cdn-icons-png.flaticon.com/512/1828/1828911.png"}],t={dots:!0,infinite:!0,speed:400,slidesToShow:5,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},e=Vo();return x.jsxs("div",{className:aa.container,children:[x.jsxs("div",{className:aa.head,children:[x.jsx("h1",{className:aa.title,children:"How do you want to study?"}),x.jsx("p",{className:aa.subtitle,children:"Master any material using interactive Study Buddy."}),x.jsxs("button",{className:aa.button,onClick:()=>e("/register"),children:["Sign up"," "]})]}),x.jsx("div",{className:aa.sliderContainer,children:x.jsx(Pq,{...t,children:n.map((i,r)=>x.jsx("div",{className:aa.slide,children:x.jsx(Gq,{...i})},r))})})]})},Yq="_section_1ts4w_1",Wq="_reverse_1ts4w_10",Kq="_imageWrapper_1ts4w_14",Zq="_image_1ts4w_14",Qq="_textContent_1ts4w_27",Jq="_title_1ts4w_32",tV="_description_1ts4w_39",eV="_button_1ts4w_46",Rs={section:Yq,reverse:Wq,imageWrapper:Kq,image:Zq,textContent:Qq,title:Jq,description:tV,button:eV},nV=({title:n,description:t,buttonText:e,image:i,reverse:r=!1,bgColor:a="#f5f7fb"})=>x.jsxs("section",{className:`${Rs.section} ${r?Rs.reverse:""}`,style:{backgroundColor:a},children:[x.jsx("div",{className:Rs.imageWrapper,children:x.jsx("img",{src:i,alt:n,className:Rs.image})}),x.jsxs("div",{className:Rs.textContent,children:[x.jsx("h2",{className:Rs.title,children:n}),x.jsx("p",{className:Rs.description,children:t}),x.jsx("button",{className:Rs.button,children:e})]})]}),iV="/Study-Buddy/assets/introImg1-DudReclK.png",Iw="/Study-Buddy/assets/introImg2-BAv0_6N1.png",rV=()=>{const n=[{title:"Choose how you want to study",description:"Turn flashcards into multiple-choice questions and more using Study Mode. Strengthen your knowledge with fun learning games like Matching.",buttonText:"Start",image:Iw,bgColor:"#f9faff",reverse:!1},{title:"Master concepts efficiently",description:"Practice smarter, not harder. Get instant feedback and detailed explanations as you learn key terms.",buttonText:"Try Now",image:iV,bgColor:"#f5f7fb",reverse:!0},{title:"Track your progress",description:"Stay motivated with visual progress charts and personalized study recommendations based on your performance.",buttonText:"View Progress",image:Iw,bgColor:"#f9f9ff",reverse:!1}];return x.jsxs(x.Fragment,{children:[x.jsx(xc,{}),x.jsxs(Rg,{children:[x.jsx(Xq,{}),n.map((t,e)=>x.jsx(nV,{title:t.title,description:t.description,buttonText:t.buttonText,image:t.image,bgColor:t.bgColor,reverse:t.reverse},e))]})]})};function sV(){const{fileId:n}=my();return x.jsxs("div",{style:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",background:"#fafafa",padding:"40px 0"},children:[x.jsx("h1",{style:{marginBottom:"20px"},children:"PDF Viewer"}),x.jsx("div",{style:{width:"90%",maxWidth:"1000px",background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:"8px",padding:"20px"},children:x.jsx(TC,{fileId:n,fileName:`File ${n}`,height:"80vh"})})]})}const pg=({children:n})=>{const{isLoggedIn:t}=Dc(e=>e.auth);return t?n:x.jsx(Ww,{to:"/login",replace:!0})},mg=({children:n})=>{const{isLoggedIn:t}=Dc(e=>e.auth);return t?x.jsx(Ww,{to:"/",replace:!0}):n};function aV(){return x.jsxs("div",{className:"h-screen flex items-center justify-center",children:[x.jsxs(RO,{children:[x.jsx(oa,{path:"/welcome",element:x.jsx(mg,{children:x.jsx(rV,{})})}),x.jsx(oa,{path:"/login",element:x.jsx(mg,{children:x.jsx(ix,{})})}),x.jsx(oa,{path:"/register",element:x.jsx(mg,{children:x.jsx(ix,{isRegister:!0})})}),x.jsx(oa,{path:"/test/:fileId",element:x.jsx(pg,{children:x.jsx(sV,{})})}),x.jsx(oa,{path:"/",element:x.jsx(pg,{children:x.jsx(VB,{})})}),x.jsx(oa,{path:"/modules/:moduleId",element:x.jsx(pg,{children:x.jsx(iq,{})})})]}),x.jsx(i3,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}Ik.createRoot(document.getElementById("root")).render(x.jsx($.StrictMode,{children:x.jsx(JO,{basename:"/Study-Buddy",children:x.jsx(ER,{store:aD,children:x.jsx(aV,{})})})}));
